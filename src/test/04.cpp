// AutoGenerated using codegent_tests.py
// Based on https://github.com/SingleStepTests/sm83
// File: 04.json
#include <catch2/catch_test_macros.hpp>
#include "Cpu.h"

TEST_CASE( "04 0000", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39227;
    cpu.sp = 41151;
    cpu.reg.a = 125;
    cpu.reg.b = 86;
    cpu.reg.c = 182;
    cpu.reg.d = 23;
    cpu.reg.e = 236;
    cpu.reg.f = 0;
    cpu.reg.h = 167;
    cpu.reg.l = 96;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[39227] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 125);
    CHECK(cpu.reg.b == 87);
    CHECK(cpu.reg.c == 182);
    CHECK(cpu.reg.d == 23);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 167);
    CHECK(cpu.reg.l == 96);
    CHECK(cpu.pc == 39228);
    CHECK(cpu.sp == 41151);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39227] == 4);
}

TEST_CASE( "04 0001", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59711;
    cpu.sp = 28986;
    cpu.reg.a = 50;
    cpu.reg.b = 242;
    cpu.reg.c = 132;
    cpu.reg.d = 238;
    cpu.reg.e = 176;
    cpu.reg.f = 128;
    cpu.reg.h = 107;
    cpu.reg.l = 248;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[59711] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 50);
    CHECK(cpu.reg.b == 243);
    CHECK(cpu.reg.c == 132);
    CHECK(cpu.reg.d == 238);
    CHECK(cpu.reg.e == 176);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 107);
    CHECK(cpu.reg.l == 248);
    CHECK(cpu.pc == 59712);
    CHECK(cpu.sp == 28986);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[59711] == 4);
}

TEST_CASE( "04 0002", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20404;
    cpu.sp = 51871;
    cpu.reg.a = 104;
    cpu.reg.b = 115;
    cpu.reg.c = 177;
    cpu.reg.d = 159;
    cpu.reg.e = 32;
    cpu.reg.f = 80;
    cpu.reg.h = 137;
    cpu.reg.l = 192;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[20404] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 104);
    CHECK(cpu.reg.b == 116);
    CHECK(cpu.reg.c == 177);
    CHECK(cpu.reg.d == 159);
    CHECK(cpu.reg.e == 32);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 137);
    CHECK(cpu.reg.l == 192);
    CHECK(cpu.pc == 20405);
    CHECK(cpu.sp == 51871);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[20404] == 4);
}

TEST_CASE( "04 0003", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26108;
    cpu.sp = 16671;
    cpu.reg.a = 143;
    cpu.reg.b = 155;
    cpu.reg.c = 107;
    cpu.reg.d = 88;
    cpu.reg.e = 109;
    cpu.reg.f = 48;
    cpu.reg.h = 136;
    cpu.reg.l = 229;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[26108] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 143);
    CHECK(cpu.reg.b == 156);
    CHECK(cpu.reg.c == 107);
    CHECK(cpu.reg.d == 88);
    CHECK(cpu.reg.e == 109);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 136);
    CHECK(cpu.reg.l == 229);
    CHECK(cpu.pc == 26109);
    CHECK(cpu.sp == 16671);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26108] == 4);
}

TEST_CASE( "04 0004", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44587;
    cpu.sp = 34194;
    cpu.reg.a = 121;
    cpu.reg.b = 238;
    cpu.reg.c = 87;
    cpu.reg.d = 255;
    cpu.reg.e = 225;
    cpu.reg.f = 128;
    cpu.reg.h = 213;
    cpu.reg.l = 81;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[44587] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 121);
    CHECK(cpu.reg.b == 239);
    CHECK(cpu.reg.c == 87);
    CHECK(cpu.reg.d == 255);
    CHECK(cpu.reg.e == 225);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 213);
    CHECK(cpu.reg.l == 81);
    CHECK(cpu.pc == 44588);
    CHECK(cpu.sp == 34194);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44587] == 4);
}

TEST_CASE( "04 0005", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64803;
    cpu.sp = 32001;
    cpu.reg.a = 149;
    cpu.reg.b = 200;
    cpu.reg.c = 11;
    cpu.reg.d = 174;
    cpu.reg.e = 137;
    cpu.reg.f = 80;
    cpu.reg.h = 65;
    cpu.reg.l = 23;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[64803] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 149);
    CHECK(cpu.reg.b == 201);
    CHECK(cpu.reg.c == 11);
    CHECK(cpu.reg.d == 174);
    CHECK(cpu.reg.e == 137);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 65);
    CHECK(cpu.reg.l == 23);
    CHECK(cpu.pc == 64804);
    CHECK(cpu.sp == 32001);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64803] == 4);
}

TEST_CASE( "04 0006", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36901;
    cpu.sp = 33765;
    cpu.reg.a = 147;
    cpu.reg.b = 223;
    cpu.reg.c = 207;
    cpu.reg.d = 127;
    cpu.reg.e = 169;
    cpu.reg.f = 48;
    cpu.reg.h = 216;
    cpu.reg.l = 100;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[36901] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 147);
    CHECK(cpu.reg.b == 224);
    CHECK(cpu.reg.c == 207);
    CHECK(cpu.reg.d == 127);
    CHECK(cpu.reg.e == 169);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 216);
    CHECK(cpu.reg.l == 100);
    CHECK(cpu.pc == 36902);
    CHECK(cpu.sp == 33765);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36901] == 4);
}

TEST_CASE( "04 0007", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27773;
    cpu.sp = 48609;
    cpu.reg.a = 127;
    cpu.reg.b = 190;
    cpu.reg.c = 253;
    cpu.reg.d = 141;
    cpu.reg.e = 78;
    cpu.reg.f = 112;
    cpu.reg.h = 169;
    cpu.reg.l = 231;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[27773] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 127);
    CHECK(cpu.reg.b == 191);
    CHECK(cpu.reg.c == 253);
    CHECK(cpu.reg.d == 141);
    CHECK(cpu.reg.e == 78);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 169);
    CHECK(cpu.reg.l == 231);
    CHECK(cpu.pc == 27774);
    CHECK(cpu.sp == 48609);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27773] == 4);
}

TEST_CASE( "04 0008", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2003;
    cpu.sp = 60370;
    cpu.reg.a = 218;
    cpu.reg.b = 117;
    cpu.reg.c = 27;
    cpu.reg.d = 144;
    cpu.reg.e = 177;
    cpu.reg.f = 96;
    cpu.reg.h = 240;
    cpu.reg.l = 176;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[2003] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 218);
    CHECK(cpu.reg.b == 118);
    CHECK(cpu.reg.c == 27);
    CHECK(cpu.reg.d == 144);
    CHECK(cpu.reg.e == 177);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 240);
    CHECK(cpu.reg.l == 176);
    CHECK(cpu.pc == 2004);
    CHECK(cpu.sp == 60370);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2003] == 4);
}

TEST_CASE( "04 0009", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15427;
    cpu.sp = 23243;
    cpu.reg.a = 92;
    cpu.reg.b = 247;
    cpu.reg.c = 145;
    cpu.reg.d = 247;
    cpu.reg.e = 183;
    cpu.reg.f = 32;
    cpu.reg.h = 167;
    cpu.reg.l = 5;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[15427] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 92);
    CHECK(cpu.reg.b == 248);
    CHECK(cpu.reg.c == 145);
    CHECK(cpu.reg.d == 247);
    CHECK(cpu.reg.e == 183);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 167);
    CHECK(cpu.reg.l == 5);
    CHECK(cpu.pc == 15428);
    CHECK(cpu.sp == 23243);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15427] == 4);
}

TEST_CASE( "04 000A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53583;
    cpu.sp = 39075;
    cpu.reg.a = 100;
    cpu.reg.b = 30;
    cpu.reg.c = 4;
    cpu.reg.d = 231;
    cpu.reg.e = 30;
    cpu.reg.f = 16;
    cpu.reg.h = 206;
    cpu.reg.l = 87;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[53583] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 100);
    CHECK(cpu.reg.b == 31);
    CHECK(cpu.reg.c == 4);
    CHECK(cpu.reg.d == 231);
    CHECK(cpu.reg.e == 30);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 206);
    CHECK(cpu.reg.l == 87);
    CHECK(cpu.pc == 53584);
    CHECK(cpu.sp == 39075);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[53583] == 4);
}

TEST_CASE( "04 000B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23843;
    cpu.sp = 42232;
    cpu.reg.a = 14;
    cpu.reg.b = 197;
    cpu.reg.c = 10;
    cpu.reg.d = 236;
    cpu.reg.e = 43;
    cpu.reg.f = 80;
    cpu.reg.h = 138;
    cpu.reg.l = 227;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[23843] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 14);
    CHECK(cpu.reg.b == 198);
    CHECK(cpu.reg.c == 10);
    CHECK(cpu.reg.d == 236);
    CHECK(cpu.reg.e == 43);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 138);
    CHECK(cpu.reg.l == 227);
    CHECK(cpu.pc == 23844);
    CHECK(cpu.sp == 42232);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23843] == 4);
}

TEST_CASE( "04 000C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49424;
    cpu.sp = 63273;
    cpu.reg.a = 97;
    cpu.reg.b = 2;
    cpu.reg.c = 39;
    cpu.reg.d = 142;
    cpu.reg.e = 93;
    cpu.reg.f = 160;
    cpu.reg.h = 80;
    cpu.reg.l = 240;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[49424] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 97);
    CHECK(cpu.reg.b == 3);
    CHECK(cpu.reg.c == 39);
    CHECK(cpu.reg.d == 142);
    CHECK(cpu.reg.e == 93);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 80);
    CHECK(cpu.reg.l == 240);
    CHECK(cpu.pc == 49425);
    CHECK(cpu.sp == 63273);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49424] == 4);
}

TEST_CASE( "04 000D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30069;
    cpu.sp = 18908;
    cpu.reg.a = 18;
    cpu.reg.b = 172;
    cpu.reg.c = 240;
    cpu.reg.d = 212;
    cpu.reg.e = 50;
    cpu.reg.f = 0;
    cpu.reg.h = 37;
    cpu.reg.l = 83;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[30069] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 18);
    CHECK(cpu.reg.b == 173);
    CHECK(cpu.reg.c == 240);
    CHECK(cpu.reg.d == 212);
    CHECK(cpu.reg.e == 50);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 37);
    CHECK(cpu.reg.l == 83);
    CHECK(cpu.pc == 30070);
    CHECK(cpu.sp == 18908);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30069] == 4);
}

TEST_CASE( "04 000E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37728;
    cpu.sp = 17339;
    cpu.reg.a = 154;
    cpu.reg.b = 95;
    cpu.reg.c = 99;
    cpu.reg.d = 147;
    cpu.reg.e = 65;
    cpu.reg.f = 128;
    cpu.reg.h = 165;
    cpu.reg.l = 189;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[37728] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 154);
    CHECK(cpu.reg.b == 96);
    CHECK(cpu.reg.c == 99);
    CHECK(cpu.reg.d == 147);
    CHECK(cpu.reg.e == 65);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 165);
    CHECK(cpu.reg.l == 189);
    CHECK(cpu.pc == 37729);
    CHECK(cpu.sp == 17339);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[37728] == 4);
}

TEST_CASE( "04 000F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35316;
    cpu.sp = 25062;
    cpu.reg.a = 97;
    cpu.reg.b = 86;
    cpu.reg.c = 62;
    cpu.reg.d = 243;
    cpu.reg.e = 121;
    cpu.reg.f = 144;
    cpu.reg.h = 215;
    cpu.reg.l = 50;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[35316] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 97);
    CHECK(cpu.reg.b == 87);
    CHECK(cpu.reg.c == 62);
    CHECK(cpu.reg.d == 243);
    CHECK(cpu.reg.e == 121);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 215);
    CHECK(cpu.reg.l == 50);
    CHECK(cpu.pc == 35317);
    CHECK(cpu.sp == 25062);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35316] == 4);
}

TEST_CASE( "04 0010", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25106;
    cpu.sp = 8178;
    cpu.reg.a = 116;
    cpu.reg.b = 64;
    cpu.reg.c = 55;
    cpu.reg.d = 223;
    cpu.reg.e = 134;
    cpu.reg.f = 240;
    cpu.reg.h = 250;
    cpu.reg.l = 108;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[25106] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 116);
    CHECK(cpu.reg.b == 65);
    CHECK(cpu.reg.c == 55);
    CHECK(cpu.reg.d == 223);
    CHECK(cpu.reg.e == 134);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 250);
    CHECK(cpu.reg.l == 108);
    CHECK(cpu.pc == 25107);
    CHECK(cpu.sp == 8178);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25106] == 4);
}

TEST_CASE( "04 0011", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3074;
    cpu.sp = 4683;
    cpu.reg.a = 146;
    cpu.reg.b = 174;
    cpu.reg.c = 95;
    cpu.reg.d = 54;
    cpu.reg.e = 144;
    cpu.reg.f = 0;
    cpu.reg.h = 75;
    cpu.reg.l = 169;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[3074] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 146);
    CHECK(cpu.reg.b == 175);
    CHECK(cpu.reg.c == 95);
    CHECK(cpu.reg.d == 54);
    CHECK(cpu.reg.e == 144);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 75);
    CHECK(cpu.reg.l == 169);
    CHECK(cpu.pc == 3075);
    CHECK(cpu.sp == 4683);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3074] == 4);
}

TEST_CASE( "04 0012", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35691;
    cpu.sp = 8591;
    cpu.reg.a = 153;
    cpu.reg.b = 69;
    cpu.reg.c = 255;
    cpu.reg.d = 20;
    cpu.reg.e = 88;
    cpu.reg.f = 48;
    cpu.reg.h = 26;
    cpu.reg.l = 60;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[35691] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 153);
    CHECK(cpu.reg.b == 70);
    CHECK(cpu.reg.c == 255);
    CHECK(cpu.reg.d == 20);
    CHECK(cpu.reg.e == 88);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 26);
    CHECK(cpu.reg.l == 60);
    CHECK(cpu.pc == 35692);
    CHECK(cpu.sp == 8591);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35691] == 4);
}

TEST_CASE( "04 0013", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40124;
    cpu.sp = 28431;
    cpu.reg.a = 152;
    cpu.reg.b = 198;
    cpu.reg.c = 34;
    cpu.reg.d = 98;
    cpu.reg.e = 40;
    cpu.reg.f = 112;
    cpu.reg.h = 114;
    cpu.reg.l = 200;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[40124] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 152);
    CHECK(cpu.reg.b == 199);
    CHECK(cpu.reg.c == 34);
    CHECK(cpu.reg.d == 98);
    CHECK(cpu.reg.e == 40);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 114);
    CHECK(cpu.reg.l == 200);
    CHECK(cpu.pc == 40125);
    CHECK(cpu.sp == 28431);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40124] == 4);
}

TEST_CASE( "04 0014", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33432;
    cpu.sp = 56396;
    cpu.reg.a = 140;
    cpu.reg.b = 3;
    cpu.reg.c = 91;
    cpu.reg.d = 40;
    cpu.reg.e = 1;
    cpu.reg.f = 96;
    cpu.reg.h = 216;
    cpu.reg.l = 82;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[33432] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 140);
    CHECK(cpu.reg.b == 4);
    CHECK(cpu.reg.c == 91);
    CHECK(cpu.reg.d == 40);
    CHECK(cpu.reg.e == 1);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 216);
    CHECK(cpu.reg.l == 82);
    CHECK(cpu.pc == 33433);
    CHECK(cpu.sp == 56396);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33432] == 4);
}

TEST_CASE( "04 0015", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22668;
    cpu.sp = 12284;
    cpu.reg.a = 125;
    cpu.reg.b = 170;
    cpu.reg.c = 249;
    cpu.reg.d = 92;
    cpu.reg.e = 137;
    cpu.reg.f = 176;
    cpu.reg.h = 152;
    cpu.reg.l = 109;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[22668] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 125);
    CHECK(cpu.reg.b == 171);
    CHECK(cpu.reg.c == 249);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 137);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 152);
    CHECK(cpu.reg.l == 109);
    CHECK(cpu.pc == 22669);
    CHECK(cpu.sp == 12284);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22668] == 4);
}

TEST_CASE( "04 0016", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25911;
    cpu.sp = 16472;
    cpu.reg.a = 178;
    cpu.reg.b = 104;
    cpu.reg.c = 147;
    cpu.reg.d = 117;
    cpu.reg.e = 183;
    cpu.reg.f = 240;
    cpu.reg.h = 52;
    cpu.reg.l = 51;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[25911] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 178);
    CHECK(cpu.reg.b == 105);
    CHECK(cpu.reg.c == 147);
    CHECK(cpu.reg.d == 117);
    CHECK(cpu.reg.e == 183);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 52);
    CHECK(cpu.reg.l == 51);
    CHECK(cpu.pc == 25912);
    CHECK(cpu.sp == 16472);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25911] == 4);
}

TEST_CASE( "04 0017", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1366;
    cpu.sp = 55154;
    cpu.reg.a = 77;
    cpu.reg.b = 203;
    cpu.reg.c = 239;
    cpu.reg.d = 205;
    cpu.reg.e = 223;
    cpu.reg.f = 224;
    cpu.reg.h = 157;
    cpu.reg.l = 135;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[1366] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 77);
    CHECK(cpu.reg.b == 204);
    CHECK(cpu.reg.c == 239);
    CHECK(cpu.reg.d == 205);
    CHECK(cpu.reg.e == 223);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 157);
    CHECK(cpu.reg.l == 135);
    CHECK(cpu.pc == 1367);
    CHECK(cpu.sp == 55154);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1366] == 4);
}

TEST_CASE( "04 0018", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46843;
    cpu.sp = 56295;
    cpu.reg.a = 107;
    cpu.reg.b = 136;
    cpu.reg.c = 5;
    cpu.reg.d = 5;
    cpu.reg.e = 164;
    cpu.reg.f = 144;
    cpu.reg.h = 89;
    cpu.reg.l = 50;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[46843] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 107);
    CHECK(cpu.reg.b == 137);
    CHECK(cpu.reg.c == 5);
    CHECK(cpu.reg.d == 5);
    CHECK(cpu.reg.e == 164);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 89);
    CHECK(cpu.reg.l == 50);
    CHECK(cpu.pc == 46844);
    CHECK(cpu.sp == 56295);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[46843] == 4);
}

TEST_CASE( "04 0019", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28719;
    cpu.sp = 62572;
    cpu.reg.a = 43;
    cpu.reg.b = 97;
    cpu.reg.c = 214;
    cpu.reg.d = 161;
    cpu.reg.e = 152;
    cpu.reg.f = 48;
    cpu.reg.h = 49;
    cpu.reg.l = 140;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[28719] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 43);
    CHECK(cpu.reg.b == 98);
    CHECK(cpu.reg.c == 214);
    CHECK(cpu.reg.d == 161);
    CHECK(cpu.reg.e == 152);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 49);
    CHECK(cpu.reg.l == 140);
    CHECK(cpu.pc == 28720);
    CHECK(cpu.sp == 62572);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[28719] == 4);
}

TEST_CASE( "04 001A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9760;
    cpu.sp = 11097;
    cpu.reg.a = 49;
    cpu.reg.b = 156;
    cpu.reg.c = 186;
    cpu.reg.d = 252;
    cpu.reg.e = 33;
    cpu.reg.f = 0;
    cpu.reg.h = 76;
    cpu.reg.l = 29;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[9760] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 49);
    CHECK(cpu.reg.b == 157);
    CHECK(cpu.reg.c == 186);
    CHECK(cpu.reg.d == 252);
    CHECK(cpu.reg.e == 33);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 76);
    CHECK(cpu.reg.l == 29);
    CHECK(cpu.pc == 9761);
    CHECK(cpu.sp == 11097);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9760] == 4);
}

TEST_CASE( "04 001B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3360;
    cpu.sp = 12991;
    cpu.reg.a = 116;
    cpu.reg.b = 215;
    cpu.reg.c = 131;
    cpu.reg.d = 7;
    cpu.reg.e = 12;
    cpu.reg.f = 112;
    cpu.reg.h = 245;
    cpu.reg.l = 49;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[3360] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 116);
    CHECK(cpu.reg.b == 216);
    CHECK(cpu.reg.c == 131);
    CHECK(cpu.reg.d == 7);
    CHECK(cpu.reg.e == 12);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 245);
    CHECK(cpu.reg.l == 49);
    CHECK(cpu.pc == 3361);
    CHECK(cpu.sp == 12991);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3360] == 4);
}

TEST_CASE( "04 001C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58186;
    cpu.sp = 7194;
    cpu.reg.a = 153;
    cpu.reg.b = 222;
    cpu.reg.c = 7;
    cpu.reg.d = 247;
    cpu.reg.e = 93;
    cpu.reg.f = 96;
    cpu.reg.h = 169;
    cpu.reg.l = 152;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[58186] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 153);
    CHECK(cpu.reg.b == 223);
    CHECK(cpu.reg.c == 7);
    CHECK(cpu.reg.d == 247);
    CHECK(cpu.reg.e == 93);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 169);
    CHECK(cpu.reg.l == 152);
    CHECK(cpu.pc == 58187);
    CHECK(cpu.sp == 7194);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58186] == 4);
}

TEST_CASE( "04 001D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15737;
    cpu.sp = 62040;
    cpu.reg.a = 197;
    cpu.reg.b = 118;
    cpu.reg.c = 65;
    cpu.reg.d = 208;
    cpu.reg.e = 44;
    cpu.reg.f = 16;
    cpu.reg.h = 87;
    cpu.reg.l = 196;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[15737] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 197);
    CHECK(cpu.reg.b == 119);
    CHECK(cpu.reg.c == 65);
    CHECK(cpu.reg.d == 208);
    CHECK(cpu.reg.e == 44);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 87);
    CHECK(cpu.reg.l == 196);
    CHECK(cpu.pc == 15738);
    CHECK(cpu.sp == 62040);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15737] == 4);
}

TEST_CASE( "04 001E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27202;
    cpu.sp = 29036;
    cpu.reg.a = 222;
    cpu.reg.b = 44;
    cpu.reg.c = 90;
    cpu.reg.d = 58;
    cpu.reg.e = 8;
    cpu.reg.f = 112;
    cpu.reg.h = 210;
    cpu.reg.l = 190;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[27202] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 222);
    CHECK(cpu.reg.b == 45);
    CHECK(cpu.reg.c == 90);
    CHECK(cpu.reg.d == 58);
    CHECK(cpu.reg.e == 8);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 210);
    CHECK(cpu.reg.l == 190);
    CHECK(cpu.pc == 27203);
    CHECK(cpu.sp == 29036);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27202] == 4);
}

TEST_CASE( "04 001F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50836;
    cpu.sp = 21163;
    cpu.reg.a = 48;
    cpu.reg.b = 150;
    cpu.reg.c = 59;
    cpu.reg.d = 211;
    cpu.reg.e = 198;
    cpu.reg.f = 0;
    cpu.reg.h = 119;
    cpu.reg.l = 163;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[50836] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 48);
    CHECK(cpu.reg.b == 151);
    CHECK(cpu.reg.c == 59);
    CHECK(cpu.reg.d == 211);
    CHECK(cpu.reg.e == 198);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 119);
    CHECK(cpu.reg.l == 163);
    CHECK(cpu.pc == 50837);
    CHECK(cpu.sp == 21163);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50836] == 4);
}

TEST_CASE( "04 0020", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6212;
    cpu.sp = 15531;
    cpu.reg.a = 106;
    cpu.reg.b = 110;
    cpu.reg.c = 108;
    cpu.reg.d = 208;
    cpu.reg.e = 142;
    cpu.reg.f = 208;
    cpu.reg.h = 27;
    cpu.reg.l = 110;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[6212] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 106);
    CHECK(cpu.reg.b == 111);
    CHECK(cpu.reg.c == 108);
    CHECK(cpu.reg.d == 208);
    CHECK(cpu.reg.e == 142);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 27);
    CHECK(cpu.reg.l == 110);
    CHECK(cpu.pc == 6213);
    CHECK(cpu.sp == 15531);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6212] == 4);
}

TEST_CASE( "04 0021", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14315;
    cpu.sp = 35299;
    cpu.reg.a = 64;
    cpu.reg.b = 190;
    cpu.reg.c = 187;
    cpu.reg.d = 92;
    cpu.reg.e = 126;
    cpu.reg.f = 0;
    cpu.reg.h = 254;
    cpu.reg.l = 150;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[14315] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 191);
    CHECK(cpu.reg.c == 187);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 126);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 254);
    CHECK(cpu.reg.l == 150);
    CHECK(cpu.pc == 14316);
    CHECK(cpu.sp == 35299);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14315] == 4);
}

TEST_CASE( "04 0022", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25647;
    cpu.sp = 47035;
    cpu.reg.a = 119;
    cpu.reg.b = 14;
    cpu.reg.c = 169;
    cpu.reg.d = 160;
    cpu.reg.e = 36;
    cpu.reg.f = 80;
    cpu.reg.h = 27;
    cpu.reg.l = 180;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[25647] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 119);
    CHECK(cpu.reg.b == 15);
    CHECK(cpu.reg.c == 169);
    CHECK(cpu.reg.d == 160);
    CHECK(cpu.reg.e == 36);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 27);
    CHECK(cpu.reg.l == 180);
    CHECK(cpu.pc == 25648);
    CHECK(cpu.sp == 47035);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25647] == 4);
}

TEST_CASE( "04 0023", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20155;
    cpu.sp = 29771;
    cpu.reg.a = 26;
    cpu.reg.b = 36;
    cpu.reg.c = 210;
    cpu.reg.d = 15;
    cpu.reg.e = 129;
    cpu.reg.f = 0;
    cpu.reg.h = 60;
    cpu.reg.l = 36;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[20155] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 26);
    CHECK(cpu.reg.b == 37);
    CHECK(cpu.reg.c == 210);
    CHECK(cpu.reg.d == 15);
    CHECK(cpu.reg.e == 129);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 60);
    CHECK(cpu.reg.l == 36);
    CHECK(cpu.pc == 20156);
    CHECK(cpu.sp == 29771);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[20155] == 4);
}

TEST_CASE( "04 0024", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34009;
    cpu.sp = 39255;
    cpu.reg.a = 150;
    cpu.reg.b = 42;
    cpu.reg.c = 252;
    cpu.reg.d = 57;
    cpu.reg.e = 62;
    cpu.reg.f = 176;
    cpu.reg.h = 252;
    cpu.reg.l = 231;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[34009] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 150);
    CHECK(cpu.reg.b == 43);
    CHECK(cpu.reg.c == 252);
    CHECK(cpu.reg.d == 57);
    CHECK(cpu.reg.e == 62);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 252);
    CHECK(cpu.reg.l == 231);
    CHECK(cpu.pc == 34010);
    CHECK(cpu.sp == 39255);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34009] == 4);
}

TEST_CASE( "04 0025", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48672;
    cpu.sp = 39897;
    cpu.reg.a = 126;
    cpu.reg.b = 167;
    cpu.reg.c = 210;
    cpu.reg.d = 163;
    cpu.reg.e = 236;
    cpu.reg.f = 192;
    cpu.reg.h = 200;
    cpu.reg.l = 11;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[48672] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 126);
    CHECK(cpu.reg.b == 168);
    CHECK(cpu.reg.c == 210);
    CHECK(cpu.reg.d == 163);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 200);
    CHECK(cpu.reg.l == 11);
    CHECK(cpu.pc == 48673);
    CHECK(cpu.sp == 39897);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48672] == 4);
}

TEST_CASE( "04 0026", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56242;
    cpu.sp = 43359;
    cpu.reg.a = 176;
    cpu.reg.b = 166;
    cpu.reg.c = 216;
    cpu.reg.d = 222;
    cpu.reg.e = 89;
    cpu.reg.f = 144;
    cpu.reg.h = 253;
    cpu.reg.l = 129;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[56242] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 176);
    CHECK(cpu.reg.b == 167);
    CHECK(cpu.reg.c == 216);
    CHECK(cpu.reg.d == 222);
    CHECK(cpu.reg.e == 89);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 253);
    CHECK(cpu.reg.l == 129);
    CHECK(cpu.pc == 56243);
    CHECK(cpu.sp == 43359);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56242] == 4);
}

TEST_CASE( "04 0027", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18432;
    cpu.sp = 53925;
    cpu.reg.a = 86;
    cpu.reg.b = 248;
    cpu.reg.c = 252;
    cpu.reg.d = 41;
    cpu.reg.e = 152;
    cpu.reg.f = 48;
    cpu.reg.h = 203;
    cpu.reg.l = 230;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[18432] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 86);
    CHECK(cpu.reg.b == 249);
    CHECK(cpu.reg.c == 252);
    CHECK(cpu.reg.d == 41);
    CHECK(cpu.reg.e == 152);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 203);
    CHECK(cpu.reg.l == 230);
    CHECK(cpu.pc == 18433);
    CHECK(cpu.sp == 53925);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18432] == 4);
}

TEST_CASE( "04 0028", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45130;
    cpu.sp = 15631;
    cpu.reg.a = 147;
    cpu.reg.b = 197;
    cpu.reg.c = 133;
    cpu.reg.d = 44;
    cpu.reg.e = 55;
    cpu.reg.f = 128;
    cpu.reg.h = 171;
    cpu.reg.l = 108;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[45130] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 147);
    CHECK(cpu.reg.b == 198);
    CHECK(cpu.reg.c == 133);
    CHECK(cpu.reg.d == 44);
    CHECK(cpu.reg.e == 55);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 171);
    CHECK(cpu.reg.l == 108);
    CHECK(cpu.pc == 45131);
    CHECK(cpu.sp == 15631);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45130] == 4);
}

TEST_CASE( "04 0029", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23660;
    cpu.sp = 28435;
    cpu.reg.a = 138;
    cpu.reg.b = 192;
    cpu.reg.c = 167;
    cpu.reg.d = 232;
    cpu.reg.e = 19;
    cpu.reg.f = 112;
    cpu.reg.h = 234;
    cpu.reg.l = 76;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[23660] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 138);
    CHECK(cpu.reg.b == 193);
    CHECK(cpu.reg.c == 167);
    CHECK(cpu.reg.d == 232);
    CHECK(cpu.reg.e == 19);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 234);
    CHECK(cpu.reg.l == 76);
    CHECK(cpu.pc == 23661);
    CHECK(cpu.sp == 28435);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23660] == 4);
}

TEST_CASE( "04 002A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9929;
    cpu.sp = 61676;
    cpu.reg.a = 179;
    cpu.reg.b = 228;
    cpu.reg.c = 31;
    cpu.reg.d = 227;
    cpu.reg.e = 153;
    cpu.reg.f = 144;
    cpu.reg.h = 47;
    cpu.reg.l = 39;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[9929] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 179);
    CHECK(cpu.reg.b == 229);
    CHECK(cpu.reg.c == 31);
    CHECK(cpu.reg.d == 227);
    CHECK(cpu.reg.e == 153);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 47);
    CHECK(cpu.reg.l == 39);
    CHECK(cpu.pc == 9930);
    CHECK(cpu.sp == 61676);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9929] == 4);
}

TEST_CASE( "04 002B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10881;
    cpu.sp = 43780;
    cpu.reg.a = 173;
    cpu.reg.b = 212;
    cpu.reg.c = 251;
    cpu.reg.d = 129;
    cpu.reg.e = 1;
    cpu.reg.f = 192;
    cpu.reg.h = 23;
    cpu.reg.l = 215;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[10881] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 173);
    CHECK(cpu.reg.b == 213);
    CHECK(cpu.reg.c == 251);
    CHECK(cpu.reg.d == 129);
    CHECK(cpu.reg.e == 1);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 23);
    CHECK(cpu.reg.l == 215);
    CHECK(cpu.pc == 10882);
    CHECK(cpu.sp == 43780);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10881] == 4);
}

TEST_CASE( "04 002C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31230;
    cpu.sp = 8429;
    cpu.reg.a = 83;
    cpu.reg.b = 172;
    cpu.reg.c = 232;
    cpu.reg.d = 115;
    cpu.reg.e = 253;
    cpu.reg.f = 208;
    cpu.reg.h = 137;
    cpu.reg.l = 228;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[31230] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 83);
    CHECK(cpu.reg.b == 173);
    CHECK(cpu.reg.c == 232);
    CHECK(cpu.reg.d == 115);
    CHECK(cpu.reg.e == 253);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 137);
    CHECK(cpu.reg.l == 228);
    CHECK(cpu.pc == 31231);
    CHECK(cpu.sp == 8429);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31230] == 4);
}

TEST_CASE( "04 002D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64097;
    cpu.sp = 19459;
    cpu.reg.a = 55;
    cpu.reg.b = 250;
    cpu.reg.c = 95;
    cpu.reg.d = 63;
    cpu.reg.e = 123;
    cpu.reg.f = 144;
    cpu.reg.h = 114;
    cpu.reg.l = 94;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[64097] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 55);
    CHECK(cpu.reg.b == 251);
    CHECK(cpu.reg.c == 95);
    CHECK(cpu.reg.d == 63);
    CHECK(cpu.reg.e == 123);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 114);
    CHECK(cpu.reg.l == 94);
    CHECK(cpu.pc == 64098);
    CHECK(cpu.sp == 19459);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[64097] == 4);
}

TEST_CASE( "04 002E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50069;
    cpu.sp = 49682;
    cpu.reg.a = 151;
    cpu.reg.b = 237;
    cpu.reg.c = 57;
    cpu.reg.d = 39;
    cpu.reg.e = 176;
    cpu.reg.f = 240;
    cpu.reg.h = 118;
    cpu.reg.l = 185;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[50069] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 151);
    CHECK(cpu.reg.b == 238);
    CHECK(cpu.reg.c == 57);
    CHECK(cpu.reg.d == 39);
    CHECK(cpu.reg.e == 176);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 118);
    CHECK(cpu.reg.l == 185);
    CHECK(cpu.pc == 50070);
    CHECK(cpu.sp == 49682);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50069] == 4);
}

TEST_CASE( "04 002F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24920;
    cpu.sp = 16117;
    cpu.reg.a = 5;
    cpu.reg.b = 207;
    cpu.reg.c = 14;
    cpu.reg.d = 90;
    cpu.reg.e = 162;
    cpu.reg.f = 112;
    cpu.reg.h = 136;
    cpu.reg.l = 209;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[24920] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 5);
    CHECK(cpu.reg.b == 208);
    CHECK(cpu.reg.c == 14);
    CHECK(cpu.reg.d == 90);
    CHECK(cpu.reg.e == 162);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 136);
    CHECK(cpu.reg.l == 209);
    CHECK(cpu.pc == 24921);
    CHECK(cpu.sp == 16117);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24920] == 4);
}

TEST_CASE( "04 0030", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57773;
    cpu.sp = 1064;
    cpu.reg.a = 235;
    cpu.reg.b = 84;
    cpu.reg.c = 209;
    cpu.reg.d = 154;
    cpu.reg.e = 128;
    cpu.reg.f = 224;
    cpu.reg.h = 87;
    cpu.reg.l = 44;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[57773] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 235);
    CHECK(cpu.reg.b == 85);
    CHECK(cpu.reg.c == 209);
    CHECK(cpu.reg.d == 154);
    CHECK(cpu.reg.e == 128);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 87);
    CHECK(cpu.reg.l == 44);
    CHECK(cpu.pc == 57774);
    CHECK(cpu.sp == 1064);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[57773] == 4);
}

TEST_CASE( "04 0031", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54898;
    cpu.sp = 2606;
    cpu.reg.a = 77;
    cpu.reg.b = 67;
    cpu.reg.c = 134;
    cpu.reg.d = 108;
    cpu.reg.e = 2;
    cpu.reg.f = 80;
    cpu.reg.h = 52;
    cpu.reg.l = 199;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[54898] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 77);
    CHECK(cpu.reg.b == 68);
    CHECK(cpu.reg.c == 134);
    CHECK(cpu.reg.d == 108);
    CHECK(cpu.reg.e == 2);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 52);
    CHECK(cpu.reg.l == 199);
    CHECK(cpu.pc == 54899);
    CHECK(cpu.sp == 2606);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54898] == 4);
}

TEST_CASE( "04 0032", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44809;
    cpu.sp = 6914;
    cpu.reg.a = 23;
    cpu.reg.b = 109;
    cpu.reg.c = 81;
    cpu.reg.d = 45;
    cpu.reg.e = 102;
    cpu.reg.f = 16;
    cpu.reg.h = 2;
    cpu.reg.l = 217;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[44809] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 23);
    CHECK(cpu.reg.b == 110);
    CHECK(cpu.reg.c == 81);
    CHECK(cpu.reg.d == 45);
    CHECK(cpu.reg.e == 102);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 2);
    CHECK(cpu.reg.l == 217);
    CHECK(cpu.pc == 44810);
    CHECK(cpu.sp == 6914);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44809] == 4);
}

TEST_CASE( "04 0033", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9416;
    cpu.sp = 3340;
    cpu.reg.a = 249;
    cpu.reg.b = 215;
    cpu.reg.c = 251;
    cpu.reg.d = 129;
    cpu.reg.e = 248;
    cpu.reg.f = 32;
    cpu.reg.h = 230;
    cpu.reg.l = 139;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[9416] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 249);
    CHECK(cpu.reg.b == 216);
    CHECK(cpu.reg.c == 251);
    CHECK(cpu.reg.d == 129);
    CHECK(cpu.reg.e == 248);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 230);
    CHECK(cpu.reg.l == 139);
    CHECK(cpu.pc == 9417);
    CHECK(cpu.sp == 3340);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9416] == 4);
}

TEST_CASE( "04 0034", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34836;
    cpu.sp = 32278;
    cpu.reg.a = 208;
    cpu.reg.b = 211;
    cpu.reg.c = 203;
    cpu.reg.d = 90;
    cpu.reg.e = 15;
    cpu.reg.f = 96;
    cpu.reg.h = 234;
    cpu.reg.l = 134;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[34836] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 208);
    CHECK(cpu.reg.b == 212);
    CHECK(cpu.reg.c == 203);
    CHECK(cpu.reg.d == 90);
    CHECK(cpu.reg.e == 15);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 234);
    CHECK(cpu.reg.l == 134);
    CHECK(cpu.pc == 34837);
    CHECK(cpu.sp == 32278);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[34836] == 4);
}

TEST_CASE( "04 0035", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46229;
    cpu.sp = 62403;
    cpu.reg.a = 71;
    cpu.reg.b = 5;
    cpu.reg.c = 26;
    cpu.reg.d = 105;
    cpu.reg.e = 22;
    cpu.reg.f = 160;
    cpu.reg.h = 170;
    cpu.reg.l = 34;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[46229] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 71);
    CHECK(cpu.reg.b == 6);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 105);
    CHECK(cpu.reg.e == 22);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 170);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 46230);
    CHECK(cpu.sp == 62403);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46229] == 4);
}

TEST_CASE( "04 0036", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38017;
    cpu.sp = 13115;
    cpu.reg.a = 39;
    cpu.reg.b = 139;
    cpu.reg.c = 62;
    cpu.reg.d = 173;
    cpu.reg.e = 243;
    cpu.reg.f = 144;
    cpu.reg.h = 252;
    cpu.reg.l = 3;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[38017] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 39);
    CHECK(cpu.reg.b == 140);
    CHECK(cpu.reg.c == 62);
    CHECK(cpu.reg.d == 173);
    CHECK(cpu.reg.e == 243);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 252);
    CHECK(cpu.reg.l == 3);
    CHECK(cpu.pc == 38018);
    CHECK(cpu.sp == 13115);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38017] == 4);
}

TEST_CASE( "04 0037", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50966;
    cpu.sp = 37812;
    cpu.reg.a = 214;
    cpu.reg.b = 241;
    cpu.reg.c = 239;
    cpu.reg.d = 224;
    cpu.reg.e = 219;
    cpu.reg.f = 224;
    cpu.reg.h = 227;
    cpu.reg.l = 12;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[50966] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 214);
    CHECK(cpu.reg.b == 242);
    CHECK(cpu.reg.c == 239);
    CHECK(cpu.reg.d == 224);
    CHECK(cpu.reg.e == 219);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 12);
    CHECK(cpu.pc == 50967);
    CHECK(cpu.sp == 37812);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[50966] == 4);
}

TEST_CASE( "04 0038", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55492;
    cpu.sp = 38655;
    cpu.reg.a = 250;
    cpu.reg.b = 67;
    cpu.reg.c = 54;
    cpu.reg.d = 205;
    cpu.reg.e = 109;
    cpu.reg.f = 32;
    cpu.reg.h = 97;
    cpu.reg.l = 121;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[55492] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 250);
    CHECK(cpu.reg.b == 68);
    CHECK(cpu.reg.c == 54);
    CHECK(cpu.reg.d == 205);
    CHECK(cpu.reg.e == 109);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 97);
    CHECK(cpu.reg.l == 121);
    CHECK(cpu.pc == 55493);
    CHECK(cpu.sp == 38655);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[55492] == 4);
}

TEST_CASE( "04 0039", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53301;
    cpu.sp = 13986;
    cpu.reg.a = 195;
    cpu.reg.b = 60;
    cpu.reg.c = 192;
    cpu.reg.d = 196;
    cpu.reg.e = 132;
    cpu.reg.f = 0;
    cpu.reg.h = 163;
    cpu.reg.l = 115;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[53301] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 195);
    CHECK(cpu.reg.b == 61);
    CHECK(cpu.reg.c == 192);
    CHECK(cpu.reg.d == 196);
    CHECK(cpu.reg.e == 132);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 163);
    CHECK(cpu.reg.l == 115);
    CHECK(cpu.pc == 53302);
    CHECK(cpu.sp == 13986);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[53301] == 4);
}

TEST_CASE( "04 003A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2754;
    cpu.sp = 49357;
    cpu.reg.a = 234;
    cpu.reg.b = 233;
    cpu.reg.c = 72;
    cpu.reg.d = 223;
    cpu.reg.e = 141;
    cpu.reg.f = 96;
    cpu.reg.h = 183;
    cpu.reg.l = 179;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[2754] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 234);
    CHECK(cpu.reg.b == 234);
    CHECK(cpu.reg.c == 72);
    CHECK(cpu.reg.d == 223);
    CHECK(cpu.reg.e == 141);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 183);
    CHECK(cpu.reg.l == 179);
    CHECK(cpu.pc == 2755);
    CHECK(cpu.sp == 49357);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2754] == 4);
}

TEST_CASE( "04 003B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62217;
    cpu.sp = 42367;
    cpu.reg.a = 222;
    cpu.reg.b = 139;
    cpu.reg.c = 37;
    cpu.reg.d = 95;
    cpu.reg.e = 1;
    cpu.reg.f = 128;
    cpu.reg.h = 241;
    cpu.reg.l = 230;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[62217] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 222);
    CHECK(cpu.reg.b == 140);
    CHECK(cpu.reg.c == 37);
    CHECK(cpu.reg.d == 95);
    CHECK(cpu.reg.e == 1);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 230);
    CHECK(cpu.pc == 62218);
    CHECK(cpu.sp == 42367);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[62217] == 4);
}

TEST_CASE( "04 003C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19437;
    cpu.sp = 60891;
    cpu.reg.a = 48;
    cpu.reg.b = 142;
    cpu.reg.c = 238;
    cpu.reg.d = 198;
    cpu.reg.e = 167;
    cpu.reg.f = 160;
    cpu.reg.h = 40;
    cpu.reg.l = 184;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[19437] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 48);
    CHECK(cpu.reg.b == 143);
    CHECK(cpu.reg.c == 238);
    CHECK(cpu.reg.d == 198);
    CHECK(cpu.reg.e == 167);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 40);
    CHECK(cpu.reg.l == 184);
    CHECK(cpu.pc == 19438);
    CHECK(cpu.sp == 60891);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19437] == 4);
}

TEST_CASE( "04 003D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14612;
    cpu.sp = 30845;
    cpu.reg.a = 189;
    cpu.reg.b = 237;
    cpu.reg.c = 239;
    cpu.reg.d = 141;
    cpu.reg.e = 86;
    cpu.reg.f = 160;
    cpu.reg.h = 166;
    cpu.reg.l = 171;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[14612] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 189);
    CHECK(cpu.reg.b == 238);
    CHECK(cpu.reg.c == 239);
    CHECK(cpu.reg.d == 141);
    CHECK(cpu.reg.e == 86);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 166);
    CHECK(cpu.reg.l == 171);
    CHECK(cpu.pc == 14613);
    CHECK(cpu.sp == 30845);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14612] == 4);
}

TEST_CASE( "04 003E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46398;
    cpu.sp = 45632;
    cpu.reg.a = 142;
    cpu.reg.b = 124;
    cpu.reg.c = 211;
    cpu.reg.d = 34;
    cpu.reg.e = 85;
    cpu.reg.f = 112;
    cpu.reg.h = 171;
    cpu.reg.l = 74;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[46398] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 142);
    CHECK(cpu.reg.b == 125);
    CHECK(cpu.reg.c == 211);
    CHECK(cpu.reg.d == 34);
    CHECK(cpu.reg.e == 85);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 171);
    CHECK(cpu.reg.l == 74);
    CHECK(cpu.pc == 46399);
    CHECK(cpu.sp == 45632);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[46398] == 4);
}

TEST_CASE( "04 003F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21478;
    cpu.sp = 46197;
    cpu.reg.a = 67;
    cpu.reg.b = 162;
    cpu.reg.c = 227;
    cpu.reg.d = 24;
    cpu.reg.e = 248;
    cpu.reg.f = 192;
    cpu.reg.h = 7;
    cpu.reg.l = 103;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[21478] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 67);
    CHECK(cpu.reg.b == 163);
    CHECK(cpu.reg.c == 227);
    CHECK(cpu.reg.d == 24);
    CHECK(cpu.reg.e == 248);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 7);
    CHECK(cpu.reg.l == 103);
    CHECK(cpu.pc == 21479);
    CHECK(cpu.sp == 46197);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21478] == 4);
}

TEST_CASE( "04 0040", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62468;
    cpu.sp = 21615;
    cpu.reg.a = 173;
    cpu.reg.b = 23;
    cpu.reg.c = 194;
    cpu.reg.d = 182;
    cpu.reg.e = 80;
    cpu.reg.f = 208;
    cpu.reg.h = 159;
    cpu.reg.l = 65;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[62468] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 173);
    CHECK(cpu.reg.b == 24);
    CHECK(cpu.reg.c == 194);
    CHECK(cpu.reg.d == 182);
    CHECK(cpu.reg.e == 80);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 159);
    CHECK(cpu.reg.l == 65);
    CHECK(cpu.pc == 62469);
    CHECK(cpu.sp == 21615);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[62468] == 4);
}

TEST_CASE( "04 0041", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56896;
    cpu.sp = 54128;
    cpu.reg.a = 250;
    cpu.reg.b = 32;
    cpu.reg.c = 104;
    cpu.reg.d = 144;
    cpu.reg.e = 157;
    cpu.reg.f = 176;
    cpu.reg.h = 74;
    cpu.reg.l = 222;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[56896] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 250);
    CHECK(cpu.reg.b == 33);
    CHECK(cpu.reg.c == 104);
    CHECK(cpu.reg.d == 144);
    CHECK(cpu.reg.e == 157);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 74);
    CHECK(cpu.reg.l == 222);
    CHECK(cpu.pc == 56897);
    CHECK(cpu.sp == 54128);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56896] == 4);
}

TEST_CASE( "04 0042", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27328;
    cpu.sp = 3430;
    cpu.reg.a = 143;
    cpu.reg.b = 181;
    cpu.reg.c = 247;
    cpu.reg.d = 179;
    cpu.reg.e = 44;
    cpu.reg.f = 176;
    cpu.reg.h = 173;
    cpu.reg.l = 220;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[27328] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 143);
    CHECK(cpu.reg.b == 182);
    CHECK(cpu.reg.c == 247);
    CHECK(cpu.reg.d == 179);
    CHECK(cpu.reg.e == 44);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 173);
    CHECK(cpu.reg.l == 220);
    CHECK(cpu.pc == 27329);
    CHECK(cpu.sp == 3430);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27328] == 4);
}

TEST_CASE( "04 0043", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58123;
    cpu.sp = 26313;
    cpu.reg.a = 103;
    cpu.reg.b = 121;
    cpu.reg.c = 35;
    cpu.reg.d = 209;
    cpu.reg.e = 12;
    cpu.reg.f = 208;
    cpu.reg.h = 216;
    cpu.reg.l = 45;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[58123] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 103);
    CHECK(cpu.reg.b == 122);
    CHECK(cpu.reg.c == 35);
    CHECK(cpu.reg.d == 209);
    CHECK(cpu.reg.e == 12);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 216);
    CHECK(cpu.reg.l == 45);
    CHECK(cpu.pc == 58124);
    CHECK(cpu.sp == 26313);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58123] == 4);
}

TEST_CASE( "04 0044", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13155;
    cpu.sp = 11073;
    cpu.reg.a = 56;
    cpu.reg.b = 119;
    cpu.reg.c = 177;
    cpu.reg.d = 197;
    cpu.reg.e = 79;
    cpu.reg.f = 32;
    cpu.reg.h = 84;
    cpu.reg.l = 230;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[13155] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 56);
    CHECK(cpu.reg.b == 120);
    CHECK(cpu.reg.c == 177);
    CHECK(cpu.reg.d == 197);
    CHECK(cpu.reg.e == 79);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 84);
    CHECK(cpu.reg.l == 230);
    CHECK(cpu.pc == 13156);
    CHECK(cpu.sp == 11073);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13155] == 4);
}

TEST_CASE( "04 0045", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60218;
    cpu.sp = 21984;
    cpu.reg.a = 121;
    cpu.reg.b = 126;
    cpu.reg.c = 235;
    cpu.reg.d = 108;
    cpu.reg.e = 75;
    cpu.reg.f = 48;
    cpu.reg.h = 225;
    cpu.reg.l = 183;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[60218] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 121);
    CHECK(cpu.reg.b == 127);
    CHECK(cpu.reg.c == 235);
    CHECK(cpu.reg.d == 108);
    CHECK(cpu.reg.e == 75);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 225);
    CHECK(cpu.reg.l == 183);
    CHECK(cpu.pc == 60219);
    CHECK(cpu.sp == 21984);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[60218] == 4);
}

TEST_CASE( "04 0046", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48611;
    cpu.sp = 62226;
    cpu.reg.a = 45;
    cpu.reg.b = 70;
    cpu.reg.c = 162;
    cpu.reg.d = 57;
    cpu.reg.e = 228;
    cpu.reg.f = 176;
    cpu.reg.h = 131;
    cpu.reg.l = 9;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[48611] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 45);
    CHECK(cpu.reg.b == 71);
    CHECK(cpu.reg.c == 162);
    CHECK(cpu.reg.d == 57);
    CHECK(cpu.reg.e == 228);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 131);
    CHECK(cpu.reg.l == 9);
    CHECK(cpu.pc == 48612);
    CHECK(cpu.sp == 62226);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[48611] == 4);
}

TEST_CASE( "04 0047", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11558;
    cpu.sp = 12514;
    cpu.reg.a = 149;
    cpu.reg.b = 54;
    cpu.reg.c = 99;
    cpu.reg.d = 233;
    cpu.reg.e = 220;
    cpu.reg.f = 144;
    cpu.reg.h = 161;
    cpu.reg.l = 222;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[11558] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 149);
    CHECK(cpu.reg.b == 55);
    CHECK(cpu.reg.c == 99);
    CHECK(cpu.reg.d == 233);
    CHECK(cpu.reg.e == 220);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 161);
    CHECK(cpu.reg.l == 222);
    CHECK(cpu.pc == 11559);
    CHECK(cpu.sp == 12514);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11558] == 4);
}

TEST_CASE( "04 0048", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30121;
    cpu.sp = 55885;
    cpu.reg.a = 175;
    cpu.reg.b = 6;
    cpu.reg.c = 221;
    cpu.reg.d = 236;
    cpu.reg.e = 35;
    cpu.reg.f = 176;
    cpu.reg.h = 54;
    cpu.reg.l = 12;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[30121] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 175);
    CHECK(cpu.reg.b == 7);
    CHECK(cpu.reg.c == 221);
    CHECK(cpu.reg.d == 236);
    CHECK(cpu.reg.e == 35);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 54);
    CHECK(cpu.reg.l == 12);
    CHECK(cpu.pc == 30122);
    CHECK(cpu.sp == 55885);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30121] == 4);
}

TEST_CASE( "04 0049", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51616;
    cpu.sp = 29839;
    cpu.reg.a = 116;
    cpu.reg.b = 173;
    cpu.reg.c = 39;
    cpu.reg.d = 187;
    cpu.reg.e = 78;
    cpu.reg.f = 224;
    cpu.reg.h = 55;
    cpu.reg.l = 73;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[51616] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 116);
    CHECK(cpu.reg.b == 174);
    CHECK(cpu.reg.c == 39);
    CHECK(cpu.reg.d == 187);
    CHECK(cpu.reg.e == 78);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 55);
    CHECK(cpu.reg.l == 73);
    CHECK(cpu.pc == 51617);
    CHECK(cpu.sp == 29839);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[51616] == 4);
}

TEST_CASE( "04 004A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33553;
    cpu.sp = 37242;
    cpu.reg.a = 231;
    cpu.reg.b = 145;
    cpu.reg.c = 79;
    cpu.reg.d = 245;
    cpu.reg.e = 62;
    cpu.reg.f = 112;
    cpu.reg.h = 18;
    cpu.reg.l = 28;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[33553] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 231);
    CHECK(cpu.reg.b == 146);
    CHECK(cpu.reg.c == 79);
    CHECK(cpu.reg.d == 245);
    CHECK(cpu.reg.e == 62);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 18);
    CHECK(cpu.reg.l == 28);
    CHECK(cpu.pc == 33554);
    CHECK(cpu.sp == 37242);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33553] == 4);
}

TEST_CASE( "04 004B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31853;
    cpu.sp = 63894;
    cpu.reg.a = 129;
    cpu.reg.b = 171;
    cpu.reg.c = 181;
    cpu.reg.d = 15;
    cpu.reg.e = 197;
    cpu.reg.f = 0;
    cpu.reg.h = 242;
    cpu.reg.l = 76;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[31853] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 129);
    CHECK(cpu.reg.b == 172);
    CHECK(cpu.reg.c == 181);
    CHECK(cpu.reg.d == 15);
    CHECK(cpu.reg.e == 197);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 76);
    CHECK(cpu.pc == 31854);
    CHECK(cpu.sp == 63894);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31853] == 4);
}

TEST_CASE( "04 004C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50413;
    cpu.sp = 63241;
    cpu.reg.a = 84;
    cpu.reg.b = 176;
    cpu.reg.c = 187;
    cpu.reg.d = 212;
    cpu.reg.e = 138;
    cpu.reg.f = 64;
    cpu.reg.h = 161;
    cpu.reg.l = 89;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[50413] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 84);
    CHECK(cpu.reg.b == 177);
    CHECK(cpu.reg.c == 187);
    CHECK(cpu.reg.d == 212);
    CHECK(cpu.reg.e == 138);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 161);
    CHECK(cpu.reg.l == 89);
    CHECK(cpu.pc == 50414);
    CHECK(cpu.sp == 63241);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50413] == 4);
}

TEST_CASE( "04 004D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52149;
    cpu.sp = 42303;
    cpu.reg.a = 229;
    cpu.reg.b = 31;
    cpu.reg.c = 70;
    cpu.reg.d = 74;
    cpu.reg.e = 31;
    cpu.reg.f = 144;
    cpu.reg.h = 1;
    cpu.reg.l = 59;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[52149] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 229);
    CHECK(cpu.reg.b == 32);
    CHECK(cpu.reg.c == 70);
    CHECK(cpu.reg.d == 74);
    CHECK(cpu.reg.e == 31);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 1);
    CHECK(cpu.reg.l == 59);
    CHECK(cpu.pc == 52150);
    CHECK(cpu.sp == 42303);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[52149] == 4);
}

TEST_CASE( "04 004E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11671;
    cpu.sp = 49523;
    cpu.reg.a = 30;
    cpu.reg.b = 62;
    cpu.reg.c = 186;
    cpu.reg.d = 120;
    cpu.reg.e = 112;
    cpu.reg.f = 240;
    cpu.reg.h = 199;
    cpu.reg.l = 48;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[11671] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 30);
    CHECK(cpu.reg.b == 63);
    CHECK(cpu.reg.c == 186);
    CHECK(cpu.reg.d == 120);
    CHECK(cpu.reg.e == 112);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 199);
    CHECK(cpu.reg.l == 48);
    CHECK(cpu.pc == 11672);
    CHECK(cpu.sp == 49523);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11671] == 4);
}

TEST_CASE( "04 004F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10176;
    cpu.sp = 61031;
    cpu.reg.a = 82;
    cpu.reg.b = 106;
    cpu.reg.c = 58;
    cpu.reg.d = 79;
    cpu.reg.e = 88;
    cpu.reg.f = 32;
    cpu.reg.h = 230;
    cpu.reg.l = 240;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[10176] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 82);
    CHECK(cpu.reg.b == 107);
    CHECK(cpu.reg.c == 58);
    CHECK(cpu.reg.d == 79);
    CHECK(cpu.reg.e == 88);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 230);
    CHECK(cpu.reg.l == 240);
    CHECK(cpu.pc == 10177);
    CHECK(cpu.sp == 61031);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10176] == 4);
}

TEST_CASE( "04 0050", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28443;
    cpu.sp = 63561;
    cpu.reg.a = 226;
    cpu.reg.b = 46;
    cpu.reg.c = 134;
    cpu.reg.d = 193;
    cpu.reg.e = 117;
    cpu.reg.f = 176;
    cpu.reg.h = 14;
    cpu.reg.l = 191;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[28443] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 226);
    CHECK(cpu.reg.b == 47);
    CHECK(cpu.reg.c == 134);
    CHECK(cpu.reg.d == 193);
    CHECK(cpu.reg.e == 117);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 14);
    CHECK(cpu.reg.l == 191);
    CHECK(cpu.pc == 28444);
    CHECK(cpu.sp == 63561);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[28443] == 4);
}

TEST_CASE( "04 0051", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10229;
    cpu.sp = 42313;
    cpu.reg.a = 161;
    cpu.reg.b = 204;
    cpu.reg.c = 172;
    cpu.reg.d = 29;
    cpu.reg.e = 123;
    cpu.reg.f = 144;
    cpu.reg.h = 179;
    cpu.reg.l = 38;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[10229] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 161);
    CHECK(cpu.reg.b == 205);
    CHECK(cpu.reg.c == 172);
    CHECK(cpu.reg.d == 29);
    CHECK(cpu.reg.e == 123);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 179);
    CHECK(cpu.reg.l == 38);
    CHECK(cpu.pc == 10230);
    CHECK(cpu.sp == 42313);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10229] == 4);
}

TEST_CASE( "04 0052", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21251;
    cpu.sp = 33403;
    cpu.reg.a = 105;
    cpu.reg.b = 107;
    cpu.reg.c = 106;
    cpu.reg.d = 190;
    cpu.reg.e = 66;
    cpu.reg.f = 240;
    cpu.reg.h = 129;
    cpu.reg.l = 46;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[21251] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 105);
    CHECK(cpu.reg.b == 108);
    CHECK(cpu.reg.c == 106);
    CHECK(cpu.reg.d == 190);
    CHECK(cpu.reg.e == 66);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 129);
    CHECK(cpu.reg.l == 46);
    CHECK(cpu.pc == 21252);
    CHECK(cpu.sp == 33403);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21251] == 4);
}

TEST_CASE( "04 0053", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27216;
    cpu.sp = 55656;
    cpu.reg.a = 161;
    cpu.reg.b = 22;
    cpu.reg.c = 164;
    cpu.reg.d = 12;
    cpu.reg.e = 131;
    cpu.reg.f = 240;
    cpu.reg.h = 75;
    cpu.reg.l = 112;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[27216] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 161);
    CHECK(cpu.reg.b == 23);
    CHECK(cpu.reg.c == 164);
    CHECK(cpu.reg.d == 12);
    CHECK(cpu.reg.e == 131);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 75);
    CHECK(cpu.reg.l == 112);
    CHECK(cpu.pc == 27217);
    CHECK(cpu.sp == 55656);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27216] == 4);
}

TEST_CASE( "04 0054", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36138;
    cpu.sp = 52814;
    cpu.reg.a = 98;
    cpu.reg.b = 14;
    cpu.reg.c = 143;
    cpu.reg.d = 66;
    cpu.reg.e = 205;
    cpu.reg.f = 80;
    cpu.reg.h = 243;
    cpu.reg.l = 113;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[36138] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 98);
    CHECK(cpu.reg.b == 15);
    CHECK(cpu.reg.c == 143);
    CHECK(cpu.reg.d == 66);
    CHECK(cpu.reg.e == 205);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 243);
    CHECK(cpu.reg.l == 113);
    CHECK(cpu.pc == 36139);
    CHECK(cpu.sp == 52814);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[36138] == 4);
}

TEST_CASE( "04 0055", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23083;
    cpu.sp = 6508;
    cpu.reg.a = 128;
    cpu.reg.b = 216;
    cpu.reg.c = 139;
    cpu.reg.d = 12;
    cpu.reg.e = 92;
    cpu.reg.f = 160;
    cpu.reg.h = 63;
    cpu.reg.l = 85;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[23083] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 128);
    CHECK(cpu.reg.b == 217);
    CHECK(cpu.reg.c == 139);
    CHECK(cpu.reg.d == 12);
    CHECK(cpu.reg.e == 92);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 63);
    CHECK(cpu.reg.l == 85);
    CHECK(cpu.pc == 23084);
    CHECK(cpu.sp == 6508);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23083] == 4);
}

TEST_CASE( "04 0056", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30157;
    cpu.sp = 2717;
    cpu.reg.a = 215;
    cpu.reg.b = 54;
    cpu.reg.c = 106;
    cpu.reg.d = 150;
    cpu.reg.e = 79;
    cpu.reg.f = 192;
    cpu.reg.h = 193;
    cpu.reg.l = 225;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[30157] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 215);
    CHECK(cpu.reg.b == 55);
    CHECK(cpu.reg.c == 106);
    CHECK(cpu.reg.d == 150);
    CHECK(cpu.reg.e == 79);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 193);
    CHECK(cpu.reg.l == 225);
    CHECK(cpu.pc == 30158);
    CHECK(cpu.sp == 2717);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30157] == 4);
}

TEST_CASE( "04 0057", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6241;
    cpu.sp = 54712;
    cpu.reg.a = 108;
    cpu.reg.b = 79;
    cpu.reg.c = 72;
    cpu.reg.d = 108;
    cpu.reg.e = 162;
    cpu.reg.f = 160;
    cpu.reg.h = 81;
    cpu.reg.l = 98;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[6241] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 108);
    CHECK(cpu.reg.b == 80);
    CHECK(cpu.reg.c == 72);
    CHECK(cpu.reg.d == 108);
    CHECK(cpu.reg.e == 162);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 81);
    CHECK(cpu.reg.l == 98);
    CHECK(cpu.pc == 6242);
    CHECK(cpu.sp == 54712);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6241] == 4);
}

TEST_CASE( "04 0058", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7765;
    cpu.sp = 41292;
    cpu.reg.a = 45;
    cpu.reg.b = 206;
    cpu.reg.c = 232;
    cpu.reg.d = 33;
    cpu.reg.e = 116;
    cpu.reg.f = 80;
    cpu.reg.h = 42;
    cpu.reg.l = 81;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[7765] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 45);
    CHECK(cpu.reg.b == 207);
    CHECK(cpu.reg.c == 232);
    CHECK(cpu.reg.d == 33);
    CHECK(cpu.reg.e == 116);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 42);
    CHECK(cpu.reg.l == 81);
    CHECK(cpu.pc == 7766);
    CHECK(cpu.sp == 41292);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7765] == 4);
}

TEST_CASE( "04 0059", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16053;
    cpu.sp = 59612;
    cpu.reg.a = 92;
    cpu.reg.b = 90;
    cpu.reg.c = 32;
    cpu.reg.d = 230;
    cpu.reg.e = 1;
    cpu.reg.f = 0;
    cpu.reg.h = 250;
    cpu.reg.l = 196;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[16053] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 92);
    CHECK(cpu.reg.b == 91);
    CHECK(cpu.reg.c == 32);
    CHECK(cpu.reg.d == 230);
    CHECK(cpu.reg.e == 1);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 250);
    CHECK(cpu.reg.l == 196);
    CHECK(cpu.pc == 16054);
    CHECK(cpu.sp == 59612);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16053] == 4);
}

TEST_CASE( "04 005A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57987;
    cpu.sp = 32495;
    cpu.reg.a = 151;
    cpu.reg.b = 36;
    cpu.reg.c = 166;
    cpu.reg.d = 136;
    cpu.reg.e = 142;
    cpu.reg.f = 160;
    cpu.reg.h = 126;
    cpu.reg.l = 84;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[57987] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 151);
    CHECK(cpu.reg.b == 37);
    CHECK(cpu.reg.c == 166);
    CHECK(cpu.reg.d == 136);
    CHECK(cpu.reg.e == 142);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 126);
    CHECK(cpu.reg.l == 84);
    CHECK(cpu.pc == 57988);
    CHECK(cpu.sp == 32495);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[57987] == 4);
}

TEST_CASE( "04 005B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7040;
    cpu.sp = 12022;
    cpu.reg.a = 36;
    cpu.reg.b = 105;
    cpu.reg.c = 107;
    cpu.reg.d = 78;
    cpu.reg.e = 96;
    cpu.reg.f = 240;
    cpu.reg.h = 66;
    cpu.reg.l = 46;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[7040] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 36);
    CHECK(cpu.reg.b == 106);
    CHECK(cpu.reg.c == 107);
    CHECK(cpu.reg.d == 78);
    CHECK(cpu.reg.e == 96);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 66);
    CHECK(cpu.reg.l == 46);
    CHECK(cpu.pc == 7041);
    CHECK(cpu.sp == 12022);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7040] == 4);
}

TEST_CASE( "04 005C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33962;
    cpu.sp = 53667;
    cpu.reg.a = 76;
    cpu.reg.b = 149;
    cpu.reg.c = 158;
    cpu.reg.d = 241;
    cpu.reg.e = 50;
    cpu.reg.f = 224;
    cpu.reg.h = 98;
    cpu.reg.l = 168;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[33962] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 76);
    CHECK(cpu.reg.b == 150);
    CHECK(cpu.reg.c == 158);
    CHECK(cpu.reg.d == 241);
    CHECK(cpu.reg.e == 50);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 98);
    CHECK(cpu.reg.l == 168);
    CHECK(cpu.pc == 33963);
    CHECK(cpu.sp == 53667);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33962] == 4);
}

TEST_CASE( "04 005D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1663;
    cpu.sp = 57812;
    cpu.reg.a = 107;
    cpu.reg.b = 174;
    cpu.reg.c = 39;
    cpu.reg.d = 143;
    cpu.reg.e = 12;
    cpu.reg.f = 80;
    cpu.reg.h = 208;
    cpu.reg.l = 180;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[1663] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 107);
    CHECK(cpu.reg.b == 175);
    CHECK(cpu.reg.c == 39);
    CHECK(cpu.reg.d == 143);
    CHECK(cpu.reg.e == 12);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 208);
    CHECK(cpu.reg.l == 180);
    CHECK(cpu.pc == 1664);
    CHECK(cpu.sp == 57812);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1663] == 4);
}

TEST_CASE( "04 005E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50275;
    cpu.sp = 16422;
    cpu.reg.a = 40;
    cpu.reg.b = 94;
    cpu.reg.c = 138;
    cpu.reg.d = 195;
    cpu.reg.e = 11;
    cpu.reg.f = 176;
    cpu.reg.h = 27;
    cpu.reg.l = 99;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[50275] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 40);
    CHECK(cpu.reg.b == 95);
    CHECK(cpu.reg.c == 138);
    CHECK(cpu.reg.d == 195);
    CHECK(cpu.reg.e == 11);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 27);
    CHECK(cpu.reg.l == 99);
    CHECK(cpu.pc == 50276);
    CHECK(cpu.sp == 16422);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50275] == 4);
}

TEST_CASE( "04 005F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32123;
    cpu.sp = 38704;
    cpu.reg.a = 129;
    cpu.reg.b = 64;
    cpu.reg.c = 186;
    cpu.reg.d = 1;
    cpu.reg.e = 28;
    cpu.reg.f = 192;
    cpu.reg.h = 212;
    cpu.reg.l = 44;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[32123] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 129);
    CHECK(cpu.reg.b == 65);
    CHECK(cpu.reg.c == 186);
    CHECK(cpu.reg.d == 1);
    CHECK(cpu.reg.e == 28);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 212);
    CHECK(cpu.reg.l == 44);
    CHECK(cpu.pc == 32124);
    CHECK(cpu.sp == 38704);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32123] == 4);
}

TEST_CASE( "04 0060", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47245;
    cpu.sp = 41325;
    cpu.reg.a = 218;
    cpu.reg.b = 220;
    cpu.reg.c = 205;
    cpu.reg.d = 178;
    cpu.reg.e = 150;
    cpu.reg.f = 176;
    cpu.reg.h = 52;
    cpu.reg.l = 93;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[47245] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 218);
    CHECK(cpu.reg.b == 221);
    CHECK(cpu.reg.c == 205);
    CHECK(cpu.reg.d == 178);
    CHECK(cpu.reg.e == 150);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 52);
    CHECK(cpu.reg.l == 93);
    CHECK(cpu.pc == 47246);
    CHECK(cpu.sp == 41325);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[47245] == 4);
}

TEST_CASE( "04 0061", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62164;
    cpu.sp = 32930;
    cpu.reg.a = 237;
    cpu.reg.b = 157;
    cpu.reg.c = 25;
    cpu.reg.d = 28;
    cpu.reg.e = 245;
    cpu.reg.f = 208;
    cpu.reg.h = 118;
    cpu.reg.l = 252;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[62164] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 237);
    CHECK(cpu.reg.b == 158);
    CHECK(cpu.reg.c == 25);
    CHECK(cpu.reg.d == 28);
    CHECK(cpu.reg.e == 245);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 118);
    CHECK(cpu.reg.l == 252);
    CHECK(cpu.pc == 62165);
    CHECK(cpu.sp == 32930);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62164] == 4);
}

TEST_CASE( "04 0062", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61384;
    cpu.sp = 38899;
    cpu.reg.a = 246;
    cpu.reg.b = 151;
    cpu.reg.c = 117;
    cpu.reg.d = 48;
    cpu.reg.e = 168;
    cpu.reg.f = 240;
    cpu.reg.h = 144;
    cpu.reg.l = 115;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[61384] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 246);
    CHECK(cpu.reg.b == 152);
    CHECK(cpu.reg.c == 117);
    CHECK(cpu.reg.d == 48);
    CHECK(cpu.reg.e == 168);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 144);
    CHECK(cpu.reg.l == 115);
    CHECK(cpu.pc == 61385);
    CHECK(cpu.sp == 38899);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61384] == 4);
}

TEST_CASE( "04 0063", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24542;
    cpu.sp = 17248;
    cpu.reg.a = 235;
    cpu.reg.b = 111;
    cpu.reg.c = 127;
    cpu.reg.d = 227;
    cpu.reg.e = 135;
    cpu.reg.f = 16;
    cpu.reg.h = 37;
    cpu.reg.l = 123;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[24542] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 235);
    CHECK(cpu.reg.b == 112);
    CHECK(cpu.reg.c == 127);
    CHECK(cpu.reg.d == 227);
    CHECK(cpu.reg.e == 135);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 37);
    CHECK(cpu.reg.l == 123);
    CHECK(cpu.pc == 24543);
    CHECK(cpu.sp == 17248);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24542] == 4);
}

TEST_CASE( "04 0064", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27612;
    cpu.sp = 40931;
    cpu.reg.a = 107;
    cpu.reg.b = 133;
    cpu.reg.c = 116;
    cpu.reg.d = 100;
    cpu.reg.e = 160;
    cpu.reg.f = 112;
    cpu.reg.h = 22;
    cpu.reg.l = 69;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[27612] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 107);
    CHECK(cpu.reg.b == 134);
    CHECK(cpu.reg.c == 116);
    CHECK(cpu.reg.d == 100);
    CHECK(cpu.reg.e == 160);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 22);
    CHECK(cpu.reg.l == 69);
    CHECK(cpu.pc == 27613);
    CHECK(cpu.sp == 40931);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27612] == 4);
}

TEST_CASE( "04 0065", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64979;
    cpu.sp = 41543;
    cpu.reg.a = 80;
    cpu.reg.b = 62;
    cpu.reg.c = 144;
    cpu.reg.d = 15;
    cpu.reg.e = 28;
    cpu.reg.f = 144;
    cpu.reg.h = 87;
    cpu.reg.l = 123;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[64979] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 80);
    CHECK(cpu.reg.b == 63);
    CHECK(cpu.reg.c == 144);
    CHECK(cpu.reg.d == 15);
    CHECK(cpu.reg.e == 28);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 87);
    CHECK(cpu.reg.l == 123);
    CHECK(cpu.pc == 64980);
    CHECK(cpu.sp == 41543);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64979] == 4);
}

TEST_CASE( "04 0066", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37426;
    cpu.sp = 51747;
    cpu.reg.a = 50;
    cpu.reg.b = 172;
    cpu.reg.c = 199;
    cpu.reg.d = 134;
    cpu.reg.e = 175;
    cpu.reg.f = 0;
    cpu.reg.h = 204;
    cpu.reg.l = 204;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[37426] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 50);
    CHECK(cpu.reg.b == 173);
    CHECK(cpu.reg.c == 199);
    CHECK(cpu.reg.d == 134);
    CHECK(cpu.reg.e == 175);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 204);
    CHECK(cpu.reg.l == 204);
    CHECK(cpu.pc == 37427);
    CHECK(cpu.sp == 51747);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[37426] == 4);
}

TEST_CASE( "04 0067", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44263;
    cpu.sp = 54357;
    cpu.reg.a = 187;
    cpu.reg.b = 102;
    cpu.reg.c = 74;
    cpu.reg.d = 173;
    cpu.reg.e = 234;
    cpu.reg.f = 160;
    cpu.reg.h = 169;
    cpu.reg.l = 200;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[44263] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 187);
    CHECK(cpu.reg.b == 103);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 173);
    CHECK(cpu.reg.e == 234);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 169);
    CHECK(cpu.reg.l == 200);
    CHECK(cpu.pc == 44264);
    CHECK(cpu.sp == 54357);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44263] == 4);
}

TEST_CASE( "04 0068", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17723;
    cpu.sp = 57019;
    cpu.reg.a = 200;
    cpu.reg.b = 185;
    cpu.reg.c = 39;
    cpu.reg.d = 209;
    cpu.reg.e = 38;
    cpu.reg.f = 208;
    cpu.reg.h = 152;
    cpu.reg.l = 238;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[17723] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 200);
    CHECK(cpu.reg.b == 186);
    CHECK(cpu.reg.c == 39);
    CHECK(cpu.reg.d == 209);
    CHECK(cpu.reg.e == 38);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 152);
    CHECK(cpu.reg.l == 238);
    CHECK(cpu.pc == 17724);
    CHECK(cpu.sp == 57019);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17723] == 4);
}

TEST_CASE( "04 0069", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19868;
    cpu.sp = 49793;
    cpu.reg.a = 150;
    cpu.reg.b = 225;
    cpu.reg.c = 146;
    cpu.reg.d = 94;
    cpu.reg.e = 238;
    cpu.reg.f = 96;
    cpu.reg.h = 165;
    cpu.reg.l = 48;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[19868] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 150);
    CHECK(cpu.reg.b == 226);
    CHECK(cpu.reg.c == 146);
    CHECK(cpu.reg.d == 94);
    CHECK(cpu.reg.e == 238);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 165);
    CHECK(cpu.reg.l == 48);
    CHECK(cpu.pc == 19869);
    CHECK(cpu.sp == 49793);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19868] == 4);
}

TEST_CASE( "04 006A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62887;
    cpu.sp = 28428;
    cpu.reg.a = 31;
    cpu.reg.b = 135;
    cpu.reg.c = 79;
    cpu.reg.d = 43;
    cpu.reg.e = 213;
    cpu.reg.f = 80;
    cpu.reg.h = 209;
    cpu.reg.l = 21;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[62887] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 31);
    CHECK(cpu.reg.b == 136);
    CHECK(cpu.reg.c == 79);
    CHECK(cpu.reg.d == 43);
    CHECK(cpu.reg.e == 213);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 209);
    CHECK(cpu.reg.l == 21);
    CHECK(cpu.pc == 62888);
    CHECK(cpu.sp == 28428);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[62887] == 4);
}

TEST_CASE( "04 006B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50934;
    cpu.sp = 23822;
    cpu.reg.a = 120;
    cpu.reg.b = 30;
    cpu.reg.c = 254;
    cpu.reg.d = 40;
    cpu.reg.e = 46;
    cpu.reg.f = 32;
    cpu.reg.h = 28;
    cpu.reg.l = 18;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[50934] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 120);
    CHECK(cpu.reg.b == 31);
    CHECK(cpu.reg.c == 254);
    CHECK(cpu.reg.d == 40);
    CHECK(cpu.reg.e == 46);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 28);
    CHECK(cpu.reg.l == 18);
    CHECK(cpu.pc == 50935);
    CHECK(cpu.sp == 23822);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50934] == 4);
}

TEST_CASE( "04 006C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13603;
    cpu.sp = 8215;
    cpu.reg.a = 239;
    cpu.reg.b = 177;
    cpu.reg.c = 76;
    cpu.reg.d = 205;
    cpu.reg.e = 242;
    cpu.reg.f = 144;
    cpu.reg.h = 246;
    cpu.reg.l = 21;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[13603] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 239);
    CHECK(cpu.reg.b == 178);
    CHECK(cpu.reg.c == 76);
    CHECK(cpu.reg.d == 205);
    CHECK(cpu.reg.e == 242);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 246);
    CHECK(cpu.reg.l == 21);
    CHECK(cpu.pc == 13604);
    CHECK(cpu.sp == 8215);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13603] == 4);
}

TEST_CASE( "04 006D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45498;
    cpu.sp = 15445;
    cpu.reg.a = 57;
    cpu.reg.b = 214;
    cpu.reg.c = 6;
    cpu.reg.d = 247;
    cpu.reg.e = 187;
    cpu.reg.f = 96;
    cpu.reg.h = 32;
    cpu.reg.l = 31;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[45498] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 57);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 6);
    CHECK(cpu.reg.d == 247);
    CHECK(cpu.reg.e == 187);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 32);
    CHECK(cpu.reg.l == 31);
    CHECK(cpu.pc == 45499);
    CHECK(cpu.sp == 15445);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45498] == 4);
}

TEST_CASE( "04 006E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33736;
    cpu.sp = 13100;
    cpu.reg.a = 78;
    cpu.reg.b = 221;
    cpu.reg.c = 81;
    cpu.reg.d = 232;
    cpu.reg.e = 205;
    cpu.reg.f = 144;
    cpu.reg.h = 135;
    cpu.reg.l = 176;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[33736] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 78);
    CHECK(cpu.reg.b == 222);
    CHECK(cpu.reg.c == 81);
    CHECK(cpu.reg.d == 232);
    CHECK(cpu.reg.e == 205);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 135);
    CHECK(cpu.reg.l == 176);
    CHECK(cpu.pc == 33737);
    CHECK(cpu.sp == 13100);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33736] == 4);
}

TEST_CASE( "04 006F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4410;
    cpu.sp = 59312;
    cpu.reg.a = 85;
    cpu.reg.b = 105;
    cpu.reg.c = 160;
    cpu.reg.d = 112;
    cpu.reg.e = 123;
    cpu.reg.f = 128;
    cpu.reg.h = 8;
    cpu.reg.l = 232;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[4410] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 85);
    CHECK(cpu.reg.b == 106);
    CHECK(cpu.reg.c == 160);
    CHECK(cpu.reg.d == 112);
    CHECK(cpu.reg.e == 123);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 8);
    CHECK(cpu.reg.l == 232);
    CHECK(cpu.pc == 4411);
    CHECK(cpu.sp == 59312);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4410] == 4);
}

TEST_CASE( "04 0070", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17363;
    cpu.sp = 13581;
    cpu.reg.a = 216;
    cpu.reg.b = 192;
    cpu.reg.c = 171;
    cpu.reg.d = 8;
    cpu.reg.e = 221;
    cpu.reg.f = 128;
    cpu.reg.h = 138;
    cpu.reg.l = 94;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[17363] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 193);
    CHECK(cpu.reg.c == 171);
    CHECK(cpu.reg.d == 8);
    CHECK(cpu.reg.e == 221);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 138);
    CHECK(cpu.reg.l == 94);
    CHECK(cpu.pc == 17364);
    CHECK(cpu.sp == 13581);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17363] == 4);
}

TEST_CASE( "04 0071", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10356;
    cpu.sp = 42917;
    cpu.reg.a = 59;
    cpu.reg.b = 127;
    cpu.reg.c = 210;
    cpu.reg.d = 182;
    cpu.reg.e = 241;
    cpu.reg.f = 16;
    cpu.reg.h = 213;
    cpu.reg.l = 133;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[10356] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 59);
    CHECK(cpu.reg.b == 128);
    CHECK(cpu.reg.c == 210);
    CHECK(cpu.reg.d == 182);
    CHECK(cpu.reg.e == 241);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 213);
    CHECK(cpu.reg.l == 133);
    CHECK(cpu.pc == 10357);
    CHECK(cpu.sp == 42917);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10356] == 4);
}

TEST_CASE( "04 0072", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34523;
    cpu.sp = 254;
    cpu.reg.a = 80;
    cpu.reg.b = 165;
    cpu.reg.c = 37;
    cpu.reg.d = 113;
    cpu.reg.e = 93;
    cpu.reg.f = 32;
    cpu.reg.h = 114;
    cpu.reg.l = 237;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[34523] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 80);
    CHECK(cpu.reg.b == 166);
    CHECK(cpu.reg.c == 37);
    CHECK(cpu.reg.d == 113);
    CHECK(cpu.reg.e == 93);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 114);
    CHECK(cpu.reg.l == 237);
    CHECK(cpu.pc == 34524);
    CHECK(cpu.sp == 254);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34523] == 4);
}

TEST_CASE( "04 0073", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53453;
    cpu.sp = 34476;
    cpu.reg.a = 64;
    cpu.reg.b = 48;
    cpu.reg.c = 126;
    cpu.reg.d = 226;
    cpu.reg.e = 68;
    cpu.reg.f = 192;
    cpu.reg.h = 103;
    cpu.reg.l = 138;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[53453] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 49);
    CHECK(cpu.reg.c == 126);
    CHECK(cpu.reg.d == 226);
    CHECK(cpu.reg.e == 68);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 103);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 53454);
    CHECK(cpu.sp == 34476);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[53453] == 4);
}

TEST_CASE( "04 0074", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59816;
    cpu.sp = 59600;
    cpu.reg.a = 18;
    cpu.reg.b = 30;
    cpu.reg.c = 49;
    cpu.reg.d = 132;
    cpu.reg.e = 147;
    cpu.reg.f = 224;
    cpu.reg.h = 113;
    cpu.reg.l = 229;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[59816] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 18);
    CHECK(cpu.reg.b == 31);
    CHECK(cpu.reg.c == 49);
    CHECK(cpu.reg.d == 132);
    CHECK(cpu.reg.e == 147);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 113);
    CHECK(cpu.reg.l == 229);
    CHECK(cpu.pc == 59817);
    CHECK(cpu.sp == 59600);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[59816] == 4);
}

TEST_CASE( "04 0075", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10550;
    cpu.sp = 60991;
    cpu.reg.a = 97;
    cpu.reg.b = 205;
    cpu.reg.c = 235;
    cpu.reg.d = 107;
    cpu.reg.e = 222;
    cpu.reg.f = 0;
    cpu.reg.h = 240;
    cpu.reg.l = 230;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[10550] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 97);
    CHECK(cpu.reg.b == 206);
    CHECK(cpu.reg.c == 235);
    CHECK(cpu.reg.d == 107);
    CHECK(cpu.reg.e == 222);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 240);
    CHECK(cpu.reg.l == 230);
    CHECK(cpu.pc == 10551);
    CHECK(cpu.sp == 60991);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10550] == 4);
}

TEST_CASE( "04 0076", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55510;
    cpu.sp = 56815;
    cpu.reg.a = 26;
    cpu.reg.b = 49;
    cpu.reg.c = 174;
    cpu.reg.d = 122;
    cpu.reg.e = 158;
    cpu.reg.f = 16;
    cpu.reg.h = 249;
    cpu.reg.l = 36;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[55510] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 26);
    CHECK(cpu.reg.b == 50);
    CHECK(cpu.reg.c == 174);
    CHECK(cpu.reg.d == 122);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 249);
    CHECK(cpu.reg.l == 36);
    CHECK(cpu.pc == 55511);
    CHECK(cpu.sp == 56815);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[55510] == 4);
}

TEST_CASE( "04 0077", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55639;
    cpu.sp = 54890;
    cpu.reg.a = 241;
    cpu.reg.b = 49;
    cpu.reg.c = 90;
    cpu.reg.d = 13;
    cpu.reg.e = 74;
    cpu.reg.f = 224;
    cpu.reg.h = 160;
    cpu.reg.l = 138;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[55639] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 241);
    CHECK(cpu.reg.b == 50);
    CHECK(cpu.reg.c == 90);
    CHECK(cpu.reg.d == 13);
    CHECK(cpu.reg.e == 74);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 160);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 55640);
    CHECK(cpu.sp == 54890);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[55639] == 4);
}

TEST_CASE( "04 0078", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1948;
    cpu.sp = 61925;
    cpu.reg.a = 30;
    cpu.reg.b = 33;
    cpu.reg.c = 155;
    cpu.reg.d = 122;
    cpu.reg.e = 85;
    cpu.reg.f = 128;
    cpu.reg.h = 105;
    cpu.reg.l = 153;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[1948] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 30);
    CHECK(cpu.reg.b == 34);
    CHECK(cpu.reg.c == 155);
    CHECK(cpu.reg.d == 122);
    CHECK(cpu.reg.e == 85);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 105);
    CHECK(cpu.reg.l == 153);
    CHECK(cpu.pc == 1949);
    CHECK(cpu.sp == 61925);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1948] == 4);
}

TEST_CASE( "04 0079", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16736;
    cpu.sp = 25630;
    cpu.reg.a = 150;
    cpu.reg.b = 101;
    cpu.reg.c = 115;
    cpu.reg.d = 101;
    cpu.reg.e = 175;
    cpu.reg.f = 96;
    cpu.reg.h = 99;
    cpu.reg.l = 189;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[16736] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 150);
    CHECK(cpu.reg.b == 102);
    CHECK(cpu.reg.c == 115);
    CHECK(cpu.reg.d == 101);
    CHECK(cpu.reg.e == 175);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 99);
    CHECK(cpu.reg.l == 189);
    CHECK(cpu.pc == 16737);
    CHECK(cpu.sp == 25630);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16736] == 4);
}

TEST_CASE( "04 007A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4222;
    cpu.sp = 42167;
    cpu.reg.a = 117;
    cpu.reg.b = 114;
    cpu.reg.c = 77;
    cpu.reg.d = 75;
    cpu.reg.e = 206;
    cpu.reg.f = 144;
    cpu.reg.h = 58;
    cpu.reg.l = 125;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[4222] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 117);
    CHECK(cpu.reg.b == 115);
    CHECK(cpu.reg.c == 77);
    CHECK(cpu.reg.d == 75);
    CHECK(cpu.reg.e == 206);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 58);
    CHECK(cpu.reg.l == 125);
    CHECK(cpu.pc == 4223);
    CHECK(cpu.sp == 42167);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4222] == 4);
}

TEST_CASE( "04 007B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6397;
    cpu.sp = 29276;
    cpu.reg.a = 40;
    cpu.reg.b = 77;
    cpu.reg.c = 60;
    cpu.reg.d = 39;
    cpu.reg.e = 248;
    cpu.reg.f = 160;
    cpu.reg.h = 194;
    cpu.reg.l = 138;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[6397] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 40);
    CHECK(cpu.reg.b == 78);
    CHECK(cpu.reg.c == 60);
    CHECK(cpu.reg.d == 39);
    CHECK(cpu.reg.e == 248);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 194);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 6398);
    CHECK(cpu.sp == 29276);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6397] == 4);
}

TEST_CASE( "04 007C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61153;
    cpu.sp = 47826;
    cpu.reg.a = 131;
    cpu.reg.b = 2;
    cpu.reg.c = 20;
    cpu.reg.d = 117;
    cpu.reg.e = 191;
    cpu.reg.f = 208;
    cpu.reg.h = 160;
    cpu.reg.l = 128;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[61153] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 131);
    CHECK(cpu.reg.b == 3);
    CHECK(cpu.reg.c == 20);
    CHECK(cpu.reg.d == 117);
    CHECK(cpu.reg.e == 191);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 160);
    CHECK(cpu.reg.l == 128);
    CHECK(cpu.pc == 61154);
    CHECK(cpu.sp == 47826);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61153] == 4);
}

TEST_CASE( "04 007D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22572;
    cpu.sp = 23723;
    cpu.reg.a = 54;
    cpu.reg.b = 148;
    cpu.reg.c = 159;
    cpu.reg.d = 121;
    cpu.reg.e = 224;
    cpu.reg.f = 128;
    cpu.reg.h = 238;
    cpu.reg.l = 203;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[22572] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 54);
    CHECK(cpu.reg.b == 149);
    CHECK(cpu.reg.c == 159);
    CHECK(cpu.reg.d == 121);
    CHECK(cpu.reg.e == 224);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 238);
    CHECK(cpu.reg.l == 203);
    CHECK(cpu.pc == 22573);
    CHECK(cpu.sp == 23723);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22572] == 4);
}

TEST_CASE( "04 007E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4448;
    cpu.sp = 60864;
    cpu.reg.a = 9;
    cpu.reg.b = 64;
    cpu.reg.c = 214;
    cpu.reg.d = 246;
    cpu.reg.e = 46;
    cpu.reg.f = 0;
    cpu.reg.h = 0;
    cpu.reg.l = 240;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[4448] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 9);
    CHECK(cpu.reg.b == 65);
    CHECK(cpu.reg.c == 214);
    CHECK(cpu.reg.d == 246);
    CHECK(cpu.reg.e == 46);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 0);
    CHECK(cpu.reg.l == 240);
    CHECK(cpu.pc == 4449);
    CHECK(cpu.sp == 60864);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4448] == 4);
}

TEST_CASE( "04 007F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32754;
    cpu.sp = 14202;
    cpu.reg.a = 172;
    cpu.reg.b = 98;
    cpu.reg.c = 227;
    cpu.reg.d = 0;
    cpu.reg.e = 67;
    cpu.reg.f = 192;
    cpu.reg.h = 71;
    cpu.reg.l = 238;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[32754] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 172);
    CHECK(cpu.reg.b == 99);
    CHECK(cpu.reg.c == 227);
    CHECK(cpu.reg.d == 0);
    CHECK(cpu.reg.e == 67);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 71);
    CHECK(cpu.reg.l == 238);
    CHECK(cpu.pc == 32755);
    CHECK(cpu.sp == 14202);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32754] == 4);
}

TEST_CASE( "04 0080", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61699;
    cpu.sp = 33872;
    cpu.reg.a = 116;
    cpu.reg.b = 171;
    cpu.reg.c = 186;
    cpu.reg.d = 102;
    cpu.reg.e = 166;
    cpu.reg.f = 224;
    cpu.reg.h = 192;
    cpu.reg.l = 141;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[61699] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 116);
    CHECK(cpu.reg.b == 172);
    CHECK(cpu.reg.c == 186);
    CHECK(cpu.reg.d == 102);
    CHECK(cpu.reg.e == 166);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 192);
    CHECK(cpu.reg.l == 141);
    CHECK(cpu.pc == 61700);
    CHECK(cpu.sp == 33872);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61699] == 4);
}

TEST_CASE( "04 0081", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13984;
    cpu.sp = 64577;
    cpu.reg.a = 233;
    cpu.reg.b = 148;
    cpu.reg.c = 88;
    cpu.reg.d = 160;
    cpu.reg.e = 71;
    cpu.reg.f = 160;
    cpu.reg.h = 204;
    cpu.reg.l = 93;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[13984] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 233);
    CHECK(cpu.reg.b == 149);
    CHECK(cpu.reg.c == 88);
    CHECK(cpu.reg.d == 160);
    CHECK(cpu.reg.e == 71);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 204);
    CHECK(cpu.reg.l == 93);
    CHECK(cpu.pc == 13985);
    CHECK(cpu.sp == 64577);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13984] == 4);
}

TEST_CASE( "04 0082", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64217;
    cpu.sp = 58303;
    cpu.reg.a = 79;
    cpu.reg.b = 20;
    cpu.reg.c = 71;
    cpu.reg.d = 98;
    cpu.reg.e = 97;
    cpu.reg.f = 144;
    cpu.reg.h = 164;
    cpu.reg.l = 112;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[64217] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 79);
    CHECK(cpu.reg.b == 21);
    CHECK(cpu.reg.c == 71);
    CHECK(cpu.reg.d == 98);
    CHECK(cpu.reg.e == 97);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 164);
    CHECK(cpu.reg.l == 112);
    CHECK(cpu.pc == 64218);
    CHECK(cpu.sp == 58303);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64217] == 4);
}

TEST_CASE( "04 0083", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37037;
    cpu.sp = 20399;
    cpu.reg.a = 67;
    cpu.reg.b = 73;
    cpu.reg.c = 215;
    cpu.reg.d = 123;
    cpu.reg.e = 50;
    cpu.reg.f = 0;
    cpu.reg.h = 51;
    cpu.reg.l = 248;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[37037] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 67);
    CHECK(cpu.reg.b == 74);
    CHECK(cpu.reg.c == 215);
    CHECK(cpu.reg.d == 123);
    CHECK(cpu.reg.e == 50);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 51);
    CHECK(cpu.reg.l == 248);
    CHECK(cpu.pc == 37038);
    CHECK(cpu.sp == 20399);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[37037] == 4);
}

TEST_CASE( "04 0084", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 725;
    cpu.sp = 51674;
    cpu.reg.a = 151;
    cpu.reg.b = 19;
    cpu.reg.c = 192;
    cpu.reg.d = 69;
    cpu.reg.e = 192;
    cpu.reg.f = 160;
    cpu.reg.h = 78;
    cpu.reg.l = 39;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[725] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 151);
    CHECK(cpu.reg.b == 20);
    CHECK(cpu.reg.c == 192);
    CHECK(cpu.reg.d == 69);
    CHECK(cpu.reg.e == 192);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 78);
    CHECK(cpu.reg.l == 39);
    CHECK(cpu.pc == 726);
    CHECK(cpu.sp == 51674);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[725] == 4);
}

TEST_CASE( "04 0085", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15482;
    cpu.sp = 63945;
    cpu.reg.a = 30;
    cpu.reg.b = 194;
    cpu.reg.c = 83;
    cpu.reg.d = 248;
    cpu.reg.e = 55;
    cpu.reg.f = 144;
    cpu.reg.h = 255;
    cpu.reg.l = 163;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[15482] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 30);
    CHECK(cpu.reg.b == 195);
    CHECK(cpu.reg.c == 83);
    CHECK(cpu.reg.d == 248);
    CHECK(cpu.reg.e == 55);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 255);
    CHECK(cpu.reg.l == 163);
    CHECK(cpu.pc == 15483);
    CHECK(cpu.sp == 63945);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15482] == 4);
}

TEST_CASE( "04 0086", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21057;
    cpu.sp = 23721;
    cpu.reg.a = 224;
    cpu.reg.b = 124;
    cpu.reg.c = 116;
    cpu.reg.d = 9;
    cpu.reg.e = 12;
    cpu.reg.f = 16;
    cpu.reg.h = 18;
    cpu.reg.l = 45;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[21057] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 125);
    CHECK(cpu.reg.c == 116);
    CHECK(cpu.reg.d == 9);
    CHECK(cpu.reg.e == 12);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 18);
    CHECK(cpu.reg.l == 45);
    CHECK(cpu.pc == 21058);
    CHECK(cpu.sp == 23721);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21057] == 4);
}

TEST_CASE( "04 0087", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44109;
    cpu.sp = 61219;
    cpu.reg.a = 150;
    cpu.reg.b = 211;
    cpu.reg.c = 227;
    cpu.reg.d = 32;
    cpu.reg.e = 240;
    cpu.reg.f = 0;
    cpu.reg.h = 191;
    cpu.reg.l = 235;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[44109] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 150);
    CHECK(cpu.reg.b == 212);
    CHECK(cpu.reg.c == 227);
    CHECK(cpu.reg.d == 32);
    CHECK(cpu.reg.e == 240);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 191);
    CHECK(cpu.reg.l == 235);
    CHECK(cpu.pc == 44110);
    CHECK(cpu.sp == 61219);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44109] == 4);
}

TEST_CASE( "04 0088", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42640;
    cpu.sp = 37516;
    cpu.reg.a = 67;
    cpu.reg.b = 199;
    cpu.reg.c = 130;
    cpu.reg.d = 189;
    cpu.reg.e = 33;
    cpu.reg.f = 80;
    cpu.reg.h = 100;
    cpu.reg.l = 182;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[42640] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 67);
    CHECK(cpu.reg.b == 200);
    CHECK(cpu.reg.c == 130);
    CHECK(cpu.reg.d == 189);
    CHECK(cpu.reg.e == 33);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 100);
    CHECK(cpu.reg.l == 182);
    CHECK(cpu.pc == 42641);
    CHECK(cpu.sp == 37516);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[42640] == 4);
}

TEST_CASE( "04 0089", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55554;
    cpu.sp = 53796;
    cpu.reg.a = 32;
    cpu.reg.b = 135;
    cpu.reg.c = 178;
    cpu.reg.d = 252;
    cpu.reg.e = 105;
    cpu.reg.f = 64;
    cpu.reg.h = 238;
    cpu.reg.l = 118;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[55554] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 32);
    CHECK(cpu.reg.b == 136);
    CHECK(cpu.reg.c == 178);
    CHECK(cpu.reg.d == 252);
    CHECK(cpu.reg.e == 105);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 238);
    CHECK(cpu.reg.l == 118);
    CHECK(cpu.pc == 55555);
    CHECK(cpu.sp == 53796);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[55554] == 4);
}

TEST_CASE( "04 008A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1518;
    cpu.sp = 5790;
    cpu.reg.a = 209;
    cpu.reg.b = 247;
    cpu.reg.c = 223;
    cpu.reg.d = 94;
    cpu.reg.e = 147;
    cpu.reg.f = 16;
    cpu.reg.h = 85;
    cpu.reg.l = 11;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[1518] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 209);
    CHECK(cpu.reg.b == 248);
    CHECK(cpu.reg.c == 223);
    CHECK(cpu.reg.d == 94);
    CHECK(cpu.reg.e == 147);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 85);
    CHECK(cpu.reg.l == 11);
    CHECK(cpu.pc == 1519);
    CHECK(cpu.sp == 5790);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1518] == 4);
}

TEST_CASE( "04 008B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22805;
    cpu.sp = 28691;
    cpu.reg.a = 48;
    cpu.reg.b = 240;
    cpu.reg.c = 110;
    cpu.reg.d = 240;
    cpu.reg.e = 245;
    cpu.reg.f = 176;
    cpu.reg.h = 77;
    cpu.reg.l = 153;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[22805] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 48);
    CHECK(cpu.reg.b == 241);
    CHECK(cpu.reg.c == 110);
    CHECK(cpu.reg.d == 240);
    CHECK(cpu.reg.e == 245);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 77);
    CHECK(cpu.reg.l == 153);
    CHECK(cpu.pc == 22806);
    CHECK(cpu.sp == 28691);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22805] == 4);
}

TEST_CASE( "04 008C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37383;
    cpu.sp = 7180;
    cpu.reg.a = 47;
    cpu.reg.b = 131;
    cpu.reg.c = 143;
    cpu.reg.d = 157;
    cpu.reg.e = 216;
    cpu.reg.f = 128;
    cpu.reg.h = 8;
    cpu.reg.l = 95;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[37383] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 47);
    CHECK(cpu.reg.b == 132);
    CHECK(cpu.reg.c == 143);
    CHECK(cpu.reg.d == 157);
    CHECK(cpu.reg.e == 216);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 8);
    CHECK(cpu.reg.l == 95);
    CHECK(cpu.pc == 37384);
    CHECK(cpu.sp == 7180);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[37383] == 4);
}

TEST_CASE( "04 008D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58741;
    cpu.sp = 16826;
    cpu.reg.a = 204;
    cpu.reg.b = 11;
    cpu.reg.c = 61;
    cpu.reg.d = 141;
    cpu.reg.e = 174;
    cpu.reg.f = 32;
    cpu.reg.h = 43;
    cpu.reg.l = 63;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[58741] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 204);
    CHECK(cpu.reg.b == 12);
    CHECK(cpu.reg.c == 61);
    CHECK(cpu.reg.d == 141);
    CHECK(cpu.reg.e == 174);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 43);
    CHECK(cpu.reg.l == 63);
    CHECK(cpu.pc == 58742);
    CHECK(cpu.sp == 16826);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58741] == 4);
}

TEST_CASE( "04 008E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2518;
    cpu.sp = 33813;
    cpu.reg.a = 121;
    cpu.reg.b = 80;
    cpu.reg.c = 184;
    cpu.reg.d = 61;
    cpu.reg.e = 50;
    cpu.reg.f = 32;
    cpu.reg.h = 165;
    cpu.reg.l = 112;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[2518] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 121);
    CHECK(cpu.reg.b == 81);
    CHECK(cpu.reg.c == 184);
    CHECK(cpu.reg.d == 61);
    CHECK(cpu.reg.e == 50);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 165);
    CHECK(cpu.reg.l == 112);
    CHECK(cpu.pc == 2519);
    CHECK(cpu.sp == 33813);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2518] == 4);
}

TEST_CASE( "04 008F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19658;
    cpu.sp = 3225;
    cpu.reg.a = 97;
    cpu.reg.b = 149;
    cpu.reg.c = 245;
    cpu.reg.d = 132;
    cpu.reg.e = 37;
    cpu.reg.f = 16;
    cpu.reg.h = 155;
    cpu.reg.l = 116;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[19658] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 97);
    CHECK(cpu.reg.b == 150);
    CHECK(cpu.reg.c == 245);
    CHECK(cpu.reg.d == 132);
    CHECK(cpu.reg.e == 37);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 155);
    CHECK(cpu.reg.l == 116);
    CHECK(cpu.pc == 19659);
    CHECK(cpu.sp == 3225);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19658] == 4);
}

TEST_CASE( "04 0090", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5775;
    cpu.sp = 45062;
    cpu.reg.a = 17;
    cpu.reg.b = 130;
    cpu.reg.c = 231;
    cpu.reg.d = 174;
    cpu.reg.e = 146;
    cpu.reg.f = 48;
    cpu.reg.h = 60;
    cpu.reg.l = 249;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[5775] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 17);
    CHECK(cpu.reg.b == 131);
    CHECK(cpu.reg.c == 231);
    CHECK(cpu.reg.d == 174);
    CHECK(cpu.reg.e == 146);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 60);
    CHECK(cpu.reg.l == 249);
    CHECK(cpu.pc == 5776);
    CHECK(cpu.sp == 45062);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5775] == 4);
}

TEST_CASE( "04 0091", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7998;
    cpu.sp = 44916;
    cpu.reg.a = 232;
    cpu.reg.b = 3;
    cpu.reg.c = 124;
    cpu.reg.d = 102;
    cpu.reg.e = 147;
    cpu.reg.f = 128;
    cpu.reg.h = 44;
    cpu.reg.l = 242;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[7998] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 232);
    CHECK(cpu.reg.b == 4);
    CHECK(cpu.reg.c == 124);
    CHECK(cpu.reg.d == 102);
    CHECK(cpu.reg.e == 147);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 44);
    CHECK(cpu.reg.l == 242);
    CHECK(cpu.pc == 7999);
    CHECK(cpu.sp == 44916);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7998] == 4);
}

TEST_CASE( "04 0092", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18145;
    cpu.sp = 52766;
    cpu.reg.a = 47;
    cpu.reg.b = 137;
    cpu.reg.c = 149;
    cpu.reg.d = 16;
    cpu.reg.e = 84;
    cpu.reg.f = 16;
    cpu.reg.h = 112;
    cpu.reg.l = 62;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[18145] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 47);
    CHECK(cpu.reg.b == 138);
    CHECK(cpu.reg.c == 149);
    CHECK(cpu.reg.d == 16);
    CHECK(cpu.reg.e == 84);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 112);
    CHECK(cpu.reg.l == 62);
    CHECK(cpu.pc == 18146);
    CHECK(cpu.sp == 52766);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18145] == 4);
}

TEST_CASE( "04 0093", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44307;
    cpu.sp = 3690;
    cpu.reg.a = 108;
    cpu.reg.b = 119;
    cpu.reg.c = 227;
    cpu.reg.d = 173;
    cpu.reg.e = 234;
    cpu.reg.f = 128;
    cpu.reg.h = 41;
    cpu.reg.l = 240;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[44307] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 108);
    CHECK(cpu.reg.b == 120);
    CHECK(cpu.reg.c == 227);
    CHECK(cpu.reg.d == 173);
    CHECK(cpu.reg.e == 234);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 41);
    CHECK(cpu.reg.l == 240);
    CHECK(cpu.pc == 44308);
    CHECK(cpu.sp == 3690);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44307] == 4);
}

TEST_CASE( "04 0094", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15181;
    cpu.sp = 31812;
    cpu.reg.a = 91;
    cpu.reg.b = 178;
    cpu.reg.c = 116;
    cpu.reg.d = 209;
    cpu.reg.e = 158;
    cpu.reg.f = 48;
    cpu.reg.h = 118;
    cpu.reg.l = 27;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[15181] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 91);
    CHECK(cpu.reg.b == 179);
    CHECK(cpu.reg.c == 116);
    CHECK(cpu.reg.d == 209);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 118);
    CHECK(cpu.reg.l == 27);
    CHECK(cpu.pc == 15182);
    CHECK(cpu.sp == 31812);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15181] == 4);
}

TEST_CASE( "04 0095", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5603;
    cpu.sp = 26617;
    cpu.reg.a = 175;
    cpu.reg.b = 226;
    cpu.reg.c = 105;
    cpu.reg.d = 122;
    cpu.reg.e = 132;
    cpu.reg.f = 96;
    cpu.reg.h = 99;
    cpu.reg.l = 234;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5603] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 175);
    CHECK(cpu.reg.b == 227);
    CHECK(cpu.reg.c == 105);
    CHECK(cpu.reg.d == 122);
    CHECK(cpu.reg.e == 132);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 99);
    CHECK(cpu.reg.l == 234);
    CHECK(cpu.pc == 5604);
    CHECK(cpu.sp == 26617);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5603] == 4);
}

TEST_CASE( "04 0096", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2134;
    cpu.sp = 14699;
    cpu.reg.a = 232;
    cpu.reg.b = 4;
    cpu.reg.c = 147;
    cpu.reg.d = 145;
    cpu.reg.e = 255;
    cpu.reg.f = 0;
    cpu.reg.h = 230;
    cpu.reg.l = 138;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[2134] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 232);
    CHECK(cpu.reg.b == 5);
    CHECK(cpu.reg.c == 147);
    CHECK(cpu.reg.d == 145);
    CHECK(cpu.reg.e == 255);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 230);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 2135);
    CHECK(cpu.sp == 14699);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2134] == 4);
}

TEST_CASE( "04 0097", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8210;
    cpu.sp = 9149;
    cpu.reg.a = 223;
    cpu.reg.b = 76;
    cpu.reg.c = 239;
    cpu.reg.d = 134;
    cpu.reg.e = 53;
    cpu.reg.f = 64;
    cpu.reg.h = 228;
    cpu.reg.l = 233;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[8210] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 223);
    CHECK(cpu.reg.b == 77);
    CHECK(cpu.reg.c == 239);
    CHECK(cpu.reg.d == 134);
    CHECK(cpu.reg.e == 53);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 228);
    CHECK(cpu.reg.l == 233);
    CHECK(cpu.pc == 8211);
    CHECK(cpu.sp == 9149);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8210] == 4);
}

TEST_CASE( "04 0098", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42734;
    cpu.sp = 65450;
    cpu.reg.a = 203;
    cpu.reg.b = 101;
    cpu.reg.c = 76;
    cpu.reg.d = 214;
    cpu.reg.e = 9;
    cpu.reg.f = 48;
    cpu.reg.h = 198;
    cpu.reg.l = 100;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[42734] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 203);
    CHECK(cpu.reg.b == 102);
    CHECK(cpu.reg.c == 76);
    CHECK(cpu.reg.d == 214);
    CHECK(cpu.reg.e == 9);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 198);
    CHECK(cpu.reg.l == 100);
    CHECK(cpu.pc == 42735);
    CHECK(cpu.sp == 65450);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[42734] == 4);
}

TEST_CASE( "04 0099", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15735;
    cpu.sp = 18458;
    cpu.reg.a = 116;
    cpu.reg.b = 185;
    cpu.reg.c = 172;
    cpu.reg.d = 97;
    cpu.reg.e = 1;
    cpu.reg.f = 16;
    cpu.reg.h = 22;
    cpu.reg.l = 233;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[15735] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 116);
    CHECK(cpu.reg.b == 186);
    CHECK(cpu.reg.c == 172);
    CHECK(cpu.reg.d == 97);
    CHECK(cpu.reg.e == 1);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 22);
    CHECK(cpu.reg.l == 233);
    CHECK(cpu.pc == 15736);
    CHECK(cpu.sp == 18458);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15735] == 4);
}

TEST_CASE( "04 009A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36674;
    cpu.sp = 33563;
    cpu.reg.a = 108;
    cpu.reg.b = 158;
    cpu.reg.c = 76;
    cpu.reg.d = 26;
    cpu.reg.e = 117;
    cpu.reg.f = 176;
    cpu.reg.h = 131;
    cpu.reg.l = 117;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[36674] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 108);
    CHECK(cpu.reg.b == 159);
    CHECK(cpu.reg.c == 76);
    CHECK(cpu.reg.d == 26);
    CHECK(cpu.reg.e == 117);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 131);
    CHECK(cpu.reg.l == 117);
    CHECK(cpu.pc == 36675);
    CHECK(cpu.sp == 33563);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36674] == 4);
}

TEST_CASE( "04 009B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1595;
    cpu.sp = 21253;
    cpu.reg.a = 61;
    cpu.reg.b = 212;
    cpu.reg.c = 1;
    cpu.reg.d = 145;
    cpu.reg.e = 28;
    cpu.reg.f = 96;
    cpu.reg.h = 236;
    cpu.reg.l = 164;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[1595] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 61);
    CHECK(cpu.reg.b == 213);
    CHECK(cpu.reg.c == 1);
    CHECK(cpu.reg.d == 145);
    CHECK(cpu.reg.e == 28);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 236);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 1596);
    CHECK(cpu.sp == 21253);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1595] == 4);
}

TEST_CASE( "04 009C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63566;
    cpu.sp = 47592;
    cpu.reg.a = 194;
    cpu.reg.b = 81;
    cpu.reg.c = 97;
    cpu.reg.d = 252;
    cpu.reg.e = 103;
    cpu.reg.f = 144;
    cpu.reg.h = 131;
    cpu.reg.l = 141;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[63566] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 194);
    CHECK(cpu.reg.b == 82);
    CHECK(cpu.reg.c == 97);
    CHECK(cpu.reg.d == 252);
    CHECK(cpu.reg.e == 103);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 131);
    CHECK(cpu.reg.l == 141);
    CHECK(cpu.pc == 63567);
    CHECK(cpu.sp == 47592);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[63566] == 4);
}

TEST_CASE( "04 009D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64599;
    cpu.sp = 64535;
    cpu.reg.a = 139;
    cpu.reg.b = 59;
    cpu.reg.c = 55;
    cpu.reg.d = 125;
    cpu.reg.e = 205;
    cpu.reg.f = 208;
    cpu.reg.h = 184;
    cpu.reg.l = 249;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[64599] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 139);
    CHECK(cpu.reg.b == 60);
    CHECK(cpu.reg.c == 55);
    CHECK(cpu.reg.d == 125);
    CHECK(cpu.reg.e == 205);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 184);
    CHECK(cpu.reg.l == 249);
    CHECK(cpu.pc == 64600);
    CHECK(cpu.sp == 64535);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[64599] == 4);
}

TEST_CASE( "04 009E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17971;
    cpu.sp = 2748;
    cpu.reg.a = 39;
    cpu.reg.b = 78;
    cpu.reg.c = 186;
    cpu.reg.d = 152;
    cpu.reg.e = 43;
    cpu.reg.f = 0;
    cpu.reg.h = 127;
    cpu.reg.l = 96;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[17971] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 39);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 186);
    CHECK(cpu.reg.d == 152);
    CHECK(cpu.reg.e == 43);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 127);
    CHECK(cpu.reg.l == 96);
    CHECK(cpu.pc == 17972);
    CHECK(cpu.sp == 2748);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17971] == 4);
}

TEST_CASE( "04 009F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26575;
    cpu.sp = 46808;
    cpu.reg.a = 19;
    cpu.reg.b = 200;
    cpu.reg.c = 80;
    cpu.reg.d = 223;
    cpu.reg.e = 209;
    cpu.reg.f = 112;
    cpu.reg.h = 11;
    cpu.reg.l = 100;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26575] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 19);
    CHECK(cpu.reg.b == 201);
    CHECK(cpu.reg.c == 80);
    CHECK(cpu.reg.d == 223);
    CHECK(cpu.reg.e == 209);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 11);
    CHECK(cpu.reg.l == 100);
    CHECK(cpu.pc == 26576);
    CHECK(cpu.sp == 46808);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26575] == 4);
}

TEST_CASE( "04 00A0", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49399;
    cpu.sp = 52989;
    cpu.reg.a = 192;
    cpu.reg.b = 15;
    cpu.reg.c = 221;
    cpu.reg.d = 147;
    cpu.reg.e = 10;
    cpu.reg.f = 160;
    cpu.reg.h = 55;
    cpu.reg.l = 49;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[49399] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 192);
    CHECK(cpu.reg.b == 16);
    CHECK(cpu.reg.c == 221);
    CHECK(cpu.reg.d == 147);
    CHECK(cpu.reg.e == 10);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 55);
    CHECK(cpu.reg.l == 49);
    CHECK(cpu.pc == 49400);
    CHECK(cpu.sp == 52989);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49399] == 4);
}

TEST_CASE( "04 00A1", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57333;
    cpu.sp = 58778;
    cpu.reg.a = 127;
    cpu.reg.b = 117;
    cpu.reg.c = 42;
    cpu.reg.d = 230;
    cpu.reg.e = 69;
    cpu.reg.f = 48;
    cpu.reg.h = 118;
    cpu.reg.l = 182;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[57333] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 127);
    CHECK(cpu.reg.b == 118);
    CHECK(cpu.reg.c == 42);
    CHECK(cpu.reg.d == 230);
    CHECK(cpu.reg.e == 69);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 118);
    CHECK(cpu.reg.l == 182);
    CHECK(cpu.pc == 57334);
    CHECK(cpu.sp == 58778);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[57333] == 4);
}

TEST_CASE( "04 00A2", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43874;
    cpu.sp = 52289;
    cpu.reg.a = 183;
    cpu.reg.b = 191;
    cpu.reg.c = 142;
    cpu.reg.d = 70;
    cpu.reg.e = 155;
    cpu.reg.f = 240;
    cpu.reg.h = 159;
    cpu.reg.l = 234;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[43874] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 183);
    CHECK(cpu.reg.b == 192);
    CHECK(cpu.reg.c == 142);
    CHECK(cpu.reg.d == 70);
    CHECK(cpu.reg.e == 155);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 159);
    CHECK(cpu.reg.l == 234);
    CHECK(cpu.pc == 43875);
    CHECK(cpu.sp == 52289);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[43874] == 4);
}

TEST_CASE( "04 00A3", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64645;
    cpu.sp = 45276;
    cpu.reg.a = 17;
    cpu.reg.b = 15;
    cpu.reg.c = 145;
    cpu.reg.d = 47;
    cpu.reg.e = 68;
    cpu.reg.f = 224;
    cpu.reg.h = 175;
    cpu.reg.l = 231;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[64645] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 17);
    CHECK(cpu.reg.b == 16);
    CHECK(cpu.reg.c == 145);
    CHECK(cpu.reg.d == 47);
    CHECK(cpu.reg.e == 68);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 175);
    CHECK(cpu.reg.l == 231);
    CHECK(cpu.pc == 64646);
    CHECK(cpu.sp == 45276);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64645] == 4);
}

TEST_CASE( "04 00A4", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26543;
    cpu.sp = 54594;
    cpu.reg.a = 44;
    cpu.reg.b = 77;
    cpu.reg.c = 244;
    cpu.reg.d = 186;
    cpu.reg.e = 185;
    cpu.reg.f = 112;
    cpu.reg.h = 250;
    cpu.reg.l = 14;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26543] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 44);
    CHECK(cpu.reg.b == 78);
    CHECK(cpu.reg.c == 244);
    CHECK(cpu.reg.d == 186);
    CHECK(cpu.reg.e == 185);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 250);
    CHECK(cpu.reg.l == 14);
    CHECK(cpu.pc == 26544);
    CHECK(cpu.sp == 54594);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26543] == 4);
}

TEST_CASE( "04 00A5", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35280;
    cpu.sp = 52200;
    cpu.reg.a = 199;
    cpu.reg.b = 191;
    cpu.reg.c = 51;
    cpu.reg.d = 114;
    cpu.reg.e = 178;
    cpu.reg.f = 144;
    cpu.reg.h = 91;
    cpu.reg.l = 34;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[35280] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 199);
    CHECK(cpu.reg.b == 192);
    CHECK(cpu.reg.c == 51);
    CHECK(cpu.reg.d == 114);
    CHECK(cpu.reg.e == 178);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 91);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 35281);
    CHECK(cpu.sp == 52200);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35280] == 4);
}

TEST_CASE( "04 00A6", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12904;
    cpu.sp = 39346;
    cpu.reg.a = 69;
    cpu.reg.b = 230;
    cpu.reg.c = 56;
    cpu.reg.d = 117;
    cpu.reg.e = 71;
    cpu.reg.f = 192;
    cpu.reg.h = 149;
    cpu.reg.l = 127;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[12904] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 69);
    CHECK(cpu.reg.b == 231);
    CHECK(cpu.reg.c == 56);
    CHECK(cpu.reg.d == 117);
    CHECK(cpu.reg.e == 71);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 149);
    CHECK(cpu.reg.l == 127);
    CHECK(cpu.pc == 12905);
    CHECK(cpu.sp == 39346);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12904] == 4);
}

TEST_CASE( "04 00A7", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27506;
    cpu.sp = 63483;
    cpu.reg.a = 193;
    cpu.reg.b = 115;
    cpu.reg.c = 89;
    cpu.reg.d = 228;
    cpu.reg.e = 54;
    cpu.reg.f = 0;
    cpu.reg.h = 137;
    cpu.reg.l = 89;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[27506] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 193);
    CHECK(cpu.reg.b == 116);
    CHECK(cpu.reg.c == 89);
    CHECK(cpu.reg.d == 228);
    CHECK(cpu.reg.e == 54);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 137);
    CHECK(cpu.reg.l == 89);
    CHECK(cpu.pc == 27507);
    CHECK(cpu.sp == 63483);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27506] == 4);
}

TEST_CASE( "04 00A8", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22367;
    cpu.sp = 20089;
    cpu.reg.a = 67;
    cpu.reg.b = 238;
    cpu.reg.c = 103;
    cpu.reg.d = 157;
    cpu.reg.e = 127;
    cpu.reg.f = 128;
    cpu.reg.h = 116;
    cpu.reg.l = 54;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[22367] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 67);
    CHECK(cpu.reg.b == 239);
    CHECK(cpu.reg.c == 103);
    CHECK(cpu.reg.d == 157);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 116);
    CHECK(cpu.reg.l == 54);
    CHECK(cpu.pc == 22368);
    CHECK(cpu.sp == 20089);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22367] == 4);
}

TEST_CASE( "04 00A9", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4030;
    cpu.sp = 34774;
    cpu.reg.a = 234;
    cpu.reg.b = 30;
    cpu.reg.c = 93;
    cpu.reg.d = 248;
    cpu.reg.e = 224;
    cpu.reg.f = 128;
    cpu.reg.h = 132;
    cpu.reg.l = 196;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[4030] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 234);
    CHECK(cpu.reg.b == 31);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 248);
    CHECK(cpu.reg.e == 224);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 132);
    CHECK(cpu.reg.l == 196);
    CHECK(cpu.pc == 4031);
    CHECK(cpu.sp == 34774);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4030] == 4);
}

TEST_CASE( "04 00AA", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62572;
    cpu.sp = 52550;
    cpu.reg.a = 246;
    cpu.reg.b = 155;
    cpu.reg.c = 222;
    cpu.reg.d = 23;
    cpu.reg.e = 137;
    cpu.reg.f = 144;
    cpu.reg.h = 211;
    cpu.reg.l = 116;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[62572] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 246);
    CHECK(cpu.reg.b == 156);
    CHECK(cpu.reg.c == 222);
    CHECK(cpu.reg.d == 23);
    CHECK(cpu.reg.e == 137);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 211);
    CHECK(cpu.reg.l == 116);
    CHECK(cpu.pc == 62573);
    CHECK(cpu.sp == 52550);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[62572] == 4);
}

TEST_CASE( "04 00AB", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34544;
    cpu.sp = 47962;
    cpu.reg.a = 223;
    cpu.reg.b = 198;
    cpu.reg.c = 155;
    cpu.reg.d = 236;
    cpu.reg.e = 132;
    cpu.reg.f = 144;
    cpu.reg.h = 98;
    cpu.reg.l = 109;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[34544] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 223);
    CHECK(cpu.reg.b == 199);
    CHECK(cpu.reg.c == 155);
    CHECK(cpu.reg.d == 236);
    CHECK(cpu.reg.e == 132);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 98);
    CHECK(cpu.reg.l == 109);
    CHECK(cpu.pc == 34545);
    CHECK(cpu.sp == 47962);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[34544] == 4);
}

TEST_CASE( "04 00AC", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31350;
    cpu.sp = 58837;
    cpu.reg.a = 97;
    cpu.reg.b = 95;
    cpu.reg.c = 161;
    cpu.reg.d = 20;
    cpu.reg.e = 175;
    cpu.reg.f = 144;
    cpu.reg.h = 184;
    cpu.reg.l = 179;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[31350] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 97);
    CHECK(cpu.reg.b == 96);
    CHECK(cpu.reg.c == 161);
    CHECK(cpu.reg.d == 20);
    CHECK(cpu.reg.e == 175);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 184);
    CHECK(cpu.reg.l == 179);
    CHECK(cpu.pc == 31351);
    CHECK(cpu.sp == 58837);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31350] == 4);
}

TEST_CASE( "04 00AD", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35822;
    cpu.sp = 47787;
    cpu.reg.a = 172;
    cpu.reg.b = 90;
    cpu.reg.c = 244;
    cpu.reg.d = 13;
    cpu.reg.e = 170;
    cpu.reg.f = 240;
    cpu.reg.h = 54;
    cpu.reg.l = 133;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[35822] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 172);
    CHECK(cpu.reg.b == 91);
    CHECK(cpu.reg.c == 244);
    CHECK(cpu.reg.d == 13);
    CHECK(cpu.reg.e == 170);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 54);
    CHECK(cpu.reg.l == 133);
    CHECK(cpu.pc == 35823);
    CHECK(cpu.sp == 47787);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35822] == 4);
}

TEST_CASE( "04 00AE", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38809;
    cpu.sp = 8099;
    cpu.reg.a = 157;
    cpu.reg.b = 29;
    cpu.reg.c = 60;
    cpu.reg.d = 241;
    cpu.reg.e = 133;
    cpu.reg.f = 112;
    cpu.reg.h = 90;
    cpu.reg.l = 107;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[38809] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 157);
    CHECK(cpu.reg.b == 30);
    CHECK(cpu.reg.c == 60);
    CHECK(cpu.reg.d == 241);
    CHECK(cpu.reg.e == 133);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 90);
    CHECK(cpu.reg.l == 107);
    CHECK(cpu.pc == 38810);
    CHECK(cpu.sp == 8099);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38809] == 4);
}

TEST_CASE( "04 00AF", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46880;
    cpu.sp = 43499;
    cpu.reg.a = 43;
    cpu.reg.b = 124;
    cpu.reg.c = 93;
    cpu.reg.d = 14;
    cpu.reg.e = 169;
    cpu.reg.f = 240;
    cpu.reg.h = 89;
    cpu.reg.l = 129;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[46880] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 43);
    CHECK(cpu.reg.b == 125);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 14);
    CHECK(cpu.reg.e == 169);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 89);
    CHECK(cpu.reg.l == 129);
    CHECK(cpu.pc == 46881);
    CHECK(cpu.sp == 43499);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[46880] == 4);
}

TEST_CASE( "04 00B0", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1340;
    cpu.sp = 55950;
    cpu.reg.a = 8;
    cpu.reg.b = 108;
    cpu.reg.c = 174;
    cpu.reg.d = 64;
    cpu.reg.e = 164;
    cpu.reg.f = 160;
    cpu.reg.h = 50;
    cpu.reg.l = 51;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[1340] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 8);
    CHECK(cpu.reg.b == 109);
    CHECK(cpu.reg.c == 174);
    CHECK(cpu.reg.d == 64);
    CHECK(cpu.reg.e == 164);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 50);
    CHECK(cpu.reg.l == 51);
    CHECK(cpu.pc == 1341);
    CHECK(cpu.sp == 55950);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1340] == 4);
}

TEST_CASE( "04 00B1", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11126;
    cpu.sp = 62981;
    cpu.reg.a = 231;
    cpu.reg.b = 68;
    cpu.reg.c = 201;
    cpu.reg.d = 25;
    cpu.reg.e = 109;
    cpu.reg.f = 64;
    cpu.reg.h = 239;
    cpu.reg.l = 214;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[11126] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 231);
    CHECK(cpu.reg.b == 69);
    CHECK(cpu.reg.c == 201);
    CHECK(cpu.reg.d == 25);
    CHECK(cpu.reg.e == 109);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 239);
    CHECK(cpu.reg.l == 214);
    CHECK(cpu.pc == 11127);
    CHECK(cpu.sp == 62981);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11126] == 4);
}

TEST_CASE( "04 00B2", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21325;
    cpu.sp = 19359;
    cpu.reg.a = 101;
    cpu.reg.b = 133;
    cpu.reg.c = 203;
    cpu.reg.d = 76;
    cpu.reg.e = 181;
    cpu.reg.f = 160;
    cpu.reg.h = 171;
    cpu.reg.l = 67;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[21325] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 101);
    CHECK(cpu.reg.b == 134);
    CHECK(cpu.reg.c == 203);
    CHECK(cpu.reg.d == 76);
    CHECK(cpu.reg.e == 181);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 171);
    CHECK(cpu.reg.l == 67);
    CHECK(cpu.pc == 21326);
    CHECK(cpu.sp == 19359);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21325] == 4);
}

TEST_CASE( "04 00B3", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60500;
    cpu.sp = 38369;
    cpu.reg.a = 193;
    cpu.reg.b = 53;
    cpu.reg.c = 194;
    cpu.reg.d = 8;
    cpu.reg.e = 157;
    cpu.reg.f = 192;
    cpu.reg.h = 186;
    cpu.reg.l = 128;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[60500] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 193);
    CHECK(cpu.reg.b == 54);
    CHECK(cpu.reg.c == 194);
    CHECK(cpu.reg.d == 8);
    CHECK(cpu.reg.e == 157);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 186);
    CHECK(cpu.reg.l == 128);
    CHECK(cpu.pc == 60501);
    CHECK(cpu.sp == 38369);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[60500] == 4);
}

TEST_CASE( "04 00B4", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1747;
    cpu.sp = 12659;
    cpu.reg.a = 72;
    cpu.reg.b = 171;
    cpu.reg.c = 63;
    cpu.reg.d = 52;
    cpu.reg.e = 74;
    cpu.reg.f = 144;
    cpu.reg.h = 253;
    cpu.reg.l = 206;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[1747] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 72);
    CHECK(cpu.reg.b == 172);
    CHECK(cpu.reg.c == 63);
    CHECK(cpu.reg.d == 52);
    CHECK(cpu.reg.e == 74);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 253);
    CHECK(cpu.reg.l == 206);
    CHECK(cpu.pc == 1748);
    CHECK(cpu.sp == 12659);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1747] == 4);
}

TEST_CASE( "04 00B5", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51550;
    cpu.sp = 34796;
    cpu.reg.a = 227;
    cpu.reg.b = 49;
    cpu.reg.c = 31;
    cpu.reg.d = 185;
    cpu.reg.e = 192;
    cpu.reg.f = 96;
    cpu.reg.h = 171;
    cpu.reg.l = 212;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[51550] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 227);
    CHECK(cpu.reg.b == 50);
    CHECK(cpu.reg.c == 31);
    CHECK(cpu.reg.d == 185);
    CHECK(cpu.reg.e == 192);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 171);
    CHECK(cpu.reg.l == 212);
    CHECK(cpu.pc == 51551);
    CHECK(cpu.sp == 34796);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51550] == 4);
}

TEST_CASE( "04 00B6", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14433;
    cpu.sp = 61759;
    cpu.reg.a = 8;
    cpu.reg.b = 216;
    cpu.reg.c = 73;
    cpu.reg.d = 161;
    cpu.reg.e = 206;
    cpu.reg.f = 128;
    cpu.reg.h = 107;
    cpu.reg.l = 137;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[14433] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 8);
    CHECK(cpu.reg.b == 217);
    CHECK(cpu.reg.c == 73);
    CHECK(cpu.reg.d == 161);
    CHECK(cpu.reg.e == 206);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 107);
    CHECK(cpu.reg.l == 137);
    CHECK(cpu.pc == 14434);
    CHECK(cpu.sp == 61759);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14433] == 4);
}

TEST_CASE( "04 00B7", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10692;
    cpu.sp = 60594;
    cpu.reg.a = 3;
    cpu.reg.b = 100;
    cpu.reg.c = 182;
    cpu.reg.d = 251;
    cpu.reg.e = 236;
    cpu.reg.f = 176;
    cpu.reg.h = 210;
    cpu.reg.l = 103;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[10692] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 3);
    CHECK(cpu.reg.b == 101);
    CHECK(cpu.reg.c == 182);
    CHECK(cpu.reg.d == 251);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 210);
    CHECK(cpu.reg.l == 103);
    CHECK(cpu.pc == 10693);
    CHECK(cpu.sp == 60594);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10692] == 4);
}

TEST_CASE( "04 00B8", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64144;
    cpu.sp = 62053;
    cpu.reg.a = 136;
    cpu.reg.b = 230;
    cpu.reg.c = 220;
    cpu.reg.d = 219;
    cpu.reg.e = 205;
    cpu.reg.f = 160;
    cpu.reg.h = 187;
    cpu.reg.l = 28;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[64144] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 136);
    CHECK(cpu.reg.b == 231);
    CHECK(cpu.reg.c == 220);
    CHECK(cpu.reg.d == 219);
    CHECK(cpu.reg.e == 205);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 187);
    CHECK(cpu.reg.l == 28);
    CHECK(cpu.pc == 64145);
    CHECK(cpu.sp == 62053);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64144] == 4);
}

TEST_CASE( "04 00B9", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39191;
    cpu.sp = 33764;
    cpu.reg.a = 127;
    cpu.reg.b = 9;
    cpu.reg.c = 102;
    cpu.reg.d = 120;
    cpu.reg.e = 190;
    cpu.reg.f = 48;
    cpu.reg.h = 59;
    cpu.reg.l = 229;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[39191] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 127);
    CHECK(cpu.reg.b == 10);
    CHECK(cpu.reg.c == 102);
    CHECK(cpu.reg.d == 120);
    CHECK(cpu.reg.e == 190);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 59);
    CHECK(cpu.reg.l == 229);
    CHECK(cpu.pc == 39192);
    CHECK(cpu.sp == 33764);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39191] == 4);
}

TEST_CASE( "04 00BA", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17540;
    cpu.sp = 28070;
    cpu.reg.a = 248;
    cpu.reg.b = 123;
    cpu.reg.c = 182;
    cpu.reg.d = 246;
    cpu.reg.e = 63;
    cpu.reg.f = 176;
    cpu.reg.h = 141;
    cpu.reg.l = 17;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[17540] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 248);
    CHECK(cpu.reg.b == 124);
    CHECK(cpu.reg.c == 182);
    CHECK(cpu.reg.d == 246);
    CHECK(cpu.reg.e == 63);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 141);
    CHECK(cpu.reg.l == 17);
    CHECK(cpu.pc == 17541);
    CHECK(cpu.sp == 28070);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17540] == 4);
}

TEST_CASE( "04 00BB", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26308;
    cpu.sp = 50461;
    cpu.reg.a = 242;
    cpu.reg.b = 40;
    cpu.reg.c = 232;
    cpu.reg.d = 200;
    cpu.reg.e = 114;
    cpu.reg.f = 112;
    cpu.reg.h = 26;
    cpu.reg.l = 83;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[26308] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 242);
    CHECK(cpu.reg.b == 41);
    CHECK(cpu.reg.c == 232);
    CHECK(cpu.reg.d == 200);
    CHECK(cpu.reg.e == 114);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 26);
    CHECK(cpu.reg.l == 83);
    CHECK(cpu.pc == 26309);
    CHECK(cpu.sp == 50461);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26308] == 4);
}

TEST_CASE( "04 00BC", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52168;
    cpu.sp = 34481;
    cpu.reg.a = 10;
    cpu.reg.b = 166;
    cpu.reg.c = 216;
    cpu.reg.d = 71;
    cpu.reg.e = 230;
    cpu.reg.f = 80;
    cpu.reg.h = 32;
    cpu.reg.l = 100;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[52168] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 10);
    CHECK(cpu.reg.b == 167);
    CHECK(cpu.reg.c == 216);
    CHECK(cpu.reg.d == 71);
    CHECK(cpu.reg.e == 230);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 32);
    CHECK(cpu.reg.l == 100);
    CHECK(cpu.pc == 52169);
    CHECK(cpu.sp == 34481);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[52168] == 4);
}

TEST_CASE( "04 00BD", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6558;
    cpu.sp = 29375;
    cpu.reg.a = 212;
    cpu.reg.b = 178;
    cpu.reg.c = 181;
    cpu.reg.d = 114;
    cpu.reg.e = 107;
    cpu.reg.f = 80;
    cpu.reg.h = 46;
    cpu.reg.l = 80;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[6558] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 212);
    CHECK(cpu.reg.b == 179);
    CHECK(cpu.reg.c == 181);
    CHECK(cpu.reg.d == 114);
    CHECK(cpu.reg.e == 107);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 46);
    CHECK(cpu.reg.l == 80);
    CHECK(cpu.pc == 6559);
    CHECK(cpu.sp == 29375);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6558] == 4);
}

TEST_CASE( "04 00BE", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53331;
    cpu.sp = 47364;
    cpu.reg.a = 208;
    cpu.reg.b = 104;
    cpu.reg.c = 186;
    cpu.reg.d = 246;
    cpu.reg.e = 43;
    cpu.reg.f = 192;
    cpu.reg.h = 37;
    cpu.reg.l = 8;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[53331] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 208);
    CHECK(cpu.reg.b == 105);
    CHECK(cpu.reg.c == 186);
    CHECK(cpu.reg.d == 246);
    CHECK(cpu.reg.e == 43);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 37);
    CHECK(cpu.reg.l == 8);
    CHECK(cpu.pc == 53332);
    CHECK(cpu.sp == 47364);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[53331] == 4);
}

TEST_CASE( "04 00BF", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53141;
    cpu.sp = 15443;
    cpu.reg.a = 14;
    cpu.reg.b = 84;
    cpu.reg.c = 171;
    cpu.reg.d = 16;
    cpu.reg.e = 74;
    cpu.reg.f = 192;
    cpu.reg.h = 241;
    cpu.reg.l = 132;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[53141] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 14);
    CHECK(cpu.reg.b == 85);
    CHECK(cpu.reg.c == 171);
    CHECK(cpu.reg.d == 16);
    CHECK(cpu.reg.e == 74);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 132);
    CHECK(cpu.pc == 53142);
    CHECK(cpu.sp == 15443);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[53141] == 4);
}

TEST_CASE( "04 00C0", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22199;
    cpu.sp = 47193;
    cpu.reg.a = 75;
    cpu.reg.b = 165;
    cpu.reg.c = 6;
    cpu.reg.d = 94;
    cpu.reg.e = 84;
    cpu.reg.f = 224;
    cpu.reg.h = 187;
    cpu.reg.l = 166;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[22199] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 75);
    CHECK(cpu.reg.b == 166);
    CHECK(cpu.reg.c == 6);
    CHECK(cpu.reg.d == 94);
    CHECK(cpu.reg.e == 84);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 187);
    CHECK(cpu.reg.l == 166);
    CHECK(cpu.pc == 22200);
    CHECK(cpu.sp == 47193);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22199] == 4);
}

TEST_CASE( "04 00C1", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12994;
    cpu.sp = 24133;
    cpu.reg.a = 225;
    cpu.reg.b = 223;
    cpu.reg.c = 203;
    cpu.reg.d = 87;
    cpu.reg.e = 23;
    cpu.reg.f = 96;
    cpu.reg.h = 19;
    cpu.reg.l = 158;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[12994] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 225);
    CHECK(cpu.reg.b == 224);
    CHECK(cpu.reg.c == 203);
    CHECK(cpu.reg.d == 87);
    CHECK(cpu.reg.e == 23);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 19);
    CHECK(cpu.reg.l == 158);
    CHECK(cpu.pc == 12995);
    CHECK(cpu.sp == 24133);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12994] == 4);
}

TEST_CASE( "04 00C2", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25873;
    cpu.sp = 39634;
    cpu.reg.a = 89;
    cpu.reg.b = 96;
    cpu.reg.c = 41;
    cpu.reg.d = 116;
    cpu.reg.e = 24;
    cpu.reg.f = 96;
    cpu.reg.h = 247;
    cpu.reg.l = 69;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[25873] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 89);
    CHECK(cpu.reg.b == 97);
    CHECK(cpu.reg.c == 41);
    CHECK(cpu.reg.d == 116);
    CHECK(cpu.reg.e == 24);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 247);
    CHECK(cpu.reg.l == 69);
    CHECK(cpu.pc == 25874);
    CHECK(cpu.sp == 39634);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25873] == 4);
}

TEST_CASE( "04 00C3", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36319;
    cpu.sp = 4443;
    cpu.reg.a = 5;
    cpu.reg.b = 16;
    cpu.reg.c = 117;
    cpu.reg.d = 47;
    cpu.reg.e = 38;
    cpu.reg.f = 96;
    cpu.reg.h = 6;
    cpu.reg.l = 170;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[36319] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 5);
    CHECK(cpu.reg.b == 17);
    CHECK(cpu.reg.c == 117);
    CHECK(cpu.reg.d == 47);
    CHECK(cpu.reg.e == 38);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 6);
    CHECK(cpu.reg.l == 170);
    CHECK(cpu.pc == 36320);
    CHECK(cpu.sp == 4443);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36319] == 4);
}

TEST_CASE( "04 00C4", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35063;
    cpu.sp = 60028;
    cpu.reg.a = 58;
    cpu.reg.b = 53;
    cpu.reg.c = 170;
    cpu.reg.d = 87;
    cpu.reg.e = 183;
    cpu.reg.f = 32;
    cpu.reg.h = 205;
    cpu.reg.l = 151;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[35063] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 58);
    CHECK(cpu.reg.b == 54);
    CHECK(cpu.reg.c == 170);
    CHECK(cpu.reg.d == 87);
    CHECK(cpu.reg.e == 183);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 205);
    CHECK(cpu.reg.l == 151);
    CHECK(cpu.pc == 35064);
    CHECK(cpu.sp == 60028);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35063] == 4);
}

TEST_CASE( "04 00C5", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12425;
    cpu.sp = 61613;
    cpu.reg.a = 188;
    cpu.reg.b = 153;
    cpu.reg.c = 64;
    cpu.reg.d = 112;
    cpu.reg.e = 24;
    cpu.reg.f = 32;
    cpu.reg.h = 102;
    cpu.reg.l = 139;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[12425] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 188);
    CHECK(cpu.reg.b == 154);
    CHECK(cpu.reg.c == 64);
    CHECK(cpu.reg.d == 112);
    CHECK(cpu.reg.e == 24);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 102);
    CHECK(cpu.reg.l == 139);
    CHECK(cpu.pc == 12426);
    CHECK(cpu.sp == 61613);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12425] == 4);
}

TEST_CASE( "04 00C6", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30913;
    cpu.sp = 34657;
    cpu.reg.a = 167;
    cpu.reg.b = 243;
    cpu.reg.c = 126;
    cpu.reg.d = 240;
    cpu.reg.e = 156;
    cpu.reg.f = 176;
    cpu.reg.h = 36;
    cpu.reg.l = 153;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[30913] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 167);
    CHECK(cpu.reg.b == 244);
    CHECK(cpu.reg.c == 126);
    CHECK(cpu.reg.d == 240);
    CHECK(cpu.reg.e == 156);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 36);
    CHECK(cpu.reg.l == 153);
    CHECK(cpu.pc == 30914);
    CHECK(cpu.sp == 34657);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30913] == 4);
}

TEST_CASE( "04 00C7", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2744;
    cpu.sp = 2707;
    cpu.reg.a = 250;
    cpu.reg.b = 163;
    cpu.reg.c = 247;
    cpu.reg.d = 55;
    cpu.reg.e = 214;
    cpu.reg.f = 208;
    cpu.reg.h = 37;
    cpu.reg.l = 176;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[2744] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 250);
    CHECK(cpu.reg.b == 164);
    CHECK(cpu.reg.c == 247);
    CHECK(cpu.reg.d == 55);
    CHECK(cpu.reg.e == 214);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 37);
    CHECK(cpu.reg.l == 176);
    CHECK(cpu.pc == 2745);
    CHECK(cpu.sp == 2707);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2744] == 4);
}

TEST_CASE( "04 00C8", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47679;
    cpu.sp = 4639;
    cpu.reg.a = 89;
    cpu.reg.b = 34;
    cpu.reg.c = 61;
    cpu.reg.d = 183;
    cpu.reg.e = 62;
    cpu.reg.f = 240;
    cpu.reg.h = 65;
    cpu.reg.l = 67;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[47679] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 89);
    CHECK(cpu.reg.b == 35);
    CHECK(cpu.reg.c == 61);
    CHECK(cpu.reg.d == 183);
    CHECK(cpu.reg.e == 62);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 65);
    CHECK(cpu.reg.l == 67);
    CHECK(cpu.pc == 47680);
    CHECK(cpu.sp == 4639);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47679] == 4);
}

TEST_CASE( "04 00C9", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60273;
    cpu.sp = 30596;
    cpu.reg.a = 44;
    cpu.reg.b = 150;
    cpu.reg.c = 4;
    cpu.reg.d = 209;
    cpu.reg.e = 107;
    cpu.reg.f = 240;
    cpu.reg.h = 29;
    cpu.reg.l = 50;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[60273] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 44);
    CHECK(cpu.reg.b == 151);
    CHECK(cpu.reg.c == 4);
    CHECK(cpu.reg.d == 209);
    CHECK(cpu.reg.e == 107);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 29);
    CHECK(cpu.reg.l == 50);
    CHECK(cpu.pc == 60274);
    CHECK(cpu.sp == 30596);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60273] == 4);
}

TEST_CASE( "04 00CA", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2807;
    cpu.sp = 36340;
    cpu.reg.a = 132;
    cpu.reg.b = 115;
    cpu.reg.c = 90;
    cpu.reg.d = 98;
    cpu.reg.e = 166;
    cpu.reg.f = 208;
    cpu.reg.h = 176;
    cpu.reg.l = 224;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[2807] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 132);
    CHECK(cpu.reg.b == 116);
    CHECK(cpu.reg.c == 90);
    CHECK(cpu.reg.d == 98);
    CHECK(cpu.reg.e == 166);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 176);
    CHECK(cpu.reg.l == 224);
    CHECK(cpu.pc == 2808);
    CHECK(cpu.sp == 36340);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2807] == 4);
}

TEST_CASE( "04 00CB", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3623;
    cpu.sp = 17973;
    cpu.reg.a = 165;
    cpu.reg.b = 184;
    cpu.reg.c = 203;
    cpu.reg.d = 164;
    cpu.reg.e = 91;
    cpu.reg.f = 128;
    cpu.reg.h = 216;
    cpu.reg.l = 211;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[3623] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 165);
    CHECK(cpu.reg.b == 185);
    CHECK(cpu.reg.c == 203);
    CHECK(cpu.reg.d == 164);
    CHECK(cpu.reg.e == 91);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 216);
    CHECK(cpu.reg.l == 211);
    CHECK(cpu.pc == 3624);
    CHECK(cpu.sp == 17973);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3623] == 4);
}

TEST_CASE( "04 00CC", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44475;
    cpu.sp = 45563;
    cpu.reg.a = 47;
    cpu.reg.b = 62;
    cpu.reg.c = 176;
    cpu.reg.d = 242;
    cpu.reg.e = 252;
    cpu.reg.f = 0;
    cpu.reg.h = 94;
    cpu.reg.l = 119;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[44475] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 47);
    CHECK(cpu.reg.b == 63);
    CHECK(cpu.reg.c == 176);
    CHECK(cpu.reg.d == 242);
    CHECK(cpu.reg.e == 252);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 94);
    CHECK(cpu.reg.l == 119);
    CHECK(cpu.pc == 44476);
    CHECK(cpu.sp == 45563);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44475] == 4);
}

TEST_CASE( "04 00CD", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41057;
    cpu.sp = 328;
    cpu.reg.a = 58;
    cpu.reg.b = 177;
    cpu.reg.c = 74;
    cpu.reg.d = 178;
    cpu.reg.e = 104;
    cpu.reg.f = 64;
    cpu.reg.h = 133;
    cpu.reg.l = 78;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[41057] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 58);
    CHECK(cpu.reg.b == 178);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 178);
    CHECK(cpu.reg.e == 104);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 133);
    CHECK(cpu.reg.l == 78);
    CHECK(cpu.pc == 41058);
    CHECK(cpu.sp == 328);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41057] == 4);
}

TEST_CASE( "04 00CE", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31848;
    cpu.sp = 12420;
    cpu.reg.a = 174;
    cpu.reg.b = 38;
    cpu.reg.c = 145;
    cpu.reg.d = 250;
    cpu.reg.e = 6;
    cpu.reg.f = 16;
    cpu.reg.h = 38;
    cpu.reg.l = 33;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[31848] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 174);
    CHECK(cpu.reg.b == 39);
    CHECK(cpu.reg.c == 145);
    CHECK(cpu.reg.d == 250);
    CHECK(cpu.reg.e == 6);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 38);
    CHECK(cpu.reg.l == 33);
    CHECK(cpu.pc == 31849);
    CHECK(cpu.sp == 12420);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31848] == 4);
}

TEST_CASE( "04 00CF", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8625;
    cpu.sp = 43771;
    cpu.reg.a = 66;
    cpu.reg.b = 132;
    cpu.reg.c = 61;
    cpu.reg.d = 23;
    cpu.reg.e = 34;
    cpu.reg.f = 64;
    cpu.reg.h = 116;
    cpu.reg.l = 232;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[8625] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 66);
    CHECK(cpu.reg.b == 133);
    CHECK(cpu.reg.c == 61);
    CHECK(cpu.reg.d == 23);
    CHECK(cpu.reg.e == 34);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 116);
    CHECK(cpu.reg.l == 232);
    CHECK(cpu.pc == 8626);
    CHECK(cpu.sp == 43771);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8625] == 4);
}

TEST_CASE( "04 00D0", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3834;
    cpu.sp = 64865;
    cpu.reg.a = 74;
    cpu.reg.b = 69;
    cpu.reg.c = 244;
    cpu.reg.d = 3;
    cpu.reg.e = 67;
    cpu.reg.f = 48;
    cpu.reg.h = 154;
    cpu.reg.l = 57;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[3834] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 74);
    CHECK(cpu.reg.b == 70);
    CHECK(cpu.reg.c == 244);
    CHECK(cpu.reg.d == 3);
    CHECK(cpu.reg.e == 67);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 154);
    CHECK(cpu.reg.l == 57);
    CHECK(cpu.pc == 3835);
    CHECK(cpu.sp == 64865);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3834] == 4);
}

TEST_CASE( "04 00D1", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13539;
    cpu.sp = 52624;
    cpu.reg.a = 152;
    cpu.reg.b = 119;
    cpu.reg.c = 79;
    cpu.reg.d = 25;
    cpu.reg.e = 181;
    cpu.reg.f = 64;
    cpu.reg.h = 61;
    cpu.reg.l = 18;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[13539] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 152);
    CHECK(cpu.reg.b == 120);
    CHECK(cpu.reg.c == 79);
    CHECK(cpu.reg.d == 25);
    CHECK(cpu.reg.e == 181);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 61);
    CHECK(cpu.reg.l == 18);
    CHECK(cpu.pc == 13540);
    CHECK(cpu.sp == 52624);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13539] == 4);
}

TEST_CASE( "04 00D2", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15084;
    cpu.sp = 36227;
    cpu.reg.a = 181;
    cpu.reg.b = 90;
    cpu.reg.c = 195;
    cpu.reg.d = 230;
    cpu.reg.e = 116;
    cpu.reg.f = 0;
    cpu.reg.h = 187;
    cpu.reg.l = 199;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[15084] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 181);
    CHECK(cpu.reg.b == 91);
    CHECK(cpu.reg.c == 195);
    CHECK(cpu.reg.d == 230);
    CHECK(cpu.reg.e == 116);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 187);
    CHECK(cpu.reg.l == 199);
    CHECK(cpu.pc == 15085);
    CHECK(cpu.sp == 36227);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15084] == 4);
}

TEST_CASE( "04 00D3", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25284;
    cpu.sp = 53863;
    cpu.reg.a = 185;
    cpu.reg.b = 97;
    cpu.reg.c = 115;
    cpu.reg.d = 54;
    cpu.reg.e = 57;
    cpu.reg.f = 144;
    cpu.reg.h = 23;
    cpu.reg.l = 119;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[25284] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 185);
    CHECK(cpu.reg.b == 98);
    CHECK(cpu.reg.c == 115);
    CHECK(cpu.reg.d == 54);
    CHECK(cpu.reg.e == 57);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 23);
    CHECK(cpu.reg.l == 119);
    CHECK(cpu.pc == 25285);
    CHECK(cpu.sp == 53863);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25284] == 4);
}

TEST_CASE( "04 00D4", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1760;
    cpu.sp = 11210;
    cpu.reg.a = 201;
    cpu.reg.b = 155;
    cpu.reg.c = 205;
    cpu.reg.d = 163;
    cpu.reg.e = 236;
    cpu.reg.f = 144;
    cpu.reg.h = 139;
    cpu.reg.l = 148;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[1760] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 201);
    CHECK(cpu.reg.b == 156);
    CHECK(cpu.reg.c == 205);
    CHECK(cpu.reg.d == 163);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 139);
    CHECK(cpu.reg.l == 148);
    CHECK(cpu.pc == 1761);
    CHECK(cpu.sp == 11210);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1760] == 4);
}

TEST_CASE( "04 00D5", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57044;
    cpu.sp = 14953;
    cpu.reg.a = 218;
    cpu.reg.b = 241;
    cpu.reg.c = 89;
    cpu.reg.d = 211;
    cpu.reg.e = 137;
    cpu.reg.f = 224;
    cpu.reg.h = 0;
    cpu.reg.l = 200;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[57044] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 218);
    CHECK(cpu.reg.b == 242);
    CHECK(cpu.reg.c == 89);
    CHECK(cpu.reg.d == 211);
    CHECK(cpu.reg.e == 137);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 0);
    CHECK(cpu.reg.l == 200);
    CHECK(cpu.pc == 57045);
    CHECK(cpu.sp == 14953);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[57044] == 4);
}

TEST_CASE( "04 00D6", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39499;
    cpu.sp = 19740;
    cpu.reg.a = 35;
    cpu.reg.b = 20;
    cpu.reg.c = 71;
    cpu.reg.d = 178;
    cpu.reg.e = 54;
    cpu.reg.f = 48;
    cpu.reg.h = 212;
    cpu.reg.l = 142;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[39499] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 35);
    CHECK(cpu.reg.b == 21);
    CHECK(cpu.reg.c == 71);
    CHECK(cpu.reg.d == 178);
    CHECK(cpu.reg.e == 54);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 212);
    CHECK(cpu.reg.l == 142);
    CHECK(cpu.pc == 39500);
    CHECK(cpu.sp == 19740);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39499] == 4);
}

TEST_CASE( "04 00D7", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43940;
    cpu.sp = 26440;
    cpu.reg.a = 95;
    cpu.reg.b = 124;
    cpu.reg.c = 144;
    cpu.reg.d = 75;
    cpu.reg.e = 57;
    cpu.reg.f = 32;
    cpu.reg.h = 108;
    cpu.reg.l = 136;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[43940] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 95);
    CHECK(cpu.reg.b == 125);
    CHECK(cpu.reg.c == 144);
    CHECK(cpu.reg.d == 75);
    CHECK(cpu.reg.e == 57);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 108);
    CHECK(cpu.reg.l == 136);
    CHECK(cpu.pc == 43941);
    CHECK(cpu.sp == 26440);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[43940] == 4);
}

TEST_CASE( "04 00D8", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45814;
    cpu.sp = 13656;
    cpu.reg.a = 91;
    cpu.reg.b = 148;
    cpu.reg.c = 246;
    cpu.reg.d = 124;
    cpu.reg.e = 158;
    cpu.reg.f = 160;
    cpu.reg.h = 171;
    cpu.reg.l = 139;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[45814] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 91);
    CHECK(cpu.reg.b == 149);
    CHECK(cpu.reg.c == 246);
    CHECK(cpu.reg.d == 124);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 171);
    CHECK(cpu.reg.l == 139);
    CHECK(cpu.pc == 45815);
    CHECK(cpu.sp == 13656);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45814] == 4);
}

TEST_CASE( "04 00D9", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13831;
    cpu.sp = 1219;
    cpu.reg.a = 25;
    cpu.reg.b = 189;
    cpu.reg.c = 252;
    cpu.reg.d = 103;
    cpu.reg.e = 239;
    cpu.reg.f = 80;
    cpu.reg.h = 194;
    cpu.reg.l = 91;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[13831] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 25);
    CHECK(cpu.reg.b == 190);
    CHECK(cpu.reg.c == 252);
    CHECK(cpu.reg.d == 103);
    CHECK(cpu.reg.e == 239);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 194);
    CHECK(cpu.reg.l == 91);
    CHECK(cpu.pc == 13832);
    CHECK(cpu.sp == 1219);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13831] == 4);
}

TEST_CASE( "04 00DA", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23779;
    cpu.sp = 46609;
    cpu.reg.a = 207;
    cpu.reg.b = 203;
    cpu.reg.c = 195;
    cpu.reg.d = 185;
    cpu.reg.e = 210;
    cpu.reg.f = 160;
    cpu.reg.h = 72;
    cpu.reg.l = 69;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[23779] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 207);
    CHECK(cpu.reg.b == 204);
    CHECK(cpu.reg.c == 195);
    CHECK(cpu.reg.d == 185);
    CHECK(cpu.reg.e == 210);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 72);
    CHECK(cpu.reg.l == 69);
    CHECK(cpu.pc == 23780);
    CHECK(cpu.sp == 46609);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[23779] == 4);
}

TEST_CASE( "04 00DB", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12757;
    cpu.sp = 25528;
    cpu.reg.a = 252;
    cpu.reg.b = 219;
    cpu.reg.c = 138;
    cpu.reg.d = 151;
    cpu.reg.e = 229;
    cpu.reg.f = 112;
    cpu.reg.h = 87;
    cpu.reg.l = 29;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[12757] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 252);
    CHECK(cpu.reg.b == 220);
    CHECK(cpu.reg.c == 138);
    CHECK(cpu.reg.d == 151);
    CHECK(cpu.reg.e == 229);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 87);
    CHECK(cpu.reg.l == 29);
    CHECK(cpu.pc == 12758);
    CHECK(cpu.sp == 25528);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12757] == 4);
}

TEST_CASE( "04 00DC", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54758;
    cpu.sp = 34489;
    cpu.reg.a = 163;
    cpu.reg.b = 61;
    cpu.reg.c = 186;
    cpu.reg.d = 110;
    cpu.reg.e = 71;
    cpu.reg.f = 176;
    cpu.reg.h = 94;
    cpu.reg.l = 55;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[54758] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 163);
    CHECK(cpu.reg.b == 62);
    CHECK(cpu.reg.c == 186);
    CHECK(cpu.reg.d == 110);
    CHECK(cpu.reg.e == 71);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 94);
    CHECK(cpu.reg.l == 55);
    CHECK(cpu.pc == 54759);
    CHECK(cpu.sp == 34489);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54758] == 4);
}

TEST_CASE( "04 00DD", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34130;
    cpu.sp = 48147;
    cpu.reg.a = 250;
    cpu.reg.b = 98;
    cpu.reg.c = 181;
    cpu.reg.d = 209;
    cpu.reg.e = 197;
    cpu.reg.f = 64;
    cpu.reg.h = 104;
    cpu.reg.l = 92;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[34130] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 250);
    CHECK(cpu.reg.b == 99);
    CHECK(cpu.reg.c == 181);
    CHECK(cpu.reg.d == 209);
    CHECK(cpu.reg.e == 197);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 104);
    CHECK(cpu.reg.l == 92);
    CHECK(cpu.pc == 34131);
    CHECK(cpu.sp == 48147);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34130] == 4);
}

TEST_CASE( "04 00DE", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49919;
    cpu.sp = 24063;
    cpu.reg.a = 30;
    cpu.reg.b = 116;
    cpu.reg.c = 23;
    cpu.reg.d = 182;
    cpu.reg.e = 110;
    cpu.reg.f = 240;
    cpu.reg.h = 44;
    cpu.reg.l = 90;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[49919] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 30);
    CHECK(cpu.reg.b == 117);
    CHECK(cpu.reg.c == 23);
    CHECK(cpu.reg.d == 182);
    CHECK(cpu.reg.e == 110);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 44);
    CHECK(cpu.reg.l == 90);
    CHECK(cpu.pc == 49920);
    CHECK(cpu.sp == 24063);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49919] == 4);
}

TEST_CASE( "04 00DF", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30951;
    cpu.sp = 42761;
    cpu.reg.a = 0;
    cpu.reg.b = 174;
    cpu.reg.c = 121;
    cpu.reg.d = 196;
    cpu.reg.e = 81;
    cpu.reg.f = 16;
    cpu.reg.h = 240;
    cpu.reg.l = 69;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[30951] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 0);
    CHECK(cpu.reg.b == 175);
    CHECK(cpu.reg.c == 121);
    CHECK(cpu.reg.d == 196);
    CHECK(cpu.reg.e == 81);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 240);
    CHECK(cpu.reg.l == 69);
    CHECK(cpu.pc == 30952);
    CHECK(cpu.sp == 42761);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30951] == 4);
}

TEST_CASE( "04 00E0", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46580;
    cpu.sp = 8900;
    cpu.reg.a = 129;
    cpu.reg.b = 145;
    cpu.reg.c = 61;
    cpu.reg.d = 154;
    cpu.reg.e = 1;
    cpu.reg.f = 48;
    cpu.reg.h = 24;
    cpu.reg.l = 2;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[46580] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 129);
    CHECK(cpu.reg.b == 146);
    CHECK(cpu.reg.c == 61);
    CHECK(cpu.reg.d == 154);
    CHECK(cpu.reg.e == 1);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 24);
    CHECK(cpu.reg.l == 2);
    CHECK(cpu.pc == 46581);
    CHECK(cpu.sp == 8900);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46580] == 4);
}

TEST_CASE( "04 00E1", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60448;
    cpu.sp = 3875;
    cpu.reg.a = 75;
    cpu.reg.b = 157;
    cpu.reg.c = 107;
    cpu.reg.d = 6;
    cpu.reg.e = 255;
    cpu.reg.f = 176;
    cpu.reg.h = 255;
    cpu.reg.l = 87;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[60448] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 75);
    CHECK(cpu.reg.b == 158);
    CHECK(cpu.reg.c == 107);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 255);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 255);
    CHECK(cpu.reg.l == 87);
    CHECK(cpu.pc == 60449);
    CHECK(cpu.sp == 3875);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[60448] == 4);
}

TEST_CASE( "04 00E2", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4754;
    cpu.sp = 2919;
    cpu.reg.a = 96;
    cpu.reg.b = 245;
    cpu.reg.c = 109;
    cpu.reg.d = 39;
    cpu.reg.e = 208;
    cpu.reg.f = 80;
    cpu.reg.h = 170;
    cpu.reg.l = 40;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[4754] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 96);
    CHECK(cpu.reg.b == 246);
    CHECK(cpu.reg.c == 109);
    CHECK(cpu.reg.d == 39);
    CHECK(cpu.reg.e == 208);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 170);
    CHECK(cpu.reg.l == 40);
    CHECK(cpu.pc == 4755);
    CHECK(cpu.sp == 2919);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4754] == 4);
}

TEST_CASE( "04 00E3", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22855;
    cpu.sp = 32256;
    cpu.reg.a = 114;
    cpu.reg.b = 75;
    cpu.reg.c = 168;
    cpu.reg.d = 15;
    cpu.reg.e = 224;
    cpu.reg.f = 96;
    cpu.reg.h = 73;
    cpu.reg.l = 197;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[22855] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 114);
    CHECK(cpu.reg.b == 76);
    CHECK(cpu.reg.c == 168);
    CHECK(cpu.reg.d == 15);
    CHECK(cpu.reg.e == 224);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 73);
    CHECK(cpu.reg.l == 197);
    CHECK(cpu.pc == 22856);
    CHECK(cpu.sp == 32256);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22855] == 4);
}

TEST_CASE( "04 00E4", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13600;
    cpu.sp = 6391;
    cpu.reg.a = 85;
    cpu.reg.b = 125;
    cpu.reg.c = 60;
    cpu.reg.d = 223;
    cpu.reg.e = 54;
    cpu.reg.f = 32;
    cpu.reg.h = 53;
    cpu.reg.l = 183;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[13600] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 85);
    CHECK(cpu.reg.b == 126);
    CHECK(cpu.reg.c == 60);
    CHECK(cpu.reg.d == 223);
    CHECK(cpu.reg.e == 54);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 53);
    CHECK(cpu.reg.l == 183);
    CHECK(cpu.pc == 13601);
    CHECK(cpu.sp == 6391);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13600] == 4);
}

TEST_CASE( "04 00E5", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29000;
    cpu.sp = 49994;
    cpu.reg.a = 54;
    cpu.reg.b = 185;
    cpu.reg.c = 127;
    cpu.reg.d = 194;
    cpu.reg.e = 12;
    cpu.reg.f = 192;
    cpu.reg.h = 17;
    cpu.reg.l = 114;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[29000] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 54);
    CHECK(cpu.reg.b == 186);
    CHECK(cpu.reg.c == 127);
    CHECK(cpu.reg.d == 194);
    CHECK(cpu.reg.e == 12);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 114);
    CHECK(cpu.pc == 29001);
    CHECK(cpu.sp == 49994);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29000] == 4);
}

TEST_CASE( "04 00E6", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53846;
    cpu.sp = 29921;
    cpu.reg.a = 229;
    cpu.reg.b = 195;
    cpu.reg.c = 63;
    cpu.reg.d = 172;
    cpu.reg.e = 107;
    cpu.reg.f = 240;
    cpu.reg.h = 202;
    cpu.reg.l = 246;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[53846] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 229);
    CHECK(cpu.reg.b == 196);
    CHECK(cpu.reg.c == 63);
    CHECK(cpu.reg.d == 172);
    CHECK(cpu.reg.e == 107);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 202);
    CHECK(cpu.reg.l == 246);
    CHECK(cpu.pc == 53847);
    CHECK(cpu.sp == 29921);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[53846] == 4);
}

TEST_CASE( "04 00E7", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38745;
    cpu.sp = 38307;
    cpu.reg.a = 82;
    cpu.reg.b = 30;
    cpu.reg.c = 100;
    cpu.reg.d = 59;
    cpu.reg.e = 72;
    cpu.reg.f = 80;
    cpu.reg.h = 245;
    cpu.reg.l = 47;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[38745] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 82);
    CHECK(cpu.reg.b == 31);
    CHECK(cpu.reg.c == 100);
    CHECK(cpu.reg.d == 59);
    CHECK(cpu.reg.e == 72);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 245);
    CHECK(cpu.reg.l == 47);
    CHECK(cpu.pc == 38746);
    CHECK(cpu.sp == 38307);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38745] == 4);
}

TEST_CASE( "04 00E8", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63690;
    cpu.sp = 62843;
    cpu.reg.a = 242;
    cpu.reg.b = 39;
    cpu.reg.c = 59;
    cpu.reg.d = 171;
    cpu.reg.e = 47;
    cpu.reg.f = 160;
    cpu.reg.h = 233;
    cpu.reg.l = 252;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[63690] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 242);
    CHECK(cpu.reg.b == 40);
    CHECK(cpu.reg.c == 59);
    CHECK(cpu.reg.d == 171);
    CHECK(cpu.reg.e == 47);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 233);
    CHECK(cpu.reg.l == 252);
    CHECK(cpu.pc == 63691);
    CHECK(cpu.sp == 62843);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[63690] == 4);
}

TEST_CASE( "04 00E9", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55225;
    cpu.sp = 31449;
    cpu.reg.a = 200;
    cpu.reg.b = 229;
    cpu.reg.c = 21;
    cpu.reg.d = 65;
    cpu.reg.e = 130;
    cpu.reg.f = 112;
    cpu.reg.h = 108;
    cpu.reg.l = 239;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[55225] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 200);
    CHECK(cpu.reg.b == 230);
    CHECK(cpu.reg.c == 21);
    CHECK(cpu.reg.d == 65);
    CHECK(cpu.reg.e == 130);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 108);
    CHECK(cpu.reg.l == 239);
    CHECK(cpu.pc == 55226);
    CHECK(cpu.sp == 31449);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55225] == 4);
}

TEST_CASE( "04 00EA", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62532;
    cpu.sp = 65387;
    cpu.reg.a = 255;
    cpu.reg.b = 57;
    cpu.reg.c = 39;
    cpu.reg.d = 214;
    cpu.reg.e = 140;
    cpu.reg.f = 128;
    cpu.reg.h = 144;
    cpu.reg.l = 226;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[62532] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 255);
    CHECK(cpu.reg.b == 58);
    CHECK(cpu.reg.c == 39);
    CHECK(cpu.reg.d == 214);
    CHECK(cpu.reg.e == 140);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 144);
    CHECK(cpu.reg.l == 226);
    CHECK(cpu.pc == 62533);
    CHECK(cpu.sp == 65387);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[62532] == 4);
}

TEST_CASE( "04 00EB", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60597;
    cpu.sp = 24459;
    cpu.reg.a = 19;
    cpu.reg.b = 75;
    cpu.reg.c = 103;
    cpu.reg.d = 87;
    cpu.reg.e = 141;
    cpu.reg.f = 80;
    cpu.reg.h = 15;
    cpu.reg.l = 197;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[60597] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 19);
    CHECK(cpu.reg.b == 76);
    CHECK(cpu.reg.c == 103);
    CHECK(cpu.reg.d == 87);
    CHECK(cpu.reg.e == 141);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 15);
    CHECK(cpu.reg.l == 197);
    CHECK(cpu.pc == 60598);
    CHECK(cpu.sp == 24459);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60597] == 4);
}

TEST_CASE( "04 00EC", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11060;
    cpu.sp = 61243;
    cpu.reg.a = 100;
    cpu.reg.b = 42;
    cpu.reg.c = 122;
    cpu.reg.d = 253;
    cpu.reg.e = 240;
    cpu.reg.f = 224;
    cpu.reg.h = 115;
    cpu.reg.l = 78;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[11060] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 100);
    CHECK(cpu.reg.b == 43);
    CHECK(cpu.reg.c == 122);
    CHECK(cpu.reg.d == 253);
    CHECK(cpu.reg.e == 240);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 115);
    CHECK(cpu.reg.l == 78);
    CHECK(cpu.pc == 11061);
    CHECK(cpu.sp == 61243);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11060] == 4);
}

TEST_CASE( "04 00ED", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43120;
    cpu.sp = 14394;
    cpu.reg.a = 70;
    cpu.reg.b = 78;
    cpu.reg.c = 245;
    cpu.reg.d = 243;
    cpu.reg.e = 36;
    cpu.reg.f = 128;
    cpu.reg.h = 69;
    cpu.reg.l = 159;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[43120] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 70);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 245);
    CHECK(cpu.reg.d == 243);
    CHECK(cpu.reg.e == 36);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 69);
    CHECK(cpu.reg.l == 159);
    CHECK(cpu.pc == 43121);
    CHECK(cpu.sp == 14394);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[43120] == 4);
}

TEST_CASE( "04 00EE", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40828;
    cpu.sp = 39423;
    cpu.reg.a = 238;
    cpu.reg.b = 142;
    cpu.reg.c = 17;
    cpu.reg.d = 183;
    cpu.reg.e = 10;
    cpu.reg.f = 240;
    cpu.reg.h = 198;
    cpu.reg.l = 126;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[40828] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 238);
    CHECK(cpu.reg.b == 143);
    CHECK(cpu.reg.c == 17);
    CHECK(cpu.reg.d == 183);
    CHECK(cpu.reg.e == 10);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 198);
    CHECK(cpu.reg.l == 126);
    CHECK(cpu.pc == 40829);
    CHECK(cpu.sp == 39423);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40828] == 4);
}

TEST_CASE( "04 00EF", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14324;
    cpu.sp = 51202;
    cpu.reg.a = 67;
    cpu.reg.b = 206;
    cpu.reg.c = 89;
    cpu.reg.d = 114;
    cpu.reg.e = 195;
    cpu.reg.f = 176;
    cpu.reg.h = 81;
    cpu.reg.l = 83;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[14324] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 67);
    CHECK(cpu.reg.b == 207);
    CHECK(cpu.reg.c == 89);
    CHECK(cpu.reg.d == 114);
    CHECK(cpu.reg.e == 195);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 81);
    CHECK(cpu.reg.l == 83);
    CHECK(cpu.pc == 14325);
    CHECK(cpu.sp == 51202);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14324] == 4);
}

TEST_CASE( "04 00F0", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12056;
    cpu.sp = 50365;
    cpu.reg.a = 210;
    cpu.reg.b = 177;
    cpu.reg.c = 236;
    cpu.reg.d = 101;
    cpu.reg.e = 102;
    cpu.reg.f = 48;
    cpu.reg.h = 125;
    cpu.reg.l = 223;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[12056] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 210);
    CHECK(cpu.reg.b == 178);
    CHECK(cpu.reg.c == 236);
    CHECK(cpu.reg.d == 101);
    CHECK(cpu.reg.e == 102);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 125);
    CHECK(cpu.reg.l == 223);
    CHECK(cpu.pc == 12057);
    CHECK(cpu.sp == 50365);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12056] == 4);
}

TEST_CASE( "04 00F1", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58905;
    cpu.sp = 54481;
    cpu.reg.a = 88;
    cpu.reg.b = 41;
    cpu.reg.c = 222;
    cpu.reg.d = 104;
    cpu.reg.e = 156;
    cpu.reg.f = 32;
    cpu.reg.h = 17;
    cpu.reg.l = 38;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[58905] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 88);
    CHECK(cpu.reg.b == 42);
    CHECK(cpu.reg.c == 222);
    CHECK(cpu.reg.d == 104);
    CHECK(cpu.reg.e == 156);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 38);
    CHECK(cpu.pc == 58906);
    CHECK(cpu.sp == 54481);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58905] == 4);
}

TEST_CASE( "04 00F2", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42241;
    cpu.sp = 49002;
    cpu.reg.a = 242;
    cpu.reg.b = 95;
    cpu.reg.c = 233;
    cpu.reg.d = 215;
    cpu.reg.e = 15;
    cpu.reg.f = 112;
    cpu.reg.h = 158;
    cpu.reg.l = 86;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[42241] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 242);
    CHECK(cpu.reg.b == 96);
    CHECK(cpu.reg.c == 233);
    CHECK(cpu.reg.d == 215);
    CHECK(cpu.reg.e == 15);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 158);
    CHECK(cpu.reg.l == 86);
    CHECK(cpu.pc == 42242);
    CHECK(cpu.sp == 49002);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[42241] == 4);
}

TEST_CASE( "04 00F3", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25138;
    cpu.sp = 65155;
    cpu.reg.a = 202;
    cpu.reg.b = 31;
    cpu.reg.c = 126;
    cpu.reg.d = 186;
    cpu.reg.e = 253;
    cpu.reg.f = 240;
    cpu.reg.h = 172;
    cpu.reg.l = 30;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[25138] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 202);
    CHECK(cpu.reg.b == 32);
    CHECK(cpu.reg.c == 126);
    CHECK(cpu.reg.d == 186);
    CHECK(cpu.reg.e == 253);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 172);
    CHECK(cpu.reg.l == 30);
    CHECK(cpu.pc == 25139);
    CHECK(cpu.sp == 65155);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25138] == 4);
}

TEST_CASE( "04 00F4", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61026;
    cpu.sp = 49709;
    cpu.reg.a = 95;
    cpu.reg.b = 1;
    cpu.reg.c = 38;
    cpu.reg.d = 245;
    cpu.reg.e = 115;
    cpu.reg.f = 160;
    cpu.reg.h = 9;
    cpu.reg.l = 60;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[61026] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 95);
    CHECK(cpu.reg.b == 2);
    CHECK(cpu.reg.c == 38);
    CHECK(cpu.reg.d == 245);
    CHECK(cpu.reg.e == 115);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 9);
    CHECK(cpu.reg.l == 60);
    CHECK(cpu.pc == 61027);
    CHECK(cpu.sp == 49709);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61026] == 4);
}

TEST_CASE( "04 00F5", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61981;
    cpu.sp = 16858;
    cpu.reg.a = 77;
    cpu.reg.b = 184;
    cpu.reg.c = 181;
    cpu.reg.d = 125;
    cpu.reg.e = 93;
    cpu.reg.f = 32;
    cpu.reg.h = 72;
    cpu.reg.l = 224;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[61981] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 77);
    CHECK(cpu.reg.b == 185);
    CHECK(cpu.reg.c == 181);
    CHECK(cpu.reg.d == 125);
    CHECK(cpu.reg.e == 93);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 72);
    CHECK(cpu.reg.l == 224);
    CHECK(cpu.pc == 61982);
    CHECK(cpu.sp == 16858);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61981] == 4);
}

TEST_CASE( "04 00F6", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23936;
    cpu.sp = 2276;
    cpu.reg.a = 62;
    cpu.reg.b = 240;
    cpu.reg.c = 117;
    cpu.reg.d = 113;
    cpu.reg.e = 254;
    cpu.reg.f = 160;
    cpu.reg.h = 179;
    cpu.reg.l = 117;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[23936] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 62);
    CHECK(cpu.reg.b == 241);
    CHECK(cpu.reg.c == 117);
    CHECK(cpu.reg.d == 113);
    CHECK(cpu.reg.e == 254);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 179);
    CHECK(cpu.reg.l == 117);
    CHECK(cpu.pc == 23937);
    CHECK(cpu.sp == 2276);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[23936] == 4);
}

TEST_CASE( "04 00F7", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57375;
    cpu.sp = 20476;
    cpu.reg.a = 158;
    cpu.reg.b = 92;
    cpu.reg.c = 178;
    cpu.reg.d = 182;
    cpu.reg.e = 225;
    cpu.reg.f = 224;
    cpu.reg.h = 117;
    cpu.reg.l = 27;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[57375] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 158);
    CHECK(cpu.reg.b == 93);
    CHECK(cpu.reg.c == 178);
    CHECK(cpu.reg.d == 182);
    CHECK(cpu.reg.e == 225);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 117);
    CHECK(cpu.reg.l == 27);
    CHECK(cpu.pc == 57376);
    CHECK(cpu.sp == 20476);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[57375] == 4);
}

TEST_CASE( "04 00F8", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17299;
    cpu.sp = 7617;
    cpu.reg.a = 218;
    cpu.reg.b = 176;
    cpu.reg.c = 205;
    cpu.reg.d = 31;
    cpu.reg.e = 101;
    cpu.reg.f = 64;
    cpu.reg.h = 241;
    cpu.reg.l = 142;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[17299] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 218);
    CHECK(cpu.reg.b == 177);
    CHECK(cpu.reg.c == 205);
    CHECK(cpu.reg.d == 31);
    CHECK(cpu.reg.e == 101);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 142);
    CHECK(cpu.pc == 17300);
    CHECK(cpu.sp == 7617);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17299] == 4);
}

TEST_CASE( "04 00F9", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44485;
    cpu.sp = 55479;
    cpu.reg.a = 237;
    cpu.reg.b = 149;
    cpu.reg.c = 158;
    cpu.reg.d = 152;
    cpu.reg.e = 102;
    cpu.reg.f = 144;
    cpu.reg.h = 194;
    cpu.reg.l = 63;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[44485] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 237);
    CHECK(cpu.reg.b == 150);
    CHECK(cpu.reg.c == 158);
    CHECK(cpu.reg.d == 152);
    CHECK(cpu.reg.e == 102);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 194);
    CHECK(cpu.reg.l == 63);
    CHECK(cpu.pc == 44486);
    CHECK(cpu.sp == 55479);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44485] == 4);
}

TEST_CASE( "04 00FA", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47801;
    cpu.sp = 33308;
    cpu.reg.a = 117;
    cpu.reg.b = 30;
    cpu.reg.c = 204;
    cpu.reg.d = 58;
    cpu.reg.e = 211;
    cpu.reg.f = 0;
    cpu.reg.h = 234;
    cpu.reg.l = 184;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[47801] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 117);
    CHECK(cpu.reg.b == 31);
    CHECK(cpu.reg.c == 204);
    CHECK(cpu.reg.d == 58);
    CHECK(cpu.reg.e == 211);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 234);
    CHECK(cpu.reg.l == 184);
    CHECK(cpu.pc == 47802);
    CHECK(cpu.sp == 33308);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[47801] == 4);
}

TEST_CASE( "04 00FB", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35740;
    cpu.sp = 63953;
    cpu.reg.a = 185;
    cpu.reg.b = 88;
    cpu.reg.c = 189;
    cpu.reg.d = 98;
    cpu.reg.e = 160;
    cpu.reg.f = 16;
    cpu.reg.h = 57;
    cpu.reg.l = 56;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[35740] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 185);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 189);
    CHECK(cpu.reg.d == 98);
    CHECK(cpu.reg.e == 160);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 57);
    CHECK(cpu.reg.l == 56);
    CHECK(cpu.pc == 35741);
    CHECK(cpu.sp == 63953);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35740] == 4);
}

TEST_CASE( "04 00FC", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41094;
    cpu.sp = 14882;
    cpu.reg.a = 128;
    cpu.reg.b = 88;
    cpu.reg.c = 198;
    cpu.reg.d = 175;
    cpu.reg.e = 224;
    cpu.reg.f = 192;
    cpu.reg.h = 187;
    cpu.reg.l = 252;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[41094] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 128);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 198);
    CHECK(cpu.reg.d == 175);
    CHECK(cpu.reg.e == 224);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 187);
    CHECK(cpu.reg.l == 252);
    CHECK(cpu.pc == 41095);
    CHECK(cpu.sp == 14882);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[41094] == 4);
}

TEST_CASE( "04 00FD", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49500;
    cpu.sp = 13782;
    cpu.reg.a = 22;
    cpu.reg.b = 173;
    cpu.reg.c = 119;
    cpu.reg.d = 219;
    cpu.reg.e = 113;
    cpu.reg.f = 32;
    cpu.reg.h = 245;
    cpu.reg.l = 63;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[49500] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 22);
    CHECK(cpu.reg.b == 174);
    CHECK(cpu.reg.c == 119);
    CHECK(cpu.reg.d == 219);
    CHECK(cpu.reg.e == 113);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 245);
    CHECK(cpu.reg.l == 63);
    CHECK(cpu.pc == 49501);
    CHECK(cpu.sp == 13782);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49500] == 4);
}

TEST_CASE( "04 00FE", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44687;
    cpu.sp = 45980;
    cpu.reg.a = 211;
    cpu.reg.b = 55;
    cpu.reg.c = 186;
    cpu.reg.d = 254;
    cpu.reg.e = 85;
    cpu.reg.f = 48;
    cpu.reg.h = 74;
    cpu.reg.l = 211;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[44687] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 211);
    CHECK(cpu.reg.b == 56);
    CHECK(cpu.reg.c == 186);
    CHECK(cpu.reg.d == 254);
    CHECK(cpu.reg.e == 85);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 74);
    CHECK(cpu.reg.l == 211);
    CHECK(cpu.pc == 44688);
    CHECK(cpu.sp == 45980);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44687] == 4);
}

TEST_CASE( "04 00FF", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40600;
    cpu.sp = 62263;
    cpu.reg.a = 174;
    cpu.reg.b = 206;
    cpu.reg.c = 4;
    cpu.reg.d = 169;
    cpu.reg.e = 88;
    cpu.reg.f = 64;
    cpu.reg.h = 217;
    cpu.reg.l = 153;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[40600] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 174);
    CHECK(cpu.reg.b == 207);
    CHECK(cpu.reg.c == 4);
    CHECK(cpu.reg.d == 169);
    CHECK(cpu.reg.e == 88);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 217);
    CHECK(cpu.reg.l == 153);
    CHECK(cpu.pc == 40601);
    CHECK(cpu.sp == 62263);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40600] == 4);
}

TEST_CASE( "04 0100", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23517;
    cpu.sp = 4393;
    cpu.reg.a = 120;
    cpu.reg.b = 24;
    cpu.reg.c = 248;
    cpu.reg.d = 151;
    cpu.reg.e = 138;
    cpu.reg.f = 16;
    cpu.reg.h = 19;
    cpu.reg.l = 161;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[23517] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 120);
    CHECK(cpu.reg.b == 25);
    CHECK(cpu.reg.c == 248);
    CHECK(cpu.reg.d == 151);
    CHECK(cpu.reg.e == 138);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 19);
    CHECK(cpu.reg.l == 161);
    CHECK(cpu.pc == 23518);
    CHECK(cpu.sp == 4393);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23517] == 4);
}

TEST_CASE( "04 0101", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48811;
    cpu.sp = 45872;
    cpu.reg.a = 106;
    cpu.reg.b = 125;
    cpu.reg.c = 17;
    cpu.reg.d = 247;
    cpu.reg.e = 144;
    cpu.reg.f = 240;
    cpu.reg.h = 143;
    cpu.reg.l = 175;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[48811] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 106);
    CHECK(cpu.reg.b == 126);
    CHECK(cpu.reg.c == 17);
    CHECK(cpu.reg.d == 247);
    CHECK(cpu.reg.e == 144);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 143);
    CHECK(cpu.reg.l == 175);
    CHECK(cpu.pc == 48812);
    CHECK(cpu.sp == 45872);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48811] == 4);
}

TEST_CASE( "04 0102", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35035;
    cpu.sp = 58292;
    cpu.reg.a = 12;
    cpu.reg.b = 65;
    cpu.reg.c = 52;
    cpu.reg.d = 97;
    cpu.reg.e = 114;
    cpu.reg.f = 176;
    cpu.reg.h = 74;
    cpu.reg.l = 64;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[35035] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 12);
    CHECK(cpu.reg.b == 66);
    CHECK(cpu.reg.c == 52);
    CHECK(cpu.reg.d == 97);
    CHECK(cpu.reg.e == 114);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 74);
    CHECK(cpu.reg.l == 64);
    CHECK(cpu.pc == 35036);
    CHECK(cpu.sp == 58292);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35035] == 4);
}

TEST_CASE( "04 0103", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 743;
    cpu.sp = 52484;
    cpu.reg.a = 161;
    cpu.reg.b = 203;
    cpu.reg.c = 48;
    cpu.reg.d = 101;
    cpu.reg.e = 142;
    cpu.reg.f = 192;
    cpu.reg.h = 195;
    cpu.reg.l = 235;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[743] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 161);
    CHECK(cpu.reg.b == 204);
    CHECK(cpu.reg.c == 48);
    CHECK(cpu.reg.d == 101);
    CHECK(cpu.reg.e == 142);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 195);
    CHECK(cpu.reg.l == 235);
    CHECK(cpu.pc == 744);
    CHECK(cpu.sp == 52484);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[743] == 4);
}

TEST_CASE( "04 0104", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49849;
    cpu.sp = 40786;
    cpu.reg.a = 139;
    cpu.reg.b = 31;
    cpu.reg.c = 53;
    cpu.reg.d = 160;
    cpu.reg.e = 33;
    cpu.reg.f = 240;
    cpu.reg.h = 131;
    cpu.reg.l = 234;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[49849] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 139);
    CHECK(cpu.reg.b == 32);
    CHECK(cpu.reg.c == 53);
    CHECK(cpu.reg.d == 160);
    CHECK(cpu.reg.e == 33);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 131);
    CHECK(cpu.reg.l == 234);
    CHECK(cpu.pc == 49850);
    CHECK(cpu.sp == 40786);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49849] == 4);
}

TEST_CASE( "04 0105", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20672;
    cpu.sp = 42194;
    cpu.reg.a = 224;
    cpu.reg.b = 144;
    cpu.reg.c = 123;
    cpu.reg.d = 89;
    cpu.reg.e = 72;
    cpu.reg.f = 16;
    cpu.reg.h = 229;
    cpu.reg.l = 187;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[20672] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 145);
    CHECK(cpu.reg.c == 123);
    CHECK(cpu.reg.d == 89);
    CHECK(cpu.reg.e == 72);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 229);
    CHECK(cpu.reg.l == 187);
    CHECK(cpu.pc == 20673);
    CHECK(cpu.sp == 42194);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[20672] == 4);
}

TEST_CASE( "04 0106", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55398;
    cpu.sp = 6518;
    cpu.reg.a = 230;
    cpu.reg.b = 81;
    cpu.reg.c = 43;
    cpu.reg.d = 68;
    cpu.reg.e = 37;
    cpu.reg.f = 32;
    cpu.reg.h = 240;
    cpu.reg.l = 82;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[55398] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 230);
    CHECK(cpu.reg.b == 82);
    CHECK(cpu.reg.c == 43);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 37);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 240);
    CHECK(cpu.reg.l == 82);
    CHECK(cpu.pc == 55399);
    CHECK(cpu.sp == 6518);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55398] == 4);
}

TEST_CASE( "04 0107", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16199;
    cpu.sp = 57472;
    cpu.reg.a = 71;
    cpu.reg.b = 44;
    cpu.reg.c = 238;
    cpu.reg.d = 124;
    cpu.reg.e = 223;
    cpu.reg.f = 64;
    cpu.reg.h = 213;
    cpu.reg.l = 68;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[16199] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 71);
    CHECK(cpu.reg.b == 45);
    CHECK(cpu.reg.c == 238);
    CHECK(cpu.reg.d == 124);
    CHECK(cpu.reg.e == 223);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 213);
    CHECK(cpu.reg.l == 68);
    CHECK(cpu.pc == 16200);
    CHECK(cpu.sp == 57472);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16199] == 4);
}

TEST_CASE( "04 0108", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58302;
    cpu.sp = 37859;
    cpu.reg.a = 240;
    cpu.reg.b = 5;
    cpu.reg.c = 230;
    cpu.reg.d = 70;
    cpu.reg.e = 189;
    cpu.reg.f = 112;
    cpu.reg.h = 125;
    cpu.reg.l = 253;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[58302] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 240);
    CHECK(cpu.reg.b == 6);
    CHECK(cpu.reg.c == 230);
    CHECK(cpu.reg.d == 70);
    CHECK(cpu.reg.e == 189);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 125);
    CHECK(cpu.reg.l == 253);
    CHECK(cpu.pc == 58303);
    CHECK(cpu.sp == 37859);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[58302] == 4);
}

TEST_CASE( "04 0109", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45649;
    cpu.sp = 32530;
    cpu.reg.a = 229;
    cpu.reg.b = 134;
    cpu.reg.c = 55;
    cpu.reg.d = 147;
    cpu.reg.e = 164;
    cpu.reg.f = 128;
    cpu.reg.h = 231;
    cpu.reg.l = 62;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[45649] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 229);
    CHECK(cpu.reg.b == 135);
    CHECK(cpu.reg.c == 55);
    CHECK(cpu.reg.d == 147);
    CHECK(cpu.reg.e == 164);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 231);
    CHECK(cpu.reg.l == 62);
    CHECK(cpu.pc == 45650);
    CHECK(cpu.sp == 32530);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45649] == 4);
}

TEST_CASE( "04 010A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60767;
    cpu.sp = 8972;
    cpu.reg.a = 214;
    cpu.reg.b = 254;
    cpu.reg.c = 148;
    cpu.reg.d = 74;
    cpu.reg.e = 56;
    cpu.reg.f = 0;
    cpu.reg.h = 143;
    cpu.reg.l = 161;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[60767] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 214);
    CHECK(cpu.reg.b == 255);
    CHECK(cpu.reg.c == 148);
    CHECK(cpu.reg.d == 74);
    CHECK(cpu.reg.e == 56);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 143);
    CHECK(cpu.reg.l == 161);
    CHECK(cpu.pc == 60768);
    CHECK(cpu.sp == 8972);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[60767] == 4);
}

TEST_CASE( "04 010B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56196;
    cpu.sp = 52091;
    cpu.reg.a = 10;
    cpu.reg.b = 74;
    cpu.reg.c = 24;
    cpu.reg.d = 133;
    cpu.reg.e = 178;
    cpu.reg.f = 160;
    cpu.reg.h = 23;
    cpu.reg.l = 225;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[56196] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 10);
    CHECK(cpu.reg.b == 75);
    CHECK(cpu.reg.c == 24);
    CHECK(cpu.reg.d == 133);
    CHECK(cpu.reg.e == 178);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 23);
    CHECK(cpu.reg.l == 225);
    CHECK(cpu.pc == 56197);
    CHECK(cpu.sp == 52091);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56196] == 4);
}

TEST_CASE( "04 010C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9329;
    cpu.sp = 59180;
    cpu.reg.a = 188;
    cpu.reg.b = 224;
    cpu.reg.c = 180;
    cpu.reg.d = 81;
    cpu.reg.e = 201;
    cpu.reg.f = 96;
    cpu.reg.h = 16;
    cpu.reg.l = 69;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[9329] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 188);
    CHECK(cpu.reg.b == 225);
    CHECK(cpu.reg.c == 180);
    CHECK(cpu.reg.d == 81);
    CHECK(cpu.reg.e == 201);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 16);
    CHECK(cpu.reg.l == 69);
    CHECK(cpu.pc == 9330);
    CHECK(cpu.sp == 59180);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9329] == 4);
}

TEST_CASE( "04 010D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57353;
    cpu.sp = 9087;
    cpu.reg.a = 241;
    cpu.reg.b = 75;
    cpu.reg.c = 198;
    cpu.reg.d = 91;
    cpu.reg.e = 19;
    cpu.reg.f = 224;
    cpu.reg.h = 231;
    cpu.reg.l = 76;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[57353] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 241);
    CHECK(cpu.reg.b == 76);
    CHECK(cpu.reg.c == 198);
    CHECK(cpu.reg.d == 91);
    CHECK(cpu.reg.e == 19);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 231);
    CHECK(cpu.reg.l == 76);
    CHECK(cpu.pc == 57354);
    CHECK(cpu.sp == 9087);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[57353] == 4);
}

TEST_CASE( "04 010E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13296;
    cpu.sp = 17349;
    cpu.reg.a = 187;
    cpu.reg.b = 61;
    cpu.reg.c = 93;
    cpu.reg.d = 104;
    cpu.reg.e = 18;
    cpu.reg.f = 32;
    cpu.reg.h = 50;
    cpu.reg.l = 61;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[13296] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 187);
    CHECK(cpu.reg.b == 62);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 104);
    CHECK(cpu.reg.e == 18);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 50);
    CHECK(cpu.reg.l == 61);
    CHECK(cpu.pc == 13297);
    CHECK(cpu.sp == 17349);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13296] == 4);
}

TEST_CASE( "04 010F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64853;
    cpu.sp = 37866;
    cpu.reg.a = 149;
    cpu.reg.b = 0;
    cpu.reg.c = 103;
    cpu.reg.d = 148;
    cpu.reg.e = 205;
    cpu.reg.f = 160;
    cpu.reg.h = 204;
    cpu.reg.l = 183;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[64853] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 149);
    CHECK(cpu.reg.b == 1);
    CHECK(cpu.reg.c == 103);
    CHECK(cpu.reg.d == 148);
    CHECK(cpu.reg.e == 205);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 204);
    CHECK(cpu.reg.l == 183);
    CHECK(cpu.pc == 64854);
    CHECK(cpu.sp == 37866);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64853] == 4);
}

TEST_CASE( "04 0110", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38581;
    cpu.sp = 44791;
    cpu.reg.a = 27;
    cpu.reg.b = 68;
    cpu.reg.c = 246;
    cpu.reg.d = 188;
    cpu.reg.e = 80;
    cpu.reg.f = 32;
    cpu.reg.h = 80;
    cpu.reg.l = 39;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[38581] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 27);
    CHECK(cpu.reg.b == 69);
    CHECK(cpu.reg.c == 246);
    CHECK(cpu.reg.d == 188);
    CHECK(cpu.reg.e == 80);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 80);
    CHECK(cpu.reg.l == 39);
    CHECK(cpu.pc == 38582);
    CHECK(cpu.sp == 44791);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38581] == 4);
}

TEST_CASE( "04 0111", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55817;
    cpu.sp = 10134;
    cpu.reg.a = 136;
    cpu.reg.b = 124;
    cpu.reg.c = 247;
    cpu.reg.d = 182;
    cpu.reg.e = 141;
    cpu.reg.f = 112;
    cpu.reg.h = 0;
    cpu.reg.l = 197;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[55817] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 136);
    CHECK(cpu.reg.b == 125);
    CHECK(cpu.reg.c == 247);
    CHECK(cpu.reg.d == 182);
    CHECK(cpu.reg.e == 141);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 0);
    CHECK(cpu.reg.l == 197);
    CHECK(cpu.pc == 55818);
    CHECK(cpu.sp == 10134);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55817] == 4);
}

TEST_CASE( "04 0112", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11442;
    cpu.sp = 28350;
    cpu.reg.a = 66;
    cpu.reg.b = 79;
    cpu.reg.c = 91;
    cpu.reg.d = 33;
    cpu.reg.e = 198;
    cpu.reg.f = 96;
    cpu.reg.h = 159;
    cpu.reg.l = 53;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[11442] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 66);
    CHECK(cpu.reg.b == 80);
    CHECK(cpu.reg.c == 91);
    CHECK(cpu.reg.d == 33);
    CHECK(cpu.reg.e == 198);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 159);
    CHECK(cpu.reg.l == 53);
    CHECK(cpu.pc == 11443);
    CHECK(cpu.sp == 28350);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11442] == 4);
}

TEST_CASE( "04 0113", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18000;
    cpu.sp = 55434;
    cpu.reg.a = 0;
    cpu.reg.b = 82;
    cpu.reg.c = 253;
    cpu.reg.d = 174;
    cpu.reg.e = 118;
    cpu.reg.f = 144;
    cpu.reg.h = 188;
    cpu.reg.l = 187;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[18000] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 0);
    CHECK(cpu.reg.b == 83);
    CHECK(cpu.reg.c == 253);
    CHECK(cpu.reg.d == 174);
    CHECK(cpu.reg.e == 118);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 188);
    CHECK(cpu.reg.l == 187);
    CHECK(cpu.pc == 18001);
    CHECK(cpu.sp == 55434);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18000] == 4);
}

TEST_CASE( "04 0114", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16317;
    cpu.sp = 26929;
    cpu.reg.a = 204;
    cpu.reg.b = 208;
    cpu.reg.c = 231;
    cpu.reg.d = 223;
    cpu.reg.e = 135;
    cpu.reg.f = 176;
    cpu.reg.h = 99;
    cpu.reg.l = 37;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[16317] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 204);
    CHECK(cpu.reg.b == 209);
    CHECK(cpu.reg.c == 231);
    CHECK(cpu.reg.d == 223);
    CHECK(cpu.reg.e == 135);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 99);
    CHECK(cpu.reg.l == 37);
    CHECK(cpu.pc == 16318);
    CHECK(cpu.sp == 26929);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16317] == 4);
}

TEST_CASE( "04 0115", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62962;
    cpu.sp = 12626;
    cpu.reg.a = 164;
    cpu.reg.b = 238;
    cpu.reg.c = 213;
    cpu.reg.d = 241;
    cpu.reg.e = 253;
    cpu.reg.f = 48;
    cpu.reg.h = 190;
    cpu.reg.l = 207;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[62962] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 164);
    CHECK(cpu.reg.b == 239);
    CHECK(cpu.reg.c == 213);
    CHECK(cpu.reg.d == 241);
    CHECK(cpu.reg.e == 253);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 190);
    CHECK(cpu.reg.l == 207);
    CHECK(cpu.pc == 62963);
    CHECK(cpu.sp == 12626);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[62962] == 4);
}

TEST_CASE( "04 0116", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60203;
    cpu.sp = 37276;
    cpu.reg.a = 83;
    cpu.reg.b = 149;
    cpu.reg.c = 40;
    cpu.reg.d = 81;
    cpu.reg.e = 12;
    cpu.reg.f = 160;
    cpu.reg.h = 85;
    cpu.reg.l = 230;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[60203] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 83);
    CHECK(cpu.reg.b == 150);
    CHECK(cpu.reg.c == 40);
    CHECK(cpu.reg.d == 81);
    CHECK(cpu.reg.e == 12);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 85);
    CHECK(cpu.reg.l == 230);
    CHECK(cpu.pc == 60204);
    CHECK(cpu.sp == 37276);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[60203] == 4);
}

TEST_CASE( "04 0117", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37212;
    cpu.sp = 64598;
    cpu.reg.a = 120;
    cpu.reg.b = 20;
    cpu.reg.c = 18;
    cpu.reg.d = 195;
    cpu.reg.e = 147;
    cpu.reg.f = 32;
    cpu.reg.h = 71;
    cpu.reg.l = 78;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[37212] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 120);
    CHECK(cpu.reg.b == 21);
    CHECK(cpu.reg.c == 18);
    CHECK(cpu.reg.d == 195);
    CHECK(cpu.reg.e == 147);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 71);
    CHECK(cpu.reg.l == 78);
    CHECK(cpu.pc == 37213);
    CHECK(cpu.sp == 64598);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[37212] == 4);
}

TEST_CASE( "04 0118", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17714;
    cpu.sp = 20960;
    cpu.reg.a = 93;
    cpu.reg.b = 103;
    cpu.reg.c = 48;
    cpu.reg.d = 149;
    cpu.reg.e = 95;
    cpu.reg.f = 176;
    cpu.reg.h = 112;
    cpu.reg.l = 58;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[17714] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 93);
    CHECK(cpu.reg.b == 104);
    CHECK(cpu.reg.c == 48);
    CHECK(cpu.reg.d == 149);
    CHECK(cpu.reg.e == 95);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 112);
    CHECK(cpu.reg.l == 58);
    CHECK(cpu.pc == 17715);
    CHECK(cpu.sp == 20960);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17714] == 4);
}

TEST_CASE( "04 0119", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27694;
    cpu.sp = 52515;
    cpu.reg.a = 13;
    cpu.reg.b = 90;
    cpu.reg.c = 57;
    cpu.reg.d = 94;
    cpu.reg.e = 47;
    cpu.reg.f = 128;
    cpu.reg.h = 126;
    cpu.reg.l = 137;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[27694] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 13);
    CHECK(cpu.reg.b == 91);
    CHECK(cpu.reg.c == 57);
    CHECK(cpu.reg.d == 94);
    CHECK(cpu.reg.e == 47);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 126);
    CHECK(cpu.reg.l == 137);
    CHECK(cpu.pc == 27695);
    CHECK(cpu.sp == 52515);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27694] == 4);
}

TEST_CASE( "04 011A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8221;
    cpu.sp = 3412;
    cpu.reg.a = 247;
    cpu.reg.b = 234;
    cpu.reg.c = 204;
    cpu.reg.d = 213;
    cpu.reg.e = 94;
    cpu.reg.f = 192;
    cpu.reg.h = 132;
    cpu.reg.l = 25;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[8221] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 247);
    CHECK(cpu.reg.b == 235);
    CHECK(cpu.reg.c == 204);
    CHECK(cpu.reg.d == 213);
    CHECK(cpu.reg.e == 94);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 132);
    CHECK(cpu.reg.l == 25);
    CHECK(cpu.pc == 8222);
    CHECK(cpu.sp == 3412);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8221] == 4);
}

TEST_CASE( "04 011B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62833;
    cpu.sp = 40883;
    cpu.reg.a = 88;
    cpu.reg.b = 9;
    cpu.reg.c = 120;
    cpu.reg.d = 240;
    cpu.reg.e = 252;
    cpu.reg.f = 208;
    cpu.reg.h = 64;
    cpu.reg.l = 177;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[62833] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 88);
    CHECK(cpu.reg.b == 10);
    CHECK(cpu.reg.c == 120);
    CHECK(cpu.reg.d == 240);
    CHECK(cpu.reg.e == 252);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 64);
    CHECK(cpu.reg.l == 177);
    CHECK(cpu.pc == 62834);
    CHECK(cpu.sp == 40883);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62833] == 4);
}

TEST_CASE( "04 011C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41569;
    cpu.sp = 7525;
    cpu.reg.a = 188;
    cpu.reg.b = 232;
    cpu.reg.c = 175;
    cpu.reg.d = 49;
    cpu.reg.e = 24;
    cpu.reg.f = 176;
    cpu.reg.h = 34;
    cpu.reg.l = 165;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[41569] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 188);
    CHECK(cpu.reg.b == 233);
    CHECK(cpu.reg.c == 175);
    CHECK(cpu.reg.d == 49);
    CHECK(cpu.reg.e == 24);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 34);
    CHECK(cpu.reg.l == 165);
    CHECK(cpu.pc == 41570);
    CHECK(cpu.sp == 7525);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41569] == 4);
}

TEST_CASE( "04 011D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32232;
    cpu.sp = 54179;
    cpu.reg.a = 26;
    cpu.reg.b = 72;
    cpu.reg.c = 145;
    cpu.reg.d = 21;
    cpu.reg.e = 107;
    cpu.reg.f = 0;
    cpu.reg.h = 135;
    cpu.reg.l = 231;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[32232] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 26);
    CHECK(cpu.reg.b == 73);
    CHECK(cpu.reg.c == 145);
    CHECK(cpu.reg.d == 21);
    CHECK(cpu.reg.e == 107);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 135);
    CHECK(cpu.reg.l == 231);
    CHECK(cpu.pc == 32233);
    CHECK(cpu.sp == 54179);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[32232] == 4);
}

TEST_CASE( "04 011E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16310;
    cpu.sp = 53834;
    cpu.reg.a = 168;
    cpu.reg.b = 250;
    cpu.reg.c = 246;
    cpu.reg.d = 193;
    cpu.reg.e = 114;
    cpu.reg.f = 176;
    cpu.reg.h = 39;
    cpu.reg.l = 60;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[16310] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 168);
    CHECK(cpu.reg.b == 251);
    CHECK(cpu.reg.c == 246);
    CHECK(cpu.reg.d == 193);
    CHECK(cpu.reg.e == 114);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 39);
    CHECK(cpu.reg.l == 60);
    CHECK(cpu.pc == 16311);
    CHECK(cpu.sp == 53834);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16310] == 4);
}

TEST_CASE( "04 011F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42096;
    cpu.sp = 57518;
    cpu.reg.a = 82;
    cpu.reg.b = 237;
    cpu.reg.c = 66;
    cpu.reg.d = 123;
    cpu.reg.e = 20;
    cpu.reg.f = 64;
    cpu.reg.h = 95;
    cpu.reg.l = 202;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[42096] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 82);
    CHECK(cpu.reg.b == 238);
    CHECK(cpu.reg.c == 66);
    CHECK(cpu.reg.d == 123);
    CHECK(cpu.reg.e == 20);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 95);
    CHECK(cpu.reg.l == 202);
    CHECK(cpu.pc == 42097);
    CHECK(cpu.sp == 57518);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[42096] == 4);
}

TEST_CASE( "04 0120", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25882;
    cpu.sp = 13686;
    cpu.reg.a = 37;
    cpu.reg.b = 85;
    cpu.reg.c = 107;
    cpu.reg.d = 201;
    cpu.reg.e = 7;
    cpu.reg.f = 32;
    cpu.reg.h = 48;
    cpu.reg.l = 59;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[25882] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 37);
    CHECK(cpu.reg.b == 86);
    CHECK(cpu.reg.c == 107);
    CHECK(cpu.reg.d == 201);
    CHECK(cpu.reg.e == 7);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 48);
    CHECK(cpu.reg.l == 59);
    CHECK(cpu.pc == 25883);
    CHECK(cpu.sp == 13686);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25882] == 4);
}

TEST_CASE( "04 0121", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26167;
    cpu.sp = 34941;
    cpu.reg.a = 182;
    cpu.reg.b = 214;
    cpu.reg.c = 15;
    cpu.reg.d = 204;
    cpu.reg.e = 101;
    cpu.reg.f = 224;
    cpu.reg.h = 13;
    cpu.reg.l = 75;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26167] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 182);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 15);
    CHECK(cpu.reg.d == 204);
    CHECK(cpu.reg.e == 101);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 13);
    CHECK(cpu.reg.l == 75);
    CHECK(cpu.pc == 26168);
    CHECK(cpu.sp == 34941);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26167] == 4);
}

TEST_CASE( "04 0122", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56489;
    cpu.sp = 45767;
    cpu.reg.a = 146;
    cpu.reg.b = 180;
    cpu.reg.c = 95;
    cpu.reg.d = 40;
    cpu.reg.e = 223;
    cpu.reg.f = 160;
    cpu.reg.h = 187;
    cpu.reg.l = 145;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[56489] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 146);
    CHECK(cpu.reg.b == 181);
    CHECK(cpu.reg.c == 95);
    CHECK(cpu.reg.d == 40);
    CHECK(cpu.reg.e == 223);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 187);
    CHECK(cpu.reg.l == 145);
    CHECK(cpu.pc == 56490);
    CHECK(cpu.sp == 45767);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56489] == 4);
}

TEST_CASE( "04 0123", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11999;
    cpu.sp = 27200;
    cpu.reg.a = 203;
    cpu.reg.b = 216;
    cpu.reg.c = 104;
    cpu.reg.d = 92;
    cpu.reg.e = 216;
    cpu.reg.f = 208;
    cpu.reg.h = 231;
    cpu.reg.l = 114;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[11999] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 203);
    CHECK(cpu.reg.b == 217);
    CHECK(cpu.reg.c == 104);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 216);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 231);
    CHECK(cpu.reg.l == 114);
    CHECK(cpu.pc == 12000);
    CHECK(cpu.sp == 27200);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11999] == 4);
}

TEST_CASE( "04 0124", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61330;
    cpu.sp = 44033;
    cpu.reg.a = 63;
    cpu.reg.b = 27;
    cpu.reg.c = 84;
    cpu.reg.d = 226;
    cpu.reg.e = 127;
    cpu.reg.f = 48;
    cpu.reg.h = 250;
    cpu.reg.l = 71;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[61330] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 63);
    CHECK(cpu.reg.b == 28);
    CHECK(cpu.reg.c == 84);
    CHECK(cpu.reg.d == 226);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 250);
    CHECK(cpu.reg.l == 71);
    CHECK(cpu.pc == 61331);
    CHECK(cpu.sp == 44033);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61330] == 4);
}

TEST_CASE( "04 0125", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52786;
    cpu.sp = 27152;
    cpu.reg.a = 223;
    cpu.reg.b = 141;
    cpu.reg.c = 173;
    cpu.reg.d = 61;
    cpu.reg.e = 69;
    cpu.reg.f = 208;
    cpu.reg.h = 165;
    cpu.reg.l = 156;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[52786] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 223);
    CHECK(cpu.reg.b == 142);
    CHECK(cpu.reg.c == 173);
    CHECK(cpu.reg.d == 61);
    CHECK(cpu.reg.e == 69);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 165);
    CHECK(cpu.reg.l == 156);
    CHECK(cpu.pc == 52787);
    CHECK(cpu.sp == 27152);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[52786] == 4);
}

TEST_CASE( "04 0126", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46771;
    cpu.sp = 54672;
    cpu.reg.a = 198;
    cpu.reg.b = 254;
    cpu.reg.c = 114;
    cpu.reg.d = 95;
    cpu.reg.e = 149;
    cpu.reg.f = 112;
    cpu.reg.h = 183;
    cpu.reg.l = 127;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[46771] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 198);
    CHECK(cpu.reg.b == 255);
    CHECK(cpu.reg.c == 114);
    CHECK(cpu.reg.d == 95);
    CHECK(cpu.reg.e == 149);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 183);
    CHECK(cpu.reg.l == 127);
    CHECK(cpu.pc == 46772);
    CHECK(cpu.sp == 54672);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46771] == 4);
}

TEST_CASE( "04 0127", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9489;
    cpu.sp = 42647;
    cpu.reg.a = 38;
    cpu.reg.b = 55;
    cpu.reg.c = 32;
    cpu.reg.d = 171;
    cpu.reg.e = 172;
    cpu.reg.f = 32;
    cpu.reg.h = 164;
    cpu.reg.l = 9;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[9489] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 38);
    CHECK(cpu.reg.b == 56);
    CHECK(cpu.reg.c == 32);
    CHECK(cpu.reg.d == 171);
    CHECK(cpu.reg.e == 172);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 164);
    CHECK(cpu.reg.l == 9);
    CHECK(cpu.pc == 9490);
    CHECK(cpu.sp == 42647);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9489] == 4);
}

TEST_CASE( "04 0128", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22299;
    cpu.sp = 20998;
    cpu.reg.a = 64;
    cpu.reg.b = 11;
    cpu.reg.c = 61;
    cpu.reg.d = 131;
    cpu.reg.e = 29;
    cpu.reg.f = 144;
    cpu.reg.h = 140;
    cpu.reg.l = 138;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[22299] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 12);
    CHECK(cpu.reg.c == 61);
    CHECK(cpu.reg.d == 131);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 140);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 22300);
    CHECK(cpu.sp == 20998);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22299] == 4);
}

TEST_CASE( "04 0129", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15656;
    cpu.sp = 29507;
    cpu.reg.a = 165;
    cpu.reg.b = 41;
    cpu.reg.c = 24;
    cpu.reg.d = 51;
    cpu.reg.e = 179;
    cpu.reg.f = 240;
    cpu.reg.h = 216;
    cpu.reg.l = 198;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[15656] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 165);
    CHECK(cpu.reg.b == 42);
    CHECK(cpu.reg.c == 24);
    CHECK(cpu.reg.d == 51);
    CHECK(cpu.reg.e == 179);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 216);
    CHECK(cpu.reg.l == 198);
    CHECK(cpu.pc == 15657);
    CHECK(cpu.sp == 29507);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15656] == 4);
}

TEST_CASE( "04 012A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19115;
    cpu.sp = 16022;
    cpu.reg.a = 198;
    cpu.reg.b = 70;
    cpu.reg.c = 26;
    cpu.reg.d = 111;
    cpu.reg.e = 220;
    cpu.reg.f = 80;
    cpu.reg.h = 89;
    cpu.reg.l = 107;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[19115] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 198);
    CHECK(cpu.reg.b == 71);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 111);
    CHECK(cpu.reg.e == 220);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 89);
    CHECK(cpu.reg.l == 107);
    CHECK(cpu.pc == 19116);
    CHECK(cpu.sp == 16022);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19115] == 4);
}

TEST_CASE( "04 012B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25813;
    cpu.sp = 17902;
    cpu.reg.a = 146;
    cpu.reg.b = 24;
    cpu.reg.c = 59;
    cpu.reg.d = 81;
    cpu.reg.e = 33;
    cpu.reg.f = 144;
    cpu.reg.h = 92;
    cpu.reg.l = 49;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[25813] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 146);
    CHECK(cpu.reg.b == 25);
    CHECK(cpu.reg.c == 59);
    CHECK(cpu.reg.d == 81);
    CHECK(cpu.reg.e == 33);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 92);
    CHECK(cpu.reg.l == 49);
    CHECK(cpu.pc == 25814);
    CHECK(cpu.sp == 17902);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25813] == 4);
}

TEST_CASE( "04 012C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6253;
    cpu.sp = 40274;
    cpu.reg.a = 14;
    cpu.reg.b = 204;
    cpu.reg.c = 109;
    cpu.reg.d = 77;
    cpu.reg.e = 215;
    cpu.reg.f = 224;
    cpu.reg.h = 189;
    cpu.reg.l = 42;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[6253] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 14);
    CHECK(cpu.reg.b == 205);
    CHECK(cpu.reg.c == 109);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 215);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 189);
    CHECK(cpu.reg.l == 42);
    CHECK(cpu.pc == 6254);
    CHECK(cpu.sp == 40274);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6253] == 4);
}

TEST_CASE( "04 012D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38464;
    cpu.sp = 22504;
    cpu.reg.a = 76;
    cpu.reg.b = 68;
    cpu.reg.c = 178;
    cpu.reg.d = 23;
    cpu.reg.e = 251;
    cpu.reg.f = 144;
    cpu.reg.h = 97;
    cpu.reg.l = 163;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[38464] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 76);
    CHECK(cpu.reg.b == 69);
    CHECK(cpu.reg.c == 178);
    CHECK(cpu.reg.d == 23);
    CHECK(cpu.reg.e == 251);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 97);
    CHECK(cpu.reg.l == 163);
    CHECK(cpu.pc == 38465);
    CHECK(cpu.sp == 22504);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38464] == 4);
}

TEST_CASE( "04 012E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23201;
    cpu.sp = 26208;
    cpu.reg.a = 53;
    cpu.reg.b = 57;
    cpu.reg.c = 77;
    cpu.reg.d = 174;
    cpu.reg.e = 229;
    cpu.reg.f = 144;
    cpu.reg.h = 202;
    cpu.reg.l = 198;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[23201] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 53);
    CHECK(cpu.reg.b == 58);
    CHECK(cpu.reg.c == 77);
    CHECK(cpu.reg.d == 174);
    CHECK(cpu.reg.e == 229);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 202);
    CHECK(cpu.reg.l == 198);
    CHECK(cpu.pc == 23202);
    CHECK(cpu.sp == 26208);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23201] == 4);
}

TEST_CASE( "04 012F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13978;
    cpu.sp = 32269;
    cpu.reg.a = 45;
    cpu.reg.b = 22;
    cpu.reg.c = 33;
    cpu.reg.d = 95;
    cpu.reg.e = 239;
    cpu.reg.f = 128;
    cpu.reg.h = 203;
    cpu.reg.l = 204;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[13978] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 45);
    CHECK(cpu.reg.b == 23);
    CHECK(cpu.reg.c == 33);
    CHECK(cpu.reg.d == 95);
    CHECK(cpu.reg.e == 239);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 203);
    CHECK(cpu.reg.l == 204);
    CHECK(cpu.pc == 13979);
    CHECK(cpu.sp == 32269);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13978] == 4);
}

TEST_CASE( "04 0130", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51126;
    cpu.sp = 2826;
    cpu.reg.a = 165;
    cpu.reg.b = 192;
    cpu.reg.c = 14;
    cpu.reg.d = 26;
    cpu.reg.e = 7;
    cpu.reg.f = 64;
    cpu.reg.h = 84;
    cpu.reg.l = 94;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[51126] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 165);
    CHECK(cpu.reg.b == 193);
    CHECK(cpu.reg.c == 14);
    CHECK(cpu.reg.d == 26);
    CHECK(cpu.reg.e == 7);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 84);
    CHECK(cpu.reg.l == 94);
    CHECK(cpu.pc == 51127);
    CHECK(cpu.sp == 2826);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51126] == 4);
}

TEST_CASE( "04 0131", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61645;
    cpu.sp = 2714;
    cpu.reg.a = 65;
    cpu.reg.b = 55;
    cpu.reg.c = 9;
    cpu.reg.d = 92;
    cpu.reg.e = 127;
    cpu.reg.f = 224;
    cpu.reg.h = 170;
    cpu.reg.l = 111;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[61645] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 65);
    CHECK(cpu.reg.b == 56);
    CHECK(cpu.reg.c == 9);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 170);
    CHECK(cpu.reg.l == 111);
    CHECK(cpu.pc == 61646);
    CHECK(cpu.sp == 2714);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61645] == 4);
}

TEST_CASE( "04 0132", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32977;
    cpu.sp = 31913;
    cpu.reg.a = 241;
    cpu.reg.b = 200;
    cpu.reg.c = 116;
    cpu.reg.d = 243;
    cpu.reg.e = 116;
    cpu.reg.f = 160;
    cpu.reg.h = 110;
    cpu.reg.l = 249;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[32977] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 241);
    CHECK(cpu.reg.b == 201);
    CHECK(cpu.reg.c == 116);
    CHECK(cpu.reg.d == 243);
    CHECK(cpu.reg.e == 116);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 110);
    CHECK(cpu.reg.l == 249);
    CHECK(cpu.pc == 32978);
    CHECK(cpu.sp == 31913);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32977] == 4);
}

TEST_CASE( "04 0133", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14152;
    cpu.sp = 65140;
    cpu.reg.a = 189;
    cpu.reg.b = 102;
    cpu.reg.c = 59;
    cpu.reg.d = 252;
    cpu.reg.e = 95;
    cpu.reg.f = 0;
    cpu.reg.h = 124;
    cpu.reg.l = 117;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[14152] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 189);
    CHECK(cpu.reg.b == 103);
    CHECK(cpu.reg.c == 59);
    CHECK(cpu.reg.d == 252);
    CHECK(cpu.reg.e == 95);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 124);
    CHECK(cpu.reg.l == 117);
    CHECK(cpu.pc == 14153);
    CHECK(cpu.sp == 65140);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14152] == 4);
}

TEST_CASE( "04 0134", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39857;
    cpu.sp = 10564;
    cpu.reg.a = 187;
    cpu.reg.b = 130;
    cpu.reg.c = 57;
    cpu.reg.d = 59;
    cpu.reg.e = 2;
    cpu.reg.f = 160;
    cpu.reg.h = 143;
    cpu.reg.l = 74;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[39857] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 187);
    CHECK(cpu.reg.b == 131);
    CHECK(cpu.reg.c == 57);
    CHECK(cpu.reg.d == 59);
    CHECK(cpu.reg.e == 2);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 143);
    CHECK(cpu.reg.l == 74);
    CHECK(cpu.pc == 39858);
    CHECK(cpu.sp == 10564);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39857] == 4);
}

TEST_CASE( "04 0135", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43311;
    cpu.sp = 22022;
    cpu.reg.a = 143;
    cpu.reg.b = 255;
    cpu.reg.c = 105;
    cpu.reg.d = 96;
    cpu.reg.e = 56;
    cpu.reg.f = 16;
    cpu.reg.h = 235;
    cpu.reg.l = 247;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[43311] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 143);
    CHECK(cpu.reg.b == 0);
    CHECK(cpu.reg.c == 105);
    CHECK(cpu.reg.d == 96);
    CHECK(cpu.reg.e == 56);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 235);
    CHECK(cpu.reg.l == 247);
    CHECK(cpu.pc == 43312);
    CHECK(cpu.sp == 22022);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[43311] == 4);
}

TEST_CASE( "04 0136", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37209;
    cpu.sp = 22586;
    cpu.reg.a = 210;
    cpu.reg.b = 248;
    cpu.reg.c = 69;
    cpu.reg.d = 14;
    cpu.reg.e = 196;
    cpu.reg.f = 176;
    cpu.reg.h = 120;
    cpu.reg.l = 206;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[37209] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 210);
    CHECK(cpu.reg.b == 249);
    CHECK(cpu.reg.c == 69);
    CHECK(cpu.reg.d == 14);
    CHECK(cpu.reg.e == 196);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 120);
    CHECK(cpu.reg.l == 206);
    CHECK(cpu.pc == 37210);
    CHECK(cpu.sp == 22586);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[37209] == 4);
}

TEST_CASE( "04 0137", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41571;
    cpu.sp = 18226;
    cpu.reg.a = 107;
    cpu.reg.b = 55;
    cpu.reg.c = 109;
    cpu.reg.d = 16;
    cpu.reg.e = 236;
    cpu.reg.f = 176;
    cpu.reg.h = 199;
    cpu.reg.l = 53;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[41571] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 107);
    CHECK(cpu.reg.b == 56);
    CHECK(cpu.reg.c == 109);
    CHECK(cpu.reg.d == 16);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 199);
    CHECK(cpu.reg.l == 53);
    CHECK(cpu.pc == 41572);
    CHECK(cpu.sp == 18226);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41571] == 4);
}

TEST_CASE( "04 0138", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19155;
    cpu.sp = 63036;
    cpu.reg.a = 156;
    cpu.reg.b = 116;
    cpu.reg.c = 186;
    cpu.reg.d = 204;
    cpu.reg.e = 13;
    cpu.reg.f = 0;
    cpu.reg.h = 181;
    cpu.reg.l = 201;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[19155] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 156);
    CHECK(cpu.reg.b == 117);
    CHECK(cpu.reg.c == 186);
    CHECK(cpu.reg.d == 204);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 181);
    CHECK(cpu.reg.l == 201);
    CHECK(cpu.pc == 19156);
    CHECK(cpu.sp == 63036);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19155] == 4);
}

TEST_CASE( "04 0139", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22452;
    cpu.sp = 2108;
    cpu.reg.a = 204;
    cpu.reg.b = 14;
    cpu.reg.c = 85;
    cpu.reg.d = 232;
    cpu.reg.e = 230;
    cpu.reg.f = 64;
    cpu.reg.h = 129;
    cpu.reg.l = 243;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[22452] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 204);
    CHECK(cpu.reg.b == 15);
    CHECK(cpu.reg.c == 85);
    CHECK(cpu.reg.d == 232);
    CHECK(cpu.reg.e == 230);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 129);
    CHECK(cpu.reg.l == 243);
    CHECK(cpu.pc == 22453);
    CHECK(cpu.sp == 2108);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22452] == 4);
}

TEST_CASE( "04 013A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25919;
    cpu.sp = 33255;
    cpu.reg.a = 231;
    cpu.reg.b = 130;
    cpu.reg.c = 106;
    cpu.reg.d = 42;
    cpu.reg.e = 176;
    cpu.reg.f = 160;
    cpu.reg.h = 234;
    cpu.reg.l = 91;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[25919] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 231);
    CHECK(cpu.reg.b == 131);
    CHECK(cpu.reg.c == 106);
    CHECK(cpu.reg.d == 42);
    CHECK(cpu.reg.e == 176);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 234);
    CHECK(cpu.reg.l == 91);
    CHECK(cpu.pc == 25920);
    CHECK(cpu.sp == 33255);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25919] == 4);
}

TEST_CASE( "04 013B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62778;
    cpu.sp = 398;
    cpu.reg.a = 200;
    cpu.reg.b = 104;
    cpu.reg.c = 214;
    cpu.reg.d = 33;
    cpu.reg.e = 55;
    cpu.reg.f = 144;
    cpu.reg.h = 109;
    cpu.reg.l = 15;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[62778] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 200);
    CHECK(cpu.reg.b == 105);
    CHECK(cpu.reg.c == 214);
    CHECK(cpu.reg.d == 33);
    CHECK(cpu.reg.e == 55);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 109);
    CHECK(cpu.reg.l == 15);
    CHECK(cpu.pc == 62779);
    CHECK(cpu.sp == 398);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62778] == 4);
}

TEST_CASE( "04 013C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53024;
    cpu.sp = 52422;
    cpu.reg.a = 179;
    cpu.reg.b = 90;
    cpu.reg.c = 238;
    cpu.reg.d = 97;
    cpu.reg.e = 209;
    cpu.reg.f = 208;
    cpu.reg.h = 170;
    cpu.reg.l = 133;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[53024] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 179);
    CHECK(cpu.reg.b == 91);
    CHECK(cpu.reg.c == 238);
    CHECK(cpu.reg.d == 97);
    CHECK(cpu.reg.e == 209);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 170);
    CHECK(cpu.reg.l == 133);
    CHECK(cpu.pc == 53025);
    CHECK(cpu.sp == 52422);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[53024] == 4);
}

TEST_CASE( "04 013D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 73;
    cpu.sp = 16740;
    cpu.reg.a = 134;
    cpu.reg.b = 119;
    cpu.reg.c = 120;
    cpu.reg.d = 150;
    cpu.reg.e = 231;
    cpu.reg.f = 160;
    cpu.reg.h = 196;
    cpu.reg.l = 164;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[73] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 134);
    CHECK(cpu.reg.b == 120);
    CHECK(cpu.reg.c == 120);
    CHECK(cpu.reg.d == 150);
    CHECK(cpu.reg.e == 231);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 196);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 74);
    CHECK(cpu.sp == 16740);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[73] == 4);
}

TEST_CASE( "04 013E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43493;
    cpu.sp = 28323;
    cpu.reg.a = 237;
    cpu.reg.b = 40;
    cpu.reg.c = 248;
    cpu.reg.d = 240;
    cpu.reg.e = 28;
    cpu.reg.f = 0;
    cpu.reg.h = 34;
    cpu.reg.l = 118;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[43493] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 237);
    CHECK(cpu.reg.b == 41);
    CHECK(cpu.reg.c == 248);
    CHECK(cpu.reg.d == 240);
    CHECK(cpu.reg.e == 28);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 34);
    CHECK(cpu.reg.l == 118);
    CHECK(cpu.pc == 43494);
    CHECK(cpu.sp == 28323);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[43493] == 4);
}

TEST_CASE( "04 013F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6793;
    cpu.sp = 4432;
    cpu.reg.a = 108;
    cpu.reg.b = 187;
    cpu.reg.c = 33;
    cpu.reg.d = 233;
    cpu.reg.e = 170;
    cpu.reg.f = 80;
    cpu.reg.h = 117;
    cpu.reg.l = 64;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[6793] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 108);
    CHECK(cpu.reg.b == 188);
    CHECK(cpu.reg.c == 33);
    CHECK(cpu.reg.d == 233);
    CHECK(cpu.reg.e == 170);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 117);
    CHECK(cpu.reg.l == 64);
    CHECK(cpu.pc == 6794);
    CHECK(cpu.sp == 4432);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6793] == 4);
}

TEST_CASE( "04 0140", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45259;
    cpu.sp = 4965;
    cpu.reg.a = 222;
    cpu.reg.b = 79;
    cpu.reg.c = 195;
    cpu.reg.d = 35;
    cpu.reg.e = 167;
    cpu.reg.f = 64;
    cpu.reg.h = 130;
    cpu.reg.l = 168;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[45259] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 222);
    CHECK(cpu.reg.b == 80);
    CHECK(cpu.reg.c == 195);
    CHECK(cpu.reg.d == 35);
    CHECK(cpu.reg.e == 167);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 130);
    CHECK(cpu.reg.l == 168);
    CHECK(cpu.pc == 45260);
    CHECK(cpu.sp == 4965);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45259] == 4);
}

TEST_CASE( "04 0141", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57373;
    cpu.sp = 13105;
    cpu.reg.a = 255;
    cpu.reg.b = 233;
    cpu.reg.c = 56;
    cpu.reg.d = 49;
    cpu.reg.e = 170;
    cpu.reg.f = 224;
    cpu.reg.h = 59;
    cpu.reg.l = 169;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[57373] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 255);
    CHECK(cpu.reg.b == 234);
    CHECK(cpu.reg.c == 56);
    CHECK(cpu.reg.d == 49);
    CHECK(cpu.reg.e == 170);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 59);
    CHECK(cpu.reg.l == 169);
    CHECK(cpu.pc == 57374);
    CHECK(cpu.sp == 13105);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[57373] == 4);
}

TEST_CASE( "04 0142", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42386;
    cpu.sp = 64459;
    cpu.reg.a = 138;
    cpu.reg.b = 64;
    cpu.reg.c = 179;
    cpu.reg.d = 250;
    cpu.reg.e = 153;
    cpu.reg.f = 80;
    cpu.reg.h = 40;
    cpu.reg.l = 16;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[42386] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 138);
    CHECK(cpu.reg.b == 65);
    CHECK(cpu.reg.c == 179);
    CHECK(cpu.reg.d == 250);
    CHECK(cpu.reg.e == 153);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 40);
    CHECK(cpu.reg.l == 16);
    CHECK(cpu.pc == 42387);
    CHECK(cpu.sp == 64459);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[42386] == 4);
}

TEST_CASE( "04 0143", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10158;
    cpu.sp = 13919;
    cpu.reg.a = 206;
    cpu.reg.b = 124;
    cpu.reg.c = 76;
    cpu.reg.d = 162;
    cpu.reg.e = 127;
    cpu.reg.f = 144;
    cpu.reg.h = 253;
    cpu.reg.l = 254;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[10158] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 206);
    CHECK(cpu.reg.b == 125);
    CHECK(cpu.reg.c == 76);
    CHECK(cpu.reg.d == 162);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 253);
    CHECK(cpu.reg.l == 254);
    CHECK(cpu.pc == 10159);
    CHECK(cpu.sp == 13919);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10158] == 4);
}

TEST_CASE( "04 0144", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30899;
    cpu.sp = 13838;
    cpu.reg.a = 250;
    cpu.reg.b = 235;
    cpu.reg.c = 47;
    cpu.reg.d = 228;
    cpu.reg.e = 174;
    cpu.reg.f = 128;
    cpu.reg.h = 122;
    cpu.reg.l = 222;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[30899] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 250);
    CHECK(cpu.reg.b == 236);
    CHECK(cpu.reg.c == 47);
    CHECK(cpu.reg.d == 228);
    CHECK(cpu.reg.e == 174);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 122);
    CHECK(cpu.reg.l == 222);
    CHECK(cpu.pc == 30900);
    CHECK(cpu.sp == 13838);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30899] == 4);
}

TEST_CASE( "04 0145", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1565;
    cpu.sp = 64001;
    cpu.reg.a = 163;
    cpu.reg.b = 139;
    cpu.reg.c = 128;
    cpu.reg.d = 74;
    cpu.reg.e = 169;
    cpu.reg.f = 160;
    cpu.reg.h = 64;
    cpu.reg.l = 135;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[1565] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 163);
    CHECK(cpu.reg.b == 140);
    CHECK(cpu.reg.c == 128);
    CHECK(cpu.reg.d == 74);
    CHECK(cpu.reg.e == 169);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 64);
    CHECK(cpu.reg.l == 135);
    CHECK(cpu.pc == 1566);
    CHECK(cpu.sp == 64001);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1565] == 4);
}

TEST_CASE( "04 0146", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13194;
    cpu.sp = 15843;
    cpu.reg.a = 176;
    cpu.reg.b = 89;
    cpu.reg.c = 116;
    cpu.reg.d = 62;
    cpu.reg.e = 83;
    cpu.reg.f = 96;
    cpu.reg.h = 27;
    cpu.reg.l = 45;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[13194] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 176);
    CHECK(cpu.reg.b == 90);
    CHECK(cpu.reg.c == 116);
    CHECK(cpu.reg.d == 62);
    CHECK(cpu.reg.e == 83);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 27);
    CHECK(cpu.reg.l == 45);
    CHECK(cpu.pc == 13195);
    CHECK(cpu.sp == 15843);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13194] == 4);
}

TEST_CASE( "04 0147", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33295;
    cpu.sp = 11959;
    cpu.reg.a = 23;
    cpu.reg.b = 63;
    cpu.reg.c = 162;
    cpu.reg.d = 42;
    cpu.reg.e = 209;
    cpu.reg.f = 32;
    cpu.reg.h = 223;
    cpu.reg.l = 221;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[33295] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 23);
    CHECK(cpu.reg.b == 64);
    CHECK(cpu.reg.c == 162);
    CHECK(cpu.reg.d == 42);
    CHECK(cpu.reg.e == 209);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 223);
    CHECK(cpu.reg.l == 221);
    CHECK(cpu.pc == 33296);
    CHECK(cpu.sp == 11959);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33295] == 4);
}

TEST_CASE( "04 0148", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11688;
    cpu.sp = 28021;
    cpu.reg.a = 116;
    cpu.reg.b = 91;
    cpu.reg.c = 145;
    cpu.reg.d = 243;
    cpu.reg.e = 86;
    cpu.reg.f = 128;
    cpu.reg.h = 182;
    cpu.reg.l = 148;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[11688] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 116);
    CHECK(cpu.reg.b == 92);
    CHECK(cpu.reg.c == 145);
    CHECK(cpu.reg.d == 243);
    CHECK(cpu.reg.e == 86);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 182);
    CHECK(cpu.reg.l == 148);
    CHECK(cpu.pc == 11689);
    CHECK(cpu.sp == 28021);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11688] == 4);
}

TEST_CASE( "04 0149", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15768;
    cpu.sp = 1095;
    cpu.reg.a = 209;
    cpu.reg.b = 253;
    cpu.reg.c = 185;
    cpu.reg.d = 29;
    cpu.reg.e = 135;
    cpu.reg.f = 16;
    cpu.reg.h = 164;
    cpu.reg.l = 118;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[15768] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 209);
    CHECK(cpu.reg.b == 254);
    CHECK(cpu.reg.c == 185);
    CHECK(cpu.reg.d == 29);
    CHECK(cpu.reg.e == 135);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 164);
    CHECK(cpu.reg.l == 118);
    CHECK(cpu.pc == 15769);
    CHECK(cpu.sp == 1095);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15768] == 4);
}

TEST_CASE( "04 014A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11518;
    cpu.sp = 39621;
    cpu.reg.a = 208;
    cpu.reg.b = 35;
    cpu.reg.c = 37;
    cpu.reg.d = 32;
    cpu.reg.e = 170;
    cpu.reg.f = 96;
    cpu.reg.h = 172;
    cpu.reg.l = 63;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[11518] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 208);
    CHECK(cpu.reg.b == 36);
    CHECK(cpu.reg.c == 37);
    CHECK(cpu.reg.d == 32);
    CHECK(cpu.reg.e == 170);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 172);
    CHECK(cpu.reg.l == 63);
    CHECK(cpu.pc == 11519);
    CHECK(cpu.sp == 39621);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11518] == 4);
}

TEST_CASE( "04 014B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60875;
    cpu.sp = 50079;
    cpu.reg.a = 152;
    cpu.reg.b = 181;
    cpu.reg.c = 53;
    cpu.reg.d = 141;
    cpu.reg.e = 14;
    cpu.reg.f = 0;
    cpu.reg.h = 197;
    cpu.reg.l = 201;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[60875] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 152);
    CHECK(cpu.reg.b == 182);
    CHECK(cpu.reg.c == 53);
    CHECK(cpu.reg.d == 141);
    CHECK(cpu.reg.e == 14);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 197);
    CHECK(cpu.reg.l == 201);
    CHECK(cpu.pc == 60876);
    CHECK(cpu.sp == 50079);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[60875] == 4);
}

TEST_CASE( "04 014C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33757;
    cpu.sp = 56561;
    cpu.reg.a = 99;
    cpu.reg.b = 158;
    cpu.reg.c = 67;
    cpu.reg.d = 109;
    cpu.reg.e = 181;
    cpu.reg.f = 144;
    cpu.reg.h = 92;
    cpu.reg.l = 179;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[33757] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 99);
    CHECK(cpu.reg.b == 159);
    CHECK(cpu.reg.c == 67);
    CHECK(cpu.reg.d == 109);
    CHECK(cpu.reg.e == 181);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 92);
    CHECK(cpu.reg.l == 179);
    CHECK(cpu.pc == 33758);
    CHECK(cpu.sp == 56561);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33757] == 4);
}

TEST_CASE( "04 014D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7234;
    cpu.sp = 41733;
    cpu.reg.a = 249;
    cpu.reg.b = 229;
    cpu.reg.c = 95;
    cpu.reg.d = 110;
    cpu.reg.e = 56;
    cpu.reg.f = 240;
    cpu.reg.h = 216;
    cpu.reg.l = 9;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[7234] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 249);
    CHECK(cpu.reg.b == 230);
    CHECK(cpu.reg.c == 95);
    CHECK(cpu.reg.d == 110);
    CHECK(cpu.reg.e == 56);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 216);
    CHECK(cpu.reg.l == 9);
    CHECK(cpu.pc == 7235);
    CHECK(cpu.sp == 41733);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7234] == 4);
}

TEST_CASE( "04 014E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25912;
    cpu.sp = 2608;
    cpu.reg.a = 207;
    cpu.reg.b = 5;
    cpu.reg.c = 5;
    cpu.reg.d = 93;
    cpu.reg.e = 5;
    cpu.reg.f = 160;
    cpu.reg.h = 52;
    cpu.reg.l = 47;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[25912] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 207);
    CHECK(cpu.reg.b == 6);
    CHECK(cpu.reg.c == 5);
    CHECK(cpu.reg.d == 93);
    CHECK(cpu.reg.e == 5);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 52);
    CHECK(cpu.reg.l == 47);
    CHECK(cpu.pc == 25913);
    CHECK(cpu.sp == 2608);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25912] == 4);
}

TEST_CASE( "04 014F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47923;
    cpu.sp = 58531;
    cpu.reg.a = 81;
    cpu.reg.b = 172;
    cpu.reg.c = 11;
    cpu.reg.d = 176;
    cpu.reg.e = 103;
    cpu.reg.f = 144;
    cpu.reg.h = 97;
    cpu.reg.l = 117;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47923] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 81);
    CHECK(cpu.reg.b == 173);
    CHECK(cpu.reg.c == 11);
    CHECK(cpu.reg.d == 176);
    CHECK(cpu.reg.e == 103);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 97);
    CHECK(cpu.reg.l == 117);
    CHECK(cpu.pc == 47924);
    CHECK(cpu.sp == 58531);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47923] == 4);
}

TEST_CASE( "04 0150", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5256;
    cpu.sp = 64343;
    cpu.reg.a = 188;
    cpu.reg.b = 10;
    cpu.reg.c = 38;
    cpu.reg.d = 155;
    cpu.reg.e = 122;
    cpu.reg.f = 112;
    cpu.reg.h = 247;
    cpu.reg.l = 95;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[5256] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 188);
    CHECK(cpu.reg.b == 11);
    CHECK(cpu.reg.c == 38);
    CHECK(cpu.reg.d == 155);
    CHECK(cpu.reg.e == 122);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 247);
    CHECK(cpu.reg.l == 95);
    CHECK(cpu.pc == 5257);
    CHECK(cpu.sp == 64343);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5256] == 4);
}

TEST_CASE( "04 0151", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46103;
    cpu.sp = 12111;
    cpu.reg.a = 184;
    cpu.reg.b = 168;
    cpu.reg.c = 211;
    cpu.reg.d = 62;
    cpu.reg.e = 57;
    cpu.reg.f = 208;
    cpu.reg.h = 39;
    cpu.reg.l = 112;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[46103] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 184);
    CHECK(cpu.reg.b == 169);
    CHECK(cpu.reg.c == 211);
    CHECK(cpu.reg.d == 62);
    CHECK(cpu.reg.e == 57);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 39);
    CHECK(cpu.reg.l == 112);
    CHECK(cpu.pc == 46104);
    CHECK(cpu.sp == 12111);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[46103] == 4);
}

TEST_CASE( "04 0152", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19251;
    cpu.sp = 12020;
    cpu.reg.a = 12;
    cpu.reg.b = 226;
    cpu.reg.c = 237;
    cpu.reg.d = 165;
    cpu.reg.e = 46;
    cpu.reg.f = 32;
    cpu.reg.h = 119;
    cpu.reg.l = 187;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[19251] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 12);
    CHECK(cpu.reg.b == 227);
    CHECK(cpu.reg.c == 237);
    CHECK(cpu.reg.d == 165);
    CHECK(cpu.reg.e == 46);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 119);
    CHECK(cpu.reg.l == 187);
    CHECK(cpu.pc == 19252);
    CHECK(cpu.sp == 12020);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19251] == 4);
}

TEST_CASE( "04 0153", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32705;
    cpu.sp = 41226;
    cpu.reg.a = 25;
    cpu.reg.b = 200;
    cpu.reg.c = 93;
    cpu.reg.d = 206;
    cpu.reg.e = 206;
    cpu.reg.f = 80;
    cpu.reg.h = 177;
    cpu.reg.l = 57;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[32705] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 25);
    CHECK(cpu.reg.b == 201);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 206);
    CHECK(cpu.reg.e == 206);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 177);
    CHECK(cpu.reg.l == 57);
    CHECK(cpu.pc == 32706);
    CHECK(cpu.sp == 41226);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[32705] == 4);
}

TEST_CASE( "04 0154", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25255;
    cpu.sp = 16184;
    cpu.reg.a = 194;
    cpu.reg.b = 177;
    cpu.reg.c = 38;
    cpu.reg.d = 120;
    cpu.reg.e = 168;
    cpu.reg.f = 240;
    cpu.reg.h = 126;
    cpu.reg.l = 39;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[25255] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 194);
    CHECK(cpu.reg.b == 178);
    CHECK(cpu.reg.c == 38);
    CHECK(cpu.reg.d == 120);
    CHECK(cpu.reg.e == 168);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 126);
    CHECK(cpu.reg.l == 39);
    CHECK(cpu.pc == 25256);
    CHECK(cpu.sp == 16184);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25255] == 4);
}

TEST_CASE( "04 0155", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5295;
    cpu.sp = 1136;
    cpu.reg.a = 187;
    cpu.reg.b = 74;
    cpu.reg.c = 119;
    cpu.reg.d = 30;
    cpu.reg.e = 138;
    cpu.reg.f = 176;
    cpu.reg.h = 71;
    cpu.reg.l = 46;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5295] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 187);
    CHECK(cpu.reg.b == 75);
    CHECK(cpu.reg.c == 119);
    CHECK(cpu.reg.d == 30);
    CHECK(cpu.reg.e == 138);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 71);
    CHECK(cpu.reg.l == 46);
    CHECK(cpu.pc == 5296);
    CHECK(cpu.sp == 1136);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5295] == 4);
}

TEST_CASE( "04 0156", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61222;
    cpu.sp = 34602;
    cpu.reg.a = 72;
    cpu.reg.b = 129;
    cpu.reg.c = 117;
    cpu.reg.d = 199;
    cpu.reg.e = 169;
    cpu.reg.f = 160;
    cpu.reg.h = 252;
    cpu.reg.l = 122;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[61222] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 72);
    CHECK(cpu.reg.b == 130);
    CHECK(cpu.reg.c == 117);
    CHECK(cpu.reg.d == 199);
    CHECK(cpu.reg.e == 169);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 252);
    CHECK(cpu.reg.l == 122);
    CHECK(cpu.pc == 61223);
    CHECK(cpu.sp == 34602);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61222] == 4);
}

TEST_CASE( "04 0157", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44043;
    cpu.sp = 26103;
    cpu.reg.a = 109;
    cpu.reg.b = 190;
    cpu.reg.c = 97;
    cpu.reg.d = 91;
    cpu.reg.e = 62;
    cpu.reg.f = 144;
    cpu.reg.h = 241;
    cpu.reg.l = 75;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[44043] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 109);
    CHECK(cpu.reg.b == 191);
    CHECK(cpu.reg.c == 97);
    CHECK(cpu.reg.d == 91);
    CHECK(cpu.reg.e == 62);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 75);
    CHECK(cpu.pc == 44044);
    CHECK(cpu.sp == 26103);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44043] == 4);
}

TEST_CASE( "04 0158", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13129;
    cpu.sp = 44542;
    cpu.reg.a = 192;
    cpu.reg.b = 248;
    cpu.reg.c = 161;
    cpu.reg.d = 6;
    cpu.reg.e = 94;
    cpu.reg.f = 208;
    cpu.reg.h = 4;
    cpu.reg.l = 103;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[13129] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 192);
    CHECK(cpu.reg.b == 249);
    CHECK(cpu.reg.c == 161);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 94);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 4);
    CHECK(cpu.reg.l == 103);
    CHECK(cpu.pc == 13130);
    CHECK(cpu.sp == 44542);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13129] == 4);
}

TEST_CASE( "04 0159", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3409;
    cpu.sp = 48191;
    cpu.reg.a = 54;
    cpu.reg.b = 141;
    cpu.reg.c = 133;
    cpu.reg.d = 117;
    cpu.reg.e = 23;
    cpu.reg.f = 48;
    cpu.reg.h = 52;
    cpu.reg.l = 224;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[3409] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 54);
    CHECK(cpu.reg.b == 142);
    CHECK(cpu.reg.c == 133);
    CHECK(cpu.reg.d == 117);
    CHECK(cpu.reg.e == 23);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 52);
    CHECK(cpu.reg.l == 224);
    CHECK(cpu.pc == 3410);
    CHECK(cpu.sp == 48191);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3409] == 4);
}

TEST_CASE( "04 015A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60558;
    cpu.sp = 19139;
    cpu.reg.a = 45;
    cpu.reg.b = 101;
    cpu.reg.c = 165;
    cpu.reg.d = 34;
    cpu.reg.e = 128;
    cpu.reg.f = 112;
    cpu.reg.h = 231;
    cpu.reg.l = 98;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[60558] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 45);
    CHECK(cpu.reg.b == 102);
    CHECK(cpu.reg.c == 165);
    CHECK(cpu.reg.d == 34);
    CHECK(cpu.reg.e == 128);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 231);
    CHECK(cpu.reg.l == 98);
    CHECK(cpu.pc == 60559);
    CHECK(cpu.sp == 19139);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60558] == 4);
}

TEST_CASE( "04 015B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34541;
    cpu.sp = 47968;
    cpu.reg.a = 10;
    cpu.reg.b = 68;
    cpu.reg.c = 88;
    cpu.reg.d = 27;
    cpu.reg.e = 181;
    cpu.reg.f = 240;
    cpu.reg.h = 160;
    cpu.reg.l = 96;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[34541] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 10);
    CHECK(cpu.reg.b == 69);
    CHECK(cpu.reg.c == 88);
    CHECK(cpu.reg.d == 27);
    CHECK(cpu.reg.e == 181);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 160);
    CHECK(cpu.reg.l == 96);
    CHECK(cpu.pc == 34542);
    CHECK(cpu.sp == 47968);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34541] == 4);
}

TEST_CASE( "04 015C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44315;
    cpu.sp = 54541;
    cpu.reg.a = 156;
    cpu.reg.b = 237;
    cpu.reg.c = 168;
    cpu.reg.d = 227;
    cpu.reg.e = 57;
    cpu.reg.f = 112;
    cpu.reg.h = 77;
    cpu.reg.l = 255;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[44315] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 156);
    CHECK(cpu.reg.b == 238);
    CHECK(cpu.reg.c == 168);
    CHECK(cpu.reg.d == 227);
    CHECK(cpu.reg.e == 57);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 77);
    CHECK(cpu.reg.l == 255);
    CHECK(cpu.pc == 44316);
    CHECK(cpu.sp == 54541);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44315] == 4);
}

TEST_CASE( "04 015D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37011;
    cpu.sp = 33099;
    cpu.reg.a = 171;
    cpu.reg.b = 88;
    cpu.reg.c = 245;
    cpu.reg.d = 84;
    cpu.reg.e = 181;
    cpu.reg.f = 128;
    cpu.reg.h = 225;
    cpu.reg.l = 158;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[37011] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 171);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 245);
    CHECK(cpu.reg.d == 84);
    CHECK(cpu.reg.e == 181);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 225);
    CHECK(cpu.reg.l == 158);
    CHECK(cpu.pc == 37012);
    CHECK(cpu.sp == 33099);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[37011] == 4);
}

TEST_CASE( "04 015E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2632;
    cpu.sp = 24935;
    cpu.reg.a = 250;
    cpu.reg.b = 125;
    cpu.reg.c = 13;
    cpu.reg.d = 13;
    cpu.reg.e = 2;
    cpu.reg.f = 224;
    cpu.reg.h = 181;
    cpu.reg.l = 143;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[2632] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 250);
    CHECK(cpu.reg.b == 126);
    CHECK(cpu.reg.c == 13);
    CHECK(cpu.reg.d == 13);
    CHECK(cpu.reg.e == 2);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 181);
    CHECK(cpu.reg.l == 143);
    CHECK(cpu.pc == 2633);
    CHECK(cpu.sp == 24935);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2632] == 4);
}

TEST_CASE( "04 015F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50359;
    cpu.sp = 54176;
    cpu.reg.a = 202;
    cpu.reg.b = 220;
    cpu.reg.c = 115;
    cpu.reg.d = 16;
    cpu.reg.e = 56;
    cpu.reg.f = 240;
    cpu.reg.h = 185;
    cpu.reg.l = 13;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[50359] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 202);
    CHECK(cpu.reg.b == 221);
    CHECK(cpu.reg.c == 115);
    CHECK(cpu.reg.d == 16);
    CHECK(cpu.reg.e == 56);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 185);
    CHECK(cpu.reg.l == 13);
    CHECK(cpu.pc == 50360);
    CHECK(cpu.sp == 54176);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50359] == 4);
}

TEST_CASE( "04 0160", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20322;
    cpu.sp = 51313;
    cpu.reg.a = 95;
    cpu.reg.b = 241;
    cpu.reg.c = 176;
    cpu.reg.d = 199;
    cpu.reg.e = 91;
    cpu.reg.f = 208;
    cpu.reg.h = 182;
    cpu.reg.l = 254;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[20322] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 95);
    CHECK(cpu.reg.b == 242);
    CHECK(cpu.reg.c == 176);
    CHECK(cpu.reg.d == 199);
    CHECK(cpu.reg.e == 91);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 182);
    CHECK(cpu.reg.l == 254);
    CHECK(cpu.pc == 20323);
    CHECK(cpu.sp == 51313);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20322] == 4);
}

TEST_CASE( "04 0161", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44788;
    cpu.sp = 56597;
    cpu.reg.a = 103;
    cpu.reg.b = 62;
    cpu.reg.c = 170;
    cpu.reg.d = 134;
    cpu.reg.e = 28;
    cpu.reg.f = 144;
    cpu.reg.h = 83;
    cpu.reg.l = 19;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[44788] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 103);
    CHECK(cpu.reg.b == 63);
    CHECK(cpu.reg.c == 170);
    CHECK(cpu.reg.d == 134);
    CHECK(cpu.reg.e == 28);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 83);
    CHECK(cpu.reg.l == 19);
    CHECK(cpu.pc == 44789);
    CHECK(cpu.sp == 56597);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44788] == 4);
}

TEST_CASE( "04 0162", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 376;
    cpu.sp = 10064;
    cpu.reg.a = 175;
    cpu.reg.b = 23;
    cpu.reg.c = 242;
    cpu.reg.d = 128;
    cpu.reg.e = 134;
    cpu.reg.f = 80;
    cpu.reg.h = 216;
    cpu.reg.l = 208;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[376] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 175);
    CHECK(cpu.reg.b == 24);
    CHECK(cpu.reg.c == 242);
    CHECK(cpu.reg.d == 128);
    CHECK(cpu.reg.e == 134);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 216);
    CHECK(cpu.reg.l == 208);
    CHECK(cpu.pc == 377);
    CHECK(cpu.sp == 10064);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[376] == 4);
}

TEST_CASE( "04 0163", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44330;
    cpu.sp = 60237;
    cpu.reg.a = 211;
    cpu.reg.b = 5;
    cpu.reg.c = 204;
    cpu.reg.d = 192;
    cpu.reg.e = 165;
    cpu.reg.f = 144;
    cpu.reg.h = 47;
    cpu.reg.l = 193;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[44330] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 211);
    CHECK(cpu.reg.b == 6);
    CHECK(cpu.reg.c == 204);
    CHECK(cpu.reg.d == 192);
    CHECK(cpu.reg.e == 165);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 47);
    CHECK(cpu.reg.l == 193);
    CHECK(cpu.pc == 44331);
    CHECK(cpu.sp == 60237);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44330] == 4);
}

TEST_CASE( "04 0164", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36546;
    cpu.sp = 31296;
    cpu.reg.a = 107;
    cpu.reg.b = 169;
    cpu.reg.c = 211;
    cpu.reg.d = 42;
    cpu.reg.e = 30;
    cpu.reg.f = 208;
    cpu.reg.h = 220;
    cpu.reg.l = 220;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[36546] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 107);
    CHECK(cpu.reg.b == 170);
    CHECK(cpu.reg.c == 211);
    CHECK(cpu.reg.d == 42);
    CHECK(cpu.reg.e == 30);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 220);
    CHECK(cpu.reg.l == 220);
    CHECK(cpu.pc == 36547);
    CHECK(cpu.sp == 31296);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[36546] == 4);
}

TEST_CASE( "04 0165", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 75;
    cpu.sp = 24893;
    cpu.reg.a = 46;
    cpu.reg.b = 183;
    cpu.reg.c = 247;
    cpu.reg.d = 172;
    cpu.reg.e = 83;
    cpu.reg.f = 208;
    cpu.reg.h = 112;
    cpu.reg.l = 176;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[75] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 46);
    CHECK(cpu.reg.b == 184);
    CHECK(cpu.reg.c == 247);
    CHECK(cpu.reg.d == 172);
    CHECK(cpu.reg.e == 83);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 112);
    CHECK(cpu.reg.l == 176);
    CHECK(cpu.pc == 76);
    CHECK(cpu.sp == 24893);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[75] == 4);
}

TEST_CASE( "04 0166", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38881;
    cpu.sp = 57674;
    cpu.reg.a = 190;
    cpu.reg.b = 168;
    cpu.reg.c = 18;
    cpu.reg.d = 41;
    cpu.reg.e = 229;
    cpu.reg.f = 48;
    cpu.reg.h = 122;
    cpu.reg.l = 64;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[38881] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 190);
    CHECK(cpu.reg.b == 169);
    CHECK(cpu.reg.c == 18);
    CHECK(cpu.reg.d == 41);
    CHECK(cpu.reg.e == 229);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 122);
    CHECK(cpu.reg.l == 64);
    CHECK(cpu.pc == 38882);
    CHECK(cpu.sp == 57674);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38881] == 4);
}

TEST_CASE( "04 0167", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37253;
    cpu.sp = 51676;
    cpu.reg.a = 174;
    cpu.reg.b = 137;
    cpu.reg.c = 15;
    cpu.reg.d = 28;
    cpu.reg.e = 67;
    cpu.reg.f = 176;
    cpu.reg.h = 70;
    cpu.reg.l = 62;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[37253] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 174);
    CHECK(cpu.reg.b == 138);
    CHECK(cpu.reg.c == 15);
    CHECK(cpu.reg.d == 28);
    CHECK(cpu.reg.e == 67);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 70);
    CHECK(cpu.reg.l == 62);
    CHECK(cpu.pc == 37254);
    CHECK(cpu.sp == 51676);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[37253] == 4);
}

TEST_CASE( "04 0168", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23731;
    cpu.sp = 32358;
    cpu.reg.a = 171;
    cpu.reg.b = 161;
    cpu.reg.c = 99;
    cpu.reg.d = 214;
    cpu.reg.e = 13;
    cpu.reg.f = 96;
    cpu.reg.h = 173;
    cpu.reg.l = 22;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[23731] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 171);
    CHECK(cpu.reg.b == 162);
    CHECK(cpu.reg.c == 99);
    CHECK(cpu.reg.d == 214);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 173);
    CHECK(cpu.reg.l == 22);
    CHECK(cpu.pc == 23732);
    CHECK(cpu.sp == 32358);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[23731] == 4);
}

TEST_CASE( "04 0169", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5357;
    cpu.sp = 3201;
    cpu.reg.a = 59;
    cpu.reg.b = 6;
    cpu.reg.c = 116;
    cpu.reg.d = 55;
    cpu.reg.e = 210;
    cpu.reg.f = 64;
    cpu.reg.h = 88;
    cpu.reg.l = 248;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5357] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 59);
    CHECK(cpu.reg.b == 7);
    CHECK(cpu.reg.c == 116);
    CHECK(cpu.reg.d == 55);
    CHECK(cpu.reg.e == 210);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 88);
    CHECK(cpu.reg.l == 248);
    CHECK(cpu.pc == 5358);
    CHECK(cpu.sp == 3201);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5357] == 4);
}

TEST_CASE( "04 016A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25150;
    cpu.sp = 27431;
    cpu.reg.a = 135;
    cpu.reg.b = 164;
    cpu.reg.c = 212;
    cpu.reg.d = 151;
    cpu.reg.e = 111;
    cpu.reg.f = 16;
    cpu.reg.h = 128;
    cpu.reg.l = 34;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[25150] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 135);
    CHECK(cpu.reg.b == 165);
    CHECK(cpu.reg.c == 212);
    CHECK(cpu.reg.d == 151);
    CHECK(cpu.reg.e == 111);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 128);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 25151);
    CHECK(cpu.sp == 27431);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25150] == 4);
}

TEST_CASE( "04 016B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46567;
    cpu.sp = 268;
    cpu.reg.a = 250;
    cpu.reg.b = 33;
    cpu.reg.c = 184;
    cpu.reg.d = 191;
    cpu.reg.e = 107;
    cpu.reg.f = 0;
    cpu.reg.h = 78;
    cpu.reg.l = 152;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[46567] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 250);
    CHECK(cpu.reg.b == 34);
    CHECK(cpu.reg.c == 184);
    CHECK(cpu.reg.d == 191);
    CHECK(cpu.reg.e == 107);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 78);
    CHECK(cpu.reg.l == 152);
    CHECK(cpu.pc == 46568);
    CHECK(cpu.sp == 268);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[46567] == 4);
}

TEST_CASE( "04 016C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1522;
    cpu.sp = 17032;
    cpu.reg.a = 238;
    cpu.reg.b = 180;
    cpu.reg.c = 199;
    cpu.reg.d = 45;
    cpu.reg.e = 154;
    cpu.reg.f = 192;
    cpu.reg.h = 99;
    cpu.reg.l = 254;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1522] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 238);
    CHECK(cpu.reg.b == 181);
    CHECK(cpu.reg.c == 199);
    CHECK(cpu.reg.d == 45);
    CHECK(cpu.reg.e == 154);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 99);
    CHECK(cpu.reg.l == 254);
    CHECK(cpu.pc == 1523);
    CHECK(cpu.sp == 17032);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1522] == 4);
}

TEST_CASE( "04 016D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21946;
    cpu.sp = 633;
    cpu.reg.a = 206;
    cpu.reg.b = 158;
    cpu.reg.c = 71;
    cpu.reg.d = 18;
    cpu.reg.e = 230;
    cpu.reg.f = 0;
    cpu.reg.h = 162;
    cpu.reg.l = 8;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[21946] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 206);
    CHECK(cpu.reg.b == 159);
    CHECK(cpu.reg.c == 71);
    CHECK(cpu.reg.d == 18);
    CHECK(cpu.reg.e == 230);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 162);
    CHECK(cpu.reg.l == 8);
    CHECK(cpu.pc == 21947);
    CHECK(cpu.sp == 633);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21946] == 4);
}

TEST_CASE( "04 016E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50057;
    cpu.sp = 61912;
    cpu.reg.a = 213;
    cpu.reg.b = 220;
    cpu.reg.c = 140;
    cpu.reg.d = 208;
    cpu.reg.e = 27;
    cpu.reg.f = 16;
    cpu.reg.h = 56;
    cpu.reg.l = 225;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[50057] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 213);
    CHECK(cpu.reg.b == 221);
    CHECK(cpu.reg.c == 140);
    CHECK(cpu.reg.d == 208);
    CHECK(cpu.reg.e == 27);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 56);
    CHECK(cpu.reg.l == 225);
    CHECK(cpu.pc == 50058);
    CHECK(cpu.sp == 61912);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[50057] == 4);
}

TEST_CASE( "04 016F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16127;
    cpu.sp = 51312;
    cpu.reg.a = 64;
    cpu.reg.b = 37;
    cpu.reg.c = 97;
    cpu.reg.d = 182;
    cpu.reg.e = 49;
    cpu.reg.f = 96;
    cpu.reg.h = 49;
    cpu.reg.l = 253;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[16127] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 38);
    CHECK(cpu.reg.c == 97);
    CHECK(cpu.reg.d == 182);
    CHECK(cpu.reg.e == 49);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 49);
    CHECK(cpu.reg.l == 253);
    CHECK(cpu.pc == 16128);
    CHECK(cpu.sp == 51312);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16127] == 4);
}

TEST_CASE( "04 0170", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5700;
    cpu.sp = 47295;
    cpu.reg.a = 247;
    cpu.reg.b = 123;
    cpu.reg.c = 81;
    cpu.reg.d = 36;
    cpu.reg.e = 123;
    cpu.reg.f = 16;
    cpu.reg.h = 142;
    cpu.reg.l = 152;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5700] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 247);
    CHECK(cpu.reg.b == 124);
    CHECK(cpu.reg.c == 81);
    CHECK(cpu.reg.d == 36);
    CHECK(cpu.reg.e == 123);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 142);
    CHECK(cpu.reg.l == 152);
    CHECK(cpu.pc == 5701);
    CHECK(cpu.sp == 47295);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5700] == 4);
}

TEST_CASE( "04 0171", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60192;
    cpu.sp = 45294;
    cpu.reg.a = 220;
    cpu.reg.b = 88;
    cpu.reg.c = 186;
    cpu.reg.d = 169;
    cpu.reg.e = 177;
    cpu.reg.f = 176;
    cpu.reg.h = 166;
    cpu.reg.l = 152;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[60192] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 220);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 186);
    CHECK(cpu.reg.d == 169);
    CHECK(cpu.reg.e == 177);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 166);
    CHECK(cpu.reg.l == 152);
    CHECK(cpu.pc == 60193);
    CHECK(cpu.sp == 45294);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60192] == 4);
}

TEST_CASE( "04 0172", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55191;
    cpu.sp = 39724;
    cpu.reg.a = 163;
    cpu.reg.b = 75;
    cpu.reg.c = 69;
    cpu.reg.d = 245;
    cpu.reg.e = 202;
    cpu.reg.f = 240;
    cpu.reg.h = 185;
    cpu.reg.l = 62;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[55191] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 163);
    CHECK(cpu.reg.b == 76);
    CHECK(cpu.reg.c == 69);
    CHECK(cpu.reg.d == 245);
    CHECK(cpu.reg.e == 202);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 185);
    CHECK(cpu.reg.l == 62);
    CHECK(cpu.pc == 55192);
    CHECK(cpu.sp == 39724);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55191] == 4);
}

TEST_CASE( "04 0173", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31271;
    cpu.sp = 23918;
    cpu.reg.a = 2;
    cpu.reg.b = 249;
    cpu.reg.c = 251;
    cpu.reg.d = 15;
    cpu.reg.e = 151;
    cpu.reg.f = 192;
    cpu.reg.h = 95;
    cpu.reg.l = 76;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[31271] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 2);
    CHECK(cpu.reg.b == 250);
    CHECK(cpu.reg.c == 251);
    CHECK(cpu.reg.d == 15);
    CHECK(cpu.reg.e == 151);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 95);
    CHECK(cpu.reg.l == 76);
    CHECK(cpu.pc == 31272);
    CHECK(cpu.sp == 23918);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31271] == 4);
}

TEST_CASE( "04 0174", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26673;
    cpu.sp = 52915;
    cpu.reg.a = 237;
    cpu.reg.b = 160;
    cpu.reg.c = 35;
    cpu.reg.d = 65;
    cpu.reg.e = 246;
    cpu.reg.f = 64;
    cpu.reg.h = 80;
    cpu.reg.l = 37;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[26673] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 237);
    CHECK(cpu.reg.b == 161);
    CHECK(cpu.reg.c == 35);
    CHECK(cpu.reg.d == 65);
    CHECK(cpu.reg.e == 246);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 80);
    CHECK(cpu.reg.l == 37);
    CHECK(cpu.pc == 26674);
    CHECK(cpu.sp == 52915);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26673] == 4);
}

TEST_CASE( "04 0175", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4440;
    cpu.sp = 12329;
    cpu.reg.a = 111;
    cpu.reg.b = 241;
    cpu.reg.c = 52;
    cpu.reg.d = 153;
    cpu.reg.e = 62;
    cpu.reg.f = 80;
    cpu.reg.h = 121;
    cpu.reg.l = 89;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4440] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 111);
    CHECK(cpu.reg.b == 242);
    CHECK(cpu.reg.c == 52);
    CHECK(cpu.reg.d == 153);
    CHECK(cpu.reg.e == 62);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 121);
    CHECK(cpu.reg.l == 89);
    CHECK(cpu.pc == 4441);
    CHECK(cpu.sp == 12329);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4440] == 4);
}

TEST_CASE( "04 0176", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25711;
    cpu.sp = 57967;
    cpu.reg.a = 173;
    cpu.reg.b = 204;
    cpu.reg.c = 2;
    cpu.reg.d = 149;
    cpu.reg.e = 157;
    cpu.reg.f = 96;
    cpu.reg.h = 169;
    cpu.reg.l = 220;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[25711] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 173);
    CHECK(cpu.reg.b == 205);
    CHECK(cpu.reg.c == 2);
    CHECK(cpu.reg.d == 149);
    CHECK(cpu.reg.e == 157);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 169);
    CHECK(cpu.reg.l == 220);
    CHECK(cpu.pc == 25712);
    CHECK(cpu.sp == 57967);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25711] == 4);
}

TEST_CASE( "04 0177", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51375;
    cpu.sp = 54817;
    cpu.reg.a = 62;
    cpu.reg.b = 38;
    cpu.reg.c = 103;
    cpu.reg.d = 232;
    cpu.reg.e = 51;
    cpu.reg.f = 208;
    cpu.reg.h = 12;
    cpu.reg.l = 26;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[51375] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 62);
    CHECK(cpu.reg.b == 39);
    CHECK(cpu.reg.c == 103);
    CHECK(cpu.reg.d == 232);
    CHECK(cpu.reg.e == 51);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 12);
    CHECK(cpu.reg.l == 26);
    CHECK(cpu.pc == 51376);
    CHECK(cpu.sp == 54817);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51375] == 4);
}

TEST_CASE( "04 0178", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9250;
    cpu.sp = 8040;
    cpu.reg.a = 244;
    cpu.reg.b = 6;
    cpu.reg.c = 254;
    cpu.reg.d = 128;
    cpu.reg.e = 42;
    cpu.reg.f = 48;
    cpu.reg.h = 46;
    cpu.reg.l = 226;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[9250] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 244);
    CHECK(cpu.reg.b == 7);
    CHECK(cpu.reg.c == 254);
    CHECK(cpu.reg.d == 128);
    CHECK(cpu.reg.e == 42);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 46);
    CHECK(cpu.reg.l == 226);
    CHECK(cpu.pc == 9251);
    CHECK(cpu.sp == 8040);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9250] == 4);
}

TEST_CASE( "04 0179", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64297;
    cpu.sp = 19812;
    cpu.reg.a = 89;
    cpu.reg.b = 85;
    cpu.reg.c = 96;
    cpu.reg.d = 213;
    cpu.reg.e = 237;
    cpu.reg.f = 208;
    cpu.reg.h = 74;
    cpu.reg.l = 169;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[64297] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 89);
    CHECK(cpu.reg.b == 86);
    CHECK(cpu.reg.c == 96);
    CHECK(cpu.reg.d == 213);
    CHECK(cpu.reg.e == 237);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 74);
    CHECK(cpu.reg.l == 169);
    CHECK(cpu.pc == 64298);
    CHECK(cpu.sp == 19812);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64297] == 4);
}

TEST_CASE( "04 017A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6329;
    cpu.sp = 27004;
    cpu.reg.a = 33;
    cpu.reg.b = 2;
    cpu.reg.c = 36;
    cpu.reg.d = 163;
    cpu.reg.e = 25;
    cpu.reg.f = 48;
    cpu.reg.h = 114;
    cpu.reg.l = 88;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[6329] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 33);
    CHECK(cpu.reg.b == 3);
    CHECK(cpu.reg.c == 36);
    CHECK(cpu.reg.d == 163);
    CHECK(cpu.reg.e == 25);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 114);
    CHECK(cpu.reg.l == 88);
    CHECK(cpu.pc == 6330);
    CHECK(cpu.sp == 27004);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6329] == 4);
}

TEST_CASE( "04 017B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10141;
    cpu.sp = 63154;
    cpu.reg.a = 143;
    cpu.reg.b = 173;
    cpu.reg.c = 153;
    cpu.reg.d = 104;
    cpu.reg.e = 215;
    cpu.reg.f = 128;
    cpu.reg.h = 85;
    cpu.reg.l = 62;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[10141] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 143);
    CHECK(cpu.reg.b == 174);
    CHECK(cpu.reg.c == 153);
    CHECK(cpu.reg.d == 104);
    CHECK(cpu.reg.e == 215);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 85);
    CHECK(cpu.reg.l == 62);
    CHECK(cpu.pc == 10142);
    CHECK(cpu.sp == 63154);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10141] == 4);
}

TEST_CASE( "04 017C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10505;
    cpu.sp = 59151;
    cpu.reg.a = 19;
    cpu.reg.b = 251;
    cpu.reg.c = 246;
    cpu.reg.d = 90;
    cpu.reg.e = 78;
    cpu.reg.f = 176;
    cpu.reg.h = 70;
    cpu.reg.l = 178;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[10505] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 19);
    CHECK(cpu.reg.b == 252);
    CHECK(cpu.reg.c == 246);
    CHECK(cpu.reg.d == 90);
    CHECK(cpu.reg.e == 78);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 70);
    CHECK(cpu.reg.l == 178);
    CHECK(cpu.pc == 10506);
    CHECK(cpu.sp == 59151);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10505] == 4);
}

TEST_CASE( "04 017D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23298;
    cpu.sp = 22227;
    cpu.reg.a = 106;
    cpu.reg.b = 57;
    cpu.reg.c = 167;
    cpu.reg.d = 157;
    cpu.reg.e = 176;
    cpu.reg.f = 112;
    cpu.reg.h = 122;
    cpu.reg.l = 159;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[23298] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 106);
    CHECK(cpu.reg.b == 58);
    CHECK(cpu.reg.c == 167);
    CHECK(cpu.reg.d == 157);
    CHECK(cpu.reg.e == 176);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 122);
    CHECK(cpu.reg.l == 159);
    CHECK(cpu.pc == 23299);
    CHECK(cpu.sp == 22227);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[23298] == 4);
}

TEST_CASE( "04 017E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8436;
    cpu.sp = 25356;
    cpu.reg.a = 138;
    cpu.reg.b = 84;
    cpu.reg.c = 178;
    cpu.reg.d = 33;
    cpu.reg.e = 34;
    cpu.reg.f = 144;
    cpu.reg.h = 223;
    cpu.reg.l = 60;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[8436] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 138);
    CHECK(cpu.reg.b == 85);
    CHECK(cpu.reg.c == 178);
    CHECK(cpu.reg.d == 33);
    CHECK(cpu.reg.e == 34);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 223);
    CHECK(cpu.reg.l == 60);
    CHECK(cpu.pc == 8437);
    CHECK(cpu.sp == 25356);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8436] == 4);
}

TEST_CASE( "04 017F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16193;
    cpu.sp = 63989;
    cpu.reg.a = 89;
    cpu.reg.b = 240;
    cpu.reg.c = 173;
    cpu.reg.d = 113;
    cpu.reg.e = 70;
    cpu.reg.f = 160;
    cpu.reg.h = 26;
    cpu.reg.l = 66;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[16193] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 89);
    CHECK(cpu.reg.b == 241);
    CHECK(cpu.reg.c == 173);
    CHECK(cpu.reg.d == 113);
    CHECK(cpu.reg.e == 70);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 26);
    CHECK(cpu.reg.l == 66);
    CHECK(cpu.pc == 16194);
    CHECK(cpu.sp == 63989);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16193] == 4);
}

TEST_CASE( "04 0180", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41850;
    cpu.sp = 23681;
    cpu.reg.a = 163;
    cpu.reg.b = 141;
    cpu.reg.c = 194;
    cpu.reg.d = 203;
    cpu.reg.e = 161;
    cpu.reg.f = 192;
    cpu.reg.h = 246;
    cpu.reg.l = 106;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[41850] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 163);
    CHECK(cpu.reg.b == 142);
    CHECK(cpu.reg.c == 194);
    CHECK(cpu.reg.d == 203);
    CHECK(cpu.reg.e == 161);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 246);
    CHECK(cpu.reg.l == 106);
    CHECK(cpu.pc == 41851);
    CHECK(cpu.sp == 23681);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[41850] == 4);
}

TEST_CASE( "04 0181", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20484;
    cpu.sp = 47065;
    cpu.reg.a = 188;
    cpu.reg.b = 46;
    cpu.reg.c = 106;
    cpu.reg.d = 110;
    cpu.reg.e = 200;
    cpu.reg.f = 0;
    cpu.reg.h = 192;
    cpu.reg.l = 176;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[20484] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 188);
    CHECK(cpu.reg.b == 47);
    CHECK(cpu.reg.c == 106);
    CHECK(cpu.reg.d == 110);
    CHECK(cpu.reg.e == 200);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 192);
    CHECK(cpu.reg.l == 176);
    CHECK(cpu.pc == 20485);
    CHECK(cpu.sp == 47065);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20484] == 4);
}

TEST_CASE( "04 0182", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50707;
    cpu.sp = 3829;
    cpu.reg.a = 70;
    cpu.reg.b = 72;
    cpu.reg.c = 99;
    cpu.reg.d = 58;
    cpu.reg.e = 158;
    cpu.reg.f = 48;
    cpu.reg.h = 146;
    cpu.reg.l = 142;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[50707] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 70);
    CHECK(cpu.reg.b == 73);
    CHECK(cpu.reg.c == 99);
    CHECK(cpu.reg.d == 58);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 146);
    CHECK(cpu.reg.l == 142);
    CHECK(cpu.pc == 50708);
    CHECK(cpu.sp == 3829);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50707] == 4);
}

TEST_CASE( "04 0183", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62862;
    cpu.sp = 60009;
    cpu.reg.a = 103;
    cpu.reg.b = 129;
    cpu.reg.c = 142;
    cpu.reg.d = 6;
    cpu.reg.e = 25;
    cpu.reg.f = 32;
    cpu.reg.h = 92;
    cpu.reg.l = 106;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[62862] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 103);
    CHECK(cpu.reg.b == 130);
    CHECK(cpu.reg.c == 142);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 25);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 92);
    CHECK(cpu.reg.l == 106);
    CHECK(cpu.pc == 62863);
    CHECK(cpu.sp == 60009);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[62862] == 4);
}

TEST_CASE( "04 0184", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15382;
    cpu.sp = 58164;
    cpu.reg.a = 47;
    cpu.reg.b = 118;
    cpu.reg.c = 74;
    cpu.reg.d = 145;
    cpu.reg.e = 155;
    cpu.reg.f = 64;
    cpu.reg.h = 15;
    cpu.reg.l = 171;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[15382] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 47);
    CHECK(cpu.reg.b == 119);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 145);
    CHECK(cpu.reg.e == 155);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 15);
    CHECK(cpu.reg.l == 171);
    CHECK(cpu.pc == 15383);
    CHECK(cpu.sp == 58164);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15382] == 4);
}

TEST_CASE( "04 0185", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61411;
    cpu.sp = 9490;
    cpu.reg.a = 118;
    cpu.reg.b = 28;
    cpu.reg.c = 234;
    cpu.reg.d = 64;
    cpu.reg.e = 205;
    cpu.reg.f = 144;
    cpu.reg.h = 143;
    cpu.reg.l = 214;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[61411] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 118);
    CHECK(cpu.reg.b == 29);
    CHECK(cpu.reg.c == 234);
    CHECK(cpu.reg.d == 64);
    CHECK(cpu.reg.e == 205);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 143);
    CHECK(cpu.reg.l == 214);
    CHECK(cpu.pc == 61412);
    CHECK(cpu.sp == 9490);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61411] == 4);
}

TEST_CASE( "04 0186", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18744;
    cpu.sp = 20358;
    cpu.reg.a = 254;
    cpu.reg.b = 228;
    cpu.reg.c = 188;
    cpu.reg.d = 133;
    cpu.reg.e = 217;
    cpu.reg.f = 128;
    cpu.reg.h = 244;
    cpu.reg.l = 39;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[18744] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 229);
    CHECK(cpu.reg.c == 188);
    CHECK(cpu.reg.d == 133);
    CHECK(cpu.reg.e == 217);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 244);
    CHECK(cpu.reg.l == 39);
    CHECK(cpu.pc == 18745);
    CHECK(cpu.sp == 20358);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18744] == 4);
}

TEST_CASE( "04 0187", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13082;
    cpu.sp = 3550;
    cpu.reg.a = 161;
    cpu.reg.b = 226;
    cpu.reg.c = 239;
    cpu.reg.d = 114;
    cpu.reg.e = 25;
    cpu.reg.f = 160;
    cpu.reg.h = 187;
    cpu.reg.l = 46;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[13082] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 161);
    CHECK(cpu.reg.b == 227);
    CHECK(cpu.reg.c == 239);
    CHECK(cpu.reg.d == 114);
    CHECK(cpu.reg.e == 25);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 187);
    CHECK(cpu.reg.l == 46);
    CHECK(cpu.pc == 13083);
    CHECK(cpu.sp == 3550);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13082] == 4);
}

TEST_CASE( "04 0188", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31228;
    cpu.sp = 49901;
    cpu.reg.a = 231;
    cpu.reg.b = 222;
    cpu.reg.c = 42;
    cpu.reg.d = 0;
    cpu.reg.e = 187;
    cpu.reg.f = 240;
    cpu.reg.h = 112;
    cpu.reg.l = 202;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[31228] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 231);
    CHECK(cpu.reg.b == 223);
    CHECK(cpu.reg.c == 42);
    CHECK(cpu.reg.d == 0);
    CHECK(cpu.reg.e == 187);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 112);
    CHECK(cpu.reg.l == 202);
    CHECK(cpu.pc == 31229);
    CHECK(cpu.sp == 49901);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31228] == 4);
}

TEST_CASE( "04 0189", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4036;
    cpu.sp = 10328;
    cpu.reg.a = 51;
    cpu.reg.b = 222;
    cpu.reg.c = 166;
    cpu.reg.d = 44;
    cpu.reg.e = 235;
    cpu.reg.f = 112;
    cpu.reg.h = 45;
    cpu.reg.l = 212;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4036] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 51);
    CHECK(cpu.reg.b == 223);
    CHECK(cpu.reg.c == 166);
    CHECK(cpu.reg.d == 44);
    CHECK(cpu.reg.e == 235);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 45);
    CHECK(cpu.reg.l == 212);
    CHECK(cpu.pc == 4037);
    CHECK(cpu.sp == 10328);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4036] == 4);
}

TEST_CASE( "04 018A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37669;
    cpu.sp = 17724;
    cpu.reg.a = 225;
    cpu.reg.b = 20;
    cpu.reg.c = 74;
    cpu.reg.d = 79;
    cpu.reg.e = 138;
    cpu.reg.f = 208;
    cpu.reg.h = 4;
    cpu.reg.l = 30;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[37669] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 225);
    CHECK(cpu.reg.b == 21);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 79);
    CHECK(cpu.reg.e == 138);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 4);
    CHECK(cpu.reg.l == 30);
    CHECK(cpu.pc == 37670);
    CHECK(cpu.sp == 17724);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[37669] == 4);
}

TEST_CASE( "04 018B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18400;
    cpu.sp = 9682;
    cpu.reg.a = 213;
    cpu.reg.b = 221;
    cpu.reg.c = 27;
    cpu.reg.d = 108;
    cpu.reg.e = 33;
    cpu.reg.f = 96;
    cpu.reg.h = 8;
    cpu.reg.l = 136;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[18400] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 213);
    CHECK(cpu.reg.b == 222);
    CHECK(cpu.reg.c == 27);
    CHECK(cpu.reg.d == 108);
    CHECK(cpu.reg.e == 33);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 8);
    CHECK(cpu.reg.l == 136);
    CHECK(cpu.pc == 18401);
    CHECK(cpu.sp == 9682);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18400] == 4);
}

TEST_CASE( "04 018C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23312;
    cpu.sp = 4104;
    cpu.reg.a = 179;
    cpu.reg.b = 1;
    cpu.reg.c = 131;
    cpu.reg.d = 96;
    cpu.reg.e = 89;
    cpu.reg.f = 224;
    cpu.reg.h = 5;
    cpu.reg.l = 20;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[23312] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 179);
    CHECK(cpu.reg.b == 2);
    CHECK(cpu.reg.c == 131);
    CHECK(cpu.reg.d == 96);
    CHECK(cpu.reg.e == 89);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 5);
    CHECK(cpu.reg.l == 20);
    CHECK(cpu.pc == 23313);
    CHECK(cpu.sp == 4104);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[23312] == 4);
}

TEST_CASE( "04 018D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14480;
    cpu.sp = 16699;
    cpu.reg.a = 100;
    cpu.reg.b = 177;
    cpu.reg.c = 180;
    cpu.reg.d = 4;
    cpu.reg.e = 195;
    cpu.reg.f = 224;
    cpu.reg.h = 139;
    cpu.reg.l = 165;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[14480] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 100);
    CHECK(cpu.reg.b == 178);
    CHECK(cpu.reg.c == 180);
    CHECK(cpu.reg.d == 4);
    CHECK(cpu.reg.e == 195);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 139);
    CHECK(cpu.reg.l == 165);
    CHECK(cpu.pc == 14481);
    CHECK(cpu.sp == 16699);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14480] == 4);
}

TEST_CASE( "04 018E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51126;
    cpu.sp = 11939;
    cpu.reg.a = 102;
    cpu.reg.b = 7;
    cpu.reg.c = 254;
    cpu.reg.d = 50;
    cpu.reg.e = 115;
    cpu.reg.f = 96;
    cpu.reg.h = 110;
    cpu.reg.l = 255;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[51126] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 102);
    CHECK(cpu.reg.b == 8);
    CHECK(cpu.reg.c == 254);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 115);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 110);
    CHECK(cpu.reg.l == 255);
    CHECK(cpu.pc == 51127);
    CHECK(cpu.sp == 11939);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[51126] == 4);
}

TEST_CASE( "04 018F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41495;
    cpu.sp = 6344;
    cpu.reg.a = 130;
    cpu.reg.b = 228;
    cpu.reg.c = 192;
    cpu.reg.d = 219;
    cpu.reg.e = 96;
    cpu.reg.f = 176;
    cpu.reg.h = 20;
    cpu.reg.l = 4;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[41495] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 130);
    CHECK(cpu.reg.b == 229);
    CHECK(cpu.reg.c == 192);
    CHECK(cpu.reg.d == 219);
    CHECK(cpu.reg.e == 96);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 20);
    CHECK(cpu.reg.l == 4);
    CHECK(cpu.pc == 41496);
    CHECK(cpu.sp == 6344);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[41495] == 4);
}

TEST_CASE( "04 0190", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4754;
    cpu.sp = 98;
    cpu.reg.a = 39;
    cpu.reg.b = 234;
    cpu.reg.c = 164;
    cpu.reg.d = 77;
    cpu.reg.e = 89;
    cpu.reg.f = 112;
    cpu.reg.h = 38;
    cpu.reg.l = 146;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[4754] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 39);
    CHECK(cpu.reg.b == 235);
    CHECK(cpu.reg.c == 164);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 89);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 38);
    CHECK(cpu.reg.l == 146);
    CHECK(cpu.pc == 4755);
    CHECK(cpu.sp == 98);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4754] == 4);
}

TEST_CASE( "04 0191", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8053;
    cpu.sp = 54015;
    cpu.reg.a = 137;
    cpu.reg.b = 22;
    cpu.reg.c = 207;
    cpu.reg.d = 7;
    cpu.reg.e = 192;
    cpu.reg.f = 176;
    cpu.reg.h = 172;
    cpu.reg.l = 87;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[8053] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 137);
    CHECK(cpu.reg.b == 23);
    CHECK(cpu.reg.c == 207);
    CHECK(cpu.reg.d == 7);
    CHECK(cpu.reg.e == 192);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 172);
    CHECK(cpu.reg.l == 87);
    CHECK(cpu.pc == 8054);
    CHECK(cpu.sp == 54015);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8053] == 4);
}

TEST_CASE( "04 0192", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43150;
    cpu.sp = 28642;
    cpu.reg.a = 100;
    cpu.reg.b = 147;
    cpu.reg.c = 253;
    cpu.reg.d = 251;
    cpu.reg.e = 177;
    cpu.reg.f = 64;
    cpu.reg.h = 229;
    cpu.reg.l = 125;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[43150] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 100);
    CHECK(cpu.reg.b == 148);
    CHECK(cpu.reg.c == 253);
    CHECK(cpu.reg.d == 251);
    CHECK(cpu.reg.e == 177);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 229);
    CHECK(cpu.reg.l == 125);
    CHECK(cpu.pc == 43151);
    CHECK(cpu.sp == 28642);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[43150] == 4);
}

TEST_CASE( "04 0193", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23140;
    cpu.sp = 12261;
    cpu.reg.a = 79;
    cpu.reg.b = 28;
    cpu.reg.c = 210;
    cpu.reg.d = 218;
    cpu.reg.e = 60;
    cpu.reg.f = 64;
    cpu.reg.h = 2;
    cpu.reg.l = 101;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[23140] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 79);
    CHECK(cpu.reg.b == 29);
    CHECK(cpu.reg.c == 210);
    CHECK(cpu.reg.d == 218);
    CHECK(cpu.reg.e == 60);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 2);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 23141);
    CHECK(cpu.sp == 12261);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[23140] == 4);
}

TEST_CASE( "04 0194", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4694;
    cpu.sp = 25653;
    cpu.reg.a = 211;
    cpu.reg.b = 109;
    cpu.reg.c = 55;
    cpu.reg.d = 214;
    cpu.reg.e = 86;
    cpu.reg.f = 128;
    cpu.reg.h = 174;
    cpu.reg.l = 149;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[4694] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 211);
    CHECK(cpu.reg.b == 110);
    CHECK(cpu.reg.c == 55);
    CHECK(cpu.reg.d == 214);
    CHECK(cpu.reg.e == 86);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 174);
    CHECK(cpu.reg.l == 149);
    CHECK(cpu.pc == 4695);
    CHECK(cpu.sp == 25653);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4694] == 4);
}

TEST_CASE( "04 0195", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48261;
    cpu.sp = 52097;
    cpu.reg.a = 206;
    cpu.reg.b = 54;
    cpu.reg.c = 203;
    cpu.reg.d = 5;
    cpu.reg.e = 148;
    cpu.reg.f = 48;
    cpu.reg.h = 32;
    cpu.reg.l = 208;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[48261] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 206);
    CHECK(cpu.reg.b == 55);
    CHECK(cpu.reg.c == 203);
    CHECK(cpu.reg.d == 5);
    CHECK(cpu.reg.e == 148);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 32);
    CHECK(cpu.reg.l == 208);
    CHECK(cpu.pc == 48262);
    CHECK(cpu.sp == 52097);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48261] == 4);
}

TEST_CASE( "04 0196", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50962;
    cpu.sp = 310;
    cpu.reg.a = 217;
    cpu.reg.b = 75;
    cpu.reg.c = 159;
    cpu.reg.d = 157;
    cpu.reg.e = 172;
    cpu.reg.f = 16;
    cpu.reg.h = 238;
    cpu.reg.l = 219;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[50962] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 217);
    CHECK(cpu.reg.b == 76);
    CHECK(cpu.reg.c == 159);
    CHECK(cpu.reg.d == 157);
    CHECK(cpu.reg.e == 172);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 238);
    CHECK(cpu.reg.l == 219);
    CHECK(cpu.pc == 50963);
    CHECK(cpu.sp == 310);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[50962] == 4);
}

TEST_CASE( "04 0197", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31852;
    cpu.sp = 22798;
    cpu.reg.a = 243;
    cpu.reg.b = 9;
    cpu.reg.c = 219;
    cpu.reg.d = 27;
    cpu.reg.e = 209;
    cpu.reg.f = 128;
    cpu.reg.h = 124;
    cpu.reg.l = 147;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[31852] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 243);
    CHECK(cpu.reg.b == 10);
    CHECK(cpu.reg.c == 219);
    CHECK(cpu.reg.d == 27);
    CHECK(cpu.reg.e == 209);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 124);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 31853);
    CHECK(cpu.sp == 22798);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31852] == 4);
}

TEST_CASE( "04 0198", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49719;
    cpu.sp = 26195;
    cpu.reg.a = 67;
    cpu.reg.b = 233;
    cpu.reg.c = 185;
    cpu.reg.d = 32;
    cpu.reg.e = 212;
    cpu.reg.f = 112;
    cpu.reg.h = 219;
    cpu.reg.l = 92;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[49719] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 67);
    CHECK(cpu.reg.b == 234);
    CHECK(cpu.reg.c == 185);
    CHECK(cpu.reg.d == 32);
    CHECK(cpu.reg.e == 212);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 219);
    CHECK(cpu.reg.l == 92);
    CHECK(cpu.pc == 49720);
    CHECK(cpu.sp == 26195);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49719] == 4);
}

TEST_CASE( "04 0199", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59576;
    cpu.sp = 32453;
    cpu.reg.a = 136;
    cpu.reg.b = 6;
    cpu.reg.c = 22;
    cpu.reg.d = 24;
    cpu.reg.e = 55;
    cpu.reg.f = 128;
    cpu.reg.h = 198;
    cpu.reg.l = 68;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[59576] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 136);
    CHECK(cpu.reg.b == 7);
    CHECK(cpu.reg.c == 22);
    CHECK(cpu.reg.d == 24);
    CHECK(cpu.reg.e == 55);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 198);
    CHECK(cpu.reg.l == 68);
    CHECK(cpu.pc == 59577);
    CHECK(cpu.sp == 32453);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[59576] == 4);
}

TEST_CASE( "04 019A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58775;
    cpu.sp = 28515;
    cpu.reg.a = 83;
    cpu.reg.b = 209;
    cpu.reg.c = 125;
    cpu.reg.d = 152;
    cpu.reg.e = 138;
    cpu.reg.f = 144;
    cpu.reg.h = 239;
    cpu.reg.l = 42;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[58775] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 83);
    CHECK(cpu.reg.b == 210);
    CHECK(cpu.reg.c == 125);
    CHECK(cpu.reg.d == 152);
    CHECK(cpu.reg.e == 138);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 239);
    CHECK(cpu.reg.l == 42);
    CHECK(cpu.pc == 58776);
    CHECK(cpu.sp == 28515);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58775] == 4);
}

TEST_CASE( "04 019B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40507;
    cpu.sp = 60481;
    cpu.reg.a = 128;
    cpu.reg.b = 178;
    cpu.reg.c = 247;
    cpu.reg.d = 217;
    cpu.reg.e = 213;
    cpu.reg.f = 208;
    cpu.reg.h = 94;
    cpu.reg.l = 196;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[40507] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 128);
    CHECK(cpu.reg.b == 179);
    CHECK(cpu.reg.c == 247);
    CHECK(cpu.reg.d == 217);
    CHECK(cpu.reg.e == 213);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 94);
    CHECK(cpu.reg.l == 196);
    CHECK(cpu.pc == 40508);
    CHECK(cpu.sp == 60481);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40507] == 4);
}

TEST_CASE( "04 019C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29756;
    cpu.sp = 54737;
    cpu.reg.a = 182;
    cpu.reg.b = 254;
    cpu.reg.c = 107;
    cpu.reg.d = 159;
    cpu.reg.e = 237;
    cpu.reg.f = 240;
    cpu.reg.h = 194;
    cpu.reg.l = 231;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[29756] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 182);
    CHECK(cpu.reg.b == 255);
    CHECK(cpu.reg.c == 107);
    CHECK(cpu.reg.d == 159);
    CHECK(cpu.reg.e == 237);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 194);
    CHECK(cpu.reg.l == 231);
    CHECK(cpu.pc == 29757);
    CHECK(cpu.sp == 54737);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29756] == 4);
}

TEST_CASE( "04 019D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 314;
    cpu.sp = 57937;
    cpu.reg.a = 164;
    cpu.reg.b = 248;
    cpu.reg.c = 168;
    cpu.reg.d = 44;
    cpu.reg.e = 231;
    cpu.reg.f = 112;
    cpu.reg.h = 217;
    cpu.reg.l = 18;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[314] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 164);
    CHECK(cpu.reg.b == 249);
    CHECK(cpu.reg.c == 168);
    CHECK(cpu.reg.d == 44);
    CHECK(cpu.reg.e == 231);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 217);
    CHECK(cpu.reg.l == 18);
    CHECK(cpu.pc == 315);
    CHECK(cpu.sp == 57937);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[314] == 4);
}

TEST_CASE( "04 019E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39052;
    cpu.sp = 936;
    cpu.reg.a = 253;
    cpu.reg.b = 84;
    cpu.reg.c = 169;
    cpu.reg.d = 153;
    cpu.reg.e = 64;
    cpu.reg.f = 128;
    cpu.reg.h = 48;
    cpu.reg.l = 104;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[39052] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 253);
    CHECK(cpu.reg.b == 85);
    CHECK(cpu.reg.c == 169);
    CHECK(cpu.reg.d == 153);
    CHECK(cpu.reg.e == 64);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 48);
    CHECK(cpu.reg.l == 104);
    CHECK(cpu.pc == 39053);
    CHECK(cpu.sp == 936);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39052] == 4);
}

TEST_CASE( "04 019F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53638;
    cpu.sp = 6360;
    cpu.reg.a = 221;
    cpu.reg.b = 230;
    cpu.reg.c = 55;
    cpu.reg.d = 169;
    cpu.reg.e = 250;
    cpu.reg.f = 32;
    cpu.reg.h = 187;
    cpu.reg.l = 199;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[53638] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 221);
    CHECK(cpu.reg.b == 231);
    CHECK(cpu.reg.c == 55);
    CHECK(cpu.reg.d == 169);
    CHECK(cpu.reg.e == 250);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 187);
    CHECK(cpu.reg.l == 199);
    CHECK(cpu.pc == 53639);
    CHECK(cpu.sp == 6360);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[53638] == 4);
}

TEST_CASE( "04 01A0", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14524;
    cpu.sp = 37734;
    cpu.reg.a = 150;
    cpu.reg.b = 119;
    cpu.reg.c = 199;
    cpu.reg.d = 228;
    cpu.reg.e = 131;
    cpu.reg.f = 128;
    cpu.reg.h = 226;
    cpu.reg.l = 38;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[14524] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 150);
    CHECK(cpu.reg.b == 120);
    CHECK(cpu.reg.c == 199);
    CHECK(cpu.reg.d == 228);
    CHECK(cpu.reg.e == 131);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 226);
    CHECK(cpu.reg.l == 38);
    CHECK(cpu.pc == 14525);
    CHECK(cpu.sp == 37734);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14524] == 4);
}

TEST_CASE( "04 01A1", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58169;
    cpu.sp = 11106;
    cpu.reg.a = 2;
    cpu.reg.b = 26;
    cpu.reg.c = 30;
    cpu.reg.d = 127;
    cpu.reg.e = 35;
    cpu.reg.f = 16;
    cpu.reg.h = 87;
    cpu.reg.l = 71;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[58169] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 2);
    CHECK(cpu.reg.b == 27);
    CHECK(cpu.reg.c == 30);
    CHECK(cpu.reg.d == 127);
    CHECK(cpu.reg.e == 35);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 87);
    CHECK(cpu.reg.l == 71);
    CHECK(cpu.pc == 58170);
    CHECK(cpu.sp == 11106);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[58169] == 4);
}

TEST_CASE( "04 01A2", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53821;
    cpu.sp = 15511;
    cpu.reg.a = 154;
    cpu.reg.b = 129;
    cpu.reg.c = 67;
    cpu.reg.d = 5;
    cpu.reg.e = 155;
    cpu.reg.f = 48;
    cpu.reg.h = 21;
    cpu.reg.l = 235;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[53821] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 154);
    CHECK(cpu.reg.b == 130);
    CHECK(cpu.reg.c == 67);
    CHECK(cpu.reg.d == 5);
    CHECK(cpu.reg.e == 155);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 21);
    CHECK(cpu.reg.l == 235);
    CHECK(cpu.pc == 53822);
    CHECK(cpu.sp == 15511);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[53821] == 4);
}

TEST_CASE( "04 01A3", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27598;
    cpu.sp = 15982;
    cpu.reg.a = 92;
    cpu.reg.b = 153;
    cpu.reg.c = 66;
    cpu.reg.d = 135;
    cpu.reg.e = 49;
    cpu.reg.f = 192;
    cpu.reg.h = 39;
    cpu.reg.l = 15;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[27598] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 92);
    CHECK(cpu.reg.b == 154);
    CHECK(cpu.reg.c == 66);
    CHECK(cpu.reg.d == 135);
    CHECK(cpu.reg.e == 49);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 39);
    CHECK(cpu.reg.l == 15);
    CHECK(cpu.pc == 27599);
    CHECK(cpu.sp == 15982);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27598] == 4);
}

TEST_CASE( "04 01A4", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30213;
    cpu.sp = 44381;
    cpu.reg.a = 133;
    cpu.reg.b = 81;
    cpu.reg.c = 86;
    cpu.reg.d = 45;
    cpu.reg.e = 197;
    cpu.reg.f = 240;
    cpu.reg.h = 242;
    cpu.reg.l = 86;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[30213] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 133);
    CHECK(cpu.reg.b == 82);
    CHECK(cpu.reg.c == 86);
    CHECK(cpu.reg.d == 45);
    CHECK(cpu.reg.e == 197);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 86);
    CHECK(cpu.pc == 30214);
    CHECK(cpu.sp == 44381);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30213] == 4);
}

TEST_CASE( "04 01A5", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12909;
    cpu.sp = 10766;
    cpu.reg.a = 247;
    cpu.reg.b = 3;
    cpu.reg.c = 196;
    cpu.reg.d = 208;
    cpu.reg.e = 19;
    cpu.reg.f = 48;
    cpu.reg.h = 89;
    cpu.reg.l = 117;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[12909] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 247);
    CHECK(cpu.reg.b == 4);
    CHECK(cpu.reg.c == 196);
    CHECK(cpu.reg.d == 208);
    CHECK(cpu.reg.e == 19);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 89);
    CHECK(cpu.reg.l == 117);
    CHECK(cpu.pc == 12910);
    CHECK(cpu.sp == 10766);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12909] == 4);
}

TEST_CASE( "04 01A6", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47010;
    cpu.sp = 18654;
    cpu.reg.a = 182;
    cpu.reg.b = 231;
    cpu.reg.c = 169;
    cpu.reg.d = 105;
    cpu.reg.e = 25;
    cpu.reg.f = 192;
    cpu.reg.h = 13;
    cpu.reg.l = 38;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[47010] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 182);
    CHECK(cpu.reg.b == 232);
    CHECK(cpu.reg.c == 169);
    CHECK(cpu.reg.d == 105);
    CHECK(cpu.reg.e == 25);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 13);
    CHECK(cpu.reg.l == 38);
    CHECK(cpu.pc == 47011);
    CHECK(cpu.sp == 18654);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47010] == 4);
}

TEST_CASE( "04 01A7", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14009;
    cpu.sp = 35671;
    cpu.reg.a = 174;
    cpu.reg.b = 203;
    cpu.reg.c = 41;
    cpu.reg.d = 62;
    cpu.reg.e = 57;
    cpu.reg.f = 176;
    cpu.reg.h = 95;
    cpu.reg.l = 150;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[14009] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 174);
    CHECK(cpu.reg.b == 204);
    CHECK(cpu.reg.c == 41);
    CHECK(cpu.reg.d == 62);
    CHECK(cpu.reg.e == 57);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 95);
    CHECK(cpu.reg.l == 150);
    CHECK(cpu.pc == 14010);
    CHECK(cpu.sp == 35671);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14009] == 4);
}

TEST_CASE( "04 01A8", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 291;
    cpu.sp = 63611;
    cpu.reg.a = 35;
    cpu.reg.b = 238;
    cpu.reg.c = 43;
    cpu.reg.d = 59;
    cpu.reg.e = 3;
    cpu.reg.f = 96;
    cpu.reg.h = 182;
    cpu.reg.l = 50;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[291] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 35);
    CHECK(cpu.reg.b == 239);
    CHECK(cpu.reg.c == 43);
    CHECK(cpu.reg.d == 59);
    CHECK(cpu.reg.e == 3);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 182);
    CHECK(cpu.reg.l == 50);
    CHECK(cpu.pc == 292);
    CHECK(cpu.sp == 63611);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[291] == 4);
}

TEST_CASE( "04 01A9", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9650;
    cpu.sp = 9769;
    cpu.reg.a = 231;
    cpu.reg.b = 145;
    cpu.reg.c = 97;
    cpu.reg.d = 151;
    cpu.reg.e = 73;
    cpu.reg.f = 112;
    cpu.reg.h = 2;
    cpu.reg.l = 133;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[9650] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 231);
    CHECK(cpu.reg.b == 146);
    CHECK(cpu.reg.c == 97);
    CHECK(cpu.reg.d == 151);
    CHECK(cpu.reg.e == 73);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 2);
    CHECK(cpu.reg.l == 133);
    CHECK(cpu.pc == 9651);
    CHECK(cpu.sp == 9769);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9650] == 4);
}

TEST_CASE( "04 01AA", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64831;
    cpu.sp = 49851;
    cpu.reg.a = 36;
    cpu.reg.b = 46;
    cpu.reg.c = 103;
    cpu.reg.d = 29;
    cpu.reg.e = 8;
    cpu.reg.f = 240;
    cpu.reg.h = 101;
    cpu.reg.l = 109;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[64831] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 36);
    CHECK(cpu.reg.b == 47);
    CHECK(cpu.reg.c == 103);
    CHECK(cpu.reg.d == 29);
    CHECK(cpu.reg.e == 8);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 101);
    CHECK(cpu.reg.l == 109);
    CHECK(cpu.pc == 64832);
    CHECK(cpu.sp == 49851);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64831] == 4);
}

TEST_CASE( "04 01AB", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6258;
    cpu.sp = 47837;
    cpu.reg.a = 103;
    cpu.reg.b = 100;
    cpu.reg.c = 138;
    cpu.reg.d = 254;
    cpu.reg.e = 115;
    cpu.reg.f = 112;
    cpu.reg.h = 94;
    cpu.reg.l = 237;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[6258] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 103);
    CHECK(cpu.reg.b == 101);
    CHECK(cpu.reg.c == 138);
    CHECK(cpu.reg.d == 254);
    CHECK(cpu.reg.e == 115);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 94);
    CHECK(cpu.reg.l == 237);
    CHECK(cpu.pc == 6259);
    CHECK(cpu.sp == 47837);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6258] == 4);
}

TEST_CASE( "04 01AC", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40926;
    cpu.sp = 11959;
    cpu.reg.a = 64;
    cpu.reg.b = 33;
    cpu.reg.c = 65;
    cpu.reg.d = 105;
    cpu.reg.e = 152;
    cpu.reg.f = 64;
    cpu.reg.h = 134;
    cpu.reg.l = 164;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[40926] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 34);
    CHECK(cpu.reg.c == 65);
    CHECK(cpu.reg.d == 105);
    CHECK(cpu.reg.e == 152);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 134);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 40927);
    CHECK(cpu.sp == 11959);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40926] == 4);
}

TEST_CASE( "04 01AD", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38046;
    cpu.sp = 30581;
    cpu.reg.a = 159;
    cpu.reg.b = 58;
    cpu.reg.c = 81;
    cpu.reg.d = 101;
    cpu.reg.e = 117;
    cpu.reg.f = 0;
    cpu.reg.h = 151;
    cpu.reg.l = 164;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[38046] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 159);
    CHECK(cpu.reg.b == 59);
    CHECK(cpu.reg.c == 81);
    CHECK(cpu.reg.d == 101);
    CHECK(cpu.reg.e == 117);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 151);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 38047);
    CHECK(cpu.sp == 30581);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38046] == 4);
}

TEST_CASE( "04 01AE", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11040;
    cpu.sp = 10182;
    cpu.reg.a = 85;
    cpu.reg.b = 105;
    cpu.reg.c = 221;
    cpu.reg.d = 239;
    cpu.reg.e = 46;
    cpu.reg.f = 32;
    cpu.reg.h = 190;
    cpu.reg.l = 142;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[11040] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 85);
    CHECK(cpu.reg.b == 106);
    CHECK(cpu.reg.c == 221);
    CHECK(cpu.reg.d == 239);
    CHECK(cpu.reg.e == 46);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 190);
    CHECK(cpu.reg.l == 142);
    CHECK(cpu.pc == 11041);
    CHECK(cpu.sp == 10182);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11040] == 4);
}

TEST_CASE( "04 01AF", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63919;
    cpu.sp = 56561;
    cpu.reg.a = 111;
    cpu.reg.b = 79;
    cpu.reg.c = 16;
    cpu.reg.d = 252;
    cpu.reg.e = 0;
    cpu.reg.f = 16;
    cpu.reg.h = 100;
    cpu.reg.l = 143;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[63919] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 111);
    CHECK(cpu.reg.b == 80);
    CHECK(cpu.reg.c == 16);
    CHECK(cpu.reg.d == 252);
    CHECK(cpu.reg.e == 0);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 100);
    CHECK(cpu.reg.l == 143);
    CHECK(cpu.pc == 63920);
    CHECK(cpu.sp == 56561);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[63919] == 4);
}

TEST_CASE( "04 01B0", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15918;
    cpu.sp = 16876;
    cpu.reg.a = 163;
    cpu.reg.b = 129;
    cpu.reg.c = 53;
    cpu.reg.d = 207;
    cpu.reg.e = 127;
    cpu.reg.f = 80;
    cpu.reg.h = 47;
    cpu.reg.l = 85;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[15918] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 163);
    CHECK(cpu.reg.b == 130);
    CHECK(cpu.reg.c == 53);
    CHECK(cpu.reg.d == 207);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 47);
    CHECK(cpu.reg.l == 85);
    CHECK(cpu.pc == 15919);
    CHECK(cpu.sp == 16876);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15918] == 4);
}

TEST_CASE( "04 01B1", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25420;
    cpu.sp = 20392;
    cpu.reg.a = 242;
    cpu.reg.b = 154;
    cpu.reg.c = 120;
    cpu.reg.d = 208;
    cpu.reg.e = 168;
    cpu.reg.f = 240;
    cpu.reg.h = 160;
    cpu.reg.l = 29;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[25420] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 242);
    CHECK(cpu.reg.b == 155);
    CHECK(cpu.reg.c == 120);
    CHECK(cpu.reg.d == 208);
    CHECK(cpu.reg.e == 168);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 160);
    CHECK(cpu.reg.l == 29);
    CHECK(cpu.pc == 25421);
    CHECK(cpu.sp == 20392);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25420] == 4);
}

TEST_CASE( "04 01B2", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41530;
    cpu.sp = 50143;
    cpu.reg.a = 214;
    cpu.reg.b = 66;
    cpu.reg.c = 229;
    cpu.reg.d = 116;
    cpu.reg.e = 18;
    cpu.reg.f = 64;
    cpu.reg.h = 137;
    cpu.reg.l = 164;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[41530] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 214);
    CHECK(cpu.reg.b == 67);
    CHECK(cpu.reg.c == 229);
    CHECK(cpu.reg.d == 116);
    CHECK(cpu.reg.e == 18);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 137);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 41531);
    CHECK(cpu.sp == 50143);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[41530] == 4);
}

TEST_CASE( "04 01B3", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9144;
    cpu.sp = 8578;
    cpu.reg.a = 99;
    cpu.reg.b = 97;
    cpu.reg.c = 117;
    cpu.reg.d = 112;
    cpu.reg.e = 84;
    cpu.reg.f = 0;
    cpu.reg.h = 199;
    cpu.reg.l = 69;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[9144] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 99);
    CHECK(cpu.reg.b == 98);
    CHECK(cpu.reg.c == 117);
    CHECK(cpu.reg.d == 112);
    CHECK(cpu.reg.e == 84);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 199);
    CHECK(cpu.reg.l == 69);
    CHECK(cpu.pc == 9145);
    CHECK(cpu.sp == 8578);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9144] == 4);
}

TEST_CASE( "04 01B4", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14195;
    cpu.sp = 56997;
    cpu.reg.a = 152;
    cpu.reg.b = 132;
    cpu.reg.c = 133;
    cpu.reg.d = 210;
    cpu.reg.e = 34;
    cpu.reg.f = 112;
    cpu.reg.h = 183;
    cpu.reg.l = 136;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[14195] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 152);
    CHECK(cpu.reg.b == 133);
    CHECK(cpu.reg.c == 133);
    CHECK(cpu.reg.d == 210);
    CHECK(cpu.reg.e == 34);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 183);
    CHECK(cpu.reg.l == 136);
    CHECK(cpu.pc == 14196);
    CHECK(cpu.sp == 56997);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14195] == 4);
}

TEST_CASE( "04 01B5", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10131;
    cpu.sp = 57932;
    cpu.reg.a = 96;
    cpu.reg.b = 4;
    cpu.reg.c = 64;
    cpu.reg.d = 69;
    cpu.reg.e = 91;
    cpu.reg.f = 192;
    cpu.reg.h = 71;
    cpu.reg.l = 32;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[10131] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 96);
    CHECK(cpu.reg.b == 5);
    CHECK(cpu.reg.c == 64);
    CHECK(cpu.reg.d == 69);
    CHECK(cpu.reg.e == 91);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 71);
    CHECK(cpu.reg.l == 32);
    CHECK(cpu.pc == 10132);
    CHECK(cpu.sp == 57932);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10131] == 4);
}

TEST_CASE( "04 01B6", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39932;
    cpu.sp = 6613;
    cpu.reg.a = 170;
    cpu.reg.b = 121;
    cpu.reg.c = 67;
    cpu.reg.d = 220;
    cpu.reg.e = 179;
    cpu.reg.f = 64;
    cpu.reg.h = 1;
    cpu.reg.l = 171;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[39932] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 170);
    CHECK(cpu.reg.b == 122);
    CHECK(cpu.reg.c == 67);
    CHECK(cpu.reg.d == 220);
    CHECK(cpu.reg.e == 179);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 1);
    CHECK(cpu.reg.l == 171);
    CHECK(cpu.pc == 39933);
    CHECK(cpu.sp == 6613);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39932] == 4);
}

TEST_CASE( "04 01B7", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20426;
    cpu.sp = 14673;
    cpu.reg.a = 50;
    cpu.reg.b = 47;
    cpu.reg.c = 223;
    cpu.reg.d = 102;
    cpu.reg.e = 139;
    cpu.reg.f = 192;
    cpu.reg.h = 57;
    cpu.reg.l = 147;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[20426] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 50);
    CHECK(cpu.reg.b == 48);
    CHECK(cpu.reg.c == 223);
    CHECK(cpu.reg.d == 102);
    CHECK(cpu.reg.e == 139);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 57);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 20427);
    CHECK(cpu.sp == 14673);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20426] == 4);
}

TEST_CASE( "04 01B8", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36775;
    cpu.sp = 55066;
    cpu.reg.a = 116;
    cpu.reg.b = 21;
    cpu.reg.c = 234;
    cpu.reg.d = 16;
    cpu.reg.e = 94;
    cpu.reg.f = 64;
    cpu.reg.h = 35;
    cpu.reg.l = 235;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[36775] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 116);
    CHECK(cpu.reg.b == 22);
    CHECK(cpu.reg.c == 234);
    CHECK(cpu.reg.d == 16);
    CHECK(cpu.reg.e == 94);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 35);
    CHECK(cpu.reg.l == 235);
    CHECK(cpu.pc == 36776);
    CHECK(cpu.sp == 55066);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36775] == 4);
}

TEST_CASE( "04 01B9", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20340;
    cpu.sp = 51465;
    cpu.reg.a = 79;
    cpu.reg.b = 99;
    cpu.reg.c = 171;
    cpu.reg.d = 135;
    cpu.reg.e = 96;
    cpu.reg.f = 112;
    cpu.reg.h = 71;
    cpu.reg.l = 0;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[20340] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 79);
    CHECK(cpu.reg.b == 100);
    CHECK(cpu.reg.c == 171);
    CHECK(cpu.reg.d == 135);
    CHECK(cpu.reg.e == 96);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 71);
    CHECK(cpu.reg.l == 0);
    CHECK(cpu.pc == 20341);
    CHECK(cpu.sp == 51465);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20340] == 4);
}

TEST_CASE( "04 01BA", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3395;
    cpu.sp = 62560;
    cpu.reg.a = 196;
    cpu.reg.b = 210;
    cpu.reg.c = 29;
    cpu.reg.d = 180;
    cpu.reg.e = 141;
    cpu.reg.f = 208;
    cpu.reg.h = 62;
    cpu.reg.l = 155;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[3395] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 196);
    CHECK(cpu.reg.b == 211);
    CHECK(cpu.reg.c == 29);
    CHECK(cpu.reg.d == 180);
    CHECK(cpu.reg.e == 141);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 62);
    CHECK(cpu.reg.l == 155);
    CHECK(cpu.pc == 3396);
    CHECK(cpu.sp == 62560);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3395] == 4);
}

TEST_CASE( "04 01BB", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5989;
    cpu.sp = 42386;
    cpu.reg.a = 29;
    cpu.reg.b = 138;
    cpu.reg.c = 93;
    cpu.reg.d = 180;
    cpu.reg.e = 252;
    cpu.reg.f = 16;
    cpu.reg.h = 243;
    cpu.reg.l = 41;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5989] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 29);
    CHECK(cpu.reg.b == 139);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 180);
    CHECK(cpu.reg.e == 252);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 243);
    CHECK(cpu.reg.l == 41);
    CHECK(cpu.pc == 5990);
    CHECK(cpu.sp == 42386);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5989] == 4);
}

TEST_CASE( "04 01BC", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43832;
    cpu.sp = 12848;
    cpu.reg.a = 99;
    cpu.reg.b = 211;
    cpu.reg.c = 77;
    cpu.reg.d = 27;
    cpu.reg.e = 216;
    cpu.reg.f = 144;
    cpu.reg.h = 107;
    cpu.reg.l = 219;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[43832] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 99);
    CHECK(cpu.reg.b == 212);
    CHECK(cpu.reg.c == 77);
    CHECK(cpu.reg.d == 27);
    CHECK(cpu.reg.e == 216);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 107);
    CHECK(cpu.reg.l == 219);
    CHECK(cpu.pc == 43833);
    CHECK(cpu.sp == 12848);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43832] == 4);
}

TEST_CASE( "04 01BD", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53196;
    cpu.sp = 34939;
    cpu.reg.a = 220;
    cpu.reg.b = 117;
    cpu.reg.c = 175;
    cpu.reg.d = 89;
    cpu.reg.e = 241;
    cpu.reg.f = 96;
    cpu.reg.h = 253;
    cpu.reg.l = 132;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[53196] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 220);
    CHECK(cpu.reg.b == 118);
    CHECK(cpu.reg.c == 175);
    CHECK(cpu.reg.d == 89);
    CHECK(cpu.reg.e == 241);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 253);
    CHECK(cpu.reg.l == 132);
    CHECK(cpu.pc == 53197);
    CHECK(cpu.sp == 34939);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[53196] == 4);
}

TEST_CASE( "04 01BE", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35921;
    cpu.sp = 63594;
    cpu.reg.a = 230;
    cpu.reg.b = 100;
    cpu.reg.c = 24;
    cpu.reg.d = 104;
    cpu.reg.e = 232;
    cpu.reg.f = 80;
    cpu.reg.h = 11;
    cpu.reg.l = 6;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[35921] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 230);
    CHECK(cpu.reg.b == 101);
    CHECK(cpu.reg.c == 24);
    CHECK(cpu.reg.d == 104);
    CHECK(cpu.reg.e == 232);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 11);
    CHECK(cpu.reg.l == 6);
    CHECK(cpu.pc == 35922);
    CHECK(cpu.sp == 63594);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35921] == 4);
}

TEST_CASE( "04 01BF", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4522;
    cpu.sp = 15725;
    cpu.reg.a = 141;
    cpu.reg.b = 147;
    cpu.reg.c = 93;
    cpu.reg.d = 16;
    cpu.reg.e = 123;
    cpu.reg.f = 176;
    cpu.reg.h = 79;
    cpu.reg.l = 41;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4522] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 141);
    CHECK(cpu.reg.b == 148);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 16);
    CHECK(cpu.reg.e == 123);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 79);
    CHECK(cpu.reg.l == 41);
    CHECK(cpu.pc == 4523);
    CHECK(cpu.sp == 15725);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4522] == 4);
}

TEST_CASE( "04 01C0", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21446;
    cpu.sp = 3111;
    cpu.reg.a = 103;
    cpu.reg.b = 235;
    cpu.reg.c = 175;
    cpu.reg.d = 34;
    cpu.reg.e = 194;
    cpu.reg.f = 160;
    cpu.reg.h = 141;
    cpu.reg.l = 222;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[21446] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 103);
    CHECK(cpu.reg.b == 236);
    CHECK(cpu.reg.c == 175);
    CHECK(cpu.reg.d == 34);
    CHECK(cpu.reg.e == 194);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 141);
    CHECK(cpu.reg.l == 222);
    CHECK(cpu.pc == 21447);
    CHECK(cpu.sp == 3111);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21446] == 4);
}

TEST_CASE( "04 01C1", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56223;
    cpu.sp = 61115;
    cpu.reg.a = 232;
    cpu.reg.b = 169;
    cpu.reg.c = 56;
    cpu.reg.d = 220;
    cpu.reg.e = 185;
    cpu.reg.f = 160;
    cpu.reg.h = 197;
    cpu.reg.l = 174;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[56223] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 232);
    CHECK(cpu.reg.b == 170);
    CHECK(cpu.reg.c == 56);
    CHECK(cpu.reg.d == 220);
    CHECK(cpu.reg.e == 185);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 197);
    CHECK(cpu.reg.l == 174);
    CHECK(cpu.pc == 56224);
    CHECK(cpu.sp == 61115);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56223] == 4);
}

TEST_CASE( "04 01C2", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35317;
    cpu.sp = 26492;
    cpu.reg.a = 13;
    cpu.reg.b = 37;
    cpu.reg.c = 215;
    cpu.reg.d = 35;
    cpu.reg.e = 239;
    cpu.reg.f = 160;
    cpu.reg.h = 18;
    cpu.reg.l = 150;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[35317] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 13);
    CHECK(cpu.reg.b == 38);
    CHECK(cpu.reg.c == 215);
    CHECK(cpu.reg.d == 35);
    CHECK(cpu.reg.e == 239);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 18);
    CHECK(cpu.reg.l == 150);
    CHECK(cpu.pc == 35318);
    CHECK(cpu.sp == 26492);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35317] == 4);
}

TEST_CASE( "04 01C3", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47614;
    cpu.sp = 58208;
    cpu.reg.a = 156;
    cpu.reg.b = 236;
    cpu.reg.c = 133;
    cpu.reg.d = 22;
    cpu.reg.e = 227;
    cpu.reg.f = 32;
    cpu.reg.h = 72;
    cpu.reg.l = 213;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[47614] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 156);
    CHECK(cpu.reg.b == 237);
    CHECK(cpu.reg.c == 133);
    CHECK(cpu.reg.d == 22);
    CHECK(cpu.reg.e == 227);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 72);
    CHECK(cpu.reg.l == 213);
    CHECK(cpu.pc == 47615);
    CHECK(cpu.sp == 58208);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47614] == 4);
}

TEST_CASE( "04 01C4", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24382;
    cpu.sp = 16913;
    cpu.reg.a = 64;
    cpu.reg.b = 56;
    cpu.reg.c = 226;
    cpu.reg.d = 63;
    cpu.reg.e = 211;
    cpu.reg.f = 48;
    cpu.reg.h = 242;
    cpu.reg.l = 135;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[24382] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 57);
    CHECK(cpu.reg.c == 226);
    CHECK(cpu.reg.d == 63);
    CHECK(cpu.reg.e == 211);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 135);
    CHECK(cpu.pc == 24383);
    CHECK(cpu.sp == 16913);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24382] == 4);
}

TEST_CASE( "04 01C5", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5526;
    cpu.sp = 62338;
    cpu.reg.a = 52;
    cpu.reg.b = 13;
    cpu.reg.c = 151;
    cpu.reg.d = 85;
    cpu.reg.e = 102;
    cpu.reg.f = 48;
    cpu.reg.h = 253;
    cpu.reg.l = 120;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[5526] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 52);
    CHECK(cpu.reg.b == 14);
    CHECK(cpu.reg.c == 151);
    CHECK(cpu.reg.d == 85);
    CHECK(cpu.reg.e == 102);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 253);
    CHECK(cpu.reg.l == 120);
    CHECK(cpu.pc == 5527);
    CHECK(cpu.sp == 62338);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5526] == 4);
}

TEST_CASE( "04 01C6", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31531;
    cpu.sp = 61491;
    cpu.reg.a = 237;
    cpu.reg.b = 238;
    cpu.reg.c = 240;
    cpu.reg.d = 81;
    cpu.reg.e = 233;
    cpu.reg.f = 16;
    cpu.reg.h = 15;
    cpu.reg.l = 216;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[31531] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 237);
    CHECK(cpu.reg.b == 239);
    CHECK(cpu.reg.c == 240);
    CHECK(cpu.reg.d == 81);
    CHECK(cpu.reg.e == 233);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 15);
    CHECK(cpu.reg.l == 216);
    CHECK(cpu.pc == 31532);
    CHECK(cpu.sp == 61491);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31531] == 4);
}

TEST_CASE( "04 01C7", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49067;
    cpu.sp = 25959;
    cpu.reg.a = 175;
    cpu.reg.b = 33;
    cpu.reg.c = 116;
    cpu.reg.d = 14;
    cpu.reg.e = 237;
    cpu.reg.f = 64;
    cpu.reg.h = 138;
    cpu.reg.l = 230;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[49067] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 175);
    CHECK(cpu.reg.b == 34);
    CHECK(cpu.reg.c == 116);
    CHECK(cpu.reg.d == 14);
    CHECK(cpu.reg.e == 237);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 138);
    CHECK(cpu.reg.l == 230);
    CHECK(cpu.pc == 49068);
    CHECK(cpu.sp == 25959);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49067] == 4);
}

TEST_CASE( "04 01C8", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61933;
    cpu.sp = 40222;
    cpu.reg.a = 76;
    cpu.reg.b = 146;
    cpu.reg.c = 238;
    cpu.reg.d = 98;
    cpu.reg.e = 175;
    cpu.reg.f = 176;
    cpu.reg.h = 46;
    cpu.reg.l = 48;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[61933] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 76);
    CHECK(cpu.reg.b == 147);
    CHECK(cpu.reg.c == 238);
    CHECK(cpu.reg.d == 98);
    CHECK(cpu.reg.e == 175);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 46);
    CHECK(cpu.reg.l == 48);
    CHECK(cpu.pc == 61934);
    CHECK(cpu.sp == 40222);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61933] == 4);
}

TEST_CASE( "04 01C9", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33863;
    cpu.sp = 40875;
    cpu.reg.a = 59;
    cpu.reg.b = 63;
    cpu.reg.c = 72;
    cpu.reg.d = 144;
    cpu.reg.e = 147;
    cpu.reg.f = 32;
    cpu.reg.h = 86;
    cpu.reg.l = 27;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[33863] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 59);
    CHECK(cpu.reg.b == 64);
    CHECK(cpu.reg.c == 72);
    CHECK(cpu.reg.d == 144);
    CHECK(cpu.reg.e == 147);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 86);
    CHECK(cpu.reg.l == 27);
    CHECK(cpu.pc == 33864);
    CHECK(cpu.sp == 40875);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33863] == 4);
}

TEST_CASE( "04 01CA", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34923;
    cpu.sp = 17837;
    cpu.reg.a = 75;
    cpu.reg.b = 241;
    cpu.reg.c = 139;
    cpu.reg.d = 201;
    cpu.reg.e = 55;
    cpu.reg.f = 96;
    cpu.reg.h = 46;
    cpu.reg.l = 201;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[34923] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 75);
    CHECK(cpu.reg.b == 242);
    CHECK(cpu.reg.c == 139);
    CHECK(cpu.reg.d == 201);
    CHECK(cpu.reg.e == 55);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 46);
    CHECK(cpu.reg.l == 201);
    CHECK(cpu.pc == 34924);
    CHECK(cpu.sp == 17837);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[34923] == 4);
}

TEST_CASE( "04 01CB", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5083;
    cpu.sp = 30768;
    cpu.reg.a = 157;
    cpu.reg.b = 103;
    cpu.reg.c = 217;
    cpu.reg.d = 180;
    cpu.reg.e = 6;
    cpu.reg.f = 240;
    cpu.reg.h = 115;
    cpu.reg.l = 20;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[5083] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 157);
    CHECK(cpu.reg.b == 104);
    CHECK(cpu.reg.c == 217);
    CHECK(cpu.reg.d == 180);
    CHECK(cpu.reg.e == 6);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 115);
    CHECK(cpu.reg.l == 20);
    CHECK(cpu.pc == 5084);
    CHECK(cpu.sp == 30768);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5083] == 4);
}

TEST_CASE( "04 01CC", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58751;
    cpu.sp = 19863;
    cpu.reg.a = 164;
    cpu.reg.b = 111;
    cpu.reg.c = 159;
    cpu.reg.d = 153;
    cpu.reg.e = 41;
    cpu.reg.f = 208;
    cpu.reg.h = 75;
    cpu.reg.l = 251;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[58751] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 164);
    CHECK(cpu.reg.b == 112);
    CHECK(cpu.reg.c == 159);
    CHECK(cpu.reg.d == 153);
    CHECK(cpu.reg.e == 41);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 75);
    CHECK(cpu.reg.l == 251);
    CHECK(cpu.pc == 58752);
    CHECK(cpu.sp == 19863);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58751] == 4);
}

TEST_CASE( "04 01CD", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28273;
    cpu.sp = 41927;
    cpu.reg.a = 36;
    cpu.reg.b = 113;
    cpu.reg.c = 148;
    cpu.reg.d = 70;
    cpu.reg.e = 127;
    cpu.reg.f = 16;
    cpu.reg.h = 156;
    cpu.reg.l = 188;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[28273] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 36);
    CHECK(cpu.reg.b == 114);
    CHECK(cpu.reg.c == 148);
    CHECK(cpu.reg.d == 70);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 156);
    CHECK(cpu.reg.l == 188);
    CHECK(cpu.pc == 28274);
    CHECK(cpu.sp == 41927);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28273] == 4);
}

TEST_CASE( "04 01CE", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47748;
    cpu.sp = 1903;
    cpu.reg.a = 129;
    cpu.reg.b = 28;
    cpu.reg.c = 219;
    cpu.reg.d = 243;
    cpu.reg.e = 187;
    cpu.reg.f = 48;
    cpu.reg.h = 146;
    cpu.reg.l = 226;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[47748] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 129);
    CHECK(cpu.reg.b == 29);
    CHECK(cpu.reg.c == 219);
    CHECK(cpu.reg.d == 243);
    CHECK(cpu.reg.e == 187);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 146);
    CHECK(cpu.reg.l == 226);
    CHECK(cpu.pc == 47749);
    CHECK(cpu.sp == 1903);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47748] == 4);
}

TEST_CASE( "04 01CF", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52328;
    cpu.sp = 61845;
    cpu.reg.a = 241;
    cpu.reg.b = 193;
    cpu.reg.c = 108;
    cpu.reg.d = 35;
    cpu.reg.e = 76;
    cpu.reg.f = 80;
    cpu.reg.h = 148;
    cpu.reg.l = 122;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[52328] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 241);
    CHECK(cpu.reg.b == 194);
    CHECK(cpu.reg.c == 108);
    CHECK(cpu.reg.d == 35);
    CHECK(cpu.reg.e == 76);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 148);
    CHECK(cpu.reg.l == 122);
    CHECK(cpu.pc == 52329);
    CHECK(cpu.sp == 61845);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[52328] == 4);
}

TEST_CASE( "04 01D0", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44261;
    cpu.sp = 62802;
    cpu.reg.a = 0;
    cpu.reg.b = 88;
    cpu.reg.c = 57;
    cpu.reg.d = 215;
    cpu.reg.e = 95;
    cpu.reg.f = 160;
    cpu.reg.h = 109;
    cpu.reg.l = 195;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[44261] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 0);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 57);
    CHECK(cpu.reg.d == 215);
    CHECK(cpu.reg.e == 95);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 109);
    CHECK(cpu.reg.l == 195);
    CHECK(cpu.pc == 44262);
    CHECK(cpu.sp == 62802);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44261] == 4);
}

TEST_CASE( "04 01D1", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9216;
    cpu.sp = 31444;
    cpu.reg.a = 76;
    cpu.reg.b = 211;
    cpu.reg.c = 207;
    cpu.reg.d = 154;
    cpu.reg.e = 77;
    cpu.reg.f = 144;
    cpu.reg.h = 177;
    cpu.reg.l = 74;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[9216] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 76);
    CHECK(cpu.reg.b == 212);
    CHECK(cpu.reg.c == 207);
    CHECK(cpu.reg.d == 154);
    CHECK(cpu.reg.e == 77);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 177);
    CHECK(cpu.reg.l == 74);
    CHECK(cpu.pc == 9217);
    CHECK(cpu.sp == 31444);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9216] == 4);
}

TEST_CASE( "04 01D2", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51755;
    cpu.sp = 39170;
    cpu.reg.a = 166;
    cpu.reg.b = 38;
    cpu.reg.c = 150;
    cpu.reg.d = 176;
    cpu.reg.e = 176;
    cpu.reg.f = 176;
    cpu.reg.h = 177;
    cpu.reg.l = 76;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[51755] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 166);
    CHECK(cpu.reg.b == 39);
    CHECK(cpu.reg.c == 150);
    CHECK(cpu.reg.d == 176);
    CHECK(cpu.reg.e == 176);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 177);
    CHECK(cpu.reg.l == 76);
    CHECK(cpu.pc == 51756);
    CHECK(cpu.sp == 39170);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[51755] == 4);
}

TEST_CASE( "04 01D3", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26829;
    cpu.sp = 53594;
    cpu.reg.a = 121;
    cpu.reg.b = 233;
    cpu.reg.c = 101;
    cpu.reg.d = 166;
    cpu.reg.e = 177;
    cpu.reg.f = 64;
    cpu.reg.h = 121;
    cpu.reg.l = 101;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[26829] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 121);
    CHECK(cpu.reg.b == 234);
    CHECK(cpu.reg.c == 101);
    CHECK(cpu.reg.d == 166);
    CHECK(cpu.reg.e == 177);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 121);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 26830);
    CHECK(cpu.sp == 53594);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26829] == 4);
}

TEST_CASE( "04 01D4", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9070;
    cpu.sp = 29943;
    cpu.reg.a = 71;
    cpu.reg.b = 130;
    cpu.reg.c = 174;
    cpu.reg.d = 91;
    cpu.reg.e = 186;
    cpu.reg.f = 160;
    cpu.reg.h = 195;
    cpu.reg.l = 250;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[9070] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 71);
    CHECK(cpu.reg.b == 131);
    CHECK(cpu.reg.c == 174);
    CHECK(cpu.reg.d == 91);
    CHECK(cpu.reg.e == 186);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 195);
    CHECK(cpu.reg.l == 250);
    CHECK(cpu.pc == 9071);
    CHECK(cpu.sp == 29943);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9070] == 4);
}

TEST_CASE( "04 01D5", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27565;
    cpu.sp = 39079;
    cpu.reg.a = 193;
    cpu.reg.b = 158;
    cpu.reg.c = 155;
    cpu.reg.d = 67;
    cpu.reg.e = 84;
    cpu.reg.f = 160;
    cpu.reg.h = 87;
    cpu.reg.l = 69;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[27565] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 193);
    CHECK(cpu.reg.b == 159);
    CHECK(cpu.reg.c == 155);
    CHECK(cpu.reg.d == 67);
    CHECK(cpu.reg.e == 84);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 87);
    CHECK(cpu.reg.l == 69);
    CHECK(cpu.pc == 27566);
    CHECK(cpu.sp == 39079);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27565] == 4);
}

TEST_CASE( "04 01D6", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62842;
    cpu.sp = 65306;
    cpu.reg.a = 45;
    cpu.reg.b = 92;
    cpu.reg.c = 41;
    cpu.reg.d = 199;
    cpu.reg.e = 30;
    cpu.reg.f = 208;
    cpu.reg.h = 13;
    cpu.reg.l = 186;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[62842] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 45);
    CHECK(cpu.reg.b == 93);
    CHECK(cpu.reg.c == 41);
    CHECK(cpu.reg.d == 199);
    CHECK(cpu.reg.e == 30);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 13);
    CHECK(cpu.reg.l == 186);
    CHECK(cpu.pc == 62843);
    CHECK(cpu.sp == 65306);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[62842] == 4);
}

TEST_CASE( "04 01D7", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53389;
    cpu.sp = 49830;
    cpu.reg.a = 81;
    cpu.reg.b = 18;
    cpu.reg.c = 26;
    cpu.reg.d = 7;
    cpu.reg.e = 232;
    cpu.reg.f = 240;
    cpu.reg.h = 111;
    cpu.reg.l = 179;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[53389] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 81);
    CHECK(cpu.reg.b == 19);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 7);
    CHECK(cpu.reg.e == 232);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 111);
    CHECK(cpu.reg.l == 179);
    CHECK(cpu.pc == 53390);
    CHECK(cpu.sp == 49830);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[53389] == 4);
}

TEST_CASE( "04 01D8", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4519;
    cpu.sp = 8392;
    cpu.reg.a = 49;
    cpu.reg.b = 72;
    cpu.reg.c = 208;
    cpu.reg.d = 192;
    cpu.reg.e = 152;
    cpu.reg.f = 224;
    cpu.reg.h = 99;
    cpu.reg.l = 200;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4519] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 49);
    CHECK(cpu.reg.b == 73);
    CHECK(cpu.reg.c == 208);
    CHECK(cpu.reg.d == 192);
    CHECK(cpu.reg.e == 152);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 99);
    CHECK(cpu.reg.l == 200);
    CHECK(cpu.pc == 4520);
    CHECK(cpu.sp == 8392);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4519] == 4);
}

TEST_CASE( "04 01D9", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24861;
    cpu.sp = 61629;
    cpu.reg.a = 93;
    cpu.reg.b = 95;
    cpu.reg.c = 55;
    cpu.reg.d = 103;
    cpu.reg.e = 166;
    cpu.reg.f = 176;
    cpu.reg.h = 88;
    cpu.reg.l = 8;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[24861] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 93);
    CHECK(cpu.reg.b == 96);
    CHECK(cpu.reg.c == 55);
    CHECK(cpu.reg.d == 103);
    CHECK(cpu.reg.e == 166);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 88);
    CHECK(cpu.reg.l == 8);
    CHECK(cpu.pc == 24862);
    CHECK(cpu.sp == 61629);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24861] == 4);
}

TEST_CASE( "04 01DA", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65462;
    cpu.sp = 15767;
    cpu.reg.a = 148;
    cpu.reg.b = 102;
    cpu.reg.c = 203;
    cpu.reg.d = 131;
    cpu.reg.e = 151;
    cpu.reg.f = 80;
    cpu.reg.h = 151;
    cpu.reg.l = 242;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[65462] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 148);
    CHECK(cpu.reg.b == 103);
    CHECK(cpu.reg.c == 203);
    CHECK(cpu.reg.d == 131);
    CHECK(cpu.reg.e == 151);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 151);
    CHECK(cpu.reg.l == 242);
    CHECK(cpu.pc == 65463);
    CHECK(cpu.sp == 15767);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[65462] == 4);
}

TEST_CASE( "04 01DB", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21089;
    cpu.sp = 6815;
    cpu.reg.a = 61;
    cpu.reg.b = 115;
    cpu.reg.c = 93;
    cpu.reg.d = 81;
    cpu.reg.e = 207;
    cpu.reg.f = 16;
    cpu.reg.h = 108;
    cpu.reg.l = 52;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[21089] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 61);
    CHECK(cpu.reg.b == 116);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 81);
    CHECK(cpu.reg.e == 207);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 108);
    CHECK(cpu.reg.l == 52);
    CHECK(cpu.pc == 21090);
    CHECK(cpu.sp == 6815);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21089] == 4);
}

TEST_CASE( "04 01DC", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 551;
    cpu.sp = 60106;
    cpu.reg.a = 93;
    cpu.reg.b = 252;
    cpu.reg.c = 246;
    cpu.reg.d = 235;
    cpu.reg.e = 49;
    cpu.reg.f = 48;
    cpu.reg.h = 53;
    cpu.reg.l = 86;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[551] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 93);
    CHECK(cpu.reg.b == 253);
    CHECK(cpu.reg.c == 246);
    CHECK(cpu.reg.d == 235);
    CHECK(cpu.reg.e == 49);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 53);
    CHECK(cpu.reg.l == 86);
    CHECK(cpu.pc == 552);
    CHECK(cpu.sp == 60106);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[551] == 4);
}

TEST_CASE( "04 01DD", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20298;
    cpu.sp = 57256;
    cpu.reg.a = 255;
    cpu.reg.b = 131;
    cpu.reg.c = 235;
    cpu.reg.d = 246;
    cpu.reg.e = 107;
    cpu.reg.f = 112;
    cpu.reg.h = 170;
    cpu.reg.l = 101;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[20298] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 255);
    CHECK(cpu.reg.b == 132);
    CHECK(cpu.reg.c == 235);
    CHECK(cpu.reg.d == 246);
    CHECK(cpu.reg.e == 107);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 170);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 20299);
    CHECK(cpu.sp == 57256);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20298] == 4);
}

TEST_CASE( "04 01DE", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5452;
    cpu.sp = 6229;
    cpu.reg.a = 73;
    cpu.reg.b = 45;
    cpu.reg.c = 97;
    cpu.reg.d = 74;
    cpu.reg.e = 39;
    cpu.reg.f = 144;
    cpu.reg.h = 52;
    cpu.reg.l = 174;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[5452] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 73);
    CHECK(cpu.reg.b == 46);
    CHECK(cpu.reg.c == 97);
    CHECK(cpu.reg.d == 74);
    CHECK(cpu.reg.e == 39);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 52);
    CHECK(cpu.reg.l == 174);
    CHECK(cpu.pc == 5453);
    CHECK(cpu.sp == 6229);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5452] == 4);
}

TEST_CASE( "04 01DF", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35842;
    cpu.sp = 43591;
    cpu.reg.a = 137;
    cpu.reg.b = 79;
    cpu.reg.c = 171;
    cpu.reg.d = 84;
    cpu.reg.e = 113;
    cpu.reg.f = 32;
    cpu.reg.h = 41;
    cpu.reg.l = 250;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[35842] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 137);
    CHECK(cpu.reg.b == 80);
    CHECK(cpu.reg.c == 171);
    CHECK(cpu.reg.d == 84);
    CHECK(cpu.reg.e == 113);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 41);
    CHECK(cpu.reg.l == 250);
    CHECK(cpu.pc == 35843);
    CHECK(cpu.sp == 43591);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35842] == 4);
}

TEST_CASE( "04 01E0", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42527;
    cpu.sp = 569;
    cpu.reg.a = 184;
    cpu.reg.b = 243;
    cpu.reg.c = 142;
    cpu.reg.d = 133;
    cpu.reg.e = 182;
    cpu.reg.f = 80;
    cpu.reg.h = 17;
    cpu.reg.l = 85;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[42527] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 184);
    CHECK(cpu.reg.b == 244);
    CHECK(cpu.reg.c == 142);
    CHECK(cpu.reg.d == 133);
    CHECK(cpu.reg.e == 182);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 85);
    CHECK(cpu.pc == 42528);
    CHECK(cpu.sp == 569);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[42527] == 4);
}

TEST_CASE( "04 01E1", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36999;
    cpu.sp = 19324;
    cpu.reg.a = 59;
    cpu.reg.b = 241;
    cpu.reg.c = 23;
    cpu.reg.d = 223;
    cpu.reg.e = 134;
    cpu.reg.f = 32;
    cpu.reg.h = 106;
    cpu.reg.l = 230;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[36999] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 59);
    CHECK(cpu.reg.b == 242);
    CHECK(cpu.reg.c == 23);
    CHECK(cpu.reg.d == 223);
    CHECK(cpu.reg.e == 134);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 106);
    CHECK(cpu.reg.l == 230);
    CHECK(cpu.pc == 37000);
    CHECK(cpu.sp == 19324);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36999] == 4);
}

TEST_CASE( "04 01E2", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38642;
    cpu.sp = 4442;
    cpu.reg.a = 35;
    cpu.reg.b = 240;
    cpu.reg.c = 249;
    cpu.reg.d = 170;
    cpu.reg.e = 119;
    cpu.reg.f = 64;
    cpu.reg.h = 216;
    cpu.reg.l = 196;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[38642] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 35);
    CHECK(cpu.reg.b == 241);
    CHECK(cpu.reg.c == 249);
    CHECK(cpu.reg.d == 170);
    CHECK(cpu.reg.e == 119);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 216);
    CHECK(cpu.reg.l == 196);
    CHECK(cpu.pc == 38643);
    CHECK(cpu.sp == 4442);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38642] == 4);
}

TEST_CASE( "04 01E3", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55561;
    cpu.sp = 28301;
    cpu.reg.a = 29;
    cpu.reg.b = 110;
    cpu.reg.c = 176;
    cpu.reg.d = 153;
    cpu.reg.e = 226;
    cpu.reg.f = 240;
    cpu.reg.h = 90;
    cpu.reg.l = 31;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[55561] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 29);
    CHECK(cpu.reg.b == 111);
    CHECK(cpu.reg.c == 176);
    CHECK(cpu.reg.d == 153);
    CHECK(cpu.reg.e == 226);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 90);
    CHECK(cpu.reg.l == 31);
    CHECK(cpu.pc == 55562);
    CHECK(cpu.sp == 28301);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[55561] == 4);
}

TEST_CASE( "04 01E4", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31984;
    cpu.sp = 9012;
    cpu.reg.a = 7;
    cpu.reg.b = 69;
    cpu.reg.c = 205;
    cpu.reg.d = 73;
    cpu.reg.e = 197;
    cpu.reg.f = 144;
    cpu.reg.h = 110;
    cpu.reg.l = 188;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[31984] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 7);
    CHECK(cpu.reg.b == 70);
    CHECK(cpu.reg.c == 205);
    CHECK(cpu.reg.d == 73);
    CHECK(cpu.reg.e == 197);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 110);
    CHECK(cpu.reg.l == 188);
    CHECK(cpu.pc == 31985);
    CHECK(cpu.sp == 9012);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31984] == 4);
}

TEST_CASE( "04 01E5", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59241;
    cpu.sp = 13449;
    cpu.reg.a = 151;
    cpu.reg.b = 182;
    cpu.reg.c = 67;
    cpu.reg.d = 96;
    cpu.reg.e = 251;
    cpu.reg.f = 16;
    cpu.reg.h = 117;
    cpu.reg.l = 138;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[59241] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 151);
    CHECK(cpu.reg.b == 183);
    CHECK(cpu.reg.c == 67);
    CHECK(cpu.reg.d == 96);
    CHECK(cpu.reg.e == 251);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 117);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 59242);
    CHECK(cpu.sp == 13449);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[59241] == 4);
}

TEST_CASE( "04 01E6", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16930;
    cpu.sp = 30234;
    cpu.reg.a = 129;
    cpu.reg.b = 127;
    cpu.reg.c = 230;
    cpu.reg.d = 120;
    cpu.reg.e = 187;
    cpu.reg.f = 0;
    cpu.reg.h = 227;
    cpu.reg.l = 209;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[16930] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 129);
    CHECK(cpu.reg.b == 128);
    CHECK(cpu.reg.c == 230);
    CHECK(cpu.reg.d == 120);
    CHECK(cpu.reg.e == 187);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 209);
    CHECK(cpu.pc == 16931);
    CHECK(cpu.sp == 30234);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16930] == 4);
}

TEST_CASE( "04 01E7", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6048;
    cpu.sp = 9198;
    cpu.reg.a = 153;
    cpu.reg.b = 235;
    cpu.reg.c = 112;
    cpu.reg.d = 121;
    cpu.reg.e = 202;
    cpu.reg.f = 32;
    cpu.reg.h = 53;
    cpu.reg.l = 191;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[6048] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 153);
    CHECK(cpu.reg.b == 236);
    CHECK(cpu.reg.c == 112);
    CHECK(cpu.reg.d == 121);
    CHECK(cpu.reg.e == 202);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 53);
    CHECK(cpu.reg.l == 191);
    CHECK(cpu.pc == 6049);
    CHECK(cpu.sp == 9198);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6048] == 4);
}

TEST_CASE( "04 01E8", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36988;
    cpu.sp = 31695;
    cpu.reg.a = 12;
    cpu.reg.b = 245;
    cpu.reg.c = 184;
    cpu.reg.d = 168;
    cpu.reg.e = 39;
    cpu.reg.f = 96;
    cpu.reg.h = 253;
    cpu.reg.l = 89;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[36988] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 12);
    CHECK(cpu.reg.b == 246);
    CHECK(cpu.reg.c == 184);
    CHECK(cpu.reg.d == 168);
    CHECK(cpu.reg.e == 39);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 253);
    CHECK(cpu.reg.l == 89);
    CHECK(cpu.pc == 36989);
    CHECK(cpu.sp == 31695);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[36988] == 4);
}

TEST_CASE( "04 01E9", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53759;
    cpu.sp = 2796;
    cpu.reg.a = 254;
    cpu.reg.b = 98;
    cpu.reg.c = 221;
    cpu.reg.d = 14;
    cpu.reg.e = 22;
    cpu.reg.f = 16;
    cpu.reg.h = 44;
    cpu.reg.l = 139;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[53759] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 99);
    CHECK(cpu.reg.c == 221);
    CHECK(cpu.reg.d == 14);
    CHECK(cpu.reg.e == 22);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 44);
    CHECK(cpu.reg.l == 139);
    CHECK(cpu.pc == 53760);
    CHECK(cpu.sp == 2796);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[53759] == 4);
}

TEST_CASE( "04 01EA", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39076;
    cpu.sp = 56973;
    cpu.reg.a = 11;
    cpu.reg.b = 98;
    cpu.reg.c = 91;
    cpu.reg.d = 213;
    cpu.reg.e = 239;
    cpu.reg.f = 16;
    cpu.reg.h = 147;
    cpu.reg.l = 76;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[39076] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 11);
    CHECK(cpu.reg.b == 99);
    CHECK(cpu.reg.c == 91);
    CHECK(cpu.reg.d == 213);
    CHECK(cpu.reg.e == 239);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 147);
    CHECK(cpu.reg.l == 76);
    CHECK(cpu.pc == 39077);
    CHECK(cpu.sp == 56973);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39076] == 4);
}

TEST_CASE( "04 01EB", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4031;
    cpu.sp = 65441;
    cpu.reg.a = 163;
    cpu.reg.b = 94;
    cpu.reg.c = 190;
    cpu.reg.d = 200;
    cpu.reg.e = 86;
    cpu.reg.f = 96;
    cpu.reg.h = 83;
    cpu.reg.l = 57;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4031] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 163);
    CHECK(cpu.reg.b == 95);
    CHECK(cpu.reg.c == 190);
    CHECK(cpu.reg.d == 200);
    CHECK(cpu.reg.e == 86);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 83);
    CHECK(cpu.reg.l == 57);
    CHECK(cpu.pc == 4032);
    CHECK(cpu.sp == 65441);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4031] == 4);
}

TEST_CASE( "04 01EC", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42584;
    cpu.sp = 61921;
    cpu.reg.a = 7;
    cpu.reg.b = 159;
    cpu.reg.c = 91;
    cpu.reg.d = 89;
    cpu.reg.e = 157;
    cpu.reg.f = 144;
    cpu.reg.h = 56;
    cpu.reg.l = 67;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[42584] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 7);
    CHECK(cpu.reg.b == 160);
    CHECK(cpu.reg.c == 91);
    CHECK(cpu.reg.d == 89);
    CHECK(cpu.reg.e == 157);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 56);
    CHECK(cpu.reg.l == 67);
    CHECK(cpu.pc == 42585);
    CHECK(cpu.sp == 61921);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[42584] == 4);
}

TEST_CASE( "04 01ED", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49872;
    cpu.sp = 34328;
    cpu.reg.a = 152;
    cpu.reg.b = 139;
    cpu.reg.c = 34;
    cpu.reg.d = 121;
    cpu.reg.e = 230;
    cpu.reg.f = 80;
    cpu.reg.h = 33;
    cpu.reg.l = 35;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[49872] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 152);
    CHECK(cpu.reg.b == 140);
    CHECK(cpu.reg.c == 34);
    CHECK(cpu.reg.d == 121);
    CHECK(cpu.reg.e == 230);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 33);
    CHECK(cpu.reg.l == 35);
    CHECK(cpu.pc == 49873);
    CHECK(cpu.sp == 34328);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49872] == 4);
}

TEST_CASE( "04 01EE", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12704;
    cpu.sp = 3817;
    cpu.reg.a = 122;
    cpu.reg.b = 174;
    cpu.reg.c = 153;
    cpu.reg.d = 69;
    cpu.reg.e = 91;
    cpu.reg.f = 112;
    cpu.reg.h = 220;
    cpu.reg.l = 210;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[12704] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 122);
    CHECK(cpu.reg.b == 175);
    CHECK(cpu.reg.c == 153);
    CHECK(cpu.reg.d == 69);
    CHECK(cpu.reg.e == 91);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 220);
    CHECK(cpu.reg.l == 210);
    CHECK(cpu.pc == 12705);
    CHECK(cpu.sp == 3817);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12704] == 4);
}

TEST_CASE( "04 01EF", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49844;
    cpu.sp = 11746;
    cpu.reg.a = 71;
    cpu.reg.b = 242;
    cpu.reg.c = 40;
    cpu.reg.d = 8;
    cpu.reg.e = 254;
    cpu.reg.f = 160;
    cpu.reg.h = 227;
    cpu.reg.l = 27;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[49844] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 71);
    CHECK(cpu.reg.b == 243);
    CHECK(cpu.reg.c == 40);
    CHECK(cpu.reg.d == 8);
    CHECK(cpu.reg.e == 254);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 27);
    CHECK(cpu.pc == 49845);
    CHECK(cpu.sp == 11746);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49844] == 4);
}

TEST_CASE( "04 01F0", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8751;
    cpu.sp = 14600;
    cpu.reg.a = 254;
    cpu.reg.b = 215;
    cpu.reg.c = 135;
    cpu.reg.d = 35;
    cpu.reg.e = 227;
    cpu.reg.f = 96;
    cpu.reg.h = 140;
    cpu.reg.l = 206;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[8751] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 216);
    CHECK(cpu.reg.c == 135);
    CHECK(cpu.reg.d == 35);
    CHECK(cpu.reg.e == 227);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 140);
    CHECK(cpu.reg.l == 206);
    CHECK(cpu.pc == 8752);
    CHECK(cpu.sp == 14600);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8751] == 4);
}

TEST_CASE( "04 01F1", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25484;
    cpu.sp = 5723;
    cpu.reg.a = 55;
    cpu.reg.b = 131;
    cpu.reg.c = 59;
    cpu.reg.d = 108;
    cpu.reg.e = 157;
    cpu.reg.f = 224;
    cpu.reg.h = 176;
    cpu.reg.l = 77;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[25484] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 55);
    CHECK(cpu.reg.b == 132);
    CHECK(cpu.reg.c == 59);
    CHECK(cpu.reg.d == 108);
    CHECK(cpu.reg.e == 157);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 176);
    CHECK(cpu.reg.l == 77);
    CHECK(cpu.pc == 25485);
    CHECK(cpu.sp == 5723);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25484] == 4);
}

TEST_CASE( "04 01F2", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52744;
    cpu.sp = 35896;
    cpu.reg.a = 224;
    cpu.reg.b = 24;
    cpu.reg.c = 44;
    cpu.reg.d = 195;
    cpu.reg.e = 250;
    cpu.reg.f = 96;
    cpu.reg.h = 16;
    cpu.reg.l = 143;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[52744] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 25);
    CHECK(cpu.reg.c == 44);
    CHECK(cpu.reg.d == 195);
    CHECK(cpu.reg.e == 250);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 16);
    CHECK(cpu.reg.l == 143);
    CHECK(cpu.pc == 52745);
    CHECK(cpu.sp == 35896);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[52744] == 4);
}

TEST_CASE( "04 01F3", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41182;
    cpu.sp = 31967;
    cpu.reg.a = 67;
    cpu.reg.b = 13;
    cpu.reg.c = 26;
    cpu.reg.d = 88;
    cpu.reg.e = 192;
    cpu.reg.f = 0;
    cpu.reg.h = 247;
    cpu.reg.l = 17;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[41182] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 67);
    CHECK(cpu.reg.b == 14);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 88);
    CHECK(cpu.reg.e == 192);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 247);
    CHECK(cpu.reg.l == 17);
    CHECK(cpu.pc == 41183);
    CHECK(cpu.sp == 31967);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41182] == 4);
}

TEST_CASE( "04 01F4", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49334;
    cpu.sp = 63143;
    cpu.reg.a = 92;
    cpu.reg.b = 158;
    cpu.reg.c = 118;
    cpu.reg.d = 212;
    cpu.reg.e = 177;
    cpu.reg.f = 112;
    cpu.reg.h = 102;
    cpu.reg.l = 31;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[49334] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 92);
    CHECK(cpu.reg.b == 159);
    CHECK(cpu.reg.c == 118);
    CHECK(cpu.reg.d == 212);
    CHECK(cpu.reg.e == 177);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 102);
    CHECK(cpu.reg.l == 31);
    CHECK(cpu.pc == 49335);
    CHECK(cpu.sp == 63143);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49334] == 4);
}

TEST_CASE( "04 01F5", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42297;
    cpu.sp = 30742;
    cpu.reg.a = 66;
    cpu.reg.b = 78;
    cpu.reg.c = 236;
    cpu.reg.d = 121;
    cpu.reg.e = 157;
    cpu.reg.f = 16;
    cpu.reg.h = 227;
    cpu.reg.l = 142;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[42297] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 66);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 236);
    CHECK(cpu.reg.d == 121);
    CHECK(cpu.reg.e == 157);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 142);
    CHECK(cpu.pc == 42298);
    CHECK(cpu.sp == 30742);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[42297] == 4);
}

TEST_CASE( "04 01F6", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42809;
    cpu.sp = 26486;
    cpu.reg.a = 215;
    cpu.reg.b = 184;
    cpu.reg.c = 128;
    cpu.reg.d = 238;
    cpu.reg.e = 108;
    cpu.reg.f = 80;
    cpu.reg.h = 245;
    cpu.reg.l = 119;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[42809] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 215);
    CHECK(cpu.reg.b == 185);
    CHECK(cpu.reg.c == 128);
    CHECK(cpu.reg.d == 238);
    CHECK(cpu.reg.e == 108);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 245);
    CHECK(cpu.reg.l == 119);
    CHECK(cpu.pc == 42810);
    CHECK(cpu.sp == 26486);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[42809] == 4);
}

TEST_CASE( "04 01F7", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4781;
    cpu.sp = 45506;
    cpu.reg.a = 14;
    cpu.reg.b = 153;
    cpu.reg.c = 164;
    cpu.reg.d = 14;
    cpu.reg.e = 23;
    cpu.reg.f = 32;
    cpu.reg.h = 153;
    cpu.reg.l = 105;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[4781] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 14);
    CHECK(cpu.reg.b == 154);
    CHECK(cpu.reg.c == 164);
    CHECK(cpu.reg.d == 14);
    CHECK(cpu.reg.e == 23);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 153);
    CHECK(cpu.reg.l == 105);
    CHECK(cpu.pc == 4782);
    CHECK(cpu.sp == 45506);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4781] == 4);
}

TEST_CASE( "04 01F8", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56233;
    cpu.sp = 14082;
    cpu.reg.a = 147;
    cpu.reg.b = 133;
    cpu.reg.c = 35;
    cpu.reg.d = 217;
    cpu.reg.e = 156;
    cpu.reg.f = 128;
    cpu.reg.h = 94;
    cpu.reg.l = 108;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[56233] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 147);
    CHECK(cpu.reg.b == 134);
    CHECK(cpu.reg.c == 35);
    CHECK(cpu.reg.d == 217);
    CHECK(cpu.reg.e == 156);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 94);
    CHECK(cpu.reg.l == 108);
    CHECK(cpu.pc == 56234);
    CHECK(cpu.sp == 14082);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56233] == 4);
}

TEST_CASE( "04 01F9", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11649;
    cpu.sp = 38921;
    cpu.reg.a = 198;
    cpu.reg.b = 66;
    cpu.reg.c = 214;
    cpu.reg.d = 217;
    cpu.reg.e = 166;
    cpu.reg.f = 16;
    cpu.reg.h = 253;
    cpu.reg.l = 3;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[11649] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 198);
    CHECK(cpu.reg.b == 67);
    CHECK(cpu.reg.c == 214);
    CHECK(cpu.reg.d == 217);
    CHECK(cpu.reg.e == 166);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 253);
    CHECK(cpu.reg.l == 3);
    CHECK(cpu.pc == 11650);
    CHECK(cpu.sp == 38921);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11649] == 4);
}

TEST_CASE( "04 01FA", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39977;
    cpu.sp = 10780;
    cpu.reg.a = 37;
    cpu.reg.b = 19;
    cpu.reg.c = 143;
    cpu.reg.d = 52;
    cpu.reg.e = 12;
    cpu.reg.f = 224;
    cpu.reg.h = 1;
    cpu.reg.l = 166;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[39977] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 37);
    CHECK(cpu.reg.b == 20);
    CHECK(cpu.reg.c == 143);
    CHECK(cpu.reg.d == 52);
    CHECK(cpu.reg.e == 12);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 1);
    CHECK(cpu.reg.l == 166);
    CHECK(cpu.pc == 39978);
    CHECK(cpu.sp == 10780);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39977] == 4);
}

TEST_CASE( "04 01FB", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56575;
    cpu.sp = 53115;
    cpu.reg.a = 234;
    cpu.reg.b = 120;
    cpu.reg.c = 225;
    cpu.reg.d = 201;
    cpu.reg.e = 39;
    cpu.reg.f = 240;
    cpu.reg.h = 176;
    cpu.reg.l = 195;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[56575] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 234);
    CHECK(cpu.reg.b == 121);
    CHECK(cpu.reg.c == 225);
    CHECK(cpu.reg.d == 201);
    CHECK(cpu.reg.e == 39);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 176);
    CHECK(cpu.reg.l == 195);
    CHECK(cpu.pc == 56576);
    CHECK(cpu.sp == 53115);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56575] == 4);
}

TEST_CASE( "04 01FC", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33919;
    cpu.sp = 5968;
    cpu.reg.a = 122;
    cpu.reg.b = 192;
    cpu.reg.c = 249;
    cpu.reg.d = 16;
    cpu.reg.e = 215;
    cpu.reg.f = 80;
    cpu.reg.h = 134;
    cpu.reg.l = 97;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[33919] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 122);
    CHECK(cpu.reg.b == 193);
    CHECK(cpu.reg.c == 249);
    CHECK(cpu.reg.d == 16);
    CHECK(cpu.reg.e == 215);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 134);
    CHECK(cpu.reg.l == 97);
    CHECK(cpu.pc == 33920);
    CHECK(cpu.sp == 5968);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33919] == 4);
}

TEST_CASE( "04 01FD", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6515;
    cpu.sp = 9662;
    cpu.reg.a = 155;
    cpu.reg.b = 18;
    cpu.reg.c = 254;
    cpu.reg.d = 247;
    cpu.reg.e = 3;
    cpu.reg.f = 0;
    cpu.reg.h = 114;
    cpu.reg.l = 242;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[6515] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 155);
    CHECK(cpu.reg.b == 19);
    CHECK(cpu.reg.c == 254);
    CHECK(cpu.reg.d == 247);
    CHECK(cpu.reg.e == 3);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 114);
    CHECK(cpu.reg.l == 242);
    CHECK(cpu.pc == 6516);
    CHECK(cpu.sp == 9662);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6515] == 4);
}

TEST_CASE( "04 01FE", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61125;
    cpu.sp = 57693;
    cpu.reg.a = 165;
    cpu.reg.b = 27;
    cpu.reg.c = 66;
    cpu.reg.d = 211;
    cpu.reg.e = 137;
    cpu.reg.f = 80;
    cpu.reg.h = 145;
    cpu.reg.l = 106;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[61125] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 165);
    CHECK(cpu.reg.b == 28);
    CHECK(cpu.reg.c == 66);
    CHECK(cpu.reg.d == 211);
    CHECK(cpu.reg.e == 137);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 145);
    CHECK(cpu.reg.l == 106);
    CHECK(cpu.pc == 61126);
    CHECK(cpu.sp == 57693);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61125] == 4);
}

TEST_CASE( "04 01FF", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50295;
    cpu.sp = 32432;
    cpu.reg.a = 253;
    cpu.reg.b = 22;
    cpu.reg.c = 77;
    cpu.reg.d = 43;
    cpu.reg.e = 181;
    cpu.reg.f = 48;
    cpu.reg.h = 60;
    cpu.reg.l = 172;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[50295] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 253);
    CHECK(cpu.reg.b == 23);
    CHECK(cpu.reg.c == 77);
    CHECK(cpu.reg.d == 43);
    CHECK(cpu.reg.e == 181);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 60);
    CHECK(cpu.reg.l == 172);
    CHECK(cpu.pc == 50296);
    CHECK(cpu.sp == 32432);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50295] == 4);
}

TEST_CASE( "04 0200", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 285;
    cpu.sp = 8265;
    cpu.reg.a = 254;
    cpu.reg.b = 0;
    cpu.reg.c = 118;
    cpu.reg.d = 151;
    cpu.reg.e = 194;
    cpu.reg.f = 80;
    cpu.reg.h = 161;
    cpu.reg.l = 26;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[285] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 1);
    CHECK(cpu.reg.c == 118);
    CHECK(cpu.reg.d == 151);
    CHECK(cpu.reg.e == 194);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 161);
    CHECK(cpu.reg.l == 26);
    CHECK(cpu.pc == 286);
    CHECK(cpu.sp == 8265);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[285] == 4);
}

TEST_CASE( "04 0201", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54913;
    cpu.sp = 53434;
    cpu.reg.a = 118;
    cpu.reg.b = 136;
    cpu.reg.c = 181;
    cpu.reg.d = 20;
    cpu.reg.e = 97;
    cpu.reg.f = 16;
    cpu.reg.h = 193;
    cpu.reg.l = 223;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[54913] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 118);
    CHECK(cpu.reg.b == 137);
    CHECK(cpu.reg.c == 181);
    CHECK(cpu.reg.d == 20);
    CHECK(cpu.reg.e == 97);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 193);
    CHECK(cpu.reg.l == 223);
    CHECK(cpu.pc == 54914);
    CHECK(cpu.sp == 53434);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54913] == 4);
}

TEST_CASE( "04 0202", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6649;
    cpu.sp = 13751;
    cpu.reg.a = 28;
    cpu.reg.b = 144;
    cpu.reg.c = 80;
    cpu.reg.d = 215;
    cpu.reg.e = 39;
    cpu.reg.f = 224;
    cpu.reg.h = 9;
    cpu.reg.l = 180;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[6649] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 28);
    CHECK(cpu.reg.b == 145);
    CHECK(cpu.reg.c == 80);
    CHECK(cpu.reg.d == 215);
    CHECK(cpu.reg.e == 39);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 9);
    CHECK(cpu.reg.l == 180);
    CHECK(cpu.pc == 6650);
    CHECK(cpu.sp == 13751);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6649] == 4);
}

TEST_CASE( "04 0203", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21213;
    cpu.sp = 26141;
    cpu.reg.a = 223;
    cpu.reg.b = 129;
    cpu.reg.c = 45;
    cpu.reg.d = 141;
    cpu.reg.e = 82;
    cpu.reg.f = 64;
    cpu.reg.h = 214;
    cpu.reg.l = 55;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[21213] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 223);
    CHECK(cpu.reg.b == 130);
    CHECK(cpu.reg.c == 45);
    CHECK(cpu.reg.d == 141);
    CHECK(cpu.reg.e == 82);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 214);
    CHECK(cpu.reg.l == 55);
    CHECK(cpu.pc == 21214);
    CHECK(cpu.sp == 26141);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21213] == 4);
}

TEST_CASE( "04 0204", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17220;
    cpu.sp = 18862;
    cpu.reg.a = 206;
    cpu.reg.b = 210;
    cpu.reg.c = 51;
    cpu.reg.d = 109;
    cpu.reg.e = 43;
    cpu.reg.f = 208;
    cpu.reg.h = 34;
    cpu.reg.l = 202;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[17220] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 206);
    CHECK(cpu.reg.b == 211);
    CHECK(cpu.reg.c == 51);
    CHECK(cpu.reg.d == 109);
    CHECK(cpu.reg.e == 43);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 34);
    CHECK(cpu.reg.l == 202);
    CHECK(cpu.pc == 17221);
    CHECK(cpu.sp == 18862);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17220] == 4);
}

TEST_CASE( "04 0205", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51984;
    cpu.sp = 40622;
    cpu.reg.a = 115;
    cpu.reg.b = 188;
    cpu.reg.c = 169;
    cpu.reg.d = 47;
    cpu.reg.e = 229;
    cpu.reg.f = 208;
    cpu.reg.h = 66;
    cpu.reg.l = 76;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[51984] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 115);
    CHECK(cpu.reg.b == 189);
    CHECK(cpu.reg.c == 169);
    CHECK(cpu.reg.d == 47);
    CHECK(cpu.reg.e == 229);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 66);
    CHECK(cpu.reg.l == 76);
    CHECK(cpu.pc == 51985);
    CHECK(cpu.sp == 40622);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51984] == 4);
}

TEST_CASE( "04 0206", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64337;
    cpu.sp = 63009;
    cpu.reg.a = 242;
    cpu.reg.b = 209;
    cpu.reg.c = 50;
    cpu.reg.d = 12;
    cpu.reg.e = 247;
    cpu.reg.f = 112;
    cpu.reg.h = 57;
    cpu.reg.l = 230;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[64337] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 242);
    CHECK(cpu.reg.b == 210);
    CHECK(cpu.reg.c == 50);
    CHECK(cpu.reg.d == 12);
    CHECK(cpu.reg.e == 247);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 57);
    CHECK(cpu.reg.l == 230);
    CHECK(cpu.pc == 64338);
    CHECK(cpu.sp == 63009);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64337] == 4);
}

TEST_CASE( "04 0207", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64020;
    cpu.sp = 41796;
    cpu.reg.a = 68;
    cpu.reg.b = 95;
    cpu.reg.c = 63;
    cpu.reg.d = 74;
    cpu.reg.e = 175;
    cpu.reg.f = 64;
    cpu.reg.h = 63;
    cpu.reg.l = 237;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[64020] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 68);
    CHECK(cpu.reg.b == 96);
    CHECK(cpu.reg.c == 63);
    CHECK(cpu.reg.d == 74);
    CHECK(cpu.reg.e == 175);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 63);
    CHECK(cpu.reg.l == 237);
    CHECK(cpu.pc == 64021);
    CHECK(cpu.sp == 41796);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64020] == 4);
}

TEST_CASE( "04 0208", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16004;
    cpu.sp = 51276;
    cpu.reg.a = 94;
    cpu.reg.b = 109;
    cpu.reg.c = 142;
    cpu.reg.d = 189;
    cpu.reg.e = 203;
    cpu.reg.f = 128;
    cpu.reg.h = 183;
    cpu.reg.l = 1;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[16004] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 94);
    CHECK(cpu.reg.b == 110);
    CHECK(cpu.reg.c == 142);
    CHECK(cpu.reg.d == 189);
    CHECK(cpu.reg.e == 203);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 183);
    CHECK(cpu.reg.l == 1);
    CHECK(cpu.pc == 16005);
    CHECK(cpu.sp == 51276);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16004] == 4);
}

TEST_CASE( "04 0209", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15746;
    cpu.sp = 25180;
    cpu.reg.a = 163;
    cpu.reg.b = 158;
    cpu.reg.c = 126;
    cpu.reg.d = 245;
    cpu.reg.e = 69;
    cpu.reg.f = 208;
    cpu.reg.h = 181;
    cpu.reg.l = 168;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[15746] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 163);
    CHECK(cpu.reg.b == 159);
    CHECK(cpu.reg.c == 126);
    CHECK(cpu.reg.d == 245);
    CHECK(cpu.reg.e == 69);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 181);
    CHECK(cpu.reg.l == 168);
    CHECK(cpu.pc == 15747);
    CHECK(cpu.sp == 25180);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15746] == 4);
}

TEST_CASE( "04 020A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6052;
    cpu.sp = 6863;
    cpu.reg.a = 87;
    cpu.reg.b = 30;
    cpu.reg.c = 41;
    cpu.reg.d = 26;
    cpu.reg.e = 179;
    cpu.reg.f = 32;
    cpu.reg.h = 227;
    cpu.reg.l = 193;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[6052] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 87);
    CHECK(cpu.reg.b == 31);
    CHECK(cpu.reg.c == 41);
    CHECK(cpu.reg.d == 26);
    CHECK(cpu.reg.e == 179);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 193);
    CHECK(cpu.pc == 6053);
    CHECK(cpu.sp == 6863);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6052] == 4);
}

TEST_CASE( "04 020B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43338;
    cpu.sp = 31719;
    cpu.reg.a = 131;
    cpu.reg.b = 246;
    cpu.reg.c = 245;
    cpu.reg.d = 52;
    cpu.reg.e = 160;
    cpu.reg.f = 144;
    cpu.reg.h = 134;
    cpu.reg.l = 57;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[43338] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 131);
    CHECK(cpu.reg.b == 247);
    CHECK(cpu.reg.c == 245);
    CHECK(cpu.reg.d == 52);
    CHECK(cpu.reg.e == 160);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 134);
    CHECK(cpu.reg.l == 57);
    CHECK(cpu.pc == 43339);
    CHECK(cpu.sp == 31719);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[43338] == 4);
}

TEST_CASE( "04 020C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15665;
    cpu.sp = 15309;
    cpu.reg.a = 24;
    cpu.reg.b = 133;
    cpu.reg.c = 73;
    cpu.reg.d = 241;
    cpu.reg.e = 249;
    cpu.reg.f = 176;
    cpu.reg.h = 75;
    cpu.reg.l = 85;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[15665] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 24);
    CHECK(cpu.reg.b == 134);
    CHECK(cpu.reg.c == 73);
    CHECK(cpu.reg.d == 241);
    CHECK(cpu.reg.e == 249);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 75);
    CHECK(cpu.reg.l == 85);
    CHECK(cpu.pc == 15666);
    CHECK(cpu.sp == 15309);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15665] == 4);
}

TEST_CASE( "04 020D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35880;
    cpu.sp = 24056;
    cpu.reg.a = 216;
    cpu.reg.b = 93;
    cpu.reg.c = 120;
    cpu.reg.d = 88;
    cpu.reg.e = 30;
    cpu.reg.f = 48;
    cpu.reg.h = 143;
    cpu.reg.l = 135;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[35880] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 94);
    CHECK(cpu.reg.c == 120);
    CHECK(cpu.reg.d == 88);
    CHECK(cpu.reg.e == 30);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 143);
    CHECK(cpu.reg.l == 135);
    CHECK(cpu.pc == 35881);
    CHECK(cpu.sp == 24056);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35880] == 4);
}

TEST_CASE( "04 020E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27705;
    cpu.sp = 53806;
    cpu.reg.a = 68;
    cpu.reg.b = 141;
    cpu.reg.c = 150;
    cpu.reg.d = 107;
    cpu.reg.e = 195;
    cpu.reg.f = 176;
    cpu.reg.h = 242;
    cpu.reg.l = 237;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[27705] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 68);
    CHECK(cpu.reg.b == 142);
    CHECK(cpu.reg.c == 150);
    CHECK(cpu.reg.d == 107);
    CHECK(cpu.reg.e == 195);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 237);
    CHECK(cpu.pc == 27706);
    CHECK(cpu.sp == 53806);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27705] == 4);
}

TEST_CASE( "04 020F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14186;
    cpu.sp = 64060;
    cpu.reg.a = 92;
    cpu.reg.b = 73;
    cpu.reg.c = 248;
    cpu.reg.d = 209;
    cpu.reg.e = 232;
    cpu.reg.f = 160;
    cpu.reg.h = 240;
    cpu.reg.l = 109;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[14186] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 92);
    CHECK(cpu.reg.b == 74);
    CHECK(cpu.reg.c == 248);
    CHECK(cpu.reg.d == 209);
    CHECK(cpu.reg.e == 232);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 240);
    CHECK(cpu.reg.l == 109);
    CHECK(cpu.pc == 14187);
    CHECK(cpu.sp == 64060);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14186] == 4);
}

TEST_CASE( "04 0210", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45769;
    cpu.sp = 7579;
    cpu.reg.a = 243;
    cpu.reg.b = 194;
    cpu.reg.c = 39;
    cpu.reg.d = 11;
    cpu.reg.e = 16;
    cpu.reg.f = 96;
    cpu.reg.h = 7;
    cpu.reg.l = 2;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[45769] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 243);
    CHECK(cpu.reg.b == 195);
    CHECK(cpu.reg.c == 39);
    CHECK(cpu.reg.d == 11);
    CHECK(cpu.reg.e == 16);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 7);
    CHECK(cpu.reg.l == 2);
    CHECK(cpu.pc == 45770);
    CHECK(cpu.sp == 7579);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45769] == 4);
}

TEST_CASE( "04 0211", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47026;
    cpu.sp = 6503;
    cpu.reg.a = 52;
    cpu.reg.b = 209;
    cpu.reg.c = 226;
    cpu.reg.d = 222;
    cpu.reg.e = 228;
    cpu.reg.f = 16;
    cpu.reg.h = 64;
    cpu.reg.l = 134;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47026] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 52);
    CHECK(cpu.reg.b == 210);
    CHECK(cpu.reg.c == 226);
    CHECK(cpu.reg.d == 222);
    CHECK(cpu.reg.e == 228);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 64);
    CHECK(cpu.reg.l == 134);
    CHECK(cpu.pc == 47027);
    CHECK(cpu.sp == 6503);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47026] == 4);
}

TEST_CASE( "04 0212", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40860;
    cpu.sp = 32838;
    cpu.reg.a = 237;
    cpu.reg.b = 60;
    cpu.reg.c = 54;
    cpu.reg.d = 171;
    cpu.reg.e = 74;
    cpu.reg.f = 208;
    cpu.reg.h = 84;
    cpu.reg.l = 39;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[40860] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 237);
    CHECK(cpu.reg.b == 61);
    CHECK(cpu.reg.c == 54);
    CHECK(cpu.reg.d == 171);
    CHECK(cpu.reg.e == 74);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 84);
    CHECK(cpu.reg.l == 39);
    CHECK(cpu.pc == 40861);
    CHECK(cpu.sp == 32838);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40860] == 4);
}

TEST_CASE( "04 0213", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5472;
    cpu.sp = 3408;
    cpu.reg.a = 76;
    cpu.reg.b = 191;
    cpu.reg.c = 74;
    cpu.reg.d = 232;
    cpu.reg.e = 41;
    cpu.reg.f = 64;
    cpu.reg.h = 159;
    cpu.reg.l = 115;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[5472] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 76);
    CHECK(cpu.reg.b == 192);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 232);
    CHECK(cpu.reg.e == 41);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 159);
    CHECK(cpu.reg.l == 115);
    CHECK(cpu.pc == 5473);
    CHECK(cpu.sp == 3408);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5472] == 4);
}

TEST_CASE( "04 0214", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46846;
    cpu.sp = 56449;
    cpu.reg.a = 42;
    cpu.reg.b = 225;
    cpu.reg.c = 5;
    cpu.reg.d = 105;
    cpu.reg.e = 210;
    cpu.reg.f = 0;
    cpu.reg.h = 227;
    cpu.reg.l = 164;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[46846] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 42);
    CHECK(cpu.reg.b == 226);
    CHECK(cpu.reg.c == 5);
    CHECK(cpu.reg.d == 105);
    CHECK(cpu.reg.e == 210);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 46847);
    CHECK(cpu.sp == 56449);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[46846] == 4);
}

TEST_CASE( "04 0215", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26348;
    cpu.sp = 64392;
    cpu.reg.a = 204;
    cpu.reg.b = 167;
    cpu.reg.c = 126;
    cpu.reg.d = 217;
    cpu.reg.e = 100;
    cpu.reg.f = 128;
    cpu.reg.h = 24;
    cpu.reg.l = 132;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26348] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 204);
    CHECK(cpu.reg.b == 168);
    CHECK(cpu.reg.c == 126);
    CHECK(cpu.reg.d == 217);
    CHECK(cpu.reg.e == 100);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 24);
    CHECK(cpu.reg.l == 132);
    CHECK(cpu.pc == 26349);
    CHECK(cpu.sp == 64392);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26348] == 4);
}

TEST_CASE( "04 0216", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37697;
    cpu.sp = 24236;
    cpu.reg.a = 233;
    cpu.reg.b = 42;
    cpu.reg.c = 91;
    cpu.reg.d = 187;
    cpu.reg.e = 41;
    cpu.reg.f = 112;
    cpu.reg.h = 242;
    cpu.reg.l = 252;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[37697] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 233);
    CHECK(cpu.reg.b == 43);
    CHECK(cpu.reg.c == 91);
    CHECK(cpu.reg.d == 187);
    CHECK(cpu.reg.e == 41);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 252);
    CHECK(cpu.pc == 37698);
    CHECK(cpu.sp == 24236);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[37697] == 4);
}

TEST_CASE( "04 0217", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11011;
    cpu.sp = 51873;
    cpu.reg.a = 224;
    cpu.reg.b = 216;
    cpu.reg.c = 184;
    cpu.reg.d = 188;
    cpu.reg.e = 27;
    cpu.reg.f = 128;
    cpu.reg.h = 250;
    cpu.reg.l = 236;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[11011] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 217);
    CHECK(cpu.reg.c == 184);
    CHECK(cpu.reg.d == 188);
    CHECK(cpu.reg.e == 27);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 250);
    CHECK(cpu.reg.l == 236);
    CHECK(cpu.pc == 11012);
    CHECK(cpu.sp == 51873);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11011] == 4);
}

TEST_CASE( "04 0218", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17979;
    cpu.sp = 49793;
    cpu.reg.a = 54;
    cpu.reg.b = 67;
    cpu.reg.c = 187;
    cpu.reg.d = 77;
    cpu.reg.e = 241;
    cpu.reg.f = 112;
    cpu.reg.h = 70;
    cpu.reg.l = 33;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[17979] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 54);
    CHECK(cpu.reg.b == 68);
    CHECK(cpu.reg.c == 187);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 241);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 70);
    CHECK(cpu.reg.l == 33);
    CHECK(cpu.pc == 17980);
    CHECK(cpu.sp == 49793);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17979] == 4);
}

TEST_CASE( "04 0219", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46668;
    cpu.sp = 25183;
    cpu.reg.a = 254;
    cpu.reg.b = 18;
    cpu.reg.c = 186;
    cpu.reg.d = 250;
    cpu.reg.e = 229;
    cpu.reg.f = 240;
    cpu.reg.h = 10;
    cpu.reg.l = 73;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[46668] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 19);
    CHECK(cpu.reg.c == 186);
    CHECK(cpu.reg.d == 250);
    CHECK(cpu.reg.e == 229);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 10);
    CHECK(cpu.reg.l == 73);
    CHECK(cpu.pc == 46669);
    CHECK(cpu.sp == 25183);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[46668] == 4);
}

TEST_CASE( "04 021A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4795;
    cpu.sp = 52256;
    cpu.reg.a = 232;
    cpu.reg.b = 112;
    cpu.reg.c = 119;
    cpu.reg.d = 132;
    cpu.reg.e = 6;
    cpu.reg.f = 160;
    cpu.reg.h = 34;
    cpu.reg.l = 38;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[4795] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 232);
    CHECK(cpu.reg.b == 113);
    CHECK(cpu.reg.c == 119);
    CHECK(cpu.reg.d == 132);
    CHECK(cpu.reg.e == 6);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 34);
    CHECK(cpu.reg.l == 38);
    CHECK(cpu.pc == 4796);
    CHECK(cpu.sp == 52256);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4795] == 4);
}

TEST_CASE( "04 021B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47273;
    cpu.sp = 7314;
    cpu.reg.a = 116;
    cpu.reg.b = 214;
    cpu.reg.c = 176;
    cpu.reg.d = 182;
    cpu.reg.e = 170;
    cpu.reg.f = 16;
    cpu.reg.h = 216;
    cpu.reg.l = 252;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[47273] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 116);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 176);
    CHECK(cpu.reg.d == 182);
    CHECK(cpu.reg.e == 170);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 216);
    CHECK(cpu.reg.l == 252);
    CHECK(cpu.pc == 47274);
    CHECK(cpu.sp == 7314);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[47273] == 4);
}

TEST_CASE( "04 021C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53455;
    cpu.sp = 45227;
    cpu.reg.a = 207;
    cpu.reg.b = 109;
    cpu.reg.c = 112;
    cpu.reg.d = 210;
    cpu.reg.e = 158;
    cpu.reg.f = 0;
    cpu.reg.h = 44;
    cpu.reg.l = 87;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[53455] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 207);
    CHECK(cpu.reg.b == 110);
    CHECK(cpu.reg.c == 112);
    CHECK(cpu.reg.d == 210);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 44);
    CHECK(cpu.reg.l == 87);
    CHECK(cpu.pc == 53456);
    CHECK(cpu.sp == 45227);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[53455] == 4);
}

TEST_CASE( "04 021D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13584;
    cpu.sp = 62257;
    cpu.reg.a = 110;
    cpu.reg.b = 17;
    cpu.reg.c = 219;
    cpu.reg.d = 234;
    cpu.reg.e = 41;
    cpu.reg.f = 192;
    cpu.reg.h = 176;
    cpu.reg.l = 6;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[13584] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 110);
    CHECK(cpu.reg.b == 18);
    CHECK(cpu.reg.c == 219);
    CHECK(cpu.reg.d == 234);
    CHECK(cpu.reg.e == 41);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 176);
    CHECK(cpu.reg.l == 6);
    CHECK(cpu.pc == 13585);
    CHECK(cpu.sp == 62257);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13584] == 4);
}

TEST_CASE( "04 021E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32291;
    cpu.sp = 5512;
    cpu.reg.a = 92;
    cpu.reg.b = 9;
    cpu.reg.c = 15;
    cpu.reg.d = 224;
    cpu.reg.e = 158;
    cpu.reg.f = 160;
    cpu.reg.h = 17;
    cpu.reg.l = 245;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[32291] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 92);
    CHECK(cpu.reg.b == 10);
    CHECK(cpu.reg.c == 15);
    CHECK(cpu.reg.d == 224);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 245);
    CHECK(cpu.pc == 32292);
    CHECK(cpu.sp == 5512);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[32291] == 4);
}

TEST_CASE( "04 021F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2676;
    cpu.sp = 55311;
    cpu.reg.a = 204;
    cpu.reg.b = 127;
    cpu.reg.c = 127;
    cpu.reg.d = 24;
    cpu.reg.e = 21;
    cpu.reg.f = 16;
    cpu.reg.h = 214;
    cpu.reg.l = 118;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[2676] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 204);
    CHECK(cpu.reg.b == 128);
    CHECK(cpu.reg.c == 127);
    CHECK(cpu.reg.d == 24);
    CHECK(cpu.reg.e == 21);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 214);
    CHECK(cpu.reg.l == 118);
    CHECK(cpu.pc == 2677);
    CHECK(cpu.sp == 55311);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2676] == 4);
}

TEST_CASE( "04 0220", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15528;
    cpu.sp = 47983;
    cpu.reg.a = 20;
    cpu.reg.b = 106;
    cpu.reg.c = 90;
    cpu.reg.d = 239;
    cpu.reg.e = 153;
    cpu.reg.f = 176;
    cpu.reg.h = 175;
    cpu.reg.l = 132;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[15528] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 20);
    CHECK(cpu.reg.b == 107);
    CHECK(cpu.reg.c == 90);
    CHECK(cpu.reg.d == 239);
    CHECK(cpu.reg.e == 153);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 175);
    CHECK(cpu.reg.l == 132);
    CHECK(cpu.pc == 15529);
    CHECK(cpu.sp == 47983);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15528] == 4);
}

TEST_CASE( "04 0221", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50611;
    cpu.sp = 8143;
    cpu.reg.a = 143;
    cpu.reg.b = 238;
    cpu.reg.c = 220;
    cpu.reg.d = 0;
    cpu.reg.e = 193;
    cpu.reg.f = 144;
    cpu.reg.h = 231;
    cpu.reg.l = 87;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[50611] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 143);
    CHECK(cpu.reg.b == 239);
    CHECK(cpu.reg.c == 220);
    CHECK(cpu.reg.d == 0);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 231);
    CHECK(cpu.reg.l == 87);
    CHECK(cpu.pc == 50612);
    CHECK(cpu.sp == 8143);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50611] == 4);
}

TEST_CASE( "04 0222", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57744;
    cpu.sp = 30048;
    cpu.reg.a = 6;
    cpu.reg.b = 109;
    cpu.reg.c = 237;
    cpu.reg.d = 4;
    cpu.reg.e = 90;
    cpu.reg.f = 80;
    cpu.reg.h = 168;
    cpu.reg.l = 50;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[57744] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 6);
    CHECK(cpu.reg.b == 110);
    CHECK(cpu.reg.c == 237);
    CHECK(cpu.reg.d == 4);
    CHECK(cpu.reg.e == 90);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 168);
    CHECK(cpu.reg.l == 50);
    CHECK(cpu.pc == 57745);
    CHECK(cpu.sp == 30048);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[57744] == 4);
}

TEST_CASE( "04 0223", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45015;
    cpu.sp = 4154;
    cpu.reg.a = 132;
    cpu.reg.b = 39;
    cpu.reg.c = 160;
    cpu.reg.d = 106;
    cpu.reg.e = 64;
    cpu.reg.f = 96;
    cpu.reg.h = 106;
    cpu.reg.l = 64;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[45015] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 132);
    CHECK(cpu.reg.b == 40);
    CHECK(cpu.reg.c == 160);
    CHECK(cpu.reg.d == 106);
    CHECK(cpu.reg.e == 64);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 106);
    CHECK(cpu.reg.l == 64);
    CHECK(cpu.pc == 45016);
    CHECK(cpu.sp == 4154);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45015] == 4);
}

TEST_CASE( "04 0224", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59706;
    cpu.sp = 34729;
    cpu.reg.a = 102;
    cpu.reg.b = 220;
    cpu.reg.c = 23;
    cpu.reg.d = 148;
    cpu.reg.e = 57;
    cpu.reg.f = 64;
    cpu.reg.h = 165;
    cpu.reg.l = 78;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[59706] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 102);
    CHECK(cpu.reg.b == 221);
    CHECK(cpu.reg.c == 23);
    CHECK(cpu.reg.d == 148);
    CHECK(cpu.reg.e == 57);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 165);
    CHECK(cpu.reg.l == 78);
    CHECK(cpu.pc == 59707);
    CHECK(cpu.sp == 34729);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[59706] == 4);
}

TEST_CASE( "04 0225", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10641;
    cpu.sp = 15261;
    cpu.reg.a = 238;
    cpu.reg.b = 240;
    cpu.reg.c = 92;
    cpu.reg.d = 5;
    cpu.reg.e = 17;
    cpu.reg.f = 240;
    cpu.reg.h = 84;
    cpu.reg.l = 16;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[10641] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 238);
    CHECK(cpu.reg.b == 241);
    CHECK(cpu.reg.c == 92);
    CHECK(cpu.reg.d == 5);
    CHECK(cpu.reg.e == 17);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 84);
    CHECK(cpu.reg.l == 16);
    CHECK(cpu.pc == 10642);
    CHECK(cpu.sp == 15261);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10641] == 4);
}

TEST_CASE( "04 0226", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43452;
    cpu.sp = 61817;
    cpu.reg.a = 27;
    cpu.reg.b = 251;
    cpu.reg.c = 238;
    cpu.reg.d = 39;
    cpu.reg.e = 90;
    cpu.reg.f = 208;
    cpu.reg.h = 204;
    cpu.reg.l = 154;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[43452] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 27);
    CHECK(cpu.reg.b == 252);
    CHECK(cpu.reg.c == 238);
    CHECK(cpu.reg.d == 39);
    CHECK(cpu.reg.e == 90);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 204);
    CHECK(cpu.reg.l == 154);
    CHECK(cpu.pc == 43453);
    CHECK(cpu.sp == 61817);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43452] == 4);
}

TEST_CASE( "04 0227", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59430;
    cpu.sp = 12673;
    cpu.reg.a = 203;
    cpu.reg.b = 194;
    cpu.reg.c = 74;
    cpu.reg.d = 2;
    cpu.reg.e = 146;
    cpu.reg.f = 32;
    cpu.reg.h = 175;
    cpu.reg.l = 26;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[59430] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 203);
    CHECK(cpu.reg.b == 195);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 2);
    CHECK(cpu.reg.e == 146);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 175);
    CHECK(cpu.reg.l == 26);
    CHECK(cpu.pc == 59431);
    CHECK(cpu.sp == 12673);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[59430] == 4);
}

TEST_CASE( "04 0228", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56418;
    cpu.sp = 60511;
    cpu.reg.a = 224;
    cpu.reg.b = 98;
    cpu.reg.c = 24;
    cpu.reg.d = 226;
    cpu.reg.e = 102;
    cpu.reg.f = 32;
    cpu.reg.h = 152;
    cpu.reg.l = 192;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[56418] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 99);
    CHECK(cpu.reg.c == 24);
    CHECK(cpu.reg.d == 226);
    CHECK(cpu.reg.e == 102);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 152);
    CHECK(cpu.reg.l == 192);
    CHECK(cpu.pc == 56419);
    CHECK(cpu.sp == 60511);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56418] == 4);
}

TEST_CASE( "04 0229", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52818;
    cpu.sp = 34098;
    cpu.reg.a = 127;
    cpu.reg.b = 12;
    cpu.reg.c = 174;
    cpu.reg.d = 51;
    cpu.reg.e = 21;
    cpu.reg.f = 112;
    cpu.reg.h = 200;
    cpu.reg.l = 191;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[52818] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 127);
    CHECK(cpu.reg.b == 13);
    CHECK(cpu.reg.c == 174);
    CHECK(cpu.reg.d == 51);
    CHECK(cpu.reg.e == 21);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 200);
    CHECK(cpu.reg.l == 191);
    CHECK(cpu.pc == 52819);
    CHECK(cpu.sp == 34098);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[52818] == 4);
}

TEST_CASE( "04 022A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5884;
    cpu.sp = 48459;
    cpu.reg.a = 125;
    cpu.reg.b = 20;
    cpu.reg.c = 233;
    cpu.reg.d = 186;
    cpu.reg.e = 130;
    cpu.reg.f = 176;
    cpu.reg.h = 152;
    cpu.reg.l = 150;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5884] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 125);
    CHECK(cpu.reg.b == 21);
    CHECK(cpu.reg.c == 233);
    CHECK(cpu.reg.d == 186);
    CHECK(cpu.reg.e == 130);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 152);
    CHECK(cpu.reg.l == 150);
    CHECK(cpu.pc == 5885);
    CHECK(cpu.sp == 48459);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5884] == 4);
}

TEST_CASE( "04 022B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54969;
    cpu.sp = 40071;
    cpu.reg.a = 93;
    cpu.reg.b = 253;
    cpu.reg.c = 135;
    cpu.reg.d = 39;
    cpu.reg.e = 135;
    cpu.reg.f = 48;
    cpu.reg.h = 146;
    cpu.reg.l = 249;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[54969] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 93);
    CHECK(cpu.reg.b == 254);
    CHECK(cpu.reg.c == 135);
    CHECK(cpu.reg.d == 39);
    CHECK(cpu.reg.e == 135);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 146);
    CHECK(cpu.reg.l == 249);
    CHECK(cpu.pc == 54970);
    CHECK(cpu.sp == 40071);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[54969] == 4);
}

TEST_CASE( "04 022C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65296;
    cpu.sp = 41703;
    cpu.reg.a = 26;
    cpu.reg.b = 130;
    cpu.reg.c = 208;
    cpu.reg.d = 147;
    cpu.reg.e = 74;
    cpu.reg.f = 48;
    cpu.reg.h = 38;
    cpu.reg.l = 17;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[65296] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 26);
    CHECK(cpu.reg.b == 131);
    CHECK(cpu.reg.c == 208);
    CHECK(cpu.reg.d == 147);
    CHECK(cpu.reg.e == 74);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 38);
    CHECK(cpu.reg.l == 17);
    CHECK(cpu.pc == 65297);
    CHECK(cpu.sp == 41703);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[65296] == 4);
}

TEST_CASE( "04 022D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3498;
    cpu.sp = 39596;
    cpu.reg.a = 127;
    cpu.reg.b = 5;
    cpu.reg.c = 148;
    cpu.reg.d = 79;
    cpu.reg.e = 141;
    cpu.reg.f = 16;
    cpu.reg.h = 203;
    cpu.reg.l = 25;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[3498] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 127);
    CHECK(cpu.reg.b == 6);
    CHECK(cpu.reg.c == 148);
    CHECK(cpu.reg.d == 79);
    CHECK(cpu.reg.e == 141);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 203);
    CHECK(cpu.reg.l == 25);
    CHECK(cpu.pc == 3499);
    CHECK(cpu.sp == 39596);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3498] == 4);
}

TEST_CASE( "04 022E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14968;
    cpu.sp = 2707;
    cpu.reg.a = 126;
    cpu.reg.b = 121;
    cpu.reg.c = 225;
    cpu.reg.d = 17;
    cpu.reg.e = 208;
    cpu.reg.f = 48;
    cpu.reg.h = 59;
    cpu.reg.l = 143;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[14968] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 126);
    CHECK(cpu.reg.b == 122);
    CHECK(cpu.reg.c == 225);
    CHECK(cpu.reg.d == 17);
    CHECK(cpu.reg.e == 208);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 59);
    CHECK(cpu.reg.l == 143);
    CHECK(cpu.pc == 14969);
    CHECK(cpu.sp == 2707);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14968] == 4);
}

TEST_CASE( "04 022F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58088;
    cpu.sp = 24134;
    cpu.reg.a = 191;
    cpu.reg.b = 41;
    cpu.reg.c = 109;
    cpu.reg.d = 231;
    cpu.reg.e = 71;
    cpu.reg.f = 192;
    cpu.reg.h = 239;
    cpu.reg.l = 139;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[58088] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 191);
    CHECK(cpu.reg.b == 42);
    CHECK(cpu.reg.c == 109);
    CHECK(cpu.reg.d == 231);
    CHECK(cpu.reg.e == 71);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 239);
    CHECK(cpu.reg.l == 139);
    CHECK(cpu.pc == 58089);
    CHECK(cpu.sp == 24134);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58088] == 4);
}

TEST_CASE( "04 0230", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54727;
    cpu.sp = 14580;
    cpu.reg.a = 3;
    cpu.reg.b = 127;
    cpu.reg.c = 7;
    cpu.reg.d = 182;
    cpu.reg.e = 143;
    cpu.reg.f = 32;
    cpu.reg.h = 69;
    cpu.reg.l = 167;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[54727] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 3);
    CHECK(cpu.reg.b == 128);
    CHECK(cpu.reg.c == 7);
    CHECK(cpu.reg.d == 182);
    CHECK(cpu.reg.e == 143);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 69);
    CHECK(cpu.reg.l == 167);
    CHECK(cpu.pc == 54728);
    CHECK(cpu.sp == 14580);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54727] == 4);
}

TEST_CASE( "04 0231", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53574;
    cpu.sp = 41546;
    cpu.reg.a = 56;
    cpu.reg.b = 97;
    cpu.reg.c = 26;
    cpu.reg.d = 74;
    cpu.reg.e = 8;
    cpu.reg.f = 128;
    cpu.reg.h = 242;
    cpu.reg.l = 18;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[53574] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 56);
    CHECK(cpu.reg.b == 98);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 74);
    CHECK(cpu.reg.e == 8);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 18);
    CHECK(cpu.pc == 53575);
    CHECK(cpu.sp == 41546);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[53574] == 4);
}

TEST_CASE( "04 0232", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48394;
    cpu.sp = 33214;
    cpu.reg.a = 117;
    cpu.reg.b = 208;
    cpu.reg.c = 239;
    cpu.reg.d = 86;
    cpu.reg.e = 183;
    cpu.reg.f = 128;
    cpu.reg.h = 121;
    cpu.reg.l = 219;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[48394] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 117);
    CHECK(cpu.reg.b == 209);
    CHECK(cpu.reg.c == 239);
    CHECK(cpu.reg.d == 86);
    CHECK(cpu.reg.e == 183);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 121);
    CHECK(cpu.reg.l == 219);
    CHECK(cpu.pc == 48395);
    CHECK(cpu.sp == 33214);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[48394] == 4);
}

TEST_CASE( "04 0233", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41876;
    cpu.sp = 41200;
    cpu.reg.a = 194;
    cpu.reg.b = 220;
    cpu.reg.c = 239;
    cpu.reg.d = 213;
    cpu.reg.e = 176;
    cpu.reg.f = 224;
    cpu.reg.h = 248;
    cpu.reg.l = 193;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[41876] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 194);
    CHECK(cpu.reg.b == 221);
    CHECK(cpu.reg.c == 239);
    CHECK(cpu.reg.d == 213);
    CHECK(cpu.reg.e == 176);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 248);
    CHECK(cpu.reg.l == 193);
    CHECK(cpu.pc == 41877);
    CHECK(cpu.sp == 41200);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41876] == 4);
}

TEST_CASE( "04 0234", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37;
    cpu.sp = 54232;
    cpu.reg.a = 195;
    cpu.reg.b = 70;
    cpu.reg.c = 143;
    cpu.reg.d = 12;
    cpu.reg.e = 218;
    cpu.reg.f = 0;
    cpu.reg.h = 247;
    cpu.reg.l = 240;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[37] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 195);
    CHECK(cpu.reg.b == 71);
    CHECK(cpu.reg.c == 143);
    CHECK(cpu.reg.d == 12);
    CHECK(cpu.reg.e == 218);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 247);
    CHECK(cpu.reg.l == 240);
    CHECK(cpu.pc == 38);
    CHECK(cpu.sp == 54232);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[37] == 4);
}

TEST_CASE( "04 0235", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25629;
    cpu.sp = 15909;
    cpu.reg.a = 10;
    cpu.reg.b = 18;
    cpu.reg.c = 190;
    cpu.reg.d = 13;
    cpu.reg.e = 253;
    cpu.reg.f = 192;
    cpu.reg.h = 36;
    cpu.reg.l = 242;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[25629] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 10);
    CHECK(cpu.reg.b == 19);
    CHECK(cpu.reg.c == 190);
    CHECK(cpu.reg.d == 13);
    CHECK(cpu.reg.e == 253);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 36);
    CHECK(cpu.reg.l == 242);
    CHECK(cpu.pc == 25630);
    CHECK(cpu.sp == 15909);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25629] == 4);
}

TEST_CASE( "04 0236", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62169;
    cpu.sp = 53344;
    cpu.reg.a = 210;
    cpu.reg.b = 116;
    cpu.reg.c = 51;
    cpu.reg.d = 195;
    cpu.reg.e = 249;
    cpu.reg.f = 96;
    cpu.reg.h = 3;
    cpu.reg.l = 28;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[62169] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 210);
    CHECK(cpu.reg.b == 117);
    CHECK(cpu.reg.c == 51);
    CHECK(cpu.reg.d == 195);
    CHECK(cpu.reg.e == 249);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 3);
    CHECK(cpu.reg.l == 28);
    CHECK(cpu.pc == 62170);
    CHECK(cpu.sp == 53344);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[62169] == 4);
}

TEST_CASE( "04 0237", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47972;
    cpu.sp = 63242;
    cpu.reg.a = 182;
    cpu.reg.b = 140;
    cpu.reg.c = 103;
    cpu.reg.d = 82;
    cpu.reg.e = 215;
    cpu.reg.f = 176;
    cpu.reg.h = 222;
    cpu.reg.l = 90;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[47972] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 182);
    CHECK(cpu.reg.b == 141);
    CHECK(cpu.reg.c == 103);
    CHECK(cpu.reg.d == 82);
    CHECK(cpu.reg.e == 215);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 222);
    CHECK(cpu.reg.l == 90);
    CHECK(cpu.pc == 47973);
    CHECK(cpu.sp == 63242);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[47972] == 4);
}

TEST_CASE( "04 0238", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50606;
    cpu.sp = 48110;
    cpu.reg.a = 239;
    cpu.reg.b = 68;
    cpu.reg.c = 13;
    cpu.reg.d = 220;
    cpu.reg.e = 116;
    cpu.reg.f = 240;
    cpu.reg.h = 23;
    cpu.reg.l = 180;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[50606] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 239);
    CHECK(cpu.reg.b == 69);
    CHECK(cpu.reg.c == 13);
    CHECK(cpu.reg.d == 220);
    CHECK(cpu.reg.e == 116);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 23);
    CHECK(cpu.reg.l == 180);
    CHECK(cpu.pc == 50607);
    CHECK(cpu.sp == 48110);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50606] == 4);
}

TEST_CASE( "04 0239", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24918;
    cpu.sp = 9112;
    cpu.reg.a = 220;
    cpu.reg.b = 100;
    cpu.reg.c = 88;
    cpu.reg.d = 120;
    cpu.reg.e = 144;
    cpu.reg.f = 208;
    cpu.reg.h = 12;
    cpu.reg.l = 181;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[24918] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 220);
    CHECK(cpu.reg.b == 101);
    CHECK(cpu.reg.c == 88);
    CHECK(cpu.reg.d == 120);
    CHECK(cpu.reg.e == 144);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 12);
    CHECK(cpu.reg.l == 181);
    CHECK(cpu.pc == 24919);
    CHECK(cpu.sp == 9112);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24918] == 4);
}

TEST_CASE( "04 023A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26854;
    cpu.sp = 41724;
    cpu.reg.a = 194;
    cpu.reg.b = 163;
    cpu.reg.c = 175;
    cpu.reg.d = 170;
    cpu.reg.e = 201;
    cpu.reg.f = 208;
    cpu.reg.h = 244;
    cpu.reg.l = 100;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[26854] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 194);
    CHECK(cpu.reg.b == 164);
    CHECK(cpu.reg.c == 175);
    CHECK(cpu.reg.d == 170);
    CHECK(cpu.reg.e == 201);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 244);
    CHECK(cpu.reg.l == 100);
    CHECK(cpu.pc == 26855);
    CHECK(cpu.sp == 41724);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26854] == 4);
}

TEST_CASE( "04 023B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27553;
    cpu.sp = 62217;
    cpu.reg.a = 246;
    cpu.reg.b = 120;
    cpu.reg.c = 129;
    cpu.reg.d = 25;
    cpu.reg.e = 175;
    cpu.reg.f = 176;
    cpu.reg.h = 131;
    cpu.reg.l = 152;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[27553] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 246);
    CHECK(cpu.reg.b == 121);
    CHECK(cpu.reg.c == 129);
    CHECK(cpu.reg.d == 25);
    CHECK(cpu.reg.e == 175);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 131);
    CHECK(cpu.reg.l == 152);
    CHECK(cpu.pc == 27554);
    CHECK(cpu.sp == 62217);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27553] == 4);
}

TEST_CASE( "04 023C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42732;
    cpu.sp = 31231;
    cpu.reg.a = 41;
    cpu.reg.b = 56;
    cpu.reg.c = 162;
    cpu.reg.d = 171;
    cpu.reg.e = 162;
    cpu.reg.f = 96;
    cpu.reg.h = 165;
    cpu.reg.l = 140;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[42732] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 41);
    CHECK(cpu.reg.b == 57);
    CHECK(cpu.reg.c == 162);
    CHECK(cpu.reg.d == 171);
    CHECK(cpu.reg.e == 162);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 165);
    CHECK(cpu.reg.l == 140);
    CHECK(cpu.pc == 42733);
    CHECK(cpu.sp == 31231);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[42732] == 4);
}

TEST_CASE( "04 023D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38417;
    cpu.sp = 47407;
    cpu.reg.a = 155;
    cpu.reg.b = 40;
    cpu.reg.c = 170;
    cpu.reg.d = 147;
    cpu.reg.e = 231;
    cpu.reg.f = 80;
    cpu.reg.h = 92;
    cpu.reg.l = 183;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[38417] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 155);
    CHECK(cpu.reg.b == 41);
    CHECK(cpu.reg.c == 170);
    CHECK(cpu.reg.d == 147);
    CHECK(cpu.reg.e == 231);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 92);
    CHECK(cpu.reg.l == 183);
    CHECK(cpu.pc == 38418);
    CHECK(cpu.sp == 47407);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38417] == 4);
}

TEST_CASE( "04 023E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48203;
    cpu.sp = 50414;
    cpu.reg.a = 61;
    cpu.reg.b = 185;
    cpu.reg.c = 169;
    cpu.reg.d = 211;
    cpu.reg.e = 44;
    cpu.reg.f = 80;
    cpu.reg.h = 169;
    cpu.reg.l = 83;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[48203] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 61);
    CHECK(cpu.reg.b == 186);
    CHECK(cpu.reg.c == 169);
    CHECK(cpu.reg.d == 211);
    CHECK(cpu.reg.e == 44);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 169);
    CHECK(cpu.reg.l == 83);
    CHECK(cpu.pc == 48204);
    CHECK(cpu.sp == 50414);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48203] == 4);
}

TEST_CASE( "04 023F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27089;
    cpu.sp = 10791;
    cpu.reg.a = 54;
    cpu.reg.b = 152;
    cpu.reg.c = 107;
    cpu.reg.d = 229;
    cpu.reg.e = 94;
    cpu.reg.f = 32;
    cpu.reg.h = 145;
    cpu.reg.l = 51;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[27089] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 54);
    CHECK(cpu.reg.b == 153);
    CHECK(cpu.reg.c == 107);
    CHECK(cpu.reg.d == 229);
    CHECK(cpu.reg.e == 94);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 145);
    CHECK(cpu.reg.l == 51);
    CHECK(cpu.pc == 27090);
    CHECK(cpu.sp == 10791);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27089] == 4);
}

TEST_CASE( "04 0240", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37690;
    cpu.sp = 24457;
    cpu.reg.a = 39;
    cpu.reg.b = 25;
    cpu.reg.c = 104;
    cpu.reg.d = 38;
    cpu.reg.e = 233;
    cpu.reg.f = 80;
    cpu.reg.h = 201;
    cpu.reg.l = 190;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[37690] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 39);
    CHECK(cpu.reg.b == 26);
    CHECK(cpu.reg.c == 104);
    CHECK(cpu.reg.d == 38);
    CHECK(cpu.reg.e == 233);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 201);
    CHECK(cpu.reg.l == 190);
    CHECK(cpu.pc == 37691);
    CHECK(cpu.sp == 24457);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[37690] == 4);
}

TEST_CASE( "04 0241", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22931;
    cpu.sp = 2833;
    cpu.reg.a = 161;
    cpu.reg.b = 190;
    cpu.reg.c = 181;
    cpu.reg.d = 4;
    cpu.reg.e = 8;
    cpu.reg.f = 16;
    cpu.reg.h = 252;
    cpu.reg.l = 42;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[22931] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 161);
    CHECK(cpu.reg.b == 191);
    CHECK(cpu.reg.c == 181);
    CHECK(cpu.reg.d == 4);
    CHECK(cpu.reg.e == 8);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 252);
    CHECK(cpu.reg.l == 42);
    CHECK(cpu.pc == 22932);
    CHECK(cpu.sp == 2833);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22931] == 4);
}

TEST_CASE( "04 0242", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10652;
    cpu.sp = 22416;
    cpu.reg.a = 244;
    cpu.reg.b = 154;
    cpu.reg.c = 11;
    cpu.reg.d = 45;
    cpu.reg.e = 63;
    cpu.reg.f = 32;
    cpu.reg.h = 163;
    cpu.reg.l = 168;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[10652] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 244);
    CHECK(cpu.reg.b == 155);
    CHECK(cpu.reg.c == 11);
    CHECK(cpu.reg.d == 45);
    CHECK(cpu.reg.e == 63);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 163);
    CHECK(cpu.reg.l == 168);
    CHECK(cpu.pc == 10653);
    CHECK(cpu.sp == 22416);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10652] == 4);
}

TEST_CASE( "04 0243", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12715;
    cpu.sp = 23371;
    cpu.reg.a = 58;
    cpu.reg.b = 142;
    cpu.reg.c = 145;
    cpu.reg.d = 53;
    cpu.reg.e = 86;
    cpu.reg.f = 224;
    cpu.reg.h = 115;
    cpu.reg.l = 140;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[12715] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 58);
    CHECK(cpu.reg.b == 143);
    CHECK(cpu.reg.c == 145);
    CHECK(cpu.reg.d == 53);
    CHECK(cpu.reg.e == 86);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 115);
    CHECK(cpu.reg.l == 140);
    CHECK(cpu.pc == 12716);
    CHECK(cpu.sp == 23371);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12715] == 4);
}

TEST_CASE( "04 0244", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7953;
    cpu.sp = 22389;
    cpu.reg.a = 66;
    cpu.reg.b = 218;
    cpu.reg.c = 95;
    cpu.reg.d = 93;
    cpu.reg.e = 157;
    cpu.reg.f = 192;
    cpu.reg.h = 226;
    cpu.reg.l = 213;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[7953] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 66);
    CHECK(cpu.reg.b == 219);
    CHECK(cpu.reg.c == 95);
    CHECK(cpu.reg.d == 93);
    CHECK(cpu.reg.e == 157);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 226);
    CHECK(cpu.reg.l == 213);
    CHECK(cpu.pc == 7954);
    CHECK(cpu.sp == 22389);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7953] == 4);
}

TEST_CASE( "04 0245", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27663;
    cpu.sp = 3644;
    cpu.reg.a = 69;
    cpu.reg.b = 191;
    cpu.reg.c = 80;
    cpu.reg.d = 54;
    cpu.reg.e = 176;
    cpu.reg.f = 80;
    cpu.reg.h = 23;
    cpu.reg.l = 251;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[27663] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 69);
    CHECK(cpu.reg.b == 192);
    CHECK(cpu.reg.c == 80);
    CHECK(cpu.reg.d == 54);
    CHECK(cpu.reg.e == 176);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 23);
    CHECK(cpu.reg.l == 251);
    CHECK(cpu.pc == 27664);
    CHECK(cpu.sp == 3644);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27663] == 4);
}

TEST_CASE( "04 0246", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54575;
    cpu.sp = 37279;
    cpu.reg.a = 216;
    cpu.reg.b = 20;
    cpu.reg.c = 205;
    cpu.reg.d = 175;
    cpu.reg.e = 228;
    cpu.reg.f = 80;
    cpu.reg.h = 180;
    cpu.reg.l = 215;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[54575] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 21);
    CHECK(cpu.reg.c == 205);
    CHECK(cpu.reg.d == 175);
    CHECK(cpu.reg.e == 228);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 180);
    CHECK(cpu.reg.l == 215);
    CHECK(cpu.pc == 54576);
    CHECK(cpu.sp == 37279);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[54575] == 4);
}

TEST_CASE( "04 0247", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35650;
    cpu.sp = 26254;
    cpu.reg.a = 80;
    cpu.reg.b = 178;
    cpu.reg.c = 137;
    cpu.reg.d = 125;
    cpu.reg.e = 134;
    cpu.reg.f = 96;
    cpu.reg.h = 236;
    cpu.reg.l = 111;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[35650] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 80);
    CHECK(cpu.reg.b == 179);
    CHECK(cpu.reg.c == 137);
    CHECK(cpu.reg.d == 125);
    CHECK(cpu.reg.e == 134);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 236);
    CHECK(cpu.reg.l == 111);
    CHECK(cpu.pc == 35651);
    CHECK(cpu.sp == 26254);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35650] == 4);
}

TEST_CASE( "04 0248", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58497;
    cpu.sp = 46950;
    cpu.reg.a = 195;
    cpu.reg.b = 85;
    cpu.reg.c = 14;
    cpu.reg.d = 136;
    cpu.reg.e = 251;
    cpu.reg.f = 64;
    cpu.reg.h = 123;
    cpu.reg.l = 116;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[58497] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 195);
    CHECK(cpu.reg.b == 86);
    CHECK(cpu.reg.c == 14);
    CHECK(cpu.reg.d == 136);
    CHECK(cpu.reg.e == 251);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 123);
    CHECK(cpu.reg.l == 116);
    CHECK(cpu.pc == 58498);
    CHECK(cpu.sp == 46950);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[58497] == 4);
}

TEST_CASE( "04 0249", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14012;
    cpu.sp = 55878;
    cpu.reg.a = 190;
    cpu.reg.b = 41;
    cpu.reg.c = 15;
    cpu.reg.d = 42;
    cpu.reg.e = 32;
    cpu.reg.f = 80;
    cpu.reg.h = 144;
    cpu.reg.l = 161;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[14012] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 190);
    CHECK(cpu.reg.b == 42);
    CHECK(cpu.reg.c == 15);
    CHECK(cpu.reg.d == 42);
    CHECK(cpu.reg.e == 32);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 144);
    CHECK(cpu.reg.l == 161);
    CHECK(cpu.pc == 14013);
    CHECK(cpu.sp == 55878);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14012] == 4);
}

TEST_CASE( "04 024A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24172;
    cpu.sp = 43509;
    cpu.reg.a = 123;
    cpu.reg.b = 187;
    cpu.reg.c = 181;
    cpu.reg.d = 209;
    cpu.reg.e = 112;
    cpu.reg.f = 144;
    cpu.reg.h = 239;
    cpu.reg.l = 203;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[24172] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 123);
    CHECK(cpu.reg.b == 188);
    CHECK(cpu.reg.c == 181);
    CHECK(cpu.reg.d == 209);
    CHECK(cpu.reg.e == 112);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 239);
    CHECK(cpu.reg.l == 203);
    CHECK(cpu.pc == 24173);
    CHECK(cpu.sp == 43509);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24172] == 4);
}

TEST_CASE( "04 024B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35000;
    cpu.sp = 15910;
    cpu.reg.a = 252;
    cpu.reg.b = 126;
    cpu.reg.c = 147;
    cpu.reg.d = 169;
    cpu.reg.e = 108;
    cpu.reg.f = 128;
    cpu.reg.h = 5;
    cpu.reg.l = 105;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[35000] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 252);
    CHECK(cpu.reg.b == 127);
    CHECK(cpu.reg.c == 147);
    CHECK(cpu.reg.d == 169);
    CHECK(cpu.reg.e == 108);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 5);
    CHECK(cpu.reg.l == 105);
    CHECK(cpu.pc == 35001);
    CHECK(cpu.sp == 15910);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35000] == 4);
}

TEST_CASE( "04 024C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53416;
    cpu.sp = 62294;
    cpu.reg.a = 67;
    cpu.reg.b = 79;
    cpu.reg.c = 242;
    cpu.reg.d = 140;
    cpu.reg.e = 176;
    cpu.reg.f = 128;
    cpu.reg.h = 41;
    cpu.reg.l = 127;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[53416] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 67);
    CHECK(cpu.reg.b == 80);
    CHECK(cpu.reg.c == 242);
    CHECK(cpu.reg.d == 140);
    CHECK(cpu.reg.e == 176);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 41);
    CHECK(cpu.reg.l == 127);
    CHECK(cpu.pc == 53417);
    CHECK(cpu.sp == 62294);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[53416] == 4);
}

TEST_CASE( "04 024D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55141;
    cpu.sp = 58212;
    cpu.reg.a = 10;
    cpu.reg.b = 194;
    cpu.reg.c = 245;
    cpu.reg.d = 211;
    cpu.reg.e = 253;
    cpu.reg.f = 48;
    cpu.reg.h = 179;
    cpu.reg.l = 153;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[55141] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 10);
    CHECK(cpu.reg.b == 195);
    CHECK(cpu.reg.c == 245);
    CHECK(cpu.reg.d == 211);
    CHECK(cpu.reg.e == 253);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 179);
    CHECK(cpu.reg.l == 153);
    CHECK(cpu.pc == 55142);
    CHECK(cpu.sp == 58212);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55141] == 4);
}

TEST_CASE( "04 024E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10611;
    cpu.sp = 51476;
    cpu.reg.a = 93;
    cpu.reg.b = 33;
    cpu.reg.c = 88;
    cpu.reg.d = 170;
    cpu.reg.e = 19;
    cpu.reg.f = 32;
    cpu.reg.h = 47;
    cpu.reg.l = 138;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[10611] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 93);
    CHECK(cpu.reg.b == 34);
    CHECK(cpu.reg.c == 88);
    CHECK(cpu.reg.d == 170);
    CHECK(cpu.reg.e == 19);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 47);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 10612);
    CHECK(cpu.sp == 51476);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10611] == 4);
}

TEST_CASE( "04 024F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57001;
    cpu.sp = 45403;
    cpu.reg.a = 69;
    cpu.reg.b = 193;
    cpu.reg.c = 166;
    cpu.reg.d = 114;
    cpu.reg.e = 80;
    cpu.reg.f = 144;
    cpu.reg.h = 24;
    cpu.reg.l = 4;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[57001] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 69);
    CHECK(cpu.reg.b == 194);
    CHECK(cpu.reg.c == 166);
    CHECK(cpu.reg.d == 114);
    CHECK(cpu.reg.e == 80);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 24);
    CHECK(cpu.reg.l == 4);
    CHECK(cpu.pc == 57002);
    CHECK(cpu.sp == 45403);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[57001] == 4);
}

TEST_CASE( "04 0250", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33882;
    cpu.sp = 29667;
    cpu.reg.a = 145;
    cpu.reg.b = 149;
    cpu.reg.c = 195;
    cpu.reg.d = 75;
    cpu.reg.e = 104;
    cpu.reg.f = 48;
    cpu.reg.h = 164;
    cpu.reg.l = 107;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[33882] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 145);
    CHECK(cpu.reg.b == 150);
    CHECK(cpu.reg.c == 195);
    CHECK(cpu.reg.d == 75);
    CHECK(cpu.reg.e == 104);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 164);
    CHECK(cpu.reg.l == 107);
    CHECK(cpu.pc == 33883);
    CHECK(cpu.sp == 29667);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33882] == 4);
}

TEST_CASE( "04 0251", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3678;
    cpu.sp = 52837;
    cpu.reg.a = 174;
    cpu.reg.b = 206;
    cpu.reg.c = 121;
    cpu.reg.d = 89;
    cpu.reg.e = 115;
    cpu.reg.f = 96;
    cpu.reg.h = 233;
    cpu.reg.l = 222;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[3678] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 174);
    CHECK(cpu.reg.b == 207);
    CHECK(cpu.reg.c == 121);
    CHECK(cpu.reg.d == 89);
    CHECK(cpu.reg.e == 115);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 233);
    CHECK(cpu.reg.l == 222);
    CHECK(cpu.pc == 3679);
    CHECK(cpu.sp == 52837);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3678] == 4);
}

TEST_CASE( "04 0252", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11237;
    cpu.sp = 21217;
    cpu.reg.a = 151;
    cpu.reg.b = 142;
    cpu.reg.c = 87;
    cpu.reg.d = 81;
    cpu.reg.e = 126;
    cpu.reg.f = 48;
    cpu.reg.h = 10;
    cpu.reg.l = 228;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[11237] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 151);
    CHECK(cpu.reg.b == 143);
    CHECK(cpu.reg.c == 87);
    CHECK(cpu.reg.d == 81);
    CHECK(cpu.reg.e == 126);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 10);
    CHECK(cpu.reg.l == 228);
    CHECK(cpu.pc == 11238);
    CHECK(cpu.sp == 21217);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11237] == 4);
}

TEST_CASE( "04 0253", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25805;
    cpu.sp = 25696;
    cpu.reg.a = 54;
    cpu.reg.b = 161;
    cpu.reg.c = 160;
    cpu.reg.d = 182;
    cpu.reg.e = 78;
    cpu.reg.f = 112;
    cpu.reg.h = 111;
    cpu.reg.l = 121;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[25805] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 54);
    CHECK(cpu.reg.b == 162);
    CHECK(cpu.reg.c == 160);
    CHECK(cpu.reg.d == 182);
    CHECK(cpu.reg.e == 78);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 111);
    CHECK(cpu.reg.l == 121);
    CHECK(cpu.pc == 25806);
    CHECK(cpu.sp == 25696);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25805] == 4);
}

TEST_CASE( "04 0254", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29939;
    cpu.sp = 11258;
    cpu.reg.a = 22;
    cpu.reg.b = 97;
    cpu.reg.c = 144;
    cpu.reg.d = 243;
    cpu.reg.e = 202;
    cpu.reg.f = 240;
    cpu.reg.h = 10;
    cpu.reg.l = 186;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[29939] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 22);
    CHECK(cpu.reg.b == 98);
    CHECK(cpu.reg.c == 144);
    CHECK(cpu.reg.d == 243);
    CHECK(cpu.reg.e == 202);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 10);
    CHECK(cpu.reg.l == 186);
    CHECK(cpu.pc == 29940);
    CHECK(cpu.sp == 11258);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29939] == 4);
}

TEST_CASE( "04 0255", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51589;
    cpu.sp = 52688;
    cpu.reg.a = 63;
    cpu.reg.b = 165;
    cpu.reg.c = 247;
    cpu.reg.d = 147;
    cpu.reg.e = 165;
    cpu.reg.f = 0;
    cpu.reg.h = 50;
    cpu.reg.l = 237;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[51589] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 63);
    CHECK(cpu.reg.b == 166);
    CHECK(cpu.reg.c == 247);
    CHECK(cpu.reg.d == 147);
    CHECK(cpu.reg.e == 165);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 50);
    CHECK(cpu.reg.l == 237);
    CHECK(cpu.pc == 51590);
    CHECK(cpu.sp == 52688);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[51589] == 4);
}

TEST_CASE( "04 0256", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18064;
    cpu.sp = 14568;
    cpu.reg.a = 246;
    cpu.reg.b = 157;
    cpu.reg.c = 63;
    cpu.reg.d = 219;
    cpu.reg.e = 175;
    cpu.reg.f = 32;
    cpu.reg.h = 179;
    cpu.reg.l = 216;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[18064] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 246);
    CHECK(cpu.reg.b == 158);
    CHECK(cpu.reg.c == 63);
    CHECK(cpu.reg.d == 219);
    CHECK(cpu.reg.e == 175);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 179);
    CHECK(cpu.reg.l == 216);
    CHECK(cpu.pc == 18065);
    CHECK(cpu.sp == 14568);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18064] == 4);
}

TEST_CASE( "04 0257", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11947;
    cpu.sp = 20206;
    cpu.reg.a = 235;
    cpu.reg.b = 190;
    cpu.reg.c = 231;
    cpu.reg.d = 232;
    cpu.reg.e = 125;
    cpu.reg.f = 224;
    cpu.reg.h = 45;
    cpu.reg.l = 112;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[11947] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 235);
    CHECK(cpu.reg.b == 191);
    CHECK(cpu.reg.c == 231);
    CHECK(cpu.reg.d == 232);
    CHECK(cpu.reg.e == 125);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 45);
    CHECK(cpu.reg.l == 112);
    CHECK(cpu.pc == 11948);
    CHECK(cpu.sp == 20206);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11947] == 4);
}

TEST_CASE( "04 0258", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13725;
    cpu.sp = 45189;
    cpu.reg.a = 81;
    cpu.reg.b = 227;
    cpu.reg.c = 190;
    cpu.reg.d = 89;
    cpu.reg.e = 246;
    cpu.reg.f = 192;
    cpu.reg.h = 88;
    cpu.reg.l = 181;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[13725] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 81);
    CHECK(cpu.reg.b == 228);
    CHECK(cpu.reg.c == 190);
    CHECK(cpu.reg.d == 89);
    CHECK(cpu.reg.e == 246);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 88);
    CHECK(cpu.reg.l == 181);
    CHECK(cpu.pc == 13726);
    CHECK(cpu.sp == 45189);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13725] == 4);
}

TEST_CASE( "04 0259", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24654;
    cpu.sp = 54534;
    cpu.reg.a = 9;
    cpu.reg.b = 27;
    cpu.reg.c = 144;
    cpu.reg.d = 239;
    cpu.reg.e = 216;
    cpu.reg.f = 160;
    cpu.reg.h = 1;
    cpu.reg.l = 249;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[24654] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 9);
    CHECK(cpu.reg.b == 28);
    CHECK(cpu.reg.c == 144);
    CHECK(cpu.reg.d == 239);
    CHECK(cpu.reg.e == 216);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 1);
    CHECK(cpu.reg.l == 249);
    CHECK(cpu.pc == 24655);
    CHECK(cpu.sp == 54534);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24654] == 4);
}

TEST_CASE( "04 025A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57360;
    cpu.sp = 24000;
    cpu.reg.a = 70;
    cpu.reg.b = 90;
    cpu.reg.c = 141;
    cpu.reg.d = 82;
    cpu.reg.e = 113;
    cpu.reg.f = 192;
    cpu.reg.h = 133;
    cpu.reg.l = 177;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[57360] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 70);
    CHECK(cpu.reg.b == 91);
    CHECK(cpu.reg.c == 141);
    CHECK(cpu.reg.d == 82);
    CHECK(cpu.reg.e == 113);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 133);
    CHECK(cpu.reg.l == 177);
    CHECK(cpu.pc == 57361);
    CHECK(cpu.sp == 24000);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[57360] == 4);
}

TEST_CASE( "04 025B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64268;
    cpu.sp = 63991;
    cpu.reg.a = 201;
    cpu.reg.b = 153;
    cpu.reg.c = 77;
    cpu.reg.d = 111;
    cpu.reg.e = 80;
    cpu.reg.f = 160;
    cpu.reg.h = 170;
    cpu.reg.l = 147;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[64268] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 201);
    CHECK(cpu.reg.b == 154);
    CHECK(cpu.reg.c == 77);
    CHECK(cpu.reg.d == 111);
    CHECK(cpu.reg.e == 80);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 170);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 64269);
    CHECK(cpu.sp == 63991);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[64268] == 4);
}

TEST_CASE( "04 025C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19916;
    cpu.sp = 1556;
    cpu.reg.a = 86;
    cpu.reg.b = 28;
    cpu.reg.c = 213;
    cpu.reg.d = 56;
    cpu.reg.e = 108;
    cpu.reg.f = 160;
    cpu.reg.h = 129;
    cpu.reg.l = 59;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[19916] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 86);
    CHECK(cpu.reg.b == 29);
    CHECK(cpu.reg.c == 213);
    CHECK(cpu.reg.d == 56);
    CHECK(cpu.reg.e == 108);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 129);
    CHECK(cpu.reg.l == 59);
    CHECK(cpu.pc == 19917);
    CHECK(cpu.sp == 1556);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19916] == 4);
}

TEST_CASE( "04 025D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44622;
    cpu.sp = 48981;
    cpu.reg.a = 81;
    cpu.reg.b = 57;
    cpu.reg.c = 24;
    cpu.reg.d = 112;
    cpu.reg.e = 31;
    cpu.reg.f = 32;
    cpu.reg.h = 194;
    cpu.reg.l = 24;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[44622] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 81);
    CHECK(cpu.reg.b == 58);
    CHECK(cpu.reg.c == 24);
    CHECK(cpu.reg.d == 112);
    CHECK(cpu.reg.e == 31);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 194);
    CHECK(cpu.reg.l == 24);
    CHECK(cpu.pc == 44623);
    CHECK(cpu.sp == 48981);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44622] == 4);
}

TEST_CASE( "04 025E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3435;
    cpu.sp = 54660;
    cpu.reg.a = 214;
    cpu.reg.b = 155;
    cpu.reg.c = 47;
    cpu.reg.d = 37;
    cpu.reg.e = 3;
    cpu.reg.f = 240;
    cpu.reg.h = 30;
    cpu.reg.l = 71;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[3435] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 214);
    CHECK(cpu.reg.b == 156);
    CHECK(cpu.reg.c == 47);
    CHECK(cpu.reg.d == 37);
    CHECK(cpu.reg.e == 3);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 30);
    CHECK(cpu.reg.l == 71);
    CHECK(cpu.pc == 3436);
    CHECK(cpu.sp == 54660);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3435] == 4);
}

TEST_CASE( "04 025F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32974;
    cpu.sp = 57695;
    cpu.reg.a = 179;
    cpu.reg.b = 160;
    cpu.reg.c = 252;
    cpu.reg.d = 12;
    cpu.reg.e = 179;
    cpu.reg.f = 224;
    cpu.reg.h = 31;
    cpu.reg.l = 138;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[32974] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 179);
    CHECK(cpu.reg.b == 161);
    CHECK(cpu.reg.c == 252);
    CHECK(cpu.reg.d == 12);
    CHECK(cpu.reg.e == 179);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 31);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 32975);
    CHECK(cpu.sp == 57695);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32974] == 4);
}

TEST_CASE( "04 0260", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34635;
    cpu.sp = 50389;
    cpu.reg.a = 17;
    cpu.reg.b = 252;
    cpu.reg.c = 190;
    cpu.reg.d = 194;
    cpu.reg.e = 128;
    cpu.reg.f = 112;
    cpu.reg.h = 231;
    cpu.reg.l = 11;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[34635] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 17);
    CHECK(cpu.reg.b == 253);
    CHECK(cpu.reg.c == 190);
    CHECK(cpu.reg.d == 194);
    CHECK(cpu.reg.e == 128);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 231);
    CHECK(cpu.reg.l == 11);
    CHECK(cpu.pc == 34636);
    CHECK(cpu.sp == 50389);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34635] == 4);
}

TEST_CASE( "04 0261", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40928;
    cpu.sp = 46044;
    cpu.reg.a = 136;
    cpu.reg.b = 240;
    cpu.reg.c = 196;
    cpu.reg.d = 240;
    cpu.reg.e = 205;
    cpu.reg.f = 112;
    cpu.reg.h = 172;
    cpu.reg.l = 132;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[40928] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 136);
    CHECK(cpu.reg.b == 241);
    CHECK(cpu.reg.c == 196);
    CHECK(cpu.reg.d == 240);
    CHECK(cpu.reg.e == 205);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 172);
    CHECK(cpu.reg.l == 132);
    CHECK(cpu.pc == 40929);
    CHECK(cpu.sp == 46044);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40928] == 4);
}

TEST_CASE( "04 0262", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40165;
    cpu.sp = 395;
    cpu.reg.a = 65;
    cpu.reg.b = 229;
    cpu.reg.c = 254;
    cpu.reg.d = 107;
    cpu.reg.e = 223;
    cpu.reg.f = 80;
    cpu.reg.h = 237;
    cpu.reg.l = 56;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[40165] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 65);
    CHECK(cpu.reg.b == 230);
    CHECK(cpu.reg.c == 254);
    CHECK(cpu.reg.d == 107);
    CHECK(cpu.reg.e == 223);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 237);
    CHECK(cpu.reg.l == 56);
    CHECK(cpu.pc == 40166);
    CHECK(cpu.sp == 395);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40165] == 4);
}

TEST_CASE( "04 0263", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54389;
    cpu.sp = 29594;
    cpu.reg.a = 1;
    cpu.reg.b = 58;
    cpu.reg.c = 113;
    cpu.reg.d = 97;
    cpu.reg.e = 249;
    cpu.reg.f = 96;
    cpu.reg.h = 9;
    cpu.reg.l = 32;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[54389] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 1);
    CHECK(cpu.reg.b == 59);
    CHECK(cpu.reg.c == 113);
    CHECK(cpu.reg.d == 97);
    CHECK(cpu.reg.e == 249);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 9);
    CHECK(cpu.reg.l == 32);
    CHECK(cpu.pc == 54390);
    CHECK(cpu.sp == 29594);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[54389] == 4);
}

TEST_CASE( "04 0264", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24308;
    cpu.sp = 10193;
    cpu.reg.a = 213;
    cpu.reg.b = 184;
    cpu.reg.c = 41;
    cpu.reg.d = 167;
    cpu.reg.e = 27;
    cpu.reg.f = 112;
    cpu.reg.h = 196;
    cpu.reg.l = 248;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[24308] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 213);
    CHECK(cpu.reg.b == 185);
    CHECK(cpu.reg.c == 41);
    CHECK(cpu.reg.d == 167);
    CHECK(cpu.reg.e == 27);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 196);
    CHECK(cpu.reg.l == 248);
    CHECK(cpu.pc == 24309);
    CHECK(cpu.sp == 10193);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24308] == 4);
}

TEST_CASE( "04 0265", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56323;
    cpu.sp = 52828;
    cpu.reg.a = 70;
    cpu.reg.b = 27;
    cpu.reg.c = 7;
    cpu.reg.d = 86;
    cpu.reg.e = 124;
    cpu.reg.f = 240;
    cpu.reg.h = 227;
    cpu.reg.l = 136;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[56323] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 70);
    CHECK(cpu.reg.b == 28);
    CHECK(cpu.reg.c == 7);
    CHECK(cpu.reg.d == 86);
    CHECK(cpu.reg.e == 124);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 136);
    CHECK(cpu.pc == 56324);
    CHECK(cpu.sp == 52828);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56323] == 4);
}

TEST_CASE( "04 0266", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26705;
    cpu.sp = 41675;
    cpu.reg.a = 55;
    cpu.reg.b = 255;
    cpu.reg.c = 61;
    cpu.reg.d = 161;
    cpu.reg.e = 11;
    cpu.reg.f = 208;
    cpu.reg.h = 139;
    cpu.reg.l = 228;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[26705] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 55);
    CHECK(cpu.reg.b == 0);
    CHECK(cpu.reg.c == 61);
    CHECK(cpu.reg.d == 161);
    CHECK(cpu.reg.e == 11);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 139);
    CHECK(cpu.reg.l == 228);
    CHECK(cpu.pc == 26706);
    CHECK(cpu.sp == 41675);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26705] == 4);
}

TEST_CASE( "04 0267", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62594;
    cpu.sp = 7233;
    cpu.reg.a = 10;
    cpu.reg.b = 235;
    cpu.reg.c = 90;
    cpu.reg.d = 194;
    cpu.reg.e = 76;
    cpu.reg.f = 0;
    cpu.reg.h = 37;
    cpu.reg.l = 78;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[62594] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 10);
    CHECK(cpu.reg.b == 236);
    CHECK(cpu.reg.c == 90);
    CHECK(cpu.reg.d == 194);
    CHECK(cpu.reg.e == 76);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 37);
    CHECK(cpu.reg.l == 78);
    CHECK(cpu.pc == 62595);
    CHECK(cpu.sp == 7233);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62594] == 4);
}

TEST_CASE( "04 0268", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13329;
    cpu.sp = 35517;
    cpu.reg.a = 90;
    cpu.reg.b = 192;
    cpu.reg.c = 1;
    cpu.reg.d = 4;
    cpu.reg.e = 84;
    cpu.reg.f = 192;
    cpu.reg.h = 194;
    cpu.reg.l = 183;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[13329] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 90);
    CHECK(cpu.reg.b == 193);
    CHECK(cpu.reg.c == 1);
    CHECK(cpu.reg.d == 4);
    CHECK(cpu.reg.e == 84);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 194);
    CHECK(cpu.reg.l == 183);
    CHECK(cpu.pc == 13330);
    CHECK(cpu.sp == 35517);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13329] == 4);
}

TEST_CASE( "04 0269", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37110;
    cpu.sp = 18955;
    cpu.reg.a = 33;
    cpu.reg.b = 229;
    cpu.reg.c = 234;
    cpu.reg.d = 195;
    cpu.reg.e = 43;
    cpu.reg.f = 176;
    cpu.reg.h = 178;
    cpu.reg.l = 42;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[37110] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 33);
    CHECK(cpu.reg.b == 230);
    CHECK(cpu.reg.c == 234);
    CHECK(cpu.reg.d == 195);
    CHECK(cpu.reg.e == 43);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 178);
    CHECK(cpu.reg.l == 42);
    CHECK(cpu.pc == 37111);
    CHECK(cpu.sp == 18955);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[37110] == 4);
}

TEST_CASE( "04 026A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26548;
    cpu.sp = 42230;
    cpu.reg.a = 15;
    cpu.reg.b = 14;
    cpu.reg.c = 158;
    cpu.reg.d = 154;
    cpu.reg.e = 236;
    cpu.reg.f = 48;
    cpu.reg.h = 23;
    cpu.reg.l = 171;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[26548] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 15);
    CHECK(cpu.reg.b == 15);
    CHECK(cpu.reg.c == 158);
    CHECK(cpu.reg.d == 154);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 23);
    CHECK(cpu.reg.l == 171);
    CHECK(cpu.pc == 26549);
    CHECK(cpu.sp == 42230);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26548] == 4);
}

TEST_CASE( "04 026B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17331;
    cpu.sp = 59429;
    cpu.reg.a = 239;
    cpu.reg.b = 104;
    cpu.reg.c = 99;
    cpu.reg.d = 93;
    cpu.reg.e = 8;
    cpu.reg.f = 208;
    cpu.reg.h = 145;
    cpu.reg.l = 135;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[17331] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 239);
    CHECK(cpu.reg.b == 105);
    CHECK(cpu.reg.c == 99);
    CHECK(cpu.reg.d == 93);
    CHECK(cpu.reg.e == 8);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 145);
    CHECK(cpu.reg.l == 135);
    CHECK(cpu.pc == 17332);
    CHECK(cpu.sp == 59429);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17331] == 4);
}

TEST_CASE( "04 026C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50584;
    cpu.sp = 21784;
    cpu.reg.a = 71;
    cpu.reg.b = 85;
    cpu.reg.c = 111;
    cpu.reg.d = 94;
    cpu.reg.e = 105;
    cpu.reg.f = 160;
    cpu.reg.h = 24;
    cpu.reg.l = 65;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[50584] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 71);
    CHECK(cpu.reg.b == 86);
    CHECK(cpu.reg.c == 111);
    CHECK(cpu.reg.d == 94);
    CHECK(cpu.reg.e == 105);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 24);
    CHECK(cpu.reg.l == 65);
    CHECK(cpu.pc == 50585);
    CHECK(cpu.sp == 21784);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[50584] == 4);
}

TEST_CASE( "04 026D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9282;
    cpu.sp = 49713;
    cpu.reg.a = 83;
    cpu.reg.b = 184;
    cpu.reg.c = 135;
    cpu.reg.d = 221;
    cpu.reg.e = 239;
    cpu.reg.f = 128;
    cpu.reg.h = 238;
    cpu.reg.l = 64;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[9282] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 83);
    CHECK(cpu.reg.b == 185);
    CHECK(cpu.reg.c == 135);
    CHECK(cpu.reg.d == 221);
    CHECK(cpu.reg.e == 239);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 238);
    CHECK(cpu.reg.l == 64);
    CHECK(cpu.pc == 9283);
    CHECK(cpu.sp == 49713);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9282] == 4);
}

TEST_CASE( "04 026E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43658;
    cpu.sp = 50665;
    cpu.reg.a = 124;
    cpu.reg.b = 91;
    cpu.reg.c = 14;
    cpu.reg.d = 214;
    cpu.reg.e = 118;
    cpu.reg.f = 128;
    cpu.reg.h = 86;
    cpu.reg.l = 164;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[43658] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 124);
    CHECK(cpu.reg.b == 92);
    CHECK(cpu.reg.c == 14);
    CHECK(cpu.reg.d == 214);
    CHECK(cpu.reg.e == 118);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 86);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 43659);
    CHECK(cpu.sp == 50665);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[43658] == 4);
}

TEST_CASE( "04 026F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 992;
    cpu.sp = 44223;
    cpu.reg.a = 191;
    cpu.reg.b = 77;
    cpu.reg.c = 73;
    cpu.reg.d = 75;
    cpu.reg.e = 242;
    cpu.reg.f = 0;
    cpu.reg.h = 145;
    cpu.reg.l = 168;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[992] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 191);
    CHECK(cpu.reg.b == 78);
    CHECK(cpu.reg.c == 73);
    CHECK(cpu.reg.d == 75);
    CHECK(cpu.reg.e == 242);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 145);
    CHECK(cpu.reg.l == 168);
    CHECK(cpu.pc == 993);
    CHECK(cpu.sp == 44223);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[992] == 4);
}

TEST_CASE( "04 0270", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17660;
    cpu.sp = 48145;
    cpu.reg.a = 191;
    cpu.reg.b = 136;
    cpu.reg.c = 249;
    cpu.reg.d = 226;
    cpu.reg.e = 0;
    cpu.reg.f = 128;
    cpu.reg.h = 140;
    cpu.reg.l = 188;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[17660] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 191);
    CHECK(cpu.reg.b == 137);
    CHECK(cpu.reg.c == 249);
    CHECK(cpu.reg.d == 226);
    CHECK(cpu.reg.e == 0);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 140);
    CHECK(cpu.reg.l == 188);
    CHECK(cpu.pc == 17661);
    CHECK(cpu.sp == 48145);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17660] == 4);
}

TEST_CASE( "04 0271", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29323;
    cpu.sp = 3000;
    cpu.reg.a = 198;
    cpu.reg.b = 64;
    cpu.reg.c = 122;
    cpu.reg.d = 160;
    cpu.reg.e = 206;
    cpu.reg.f = 128;
    cpu.reg.h = 19;
    cpu.reg.l = 62;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[29323] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 198);
    CHECK(cpu.reg.b == 65);
    CHECK(cpu.reg.c == 122);
    CHECK(cpu.reg.d == 160);
    CHECK(cpu.reg.e == 206);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 19);
    CHECK(cpu.reg.l == 62);
    CHECK(cpu.pc == 29324);
    CHECK(cpu.sp == 3000);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29323] == 4);
}

TEST_CASE( "04 0272", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61400;
    cpu.sp = 17970;
    cpu.reg.a = 39;
    cpu.reg.b = 141;
    cpu.reg.c = 88;
    cpu.reg.d = 144;
    cpu.reg.e = 171;
    cpu.reg.f = 64;
    cpu.reg.h = 116;
    cpu.reg.l = 34;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[61400] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 39);
    CHECK(cpu.reg.b == 142);
    CHECK(cpu.reg.c == 88);
    CHECK(cpu.reg.d == 144);
    CHECK(cpu.reg.e == 171);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 116);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 61401);
    CHECK(cpu.sp == 17970);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61400] == 4);
}

TEST_CASE( "04 0273", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29180;
    cpu.sp = 23048;
    cpu.reg.a = 103;
    cpu.reg.b = 17;
    cpu.reg.c = 238;
    cpu.reg.d = 151;
    cpu.reg.e = 4;
    cpu.reg.f = 80;
    cpu.reg.h = 50;
    cpu.reg.l = 249;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[29180] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 103);
    CHECK(cpu.reg.b == 18);
    CHECK(cpu.reg.c == 238);
    CHECK(cpu.reg.d == 151);
    CHECK(cpu.reg.e == 4);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 50);
    CHECK(cpu.reg.l == 249);
    CHECK(cpu.pc == 29181);
    CHECK(cpu.sp == 23048);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29180] == 4);
}

TEST_CASE( "04 0274", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58142;
    cpu.sp = 16896;
    cpu.reg.a = 144;
    cpu.reg.b = 217;
    cpu.reg.c = 159;
    cpu.reg.d = 98;
    cpu.reg.e = 200;
    cpu.reg.f = 224;
    cpu.reg.h = 106;
    cpu.reg.l = 252;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[58142] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 144);
    CHECK(cpu.reg.b == 218);
    CHECK(cpu.reg.c == 159);
    CHECK(cpu.reg.d == 98);
    CHECK(cpu.reg.e == 200);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 106);
    CHECK(cpu.reg.l == 252);
    CHECK(cpu.pc == 58143);
    CHECK(cpu.sp == 16896);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[58142] == 4);
}

TEST_CASE( "04 0275", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60530;
    cpu.sp = 44048;
    cpu.reg.a = 160;
    cpu.reg.b = 6;
    cpu.reg.c = 44;
    cpu.reg.d = 92;
    cpu.reg.e = 98;
    cpu.reg.f = 192;
    cpu.reg.h = 39;
    cpu.reg.l = 25;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[60530] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 160);
    CHECK(cpu.reg.b == 7);
    CHECK(cpu.reg.c == 44);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 98);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 39);
    CHECK(cpu.reg.l == 25);
    CHECK(cpu.pc == 60531);
    CHECK(cpu.sp == 44048);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[60530] == 4);
}

TEST_CASE( "04 0276", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44689;
    cpu.sp = 59896;
    cpu.reg.a = 240;
    cpu.reg.b = 186;
    cpu.reg.c = 38;
    cpu.reg.d = 178;
    cpu.reg.e = 185;
    cpu.reg.f = 240;
    cpu.reg.h = 82;
    cpu.reg.l = 7;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[44689] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 240);
    CHECK(cpu.reg.b == 187);
    CHECK(cpu.reg.c == 38);
    CHECK(cpu.reg.d == 178);
    CHECK(cpu.reg.e == 185);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 82);
    CHECK(cpu.reg.l == 7);
    CHECK(cpu.pc == 44690);
    CHECK(cpu.sp == 59896);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44689] == 4);
}

TEST_CASE( "04 0277", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49446;
    cpu.sp = 65206;
    cpu.reg.a = 102;
    cpu.reg.b = 144;
    cpu.reg.c = 27;
    cpu.reg.d = 116;
    cpu.reg.e = 64;
    cpu.reg.f = 224;
    cpu.reg.h = 134;
    cpu.reg.l = 251;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[49446] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 102);
    CHECK(cpu.reg.b == 145);
    CHECK(cpu.reg.c == 27);
    CHECK(cpu.reg.d == 116);
    CHECK(cpu.reg.e == 64);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 134);
    CHECK(cpu.reg.l == 251);
    CHECK(cpu.pc == 49447);
    CHECK(cpu.sp == 65206);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49446] == 4);
}

TEST_CASE( "04 0278", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37358;
    cpu.sp = 38057;
    cpu.reg.a = 169;
    cpu.reg.b = 168;
    cpu.reg.c = 240;
    cpu.reg.d = 163;
    cpu.reg.e = 152;
    cpu.reg.f = 176;
    cpu.reg.h = 44;
    cpu.reg.l = 250;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[37358] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 169);
    CHECK(cpu.reg.b == 169);
    CHECK(cpu.reg.c == 240);
    CHECK(cpu.reg.d == 163);
    CHECK(cpu.reg.e == 152);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 44);
    CHECK(cpu.reg.l == 250);
    CHECK(cpu.pc == 37359);
    CHECK(cpu.sp == 38057);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[37358] == 4);
}

TEST_CASE( "04 0279", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19549;
    cpu.sp = 39455;
    cpu.reg.a = 148;
    cpu.reg.b = 155;
    cpu.reg.c = 33;
    cpu.reg.d = 212;
    cpu.reg.e = 6;
    cpu.reg.f = 96;
    cpu.reg.h = 58;
    cpu.reg.l = 248;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[19549] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 148);
    CHECK(cpu.reg.b == 156);
    CHECK(cpu.reg.c == 33);
    CHECK(cpu.reg.d == 212);
    CHECK(cpu.reg.e == 6);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 58);
    CHECK(cpu.reg.l == 248);
    CHECK(cpu.pc == 19550);
    CHECK(cpu.sp == 39455);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19549] == 4);
}

TEST_CASE( "04 027A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44561;
    cpu.sp = 52992;
    cpu.reg.a = 180;
    cpu.reg.b = 91;
    cpu.reg.c = 239;
    cpu.reg.d = 124;
    cpu.reg.e = 47;
    cpu.reg.f = 144;
    cpu.reg.h = 34;
    cpu.reg.l = 253;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[44561] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 180);
    CHECK(cpu.reg.b == 92);
    CHECK(cpu.reg.c == 239);
    CHECK(cpu.reg.d == 124);
    CHECK(cpu.reg.e == 47);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 34);
    CHECK(cpu.reg.l == 253);
    CHECK(cpu.pc == 44562);
    CHECK(cpu.sp == 52992);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44561] == 4);
}

TEST_CASE( "04 027B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8796;
    cpu.sp = 24767;
    cpu.reg.a = 247;
    cpu.reg.b = 186;
    cpu.reg.c = 107;
    cpu.reg.d = 148;
    cpu.reg.e = 199;
    cpu.reg.f = 208;
    cpu.reg.h = 148;
    cpu.reg.l = 82;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[8796] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 247);
    CHECK(cpu.reg.b == 187);
    CHECK(cpu.reg.c == 107);
    CHECK(cpu.reg.d == 148);
    CHECK(cpu.reg.e == 199);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 148);
    CHECK(cpu.reg.l == 82);
    CHECK(cpu.pc == 8797);
    CHECK(cpu.sp == 24767);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8796] == 4);
}

TEST_CASE( "04 027C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49720;
    cpu.sp = 27300;
    cpu.reg.a = 234;
    cpu.reg.b = 16;
    cpu.reg.c = 232;
    cpu.reg.d = 68;
    cpu.reg.e = 69;
    cpu.reg.f = 16;
    cpu.reg.h = 127;
    cpu.reg.l = 241;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[49720] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 234);
    CHECK(cpu.reg.b == 17);
    CHECK(cpu.reg.c == 232);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 69);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 127);
    CHECK(cpu.reg.l == 241);
    CHECK(cpu.pc == 49721);
    CHECK(cpu.sp == 27300);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49720] == 4);
}

TEST_CASE( "04 027D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61085;
    cpu.sp = 62302;
    cpu.reg.a = 128;
    cpu.reg.b = 124;
    cpu.reg.c = 130;
    cpu.reg.d = 46;
    cpu.reg.e = 177;
    cpu.reg.f = 160;
    cpu.reg.h = 80;
    cpu.reg.l = 227;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[61085] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 128);
    CHECK(cpu.reg.b == 125);
    CHECK(cpu.reg.c == 130);
    CHECK(cpu.reg.d == 46);
    CHECK(cpu.reg.e == 177);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 80);
    CHECK(cpu.reg.l == 227);
    CHECK(cpu.pc == 61086);
    CHECK(cpu.sp == 62302);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61085] == 4);
}

TEST_CASE( "04 027E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36057;
    cpu.sp = 56112;
    cpu.reg.a = 214;
    cpu.reg.b = 218;
    cpu.reg.c = 111;
    cpu.reg.d = 215;
    cpu.reg.e = 140;
    cpu.reg.f = 16;
    cpu.reg.h = 170;
    cpu.reg.l = 81;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[36057] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 214);
    CHECK(cpu.reg.b == 219);
    CHECK(cpu.reg.c == 111);
    CHECK(cpu.reg.d == 215);
    CHECK(cpu.reg.e == 140);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 170);
    CHECK(cpu.reg.l == 81);
    CHECK(cpu.pc == 36058);
    CHECK(cpu.sp == 56112);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[36057] == 4);
}

TEST_CASE( "04 027F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14231;
    cpu.sp = 6925;
    cpu.reg.a = 1;
    cpu.reg.b = 195;
    cpu.reg.c = 64;
    cpu.reg.d = 139;
    cpu.reg.e = 225;
    cpu.reg.f = 80;
    cpu.reg.h = 165;
    cpu.reg.l = 194;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[14231] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 1);
    CHECK(cpu.reg.b == 196);
    CHECK(cpu.reg.c == 64);
    CHECK(cpu.reg.d == 139);
    CHECK(cpu.reg.e == 225);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 165);
    CHECK(cpu.reg.l == 194);
    CHECK(cpu.pc == 14232);
    CHECK(cpu.sp == 6925);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14231] == 4);
}

TEST_CASE( "04 0280", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15021;
    cpu.sp = 10691;
    cpu.reg.a = 7;
    cpu.reg.b = 92;
    cpu.reg.c = 129;
    cpu.reg.d = 13;
    cpu.reg.e = 113;
    cpu.reg.f = 0;
    cpu.reg.h = 224;
    cpu.reg.l = 212;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[15021] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 7);
    CHECK(cpu.reg.b == 93);
    CHECK(cpu.reg.c == 129);
    CHECK(cpu.reg.d == 13);
    CHECK(cpu.reg.e == 113);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 224);
    CHECK(cpu.reg.l == 212);
    CHECK(cpu.pc == 15022);
    CHECK(cpu.sp == 10691);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15021] == 4);
}

TEST_CASE( "04 0281", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44147;
    cpu.sp = 26359;
    cpu.reg.a = 143;
    cpu.reg.b = 21;
    cpu.reg.c = 207;
    cpu.reg.d = 223;
    cpu.reg.e = 129;
    cpu.reg.f = 48;
    cpu.reg.h = 172;
    cpu.reg.l = 21;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[44147] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 143);
    CHECK(cpu.reg.b == 22);
    CHECK(cpu.reg.c == 207);
    CHECK(cpu.reg.d == 223);
    CHECK(cpu.reg.e == 129);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 172);
    CHECK(cpu.reg.l == 21);
    CHECK(cpu.pc == 44148);
    CHECK(cpu.sp == 26359);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44147] == 4);
}

TEST_CASE( "04 0282", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5402;
    cpu.sp = 21113;
    cpu.reg.a = 214;
    cpu.reg.b = 145;
    cpu.reg.c = 154;
    cpu.reg.d = 203;
    cpu.reg.e = 174;
    cpu.reg.f = 160;
    cpu.reg.h = 50;
    cpu.reg.l = 245;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5402] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 214);
    CHECK(cpu.reg.b == 146);
    CHECK(cpu.reg.c == 154);
    CHECK(cpu.reg.d == 203);
    CHECK(cpu.reg.e == 174);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 50);
    CHECK(cpu.reg.l == 245);
    CHECK(cpu.pc == 5403);
    CHECK(cpu.sp == 21113);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5402] == 4);
}

TEST_CASE( "04 0283", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38486;
    cpu.sp = 7763;
    cpu.reg.a = 107;
    cpu.reg.b = 23;
    cpu.reg.c = 48;
    cpu.reg.d = 41;
    cpu.reg.e = 162;
    cpu.reg.f = 64;
    cpu.reg.h = 137;
    cpu.reg.l = 65;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[38486] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 107);
    CHECK(cpu.reg.b == 24);
    CHECK(cpu.reg.c == 48);
    CHECK(cpu.reg.d == 41);
    CHECK(cpu.reg.e == 162);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 137);
    CHECK(cpu.reg.l == 65);
    CHECK(cpu.pc == 38487);
    CHECK(cpu.sp == 7763);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38486] == 4);
}

TEST_CASE( "04 0284", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57498;
    cpu.sp = 3739;
    cpu.reg.a = 184;
    cpu.reg.b = 242;
    cpu.reg.c = 61;
    cpu.reg.d = 190;
    cpu.reg.e = 233;
    cpu.reg.f = 192;
    cpu.reg.h = 235;
    cpu.reg.l = 36;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[57498] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 184);
    CHECK(cpu.reg.b == 243);
    CHECK(cpu.reg.c == 61);
    CHECK(cpu.reg.d == 190);
    CHECK(cpu.reg.e == 233);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 235);
    CHECK(cpu.reg.l == 36);
    CHECK(cpu.pc == 57499);
    CHECK(cpu.sp == 3739);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[57498] == 4);
}

TEST_CASE( "04 0285", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19449;
    cpu.sp = 18105;
    cpu.reg.a = 31;
    cpu.reg.b = 217;
    cpu.reg.c = 73;
    cpu.reg.d = 146;
    cpu.reg.e = 206;
    cpu.reg.f = 80;
    cpu.reg.h = 117;
    cpu.reg.l = 23;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[19449] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 31);
    CHECK(cpu.reg.b == 218);
    CHECK(cpu.reg.c == 73);
    CHECK(cpu.reg.d == 146);
    CHECK(cpu.reg.e == 206);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 117);
    CHECK(cpu.reg.l == 23);
    CHECK(cpu.pc == 19450);
    CHECK(cpu.sp == 18105);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19449] == 4);
}

TEST_CASE( "04 0286", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56519;
    cpu.sp = 56072;
    cpu.reg.a = 30;
    cpu.reg.b = 187;
    cpu.reg.c = 103;
    cpu.reg.d = 171;
    cpu.reg.e = 20;
    cpu.reg.f = 32;
    cpu.reg.h = 232;
    cpu.reg.l = 24;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[56519] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 30);
    CHECK(cpu.reg.b == 188);
    CHECK(cpu.reg.c == 103);
    CHECK(cpu.reg.d == 171);
    CHECK(cpu.reg.e == 20);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 232);
    CHECK(cpu.reg.l == 24);
    CHECK(cpu.pc == 56520);
    CHECK(cpu.sp == 56072);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56519] == 4);
}

TEST_CASE( "04 0287", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65280;
    cpu.sp = 3878;
    cpu.reg.a = 75;
    cpu.reg.b = 253;
    cpu.reg.c = 38;
    cpu.reg.d = 155;
    cpu.reg.e = 64;
    cpu.reg.f = 112;
    cpu.reg.h = 190;
    cpu.reg.l = 228;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[65280] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 75);
    CHECK(cpu.reg.b == 254);
    CHECK(cpu.reg.c == 38);
    CHECK(cpu.reg.d == 155);
    CHECK(cpu.reg.e == 64);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 190);
    CHECK(cpu.reg.l == 228);
    CHECK(cpu.pc == 65281);
    CHECK(cpu.sp == 3878);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[65280] == 4);
}

TEST_CASE( "04 0288", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57671;
    cpu.sp = 62570;
    cpu.reg.a = 153;
    cpu.reg.b = 63;
    cpu.reg.c = 81;
    cpu.reg.d = 16;
    cpu.reg.e = 92;
    cpu.reg.f = 128;
    cpu.reg.h = 239;
    cpu.reg.l = 221;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[57671] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 153);
    CHECK(cpu.reg.b == 64);
    CHECK(cpu.reg.c == 81);
    CHECK(cpu.reg.d == 16);
    CHECK(cpu.reg.e == 92);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 239);
    CHECK(cpu.reg.l == 221);
    CHECK(cpu.pc == 57672);
    CHECK(cpu.sp == 62570);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[57671] == 4);
}

TEST_CASE( "04 0289", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46971;
    cpu.sp = 11322;
    cpu.reg.a = 171;
    cpu.reg.b = 110;
    cpu.reg.c = 190;
    cpu.reg.d = 92;
    cpu.reg.e = 53;
    cpu.reg.f = 96;
    cpu.reg.h = 80;
    cpu.reg.l = 179;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[46971] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 171);
    CHECK(cpu.reg.b == 111);
    CHECK(cpu.reg.c == 190);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 53);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 80);
    CHECK(cpu.reg.l == 179);
    CHECK(cpu.pc == 46972);
    CHECK(cpu.sp == 11322);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[46971] == 4);
}

TEST_CASE( "04 028A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2698;
    cpu.sp = 27079;
    cpu.reg.a = 2;
    cpu.reg.b = 189;
    cpu.reg.c = 139;
    cpu.reg.d = 26;
    cpu.reg.e = 140;
    cpu.reg.f = 240;
    cpu.reg.h = 18;
    cpu.reg.l = 79;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[2698] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 2);
    CHECK(cpu.reg.b == 190);
    CHECK(cpu.reg.c == 139);
    CHECK(cpu.reg.d == 26);
    CHECK(cpu.reg.e == 140);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 18);
    CHECK(cpu.reg.l == 79);
    CHECK(cpu.pc == 2699);
    CHECK(cpu.sp == 27079);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2698] == 4);
}

TEST_CASE( "04 028B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62974;
    cpu.sp = 12454;
    cpu.reg.a = 150;
    cpu.reg.b = 9;
    cpu.reg.c = 160;
    cpu.reg.d = 215;
    cpu.reg.e = 154;
    cpu.reg.f = 32;
    cpu.reg.h = 31;
    cpu.reg.l = 188;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[62974] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 150);
    CHECK(cpu.reg.b == 10);
    CHECK(cpu.reg.c == 160);
    CHECK(cpu.reg.d == 215);
    CHECK(cpu.reg.e == 154);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 31);
    CHECK(cpu.reg.l == 188);
    CHECK(cpu.pc == 62975);
    CHECK(cpu.sp == 12454);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62974] == 4);
}

TEST_CASE( "04 028C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17383;
    cpu.sp = 49881;
    cpu.reg.a = 34;
    cpu.reg.b = 31;
    cpu.reg.c = 199;
    cpu.reg.d = 121;
    cpu.reg.e = 212;
    cpu.reg.f = 128;
    cpu.reg.h = 104;
    cpu.reg.l = 191;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[17383] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 34);
    CHECK(cpu.reg.b == 32);
    CHECK(cpu.reg.c == 199);
    CHECK(cpu.reg.d == 121);
    CHECK(cpu.reg.e == 212);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 104);
    CHECK(cpu.reg.l == 191);
    CHECK(cpu.pc == 17384);
    CHECK(cpu.sp == 49881);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17383] == 4);
}

TEST_CASE( "04 028D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51301;
    cpu.sp = 35497;
    cpu.reg.a = 243;
    cpu.reg.b = 44;
    cpu.reg.c = 135;
    cpu.reg.d = 152;
    cpu.reg.e = 13;
    cpu.reg.f = 48;
    cpu.reg.h = 111;
    cpu.reg.l = 63;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[51301] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 243);
    CHECK(cpu.reg.b == 45);
    CHECK(cpu.reg.c == 135);
    CHECK(cpu.reg.d == 152);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 111);
    CHECK(cpu.reg.l == 63);
    CHECK(cpu.pc == 51302);
    CHECK(cpu.sp == 35497);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[51301] == 4);
}

TEST_CASE( "04 028E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60070;
    cpu.sp = 53033;
    cpu.reg.a = 145;
    cpu.reg.b = 55;
    cpu.reg.c = 195;
    cpu.reg.d = 74;
    cpu.reg.e = 152;
    cpu.reg.f = 80;
    cpu.reg.h = 197;
    cpu.reg.l = 205;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[60070] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 145);
    CHECK(cpu.reg.b == 56);
    CHECK(cpu.reg.c == 195);
    CHECK(cpu.reg.d == 74);
    CHECK(cpu.reg.e == 152);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 197);
    CHECK(cpu.reg.l == 205);
    CHECK(cpu.pc == 60071);
    CHECK(cpu.sp == 53033);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60070] == 4);
}

TEST_CASE( "04 028F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57363;
    cpu.sp = 37160;
    cpu.reg.a = 204;
    cpu.reg.b = 143;
    cpu.reg.c = 102;
    cpu.reg.d = 15;
    cpu.reg.e = 193;
    cpu.reg.f = 176;
    cpu.reg.h = 144;
    cpu.reg.l = 121;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[57363] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 204);
    CHECK(cpu.reg.b == 144);
    CHECK(cpu.reg.c == 102);
    CHECK(cpu.reg.d == 15);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 144);
    CHECK(cpu.reg.l == 121);
    CHECK(cpu.pc == 57364);
    CHECK(cpu.sp == 37160);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[57363] == 4);
}

TEST_CASE( "04 0290", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 777;
    cpu.sp = 53608;
    cpu.reg.a = 244;
    cpu.reg.b = 66;
    cpu.reg.c = 121;
    cpu.reg.d = 74;
    cpu.reg.e = 212;
    cpu.reg.f = 208;
    cpu.reg.h = 30;
    cpu.reg.l = 60;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[777] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 244);
    CHECK(cpu.reg.b == 67);
    CHECK(cpu.reg.c == 121);
    CHECK(cpu.reg.d == 74);
    CHECK(cpu.reg.e == 212);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 30);
    CHECK(cpu.reg.l == 60);
    CHECK(cpu.pc == 778);
    CHECK(cpu.sp == 53608);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[777] == 4);
}

TEST_CASE( "04 0291", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58924;
    cpu.sp = 10210;
    cpu.reg.a = 105;
    cpu.reg.b = 57;
    cpu.reg.c = 209;
    cpu.reg.d = 4;
    cpu.reg.e = 235;
    cpu.reg.f = 80;
    cpu.reg.h = 144;
    cpu.reg.l = 116;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[58924] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 105);
    CHECK(cpu.reg.b == 58);
    CHECK(cpu.reg.c == 209);
    CHECK(cpu.reg.d == 4);
    CHECK(cpu.reg.e == 235);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 144);
    CHECK(cpu.reg.l == 116);
    CHECK(cpu.pc == 58925);
    CHECK(cpu.sp == 10210);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58924] == 4);
}

TEST_CASE( "04 0292", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58609;
    cpu.sp = 18047;
    cpu.reg.a = 215;
    cpu.reg.b = 55;
    cpu.reg.c = 86;
    cpu.reg.d = 67;
    cpu.reg.e = 199;
    cpu.reg.f = 80;
    cpu.reg.h = 214;
    cpu.reg.l = 84;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[58609] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 215);
    CHECK(cpu.reg.b == 56);
    CHECK(cpu.reg.c == 86);
    CHECK(cpu.reg.d == 67);
    CHECK(cpu.reg.e == 199);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 214);
    CHECK(cpu.reg.l == 84);
    CHECK(cpu.pc == 58610);
    CHECK(cpu.sp == 18047);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58609] == 4);
}

TEST_CASE( "04 0293", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1245;
    cpu.sp = 7118;
    cpu.reg.a = 120;
    cpu.reg.b = 84;
    cpu.reg.c = 21;
    cpu.reg.d = 92;
    cpu.reg.e = 198;
    cpu.reg.f = 0;
    cpu.reg.h = 209;
    cpu.reg.l = 178;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[1245] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 120);
    CHECK(cpu.reg.b == 85);
    CHECK(cpu.reg.c == 21);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 198);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 209);
    CHECK(cpu.reg.l == 178);
    CHECK(cpu.pc == 1246);
    CHECK(cpu.sp == 7118);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1245] == 4);
}

TEST_CASE( "04 0294", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45031;
    cpu.sp = 36546;
    cpu.reg.a = 254;
    cpu.reg.b = 187;
    cpu.reg.c = 117;
    cpu.reg.d = 186;
    cpu.reg.e = 72;
    cpu.reg.f = 64;
    cpu.reg.h = 30;
    cpu.reg.l = 166;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[45031] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 188);
    CHECK(cpu.reg.c == 117);
    CHECK(cpu.reg.d == 186);
    CHECK(cpu.reg.e == 72);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 30);
    CHECK(cpu.reg.l == 166);
    CHECK(cpu.pc == 45032);
    CHECK(cpu.sp == 36546);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45031] == 4);
}

TEST_CASE( "04 0295", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27643;
    cpu.sp = 26826;
    cpu.reg.a = 136;
    cpu.reg.b = 35;
    cpu.reg.c = 250;
    cpu.reg.d = 18;
    cpu.reg.e = 243;
    cpu.reg.f = 16;
    cpu.reg.h = 23;
    cpu.reg.l = 175;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[27643] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 136);
    CHECK(cpu.reg.b == 36);
    CHECK(cpu.reg.c == 250);
    CHECK(cpu.reg.d == 18);
    CHECK(cpu.reg.e == 243);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 23);
    CHECK(cpu.reg.l == 175);
    CHECK(cpu.pc == 27644);
    CHECK(cpu.sp == 26826);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27643] == 4);
}

TEST_CASE( "04 0296", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38336;
    cpu.sp = 61655;
    cpu.reg.a = 224;
    cpu.reg.b = 158;
    cpu.reg.c = 129;
    cpu.reg.d = 106;
    cpu.reg.e = 18;
    cpu.reg.f = 16;
    cpu.reg.h = 143;
    cpu.reg.l = 243;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[38336] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 159);
    CHECK(cpu.reg.c == 129);
    CHECK(cpu.reg.d == 106);
    CHECK(cpu.reg.e == 18);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 143);
    CHECK(cpu.reg.l == 243);
    CHECK(cpu.pc == 38337);
    CHECK(cpu.sp == 61655);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38336] == 4);
}

TEST_CASE( "04 0297", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16753;
    cpu.sp = 65346;
    cpu.reg.a = 74;
    cpu.reg.b = 199;
    cpu.reg.c = 185;
    cpu.reg.d = 175;
    cpu.reg.e = 27;
    cpu.reg.f = 224;
    cpu.reg.h = 78;
    cpu.reg.l = 78;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[16753] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 74);
    CHECK(cpu.reg.b == 200);
    CHECK(cpu.reg.c == 185);
    CHECK(cpu.reg.d == 175);
    CHECK(cpu.reg.e == 27);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 78);
    CHECK(cpu.reg.l == 78);
    CHECK(cpu.pc == 16754);
    CHECK(cpu.sp == 65346);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16753] == 4);
}

TEST_CASE( "04 0298", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44009;
    cpu.sp = 6100;
    cpu.reg.a = 218;
    cpu.reg.b = 170;
    cpu.reg.c = 6;
    cpu.reg.d = 210;
    cpu.reg.e = 43;
    cpu.reg.f = 32;
    cpu.reg.h = 138;
    cpu.reg.l = 215;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[44009] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 218);
    CHECK(cpu.reg.b == 171);
    CHECK(cpu.reg.c == 6);
    CHECK(cpu.reg.d == 210);
    CHECK(cpu.reg.e == 43);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 138);
    CHECK(cpu.reg.l == 215);
    CHECK(cpu.pc == 44010);
    CHECK(cpu.sp == 6100);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44009] == 4);
}

TEST_CASE( "04 0299", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49720;
    cpu.sp = 29879;
    cpu.reg.a = 66;
    cpu.reg.b = 167;
    cpu.reg.c = 139;
    cpu.reg.d = 140;
    cpu.reg.e = 40;
    cpu.reg.f = 224;
    cpu.reg.h = 179;
    cpu.reg.l = 21;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[49720] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 66);
    CHECK(cpu.reg.b == 168);
    CHECK(cpu.reg.c == 139);
    CHECK(cpu.reg.d == 140);
    CHECK(cpu.reg.e == 40);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 179);
    CHECK(cpu.reg.l == 21);
    CHECK(cpu.pc == 49721);
    CHECK(cpu.sp == 29879);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49720] == 4);
}

TEST_CASE( "04 029A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44855;
    cpu.sp = 919;
    cpu.reg.a = 94;
    cpu.reg.b = 66;
    cpu.reg.c = 207;
    cpu.reg.d = 0;
    cpu.reg.e = 137;
    cpu.reg.f = 96;
    cpu.reg.h = 122;
    cpu.reg.l = 98;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[44855] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 94);
    CHECK(cpu.reg.b == 67);
    CHECK(cpu.reg.c == 207);
    CHECK(cpu.reg.d == 0);
    CHECK(cpu.reg.e == 137);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 122);
    CHECK(cpu.reg.l == 98);
    CHECK(cpu.pc == 44856);
    CHECK(cpu.sp == 919);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44855] == 4);
}

TEST_CASE( "04 029B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16155;
    cpu.sp = 51176;
    cpu.reg.a = 1;
    cpu.reg.b = 183;
    cpu.reg.c = 50;
    cpu.reg.d = 36;
    cpu.reg.e = 213;
    cpu.reg.f = 96;
    cpu.reg.h = 168;
    cpu.reg.l = 176;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[16155] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 1);
    CHECK(cpu.reg.b == 184);
    CHECK(cpu.reg.c == 50);
    CHECK(cpu.reg.d == 36);
    CHECK(cpu.reg.e == 213);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 168);
    CHECK(cpu.reg.l == 176);
    CHECK(cpu.pc == 16156);
    CHECK(cpu.sp == 51176);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16155] == 4);
}

TEST_CASE( "04 029C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56345;
    cpu.sp = 18727;
    cpu.reg.a = 251;
    cpu.reg.b = 225;
    cpu.reg.c = 205;
    cpu.reg.d = 167;
    cpu.reg.e = 108;
    cpu.reg.f = 16;
    cpu.reg.h = 191;
    cpu.reg.l = 197;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[56345] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 251);
    CHECK(cpu.reg.b == 226);
    CHECK(cpu.reg.c == 205);
    CHECK(cpu.reg.d == 167);
    CHECK(cpu.reg.e == 108);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 191);
    CHECK(cpu.reg.l == 197);
    CHECK(cpu.pc == 56346);
    CHECK(cpu.sp == 18727);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56345] == 4);
}

TEST_CASE( "04 029D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7854;
    cpu.sp = 52343;
    cpu.reg.a = 161;
    cpu.reg.b = 250;
    cpu.reg.c = 240;
    cpu.reg.d = 208;
    cpu.reg.e = 190;
    cpu.reg.f = 80;
    cpu.reg.h = 193;
    cpu.reg.l = 10;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[7854] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 161);
    CHECK(cpu.reg.b == 251);
    CHECK(cpu.reg.c == 240);
    CHECK(cpu.reg.d == 208);
    CHECK(cpu.reg.e == 190);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 193);
    CHECK(cpu.reg.l == 10);
    CHECK(cpu.pc == 7855);
    CHECK(cpu.sp == 52343);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7854] == 4);
}

TEST_CASE( "04 029E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34835;
    cpu.sp = 8370;
    cpu.reg.a = 59;
    cpu.reg.b = 132;
    cpu.reg.c = 182;
    cpu.reg.d = 85;
    cpu.reg.e = 44;
    cpu.reg.f = 128;
    cpu.reg.h = 221;
    cpu.reg.l = 6;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[34835] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 59);
    CHECK(cpu.reg.b == 133);
    CHECK(cpu.reg.c == 182);
    CHECK(cpu.reg.d == 85);
    CHECK(cpu.reg.e == 44);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 221);
    CHECK(cpu.reg.l == 6);
    CHECK(cpu.pc == 34836);
    CHECK(cpu.sp == 8370);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[34835] == 4);
}

TEST_CASE( "04 029F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8221;
    cpu.sp = 18151;
    cpu.reg.a = 233;
    cpu.reg.b = 13;
    cpu.reg.c = 250;
    cpu.reg.d = 92;
    cpu.reg.e = 236;
    cpu.reg.f = 144;
    cpu.reg.h = 34;
    cpu.reg.l = 164;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[8221] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 233);
    CHECK(cpu.reg.b == 14);
    CHECK(cpu.reg.c == 250);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 34);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 8222);
    CHECK(cpu.sp == 18151);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8221] == 4);
}

TEST_CASE( "04 02A0", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53440;
    cpu.sp = 32043;
    cpu.reg.a = 186;
    cpu.reg.b = 176;
    cpu.reg.c = 165;
    cpu.reg.d = 179;
    cpu.reg.e = 159;
    cpu.reg.f = 16;
    cpu.reg.h = 245;
    cpu.reg.l = 147;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[53440] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 186);
    CHECK(cpu.reg.b == 177);
    CHECK(cpu.reg.c == 165);
    CHECK(cpu.reg.d == 179);
    CHECK(cpu.reg.e == 159);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 245);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 53441);
    CHECK(cpu.sp == 32043);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[53440] == 4);
}

TEST_CASE( "04 02A1", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42901;
    cpu.sp = 22052;
    cpu.reg.a = 19;
    cpu.reg.b = 128;
    cpu.reg.c = 68;
    cpu.reg.d = 168;
    cpu.reg.e = 17;
    cpu.reg.f = 64;
    cpu.reg.h = 8;
    cpu.reg.l = 140;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[42901] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 19);
    CHECK(cpu.reg.b == 129);
    CHECK(cpu.reg.c == 68);
    CHECK(cpu.reg.d == 168);
    CHECK(cpu.reg.e == 17);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 8);
    CHECK(cpu.reg.l == 140);
    CHECK(cpu.pc == 42902);
    CHECK(cpu.sp == 22052);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[42901] == 4);
}

TEST_CASE( "04 02A2", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51339;
    cpu.sp = 8631;
    cpu.reg.a = 177;
    cpu.reg.b = 77;
    cpu.reg.c = 143;
    cpu.reg.d = 77;
    cpu.reg.e = 249;
    cpu.reg.f = 224;
    cpu.reg.h = 49;
    cpu.reg.l = 42;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[51339] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 177);
    CHECK(cpu.reg.b == 78);
    CHECK(cpu.reg.c == 143);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 249);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 49);
    CHECK(cpu.reg.l == 42);
    CHECK(cpu.pc == 51340);
    CHECK(cpu.sp == 8631);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51339] == 4);
}

TEST_CASE( "04 02A3", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31584;
    cpu.sp = 48346;
    cpu.reg.a = 108;
    cpu.reg.b = 106;
    cpu.reg.c = 73;
    cpu.reg.d = 44;
    cpu.reg.e = 98;
    cpu.reg.f = 64;
    cpu.reg.h = 146;
    cpu.reg.l = 51;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[31584] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 108);
    CHECK(cpu.reg.b == 107);
    CHECK(cpu.reg.c == 73);
    CHECK(cpu.reg.d == 44);
    CHECK(cpu.reg.e == 98);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 146);
    CHECK(cpu.reg.l == 51);
    CHECK(cpu.pc == 31585);
    CHECK(cpu.sp == 48346);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31584] == 4);
}

TEST_CASE( "04 02A4", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50912;
    cpu.sp = 1964;
    cpu.reg.a = 61;
    cpu.reg.b = 111;
    cpu.reg.c = 251;
    cpu.reg.d = 54;
    cpu.reg.e = 251;
    cpu.reg.f = 96;
    cpu.reg.h = 115;
    cpu.reg.l = 72;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[50912] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 61);
    CHECK(cpu.reg.b == 112);
    CHECK(cpu.reg.c == 251);
    CHECK(cpu.reg.d == 54);
    CHECK(cpu.reg.e == 251);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 115);
    CHECK(cpu.reg.l == 72);
    CHECK(cpu.pc == 50913);
    CHECK(cpu.sp == 1964);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[50912] == 4);
}

TEST_CASE( "04 02A5", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60411;
    cpu.sp = 5320;
    cpu.reg.a = 29;
    cpu.reg.b = 196;
    cpu.reg.c = 158;
    cpu.reg.d = 110;
    cpu.reg.e = 45;
    cpu.reg.f = 0;
    cpu.reg.h = 193;
    cpu.reg.l = 159;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[60411] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 29);
    CHECK(cpu.reg.b == 197);
    CHECK(cpu.reg.c == 158);
    CHECK(cpu.reg.d == 110);
    CHECK(cpu.reg.e == 45);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 193);
    CHECK(cpu.reg.l == 159);
    CHECK(cpu.pc == 60412);
    CHECK(cpu.sp == 5320);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60411] == 4);
}

TEST_CASE( "04 02A6", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45394;
    cpu.sp = 5937;
    cpu.reg.a = 116;
    cpu.reg.b = 75;
    cpu.reg.c = 183;
    cpu.reg.d = 208;
    cpu.reg.e = 54;
    cpu.reg.f = 224;
    cpu.reg.h = 232;
    cpu.reg.l = 47;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[45394] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 116);
    CHECK(cpu.reg.b == 76);
    CHECK(cpu.reg.c == 183);
    CHECK(cpu.reg.d == 208);
    CHECK(cpu.reg.e == 54);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 232);
    CHECK(cpu.reg.l == 47);
    CHECK(cpu.pc == 45395);
    CHECK(cpu.sp == 5937);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45394] == 4);
}

TEST_CASE( "04 02A7", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3318;
    cpu.sp = 14007;
    cpu.reg.a = 54;
    cpu.reg.b = 249;
    cpu.reg.c = 42;
    cpu.reg.d = 109;
    cpu.reg.e = 198;
    cpu.reg.f = 240;
    cpu.reg.h = 147;
    cpu.reg.l = 48;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[3318] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 54);
    CHECK(cpu.reg.b == 250);
    CHECK(cpu.reg.c == 42);
    CHECK(cpu.reg.d == 109);
    CHECK(cpu.reg.e == 198);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 147);
    CHECK(cpu.reg.l == 48);
    CHECK(cpu.pc == 3319);
    CHECK(cpu.sp == 14007);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3318] == 4);
}

TEST_CASE( "04 02A8", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64292;
    cpu.sp = 11599;
    cpu.reg.a = 78;
    cpu.reg.b = 229;
    cpu.reg.c = 154;
    cpu.reg.d = 177;
    cpu.reg.e = 38;
    cpu.reg.f = 240;
    cpu.reg.h = 157;
    cpu.reg.l = 188;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[64292] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 78);
    CHECK(cpu.reg.b == 230);
    CHECK(cpu.reg.c == 154);
    CHECK(cpu.reg.d == 177);
    CHECK(cpu.reg.e == 38);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 157);
    CHECK(cpu.reg.l == 188);
    CHECK(cpu.pc == 64293);
    CHECK(cpu.sp == 11599);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64292] == 4);
}

TEST_CASE( "04 02A9", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4382;
    cpu.sp = 56851;
    cpu.reg.a = 7;
    cpu.reg.b = 146;
    cpu.reg.c = 100;
    cpu.reg.d = 44;
    cpu.reg.e = 201;
    cpu.reg.f = 112;
    cpu.reg.h = 253;
    cpu.reg.l = 93;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[4382] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 7);
    CHECK(cpu.reg.b == 147);
    CHECK(cpu.reg.c == 100);
    CHECK(cpu.reg.d == 44);
    CHECK(cpu.reg.e == 201);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 253);
    CHECK(cpu.reg.l == 93);
    CHECK(cpu.pc == 4383);
    CHECK(cpu.sp == 56851);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4382] == 4);
}

TEST_CASE( "04 02AA", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18853;
    cpu.sp = 43427;
    cpu.reg.a = 53;
    cpu.reg.b = 212;
    cpu.reg.c = 154;
    cpu.reg.d = 247;
    cpu.reg.e = 240;
    cpu.reg.f = 32;
    cpu.reg.h = 150;
    cpu.reg.l = 222;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[18853] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 53);
    CHECK(cpu.reg.b == 213);
    CHECK(cpu.reg.c == 154);
    CHECK(cpu.reg.d == 247);
    CHECK(cpu.reg.e == 240);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 150);
    CHECK(cpu.reg.l == 222);
    CHECK(cpu.pc == 18854);
    CHECK(cpu.sp == 43427);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18853] == 4);
}

TEST_CASE( "04 02AB", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9864;
    cpu.sp = 26789;
    cpu.reg.a = 159;
    cpu.reg.b = 144;
    cpu.reg.c = 98;
    cpu.reg.d = 103;
    cpu.reg.e = 149;
    cpu.reg.f = 96;
    cpu.reg.h = 212;
    cpu.reg.l = 131;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[9864] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 159);
    CHECK(cpu.reg.b == 145);
    CHECK(cpu.reg.c == 98);
    CHECK(cpu.reg.d == 103);
    CHECK(cpu.reg.e == 149);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 212);
    CHECK(cpu.reg.l == 131);
    CHECK(cpu.pc == 9865);
    CHECK(cpu.sp == 26789);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9864] == 4);
}

TEST_CASE( "04 02AC", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9241;
    cpu.sp = 54251;
    cpu.reg.a = 78;
    cpu.reg.b = 202;
    cpu.reg.c = 108;
    cpu.reg.d = 2;
    cpu.reg.e = 15;
    cpu.reg.f = 64;
    cpu.reg.h = 44;
    cpu.reg.l = 46;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[9241] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 78);
    CHECK(cpu.reg.b == 203);
    CHECK(cpu.reg.c == 108);
    CHECK(cpu.reg.d == 2);
    CHECK(cpu.reg.e == 15);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 44);
    CHECK(cpu.reg.l == 46);
    CHECK(cpu.pc == 9242);
    CHECK(cpu.sp == 54251);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9241] == 4);
}

TEST_CASE( "04 02AD", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57359;
    cpu.sp = 22988;
    cpu.reg.a = 18;
    cpu.reg.b = 113;
    cpu.reg.c = 131;
    cpu.reg.d = 110;
    cpu.reg.e = 224;
    cpu.reg.f = 16;
    cpu.reg.h = 20;
    cpu.reg.l = 167;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[57359] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 18);
    CHECK(cpu.reg.b == 114);
    CHECK(cpu.reg.c == 131);
    CHECK(cpu.reg.d == 110);
    CHECK(cpu.reg.e == 224);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 20);
    CHECK(cpu.reg.l == 167);
    CHECK(cpu.pc == 57360);
    CHECK(cpu.sp == 22988);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[57359] == 4);
}

TEST_CASE( "04 02AE", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29272;
    cpu.sp = 53959;
    cpu.reg.a = 120;
    cpu.reg.b = 54;
    cpu.reg.c = 35;
    cpu.reg.d = 167;
    cpu.reg.e = 70;
    cpu.reg.f = 48;
    cpu.reg.h = 215;
    cpu.reg.l = 23;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[29272] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 120);
    CHECK(cpu.reg.b == 55);
    CHECK(cpu.reg.c == 35);
    CHECK(cpu.reg.d == 167);
    CHECK(cpu.reg.e == 70);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 215);
    CHECK(cpu.reg.l == 23);
    CHECK(cpu.pc == 29273);
    CHECK(cpu.sp == 53959);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29272] == 4);
}

TEST_CASE( "04 02AF", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 284;
    cpu.sp = 53242;
    cpu.reg.a = 175;
    cpu.reg.b = 37;
    cpu.reg.c = 25;
    cpu.reg.d = 16;
    cpu.reg.e = 169;
    cpu.reg.f = 208;
    cpu.reg.h = 48;
    cpu.reg.l = 197;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[284] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 175);
    CHECK(cpu.reg.b == 38);
    CHECK(cpu.reg.c == 25);
    CHECK(cpu.reg.d == 16);
    CHECK(cpu.reg.e == 169);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 48);
    CHECK(cpu.reg.l == 197);
    CHECK(cpu.pc == 285);
    CHECK(cpu.sp == 53242);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[284] == 4);
}

TEST_CASE( "04 02B0", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59048;
    cpu.sp = 8799;
    cpu.reg.a = 108;
    cpu.reg.b = 194;
    cpu.reg.c = 165;
    cpu.reg.d = 156;
    cpu.reg.e = 142;
    cpu.reg.f = 240;
    cpu.reg.h = 10;
    cpu.reg.l = 228;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[59048] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 108);
    CHECK(cpu.reg.b == 195);
    CHECK(cpu.reg.c == 165);
    CHECK(cpu.reg.d == 156);
    CHECK(cpu.reg.e == 142);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 10);
    CHECK(cpu.reg.l == 228);
    CHECK(cpu.pc == 59049);
    CHECK(cpu.sp == 8799);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[59048] == 4);
}

TEST_CASE( "04 02B1", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51807;
    cpu.sp = 12408;
    cpu.reg.a = 194;
    cpu.reg.b = 46;
    cpu.reg.c = 72;
    cpu.reg.d = 126;
    cpu.reg.e = 35;
    cpu.reg.f = 208;
    cpu.reg.h = 136;
    cpu.reg.l = 197;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[51807] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 194);
    CHECK(cpu.reg.b == 47);
    CHECK(cpu.reg.c == 72);
    CHECK(cpu.reg.d == 126);
    CHECK(cpu.reg.e == 35);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 136);
    CHECK(cpu.reg.l == 197);
    CHECK(cpu.pc == 51808);
    CHECK(cpu.sp == 12408);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[51807] == 4);
}

TEST_CASE( "04 02B2", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37129;
    cpu.sp = 65334;
    cpu.reg.a = 56;
    cpu.reg.b = 184;
    cpu.reg.c = 100;
    cpu.reg.d = 122;
    cpu.reg.e = 108;
    cpu.reg.f = 64;
    cpu.reg.h = 251;
    cpu.reg.l = 45;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[37129] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 56);
    CHECK(cpu.reg.b == 185);
    CHECK(cpu.reg.c == 100);
    CHECK(cpu.reg.d == 122);
    CHECK(cpu.reg.e == 108);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 251);
    CHECK(cpu.reg.l == 45);
    CHECK(cpu.pc == 37130);
    CHECK(cpu.sp == 65334);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[37129] == 4);
}

TEST_CASE( "04 02B3", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 72;
    cpu.sp = 21233;
    cpu.reg.a = 80;
    cpu.reg.b = 91;
    cpu.reg.c = 124;
    cpu.reg.d = 34;
    cpu.reg.e = 95;
    cpu.reg.f = 0;
    cpu.reg.h = 31;
    cpu.reg.l = 158;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[72] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 80);
    CHECK(cpu.reg.b == 92);
    CHECK(cpu.reg.c == 124);
    CHECK(cpu.reg.d == 34);
    CHECK(cpu.reg.e == 95);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 31);
    CHECK(cpu.reg.l == 158);
    CHECK(cpu.pc == 73);
    CHECK(cpu.sp == 21233);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[72] == 4);
}

TEST_CASE( "04 02B4", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40070;
    cpu.sp = 47915;
    cpu.reg.a = 242;
    cpu.reg.b = 238;
    cpu.reg.c = 3;
    cpu.reg.d = 35;
    cpu.reg.e = 66;
    cpu.reg.f = 144;
    cpu.reg.h = 90;
    cpu.reg.l = 185;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[40070] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 242);
    CHECK(cpu.reg.b == 239);
    CHECK(cpu.reg.c == 3);
    CHECK(cpu.reg.d == 35);
    CHECK(cpu.reg.e == 66);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 90);
    CHECK(cpu.reg.l == 185);
    CHECK(cpu.pc == 40071);
    CHECK(cpu.sp == 47915);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40070] == 4);
}

TEST_CASE( "04 02B5", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50006;
    cpu.sp = 31215;
    cpu.reg.a = 232;
    cpu.reg.b = 74;
    cpu.reg.c = 125;
    cpu.reg.d = 32;
    cpu.reg.e = 208;
    cpu.reg.f = 112;
    cpu.reg.h = 25;
    cpu.reg.l = 238;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[50006] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 232);
    CHECK(cpu.reg.b == 75);
    CHECK(cpu.reg.c == 125);
    CHECK(cpu.reg.d == 32);
    CHECK(cpu.reg.e == 208);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 25);
    CHECK(cpu.reg.l == 238);
    CHECK(cpu.pc == 50007);
    CHECK(cpu.sp == 31215);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[50006] == 4);
}

TEST_CASE( "04 02B6", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15272;
    cpu.sp = 54373;
    cpu.reg.a = 35;
    cpu.reg.b = 4;
    cpu.reg.c = 95;
    cpu.reg.d = 249;
    cpu.reg.e = 73;
    cpu.reg.f = 0;
    cpu.reg.h = 55;
    cpu.reg.l = 5;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[15272] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 35);
    CHECK(cpu.reg.b == 5);
    CHECK(cpu.reg.c == 95);
    CHECK(cpu.reg.d == 249);
    CHECK(cpu.reg.e == 73);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 55);
    CHECK(cpu.reg.l == 5);
    CHECK(cpu.pc == 15273);
    CHECK(cpu.sp == 54373);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15272] == 4);
}

TEST_CASE( "04 02B7", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54034;
    cpu.sp = 59183;
    cpu.reg.a = 210;
    cpu.reg.b = 103;
    cpu.reg.c = 145;
    cpu.reg.d = 220;
    cpu.reg.e = 82;
    cpu.reg.f = 160;
    cpu.reg.h = 148;
    cpu.reg.l = 235;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[54034] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 210);
    CHECK(cpu.reg.b == 104);
    CHECK(cpu.reg.c == 145);
    CHECK(cpu.reg.d == 220);
    CHECK(cpu.reg.e == 82);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 148);
    CHECK(cpu.reg.l == 235);
    CHECK(cpu.pc == 54035);
    CHECK(cpu.sp == 59183);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[54034] == 4);
}

TEST_CASE( "04 02B8", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24234;
    cpu.sp = 11568;
    cpu.reg.a = 124;
    cpu.reg.b = 80;
    cpu.reg.c = 215;
    cpu.reg.d = 0;
    cpu.reg.e = 210;
    cpu.reg.f = 96;
    cpu.reg.h = 125;
    cpu.reg.l = 77;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[24234] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 124);
    CHECK(cpu.reg.b == 81);
    CHECK(cpu.reg.c == 215);
    CHECK(cpu.reg.d == 0);
    CHECK(cpu.reg.e == 210);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 125);
    CHECK(cpu.reg.l == 77);
    CHECK(cpu.pc == 24235);
    CHECK(cpu.sp == 11568);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24234] == 4);
}

TEST_CASE( "04 02B9", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49481;
    cpu.sp = 20231;
    cpu.reg.a = 80;
    cpu.reg.b = 71;
    cpu.reg.c = 38;
    cpu.reg.d = 168;
    cpu.reg.e = 143;
    cpu.reg.f = 64;
    cpu.reg.h = 28;
    cpu.reg.l = 43;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[49481] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 80);
    CHECK(cpu.reg.b == 72);
    CHECK(cpu.reg.c == 38);
    CHECK(cpu.reg.d == 168);
    CHECK(cpu.reg.e == 143);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 28);
    CHECK(cpu.reg.l == 43);
    CHECK(cpu.pc == 49482);
    CHECK(cpu.sp == 20231);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49481] == 4);
}

TEST_CASE( "04 02BA", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9909;
    cpu.sp = 48941;
    cpu.reg.a = 61;
    cpu.reg.b = 85;
    cpu.reg.c = 63;
    cpu.reg.d = 95;
    cpu.reg.e = 90;
    cpu.reg.f = 64;
    cpu.reg.h = 211;
    cpu.reg.l = 221;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[9909] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 61);
    CHECK(cpu.reg.b == 86);
    CHECK(cpu.reg.c == 63);
    CHECK(cpu.reg.d == 95);
    CHECK(cpu.reg.e == 90);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 211);
    CHECK(cpu.reg.l == 221);
    CHECK(cpu.pc == 9910);
    CHECK(cpu.sp == 48941);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9909] == 4);
}

TEST_CASE( "04 02BB", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11754;
    cpu.sp = 54180;
    cpu.reg.a = 235;
    cpu.reg.b = 163;
    cpu.reg.c = 45;
    cpu.reg.d = 198;
    cpu.reg.e = 86;
    cpu.reg.f = 32;
    cpu.reg.h = 222;
    cpu.reg.l = 77;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[11754] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 235);
    CHECK(cpu.reg.b == 164);
    CHECK(cpu.reg.c == 45);
    CHECK(cpu.reg.d == 198);
    CHECK(cpu.reg.e == 86);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 222);
    CHECK(cpu.reg.l == 77);
    CHECK(cpu.pc == 11755);
    CHECK(cpu.sp == 54180);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11754] == 4);
}

TEST_CASE( "04 02BC", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45438;
    cpu.sp = 15464;
    cpu.reg.a = 96;
    cpu.reg.b = 139;
    cpu.reg.c = 118;
    cpu.reg.d = 177;
    cpu.reg.e = 49;
    cpu.reg.f = 64;
    cpu.reg.h = 129;
    cpu.reg.l = 191;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[45438] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 96);
    CHECK(cpu.reg.b == 140);
    CHECK(cpu.reg.c == 118);
    CHECK(cpu.reg.d == 177);
    CHECK(cpu.reg.e == 49);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 129);
    CHECK(cpu.reg.l == 191);
    CHECK(cpu.pc == 45439);
    CHECK(cpu.sp == 15464);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45438] == 4);
}

TEST_CASE( "04 02BD", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24422;
    cpu.sp = 7556;
    cpu.reg.a = 5;
    cpu.reg.b = 181;
    cpu.reg.c = 78;
    cpu.reg.d = 249;
    cpu.reg.e = 115;
    cpu.reg.f = 48;
    cpu.reg.h = 224;
    cpu.reg.l = 125;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[24422] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 5);
    CHECK(cpu.reg.b == 182);
    CHECK(cpu.reg.c == 78);
    CHECK(cpu.reg.d == 249);
    CHECK(cpu.reg.e == 115);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 224);
    CHECK(cpu.reg.l == 125);
    CHECK(cpu.pc == 24423);
    CHECK(cpu.sp == 7556);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24422] == 4);
}

TEST_CASE( "04 02BE", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31583;
    cpu.sp = 56863;
    cpu.reg.a = 106;
    cpu.reg.b = 190;
    cpu.reg.c = 205;
    cpu.reg.d = 240;
    cpu.reg.e = 134;
    cpu.reg.f = 48;
    cpu.reg.h = 228;
    cpu.reg.l = 183;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[31583] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 106);
    CHECK(cpu.reg.b == 191);
    CHECK(cpu.reg.c == 205);
    CHECK(cpu.reg.d == 240);
    CHECK(cpu.reg.e == 134);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 228);
    CHECK(cpu.reg.l == 183);
    CHECK(cpu.pc == 31584);
    CHECK(cpu.sp == 56863);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31583] == 4);
}

TEST_CASE( "04 02BF", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16305;
    cpu.sp = 6517;
    cpu.reg.a = 206;
    cpu.reg.b = 168;
    cpu.reg.c = 112;
    cpu.reg.d = 51;
    cpu.reg.e = 112;
    cpu.reg.f = 0;
    cpu.reg.h = 59;
    cpu.reg.l = 45;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[16305] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 206);
    CHECK(cpu.reg.b == 169);
    CHECK(cpu.reg.c == 112);
    CHECK(cpu.reg.d == 51);
    CHECK(cpu.reg.e == 112);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 59);
    CHECK(cpu.reg.l == 45);
    CHECK(cpu.pc == 16306);
    CHECK(cpu.sp == 6517);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16305] == 4);
}

TEST_CASE( "04 02C0", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44463;
    cpu.sp = 33611;
    cpu.reg.a = 119;
    cpu.reg.b = 77;
    cpu.reg.c = 220;
    cpu.reg.d = 254;
    cpu.reg.e = 85;
    cpu.reg.f = 240;
    cpu.reg.h = 113;
    cpu.reg.l = 45;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[44463] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 119);
    CHECK(cpu.reg.b == 78);
    CHECK(cpu.reg.c == 220);
    CHECK(cpu.reg.d == 254);
    CHECK(cpu.reg.e == 85);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 113);
    CHECK(cpu.reg.l == 45);
    CHECK(cpu.pc == 44464);
    CHECK(cpu.sp == 33611);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44463] == 4);
}

TEST_CASE( "04 02C1", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39643;
    cpu.sp = 1754;
    cpu.reg.a = 27;
    cpu.reg.b = 4;
    cpu.reg.c = 192;
    cpu.reg.d = 240;
    cpu.reg.e = 95;
    cpu.reg.f = 96;
    cpu.reg.h = 75;
    cpu.reg.l = 10;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[39643] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 27);
    CHECK(cpu.reg.b == 5);
    CHECK(cpu.reg.c == 192);
    CHECK(cpu.reg.d == 240);
    CHECK(cpu.reg.e == 95);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 75);
    CHECK(cpu.reg.l == 10);
    CHECK(cpu.pc == 39644);
    CHECK(cpu.sp == 1754);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39643] == 4);
}

TEST_CASE( "04 02C2", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52811;
    cpu.sp = 65191;
    cpu.reg.a = 111;
    cpu.reg.b = 37;
    cpu.reg.c = 54;
    cpu.reg.d = 59;
    cpu.reg.e = 39;
    cpu.reg.f = 128;
    cpu.reg.h = 7;
    cpu.reg.l = 143;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[52811] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 111);
    CHECK(cpu.reg.b == 38);
    CHECK(cpu.reg.c == 54);
    CHECK(cpu.reg.d == 59);
    CHECK(cpu.reg.e == 39);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 7);
    CHECK(cpu.reg.l == 143);
    CHECK(cpu.pc == 52812);
    CHECK(cpu.sp == 65191);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[52811] == 4);
}

TEST_CASE( "04 02C3", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12376;
    cpu.sp = 30293;
    cpu.reg.a = 205;
    cpu.reg.b = 89;
    cpu.reg.c = 35;
    cpu.reg.d = 248;
    cpu.reg.e = 169;
    cpu.reg.f = 80;
    cpu.reg.h = 78;
    cpu.reg.l = 168;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[12376] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 205);
    CHECK(cpu.reg.b == 90);
    CHECK(cpu.reg.c == 35);
    CHECK(cpu.reg.d == 248);
    CHECK(cpu.reg.e == 169);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 78);
    CHECK(cpu.reg.l == 168);
    CHECK(cpu.pc == 12377);
    CHECK(cpu.sp == 30293);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12376] == 4);
}

TEST_CASE( "04 02C4", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8527;
    cpu.sp = 54484;
    cpu.reg.a = 104;
    cpu.reg.b = 47;
    cpu.reg.c = 171;
    cpu.reg.d = 207;
    cpu.reg.e = 233;
    cpu.reg.f = 144;
    cpu.reg.h = 140;
    cpu.reg.l = 237;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[8527] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 104);
    CHECK(cpu.reg.b == 48);
    CHECK(cpu.reg.c == 171);
    CHECK(cpu.reg.d == 207);
    CHECK(cpu.reg.e == 233);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 140);
    CHECK(cpu.reg.l == 237);
    CHECK(cpu.pc == 8528);
    CHECK(cpu.sp == 54484);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8527] == 4);
}

TEST_CASE( "04 02C5", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51773;
    cpu.sp = 21158;
    cpu.reg.a = 61;
    cpu.reg.b = 141;
    cpu.reg.c = 126;
    cpu.reg.d = 41;
    cpu.reg.e = 89;
    cpu.reg.f = 96;
    cpu.reg.h = 205;
    cpu.reg.l = 65;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[51773] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 61);
    CHECK(cpu.reg.b == 142);
    CHECK(cpu.reg.c == 126);
    CHECK(cpu.reg.d == 41);
    CHECK(cpu.reg.e == 89);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 205);
    CHECK(cpu.reg.l == 65);
    CHECK(cpu.pc == 51774);
    CHECK(cpu.sp == 21158);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51773] == 4);
}

TEST_CASE( "04 02C6", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43650;
    cpu.sp = 3852;
    cpu.reg.a = 212;
    cpu.reg.b = 64;
    cpu.reg.c = 4;
    cpu.reg.d = 181;
    cpu.reg.e = 83;
    cpu.reg.f = 224;
    cpu.reg.h = 234;
    cpu.reg.l = 151;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[43650] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 212);
    CHECK(cpu.reg.b == 65);
    CHECK(cpu.reg.c == 4);
    CHECK(cpu.reg.d == 181);
    CHECK(cpu.reg.e == 83);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 234);
    CHECK(cpu.reg.l == 151);
    CHECK(cpu.pc == 43651);
    CHECK(cpu.sp == 3852);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[43650] == 4);
}

TEST_CASE( "04 02C7", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48130;
    cpu.sp = 10625;
    cpu.reg.a = 59;
    cpu.reg.b = 175;
    cpu.reg.c = 78;
    cpu.reg.d = 3;
    cpu.reg.e = 154;
    cpu.reg.f = 240;
    cpu.reg.h = 183;
    cpu.reg.l = 224;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[48130] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 59);
    CHECK(cpu.reg.b == 176);
    CHECK(cpu.reg.c == 78);
    CHECK(cpu.reg.d == 3);
    CHECK(cpu.reg.e == 154);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 183);
    CHECK(cpu.reg.l == 224);
    CHECK(cpu.pc == 48131);
    CHECK(cpu.sp == 10625);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[48130] == 4);
}

TEST_CASE( "04 02C8", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15540;
    cpu.sp = 16799;
    cpu.reg.a = 91;
    cpu.reg.b = 86;
    cpu.reg.c = 92;
    cpu.reg.d = 16;
    cpu.reg.e = 215;
    cpu.reg.f = 80;
    cpu.reg.h = 5;
    cpu.reg.l = 175;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[15540] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 91);
    CHECK(cpu.reg.b == 87);
    CHECK(cpu.reg.c == 92);
    CHECK(cpu.reg.d == 16);
    CHECK(cpu.reg.e == 215);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 5);
    CHECK(cpu.reg.l == 175);
    CHECK(cpu.pc == 15541);
    CHECK(cpu.sp == 16799);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15540] == 4);
}

TEST_CASE( "04 02C9", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33995;
    cpu.sp = 58462;
    cpu.reg.a = 216;
    cpu.reg.b = 223;
    cpu.reg.c = 26;
    cpu.reg.d = 80;
    cpu.reg.e = 130;
    cpu.reg.f = 128;
    cpu.reg.h = 4;
    cpu.reg.l = 150;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[33995] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 224);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 80);
    CHECK(cpu.reg.e == 130);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 4);
    CHECK(cpu.reg.l == 150);
    CHECK(cpu.pc == 33996);
    CHECK(cpu.sp == 58462);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33995] == 4);
}

TEST_CASE( "04 02CA", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44098;
    cpu.sp = 42297;
    cpu.reg.a = 145;
    cpu.reg.b = 127;
    cpu.reg.c = 156;
    cpu.reg.d = 43;
    cpu.reg.e = 118;
    cpu.reg.f = 32;
    cpu.reg.h = 57;
    cpu.reg.l = 62;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[44098] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 145);
    CHECK(cpu.reg.b == 128);
    CHECK(cpu.reg.c == 156);
    CHECK(cpu.reg.d == 43);
    CHECK(cpu.reg.e == 118);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 57);
    CHECK(cpu.reg.l == 62);
    CHECK(cpu.pc == 44099);
    CHECK(cpu.sp == 42297);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44098] == 4);
}

TEST_CASE( "04 02CB", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51816;
    cpu.sp = 32640;
    cpu.reg.a = 33;
    cpu.reg.b = 114;
    cpu.reg.c = 191;
    cpu.reg.d = 59;
    cpu.reg.e = 51;
    cpu.reg.f = 192;
    cpu.reg.h = 73;
    cpu.reg.l = 163;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[51816] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 33);
    CHECK(cpu.reg.b == 115);
    CHECK(cpu.reg.c == 191);
    CHECK(cpu.reg.d == 59);
    CHECK(cpu.reg.e == 51);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 73);
    CHECK(cpu.reg.l == 163);
    CHECK(cpu.pc == 51817);
    CHECK(cpu.sp == 32640);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51816] == 4);
}

TEST_CASE( "04 02CC", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1618;
    cpu.sp = 18340;
    cpu.reg.a = 42;
    cpu.reg.b = 92;
    cpu.reg.c = 60;
    cpu.reg.d = 157;
    cpu.reg.e = 65;
    cpu.reg.f = 48;
    cpu.reg.h = 4;
    cpu.reg.l = 172;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[1618] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 42);
    CHECK(cpu.reg.b == 93);
    CHECK(cpu.reg.c == 60);
    CHECK(cpu.reg.d == 157);
    CHECK(cpu.reg.e == 65);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 4);
    CHECK(cpu.reg.l == 172);
    CHECK(cpu.pc == 1619);
    CHECK(cpu.sp == 18340);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1618] == 4);
}

TEST_CASE( "04 02CD", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23411;
    cpu.sp = 58867;
    cpu.reg.a = 237;
    cpu.reg.b = 215;
    cpu.reg.c = 148;
    cpu.reg.d = 8;
    cpu.reg.e = 214;
    cpu.reg.f = 160;
    cpu.reg.h = 164;
    cpu.reg.l = 242;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[23411] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 237);
    CHECK(cpu.reg.b == 216);
    CHECK(cpu.reg.c == 148);
    CHECK(cpu.reg.d == 8);
    CHECK(cpu.reg.e == 214);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 164);
    CHECK(cpu.reg.l == 242);
    CHECK(cpu.pc == 23412);
    CHECK(cpu.sp == 58867);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23411] == 4);
}

TEST_CASE( "04 02CE", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35541;
    cpu.sp = 14734;
    cpu.reg.a = 17;
    cpu.reg.b = 246;
    cpu.reg.c = 143;
    cpu.reg.d = 33;
    cpu.reg.e = 0;
    cpu.reg.f = 48;
    cpu.reg.h = 143;
    cpu.reg.l = 116;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[35541] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 17);
    CHECK(cpu.reg.b == 247);
    CHECK(cpu.reg.c == 143);
    CHECK(cpu.reg.d == 33);
    CHECK(cpu.reg.e == 0);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 143);
    CHECK(cpu.reg.l == 116);
    CHECK(cpu.pc == 35542);
    CHECK(cpu.sp == 14734);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35541] == 4);
}

TEST_CASE( "04 02CF", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55751;
    cpu.sp = 60739;
    cpu.reg.a = 168;
    cpu.reg.b = 87;
    cpu.reg.c = 205;
    cpu.reg.d = 121;
    cpu.reg.e = 213;
    cpu.reg.f = 128;
    cpu.reg.h = 5;
    cpu.reg.l = 188;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[55751] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 168);
    CHECK(cpu.reg.b == 88);
    CHECK(cpu.reg.c == 205);
    CHECK(cpu.reg.d == 121);
    CHECK(cpu.reg.e == 213);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 5);
    CHECK(cpu.reg.l == 188);
    CHECK(cpu.pc == 55752);
    CHECK(cpu.sp == 60739);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55751] == 4);
}

TEST_CASE( "04 02D0", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25186;
    cpu.sp = 46425;
    cpu.reg.a = 78;
    cpu.reg.b = 66;
    cpu.reg.c = 140;
    cpu.reg.d = 247;
    cpu.reg.e = 42;
    cpu.reg.f = 48;
    cpu.reg.h = 11;
    cpu.reg.l = 218;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[25186] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 78);
    CHECK(cpu.reg.b == 67);
    CHECK(cpu.reg.c == 140);
    CHECK(cpu.reg.d == 247);
    CHECK(cpu.reg.e == 42);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 11);
    CHECK(cpu.reg.l == 218);
    CHECK(cpu.pc == 25187);
    CHECK(cpu.sp == 46425);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25186] == 4);
}

TEST_CASE( "04 02D1", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31958;
    cpu.sp = 47004;
    cpu.reg.a = 239;
    cpu.reg.b = 11;
    cpu.reg.c = 163;
    cpu.reg.d = 34;
    cpu.reg.e = 31;
    cpu.reg.f = 112;
    cpu.reg.h = 250;
    cpu.reg.l = 74;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[31958] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 239);
    CHECK(cpu.reg.b == 12);
    CHECK(cpu.reg.c == 163);
    CHECK(cpu.reg.d == 34);
    CHECK(cpu.reg.e == 31);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 250);
    CHECK(cpu.reg.l == 74);
    CHECK(cpu.pc == 31959);
    CHECK(cpu.sp == 47004);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31958] == 4);
}

TEST_CASE( "04 02D2", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41736;
    cpu.sp = 24864;
    cpu.reg.a = 231;
    cpu.reg.b = 118;
    cpu.reg.c = 37;
    cpu.reg.d = 202;
    cpu.reg.e = 234;
    cpu.reg.f = 48;
    cpu.reg.h = 158;
    cpu.reg.l = 135;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[41736] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 231);
    CHECK(cpu.reg.b == 119);
    CHECK(cpu.reg.c == 37);
    CHECK(cpu.reg.d == 202);
    CHECK(cpu.reg.e == 234);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 158);
    CHECK(cpu.reg.l == 135);
    CHECK(cpu.pc == 41737);
    CHECK(cpu.sp == 24864);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[41736] == 4);
}

TEST_CASE( "04 02D3", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56151;
    cpu.sp = 31724;
    cpu.reg.a = 183;
    cpu.reg.b = 250;
    cpu.reg.c = 230;
    cpu.reg.d = 83;
    cpu.reg.e = 229;
    cpu.reg.f = 112;
    cpu.reg.h = 16;
    cpu.reg.l = 198;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[56151] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 183);
    CHECK(cpu.reg.b == 251);
    CHECK(cpu.reg.c == 230);
    CHECK(cpu.reg.d == 83);
    CHECK(cpu.reg.e == 229);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 16);
    CHECK(cpu.reg.l == 198);
    CHECK(cpu.pc == 56152);
    CHECK(cpu.sp == 31724);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56151] == 4);
}

TEST_CASE( "04 02D4", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13031;
    cpu.sp = 11266;
    cpu.reg.a = 133;
    cpu.reg.b = 213;
    cpu.reg.c = 19;
    cpu.reg.d = 154;
    cpu.reg.e = 56;
    cpu.reg.f = 160;
    cpu.reg.h = 15;
    cpu.reg.l = 67;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[13031] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 133);
    CHECK(cpu.reg.b == 214);
    CHECK(cpu.reg.c == 19);
    CHECK(cpu.reg.d == 154);
    CHECK(cpu.reg.e == 56);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 15);
    CHECK(cpu.reg.l == 67);
    CHECK(cpu.pc == 13032);
    CHECK(cpu.sp == 11266);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13031] == 4);
}

TEST_CASE( "04 02D5", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52421;
    cpu.sp = 48181;
    cpu.reg.a = 190;
    cpu.reg.b = 148;
    cpu.reg.c = 158;
    cpu.reg.d = 125;
    cpu.reg.e = 254;
    cpu.reg.f = 160;
    cpu.reg.h = 207;
    cpu.reg.l = 2;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[52421] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 190);
    CHECK(cpu.reg.b == 149);
    CHECK(cpu.reg.c == 158);
    CHECK(cpu.reg.d == 125);
    CHECK(cpu.reg.e == 254);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 207);
    CHECK(cpu.reg.l == 2);
    CHECK(cpu.pc == 52422);
    CHECK(cpu.sp == 48181);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[52421] == 4);
}

TEST_CASE( "04 02D6", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11926;
    cpu.sp = 43396;
    cpu.reg.a = 212;
    cpu.reg.b = 46;
    cpu.reg.c = 53;
    cpu.reg.d = 98;
    cpu.reg.e = 219;
    cpu.reg.f = 64;
    cpu.reg.h = 142;
    cpu.reg.l = 156;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[11926] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 212);
    CHECK(cpu.reg.b == 47);
    CHECK(cpu.reg.c == 53);
    CHECK(cpu.reg.d == 98);
    CHECK(cpu.reg.e == 219);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 142);
    CHECK(cpu.reg.l == 156);
    CHECK(cpu.pc == 11927);
    CHECK(cpu.sp == 43396);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11926] == 4);
}

TEST_CASE( "04 02D7", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23253;
    cpu.sp = 55342;
    cpu.reg.a = 107;
    cpu.reg.b = 52;
    cpu.reg.c = 158;
    cpu.reg.d = 222;
    cpu.reg.e = 237;
    cpu.reg.f = 96;
    cpu.reg.h = 165;
    cpu.reg.l = 51;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[23253] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 107);
    CHECK(cpu.reg.b == 53);
    CHECK(cpu.reg.c == 158);
    CHECK(cpu.reg.d == 222);
    CHECK(cpu.reg.e == 237);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 165);
    CHECK(cpu.reg.l == 51);
    CHECK(cpu.pc == 23254);
    CHECK(cpu.sp == 55342);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23253] == 4);
}

TEST_CASE( "04 02D8", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5457;
    cpu.sp = 38908;
    cpu.reg.a = 69;
    cpu.reg.b = 92;
    cpu.reg.c = 77;
    cpu.reg.d = 138;
    cpu.reg.e = 195;
    cpu.reg.f = 240;
    cpu.reg.h = 166;
    cpu.reg.l = 247;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[5457] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 69);
    CHECK(cpu.reg.b == 93);
    CHECK(cpu.reg.c == 77);
    CHECK(cpu.reg.d == 138);
    CHECK(cpu.reg.e == 195);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 166);
    CHECK(cpu.reg.l == 247);
    CHECK(cpu.pc == 5458);
    CHECK(cpu.sp == 38908);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5457] == 4);
}

TEST_CASE( "04 02D9", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16006;
    cpu.sp = 50657;
    cpu.reg.a = 108;
    cpu.reg.b = 186;
    cpu.reg.c = 5;
    cpu.reg.d = 50;
    cpu.reg.e = 250;
    cpu.reg.f = 112;
    cpu.reg.h = 156;
    cpu.reg.l = 59;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[16006] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 108);
    CHECK(cpu.reg.b == 187);
    CHECK(cpu.reg.c == 5);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 250);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 156);
    CHECK(cpu.reg.l == 59);
    CHECK(cpu.pc == 16007);
    CHECK(cpu.sp == 50657);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16006] == 4);
}

TEST_CASE( "04 02DA", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25334;
    cpu.sp = 30466;
    cpu.reg.a = 90;
    cpu.reg.b = 122;
    cpu.reg.c = 255;
    cpu.reg.d = 17;
    cpu.reg.e = 157;
    cpu.reg.f = 96;
    cpu.reg.h = 31;
    cpu.reg.l = 25;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[25334] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 90);
    CHECK(cpu.reg.b == 123);
    CHECK(cpu.reg.c == 255);
    CHECK(cpu.reg.d == 17);
    CHECK(cpu.reg.e == 157);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 31);
    CHECK(cpu.reg.l == 25);
    CHECK(cpu.pc == 25335);
    CHECK(cpu.sp == 30466);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25334] == 4);
}

TEST_CASE( "04 02DB", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24619;
    cpu.sp = 5946;
    cpu.reg.a = 178;
    cpu.reg.b = 175;
    cpu.reg.c = 56;
    cpu.reg.d = 229;
    cpu.reg.e = 240;
    cpu.reg.f = 176;
    cpu.reg.h = 242;
    cpu.reg.l = 145;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[24619] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 178);
    CHECK(cpu.reg.b == 176);
    CHECK(cpu.reg.c == 56);
    CHECK(cpu.reg.d == 229);
    CHECK(cpu.reg.e == 240);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 145);
    CHECK(cpu.pc == 24620);
    CHECK(cpu.sp == 5946);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24619] == 4);
}

TEST_CASE( "04 02DC", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56681;
    cpu.sp = 35673;
    cpu.reg.a = 77;
    cpu.reg.b = 137;
    cpu.reg.c = 220;
    cpu.reg.d = 27;
    cpu.reg.e = 56;
    cpu.reg.f = 224;
    cpu.reg.h = 189;
    cpu.reg.l = 48;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[56681] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 77);
    CHECK(cpu.reg.b == 138);
    CHECK(cpu.reg.c == 220);
    CHECK(cpu.reg.d == 27);
    CHECK(cpu.reg.e == 56);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 189);
    CHECK(cpu.reg.l == 48);
    CHECK(cpu.pc == 56682);
    CHECK(cpu.sp == 35673);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56681] == 4);
}

TEST_CASE( "04 02DD", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23815;
    cpu.sp = 1440;
    cpu.reg.a = 28;
    cpu.reg.b = 252;
    cpu.reg.c = 229;
    cpu.reg.d = 122;
    cpu.reg.e = 215;
    cpu.reg.f = 64;
    cpu.reg.h = 228;
    cpu.reg.l = 233;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[23815] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 28);
    CHECK(cpu.reg.b == 253);
    CHECK(cpu.reg.c == 229);
    CHECK(cpu.reg.d == 122);
    CHECK(cpu.reg.e == 215);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 228);
    CHECK(cpu.reg.l == 233);
    CHECK(cpu.pc == 23816);
    CHECK(cpu.sp == 1440);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[23815] == 4);
}

TEST_CASE( "04 02DE", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37502;
    cpu.sp = 9290;
    cpu.reg.a = 162;
    cpu.reg.b = 223;
    cpu.reg.c = 185;
    cpu.reg.d = 39;
    cpu.reg.e = 236;
    cpu.reg.f = 240;
    cpu.reg.h = 72;
    cpu.reg.l = 211;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[37502] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 162);
    CHECK(cpu.reg.b == 224);
    CHECK(cpu.reg.c == 185);
    CHECK(cpu.reg.d == 39);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 72);
    CHECK(cpu.reg.l == 211);
    CHECK(cpu.pc == 37503);
    CHECK(cpu.sp == 9290);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[37502] == 4);
}

TEST_CASE( "04 02DF", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10071;
    cpu.sp = 17119;
    cpu.reg.a = 148;
    cpu.reg.b = 140;
    cpu.reg.c = 144;
    cpu.reg.d = 251;
    cpu.reg.e = 105;
    cpu.reg.f = 16;
    cpu.reg.h = 2;
    cpu.reg.l = 73;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[10071] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 148);
    CHECK(cpu.reg.b == 141);
    CHECK(cpu.reg.c == 144);
    CHECK(cpu.reg.d == 251);
    CHECK(cpu.reg.e == 105);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 2);
    CHECK(cpu.reg.l == 73);
    CHECK(cpu.pc == 10072);
    CHECK(cpu.sp == 17119);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10071] == 4);
}

TEST_CASE( "04 02E0", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61339;
    cpu.sp = 64402;
    cpu.reg.a = 110;
    cpu.reg.b = 87;
    cpu.reg.c = 239;
    cpu.reg.d = 236;
    cpu.reg.e = 231;
    cpu.reg.f = 128;
    cpu.reg.h = 116;
    cpu.reg.l = 231;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[61339] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 110);
    CHECK(cpu.reg.b == 88);
    CHECK(cpu.reg.c == 239);
    CHECK(cpu.reg.d == 236);
    CHECK(cpu.reg.e == 231);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 116);
    CHECK(cpu.reg.l == 231);
    CHECK(cpu.pc == 61340);
    CHECK(cpu.sp == 64402);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61339] == 4);
}

TEST_CASE( "04 02E1", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4818;
    cpu.sp = 62337;
    cpu.reg.a = 85;
    cpu.reg.b = 162;
    cpu.reg.c = 200;
    cpu.reg.d = 89;
    cpu.reg.e = 64;
    cpu.reg.f = 176;
    cpu.reg.h = 217;
    cpu.reg.l = 121;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[4818] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 85);
    CHECK(cpu.reg.b == 163);
    CHECK(cpu.reg.c == 200);
    CHECK(cpu.reg.d == 89);
    CHECK(cpu.reg.e == 64);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 217);
    CHECK(cpu.reg.l == 121);
    CHECK(cpu.pc == 4819);
    CHECK(cpu.sp == 62337);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4818] == 4);
}

TEST_CASE( "04 02E2", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10351;
    cpu.sp = 28186;
    cpu.reg.a = 159;
    cpu.reg.b = 90;
    cpu.reg.c = 60;
    cpu.reg.d = 224;
    cpu.reg.e = 103;
    cpu.reg.f = 176;
    cpu.reg.h = 105;
    cpu.reg.l = 164;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[10351] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 159);
    CHECK(cpu.reg.b == 91);
    CHECK(cpu.reg.c == 60);
    CHECK(cpu.reg.d == 224);
    CHECK(cpu.reg.e == 103);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 105);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 10352);
    CHECK(cpu.sp == 28186);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10351] == 4);
}

TEST_CASE( "04 02E3", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1603;
    cpu.sp = 10104;
    cpu.reg.a = 196;
    cpu.reg.b = 47;
    cpu.reg.c = 224;
    cpu.reg.d = 224;
    cpu.reg.e = 95;
    cpu.reg.f = 16;
    cpu.reg.h = 82;
    cpu.reg.l = 33;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[1603] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 196);
    CHECK(cpu.reg.b == 48);
    CHECK(cpu.reg.c == 224);
    CHECK(cpu.reg.d == 224);
    CHECK(cpu.reg.e == 95);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 82);
    CHECK(cpu.reg.l == 33);
    CHECK(cpu.pc == 1604);
    CHECK(cpu.sp == 10104);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1603] == 4);
}

TEST_CASE( "04 02E4", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13298;
    cpu.sp = 61174;
    cpu.reg.a = 147;
    cpu.reg.b = 132;
    cpu.reg.c = 170;
    cpu.reg.d = 87;
    cpu.reg.e = 137;
    cpu.reg.f = 96;
    cpu.reg.h = 0;
    cpu.reg.l = 159;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[13298] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 147);
    CHECK(cpu.reg.b == 133);
    CHECK(cpu.reg.c == 170);
    CHECK(cpu.reg.d == 87);
    CHECK(cpu.reg.e == 137);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 0);
    CHECK(cpu.reg.l == 159);
    CHECK(cpu.pc == 13299);
    CHECK(cpu.sp == 61174);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13298] == 4);
}

TEST_CASE( "04 02E5", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49654;
    cpu.sp = 165;
    cpu.reg.a = 19;
    cpu.reg.b = 197;
    cpu.reg.c = 200;
    cpu.reg.d = 43;
    cpu.reg.e = 117;
    cpu.reg.f = 48;
    cpu.reg.h = 225;
    cpu.reg.l = 85;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[49654] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 19);
    CHECK(cpu.reg.b == 198);
    CHECK(cpu.reg.c == 200);
    CHECK(cpu.reg.d == 43);
    CHECK(cpu.reg.e == 117);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 225);
    CHECK(cpu.reg.l == 85);
    CHECK(cpu.pc == 49655);
    CHECK(cpu.sp == 165);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49654] == 4);
}

TEST_CASE( "04 02E6", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62817;
    cpu.sp = 59143;
    cpu.reg.a = 228;
    cpu.reg.b = 228;
    cpu.reg.c = 69;
    cpu.reg.d = 147;
    cpu.reg.e = 168;
    cpu.reg.f = 0;
    cpu.reg.h = 56;
    cpu.reg.l = 215;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[62817] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 228);
    CHECK(cpu.reg.b == 229);
    CHECK(cpu.reg.c == 69);
    CHECK(cpu.reg.d == 147);
    CHECK(cpu.reg.e == 168);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 56);
    CHECK(cpu.reg.l == 215);
    CHECK(cpu.pc == 62818);
    CHECK(cpu.sp == 59143);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62817] == 4);
}

TEST_CASE( "04 02E7", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63151;
    cpu.sp = 15692;
    cpu.reg.a = 212;
    cpu.reg.b = 123;
    cpu.reg.c = 16;
    cpu.reg.d = 13;
    cpu.reg.e = 46;
    cpu.reg.f = 128;
    cpu.reg.h = 158;
    cpu.reg.l = 77;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[63151] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 212);
    CHECK(cpu.reg.b == 124);
    CHECK(cpu.reg.c == 16);
    CHECK(cpu.reg.d == 13);
    CHECK(cpu.reg.e == 46);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 158);
    CHECK(cpu.reg.l == 77);
    CHECK(cpu.pc == 63152);
    CHECK(cpu.sp == 15692);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[63151] == 4);
}

TEST_CASE( "04 02E8", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30738;
    cpu.sp = 23099;
    cpu.reg.a = 131;
    cpu.reg.b = 153;
    cpu.reg.c = 17;
    cpu.reg.d = 68;
    cpu.reg.e = 176;
    cpu.reg.f = 32;
    cpu.reg.h = 158;
    cpu.reg.l = 91;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[30738] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 131);
    CHECK(cpu.reg.b == 154);
    CHECK(cpu.reg.c == 17);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 176);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 158);
    CHECK(cpu.reg.l == 91);
    CHECK(cpu.pc == 30739);
    CHECK(cpu.sp == 23099);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30738] == 4);
}

TEST_CASE( "04 02E9", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53507;
    cpu.sp = 65498;
    cpu.reg.a = 44;
    cpu.reg.b = 135;
    cpu.reg.c = 164;
    cpu.reg.d = 37;
    cpu.reg.e = 2;
    cpu.reg.f = 176;
    cpu.reg.h = 222;
    cpu.reg.l = 133;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[53507] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 44);
    CHECK(cpu.reg.b == 136);
    CHECK(cpu.reg.c == 164);
    CHECK(cpu.reg.d == 37);
    CHECK(cpu.reg.e == 2);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 222);
    CHECK(cpu.reg.l == 133);
    CHECK(cpu.pc == 53508);
    CHECK(cpu.sp == 65498);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[53507] == 4);
}

TEST_CASE( "04 02EA", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10303;
    cpu.sp = 51867;
    cpu.reg.a = 141;
    cpu.reg.b = 26;
    cpu.reg.c = 125;
    cpu.reg.d = 171;
    cpu.reg.e = 0;
    cpu.reg.f = 128;
    cpu.reg.h = 26;
    cpu.reg.l = 165;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[10303] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 141);
    CHECK(cpu.reg.b == 27);
    CHECK(cpu.reg.c == 125);
    CHECK(cpu.reg.d == 171);
    CHECK(cpu.reg.e == 0);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 26);
    CHECK(cpu.reg.l == 165);
    CHECK(cpu.pc == 10304);
    CHECK(cpu.sp == 51867);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10303] == 4);
}

TEST_CASE( "04 02EB", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56868;
    cpu.sp = 46579;
    cpu.reg.a = 107;
    cpu.reg.b = 191;
    cpu.reg.c = 103;
    cpu.reg.d = 191;
    cpu.reg.e = 209;
    cpu.reg.f = 208;
    cpu.reg.h = 194;
    cpu.reg.l = 240;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[56868] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 107);
    CHECK(cpu.reg.b == 192);
    CHECK(cpu.reg.c == 103);
    CHECK(cpu.reg.d == 191);
    CHECK(cpu.reg.e == 209);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 194);
    CHECK(cpu.reg.l == 240);
    CHECK(cpu.pc == 56869);
    CHECK(cpu.sp == 46579);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56868] == 4);
}

TEST_CASE( "04 02EC", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5332;
    cpu.sp = 36828;
    cpu.reg.a = 81;
    cpu.reg.b = 57;
    cpu.reg.c = 168;
    cpu.reg.d = 24;
    cpu.reg.e = 183;
    cpu.reg.f = 224;
    cpu.reg.h = 167;
    cpu.reg.l = 140;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[5332] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 81);
    CHECK(cpu.reg.b == 58);
    CHECK(cpu.reg.c == 168);
    CHECK(cpu.reg.d == 24);
    CHECK(cpu.reg.e == 183);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 167);
    CHECK(cpu.reg.l == 140);
    CHECK(cpu.pc == 5333);
    CHECK(cpu.sp == 36828);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5332] == 4);
}

TEST_CASE( "04 02ED", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8734;
    cpu.sp = 12856;
    cpu.reg.a = 246;
    cpu.reg.b = 245;
    cpu.reg.c = 22;
    cpu.reg.d = 43;
    cpu.reg.e = 137;
    cpu.reg.f = 112;
    cpu.reg.h = 176;
    cpu.reg.l = 40;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[8734] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 246);
    CHECK(cpu.reg.b == 246);
    CHECK(cpu.reg.c == 22);
    CHECK(cpu.reg.d == 43);
    CHECK(cpu.reg.e == 137);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 176);
    CHECK(cpu.reg.l == 40);
    CHECK(cpu.pc == 8735);
    CHECK(cpu.sp == 12856);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8734] == 4);
}

TEST_CASE( "04 02EE", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40333;
    cpu.sp = 50728;
    cpu.reg.a = 171;
    cpu.reg.b = 57;
    cpu.reg.c = 187;
    cpu.reg.d = 195;
    cpu.reg.e = 4;
    cpu.reg.f = 112;
    cpu.reg.h = 125;
    cpu.reg.l = 207;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[40333] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 171);
    CHECK(cpu.reg.b == 58);
    CHECK(cpu.reg.c == 187);
    CHECK(cpu.reg.d == 195);
    CHECK(cpu.reg.e == 4);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 125);
    CHECK(cpu.reg.l == 207);
    CHECK(cpu.pc == 40334);
    CHECK(cpu.sp == 50728);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40333] == 4);
}

TEST_CASE( "04 02EF", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10073;
    cpu.sp = 61387;
    cpu.reg.a = 14;
    cpu.reg.b = 35;
    cpu.reg.c = 146;
    cpu.reg.d = 3;
    cpu.reg.e = 118;
    cpu.reg.f = 128;
    cpu.reg.h = 23;
    cpu.reg.l = 38;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[10073] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 14);
    CHECK(cpu.reg.b == 36);
    CHECK(cpu.reg.c == 146);
    CHECK(cpu.reg.d == 3);
    CHECK(cpu.reg.e == 118);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 23);
    CHECK(cpu.reg.l == 38);
    CHECK(cpu.pc == 10074);
    CHECK(cpu.sp == 61387);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10073] == 4);
}

TEST_CASE( "04 02F0", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55439;
    cpu.sp = 14654;
    cpu.reg.a = 176;
    cpu.reg.b = 197;
    cpu.reg.c = 28;
    cpu.reg.d = 80;
    cpu.reg.e = 237;
    cpu.reg.f = 176;
    cpu.reg.h = 132;
    cpu.reg.l = 160;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[55439] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 176);
    CHECK(cpu.reg.b == 198);
    CHECK(cpu.reg.c == 28);
    CHECK(cpu.reg.d == 80);
    CHECK(cpu.reg.e == 237);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 132);
    CHECK(cpu.reg.l == 160);
    CHECK(cpu.pc == 55440);
    CHECK(cpu.sp == 14654);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[55439] == 4);
}

TEST_CASE( "04 02F1", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13907;
    cpu.sp = 25050;
    cpu.reg.a = 49;
    cpu.reg.b = 74;
    cpu.reg.c = 131;
    cpu.reg.d = 162;
    cpu.reg.e = 254;
    cpu.reg.f = 224;
    cpu.reg.h = 225;
    cpu.reg.l = 46;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[13907] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 49);
    CHECK(cpu.reg.b == 75);
    CHECK(cpu.reg.c == 131);
    CHECK(cpu.reg.d == 162);
    CHECK(cpu.reg.e == 254);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 225);
    CHECK(cpu.reg.l == 46);
    CHECK(cpu.pc == 13908);
    CHECK(cpu.sp == 25050);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13907] == 4);
}

TEST_CASE( "04 02F2", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45810;
    cpu.sp = 15735;
    cpu.reg.a = 200;
    cpu.reg.b = 249;
    cpu.reg.c = 140;
    cpu.reg.d = 215;
    cpu.reg.e = 29;
    cpu.reg.f = 16;
    cpu.reg.h = 241;
    cpu.reg.l = 61;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[45810] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 200);
    CHECK(cpu.reg.b == 250);
    CHECK(cpu.reg.c == 140);
    CHECK(cpu.reg.d == 215);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 61);
    CHECK(cpu.pc == 45811);
    CHECK(cpu.sp == 15735);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45810] == 4);
}

TEST_CASE( "04 02F3", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40560;
    cpu.sp = 34992;
    cpu.reg.a = 139;
    cpu.reg.b = 121;
    cpu.reg.c = 216;
    cpu.reg.d = 115;
    cpu.reg.e = 145;
    cpu.reg.f = 80;
    cpu.reg.h = 241;
    cpu.reg.l = 61;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[40560] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 139);
    CHECK(cpu.reg.b == 122);
    CHECK(cpu.reg.c == 216);
    CHECK(cpu.reg.d == 115);
    CHECK(cpu.reg.e == 145);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 61);
    CHECK(cpu.pc == 40561);
    CHECK(cpu.sp == 34992);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40560] == 4);
}

TEST_CASE( "04 02F4", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29865;
    cpu.sp = 18757;
    cpu.reg.a = 220;
    cpu.reg.b = 21;
    cpu.reg.c = 149;
    cpu.reg.d = 165;
    cpu.reg.e = 127;
    cpu.reg.f = 176;
    cpu.reg.h = 185;
    cpu.reg.l = 245;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[29865] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 220);
    CHECK(cpu.reg.b == 22);
    CHECK(cpu.reg.c == 149);
    CHECK(cpu.reg.d == 165);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 185);
    CHECK(cpu.reg.l == 245);
    CHECK(cpu.pc == 29866);
    CHECK(cpu.sp == 18757);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[29865] == 4);
}

TEST_CASE( "04 02F5", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3794;
    cpu.sp = 18577;
    cpu.reg.a = 109;
    cpu.reg.b = 63;
    cpu.reg.c = 173;
    cpu.reg.d = 128;
    cpu.reg.e = 232;
    cpu.reg.f = 208;
    cpu.reg.h = 190;
    cpu.reg.l = 160;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[3794] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 109);
    CHECK(cpu.reg.b == 64);
    CHECK(cpu.reg.c == 173);
    CHECK(cpu.reg.d == 128);
    CHECK(cpu.reg.e == 232);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 190);
    CHECK(cpu.reg.l == 160);
    CHECK(cpu.pc == 3795);
    CHECK(cpu.sp == 18577);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3794] == 4);
}

TEST_CASE( "04 02F6", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56313;
    cpu.sp = 27059;
    cpu.reg.a = 237;
    cpu.reg.b = 108;
    cpu.reg.c = 227;
    cpu.reg.d = 120;
    cpu.reg.e = 20;
    cpu.reg.f = 224;
    cpu.reg.h = 28;
    cpu.reg.l = 229;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[56313] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 237);
    CHECK(cpu.reg.b == 109);
    CHECK(cpu.reg.c == 227);
    CHECK(cpu.reg.d == 120);
    CHECK(cpu.reg.e == 20);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 28);
    CHECK(cpu.reg.l == 229);
    CHECK(cpu.pc == 56314);
    CHECK(cpu.sp == 27059);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56313] == 4);
}

TEST_CASE( "04 02F7", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11723;
    cpu.sp = 21288;
    cpu.reg.a = 151;
    cpu.reg.b = 216;
    cpu.reg.c = 155;
    cpu.reg.d = 192;
    cpu.reg.e = 71;
    cpu.reg.f = 176;
    cpu.reg.h = 157;
    cpu.reg.l = 238;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[11723] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 151);
    CHECK(cpu.reg.b == 217);
    CHECK(cpu.reg.c == 155);
    CHECK(cpu.reg.d == 192);
    CHECK(cpu.reg.e == 71);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 157);
    CHECK(cpu.reg.l == 238);
    CHECK(cpu.pc == 11724);
    CHECK(cpu.sp == 21288);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11723] == 4);
}

TEST_CASE( "04 02F8", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 778;
    cpu.sp = 15512;
    cpu.reg.a = 124;
    cpu.reg.b = 159;
    cpu.reg.c = 144;
    cpu.reg.d = 177;
    cpu.reg.e = 5;
    cpu.reg.f = 144;
    cpu.reg.h = 182;
    cpu.reg.l = 211;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[778] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 124);
    CHECK(cpu.reg.b == 160);
    CHECK(cpu.reg.c == 144);
    CHECK(cpu.reg.d == 177);
    CHECK(cpu.reg.e == 5);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 182);
    CHECK(cpu.reg.l == 211);
    CHECK(cpu.pc == 779);
    CHECK(cpu.sp == 15512);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[778] == 4);
}

TEST_CASE( "04 02F9", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33999;
    cpu.sp = 57157;
    cpu.reg.a = 118;
    cpu.reg.b = 105;
    cpu.reg.c = 66;
    cpu.reg.d = 136;
    cpu.reg.e = 206;
    cpu.reg.f = 224;
    cpu.reg.h = 242;
    cpu.reg.l = 155;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[33999] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 118);
    CHECK(cpu.reg.b == 106);
    CHECK(cpu.reg.c == 66);
    CHECK(cpu.reg.d == 136);
    CHECK(cpu.reg.e == 206);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 155);
    CHECK(cpu.pc == 34000);
    CHECK(cpu.sp == 57157);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33999] == 4);
}

TEST_CASE( "04 02FA", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4685;
    cpu.sp = 49800;
    cpu.reg.a = 205;
    cpu.reg.b = 228;
    cpu.reg.c = 36;
    cpu.reg.d = 190;
    cpu.reg.e = 114;
    cpu.reg.f = 112;
    cpu.reg.h = 63;
    cpu.reg.l = 85;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4685] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 205);
    CHECK(cpu.reg.b == 229);
    CHECK(cpu.reg.c == 36);
    CHECK(cpu.reg.d == 190);
    CHECK(cpu.reg.e == 114);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 63);
    CHECK(cpu.reg.l == 85);
    CHECK(cpu.pc == 4686);
    CHECK(cpu.sp == 49800);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4685] == 4);
}

TEST_CASE( "04 02FB", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28214;
    cpu.sp = 22406;
    cpu.reg.a = 204;
    cpu.reg.b = 3;
    cpu.reg.c = 224;
    cpu.reg.d = 213;
    cpu.reg.e = 222;
    cpu.reg.f = 128;
    cpu.reg.h = 105;
    cpu.reg.l = 94;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[28214] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 204);
    CHECK(cpu.reg.b == 4);
    CHECK(cpu.reg.c == 224);
    CHECK(cpu.reg.d == 213);
    CHECK(cpu.reg.e == 222);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 105);
    CHECK(cpu.reg.l == 94);
    CHECK(cpu.pc == 28215);
    CHECK(cpu.sp == 22406);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28214] == 4);
}

TEST_CASE( "04 02FC", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38230;
    cpu.sp = 37054;
    cpu.reg.a = 39;
    cpu.reg.b = 239;
    cpu.reg.c = 106;
    cpu.reg.d = 163;
    cpu.reg.e = 133;
    cpu.reg.f = 96;
    cpu.reg.h = 11;
    cpu.reg.l = 111;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[38230] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 39);
    CHECK(cpu.reg.b == 240);
    CHECK(cpu.reg.c == 106);
    CHECK(cpu.reg.d == 163);
    CHECK(cpu.reg.e == 133);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 11);
    CHECK(cpu.reg.l == 111);
    CHECK(cpu.pc == 38231);
    CHECK(cpu.sp == 37054);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38230] == 4);
}

TEST_CASE( "04 02FD", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10929;
    cpu.sp = 62749;
    cpu.reg.a = 192;
    cpu.reg.b = 202;
    cpu.reg.c = 194;
    cpu.reg.d = 114;
    cpu.reg.e = 4;
    cpu.reg.f = 176;
    cpu.reg.h = 17;
    cpu.reg.l = 189;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[10929] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 192);
    CHECK(cpu.reg.b == 203);
    CHECK(cpu.reg.c == 194);
    CHECK(cpu.reg.d == 114);
    CHECK(cpu.reg.e == 4);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 189);
    CHECK(cpu.pc == 10930);
    CHECK(cpu.sp == 62749);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10929] == 4);
}

TEST_CASE( "04 02FE", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54653;
    cpu.sp = 38609;
    cpu.reg.a = 246;
    cpu.reg.b = 35;
    cpu.reg.c = 189;
    cpu.reg.d = 34;
    cpu.reg.e = 244;
    cpu.reg.f = 144;
    cpu.reg.h = 224;
    cpu.reg.l = 239;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[54653] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 246);
    CHECK(cpu.reg.b == 36);
    CHECK(cpu.reg.c == 189);
    CHECK(cpu.reg.d == 34);
    CHECK(cpu.reg.e == 244);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 224);
    CHECK(cpu.reg.l == 239);
    CHECK(cpu.pc == 54654);
    CHECK(cpu.sp == 38609);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[54653] == 4);
}

TEST_CASE( "04 02FF", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46782;
    cpu.sp = 50313;
    cpu.reg.a = 7;
    cpu.reg.b = 39;
    cpu.reg.c = 19;
    cpu.reg.d = 172;
    cpu.reg.e = 125;
    cpu.reg.f = 112;
    cpu.reg.h = 92;
    cpu.reg.l = 232;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[46782] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 7);
    CHECK(cpu.reg.b == 40);
    CHECK(cpu.reg.c == 19);
    CHECK(cpu.reg.d == 172);
    CHECK(cpu.reg.e == 125);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 92);
    CHECK(cpu.reg.l == 232);
    CHECK(cpu.pc == 46783);
    CHECK(cpu.sp == 50313);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[46782] == 4);
}

TEST_CASE( "04 0300", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52075;
    cpu.sp = 7573;
    cpu.reg.a = 236;
    cpu.reg.b = 115;
    cpu.reg.c = 82;
    cpu.reg.d = 100;
    cpu.reg.e = 29;
    cpu.reg.f = 160;
    cpu.reg.h = 241;
    cpu.reg.l = 135;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[52075] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 236);
    CHECK(cpu.reg.b == 116);
    CHECK(cpu.reg.c == 82);
    CHECK(cpu.reg.d == 100);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 135);
    CHECK(cpu.pc == 52076);
    CHECK(cpu.sp == 7573);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[52075] == 4);
}

TEST_CASE( "04 0301", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13217;
    cpu.sp = 156;
    cpu.reg.a = 175;
    cpu.reg.b = 225;
    cpu.reg.c = 198;
    cpu.reg.d = 77;
    cpu.reg.e = 227;
    cpu.reg.f = 0;
    cpu.reg.h = 4;
    cpu.reg.l = 207;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[13217] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 175);
    CHECK(cpu.reg.b == 226);
    CHECK(cpu.reg.c == 198);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 227);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 4);
    CHECK(cpu.reg.l == 207);
    CHECK(cpu.pc == 13218);
    CHECK(cpu.sp == 156);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13217] == 4);
}

TEST_CASE( "04 0302", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57912;
    cpu.sp = 46211;
    cpu.reg.a = 214;
    cpu.reg.b = 230;
    cpu.reg.c = 222;
    cpu.reg.d = 73;
    cpu.reg.e = 180;
    cpu.reg.f = 16;
    cpu.reg.h = 133;
    cpu.reg.l = 37;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[57912] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 214);
    CHECK(cpu.reg.b == 231);
    CHECK(cpu.reg.c == 222);
    CHECK(cpu.reg.d == 73);
    CHECK(cpu.reg.e == 180);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 133);
    CHECK(cpu.reg.l == 37);
    CHECK(cpu.pc == 57913);
    CHECK(cpu.sp == 46211);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[57912] == 4);
}

TEST_CASE( "04 0303", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51185;
    cpu.sp = 19312;
    cpu.reg.a = 63;
    cpu.reg.b = 174;
    cpu.reg.c = 161;
    cpu.reg.d = 73;
    cpu.reg.e = 99;
    cpu.reg.f = 112;
    cpu.reg.h = 197;
    cpu.reg.l = 25;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[51185] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 63);
    CHECK(cpu.reg.b == 175);
    CHECK(cpu.reg.c == 161);
    CHECK(cpu.reg.d == 73);
    CHECK(cpu.reg.e == 99);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 197);
    CHECK(cpu.reg.l == 25);
    CHECK(cpu.pc == 51186);
    CHECK(cpu.sp == 19312);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51185] == 4);
}

TEST_CASE( "04 0304", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15813;
    cpu.sp = 62491;
    cpu.reg.a = 84;
    cpu.reg.b = 141;
    cpu.reg.c = 189;
    cpu.reg.d = 156;
    cpu.reg.e = 120;
    cpu.reg.f = 0;
    cpu.reg.h = 160;
    cpu.reg.l = 118;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[15813] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 84);
    CHECK(cpu.reg.b == 142);
    CHECK(cpu.reg.c == 189);
    CHECK(cpu.reg.d == 156);
    CHECK(cpu.reg.e == 120);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 160);
    CHECK(cpu.reg.l == 118);
    CHECK(cpu.pc == 15814);
    CHECK(cpu.sp == 62491);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15813] == 4);
}

TEST_CASE( "04 0305", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43743;
    cpu.sp = 35950;
    cpu.reg.a = 50;
    cpu.reg.b = 28;
    cpu.reg.c = 152;
    cpu.reg.d = 57;
    cpu.reg.e = 53;
    cpu.reg.f = 48;
    cpu.reg.h = 165;
    cpu.reg.l = 138;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[43743] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 50);
    CHECK(cpu.reg.b == 29);
    CHECK(cpu.reg.c == 152);
    CHECK(cpu.reg.d == 57);
    CHECK(cpu.reg.e == 53);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 165);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 43744);
    CHECK(cpu.sp == 35950);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43743] == 4);
}

TEST_CASE( "04 0306", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16211;
    cpu.sp = 63438;
    cpu.reg.a = 23;
    cpu.reg.b = 124;
    cpu.reg.c = 82;
    cpu.reg.d = 135;
    cpu.reg.e = 156;
    cpu.reg.f = 80;
    cpu.reg.h = 124;
    cpu.reg.l = 110;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[16211] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 23);
    CHECK(cpu.reg.b == 125);
    CHECK(cpu.reg.c == 82);
    CHECK(cpu.reg.d == 135);
    CHECK(cpu.reg.e == 156);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 124);
    CHECK(cpu.reg.l == 110);
    CHECK(cpu.pc == 16212);
    CHECK(cpu.sp == 63438);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16211] == 4);
}

TEST_CASE( "04 0307", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20802;
    cpu.sp = 18764;
    cpu.reg.a = 98;
    cpu.reg.b = 158;
    cpu.reg.c = 127;
    cpu.reg.d = 7;
    cpu.reg.e = 79;
    cpu.reg.f = 112;
    cpu.reg.h = 21;
    cpu.reg.l = 121;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[20802] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 98);
    CHECK(cpu.reg.b == 159);
    CHECK(cpu.reg.c == 127);
    CHECK(cpu.reg.d == 7);
    CHECK(cpu.reg.e == 79);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 21);
    CHECK(cpu.reg.l == 121);
    CHECK(cpu.pc == 20803);
    CHECK(cpu.sp == 18764);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20802] == 4);
}

TEST_CASE( "04 0308", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31654;
    cpu.sp = 2371;
    cpu.reg.a = 120;
    cpu.reg.b = 207;
    cpu.reg.c = 200;
    cpu.reg.d = 38;
    cpu.reg.e = 249;
    cpu.reg.f = 96;
    cpu.reg.h = 21;
    cpu.reg.l = 158;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[31654] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 120);
    CHECK(cpu.reg.b == 208);
    CHECK(cpu.reg.c == 200);
    CHECK(cpu.reg.d == 38);
    CHECK(cpu.reg.e == 249);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 21);
    CHECK(cpu.reg.l == 158);
    CHECK(cpu.pc == 31655);
    CHECK(cpu.sp == 2371);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31654] == 4);
}

TEST_CASE( "04 0309", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64987;
    cpu.sp = 46578;
    cpu.reg.a = 166;
    cpu.reg.b = 101;
    cpu.reg.c = 169;
    cpu.reg.d = 137;
    cpu.reg.e = 92;
    cpu.reg.f = 240;
    cpu.reg.h = 115;
    cpu.reg.l = 9;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[64987] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 166);
    CHECK(cpu.reg.b == 102);
    CHECK(cpu.reg.c == 169);
    CHECK(cpu.reg.d == 137);
    CHECK(cpu.reg.e == 92);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 115);
    CHECK(cpu.reg.l == 9);
    CHECK(cpu.pc == 64988);
    CHECK(cpu.sp == 46578);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64987] == 4);
}

TEST_CASE( "04 030A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1059;
    cpu.sp = 34410;
    cpu.reg.a = 115;
    cpu.reg.b = 100;
    cpu.reg.c = 141;
    cpu.reg.d = 25;
    cpu.reg.e = 24;
    cpu.reg.f = 144;
    cpu.reg.h = 33;
    cpu.reg.l = 182;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1059] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 115);
    CHECK(cpu.reg.b == 101);
    CHECK(cpu.reg.c == 141);
    CHECK(cpu.reg.d == 25);
    CHECK(cpu.reg.e == 24);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 33);
    CHECK(cpu.reg.l == 182);
    CHECK(cpu.pc == 1060);
    CHECK(cpu.sp == 34410);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1059] == 4);
}

TEST_CASE( "04 030B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51079;
    cpu.sp = 2829;
    cpu.reg.a = 104;
    cpu.reg.b = 179;
    cpu.reg.c = 33;
    cpu.reg.d = 151;
    cpu.reg.e = 150;
    cpu.reg.f = 192;
    cpu.reg.h = 144;
    cpu.reg.l = 165;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[51079] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 104);
    CHECK(cpu.reg.b == 180);
    CHECK(cpu.reg.c == 33);
    CHECK(cpu.reg.d == 151);
    CHECK(cpu.reg.e == 150);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 144);
    CHECK(cpu.reg.l == 165);
    CHECK(cpu.pc == 51080);
    CHECK(cpu.sp == 2829);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51079] == 4);
}

TEST_CASE( "04 030C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36255;
    cpu.sp = 59027;
    cpu.reg.a = 172;
    cpu.reg.b = 78;
    cpu.reg.c = 26;
    cpu.reg.d = 15;
    cpu.reg.e = 111;
    cpu.reg.f = 48;
    cpu.reg.h = 108;
    cpu.reg.l = 52;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[36255] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 172);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 15);
    CHECK(cpu.reg.e == 111);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 108);
    CHECK(cpu.reg.l == 52);
    CHECK(cpu.pc == 36256);
    CHECK(cpu.sp == 59027);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36255] == 4);
}

TEST_CASE( "04 030D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17218;
    cpu.sp = 308;
    cpu.reg.a = 238;
    cpu.reg.b = 34;
    cpu.reg.c = 55;
    cpu.reg.d = 43;
    cpu.reg.e = 127;
    cpu.reg.f = 160;
    cpu.reg.h = 2;
    cpu.reg.l = 176;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[17218] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 238);
    CHECK(cpu.reg.b == 35);
    CHECK(cpu.reg.c == 55);
    CHECK(cpu.reg.d == 43);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 2);
    CHECK(cpu.reg.l == 176);
    CHECK(cpu.pc == 17219);
    CHECK(cpu.sp == 308);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17218] == 4);
}

TEST_CASE( "04 030E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56319;
    cpu.sp = 61591;
    cpu.reg.a = 222;
    cpu.reg.b = 216;
    cpu.reg.c = 254;
    cpu.reg.d = 73;
    cpu.reg.e = 110;
    cpu.reg.f = 96;
    cpu.reg.h = 162;
    cpu.reg.l = 8;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[56319] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 222);
    CHECK(cpu.reg.b == 217);
    CHECK(cpu.reg.c == 254);
    CHECK(cpu.reg.d == 73);
    CHECK(cpu.reg.e == 110);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 162);
    CHECK(cpu.reg.l == 8);
    CHECK(cpu.pc == 56320);
    CHECK(cpu.sp == 61591);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56319] == 4);
}

TEST_CASE( "04 030F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56531;
    cpu.sp = 11225;
    cpu.reg.a = 121;
    cpu.reg.b = 170;
    cpu.reg.c = 4;
    cpu.reg.d = 102;
    cpu.reg.e = 64;
    cpu.reg.f = 160;
    cpu.reg.h = 185;
    cpu.reg.l = 164;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[56531] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 121);
    CHECK(cpu.reg.b == 171);
    CHECK(cpu.reg.c == 4);
    CHECK(cpu.reg.d == 102);
    CHECK(cpu.reg.e == 64);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 185);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 56532);
    CHECK(cpu.sp == 11225);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56531] == 4);
}

TEST_CASE( "04 0310", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2165;
    cpu.sp = 25734;
    cpu.reg.a = 24;
    cpu.reg.b = 47;
    cpu.reg.c = 134;
    cpu.reg.d = 138;
    cpu.reg.e = 78;
    cpu.reg.f = 144;
    cpu.reg.h = 156;
    cpu.reg.l = 7;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[2165] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 24);
    CHECK(cpu.reg.b == 48);
    CHECK(cpu.reg.c == 134);
    CHECK(cpu.reg.d == 138);
    CHECK(cpu.reg.e == 78);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 156);
    CHECK(cpu.reg.l == 7);
    CHECK(cpu.pc == 2166);
    CHECK(cpu.sp == 25734);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2165] == 4);
}

TEST_CASE( "04 0311", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1008;
    cpu.sp = 51274;
    cpu.reg.a = 30;
    cpu.reg.b = 194;
    cpu.reg.c = 126;
    cpu.reg.d = 232;
    cpu.reg.e = 163;
    cpu.reg.f = 176;
    cpu.reg.h = 103;
    cpu.reg.l = 175;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1008] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 30);
    CHECK(cpu.reg.b == 195);
    CHECK(cpu.reg.c == 126);
    CHECK(cpu.reg.d == 232);
    CHECK(cpu.reg.e == 163);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 103);
    CHECK(cpu.reg.l == 175);
    CHECK(cpu.pc == 1009);
    CHECK(cpu.sp == 51274);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1008] == 4);
}

TEST_CASE( "04 0312", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37573;
    cpu.sp = 16189;
    cpu.reg.a = 12;
    cpu.reg.b = 112;
    cpu.reg.c = 96;
    cpu.reg.d = 188;
    cpu.reg.e = 51;
    cpu.reg.f = 64;
    cpu.reg.h = 216;
    cpu.reg.l = 213;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[37573] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 12);
    CHECK(cpu.reg.b == 113);
    CHECK(cpu.reg.c == 96);
    CHECK(cpu.reg.d == 188);
    CHECK(cpu.reg.e == 51);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 216);
    CHECK(cpu.reg.l == 213);
    CHECK(cpu.pc == 37574);
    CHECK(cpu.sp == 16189);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[37573] == 4);
}

TEST_CASE( "04 0313", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50757;
    cpu.sp = 51858;
    cpu.reg.a = 212;
    cpu.reg.b = 131;
    cpu.reg.c = 230;
    cpu.reg.d = 42;
    cpu.reg.e = 56;
    cpu.reg.f = 192;
    cpu.reg.h = 30;
    cpu.reg.l = 35;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[50757] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 212);
    CHECK(cpu.reg.b == 132);
    CHECK(cpu.reg.c == 230);
    CHECK(cpu.reg.d == 42);
    CHECK(cpu.reg.e == 56);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 30);
    CHECK(cpu.reg.l == 35);
    CHECK(cpu.pc == 50758);
    CHECK(cpu.sp == 51858);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[50757] == 4);
}

TEST_CASE( "04 0314", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28374;
    cpu.sp = 28084;
    cpu.reg.a = 95;
    cpu.reg.b = 255;
    cpu.reg.c = 210;
    cpu.reg.d = 83;
    cpu.reg.e = 140;
    cpu.reg.f = 128;
    cpu.reg.h = 218;
    cpu.reg.l = 165;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[28374] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 95);
    CHECK(cpu.reg.b == 0);
    CHECK(cpu.reg.c == 210);
    CHECK(cpu.reg.d == 83);
    CHECK(cpu.reg.e == 140);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 218);
    CHECK(cpu.reg.l == 165);
    CHECK(cpu.pc == 28375);
    CHECK(cpu.sp == 28084);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28374] == 4);
}

TEST_CASE( "04 0315", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4246;
    cpu.sp = 56003;
    cpu.reg.a = 125;
    cpu.reg.b = 55;
    cpu.reg.c = 168;
    cpu.reg.d = 120;
    cpu.reg.e = 149;
    cpu.reg.f = 144;
    cpu.reg.h = 227;
    cpu.reg.l = 148;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[4246] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 125);
    CHECK(cpu.reg.b == 56);
    CHECK(cpu.reg.c == 168);
    CHECK(cpu.reg.d == 120);
    CHECK(cpu.reg.e == 149);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 148);
    CHECK(cpu.pc == 4247);
    CHECK(cpu.sp == 56003);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4246] == 4);
}

TEST_CASE( "04 0316", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14590;
    cpu.sp = 18655;
    cpu.reg.a = 34;
    cpu.reg.b = 227;
    cpu.reg.c = 0;
    cpu.reg.d = 82;
    cpu.reg.e = 178;
    cpu.reg.f = 32;
    cpu.reg.h = 252;
    cpu.reg.l = 156;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[14590] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 34);
    CHECK(cpu.reg.b == 228);
    CHECK(cpu.reg.c == 0);
    CHECK(cpu.reg.d == 82);
    CHECK(cpu.reg.e == 178);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 252);
    CHECK(cpu.reg.l == 156);
    CHECK(cpu.pc == 14591);
    CHECK(cpu.sp == 18655);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14590] == 4);
}

TEST_CASE( "04 0317", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 979;
    cpu.sp = 46596;
    cpu.reg.a = 107;
    cpu.reg.b = 232;
    cpu.reg.c = 81;
    cpu.reg.d = 60;
    cpu.reg.e = 134;
    cpu.reg.f = 96;
    cpu.reg.h = 38;
    cpu.reg.l = 189;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[979] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 107);
    CHECK(cpu.reg.b == 233);
    CHECK(cpu.reg.c == 81);
    CHECK(cpu.reg.d == 60);
    CHECK(cpu.reg.e == 134);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 38);
    CHECK(cpu.reg.l == 189);
    CHECK(cpu.pc == 980);
    CHECK(cpu.sp == 46596);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[979] == 4);
}

TEST_CASE( "04 0318", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58232;
    cpu.sp = 9192;
    cpu.reg.a = 15;
    cpu.reg.b = 170;
    cpu.reg.c = 198;
    cpu.reg.d = 130;
    cpu.reg.e = 225;
    cpu.reg.f = 80;
    cpu.reg.h = 84;
    cpu.reg.l = 122;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[58232] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 15);
    CHECK(cpu.reg.b == 171);
    CHECK(cpu.reg.c == 198);
    CHECK(cpu.reg.d == 130);
    CHECK(cpu.reg.e == 225);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 84);
    CHECK(cpu.reg.l == 122);
    CHECK(cpu.pc == 58233);
    CHECK(cpu.sp == 9192);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58232] == 4);
}

TEST_CASE( "04 0319", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33096;
    cpu.sp = 52476;
    cpu.reg.a = 6;
    cpu.reg.b = 81;
    cpu.reg.c = 176;
    cpu.reg.d = 189;
    cpu.reg.e = 59;
    cpu.reg.f = 144;
    cpu.reg.h = 110;
    cpu.reg.l = 185;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[33096] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 6);
    CHECK(cpu.reg.b == 82);
    CHECK(cpu.reg.c == 176);
    CHECK(cpu.reg.d == 189);
    CHECK(cpu.reg.e == 59);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 110);
    CHECK(cpu.reg.l == 185);
    CHECK(cpu.pc == 33097);
    CHECK(cpu.sp == 52476);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33096] == 4);
}

TEST_CASE( "04 031A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26758;
    cpu.sp = 14732;
    cpu.reg.a = 236;
    cpu.reg.b = 136;
    cpu.reg.c = 106;
    cpu.reg.d = 152;
    cpu.reg.e = 10;
    cpu.reg.f = 0;
    cpu.reg.h = 105;
    cpu.reg.l = 181;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[26758] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 236);
    CHECK(cpu.reg.b == 137);
    CHECK(cpu.reg.c == 106);
    CHECK(cpu.reg.d == 152);
    CHECK(cpu.reg.e == 10);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 105);
    CHECK(cpu.reg.l == 181);
    CHECK(cpu.pc == 26759);
    CHECK(cpu.sp == 14732);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26758] == 4);
}

TEST_CASE( "04 031B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56901;
    cpu.sp = 15746;
    cpu.reg.a = 85;
    cpu.reg.b = 109;
    cpu.reg.c = 138;
    cpu.reg.d = 42;
    cpu.reg.e = 222;
    cpu.reg.f = 192;
    cpu.reg.h = 95;
    cpu.reg.l = 201;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[56901] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 85);
    CHECK(cpu.reg.b == 110);
    CHECK(cpu.reg.c == 138);
    CHECK(cpu.reg.d == 42);
    CHECK(cpu.reg.e == 222);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 95);
    CHECK(cpu.reg.l == 201);
    CHECK(cpu.pc == 56902);
    CHECK(cpu.sp == 15746);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56901] == 4);
}

TEST_CASE( "04 031C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14189;
    cpu.sp = 10271;
    cpu.reg.a = 14;
    cpu.reg.b = 215;
    cpu.reg.c = 193;
    cpu.reg.d = 86;
    cpu.reg.e = 231;
    cpu.reg.f = 144;
    cpu.reg.h = 61;
    cpu.reg.l = 139;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[14189] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 14);
    CHECK(cpu.reg.b == 216);
    CHECK(cpu.reg.c == 193);
    CHECK(cpu.reg.d == 86);
    CHECK(cpu.reg.e == 231);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 61);
    CHECK(cpu.reg.l == 139);
    CHECK(cpu.pc == 14190);
    CHECK(cpu.sp == 10271);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14189] == 4);
}

TEST_CASE( "04 031D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47756;
    cpu.sp = 16906;
    cpu.reg.a = 60;
    cpu.reg.b = 25;
    cpu.reg.c = 34;
    cpu.reg.d = 47;
    cpu.reg.e = 236;
    cpu.reg.f = 0;
    cpu.reg.h = 170;
    cpu.reg.l = 167;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47756] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 60);
    CHECK(cpu.reg.b == 26);
    CHECK(cpu.reg.c == 34);
    CHECK(cpu.reg.d == 47);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 170);
    CHECK(cpu.reg.l == 167);
    CHECK(cpu.pc == 47757);
    CHECK(cpu.sp == 16906);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47756] == 4);
}

TEST_CASE( "04 031E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8811;
    cpu.sp = 37693;
    cpu.reg.a = 141;
    cpu.reg.b = 233;
    cpu.reg.c = 68;
    cpu.reg.d = 139;
    cpu.reg.e = 147;
    cpu.reg.f = 224;
    cpu.reg.h = 37;
    cpu.reg.l = 117;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[8811] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 141);
    CHECK(cpu.reg.b == 234);
    CHECK(cpu.reg.c == 68);
    CHECK(cpu.reg.d == 139);
    CHECK(cpu.reg.e == 147);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 37);
    CHECK(cpu.reg.l == 117);
    CHECK(cpu.pc == 8812);
    CHECK(cpu.sp == 37693);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8811] == 4);
}

TEST_CASE( "04 031F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14755;
    cpu.sp = 19962;
    cpu.reg.a = 90;
    cpu.reg.b = 78;
    cpu.reg.c = 108;
    cpu.reg.d = 237;
    cpu.reg.e = 253;
    cpu.reg.f = 64;
    cpu.reg.h = 149;
    cpu.reg.l = 143;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[14755] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 90);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 108);
    CHECK(cpu.reg.d == 237);
    CHECK(cpu.reg.e == 253);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 149);
    CHECK(cpu.reg.l == 143);
    CHECK(cpu.pc == 14756);
    CHECK(cpu.sp == 19962);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14755] == 4);
}

TEST_CASE( "04 0320", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63044;
    cpu.sp = 5520;
    cpu.reg.a = 84;
    cpu.reg.b = 164;
    cpu.reg.c = 78;
    cpu.reg.d = 157;
    cpu.reg.e = 112;
    cpu.reg.f = 160;
    cpu.reg.h = 74;
    cpu.reg.l = 67;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[63044] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 84);
    CHECK(cpu.reg.b == 165);
    CHECK(cpu.reg.c == 78);
    CHECK(cpu.reg.d == 157);
    CHECK(cpu.reg.e == 112);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 74);
    CHECK(cpu.reg.l == 67);
    CHECK(cpu.pc == 63045);
    CHECK(cpu.sp == 5520);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[63044] == 4);
}

TEST_CASE( "04 0321", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29687;
    cpu.sp = 65096;
    cpu.reg.a = 223;
    cpu.reg.b = 72;
    cpu.reg.c = 249;
    cpu.reg.d = 181;
    cpu.reg.e = 158;
    cpu.reg.f = 192;
    cpu.reg.h = 120;
    cpu.reg.l = 245;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[29687] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 223);
    CHECK(cpu.reg.b == 73);
    CHECK(cpu.reg.c == 249);
    CHECK(cpu.reg.d == 181);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 120);
    CHECK(cpu.reg.l == 245);
    CHECK(cpu.pc == 29688);
    CHECK(cpu.sp == 65096);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29687] == 4);
}

TEST_CASE( "04 0322", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35304;
    cpu.sp = 32046;
    cpu.reg.a = 114;
    cpu.reg.b = 159;
    cpu.reg.c = 9;
    cpu.reg.d = 104;
    cpu.reg.e = 115;
    cpu.reg.f = 144;
    cpu.reg.h = 37;
    cpu.reg.l = 159;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[35304] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 114);
    CHECK(cpu.reg.b == 160);
    CHECK(cpu.reg.c == 9);
    CHECK(cpu.reg.d == 104);
    CHECK(cpu.reg.e == 115);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 37);
    CHECK(cpu.reg.l == 159);
    CHECK(cpu.pc == 35305);
    CHECK(cpu.sp == 32046);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35304] == 4);
}

TEST_CASE( "04 0323", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36149;
    cpu.sp = 56044;
    cpu.reg.a = 4;
    cpu.reg.b = 233;
    cpu.reg.c = 73;
    cpu.reg.d = 140;
    cpu.reg.e = 204;
    cpu.reg.f = 112;
    cpu.reg.h = 89;
    cpu.reg.l = 115;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[36149] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 4);
    CHECK(cpu.reg.b == 234);
    CHECK(cpu.reg.c == 73);
    CHECK(cpu.reg.d == 140);
    CHECK(cpu.reg.e == 204);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 89);
    CHECK(cpu.reg.l == 115);
    CHECK(cpu.pc == 36150);
    CHECK(cpu.sp == 56044);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36149] == 4);
}

TEST_CASE( "04 0324", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63004;
    cpu.sp = 16596;
    cpu.reg.a = 143;
    cpu.reg.b = 101;
    cpu.reg.c = 130;
    cpu.reg.d = 108;
    cpu.reg.e = 210;
    cpu.reg.f = 64;
    cpu.reg.h = 43;
    cpu.reg.l = 199;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[63004] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 143);
    CHECK(cpu.reg.b == 102);
    CHECK(cpu.reg.c == 130);
    CHECK(cpu.reg.d == 108);
    CHECK(cpu.reg.e == 210);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 43);
    CHECK(cpu.reg.l == 199);
    CHECK(cpu.pc == 63005);
    CHECK(cpu.sp == 16596);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[63004] == 4);
}

TEST_CASE( "04 0325", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8628;
    cpu.sp = 50753;
    cpu.reg.a = 96;
    cpu.reg.b = 231;
    cpu.reg.c = 119;
    cpu.reg.d = 185;
    cpu.reg.e = 43;
    cpu.reg.f = 32;
    cpu.reg.h = 52;
    cpu.reg.l = 78;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[8628] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 96);
    CHECK(cpu.reg.b == 232);
    CHECK(cpu.reg.c == 119);
    CHECK(cpu.reg.d == 185);
    CHECK(cpu.reg.e == 43);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 52);
    CHECK(cpu.reg.l == 78);
    CHECK(cpu.pc == 8629);
    CHECK(cpu.sp == 50753);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8628] == 4);
}

TEST_CASE( "04 0326", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43818;
    cpu.sp = 31666;
    cpu.reg.a = 72;
    cpu.reg.b = 48;
    cpu.reg.c = 39;
    cpu.reg.d = 140;
    cpu.reg.e = 127;
    cpu.reg.f = 32;
    cpu.reg.h = 192;
    cpu.reg.l = 107;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[43818] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 72);
    CHECK(cpu.reg.b == 49);
    CHECK(cpu.reg.c == 39);
    CHECK(cpu.reg.d == 140);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 192);
    CHECK(cpu.reg.l == 107);
    CHECK(cpu.pc == 43819);
    CHECK(cpu.sp == 31666);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[43818] == 4);
}

TEST_CASE( "04 0327", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25847;
    cpu.sp = 22792;
    cpu.reg.a = 56;
    cpu.reg.b = 35;
    cpu.reg.c = 146;
    cpu.reg.d = 106;
    cpu.reg.e = 23;
    cpu.reg.f = 32;
    cpu.reg.h = 16;
    cpu.reg.l = 166;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[25847] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 56);
    CHECK(cpu.reg.b == 36);
    CHECK(cpu.reg.c == 146);
    CHECK(cpu.reg.d == 106);
    CHECK(cpu.reg.e == 23);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 16);
    CHECK(cpu.reg.l == 166);
    CHECK(cpu.pc == 25848);
    CHECK(cpu.sp == 22792);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25847] == 4);
}

TEST_CASE( "04 0328", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56830;
    cpu.sp = 23596;
    cpu.reg.a = 32;
    cpu.reg.b = 237;
    cpu.reg.c = 237;
    cpu.reg.d = 52;
    cpu.reg.e = 223;
    cpu.reg.f = 128;
    cpu.reg.h = 121;
    cpu.reg.l = 74;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[56830] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 32);
    CHECK(cpu.reg.b == 238);
    CHECK(cpu.reg.c == 237);
    CHECK(cpu.reg.d == 52);
    CHECK(cpu.reg.e == 223);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 121);
    CHECK(cpu.reg.l == 74);
    CHECK(cpu.pc == 56831);
    CHECK(cpu.sp == 23596);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56830] == 4);
}

TEST_CASE( "04 0329", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28894;
    cpu.sp = 6765;
    cpu.reg.a = 190;
    cpu.reg.b = 0;
    cpu.reg.c = 30;
    cpu.reg.d = 58;
    cpu.reg.e = 241;
    cpu.reg.f = 208;
    cpu.reg.h = 80;
    cpu.reg.l = 154;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[28894] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 190);
    CHECK(cpu.reg.b == 1);
    CHECK(cpu.reg.c == 30);
    CHECK(cpu.reg.d == 58);
    CHECK(cpu.reg.e == 241);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 80);
    CHECK(cpu.reg.l == 154);
    CHECK(cpu.pc == 28895);
    CHECK(cpu.sp == 6765);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28894] == 4);
}

TEST_CASE( "04 032A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48366;
    cpu.sp = 58070;
    cpu.reg.a = 143;
    cpu.reg.b = 190;
    cpu.reg.c = 115;
    cpu.reg.d = 12;
    cpu.reg.e = 153;
    cpu.reg.f = 176;
    cpu.reg.h = 79;
    cpu.reg.l = 150;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[48366] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 143);
    CHECK(cpu.reg.b == 191);
    CHECK(cpu.reg.c == 115);
    CHECK(cpu.reg.d == 12);
    CHECK(cpu.reg.e == 153);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 79);
    CHECK(cpu.reg.l == 150);
    CHECK(cpu.pc == 48367);
    CHECK(cpu.sp == 58070);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48366] == 4);
}

TEST_CASE( "04 032B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40340;
    cpu.sp = 14790;
    cpu.reg.a = 212;
    cpu.reg.b = 221;
    cpu.reg.c = 141;
    cpu.reg.d = 184;
    cpu.reg.e = 215;
    cpu.reg.f = 16;
    cpu.reg.h = 179;
    cpu.reg.l = 200;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[40340] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 212);
    CHECK(cpu.reg.b == 222);
    CHECK(cpu.reg.c == 141);
    CHECK(cpu.reg.d == 184);
    CHECK(cpu.reg.e == 215);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 179);
    CHECK(cpu.reg.l == 200);
    CHECK(cpu.pc == 40341);
    CHECK(cpu.sp == 14790);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40340] == 4);
}

TEST_CASE( "04 032C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34370;
    cpu.sp = 5556;
    cpu.reg.a = 35;
    cpu.reg.b = 7;
    cpu.reg.c = 121;
    cpu.reg.d = 29;
    cpu.reg.e = 253;
    cpu.reg.f = 128;
    cpu.reg.h = 43;
    cpu.reg.l = 161;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[34370] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 35);
    CHECK(cpu.reg.b == 8);
    CHECK(cpu.reg.c == 121);
    CHECK(cpu.reg.d == 29);
    CHECK(cpu.reg.e == 253);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 43);
    CHECK(cpu.reg.l == 161);
    CHECK(cpu.pc == 34371);
    CHECK(cpu.sp == 5556);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34370] == 4);
}

TEST_CASE( "04 032D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55524;
    cpu.sp = 7669;
    cpu.reg.a = 231;
    cpu.reg.b = 236;
    cpu.reg.c = 22;
    cpu.reg.d = 188;
    cpu.reg.e = 47;
    cpu.reg.f = 112;
    cpu.reg.h = 238;
    cpu.reg.l = 49;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[55524] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 231);
    CHECK(cpu.reg.b == 237);
    CHECK(cpu.reg.c == 22);
    CHECK(cpu.reg.d == 188);
    CHECK(cpu.reg.e == 47);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 238);
    CHECK(cpu.reg.l == 49);
    CHECK(cpu.pc == 55525);
    CHECK(cpu.sp == 7669);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[55524] == 4);
}

TEST_CASE( "04 032E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23164;
    cpu.sp = 19750;
    cpu.reg.a = 33;
    cpu.reg.b = 107;
    cpu.reg.c = 131;
    cpu.reg.d = 109;
    cpu.reg.e = 186;
    cpu.reg.f = 208;
    cpu.reg.h = 15;
    cpu.reg.l = 245;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[23164] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 33);
    CHECK(cpu.reg.b == 108);
    CHECK(cpu.reg.c == 131);
    CHECK(cpu.reg.d == 109);
    CHECK(cpu.reg.e == 186);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 15);
    CHECK(cpu.reg.l == 245);
    CHECK(cpu.pc == 23165);
    CHECK(cpu.sp == 19750);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23164] == 4);
}

TEST_CASE( "04 032F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58723;
    cpu.sp = 41041;
    cpu.reg.a = 65;
    cpu.reg.b = 174;
    cpu.reg.c = 202;
    cpu.reg.d = 58;
    cpu.reg.e = 234;
    cpu.reg.f = 176;
    cpu.reg.h = 219;
    cpu.reg.l = 18;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[58723] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 65);
    CHECK(cpu.reg.b == 175);
    CHECK(cpu.reg.c == 202);
    CHECK(cpu.reg.d == 58);
    CHECK(cpu.reg.e == 234);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 219);
    CHECK(cpu.reg.l == 18);
    CHECK(cpu.pc == 58724);
    CHECK(cpu.sp == 41041);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58723] == 4);
}

TEST_CASE( "04 0330", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41453;
    cpu.sp = 19615;
    cpu.reg.a = 252;
    cpu.reg.b = 77;
    cpu.reg.c = 24;
    cpu.reg.d = 19;
    cpu.reg.e = 92;
    cpu.reg.f = 0;
    cpu.reg.h = 213;
    cpu.reg.l = 61;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[41453] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 252);
    CHECK(cpu.reg.b == 78);
    CHECK(cpu.reg.c == 24);
    CHECK(cpu.reg.d == 19);
    CHECK(cpu.reg.e == 92);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 213);
    CHECK(cpu.reg.l == 61);
    CHECK(cpu.pc == 41454);
    CHECK(cpu.sp == 19615);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41453] == 4);
}

TEST_CASE( "04 0331", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49428;
    cpu.sp = 53523;
    cpu.reg.a = 16;
    cpu.reg.b = 245;
    cpu.reg.c = 26;
    cpu.reg.d = 28;
    cpu.reg.e = 79;
    cpu.reg.f = 64;
    cpu.reg.h = 244;
    cpu.reg.l = 186;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[49428] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 16);
    CHECK(cpu.reg.b == 246);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 28);
    CHECK(cpu.reg.e == 79);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 244);
    CHECK(cpu.reg.l == 186);
    CHECK(cpu.pc == 49429);
    CHECK(cpu.sp == 53523);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49428] == 4);
}

TEST_CASE( "04 0332", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52288;
    cpu.sp = 4644;
    cpu.reg.a = 170;
    cpu.reg.b = 22;
    cpu.reg.c = 16;
    cpu.reg.d = 234;
    cpu.reg.e = 76;
    cpu.reg.f = 192;
    cpu.reg.h = 16;
    cpu.reg.l = 55;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[52288] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 170);
    CHECK(cpu.reg.b == 23);
    CHECK(cpu.reg.c == 16);
    CHECK(cpu.reg.d == 234);
    CHECK(cpu.reg.e == 76);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 16);
    CHECK(cpu.reg.l == 55);
    CHECK(cpu.pc == 52289);
    CHECK(cpu.sp == 4644);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[52288] == 4);
}

TEST_CASE( "04 0333", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36603;
    cpu.sp = 43458;
    cpu.reg.a = 225;
    cpu.reg.b = 93;
    cpu.reg.c = 157;
    cpu.reg.d = 145;
    cpu.reg.e = 211;
    cpu.reg.f = 192;
    cpu.reg.h = 31;
    cpu.reg.l = 63;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[36603] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 225);
    CHECK(cpu.reg.b == 94);
    CHECK(cpu.reg.c == 157);
    CHECK(cpu.reg.d == 145);
    CHECK(cpu.reg.e == 211);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 31);
    CHECK(cpu.reg.l == 63);
    CHECK(cpu.pc == 36604);
    CHECK(cpu.sp == 43458);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[36603] == 4);
}

TEST_CASE( "04 0334", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51012;
    cpu.sp = 44907;
    cpu.reg.a = 254;
    cpu.reg.b = 106;
    cpu.reg.c = 60;
    cpu.reg.d = 116;
    cpu.reg.e = 220;
    cpu.reg.f = 192;
    cpu.reg.h = 241;
    cpu.reg.l = 126;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[51012] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 107);
    CHECK(cpu.reg.c == 60);
    CHECK(cpu.reg.d == 116);
    CHECK(cpu.reg.e == 220);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 126);
    CHECK(cpu.pc == 51013);
    CHECK(cpu.sp == 44907);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[51012] == 4);
}

TEST_CASE( "04 0335", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9206;
    cpu.sp = 6801;
    cpu.reg.a = 99;
    cpu.reg.b = 41;
    cpu.reg.c = 137;
    cpu.reg.d = 124;
    cpu.reg.e = 220;
    cpu.reg.f = 64;
    cpu.reg.h = 75;
    cpu.reg.l = 22;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[9206] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 99);
    CHECK(cpu.reg.b == 42);
    CHECK(cpu.reg.c == 137);
    CHECK(cpu.reg.d == 124);
    CHECK(cpu.reg.e == 220);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 75);
    CHECK(cpu.reg.l == 22);
    CHECK(cpu.pc == 9207);
    CHECK(cpu.sp == 6801);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9206] == 4);
}

TEST_CASE( "04 0336", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25105;
    cpu.sp = 17804;
    cpu.reg.a = 101;
    cpu.reg.b = 24;
    cpu.reg.c = 77;
    cpu.reg.d = 225;
    cpu.reg.e = 163;
    cpu.reg.f = 192;
    cpu.reg.h = 213;
    cpu.reg.l = 40;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[25105] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 101);
    CHECK(cpu.reg.b == 25);
    CHECK(cpu.reg.c == 77);
    CHECK(cpu.reg.d == 225);
    CHECK(cpu.reg.e == 163);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 213);
    CHECK(cpu.reg.l == 40);
    CHECK(cpu.pc == 25106);
    CHECK(cpu.sp == 17804);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25105] == 4);
}

TEST_CASE( "04 0337", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34073;
    cpu.sp = 27114;
    cpu.reg.a = 155;
    cpu.reg.b = 218;
    cpu.reg.c = 70;
    cpu.reg.d = 96;
    cpu.reg.e = 44;
    cpu.reg.f = 224;
    cpu.reg.h = 251;
    cpu.reg.l = 158;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[34073] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 155);
    CHECK(cpu.reg.b == 219);
    CHECK(cpu.reg.c == 70);
    CHECK(cpu.reg.d == 96);
    CHECK(cpu.reg.e == 44);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 251);
    CHECK(cpu.reg.l == 158);
    CHECK(cpu.pc == 34074);
    CHECK(cpu.sp == 27114);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[34073] == 4);
}

TEST_CASE( "04 0338", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63626;
    cpu.sp = 39429;
    cpu.reg.a = 224;
    cpu.reg.b = 77;
    cpu.reg.c = 201;
    cpu.reg.d = 220;
    cpu.reg.e = 210;
    cpu.reg.f = 144;
    cpu.reg.h = 60;
    cpu.reg.l = 135;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[63626] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 78);
    CHECK(cpu.reg.c == 201);
    CHECK(cpu.reg.d == 220);
    CHECK(cpu.reg.e == 210);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 60);
    CHECK(cpu.reg.l == 135);
    CHECK(cpu.pc == 63627);
    CHECK(cpu.sp == 39429);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[63626] == 4);
}

TEST_CASE( "04 0339", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20316;
    cpu.sp = 6775;
    cpu.reg.a = 119;
    cpu.reg.b = 221;
    cpu.reg.c = 73;
    cpu.reg.d = 107;
    cpu.reg.e = 60;
    cpu.reg.f = 32;
    cpu.reg.h = 235;
    cpu.reg.l = 72;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[20316] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 119);
    CHECK(cpu.reg.b == 222);
    CHECK(cpu.reg.c == 73);
    CHECK(cpu.reg.d == 107);
    CHECK(cpu.reg.e == 60);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 235);
    CHECK(cpu.reg.l == 72);
    CHECK(cpu.pc == 20317);
    CHECK(cpu.sp == 6775);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[20316] == 4);
}

TEST_CASE( "04 033A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48832;
    cpu.sp = 21023;
    cpu.reg.a = 78;
    cpu.reg.b = 95;
    cpu.reg.c = 87;
    cpu.reg.d = 238;
    cpu.reg.e = 230;
    cpu.reg.f = 48;
    cpu.reg.h = 143;
    cpu.reg.l = 83;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[48832] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 78);
    CHECK(cpu.reg.b == 96);
    CHECK(cpu.reg.c == 87);
    CHECK(cpu.reg.d == 238);
    CHECK(cpu.reg.e == 230);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 143);
    CHECK(cpu.reg.l == 83);
    CHECK(cpu.pc == 48833);
    CHECK(cpu.sp == 21023);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48832] == 4);
}

TEST_CASE( "04 033B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42523;
    cpu.sp = 3655;
    cpu.reg.a = 225;
    cpu.reg.b = 7;
    cpu.reg.c = 57;
    cpu.reg.d = 125;
    cpu.reg.e = 138;
    cpu.reg.f = 64;
    cpu.reg.h = 110;
    cpu.reg.l = 195;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[42523] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 225);
    CHECK(cpu.reg.b == 8);
    CHECK(cpu.reg.c == 57);
    CHECK(cpu.reg.d == 125);
    CHECK(cpu.reg.e == 138);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 110);
    CHECK(cpu.reg.l == 195);
    CHECK(cpu.pc == 42524);
    CHECK(cpu.sp == 3655);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[42523] == 4);
}

TEST_CASE( "04 033C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15141;
    cpu.sp = 11204;
    cpu.reg.a = 114;
    cpu.reg.b = 212;
    cpu.reg.c = 117;
    cpu.reg.d = 165;
    cpu.reg.e = 46;
    cpu.reg.f = 0;
    cpu.reg.h = 14;
    cpu.reg.l = 169;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[15141] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 114);
    CHECK(cpu.reg.b == 213);
    CHECK(cpu.reg.c == 117);
    CHECK(cpu.reg.d == 165);
    CHECK(cpu.reg.e == 46);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 14);
    CHECK(cpu.reg.l == 169);
    CHECK(cpu.pc == 15142);
    CHECK(cpu.sp == 11204);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15141] == 4);
}

TEST_CASE( "04 033D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7626;
    cpu.sp = 62487;
    cpu.reg.a = 121;
    cpu.reg.b = 115;
    cpu.reg.c = 147;
    cpu.reg.d = 204;
    cpu.reg.e = 208;
    cpu.reg.f = 32;
    cpu.reg.h = 220;
    cpu.reg.l = 137;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[7626] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 121);
    CHECK(cpu.reg.b == 116);
    CHECK(cpu.reg.c == 147);
    CHECK(cpu.reg.d == 204);
    CHECK(cpu.reg.e == 208);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 220);
    CHECK(cpu.reg.l == 137);
    CHECK(cpu.pc == 7627);
    CHECK(cpu.sp == 62487);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7626] == 4);
}

TEST_CASE( "04 033E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28707;
    cpu.sp = 54003;
    cpu.reg.a = 235;
    cpu.reg.b = 212;
    cpu.reg.c = 236;
    cpu.reg.d = 173;
    cpu.reg.e = 170;
    cpu.reg.f = 64;
    cpu.reg.h = 233;
    cpu.reg.l = 39;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[28707] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 235);
    CHECK(cpu.reg.b == 213);
    CHECK(cpu.reg.c == 236);
    CHECK(cpu.reg.d == 173);
    CHECK(cpu.reg.e == 170);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 233);
    CHECK(cpu.reg.l == 39);
    CHECK(cpu.pc == 28708);
    CHECK(cpu.sp == 54003);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[28707] == 4);
}

TEST_CASE( "04 033F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4838;
    cpu.sp = 24884;
    cpu.reg.a = 7;
    cpu.reg.b = 230;
    cpu.reg.c = 224;
    cpu.reg.d = 24;
    cpu.reg.e = 176;
    cpu.reg.f = 80;
    cpu.reg.h = 239;
    cpu.reg.l = 53;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[4838] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 7);
    CHECK(cpu.reg.b == 231);
    CHECK(cpu.reg.c == 224);
    CHECK(cpu.reg.d == 24);
    CHECK(cpu.reg.e == 176);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 239);
    CHECK(cpu.reg.l == 53);
    CHECK(cpu.pc == 4839);
    CHECK(cpu.sp == 24884);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4838] == 4);
}

TEST_CASE( "04 0340", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15705;
    cpu.sp = 44594;
    cpu.reg.a = 208;
    cpu.reg.b = 202;
    cpu.reg.c = 164;
    cpu.reg.d = 81;
    cpu.reg.e = 194;
    cpu.reg.f = 112;
    cpu.reg.h = 107;
    cpu.reg.l = 80;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[15705] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 208);
    CHECK(cpu.reg.b == 203);
    CHECK(cpu.reg.c == 164);
    CHECK(cpu.reg.d == 81);
    CHECK(cpu.reg.e == 194);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 107);
    CHECK(cpu.reg.l == 80);
    CHECK(cpu.pc == 15706);
    CHECK(cpu.sp == 44594);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15705] == 4);
}

TEST_CASE( "04 0341", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42278;
    cpu.sp = 43156;
    cpu.reg.a = 218;
    cpu.reg.b = 39;
    cpu.reg.c = 110;
    cpu.reg.d = 36;
    cpu.reg.e = 164;
    cpu.reg.f = 16;
    cpu.reg.h = 182;
    cpu.reg.l = 14;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[42278] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 218);
    CHECK(cpu.reg.b == 40);
    CHECK(cpu.reg.c == 110);
    CHECK(cpu.reg.d == 36);
    CHECK(cpu.reg.e == 164);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 182);
    CHECK(cpu.reg.l == 14);
    CHECK(cpu.pc == 42279);
    CHECK(cpu.sp == 43156);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[42278] == 4);
}

TEST_CASE( "04 0342", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41140;
    cpu.sp = 9956;
    cpu.reg.a = 246;
    cpu.reg.b = 155;
    cpu.reg.c = 237;
    cpu.reg.d = 146;
    cpu.reg.e = 56;
    cpu.reg.f = 32;
    cpu.reg.h = 38;
    cpu.reg.l = 105;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[41140] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 246);
    CHECK(cpu.reg.b == 156);
    CHECK(cpu.reg.c == 237);
    CHECK(cpu.reg.d == 146);
    CHECK(cpu.reg.e == 56);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 38);
    CHECK(cpu.reg.l == 105);
    CHECK(cpu.pc == 41141);
    CHECK(cpu.sp == 9956);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[41140] == 4);
}

TEST_CASE( "04 0343", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53542;
    cpu.sp = 42482;
    cpu.reg.a = 112;
    cpu.reg.b = 64;
    cpu.reg.c = 165;
    cpu.reg.d = 222;
    cpu.reg.e = 68;
    cpu.reg.f = 224;
    cpu.reg.h = 196;
    cpu.reg.l = 127;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[53542] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 112);
    CHECK(cpu.reg.b == 65);
    CHECK(cpu.reg.c == 165);
    CHECK(cpu.reg.d == 222);
    CHECK(cpu.reg.e == 68);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 196);
    CHECK(cpu.reg.l == 127);
    CHECK(cpu.pc == 53543);
    CHECK(cpu.sp == 42482);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[53542] == 4);
}

TEST_CASE( "04 0344", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55852;
    cpu.sp = 27141;
    cpu.reg.a = 162;
    cpu.reg.b = 170;
    cpu.reg.c = 11;
    cpu.reg.d = 234;
    cpu.reg.e = 40;
    cpu.reg.f = 96;
    cpu.reg.h = 118;
    cpu.reg.l = 227;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[55852] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 162);
    CHECK(cpu.reg.b == 171);
    CHECK(cpu.reg.c == 11);
    CHECK(cpu.reg.d == 234);
    CHECK(cpu.reg.e == 40);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 118);
    CHECK(cpu.reg.l == 227);
    CHECK(cpu.pc == 55853);
    CHECK(cpu.sp == 27141);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55852] == 4);
}

TEST_CASE( "04 0345", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25328;
    cpu.sp = 8242;
    cpu.reg.a = 12;
    cpu.reg.b = 18;
    cpu.reg.c = 51;
    cpu.reg.d = 190;
    cpu.reg.e = 73;
    cpu.reg.f = 80;
    cpu.reg.h = 57;
    cpu.reg.l = 145;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[25328] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 12);
    CHECK(cpu.reg.b == 19);
    CHECK(cpu.reg.c == 51);
    CHECK(cpu.reg.d == 190);
    CHECK(cpu.reg.e == 73);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 57);
    CHECK(cpu.reg.l == 145);
    CHECK(cpu.pc == 25329);
    CHECK(cpu.sp == 8242);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25328] == 4);
}

TEST_CASE( "04 0346", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33237;
    cpu.sp = 17596;
    cpu.reg.a = 204;
    cpu.reg.b = 180;
    cpu.reg.c = 26;
    cpu.reg.d = 223;
    cpu.reg.e = 120;
    cpu.reg.f = 96;
    cpu.reg.h = 184;
    cpu.reg.l = 115;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[33237] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 204);
    CHECK(cpu.reg.b == 181);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 223);
    CHECK(cpu.reg.e == 120);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 184);
    CHECK(cpu.reg.l == 115);
    CHECK(cpu.pc == 33238);
    CHECK(cpu.sp == 17596);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33237] == 4);
}

TEST_CASE( "04 0347", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53684;
    cpu.sp = 1082;
    cpu.reg.a = 247;
    cpu.reg.b = 254;
    cpu.reg.c = 81;
    cpu.reg.d = 112;
    cpu.reg.e = 180;
    cpu.reg.f = 80;
    cpu.reg.h = 237;
    cpu.reg.l = 216;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[53684] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 247);
    CHECK(cpu.reg.b == 255);
    CHECK(cpu.reg.c == 81);
    CHECK(cpu.reg.d == 112);
    CHECK(cpu.reg.e == 180);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 237);
    CHECK(cpu.reg.l == 216);
    CHECK(cpu.pc == 53685);
    CHECK(cpu.sp == 1082);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[53684] == 4);
}

TEST_CASE( "04 0348", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44254;
    cpu.sp = 57267;
    cpu.reg.a = 217;
    cpu.reg.b = 110;
    cpu.reg.c = 109;
    cpu.reg.d = 50;
    cpu.reg.e = 46;
    cpu.reg.f = 32;
    cpu.reg.h = 238;
    cpu.reg.l = 76;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[44254] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 217);
    CHECK(cpu.reg.b == 111);
    CHECK(cpu.reg.c == 109);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 46);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 238);
    CHECK(cpu.reg.l == 76);
    CHECK(cpu.pc == 44255);
    CHECK(cpu.sp == 57267);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44254] == 4);
}

TEST_CASE( "04 0349", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29405;
    cpu.sp = 60609;
    cpu.reg.a = 53;
    cpu.reg.b = 62;
    cpu.reg.c = 127;
    cpu.reg.d = 156;
    cpu.reg.e = 220;
    cpu.reg.f = 176;
    cpu.reg.h = 95;
    cpu.reg.l = 13;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[29405] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 53);
    CHECK(cpu.reg.b == 63);
    CHECK(cpu.reg.c == 127);
    CHECK(cpu.reg.d == 156);
    CHECK(cpu.reg.e == 220);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 95);
    CHECK(cpu.reg.l == 13);
    CHECK(cpu.pc == 29406);
    CHECK(cpu.sp == 60609);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[29405] == 4);
}

TEST_CASE( "04 034A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 751;
    cpu.sp = 37721;
    cpu.reg.a = 236;
    cpu.reg.b = 81;
    cpu.reg.c = 50;
    cpu.reg.d = 35;
    cpu.reg.e = 175;
    cpu.reg.f = 160;
    cpu.reg.h = 206;
    cpu.reg.l = 31;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[751] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 236);
    CHECK(cpu.reg.b == 82);
    CHECK(cpu.reg.c == 50);
    CHECK(cpu.reg.d == 35);
    CHECK(cpu.reg.e == 175);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 206);
    CHECK(cpu.reg.l == 31);
    CHECK(cpu.pc == 752);
    CHECK(cpu.sp == 37721);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[751] == 4);
}

TEST_CASE( "04 034B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31774;
    cpu.sp = 17673;
    cpu.reg.a = 110;
    cpu.reg.b = 190;
    cpu.reg.c = 93;
    cpu.reg.d = 160;
    cpu.reg.e = 69;
    cpu.reg.f = 0;
    cpu.reg.h = 24;
    cpu.reg.l = 226;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[31774] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 110);
    CHECK(cpu.reg.b == 191);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 160);
    CHECK(cpu.reg.e == 69);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 24);
    CHECK(cpu.reg.l == 226);
    CHECK(cpu.pc == 31775);
    CHECK(cpu.sp == 17673);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31774] == 4);
}

TEST_CASE( "04 034C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63828;
    cpu.sp = 19692;
    cpu.reg.a = 84;
    cpu.reg.b = 109;
    cpu.reg.c = 253;
    cpu.reg.d = 134;
    cpu.reg.e = 59;
    cpu.reg.f = 144;
    cpu.reg.h = 16;
    cpu.reg.l = 103;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[63828] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 84);
    CHECK(cpu.reg.b == 110);
    CHECK(cpu.reg.c == 253);
    CHECK(cpu.reg.d == 134);
    CHECK(cpu.reg.e == 59);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 16);
    CHECK(cpu.reg.l == 103);
    CHECK(cpu.pc == 63829);
    CHECK(cpu.sp == 19692);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[63828] == 4);
}

TEST_CASE( "04 034D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16823;
    cpu.sp = 1108;
    cpu.reg.a = 123;
    cpu.reg.b = 85;
    cpu.reg.c = 200;
    cpu.reg.d = 168;
    cpu.reg.e = 33;
    cpu.reg.f = 128;
    cpu.reg.h = 233;
    cpu.reg.l = 3;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[16823] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 123);
    CHECK(cpu.reg.b == 86);
    CHECK(cpu.reg.c == 200);
    CHECK(cpu.reg.d == 168);
    CHECK(cpu.reg.e == 33);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 233);
    CHECK(cpu.reg.l == 3);
    CHECK(cpu.pc == 16824);
    CHECK(cpu.sp == 1108);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16823] == 4);
}

TEST_CASE( "04 034E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16085;
    cpu.sp = 29945;
    cpu.reg.a = 235;
    cpu.reg.b = 82;
    cpu.reg.c = 255;
    cpu.reg.d = 18;
    cpu.reg.e = 162;
    cpu.reg.f = 16;
    cpu.reg.h = 192;
    cpu.reg.l = 75;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[16085] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 235);
    CHECK(cpu.reg.b == 83);
    CHECK(cpu.reg.c == 255);
    CHECK(cpu.reg.d == 18);
    CHECK(cpu.reg.e == 162);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 192);
    CHECK(cpu.reg.l == 75);
    CHECK(cpu.pc == 16086);
    CHECK(cpu.sp == 29945);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16085] == 4);
}

TEST_CASE( "04 034F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61799;
    cpu.sp = 27820;
    cpu.reg.a = 237;
    cpu.reg.b = 107;
    cpu.reg.c = 9;
    cpu.reg.d = 72;
    cpu.reg.e = 175;
    cpu.reg.f = 224;
    cpu.reg.h = 227;
    cpu.reg.l = 40;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[61799] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 237);
    CHECK(cpu.reg.b == 108);
    CHECK(cpu.reg.c == 9);
    CHECK(cpu.reg.d == 72);
    CHECK(cpu.reg.e == 175);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 40);
    CHECK(cpu.pc == 61800);
    CHECK(cpu.sp == 27820);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61799] == 4);
}

TEST_CASE( "04 0350", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28694;
    cpu.sp = 8781;
    cpu.reg.a = 66;
    cpu.reg.b = 135;
    cpu.reg.c = 200;
    cpu.reg.d = 216;
    cpu.reg.e = 219;
    cpu.reg.f = 0;
    cpu.reg.h = 9;
    cpu.reg.l = 89;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[28694] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 66);
    CHECK(cpu.reg.b == 136);
    CHECK(cpu.reg.c == 200);
    CHECK(cpu.reg.d == 216);
    CHECK(cpu.reg.e == 219);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 9);
    CHECK(cpu.reg.l == 89);
    CHECK(cpu.pc == 28695);
    CHECK(cpu.sp == 8781);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28694] == 4);
}

TEST_CASE( "04 0351", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62131;
    cpu.sp = 10452;
    cpu.reg.a = 228;
    cpu.reg.b = 36;
    cpu.reg.c = 72;
    cpu.reg.d = 214;
    cpu.reg.e = 54;
    cpu.reg.f = 192;
    cpu.reg.h = 145;
    cpu.reg.l = 190;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[62131] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 228);
    CHECK(cpu.reg.b == 37);
    CHECK(cpu.reg.c == 72);
    CHECK(cpu.reg.d == 214);
    CHECK(cpu.reg.e == 54);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 145);
    CHECK(cpu.reg.l == 190);
    CHECK(cpu.pc == 62132);
    CHECK(cpu.sp == 10452);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62131] == 4);
}

TEST_CASE( "04 0352", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22225;
    cpu.sp = 52251;
    cpu.reg.a = 176;
    cpu.reg.b = 199;
    cpu.reg.c = 109;
    cpu.reg.d = 62;
    cpu.reg.e = 1;
    cpu.reg.f = 64;
    cpu.reg.h = 163;
    cpu.reg.l = 34;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[22225] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 176);
    CHECK(cpu.reg.b == 200);
    CHECK(cpu.reg.c == 109);
    CHECK(cpu.reg.d == 62);
    CHECK(cpu.reg.e == 1);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 163);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 22226);
    CHECK(cpu.sp == 52251);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22225] == 4);
}

TEST_CASE( "04 0353", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45235;
    cpu.sp = 46407;
    cpu.reg.a = 8;
    cpu.reg.b = 187;
    cpu.reg.c = 151;
    cpu.reg.d = 189;
    cpu.reg.e = 155;
    cpu.reg.f = 32;
    cpu.reg.h = 168;
    cpu.reg.l = 15;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[45235] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 8);
    CHECK(cpu.reg.b == 188);
    CHECK(cpu.reg.c == 151);
    CHECK(cpu.reg.d == 189);
    CHECK(cpu.reg.e == 155);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 168);
    CHECK(cpu.reg.l == 15);
    CHECK(cpu.pc == 45236);
    CHECK(cpu.sp == 46407);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45235] == 4);
}

TEST_CASE( "04 0354", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 884;
    cpu.sp = 28874;
    cpu.reg.a = 123;
    cpu.reg.b = 130;
    cpu.reg.c = 156;
    cpu.reg.d = 231;
    cpu.reg.e = 96;
    cpu.reg.f = 48;
    cpu.reg.h = 74;
    cpu.reg.l = 3;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[884] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 123);
    CHECK(cpu.reg.b == 131);
    CHECK(cpu.reg.c == 156);
    CHECK(cpu.reg.d == 231);
    CHECK(cpu.reg.e == 96);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 74);
    CHECK(cpu.reg.l == 3);
    CHECK(cpu.pc == 885);
    CHECK(cpu.sp == 28874);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[884] == 4);
}

TEST_CASE( "04 0355", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27464;
    cpu.sp = 28397;
    cpu.reg.a = 91;
    cpu.reg.b = 110;
    cpu.reg.c = 203;
    cpu.reg.d = 60;
    cpu.reg.e = 9;
    cpu.reg.f = 16;
    cpu.reg.h = 250;
    cpu.reg.l = 77;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[27464] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 91);
    CHECK(cpu.reg.b == 111);
    CHECK(cpu.reg.c == 203);
    CHECK(cpu.reg.d == 60);
    CHECK(cpu.reg.e == 9);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 250);
    CHECK(cpu.reg.l == 77);
    CHECK(cpu.pc == 27465);
    CHECK(cpu.sp == 28397);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27464] == 4);
}

TEST_CASE( "04 0356", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5490;
    cpu.sp = 58810;
    cpu.reg.a = 208;
    cpu.reg.b = 237;
    cpu.reg.c = 12;
    cpu.reg.d = 181;
    cpu.reg.e = 217;
    cpu.reg.f = 160;
    cpu.reg.h = 196;
    cpu.reg.l = 89;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[5490] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 208);
    CHECK(cpu.reg.b == 238);
    CHECK(cpu.reg.c == 12);
    CHECK(cpu.reg.d == 181);
    CHECK(cpu.reg.e == 217);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 196);
    CHECK(cpu.reg.l == 89);
    CHECK(cpu.pc == 5491);
    CHECK(cpu.sp == 58810);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5490] == 4);
}

TEST_CASE( "04 0357", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11557;
    cpu.sp = 12197;
    cpu.reg.a = 255;
    cpu.reg.b = 12;
    cpu.reg.c = 118;
    cpu.reg.d = 144;
    cpu.reg.e = 212;
    cpu.reg.f = 112;
    cpu.reg.h = 82;
    cpu.reg.l = 77;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[11557] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 255);
    CHECK(cpu.reg.b == 13);
    CHECK(cpu.reg.c == 118);
    CHECK(cpu.reg.d == 144);
    CHECK(cpu.reg.e == 212);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 82);
    CHECK(cpu.reg.l == 77);
    CHECK(cpu.pc == 11558);
    CHECK(cpu.sp == 12197);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11557] == 4);
}

TEST_CASE( "04 0358", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65019;
    cpu.sp = 27079;
    cpu.reg.a = 135;
    cpu.reg.b = 18;
    cpu.reg.c = 195;
    cpu.reg.d = 241;
    cpu.reg.e = 92;
    cpu.reg.f = 224;
    cpu.reg.h = 180;
    cpu.reg.l = 145;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[65019] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 135);
    CHECK(cpu.reg.b == 19);
    CHECK(cpu.reg.c == 195);
    CHECK(cpu.reg.d == 241);
    CHECK(cpu.reg.e == 92);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 180);
    CHECK(cpu.reg.l == 145);
    CHECK(cpu.pc == 65020);
    CHECK(cpu.sp == 27079);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[65019] == 4);
}

TEST_CASE( "04 0359", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54930;
    cpu.sp = 49399;
    cpu.reg.a = 105;
    cpu.reg.b = 169;
    cpu.reg.c = 205;
    cpu.reg.d = 3;
    cpu.reg.e = 24;
    cpu.reg.f = 160;
    cpu.reg.h = 94;
    cpu.reg.l = 111;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[54930] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 105);
    CHECK(cpu.reg.b == 170);
    CHECK(cpu.reg.c == 205);
    CHECK(cpu.reg.d == 3);
    CHECK(cpu.reg.e == 24);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 94);
    CHECK(cpu.reg.l == 111);
    CHECK(cpu.pc == 54931);
    CHECK(cpu.sp == 49399);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54930] == 4);
}

TEST_CASE( "04 035A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11277;
    cpu.sp = 56408;
    cpu.reg.a = 79;
    cpu.reg.b = 212;
    cpu.reg.c = 81;
    cpu.reg.d = 37;
    cpu.reg.e = 166;
    cpu.reg.f = 144;
    cpu.reg.h = 236;
    cpu.reg.l = 207;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[11277] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 79);
    CHECK(cpu.reg.b == 213);
    CHECK(cpu.reg.c == 81);
    CHECK(cpu.reg.d == 37);
    CHECK(cpu.reg.e == 166);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 236);
    CHECK(cpu.reg.l == 207);
    CHECK(cpu.pc == 11278);
    CHECK(cpu.sp == 56408);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11277] == 4);
}

TEST_CASE( "04 035B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40522;
    cpu.sp = 29482;
    cpu.reg.a = 128;
    cpu.reg.b = 127;
    cpu.reg.c = 107;
    cpu.reg.d = 195;
    cpu.reg.e = 44;
    cpu.reg.f = 48;
    cpu.reg.h = 230;
    cpu.reg.l = 147;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[40522] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 128);
    CHECK(cpu.reg.b == 128);
    CHECK(cpu.reg.c == 107);
    CHECK(cpu.reg.d == 195);
    CHECK(cpu.reg.e == 44);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 230);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 40523);
    CHECK(cpu.sp == 29482);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40522] == 4);
}

TEST_CASE( "04 035C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13326;
    cpu.sp = 15812;
    cpu.reg.a = 151;
    cpu.reg.b = 86;
    cpu.reg.c = 138;
    cpu.reg.d = 60;
    cpu.reg.e = 132;
    cpu.reg.f = 96;
    cpu.reg.h = 104;
    cpu.reg.l = 115;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[13326] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 151);
    CHECK(cpu.reg.b == 87);
    CHECK(cpu.reg.c == 138);
    CHECK(cpu.reg.d == 60);
    CHECK(cpu.reg.e == 132);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 104);
    CHECK(cpu.reg.l == 115);
    CHECK(cpu.pc == 13327);
    CHECK(cpu.sp == 15812);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13326] == 4);
}

TEST_CASE( "04 035D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12392;
    cpu.sp = 55683;
    cpu.reg.a = 23;
    cpu.reg.b = 35;
    cpu.reg.c = 42;
    cpu.reg.d = 69;
    cpu.reg.e = 222;
    cpu.reg.f = 48;
    cpu.reg.h = 102;
    cpu.reg.l = 242;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[12392] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 23);
    CHECK(cpu.reg.b == 36);
    CHECK(cpu.reg.c == 42);
    CHECK(cpu.reg.d == 69);
    CHECK(cpu.reg.e == 222);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 102);
    CHECK(cpu.reg.l == 242);
    CHECK(cpu.pc == 12393);
    CHECK(cpu.sp == 55683);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12392] == 4);
}

TEST_CASE( "04 035E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21109;
    cpu.sp = 50404;
    cpu.reg.a = 78;
    cpu.reg.b = 87;
    cpu.reg.c = 91;
    cpu.reg.d = 91;
    cpu.reg.e = 231;
    cpu.reg.f = 192;
    cpu.reg.h = 166;
    cpu.reg.l = 161;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[21109] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 78);
    CHECK(cpu.reg.b == 88);
    CHECK(cpu.reg.c == 91);
    CHECK(cpu.reg.d == 91);
    CHECK(cpu.reg.e == 231);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 166);
    CHECK(cpu.reg.l == 161);
    CHECK(cpu.pc == 21110);
    CHECK(cpu.sp == 50404);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21109] == 4);
}

TEST_CASE( "04 035F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28587;
    cpu.sp = 32791;
    cpu.reg.a = 222;
    cpu.reg.b = 84;
    cpu.reg.c = 72;
    cpu.reg.d = 228;
    cpu.reg.e = 22;
    cpu.reg.f = 160;
    cpu.reg.h = 217;
    cpu.reg.l = 101;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[28587] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 222);
    CHECK(cpu.reg.b == 85);
    CHECK(cpu.reg.c == 72);
    CHECK(cpu.reg.d == 228);
    CHECK(cpu.reg.e == 22);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 217);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 28588);
    CHECK(cpu.sp == 32791);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[28587] == 4);
}

TEST_CASE( "04 0360", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36064;
    cpu.sp = 18967;
    cpu.reg.a = 240;
    cpu.reg.b = 128;
    cpu.reg.c = 93;
    cpu.reg.d = 10;
    cpu.reg.e = 231;
    cpu.reg.f = 0;
    cpu.reg.h = 24;
    cpu.reg.l = 220;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[36064] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 240);
    CHECK(cpu.reg.b == 129);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 10);
    CHECK(cpu.reg.e == 231);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 24);
    CHECK(cpu.reg.l == 220);
    CHECK(cpu.pc == 36065);
    CHECK(cpu.sp == 18967);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36064] == 4);
}

TEST_CASE( "04 0361", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35160;
    cpu.sp = 9142;
    cpu.reg.a = 237;
    cpu.reg.b = 135;
    cpu.reg.c = 60;
    cpu.reg.d = 25;
    cpu.reg.e = 228;
    cpu.reg.f = 48;
    cpu.reg.h = 20;
    cpu.reg.l = 252;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[35160] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 237);
    CHECK(cpu.reg.b == 136);
    CHECK(cpu.reg.c == 60);
    CHECK(cpu.reg.d == 25);
    CHECK(cpu.reg.e == 228);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 20);
    CHECK(cpu.reg.l == 252);
    CHECK(cpu.pc == 35161);
    CHECK(cpu.sp == 9142);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35160] == 4);
}

TEST_CASE( "04 0362", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48307;
    cpu.sp = 6251;
    cpu.reg.a = 126;
    cpu.reg.b = 167;
    cpu.reg.c = 230;
    cpu.reg.d = 4;
    cpu.reg.e = 222;
    cpu.reg.f = 16;
    cpu.reg.h = 38;
    cpu.reg.l = 115;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[48307] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 126);
    CHECK(cpu.reg.b == 168);
    CHECK(cpu.reg.c == 230);
    CHECK(cpu.reg.d == 4);
    CHECK(cpu.reg.e == 222);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 38);
    CHECK(cpu.reg.l == 115);
    CHECK(cpu.pc == 48308);
    CHECK(cpu.sp == 6251);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[48307] == 4);
}

TEST_CASE( "04 0363", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19857;
    cpu.sp = 28014;
    cpu.reg.a = 21;
    cpu.reg.b = 3;
    cpu.reg.c = 193;
    cpu.reg.d = 80;
    cpu.reg.e = 70;
    cpu.reg.f = 240;
    cpu.reg.h = 32;
    cpu.reg.l = 100;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[19857] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 21);
    CHECK(cpu.reg.b == 4);
    CHECK(cpu.reg.c == 193);
    CHECK(cpu.reg.d == 80);
    CHECK(cpu.reg.e == 70);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 32);
    CHECK(cpu.reg.l == 100);
    CHECK(cpu.pc == 19858);
    CHECK(cpu.sp == 28014);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19857] == 4);
}

TEST_CASE( "04 0364", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27293;
    cpu.sp = 34447;
    cpu.reg.a = 58;
    cpu.reg.b = 141;
    cpu.reg.c = 212;
    cpu.reg.d = 88;
    cpu.reg.e = 68;
    cpu.reg.f = 208;
    cpu.reg.h = 40;
    cpu.reg.l = 190;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[27293] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 58);
    CHECK(cpu.reg.b == 142);
    CHECK(cpu.reg.c == 212);
    CHECK(cpu.reg.d == 88);
    CHECK(cpu.reg.e == 68);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 40);
    CHECK(cpu.reg.l == 190);
    CHECK(cpu.pc == 27294);
    CHECK(cpu.sp == 34447);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27293] == 4);
}

TEST_CASE( "04 0365", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62126;
    cpu.sp = 28513;
    cpu.reg.a = 76;
    cpu.reg.b = 176;
    cpu.reg.c = 144;
    cpu.reg.d = 245;
    cpu.reg.e = 180;
    cpu.reg.f = 16;
    cpu.reg.h = 62;
    cpu.reg.l = 157;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[62126] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 76);
    CHECK(cpu.reg.b == 177);
    CHECK(cpu.reg.c == 144);
    CHECK(cpu.reg.d == 245);
    CHECK(cpu.reg.e == 180);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 62);
    CHECK(cpu.reg.l == 157);
    CHECK(cpu.pc == 62127);
    CHECK(cpu.sp == 28513);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62126] == 4);
}

TEST_CASE( "04 0366", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11309;
    cpu.sp = 14540;
    cpu.reg.a = 148;
    cpu.reg.b = 223;
    cpu.reg.c = 122;
    cpu.reg.d = 16;
    cpu.reg.e = 95;
    cpu.reg.f = 160;
    cpu.reg.h = 143;
    cpu.reg.l = 133;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[11309] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 148);
    CHECK(cpu.reg.b == 224);
    CHECK(cpu.reg.c == 122);
    CHECK(cpu.reg.d == 16);
    CHECK(cpu.reg.e == 95);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 143);
    CHECK(cpu.reg.l == 133);
    CHECK(cpu.pc == 11310);
    CHECK(cpu.sp == 14540);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11309] == 4);
}

TEST_CASE( "04 0367", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4828;
    cpu.sp = 31992;
    cpu.reg.a = 150;
    cpu.reg.b = 44;
    cpu.reg.c = 235;
    cpu.reg.d = 108;
    cpu.reg.e = 73;
    cpu.reg.f = 144;
    cpu.reg.h = 168;
    cpu.reg.l = 213;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[4828] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 150);
    CHECK(cpu.reg.b == 45);
    CHECK(cpu.reg.c == 235);
    CHECK(cpu.reg.d == 108);
    CHECK(cpu.reg.e == 73);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 168);
    CHECK(cpu.reg.l == 213);
    CHECK(cpu.pc == 4829);
    CHECK(cpu.sp == 31992);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4828] == 4);
}

TEST_CASE( "04 0368", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13871;
    cpu.sp = 39686;
    cpu.reg.a = 154;
    cpu.reg.b = 134;
    cpu.reg.c = 95;
    cpu.reg.d = 58;
    cpu.reg.e = 65;
    cpu.reg.f = 224;
    cpu.reg.h = 139;
    cpu.reg.l = 28;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[13871] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 154);
    CHECK(cpu.reg.b == 135);
    CHECK(cpu.reg.c == 95);
    CHECK(cpu.reg.d == 58);
    CHECK(cpu.reg.e == 65);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 139);
    CHECK(cpu.reg.l == 28);
    CHECK(cpu.pc == 13872);
    CHECK(cpu.sp == 39686);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13871] == 4);
}

TEST_CASE( "04 0369", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45093;
    cpu.sp = 3739;
    cpu.reg.a = 25;
    cpu.reg.b = 193;
    cpu.reg.c = 194;
    cpu.reg.d = 179;
    cpu.reg.e = 112;
    cpu.reg.f = 112;
    cpu.reg.h = 11;
    cpu.reg.l = 152;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[45093] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 25);
    CHECK(cpu.reg.b == 194);
    CHECK(cpu.reg.c == 194);
    CHECK(cpu.reg.d == 179);
    CHECK(cpu.reg.e == 112);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 11);
    CHECK(cpu.reg.l == 152);
    CHECK(cpu.pc == 45094);
    CHECK(cpu.sp == 3739);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45093] == 4);
}

TEST_CASE( "04 036A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57057;
    cpu.sp = 44157;
    cpu.reg.a = 247;
    cpu.reg.b = 189;
    cpu.reg.c = 232;
    cpu.reg.d = 69;
    cpu.reg.e = 204;
    cpu.reg.f = 16;
    cpu.reg.h = 222;
    cpu.reg.l = 15;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[57057] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 247);
    CHECK(cpu.reg.b == 190);
    CHECK(cpu.reg.c == 232);
    CHECK(cpu.reg.d == 69);
    CHECK(cpu.reg.e == 204);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 222);
    CHECK(cpu.reg.l == 15);
    CHECK(cpu.pc == 57058);
    CHECK(cpu.sp == 44157);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[57057] == 4);
}

TEST_CASE( "04 036B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32956;
    cpu.sp = 43693;
    cpu.reg.a = 207;
    cpu.reg.b = 138;
    cpu.reg.c = 24;
    cpu.reg.d = 135;
    cpu.reg.e = 92;
    cpu.reg.f = 208;
    cpu.reg.h = 6;
    cpu.reg.l = 82;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[32956] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 207);
    CHECK(cpu.reg.b == 139);
    CHECK(cpu.reg.c == 24);
    CHECK(cpu.reg.d == 135);
    CHECK(cpu.reg.e == 92);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 6);
    CHECK(cpu.reg.l == 82);
    CHECK(cpu.pc == 32957);
    CHECK(cpu.sp == 43693);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32956] == 4);
}

TEST_CASE( "04 036C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39284;
    cpu.sp = 16768;
    cpu.reg.a = 80;
    cpu.reg.b = 183;
    cpu.reg.c = 235;
    cpu.reg.d = 41;
    cpu.reg.e = 122;
    cpu.reg.f = 64;
    cpu.reg.h = 180;
    cpu.reg.l = 233;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[39284] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 80);
    CHECK(cpu.reg.b == 184);
    CHECK(cpu.reg.c == 235);
    CHECK(cpu.reg.d == 41);
    CHECK(cpu.reg.e == 122);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 180);
    CHECK(cpu.reg.l == 233);
    CHECK(cpu.pc == 39285);
    CHECK(cpu.sp == 16768);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39284] == 4);
}

TEST_CASE( "04 036D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19352;
    cpu.sp = 14769;
    cpu.reg.a = 7;
    cpu.reg.b = 240;
    cpu.reg.c = 229;
    cpu.reg.d = 111;
    cpu.reg.e = 121;
    cpu.reg.f = 160;
    cpu.reg.h = 233;
    cpu.reg.l = 124;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[19352] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 7);
    CHECK(cpu.reg.b == 241);
    CHECK(cpu.reg.c == 229);
    CHECK(cpu.reg.d == 111);
    CHECK(cpu.reg.e == 121);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 233);
    CHECK(cpu.reg.l == 124);
    CHECK(cpu.pc == 19353);
    CHECK(cpu.sp == 14769);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19352] == 4);
}

TEST_CASE( "04 036E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38713;
    cpu.sp = 24512;
    cpu.reg.a = 108;
    cpu.reg.b = 97;
    cpu.reg.c = 61;
    cpu.reg.d = 14;
    cpu.reg.e = 123;
    cpu.reg.f = 224;
    cpu.reg.h = 155;
    cpu.reg.l = 239;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[38713] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 108);
    CHECK(cpu.reg.b == 98);
    CHECK(cpu.reg.c == 61);
    CHECK(cpu.reg.d == 14);
    CHECK(cpu.reg.e == 123);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 155);
    CHECK(cpu.reg.l == 239);
    CHECK(cpu.pc == 38714);
    CHECK(cpu.sp == 24512);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38713] == 4);
}

TEST_CASE( "04 036F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36642;
    cpu.sp = 43984;
    cpu.reg.a = 4;
    cpu.reg.b = 164;
    cpu.reg.c = 26;
    cpu.reg.d = 186;
    cpu.reg.e = 113;
    cpu.reg.f = 64;
    cpu.reg.h = 26;
    cpu.reg.l = 211;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[36642] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 4);
    CHECK(cpu.reg.b == 165);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 186);
    CHECK(cpu.reg.e == 113);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 26);
    CHECK(cpu.reg.l == 211);
    CHECK(cpu.pc == 36643);
    CHECK(cpu.sp == 43984);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[36642] == 4);
}

TEST_CASE( "04 0370", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37668;
    cpu.sp = 3691;
    cpu.reg.a = 199;
    cpu.reg.b = 96;
    cpu.reg.c = 36;
    cpu.reg.d = 211;
    cpu.reg.e = 244;
    cpu.reg.f = 112;
    cpu.reg.h = 92;
    cpu.reg.l = 98;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[37668] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 199);
    CHECK(cpu.reg.b == 97);
    CHECK(cpu.reg.c == 36);
    CHECK(cpu.reg.d == 211);
    CHECK(cpu.reg.e == 244);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 92);
    CHECK(cpu.reg.l == 98);
    CHECK(cpu.pc == 37669);
    CHECK(cpu.sp == 3691);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[37668] == 4);
}

TEST_CASE( "04 0371", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31401;
    cpu.sp = 44171;
    cpu.reg.a = 30;
    cpu.reg.b = 62;
    cpu.reg.c = 251;
    cpu.reg.d = 191;
    cpu.reg.e = 152;
    cpu.reg.f = 48;
    cpu.reg.h = 116;
    cpu.reg.l = 72;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[31401] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 30);
    CHECK(cpu.reg.b == 63);
    CHECK(cpu.reg.c == 251);
    CHECK(cpu.reg.d == 191);
    CHECK(cpu.reg.e == 152);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 116);
    CHECK(cpu.reg.l == 72);
    CHECK(cpu.pc == 31402);
    CHECK(cpu.sp == 44171);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31401] == 4);
}

TEST_CASE( "04 0372", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10972;
    cpu.sp = 51329;
    cpu.reg.a = 133;
    cpu.reg.b = 80;
    cpu.reg.c = 24;
    cpu.reg.d = 34;
    cpu.reg.e = 77;
    cpu.reg.f = 80;
    cpu.reg.h = 83;
    cpu.reg.l = 97;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[10972] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 133);
    CHECK(cpu.reg.b == 81);
    CHECK(cpu.reg.c == 24);
    CHECK(cpu.reg.d == 34);
    CHECK(cpu.reg.e == 77);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 83);
    CHECK(cpu.reg.l == 97);
    CHECK(cpu.pc == 10973);
    CHECK(cpu.sp == 51329);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10972] == 4);
}

TEST_CASE( "04 0373", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52445;
    cpu.sp = 61284;
    cpu.reg.a = 123;
    cpu.reg.b = 247;
    cpu.reg.c = 17;
    cpu.reg.d = 67;
    cpu.reg.e = 175;
    cpu.reg.f = 80;
    cpu.reg.h = 181;
    cpu.reg.l = 55;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[52445] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 123);
    CHECK(cpu.reg.b == 248);
    CHECK(cpu.reg.c == 17);
    CHECK(cpu.reg.d == 67);
    CHECK(cpu.reg.e == 175);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 181);
    CHECK(cpu.reg.l == 55);
    CHECK(cpu.pc == 52446);
    CHECK(cpu.sp == 61284);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[52445] == 4);
}

TEST_CASE( "04 0374", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6991;
    cpu.sp = 56342;
    cpu.reg.a = 102;
    cpu.reg.b = 147;
    cpu.reg.c = 96;
    cpu.reg.d = 174;
    cpu.reg.e = 179;
    cpu.reg.f = 160;
    cpu.reg.h = 161;
    cpu.reg.l = 61;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[6991] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 102);
    CHECK(cpu.reg.b == 148);
    CHECK(cpu.reg.c == 96);
    CHECK(cpu.reg.d == 174);
    CHECK(cpu.reg.e == 179);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 161);
    CHECK(cpu.reg.l == 61);
    CHECK(cpu.pc == 6992);
    CHECK(cpu.sp == 56342);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6991] == 4);
}

TEST_CASE( "04 0375", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42009;
    cpu.sp = 24157;
    cpu.reg.a = 30;
    cpu.reg.b = 44;
    cpu.reg.c = 38;
    cpu.reg.d = 173;
    cpu.reg.e = 114;
    cpu.reg.f = 240;
    cpu.reg.h = 31;
    cpu.reg.l = 78;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[42009] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 30);
    CHECK(cpu.reg.b == 45);
    CHECK(cpu.reg.c == 38);
    CHECK(cpu.reg.d == 173);
    CHECK(cpu.reg.e == 114);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 31);
    CHECK(cpu.reg.l == 78);
    CHECK(cpu.pc == 42010);
    CHECK(cpu.sp == 24157);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[42009] == 4);
}

TEST_CASE( "04 0376", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49787;
    cpu.sp = 7755;
    cpu.reg.a = 223;
    cpu.reg.b = 166;
    cpu.reg.c = 221;
    cpu.reg.d = 248;
    cpu.reg.e = 221;
    cpu.reg.f = 48;
    cpu.reg.h = 212;
    cpu.reg.l = 4;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[49787] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 223);
    CHECK(cpu.reg.b == 167);
    CHECK(cpu.reg.c == 221);
    CHECK(cpu.reg.d == 248);
    CHECK(cpu.reg.e == 221);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 212);
    CHECK(cpu.reg.l == 4);
    CHECK(cpu.pc == 49788);
    CHECK(cpu.sp == 7755);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49787] == 4);
}

TEST_CASE( "04 0377", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63565;
    cpu.sp = 52336;
    cpu.reg.a = 61;
    cpu.reg.b = 101;
    cpu.reg.c = 140;
    cpu.reg.d = 57;
    cpu.reg.e = 125;
    cpu.reg.f = 160;
    cpu.reg.h = 5;
    cpu.reg.l = 75;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[63565] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 61);
    CHECK(cpu.reg.b == 102);
    CHECK(cpu.reg.c == 140);
    CHECK(cpu.reg.d == 57);
    CHECK(cpu.reg.e == 125);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 5);
    CHECK(cpu.reg.l == 75);
    CHECK(cpu.pc == 63566);
    CHECK(cpu.sp == 52336);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[63565] == 4);
}

TEST_CASE( "04 0378", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31817;
    cpu.sp = 17462;
    cpu.reg.a = 104;
    cpu.reg.b = 39;
    cpu.reg.c = 206;
    cpu.reg.d = 132;
    cpu.reg.e = 80;
    cpu.reg.f = 112;
    cpu.reg.h = 128;
    cpu.reg.l = 255;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[31817] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 104);
    CHECK(cpu.reg.b == 40);
    CHECK(cpu.reg.c == 206);
    CHECK(cpu.reg.d == 132);
    CHECK(cpu.reg.e == 80);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 128);
    CHECK(cpu.reg.l == 255);
    CHECK(cpu.pc == 31818);
    CHECK(cpu.sp == 17462);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31817] == 4);
}

TEST_CASE( "04 0379", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48914;
    cpu.sp = 15305;
    cpu.reg.a = 21;
    cpu.reg.b = 243;
    cpu.reg.c = 159;
    cpu.reg.d = 46;
    cpu.reg.e = 172;
    cpu.reg.f = 240;
    cpu.reg.h = 74;
    cpu.reg.l = 85;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[48914] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 21);
    CHECK(cpu.reg.b == 244);
    CHECK(cpu.reg.c == 159);
    CHECK(cpu.reg.d == 46);
    CHECK(cpu.reg.e == 172);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 74);
    CHECK(cpu.reg.l == 85);
    CHECK(cpu.pc == 48915);
    CHECK(cpu.sp == 15305);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[48914] == 4);
}

TEST_CASE( "04 037A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43133;
    cpu.sp = 5090;
    cpu.reg.a = 158;
    cpu.reg.b = 220;
    cpu.reg.c = 157;
    cpu.reg.d = 85;
    cpu.reg.e = 130;
    cpu.reg.f = 16;
    cpu.reg.h = 47;
    cpu.reg.l = 229;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[43133] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 158);
    CHECK(cpu.reg.b == 221);
    CHECK(cpu.reg.c == 157);
    CHECK(cpu.reg.d == 85);
    CHECK(cpu.reg.e == 130);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 47);
    CHECK(cpu.reg.l == 229);
    CHECK(cpu.pc == 43134);
    CHECK(cpu.sp == 5090);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[43133] == 4);
}

TEST_CASE( "04 037B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16258;
    cpu.sp = 63512;
    cpu.reg.a = 165;
    cpu.reg.b = 149;
    cpu.reg.c = 227;
    cpu.reg.d = 142;
    cpu.reg.e = 84;
    cpu.reg.f = 80;
    cpu.reg.h = 214;
    cpu.reg.l = 210;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[16258] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 165);
    CHECK(cpu.reg.b == 150);
    CHECK(cpu.reg.c == 227);
    CHECK(cpu.reg.d == 142);
    CHECK(cpu.reg.e == 84);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 214);
    CHECK(cpu.reg.l == 210);
    CHECK(cpu.pc == 16259);
    CHECK(cpu.sp == 63512);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16258] == 4);
}

TEST_CASE( "04 037C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61598;
    cpu.sp = 11249;
    cpu.reg.a = 78;
    cpu.reg.b = 58;
    cpu.reg.c = 137;
    cpu.reg.d = 231;
    cpu.reg.e = 240;
    cpu.reg.f = 192;
    cpu.reg.h = 205;
    cpu.reg.l = 129;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[61598] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 78);
    CHECK(cpu.reg.b == 59);
    CHECK(cpu.reg.c == 137);
    CHECK(cpu.reg.d == 231);
    CHECK(cpu.reg.e == 240);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 205);
    CHECK(cpu.reg.l == 129);
    CHECK(cpu.pc == 61599);
    CHECK(cpu.sp == 11249);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61598] == 4);
}

TEST_CASE( "04 037D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38201;
    cpu.sp = 16995;
    cpu.reg.a = 71;
    cpu.reg.b = 82;
    cpu.reg.c = 225;
    cpu.reg.d = 168;
    cpu.reg.e = 77;
    cpu.reg.f = 192;
    cpu.reg.h = 236;
    cpu.reg.l = 205;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[38201] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 71);
    CHECK(cpu.reg.b == 83);
    CHECK(cpu.reg.c == 225);
    CHECK(cpu.reg.d == 168);
    CHECK(cpu.reg.e == 77);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 236);
    CHECK(cpu.reg.l == 205);
    CHECK(cpu.pc == 38202);
    CHECK(cpu.sp == 16995);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38201] == 4);
}

TEST_CASE( "04 037E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21597;
    cpu.sp = 31065;
    cpu.reg.a = 173;
    cpu.reg.b = 228;
    cpu.reg.c = 184;
    cpu.reg.d = 99;
    cpu.reg.e = 222;
    cpu.reg.f = 64;
    cpu.reg.h = 237;
    cpu.reg.l = 238;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[21597] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 173);
    CHECK(cpu.reg.b == 229);
    CHECK(cpu.reg.c == 184);
    CHECK(cpu.reg.d == 99);
    CHECK(cpu.reg.e == 222);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 237);
    CHECK(cpu.reg.l == 238);
    CHECK(cpu.pc == 21598);
    CHECK(cpu.sp == 31065);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21597] == 4);
}

TEST_CASE( "04 037F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39606;
    cpu.sp = 65162;
    cpu.reg.a = 212;
    cpu.reg.b = 74;
    cpu.reg.c = 198;
    cpu.reg.d = 93;
    cpu.reg.e = 70;
    cpu.reg.f = 128;
    cpu.reg.h = 235;
    cpu.reg.l = 21;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[39606] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 212);
    CHECK(cpu.reg.b == 75);
    CHECK(cpu.reg.c == 198);
    CHECK(cpu.reg.d == 93);
    CHECK(cpu.reg.e == 70);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 235);
    CHECK(cpu.reg.l == 21);
    CHECK(cpu.pc == 39607);
    CHECK(cpu.sp == 65162);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39606] == 4);
}

TEST_CASE( "04 0380", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40560;
    cpu.sp = 35293;
    cpu.reg.a = 63;
    cpu.reg.b = 202;
    cpu.reg.c = 99;
    cpu.reg.d = 23;
    cpu.reg.e = 60;
    cpu.reg.f = 144;
    cpu.reg.h = 254;
    cpu.reg.l = 174;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[40560] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 63);
    CHECK(cpu.reg.b == 203);
    CHECK(cpu.reg.c == 99);
    CHECK(cpu.reg.d == 23);
    CHECK(cpu.reg.e == 60);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 254);
    CHECK(cpu.reg.l == 174);
    CHECK(cpu.pc == 40561);
    CHECK(cpu.sp == 35293);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40560] == 4);
}

TEST_CASE( "04 0381", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16034;
    cpu.sp = 31768;
    cpu.reg.a = 121;
    cpu.reg.b = 181;
    cpu.reg.c = 149;
    cpu.reg.d = 137;
    cpu.reg.e = 57;
    cpu.reg.f = 80;
    cpu.reg.h = 74;
    cpu.reg.l = 235;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[16034] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 121);
    CHECK(cpu.reg.b == 182);
    CHECK(cpu.reg.c == 149);
    CHECK(cpu.reg.d == 137);
    CHECK(cpu.reg.e == 57);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 74);
    CHECK(cpu.reg.l == 235);
    CHECK(cpu.pc == 16035);
    CHECK(cpu.sp == 31768);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16034] == 4);
}

TEST_CASE( "04 0382", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28909;
    cpu.sp = 885;
    cpu.reg.a = 78;
    cpu.reg.b = 120;
    cpu.reg.c = 74;
    cpu.reg.d = 245;
    cpu.reg.e = 66;
    cpu.reg.f = 32;
    cpu.reg.h = 51;
    cpu.reg.l = 88;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[28909] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 78);
    CHECK(cpu.reg.b == 121);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 245);
    CHECK(cpu.reg.e == 66);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 51);
    CHECK(cpu.reg.l == 88);
    CHECK(cpu.pc == 28910);
    CHECK(cpu.sp == 885);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28909] == 4);
}

TEST_CASE( "04 0383", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39374;
    cpu.sp = 47728;
    cpu.reg.a = 194;
    cpu.reg.b = 105;
    cpu.reg.c = 96;
    cpu.reg.d = 86;
    cpu.reg.e = 100;
    cpu.reg.f = 128;
    cpu.reg.h = 65;
    cpu.reg.l = 254;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[39374] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 194);
    CHECK(cpu.reg.b == 106);
    CHECK(cpu.reg.c == 96);
    CHECK(cpu.reg.d == 86);
    CHECK(cpu.reg.e == 100);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 65);
    CHECK(cpu.reg.l == 254);
    CHECK(cpu.pc == 39375);
    CHECK(cpu.sp == 47728);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39374] == 4);
}

TEST_CASE( "04 0384", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46761;
    cpu.sp = 14303;
    cpu.reg.a = 194;
    cpu.reg.b = 136;
    cpu.reg.c = 90;
    cpu.reg.d = 3;
    cpu.reg.e = 82;
    cpu.reg.f = 144;
    cpu.reg.h = 249;
    cpu.reg.l = 201;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[46761] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 194);
    CHECK(cpu.reg.b == 137);
    CHECK(cpu.reg.c == 90);
    CHECK(cpu.reg.d == 3);
    CHECK(cpu.reg.e == 82);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 249);
    CHECK(cpu.reg.l == 201);
    CHECK(cpu.pc == 46762);
    CHECK(cpu.sp == 14303);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46761] == 4);
}

TEST_CASE( "04 0385", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23137;
    cpu.sp = 14509;
    cpu.reg.a = 134;
    cpu.reg.b = 251;
    cpu.reg.c = 172;
    cpu.reg.d = 239;
    cpu.reg.e = 204;
    cpu.reg.f = 48;
    cpu.reg.h = 1;
    cpu.reg.l = 34;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[23137] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 134);
    CHECK(cpu.reg.b == 252);
    CHECK(cpu.reg.c == 172);
    CHECK(cpu.reg.d == 239);
    CHECK(cpu.reg.e == 204);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 1);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 23138);
    CHECK(cpu.sp == 14509);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[23137] == 4);
}

TEST_CASE( "04 0386", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24764;
    cpu.sp = 41656;
    cpu.reg.a = 25;
    cpu.reg.b = 68;
    cpu.reg.c = 151;
    cpu.reg.d = 253;
    cpu.reg.e = 12;
    cpu.reg.f = 192;
    cpu.reg.h = 227;
    cpu.reg.l = 196;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[24764] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 25);
    CHECK(cpu.reg.b == 69);
    CHECK(cpu.reg.c == 151);
    CHECK(cpu.reg.d == 253);
    CHECK(cpu.reg.e == 12);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 196);
    CHECK(cpu.pc == 24765);
    CHECK(cpu.sp == 41656);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24764] == 4);
}

TEST_CASE( "04 0387", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39231;
    cpu.sp = 40731;
    cpu.reg.a = 254;
    cpu.reg.b = 134;
    cpu.reg.c = 177;
    cpu.reg.d = 217;
    cpu.reg.e = 252;
    cpu.reg.f = 144;
    cpu.reg.h = 17;
    cpu.reg.l = 56;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[39231] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 135);
    CHECK(cpu.reg.c == 177);
    CHECK(cpu.reg.d == 217);
    CHECK(cpu.reg.e == 252);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 56);
    CHECK(cpu.pc == 39232);
    CHECK(cpu.sp == 40731);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39231] == 4);
}

TEST_CASE( "04 0388", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46920;
    cpu.sp = 38747;
    cpu.reg.a = 51;
    cpu.reg.b = 206;
    cpu.reg.c = 79;
    cpu.reg.d = 163;
    cpu.reg.e = 23;
    cpu.reg.f = 144;
    cpu.reg.h = 227;
    cpu.reg.l = 101;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[46920] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 51);
    CHECK(cpu.reg.b == 207);
    CHECK(cpu.reg.c == 79);
    CHECK(cpu.reg.d == 163);
    CHECK(cpu.reg.e == 23);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 46921);
    CHECK(cpu.sp == 38747);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[46920] == 4);
}

TEST_CASE( "04 0389", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12296;
    cpu.sp = 5407;
    cpu.reg.a = 220;
    cpu.reg.b = 143;
    cpu.reg.c = 10;
    cpu.reg.d = 29;
    cpu.reg.e = 125;
    cpu.reg.f = 240;
    cpu.reg.h = 154;
    cpu.reg.l = 191;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[12296] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 220);
    CHECK(cpu.reg.b == 144);
    CHECK(cpu.reg.c == 10);
    CHECK(cpu.reg.d == 29);
    CHECK(cpu.reg.e == 125);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 154);
    CHECK(cpu.reg.l == 191);
    CHECK(cpu.pc == 12297);
    CHECK(cpu.sp == 5407);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12296] == 4);
}

TEST_CASE( "04 038A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44116;
    cpu.sp = 31644;
    cpu.reg.a = 223;
    cpu.reg.b = 219;
    cpu.reg.c = 45;
    cpu.reg.d = 173;
    cpu.reg.e = 62;
    cpu.reg.f = 0;
    cpu.reg.h = 49;
    cpu.reg.l = 35;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[44116] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 223);
    CHECK(cpu.reg.b == 220);
    CHECK(cpu.reg.c == 45);
    CHECK(cpu.reg.d == 173);
    CHECK(cpu.reg.e == 62);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 49);
    CHECK(cpu.reg.l == 35);
    CHECK(cpu.pc == 44117);
    CHECK(cpu.sp == 31644);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44116] == 4);
}

TEST_CASE( "04 038B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18847;
    cpu.sp = 57982;
    cpu.reg.a = 23;
    cpu.reg.b = 226;
    cpu.reg.c = 220;
    cpu.reg.d = 122;
    cpu.reg.e = 70;
    cpu.reg.f = 64;
    cpu.reg.h = 89;
    cpu.reg.l = 10;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[18847] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 23);
    CHECK(cpu.reg.b == 227);
    CHECK(cpu.reg.c == 220);
    CHECK(cpu.reg.d == 122);
    CHECK(cpu.reg.e == 70);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 89);
    CHECK(cpu.reg.l == 10);
    CHECK(cpu.pc == 18848);
    CHECK(cpu.sp == 57982);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18847] == 4);
}

TEST_CASE( "04 038C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3395;
    cpu.sp = 50723;
    cpu.reg.a = 71;
    cpu.reg.b = 177;
    cpu.reg.c = 244;
    cpu.reg.d = 159;
    cpu.reg.e = 120;
    cpu.reg.f = 16;
    cpu.reg.h = 44;
    cpu.reg.l = 43;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[3395] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 71);
    CHECK(cpu.reg.b == 178);
    CHECK(cpu.reg.c == 244);
    CHECK(cpu.reg.d == 159);
    CHECK(cpu.reg.e == 120);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 44);
    CHECK(cpu.reg.l == 43);
    CHECK(cpu.pc == 3396);
    CHECK(cpu.sp == 50723);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3395] == 4);
}

TEST_CASE( "04 038D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62718;
    cpu.sp = 18896;
    cpu.reg.a = 76;
    cpu.reg.b = 166;
    cpu.reg.c = 132;
    cpu.reg.d = 86;
    cpu.reg.e = 134;
    cpu.reg.f = 32;
    cpu.reg.h = 211;
    cpu.reg.l = 210;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[62718] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 76);
    CHECK(cpu.reg.b == 167);
    CHECK(cpu.reg.c == 132);
    CHECK(cpu.reg.d == 86);
    CHECK(cpu.reg.e == 134);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 211);
    CHECK(cpu.reg.l == 210);
    CHECK(cpu.pc == 62719);
    CHECK(cpu.sp == 18896);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62718] == 4);
}

TEST_CASE( "04 038E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34747;
    cpu.sp = 2323;
    cpu.reg.a = 27;
    cpu.reg.b = 131;
    cpu.reg.c = 6;
    cpu.reg.d = 0;
    cpu.reg.e = 158;
    cpu.reg.f = 144;
    cpu.reg.h = 234;
    cpu.reg.l = 4;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[34747] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 27);
    CHECK(cpu.reg.b == 132);
    CHECK(cpu.reg.c == 6);
    CHECK(cpu.reg.d == 0);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 234);
    CHECK(cpu.reg.l == 4);
    CHECK(cpu.pc == 34748);
    CHECK(cpu.sp == 2323);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[34747] == 4);
}

TEST_CASE( "04 038F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56574;
    cpu.sp = 27536;
    cpu.reg.a = 14;
    cpu.reg.b = 103;
    cpu.reg.c = 201;
    cpu.reg.d = 16;
    cpu.reg.e = 207;
    cpu.reg.f = 224;
    cpu.reg.h = 69;
    cpu.reg.l = 213;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[56574] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 14);
    CHECK(cpu.reg.b == 104);
    CHECK(cpu.reg.c == 201);
    CHECK(cpu.reg.d == 16);
    CHECK(cpu.reg.e == 207);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 69);
    CHECK(cpu.reg.l == 213);
    CHECK(cpu.pc == 56575);
    CHECK(cpu.sp == 27536);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56574] == 4);
}

TEST_CASE( "04 0390", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23869;
    cpu.sp = 22663;
    cpu.reg.a = 39;
    cpu.reg.b = 28;
    cpu.reg.c = 198;
    cpu.reg.d = 228;
    cpu.reg.e = 171;
    cpu.reg.f = 160;
    cpu.reg.h = 231;
    cpu.reg.l = 202;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[23869] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 39);
    CHECK(cpu.reg.b == 29);
    CHECK(cpu.reg.c == 198);
    CHECK(cpu.reg.d == 228);
    CHECK(cpu.reg.e == 171);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 231);
    CHECK(cpu.reg.l == 202);
    CHECK(cpu.pc == 23870);
    CHECK(cpu.sp == 22663);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[23869] == 4);
}

TEST_CASE( "04 0391", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29808;
    cpu.sp = 48479;
    cpu.reg.a = 193;
    cpu.reg.b = 59;
    cpu.reg.c = 30;
    cpu.reg.d = 70;
    cpu.reg.e = 149;
    cpu.reg.f = 240;
    cpu.reg.h = 203;
    cpu.reg.l = 43;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[29808] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 193);
    CHECK(cpu.reg.b == 60);
    CHECK(cpu.reg.c == 30);
    CHECK(cpu.reg.d == 70);
    CHECK(cpu.reg.e == 149);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 203);
    CHECK(cpu.reg.l == 43);
    CHECK(cpu.pc == 29809);
    CHECK(cpu.sp == 48479);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29808] == 4);
}

TEST_CASE( "04 0392", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59878;
    cpu.sp = 52890;
    cpu.reg.a = 4;
    cpu.reg.b = 254;
    cpu.reg.c = 174;
    cpu.reg.d = 38;
    cpu.reg.e = 239;
    cpu.reg.f = 192;
    cpu.reg.h = 63;
    cpu.reg.l = 141;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[59878] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 4);
    CHECK(cpu.reg.b == 255);
    CHECK(cpu.reg.c == 174);
    CHECK(cpu.reg.d == 38);
    CHECK(cpu.reg.e == 239);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 63);
    CHECK(cpu.reg.l == 141);
    CHECK(cpu.pc == 59879);
    CHECK(cpu.sp == 52890);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[59878] == 4);
}

TEST_CASE( "04 0393", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52743;
    cpu.sp = 30788;
    cpu.reg.a = 91;
    cpu.reg.b = 193;
    cpu.reg.c = 26;
    cpu.reg.d = 63;
    cpu.reg.e = 169;
    cpu.reg.f = 16;
    cpu.reg.h = 53;
    cpu.reg.l = 24;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[52743] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 91);
    CHECK(cpu.reg.b == 194);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 63);
    CHECK(cpu.reg.e == 169);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 53);
    CHECK(cpu.reg.l == 24);
    CHECK(cpu.pc == 52744);
    CHECK(cpu.sp == 30788);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[52743] == 4);
}

TEST_CASE( "04 0394", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49093;
    cpu.sp = 6058;
    cpu.reg.a = 141;
    cpu.reg.b = 143;
    cpu.reg.c = 54;
    cpu.reg.d = 81;
    cpu.reg.e = 82;
    cpu.reg.f = 0;
    cpu.reg.h = 210;
    cpu.reg.l = 229;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[49093] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 141);
    CHECK(cpu.reg.b == 144);
    CHECK(cpu.reg.c == 54);
    CHECK(cpu.reg.d == 81);
    CHECK(cpu.reg.e == 82);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 210);
    CHECK(cpu.reg.l == 229);
    CHECK(cpu.pc == 49094);
    CHECK(cpu.sp == 6058);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49093] == 4);
}

TEST_CASE( "04 0395", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26488;
    cpu.sp = 27667;
    cpu.reg.a = 31;
    cpu.reg.b = 16;
    cpu.reg.c = 47;
    cpu.reg.d = 230;
    cpu.reg.e = 35;
    cpu.reg.f = 0;
    cpu.reg.h = 78;
    cpu.reg.l = 49;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[26488] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 31);
    CHECK(cpu.reg.b == 17);
    CHECK(cpu.reg.c == 47);
    CHECK(cpu.reg.d == 230);
    CHECK(cpu.reg.e == 35);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 78);
    CHECK(cpu.reg.l == 49);
    CHECK(cpu.pc == 26489);
    CHECK(cpu.sp == 27667);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26488] == 4);
}

TEST_CASE( "04 0396", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32180;
    cpu.sp = 45906;
    cpu.reg.a = 12;
    cpu.reg.b = 135;
    cpu.reg.c = 85;
    cpu.reg.d = 235;
    cpu.reg.e = 31;
    cpu.reg.f = 48;
    cpu.reg.h = 136;
    cpu.reg.l = 143;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[32180] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 12);
    CHECK(cpu.reg.b == 136);
    CHECK(cpu.reg.c == 85);
    CHECK(cpu.reg.d == 235);
    CHECK(cpu.reg.e == 31);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 136);
    CHECK(cpu.reg.l == 143);
    CHECK(cpu.pc == 32181);
    CHECK(cpu.sp == 45906);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32180] == 4);
}

TEST_CASE( "04 0397", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44295;
    cpu.sp = 18183;
    cpu.reg.a = 152;
    cpu.reg.b = 228;
    cpu.reg.c = 162;
    cpu.reg.d = 88;
    cpu.reg.e = 97;
    cpu.reg.f = 16;
    cpu.reg.h = 18;
    cpu.reg.l = 104;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[44295] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 152);
    CHECK(cpu.reg.b == 229);
    CHECK(cpu.reg.c == 162);
    CHECK(cpu.reg.d == 88);
    CHECK(cpu.reg.e == 97);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 18);
    CHECK(cpu.reg.l == 104);
    CHECK(cpu.pc == 44296);
    CHECK(cpu.sp == 18183);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44295] == 4);
}

TEST_CASE( "04 0398", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35863;
    cpu.sp = 60059;
    cpu.reg.a = 131;
    cpu.reg.b = 182;
    cpu.reg.c = 73;
    cpu.reg.d = 195;
    cpu.reg.e = 15;
    cpu.reg.f = 144;
    cpu.reg.h = 8;
    cpu.reg.l = 247;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[35863] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 131);
    CHECK(cpu.reg.b == 183);
    CHECK(cpu.reg.c == 73);
    CHECK(cpu.reg.d == 195);
    CHECK(cpu.reg.e == 15);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 8);
    CHECK(cpu.reg.l == 247);
    CHECK(cpu.pc == 35864);
    CHECK(cpu.sp == 60059);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35863] == 4);
}

TEST_CASE( "04 0399", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61430;
    cpu.sp = 25623;
    cpu.reg.a = 30;
    cpu.reg.b = 253;
    cpu.reg.c = 102;
    cpu.reg.d = 129;
    cpu.reg.e = 174;
    cpu.reg.f = 48;
    cpu.reg.h = 212;
    cpu.reg.l = 6;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[61430] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 30);
    CHECK(cpu.reg.b == 254);
    CHECK(cpu.reg.c == 102);
    CHECK(cpu.reg.d == 129);
    CHECK(cpu.reg.e == 174);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 212);
    CHECK(cpu.reg.l == 6);
    CHECK(cpu.pc == 61431);
    CHECK(cpu.sp == 25623);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61430] == 4);
}

TEST_CASE( "04 039A", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6536;
    cpu.sp = 17835;
    cpu.reg.a = 224;
    cpu.reg.b = 87;
    cpu.reg.c = 120;
    cpu.reg.d = 0;
    cpu.reg.e = 9;
    cpu.reg.f = 224;
    cpu.reg.h = 100;
    cpu.reg.l = 220;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[6536] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 88);
    CHECK(cpu.reg.c == 120);
    CHECK(cpu.reg.d == 0);
    CHECK(cpu.reg.e == 9);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 100);
    CHECK(cpu.reg.l == 220);
    CHECK(cpu.pc == 6537);
    CHECK(cpu.sp == 17835);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6536] == 4);
}

TEST_CASE( "04 039B", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63529;
    cpu.sp = 53820;
    cpu.reg.a = 135;
    cpu.reg.b = 52;
    cpu.reg.c = 153;
    cpu.reg.d = 53;
    cpu.reg.e = 236;
    cpu.reg.f = 112;
    cpu.reg.h = 131;
    cpu.reg.l = 122;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[63529] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 135);
    CHECK(cpu.reg.b == 53);
    CHECK(cpu.reg.c == 153);
    CHECK(cpu.reg.d == 53);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 131);
    CHECK(cpu.reg.l == 122);
    CHECK(cpu.pc == 63530);
    CHECK(cpu.sp == 53820);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[63529] == 4);
}

TEST_CASE( "04 039C", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47229;
    cpu.sp = 13160;
    cpu.reg.a = 238;
    cpu.reg.b = 114;
    cpu.reg.c = 12;
    cpu.reg.d = 67;
    cpu.reg.e = 206;
    cpu.reg.f = 0;
    cpu.reg.h = 190;
    cpu.reg.l = 66;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47229] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 238);
    CHECK(cpu.reg.b == 115);
    CHECK(cpu.reg.c == 12);
    CHECK(cpu.reg.d == 67);
    CHECK(cpu.reg.e == 206);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 190);
    CHECK(cpu.reg.l == 66);
    CHECK(cpu.pc == 47230);
    CHECK(cpu.sp == 13160);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47229] == 4);
}

TEST_CASE( "04 039D", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22015;
    cpu.sp = 32720;
    cpu.reg.a = 36;
    cpu.reg.b = 179;
    cpu.reg.c = 10;
    cpu.reg.d = 229;
    cpu.reg.e = 226;
    cpu.reg.f = 112;
    cpu.reg.h = 142;
    cpu.reg.l = 61;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[22015] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 36);
    CHECK(cpu.reg.b == 180);
    CHECK(cpu.reg.c == 10);
    CHECK(cpu.reg.d == 229);
    CHECK(cpu.reg.e == 226);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 142);
    CHECK(cpu.reg.l == 61);
    CHECK(cpu.pc == 22016);
    CHECK(cpu.sp == 32720);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22015] == 4);
}

TEST_CASE( "04 039E", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26633;
    cpu.sp = 35891;
    cpu.reg.a = 236;
    cpu.reg.b = 44;
    cpu.reg.c = 73;
    cpu.reg.d = 137;
    cpu.reg.e = 17;
    cpu.reg.f = 32;
    cpu.reg.h = 133;
    cpu.reg.l = 209;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[26633] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 236);
    CHECK(cpu.reg.b == 45);
    CHECK(cpu.reg.c == 73);
    CHECK(cpu.reg.d == 137);
    CHECK(cpu.reg.e == 17);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 133);
    CHECK(cpu.reg.l == 209);
    CHECK(cpu.pc == 26634);
    CHECK(cpu.sp == 35891);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26633] == 4);
}

TEST_CASE( "04 039F", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38220;
    cpu.sp = 55368;
    cpu.reg.a = 81;
    cpu.reg.b = 234;
    cpu.reg.c = 67;
    cpu.reg.d = 205;
    cpu.reg.e = 158;
    cpu.reg.f = 64;
    cpu.reg.h = 119;
    cpu.reg.l = 180;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[38220] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 81);
    CHECK(cpu.reg.b == 235);
    CHECK(cpu.reg.c == 67);
    CHECK(cpu.reg.d == 205);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 119);
    CHECK(cpu.reg.l == 180);
    CHECK(cpu.pc == 38221);
    CHECK(cpu.sp == 55368);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38220] == 4);
}

TEST_CASE( "04 03A0", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21189;
    cpu.sp = 56384;
    cpu.reg.a = 14;
    cpu.reg.b = 144;
    cpu.reg.c = 12;
    cpu.reg.d = 184;
    cpu.reg.e = 104;
    cpu.reg.f = 128;
    cpu.reg.h = 36;
    cpu.reg.l = 144;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[21189] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 14);
    CHECK(cpu.reg.b == 145);
    CHECK(cpu.reg.c == 12);
    CHECK(cpu.reg.d == 184);
    CHECK(cpu.reg.e == 104);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 36);
    CHECK(cpu.reg.l == 144);
    CHECK(cpu.pc == 21190);
    CHECK(cpu.sp == 56384);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21189] == 4);
}

TEST_CASE( "04 03A1", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20423;
    cpu.sp = 45278;
    cpu.reg.a = 40;
    cpu.reg.b = 165;
    cpu.reg.c = 128;
    cpu.reg.d = 186;
    cpu.reg.e = 113;
    cpu.reg.f = 128;
    cpu.reg.h = 114;
    cpu.reg.l = 11;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[20423] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 40);
    CHECK(cpu.reg.b == 166);
    CHECK(cpu.reg.c == 128);
    CHECK(cpu.reg.d == 186);
    CHECK(cpu.reg.e == 113);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 114);
    CHECK(cpu.reg.l == 11);
    CHECK(cpu.pc == 20424);
    CHECK(cpu.sp == 45278);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20423] == 4);
}

TEST_CASE( "04 03A2", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14885;
    cpu.sp = 56268;
    cpu.reg.a = 207;
    cpu.reg.b = 70;
    cpu.reg.c = 180;
    cpu.reg.d = 135;
    cpu.reg.e = 143;
    cpu.reg.f = 32;
    cpu.reg.h = 213;
    cpu.reg.l = 49;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[14885] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 207);
    CHECK(cpu.reg.b == 71);
    CHECK(cpu.reg.c == 180);
    CHECK(cpu.reg.d == 135);
    CHECK(cpu.reg.e == 143);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 213);
    CHECK(cpu.reg.l == 49);
    CHECK(cpu.pc == 14886);
    CHECK(cpu.sp == 56268);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14885] == 4);
}

TEST_CASE( "04 03A3", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1111;
    cpu.sp = 58063;
    cpu.reg.a = 119;
    cpu.reg.b = 112;
    cpu.reg.c = 22;
    cpu.reg.d = 187;
    cpu.reg.e = 158;
    cpu.reg.f = 64;
    cpu.reg.h = 192;
    cpu.reg.l = 223;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1111] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 119);
    CHECK(cpu.reg.b == 113);
    CHECK(cpu.reg.c == 22);
    CHECK(cpu.reg.d == 187);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 192);
    CHECK(cpu.reg.l == 223);
    CHECK(cpu.pc == 1112);
    CHECK(cpu.sp == 58063);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1111] == 4);
}

TEST_CASE( "04 03A4", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6990;
    cpu.sp = 52716;
    cpu.reg.a = 96;
    cpu.reg.b = 179;
    cpu.reg.c = 124;
    cpu.reg.d = 14;
    cpu.reg.e = 123;
    cpu.reg.f = 224;
    cpu.reg.h = 105;
    cpu.reg.l = 189;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[6990] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 96);
    CHECK(cpu.reg.b == 180);
    CHECK(cpu.reg.c == 124);
    CHECK(cpu.reg.d == 14);
    CHECK(cpu.reg.e == 123);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 105);
    CHECK(cpu.reg.l == 189);
    CHECK(cpu.pc == 6991);
    CHECK(cpu.sp == 52716);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6990] == 4);
}

TEST_CASE( "04 03A5", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20500;
    cpu.sp = 10748;
    cpu.reg.a = 22;
    cpu.reg.b = 5;
    cpu.reg.c = 52;
    cpu.reg.d = 20;
    cpu.reg.e = 17;
    cpu.reg.f = 224;
    cpu.reg.h = 134;
    cpu.reg.l = 61;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[20500] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 22);
    CHECK(cpu.reg.b == 6);
    CHECK(cpu.reg.c == 52);
    CHECK(cpu.reg.d == 20);
    CHECK(cpu.reg.e == 17);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 134);
    CHECK(cpu.reg.l == 61);
    CHECK(cpu.pc == 20501);
    CHECK(cpu.sp == 10748);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20500] == 4);
}

TEST_CASE( "04 03A6", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13043;
    cpu.sp = 55757;
    cpu.reg.a = 176;
    cpu.reg.b = 10;
    cpu.reg.c = 112;
    cpu.reg.d = 12;
    cpu.reg.e = 166;
    cpu.reg.f = 32;
    cpu.reg.h = 154;
    cpu.reg.l = 208;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[13043] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 176);
    CHECK(cpu.reg.b == 11);
    CHECK(cpu.reg.c == 112);
    CHECK(cpu.reg.d == 12);
    CHECK(cpu.reg.e == 166);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 154);
    CHECK(cpu.reg.l == 208);
    CHECK(cpu.pc == 13044);
    CHECK(cpu.sp == 55757);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13043] == 4);
}

TEST_CASE( "04 03A7", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 254;
    cpu.sp = 33421;
    cpu.reg.a = 236;
    cpu.reg.b = 107;
    cpu.reg.c = 205;
    cpu.reg.d = 53;
    cpu.reg.e = 107;
    cpu.reg.f = 16;
    cpu.reg.h = 46;
    cpu.reg.l = 234;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[254] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 236);
    CHECK(cpu.reg.b == 108);
    CHECK(cpu.reg.c == 205);
    CHECK(cpu.reg.d == 53);
    CHECK(cpu.reg.e == 107);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 46);
    CHECK(cpu.reg.l == 234);
    CHECK(cpu.pc == 255);
    CHECK(cpu.sp == 33421);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[254] == 4);
}

TEST_CASE( "04 03A8", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6559;
    cpu.sp = 18299;
    cpu.reg.a = 129;
    cpu.reg.b = 77;
    cpu.reg.c = 22;
    cpu.reg.d = 50;
    cpu.reg.e = 203;
    cpu.reg.f = 64;
    cpu.reg.h = 156;
    cpu.reg.l = 126;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[6559] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 129);
    CHECK(cpu.reg.b == 78);
    CHECK(cpu.reg.c == 22);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 203);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 156);
    CHECK(cpu.reg.l == 126);
    CHECK(cpu.pc == 6560);
    CHECK(cpu.sp == 18299);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6559] == 4);
}

TEST_CASE( "04 03A9", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56145;
    cpu.sp = 48578;
    cpu.reg.a = 128;
    cpu.reg.b = 41;
    cpu.reg.c = 252;
    cpu.reg.d = 116;
    cpu.reg.e = 112;
    cpu.reg.f = 0;
    cpu.reg.h = 249;
    cpu.reg.l = 34;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[56145] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 128);
    CHECK(cpu.reg.b == 42);
    CHECK(cpu.reg.c == 252);
    CHECK(cpu.reg.d == 116);
    CHECK(cpu.reg.e == 112);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 249);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 56146);
    CHECK(cpu.sp == 48578);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56145] == 4);
}

TEST_CASE( "04 03AA", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57289;
    cpu.sp = 44500;
    cpu.reg.a = 65;
    cpu.reg.b = 86;
    cpu.reg.c = 248;
    cpu.reg.d = 34;
    cpu.reg.e = 166;
    cpu.reg.f = 32;
    cpu.reg.h = 210;
    cpu.reg.l = 133;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[57289] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 65);
    CHECK(cpu.reg.b == 87);
    CHECK(cpu.reg.c == 248);
    CHECK(cpu.reg.d == 34);
    CHECK(cpu.reg.e == 166);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 210);
    CHECK(cpu.reg.l == 133);
    CHECK(cpu.pc == 57290);
    CHECK(cpu.sp == 44500);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[57289] == 4);
}

TEST_CASE( "04 03AB", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2470;
    cpu.sp = 37465;
    cpu.reg.a = 46;
    cpu.reg.b = 188;
    cpu.reg.c = 251;
    cpu.reg.d = 195;
    cpu.reg.e = 15;
    cpu.reg.f = 176;
    cpu.reg.h = 231;
    cpu.reg.l = 169;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[2470] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 46);
    CHECK(cpu.reg.b == 189);
    CHECK(cpu.reg.c == 251);
    CHECK(cpu.reg.d == 195);
    CHECK(cpu.reg.e == 15);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 231);
    CHECK(cpu.reg.l == 169);
    CHECK(cpu.pc == 2471);
    CHECK(cpu.sp == 37465);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2470] == 4);
}

TEST_CASE( "04 03AC", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42129;
    cpu.sp = 36428;
    cpu.reg.a = 205;
    cpu.reg.b = 174;
    cpu.reg.c = 244;
    cpu.reg.d = 174;
    cpu.reg.e = 89;
    cpu.reg.f = 96;
    cpu.reg.h = 76;
    cpu.reg.l = 49;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[42129] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 205);
    CHECK(cpu.reg.b == 175);
    CHECK(cpu.reg.c == 244);
    CHECK(cpu.reg.d == 174);
    CHECK(cpu.reg.e == 89);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 76);
    CHECK(cpu.reg.l == 49);
    CHECK(cpu.pc == 42130);
    CHECK(cpu.sp == 36428);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[42129] == 4);
}

TEST_CASE( "04 03AD", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 651;
    cpu.sp = 32334;
    cpu.reg.a = 150;
    cpu.reg.b = 250;
    cpu.reg.c = 159;
    cpu.reg.d = 170;
    cpu.reg.e = 48;
    cpu.reg.f = 240;
    cpu.reg.h = 116;
    cpu.reg.l = 74;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[651] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 150);
    CHECK(cpu.reg.b == 251);
    CHECK(cpu.reg.c == 159);
    CHECK(cpu.reg.d == 170);
    CHECK(cpu.reg.e == 48);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 116);
    CHECK(cpu.reg.l == 74);
    CHECK(cpu.pc == 652);
    CHECK(cpu.sp == 32334);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[651] == 4);
}

TEST_CASE( "04 03AE", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4023;
    cpu.sp = 33540;
    cpu.reg.a = 210;
    cpu.reg.b = 99;
    cpu.reg.c = 35;
    cpu.reg.d = 175;
    cpu.reg.e = 36;
    cpu.reg.f = 80;
    cpu.reg.h = 64;
    cpu.reg.l = 17;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[4023] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 210);
    CHECK(cpu.reg.b == 100);
    CHECK(cpu.reg.c == 35);
    CHECK(cpu.reg.d == 175);
    CHECK(cpu.reg.e == 36);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 64);
    CHECK(cpu.reg.l == 17);
    CHECK(cpu.pc == 4024);
    CHECK(cpu.sp == 33540);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4023] == 4);
}

TEST_CASE( "04 03AF", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17645;
    cpu.sp = 57628;
    cpu.reg.a = 199;
    cpu.reg.b = 153;
    cpu.reg.c = 133;
    cpu.reg.d = 108;
    cpu.reg.e = 206;
    cpu.reg.f = 128;
    cpu.reg.h = 160;
    cpu.reg.l = 113;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[17645] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 199);
    CHECK(cpu.reg.b == 154);
    CHECK(cpu.reg.c == 133);
    CHECK(cpu.reg.d == 108);
    CHECK(cpu.reg.e == 206);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 160);
    CHECK(cpu.reg.l == 113);
    CHECK(cpu.pc == 17646);
    CHECK(cpu.sp == 57628);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17645] == 4);
}

TEST_CASE( "04 03B0", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44680;
    cpu.sp = 4373;
    cpu.reg.a = 10;
    cpu.reg.b = 215;
    cpu.reg.c = 40;
    cpu.reg.d = 120;
    cpu.reg.e = 134;
    cpu.reg.f = 80;
    cpu.reg.h = 193;
    cpu.reg.l = 44;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[44680] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 10);
    CHECK(cpu.reg.b == 216);
    CHECK(cpu.reg.c == 40);
    CHECK(cpu.reg.d == 120);
    CHECK(cpu.reg.e == 134);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 193);
    CHECK(cpu.reg.l == 44);
    CHECK(cpu.pc == 44681);
    CHECK(cpu.sp == 4373);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44680] == 4);
}

TEST_CASE( "04 03B1", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55692;
    cpu.sp = 4060;
    cpu.reg.a = 210;
    cpu.reg.b = 236;
    cpu.reg.c = 117;
    cpu.reg.d = 61;
    cpu.reg.e = 125;
    cpu.reg.f = 112;
    cpu.reg.h = 206;
    cpu.reg.l = 67;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[55692] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 210);
    CHECK(cpu.reg.b == 237);
    CHECK(cpu.reg.c == 117);
    CHECK(cpu.reg.d == 61);
    CHECK(cpu.reg.e == 125);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 206);
    CHECK(cpu.reg.l == 67);
    CHECK(cpu.pc == 55693);
    CHECK(cpu.sp == 4060);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55692] == 4);
}

TEST_CASE( "04 03B2", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56969;
    cpu.sp = 41561;
    cpu.reg.a = 11;
    cpu.reg.b = 248;
    cpu.reg.c = 117;
    cpu.reg.d = 85;
    cpu.reg.e = 56;
    cpu.reg.f = 32;
    cpu.reg.h = 95;
    cpu.reg.l = 201;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[56969] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 11);
    CHECK(cpu.reg.b == 249);
    CHECK(cpu.reg.c == 117);
    CHECK(cpu.reg.d == 85);
    CHECK(cpu.reg.e == 56);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 95);
    CHECK(cpu.reg.l == 201);
    CHECK(cpu.pc == 56970);
    CHECK(cpu.sp == 41561);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56969] == 4);
}

TEST_CASE( "04 03B3", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4804;
    cpu.sp = 65242;
    cpu.reg.a = 165;
    cpu.reg.b = 91;
    cpu.reg.c = 27;
    cpu.reg.d = 29;
    cpu.reg.e = 222;
    cpu.reg.f = 96;
    cpu.reg.h = 245;
    cpu.reg.l = 80;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[4804] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 165);
    CHECK(cpu.reg.b == 92);
    CHECK(cpu.reg.c == 27);
    CHECK(cpu.reg.d == 29);
    CHECK(cpu.reg.e == 222);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 245);
    CHECK(cpu.reg.l == 80);
    CHECK(cpu.pc == 4805);
    CHECK(cpu.sp == 65242);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4804] == 4);
}

TEST_CASE( "04 03B4", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4690;
    cpu.sp = 64034;
    cpu.reg.a = 49;
    cpu.reg.b = 110;
    cpu.reg.c = 14;
    cpu.reg.d = 142;
    cpu.reg.e = 113;
    cpu.reg.f = 0;
    cpu.reg.h = 207;
    cpu.reg.l = 243;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4690] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 49);
    CHECK(cpu.reg.b == 111);
    CHECK(cpu.reg.c == 14);
    CHECK(cpu.reg.d == 142);
    CHECK(cpu.reg.e == 113);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 207);
    CHECK(cpu.reg.l == 243);
    CHECK(cpu.pc == 4691);
    CHECK(cpu.sp == 64034);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4690] == 4);
}

TEST_CASE( "04 03B5", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35450;
    cpu.sp = 31459;
    cpu.reg.a = 107;
    cpu.reg.b = 220;
    cpu.reg.c = 206;
    cpu.reg.d = 171;
    cpu.reg.e = 180;
    cpu.reg.f = 80;
    cpu.reg.h = 59;
    cpu.reg.l = 91;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[35450] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 107);
    CHECK(cpu.reg.b == 221);
    CHECK(cpu.reg.c == 206);
    CHECK(cpu.reg.d == 171);
    CHECK(cpu.reg.e == 180);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 59);
    CHECK(cpu.reg.l == 91);
    CHECK(cpu.pc == 35451);
    CHECK(cpu.sp == 31459);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35450] == 4);
}

TEST_CASE( "04 03B6", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29744;
    cpu.sp = 55988;
    cpu.reg.a = 220;
    cpu.reg.b = 88;
    cpu.reg.c = 97;
    cpu.reg.d = 236;
    cpu.reg.e = 101;
    cpu.reg.f = 112;
    cpu.reg.h = 96;
    cpu.reg.l = 233;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[29744] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 220);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 97);
    CHECK(cpu.reg.d == 236);
    CHECK(cpu.reg.e == 101);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 96);
    CHECK(cpu.reg.l == 233);
    CHECK(cpu.pc == 29745);
    CHECK(cpu.sp == 55988);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29744] == 4);
}

TEST_CASE( "04 03B7", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33098;
    cpu.sp = 62852;
    cpu.reg.a = 237;
    cpu.reg.b = 57;
    cpu.reg.c = 118;
    cpu.reg.d = 208;
    cpu.reg.e = 155;
    cpu.reg.f = 128;
    cpu.reg.h = 163;
    cpu.reg.l = 239;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[33098] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 237);
    CHECK(cpu.reg.b == 58);
    CHECK(cpu.reg.c == 118);
    CHECK(cpu.reg.d == 208);
    CHECK(cpu.reg.e == 155);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 163);
    CHECK(cpu.reg.l == 239);
    CHECK(cpu.pc == 33099);
    CHECK(cpu.sp == 62852);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33098] == 4);
}

TEST_CASE( "04 03B8", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42;
    cpu.sp = 32609;
    cpu.reg.a = 75;
    cpu.reg.b = 157;
    cpu.reg.c = 171;
    cpu.reg.d = 33;
    cpu.reg.e = 167;
    cpu.reg.f = 224;
    cpu.reg.h = 48;
    cpu.reg.l = 114;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[42] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 75);
    CHECK(cpu.reg.b == 158);
    CHECK(cpu.reg.c == 171);
    CHECK(cpu.reg.d == 33);
    CHECK(cpu.reg.e == 167);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 48);
    CHECK(cpu.reg.l == 114);
    CHECK(cpu.pc == 43);
    CHECK(cpu.sp == 32609);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[42] == 4);
}

TEST_CASE( "04 03B9", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45878;
    cpu.sp = 7622;
    cpu.reg.a = 20;
    cpu.reg.b = 165;
    cpu.reg.c = 44;
    cpu.reg.d = 57;
    cpu.reg.e = 240;
    cpu.reg.f = 32;
    cpu.reg.h = 59;
    cpu.reg.l = 49;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[45878] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 20);
    CHECK(cpu.reg.b == 166);
    CHECK(cpu.reg.c == 44);
    CHECK(cpu.reg.d == 57);
    CHECK(cpu.reg.e == 240);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 59);
    CHECK(cpu.reg.l == 49);
    CHECK(cpu.pc == 45879);
    CHECK(cpu.sp == 7622);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45878] == 4);
}

TEST_CASE( "04 03BA", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17876;
    cpu.sp = 54848;
    cpu.reg.a = 93;
    cpu.reg.b = 21;
    cpu.reg.c = 150;
    cpu.reg.d = 47;
    cpu.reg.e = 18;
    cpu.reg.f = 80;
    cpu.reg.h = 148;
    cpu.reg.l = 252;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[17876] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 93);
    CHECK(cpu.reg.b == 22);
    CHECK(cpu.reg.c == 150);
    CHECK(cpu.reg.d == 47);
    CHECK(cpu.reg.e == 18);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 148);
    CHECK(cpu.reg.l == 252);
    CHECK(cpu.pc == 17877);
    CHECK(cpu.sp == 54848);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17876] == 4);
}

TEST_CASE( "04 03BB", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35500;
    cpu.sp = 803;
    cpu.reg.a = 90;
    cpu.reg.b = 202;
    cpu.reg.c = 171;
    cpu.reg.d = 206;
    cpu.reg.e = 187;
    cpu.reg.f = 192;
    cpu.reg.h = 208;
    cpu.reg.l = 149;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[35500] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 90);
    CHECK(cpu.reg.b == 203);
    CHECK(cpu.reg.c == 171);
    CHECK(cpu.reg.d == 206);
    CHECK(cpu.reg.e == 187);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 208);
    CHECK(cpu.reg.l == 149);
    CHECK(cpu.pc == 35501);
    CHECK(cpu.sp == 803);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35500] == 4);
}

TEST_CASE( "04 03BC", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26142;
    cpu.sp = 64169;
    cpu.reg.a = 177;
    cpu.reg.b = 161;
    cpu.reg.c = 150;
    cpu.reg.d = 92;
    cpu.reg.e = 168;
    cpu.reg.f = 48;
    cpu.reg.h = 135;
    cpu.reg.l = 215;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[26142] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 177);
    CHECK(cpu.reg.b == 162);
    CHECK(cpu.reg.c == 150);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 168);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 135);
    CHECK(cpu.reg.l == 215);
    CHECK(cpu.pc == 26143);
    CHECK(cpu.sp == 64169);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26142] == 4);
}

TEST_CASE( "04 03BD", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53559;
    cpu.sp = 50875;
    cpu.reg.a = 219;
    cpu.reg.b = 78;
    cpu.reg.c = 118;
    cpu.reg.d = 106;
    cpu.reg.e = 73;
    cpu.reg.f = 128;
    cpu.reg.h = 100;
    cpu.reg.l = 210;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[53559] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 219);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 118);
    CHECK(cpu.reg.d == 106);
    CHECK(cpu.reg.e == 73);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 100);
    CHECK(cpu.reg.l == 210);
    CHECK(cpu.pc == 53560);
    CHECK(cpu.sp == 50875);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[53559] == 4);
}

TEST_CASE( "04 03BE", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 573;
    cpu.sp = 39816;
    cpu.reg.a = 130;
    cpu.reg.b = 51;
    cpu.reg.c = 143;
    cpu.reg.d = 181;
    cpu.reg.e = 216;
    cpu.reg.f = 144;
    cpu.reg.h = 30;
    cpu.reg.l = 245;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[573] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 130);
    CHECK(cpu.reg.b == 52);
    CHECK(cpu.reg.c == 143);
    CHECK(cpu.reg.d == 181);
    CHECK(cpu.reg.e == 216);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 30);
    CHECK(cpu.reg.l == 245);
    CHECK(cpu.pc == 574);
    CHECK(cpu.sp == 39816);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[573] == 4);
}

TEST_CASE( "04 03BF", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18053;
    cpu.sp = 37181;
    cpu.reg.a = 30;
    cpu.reg.b = 235;
    cpu.reg.c = 214;
    cpu.reg.d = 244;
    cpu.reg.e = 38;
    cpu.reg.f = 240;
    cpu.reg.h = 105;
    cpu.reg.l = 175;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[18053] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 30);
    CHECK(cpu.reg.b == 236);
    CHECK(cpu.reg.c == 214);
    CHECK(cpu.reg.d == 244);
    CHECK(cpu.reg.e == 38);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 105);
    CHECK(cpu.reg.l == 175);
    CHECK(cpu.pc == 18054);
    CHECK(cpu.sp == 37181);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18053] == 4);
}

TEST_CASE( "04 03C0", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22165;
    cpu.sp = 18040;
    cpu.reg.a = 26;
    cpu.reg.b = 155;
    cpu.reg.c = 210;
    cpu.reg.d = 38;
    cpu.reg.e = 175;
    cpu.reg.f = 192;
    cpu.reg.h = 39;
    cpu.reg.l = 245;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[22165] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 26);
    CHECK(cpu.reg.b == 156);
    CHECK(cpu.reg.c == 210);
    CHECK(cpu.reg.d == 38);
    CHECK(cpu.reg.e == 175);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 39);
    CHECK(cpu.reg.l == 245);
    CHECK(cpu.pc == 22166);
    CHECK(cpu.sp == 18040);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22165] == 4);
}

TEST_CASE( "04 03C1", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8317;
    cpu.sp = 40953;
    cpu.reg.a = 70;
    cpu.reg.b = 2;
    cpu.reg.c = 115;
    cpu.reg.d = 98;
    cpu.reg.e = 73;
    cpu.reg.f = 48;
    cpu.reg.h = 148;
    cpu.reg.l = 240;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[8317] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 70);
    CHECK(cpu.reg.b == 3);
    CHECK(cpu.reg.c == 115);
    CHECK(cpu.reg.d == 98);
    CHECK(cpu.reg.e == 73);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 148);
    CHECK(cpu.reg.l == 240);
    CHECK(cpu.pc == 8318);
    CHECK(cpu.sp == 40953);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8317] == 4);
}

TEST_CASE( "04 03C2", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59613;
    cpu.sp = 60930;
    cpu.reg.a = 36;
    cpu.reg.b = 230;
    cpu.reg.c = 172;
    cpu.reg.d = 98;
    cpu.reg.e = 64;
    cpu.reg.f = 0;
    cpu.reg.h = 213;
    cpu.reg.l = 32;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[59613] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 36);
    CHECK(cpu.reg.b == 231);
    CHECK(cpu.reg.c == 172);
    CHECK(cpu.reg.d == 98);
    CHECK(cpu.reg.e == 64);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 213);
    CHECK(cpu.reg.l == 32);
    CHECK(cpu.pc == 59614);
    CHECK(cpu.sp == 60930);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[59613] == 4);
}

TEST_CASE( "04 03C3", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9319;
    cpu.sp = 49117;
    cpu.reg.a = 102;
    cpu.reg.b = 133;
    cpu.reg.c = 26;
    cpu.reg.d = 113;
    cpu.reg.e = 222;
    cpu.reg.f = 192;
    cpu.reg.h = 111;
    cpu.reg.l = 100;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[9319] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 102);
    CHECK(cpu.reg.b == 134);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 113);
    CHECK(cpu.reg.e == 222);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 111);
    CHECK(cpu.reg.l == 100);
    CHECK(cpu.pc == 9320);
    CHECK(cpu.sp == 49117);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9319] == 4);
}

TEST_CASE( "04 03C4", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33136;
    cpu.sp = 14479;
    cpu.reg.a = 245;
    cpu.reg.b = 142;
    cpu.reg.c = 65;
    cpu.reg.d = 125;
    cpu.reg.e = 188;
    cpu.reg.f = 48;
    cpu.reg.h = 44;
    cpu.reg.l = 122;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[33136] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 245);
    CHECK(cpu.reg.b == 143);
    CHECK(cpu.reg.c == 65);
    CHECK(cpu.reg.d == 125);
    CHECK(cpu.reg.e == 188);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 44);
    CHECK(cpu.reg.l == 122);
    CHECK(cpu.pc == 33137);
    CHECK(cpu.sp == 14479);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33136] == 4);
}

TEST_CASE( "04 03C5", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29052;
    cpu.sp = 32969;
    cpu.reg.a = 109;
    cpu.reg.b = 226;
    cpu.reg.c = 37;
    cpu.reg.d = 16;
    cpu.reg.e = 223;
    cpu.reg.f = 80;
    cpu.reg.h = 64;
    cpu.reg.l = 14;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[29052] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 109);
    CHECK(cpu.reg.b == 227);
    CHECK(cpu.reg.c == 37);
    CHECK(cpu.reg.d == 16);
    CHECK(cpu.reg.e == 223);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 64);
    CHECK(cpu.reg.l == 14);
    CHECK(cpu.pc == 29053);
    CHECK(cpu.sp == 32969);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[29052] == 4);
}

TEST_CASE( "04 03C6", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11980;
    cpu.sp = 48057;
    cpu.reg.a = 131;
    cpu.reg.b = 222;
    cpu.reg.c = 167;
    cpu.reg.d = 166;
    cpu.reg.e = 208;
    cpu.reg.f = 112;
    cpu.reg.h = 244;
    cpu.reg.l = 75;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[11980] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 131);
    CHECK(cpu.reg.b == 223);
    CHECK(cpu.reg.c == 167);
    CHECK(cpu.reg.d == 166);
    CHECK(cpu.reg.e == 208);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 244);
    CHECK(cpu.reg.l == 75);
    CHECK(cpu.pc == 11981);
    CHECK(cpu.sp == 48057);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11980] == 4);
}

TEST_CASE( "04 03C7", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36963;
    cpu.sp = 54734;
    cpu.reg.a = 10;
    cpu.reg.b = 191;
    cpu.reg.c = 210;
    cpu.reg.d = 150;
    cpu.reg.e = 117;
    cpu.reg.f = 80;
    cpu.reg.h = 255;
    cpu.reg.l = 33;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[36963] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 10);
    CHECK(cpu.reg.b == 192);
    CHECK(cpu.reg.c == 210);
    CHECK(cpu.reg.d == 150);
    CHECK(cpu.reg.e == 117);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 255);
    CHECK(cpu.reg.l == 33);
    CHECK(cpu.pc == 36964);
    CHECK(cpu.sp == 54734);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[36963] == 4);
}

TEST_CASE( "04 03C8", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55916;
    cpu.sp = 46377;
    cpu.reg.a = 186;
    cpu.reg.b = 167;
    cpu.reg.c = 18;
    cpu.reg.d = 91;
    cpu.reg.e = 45;
    cpu.reg.f = 176;
    cpu.reg.h = 71;
    cpu.reg.l = 44;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[55916] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 186);
    CHECK(cpu.reg.b == 168);
    CHECK(cpu.reg.c == 18);
    CHECK(cpu.reg.d == 91);
    CHECK(cpu.reg.e == 45);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 71);
    CHECK(cpu.reg.l == 44);
    CHECK(cpu.pc == 55917);
    CHECK(cpu.sp == 46377);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[55916] == 4);
}

TEST_CASE( "04 03C9", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25149;
    cpu.sp = 65317;
    cpu.reg.a = 159;
    cpu.reg.b = 139;
    cpu.reg.c = 228;
    cpu.reg.d = 168;
    cpu.reg.e = 203;
    cpu.reg.f = 192;
    cpu.reg.h = 93;
    cpu.reg.l = 7;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[25149] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 159);
    CHECK(cpu.reg.b == 140);
    CHECK(cpu.reg.c == 228);
    CHECK(cpu.reg.d == 168);
    CHECK(cpu.reg.e == 203);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 93);
    CHECK(cpu.reg.l == 7);
    CHECK(cpu.pc == 25150);
    CHECK(cpu.sp == 65317);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25149] == 4);
}

TEST_CASE( "04 03CA", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25040;
    cpu.sp = 13349;
    cpu.reg.a = 247;
    cpu.reg.b = 238;
    cpu.reg.c = 202;
    cpu.reg.d = 163;
    cpu.reg.e = 188;
    cpu.reg.f = 240;
    cpu.reg.h = 170;
    cpu.reg.l = 28;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[25040] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 247);
    CHECK(cpu.reg.b == 239);
    CHECK(cpu.reg.c == 202);
    CHECK(cpu.reg.d == 163);
    CHECK(cpu.reg.e == 188);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 170);
    CHECK(cpu.reg.l == 28);
    CHECK(cpu.pc == 25041);
    CHECK(cpu.sp == 13349);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25040] == 4);
}

TEST_CASE( "04 03CB", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39251;
    cpu.sp = 50967;
    cpu.reg.a = 253;
    cpu.reg.b = 209;
    cpu.reg.c = 166;
    cpu.reg.d = 11;
    cpu.reg.e = 6;
    cpu.reg.f = 112;
    cpu.reg.h = 233;
    cpu.reg.l = 249;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[39251] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 253);
    CHECK(cpu.reg.b == 210);
    CHECK(cpu.reg.c == 166);
    CHECK(cpu.reg.d == 11);
    CHECK(cpu.reg.e == 6);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 233);
    CHECK(cpu.reg.l == 249);
    CHECK(cpu.pc == 39252);
    CHECK(cpu.sp == 50967);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39251] == 4);
}

TEST_CASE( "04 03CC", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2064;
    cpu.sp = 40018;
    cpu.reg.a = 203;
    cpu.reg.b = 159;
    cpu.reg.c = 226;
    cpu.reg.d = 250;
    cpu.reg.e = 149;
    cpu.reg.f = 80;
    cpu.reg.h = 45;
    cpu.reg.l = 53;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[2064] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 203);
    CHECK(cpu.reg.b == 160);
    CHECK(cpu.reg.c == 226);
    CHECK(cpu.reg.d == 250);
    CHECK(cpu.reg.e == 149);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 45);
    CHECK(cpu.reg.l == 53);
    CHECK(cpu.pc == 2065);
    CHECK(cpu.sp == 40018);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2064] == 4);
}

TEST_CASE( "04 03CD", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47252;
    cpu.sp = 41586;
    cpu.reg.a = 199;
    cpu.reg.b = 111;
    cpu.reg.c = 144;
    cpu.reg.d = 162;
    cpu.reg.e = 220;
    cpu.reg.f = 160;
    cpu.reg.h = 94;
    cpu.reg.l = 49;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47252] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 199);
    CHECK(cpu.reg.b == 112);
    CHECK(cpu.reg.c == 144);
    CHECK(cpu.reg.d == 162);
    CHECK(cpu.reg.e == 220);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 94);
    CHECK(cpu.reg.l == 49);
    CHECK(cpu.pc == 47253);
    CHECK(cpu.sp == 41586);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47252] == 4);
}

TEST_CASE( "04 03CE", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45187;
    cpu.sp = 39525;
    cpu.reg.a = 57;
    cpu.reg.b = 95;
    cpu.reg.c = 31;
    cpu.reg.d = 3;
    cpu.reg.e = 160;
    cpu.reg.f = 96;
    cpu.reg.h = 157;
    cpu.reg.l = 10;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[45187] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 57);
    CHECK(cpu.reg.b == 96);
    CHECK(cpu.reg.c == 31);
    CHECK(cpu.reg.d == 3);
    CHECK(cpu.reg.e == 160);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 157);
    CHECK(cpu.reg.l == 10);
    CHECK(cpu.pc == 45188);
    CHECK(cpu.sp == 39525);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45187] == 4);
}

TEST_CASE( "04 03CF", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13367;
    cpu.sp = 45604;
    cpu.reg.a = 16;
    cpu.reg.b = 159;
    cpu.reg.c = 33;
    cpu.reg.d = 133;
    cpu.reg.e = 116;
    cpu.reg.f = 80;
    cpu.reg.h = 148;
    cpu.reg.l = 237;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[13367] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 16);
    CHECK(cpu.reg.b == 160);
    CHECK(cpu.reg.c == 33);
    CHECK(cpu.reg.d == 133);
    CHECK(cpu.reg.e == 116);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 148);
    CHECK(cpu.reg.l == 237);
    CHECK(cpu.pc == 13368);
    CHECK(cpu.sp == 45604);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13367] == 4);
}

TEST_CASE( "04 03D0", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23368;
    cpu.sp = 61383;
    cpu.reg.a = 134;
    cpu.reg.b = 221;
    cpu.reg.c = 213;
    cpu.reg.d = 252;
    cpu.reg.e = 75;
    cpu.reg.f = 176;
    cpu.reg.h = 176;
    cpu.reg.l = 168;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[23368] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 134);
    CHECK(cpu.reg.b == 222);
    CHECK(cpu.reg.c == 213);
    CHECK(cpu.reg.d == 252);
    CHECK(cpu.reg.e == 75);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 176);
    CHECK(cpu.reg.l == 168);
    CHECK(cpu.pc == 23369);
    CHECK(cpu.sp == 61383);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[23368] == 4);
}

TEST_CASE( "04 03D1", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16389;
    cpu.sp = 43310;
    cpu.reg.a = 155;
    cpu.reg.b = 65;
    cpu.reg.c = 140;
    cpu.reg.d = 75;
    cpu.reg.e = 251;
    cpu.reg.f = 240;
    cpu.reg.h = 130;
    cpu.reg.l = 219;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[16389] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 155);
    CHECK(cpu.reg.b == 66);
    CHECK(cpu.reg.c == 140);
    CHECK(cpu.reg.d == 75);
    CHECK(cpu.reg.e == 251);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 130);
    CHECK(cpu.reg.l == 219);
    CHECK(cpu.pc == 16390);
    CHECK(cpu.sp == 43310);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16389] == 4);
}

TEST_CASE( "04 03D2", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32968;
    cpu.sp = 50568;
    cpu.reg.a = 50;
    cpu.reg.b = 220;
    cpu.reg.c = 45;
    cpu.reg.d = 118;
    cpu.reg.e = 174;
    cpu.reg.f = 176;
    cpu.reg.h = 3;
    cpu.reg.l = 218;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[32968] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 50);
    CHECK(cpu.reg.b == 221);
    CHECK(cpu.reg.c == 45);
    CHECK(cpu.reg.d == 118);
    CHECK(cpu.reg.e == 174);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 3);
    CHECK(cpu.reg.l == 218);
    CHECK(cpu.pc == 32969);
    CHECK(cpu.sp == 50568);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[32968] == 4);
}

TEST_CASE( "04 03D3", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49349;
    cpu.sp = 15574;
    cpu.reg.a = 147;
    cpu.reg.b = 185;
    cpu.reg.c = 210;
    cpu.reg.d = 219;
    cpu.reg.e = 22;
    cpu.reg.f = 144;
    cpu.reg.h = 31;
    cpu.reg.l = 162;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[49349] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 147);
    CHECK(cpu.reg.b == 186);
    CHECK(cpu.reg.c == 210);
    CHECK(cpu.reg.d == 219);
    CHECK(cpu.reg.e == 22);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 31);
    CHECK(cpu.reg.l == 162);
    CHECK(cpu.pc == 49350);
    CHECK(cpu.sp == 15574);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49349] == 4);
}

TEST_CASE( "04 03D4", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24207;
    cpu.sp = 34083;
    cpu.reg.a = 145;
    cpu.reg.b = 119;
    cpu.reg.c = 176;
    cpu.reg.d = 147;
    cpu.reg.e = 247;
    cpu.reg.f = 96;
    cpu.reg.h = 38;
    cpu.reg.l = 186;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[24207] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 145);
    CHECK(cpu.reg.b == 120);
    CHECK(cpu.reg.c == 176);
    CHECK(cpu.reg.d == 147);
    CHECK(cpu.reg.e == 247);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 38);
    CHECK(cpu.reg.l == 186);
    CHECK(cpu.pc == 24208);
    CHECK(cpu.sp == 34083);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24207] == 4);
}

TEST_CASE( "04 03D5", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21970;
    cpu.sp = 48140;
    cpu.reg.a = 229;
    cpu.reg.b = 28;
    cpu.reg.c = 211;
    cpu.reg.d = 205;
    cpu.reg.e = 14;
    cpu.reg.f = 160;
    cpu.reg.h = 65;
    cpu.reg.l = 215;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[21970] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 229);
    CHECK(cpu.reg.b == 29);
    CHECK(cpu.reg.c == 211);
    CHECK(cpu.reg.d == 205);
    CHECK(cpu.reg.e == 14);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 65);
    CHECK(cpu.reg.l == 215);
    CHECK(cpu.pc == 21971);
    CHECK(cpu.sp == 48140);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21970] == 4);
}

TEST_CASE( "04 03D6", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58058;
    cpu.sp = 63640;
    cpu.reg.a = 56;
    cpu.reg.b = 122;
    cpu.reg.c = 174;
    cpu.reg.d = 183;
    cpu.reg.e = 136;
    cpu.reg.f = 176;
    cpu.reg.h = 177;
    cpu.reg.l = 14;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[58058] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 56);
    CHECK(cpu.reg.b == 123);
    CHECK(cpu.reg.c == 174);
    CHECK(cpu.reg.d == 183);
    CHECK(cpu.reg.e == 136);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 177);
    CHECK(cpu.reg.l == 14);
    CHECK(cpu.pc == 58059);
    CHECK(cpu.sp == 63640);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[58058] == 4);
}

TEST_CASE( "04 03D7", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13179;
    cpu.sp = 57307;
    cpu.reg.a = 39;
    cpu.reg.b = 233;
    cpu.reg.c = 157;
    cpu.reg.d = 64;
    cpu.reg.e = 119;
    cpu.reg.f = 208;
    cpu.reg.h = 78;
    cpu.reg.l = 248;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[13179] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 39);
    CHECK(cpu.reg.b == 234);
    CHECK(cpu.reg.c == 157);
    CHECK(cpu.reg.d == 64);
    CHECK(cpu.reg.e == 119);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 78);
    CHECK(cpu.reg.l == 248);
    CHECK(cpu.pc == 13180);
    CHECK(cpu.sp == 57307);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13179] == 4);
}

TEST_CASE( "04 03D8", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53808;
    cpu.sp = 56263;
    cpu.reg.a = 207;
    cpu.reg.b = 69;
    cpu.reg.c = 249;
    cpu.reg.d = 197;
    cpu.reg.e = 168;
    cpu.reg.f = 80;
    cpu.reg.h = 114;
    cpu.reg.l = 147;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[53808] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 207);
    CHECK(cpu.reg.b == 70);
    CHECK(cpu.reg.c == 249);
    CHECK(cpu.reg.d == 197);
    CHECK(cpu.reg.e == 168);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 114);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 53809);
    CHECK(cpu.sp == 56263);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[53808] == 4);
}

TEST_CASE( "04 03D9", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31693;
    cpu.sp = 58654;
    cpu.reg.a = 76;
    cpu.reg.b = 164;
    cpu.reg.c = 207;
    cpu.reg.d = 208;
    cpu.reg.e = 42;
    cpu.reg.f = 128;
    cpu.reg.h = 153;
    cpu.reg.l = 162;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[31693] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 76);
    CHECK(cpu.reg.b == 165);
    CHECK(cpu.reg.c == 207);
    CHECK(cpu.reg.d == 208);
    CHECK(cpu.reg.e == 42);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 153);
    CHECK(cpu.reg.l == 162);
    CHECK(cpu.pc == 31694);
    CHECK(cpu.sp == 58654);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31693] == 4);
}

TEST_CASE( "04 03DA", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54927;
    cpu.sp = 5867;
    cpu.reg.a = 11;
    cpu.reg.b = 186;
    cpu.reg.c = 249;
    cpu.reg.d = 175;
    cpu.reg.e = 52;
    cpu.reg.f = 208;
    cpu.reg.h = 241;
    cpu.reg.l = 27;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[54927] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 11);
    CHECK(cpu.reg.b == 187);
    CHECK(cpu.reg.c == 249);
    CHECK(cpu.reg.d == 175);
    CHECK(cpu.reg.e == 52);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 27);
    CHECK(cpu.pc == 54928);
    CHECK(cpu.sp == 5867);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[54927] == 4);
}

TEST_CASE( "04 03DB", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60216;
    cpu.sp = 61693;
    cpu.reg.a = 150;
    cpu.reg.b = 27;
    cpu.reg.c = 101;
    cpu.reg.d = 42;
    cpu.reg.e = 92;
    cpu.reg.f = 224;
    cpu.reg.h = 107;
    cpu.reg.l = 43;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[60216] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 150);
    CHECK(cpu.reg.b == 28);
    CHECK(cpu.reg.c == 101);
    CHECK(cpu.reg.d == 42);
    CHECK(cpu.reg.e == 92);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 107);
    CHECK(cpu.reg.l == 43);
    CHECK(cpu.pc == 60217);
    CHECK(cpu.sp == 61693);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60216] == 4);
}

TEST_CASE( "04 03DC", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49390;
    cpu.sp = 28260;
    cpu.reg.a = 114;
    cpu.reg.b = 66;
    cpu.reg.c = 164;
    cpu.reg.d = 20;
    cpu.reg.e = 182;
    cpu.reg.f = 192;
    cpu.reg.h = 176;
    cpu.reg.l = 74;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[49390] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 114);
    CHECK(cpu.reg.b == 67);
    CHECK(cpu.reg.c == 164);
    CHECK(cpu.reg.d == 20);
    CHECK(cpu.reg.e == 182);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 176);
    CHECK(cpu.reg.l == 74);
    CHECK(cpu.pc == 49391);
    CHECK(cpu.sp == 28260);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49390] == 4);
}

TEST_CASE( "04 03DD", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29459;
    cpu.sp = 65512;
    cpu.reg.a = 178;
    cpu.reg.b = 251;
    cpu.reg.c = 244;
    cpu.reg.d = 17;
    cpu.reg.e = 142;
    cpu.reg.f = 160;
    cpu.reg.h = 17;
    cpu.reg.l = 216;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[29459] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 178);
    CHECK(cpu.reg.b == 252);
    CHECK(cpu.reg.c == 244);
    CHECK(cpu.reg.d == 17);
    CHECK(cpu.reg.e == 142);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 216);
    CHECK(cpu.pc == 29460);
    CHECK(cpu.sp == 65512);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[29459] == 4);
}

TEST_CASE( "04 03DE", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9680;
    cpu.sp = 32855;
    cpu.reg.a = 6;
    cpu.reg.b = 175;
    cpu.reg.c = 130;
    cpu.reg.d = 22;
    cpu.reg.e = 225;
    cpu.reg.f = 64;
    cpu.reg.h = 171;
    cpu.reg.l = 192;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[9680] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 6);
    CHECK(cpu.reg.b == 176);
    CHECK(cpu.reg.c == 130);
    CHECK(cpu.reg.d == 22);
    CHECK(cpu.reg.e == 225);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 171);
    CHECK(cpu.reg.l == 192);
    CHECK(cpu.pc == 9681);
    CHECK(cpu.sp == 32855);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9680] == 4);
}

TEST_CASE( "04 03DF", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9345;
    cpu.sp = 1363;
    cpu.reg.a = 148;
    cpu.reg.b = 165;
    cpu.reg.c = 71;
    cpu.reg.d = 214;
    cpu.reg.e = 137;
    cpu.reg.f = 80;
    cpu.reg.h = 64;
    cpu.reg.l = 65;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[9345] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 148);
    CHECK(cpu.reg.b == 166);
    CHECK(cpu.reg.c == 71);
    CHECK(cpu.reg.d == 214);
    CHECK(cpu.reg.e == 137);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 64);
    CHECK(cpu.reg.l == 65);
    CHECK(cpu.pc == 9346);
    CHECK(cpu.sp == 1363);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9345] == 4);
}

TEST_CASE( "04 03E0", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62878;
    cpu.sp = 63720;
    cpu.reg.a = 42;
    cpu.reg.b = 19;
    cpu.reg.c = 180;
    cpu.reg.d = 100;
    cpu.reg.e = 239;
    cpu.reg.f = 96;
    cpu.reg.h = 106;
    cpu.reg.l = 80;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[62878] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 42);
    CHECK(cpu.reg.b == 20);
    CHECK(cpu.reg.c == 180);
    CHECK(cpu.reg.d == 100);
    CHECK(cpu.reg.e == 239);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 106);
    CHECK(cpu.reg.l == 80);
    CHECK(cpu.pc == 62879);
    CHECK(cpu.sp == 63720);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[62878] == 4);
}

TEST_CASE( "04 03E1", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49008;
    cpu.sp = 29668;
    cpu.reg.a = 59;
    cpu.reg.b = 25;
    cpu.reg.c = 55;
    cpu.reg.d = 195;
    cpu.reg.e = 82;
    cpu.reg.f = 64;
    cpu.reg.h = 72;
    cpu.reg.l = 30;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[49008] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 59);
    CHECK(cpu.reg.b == 26);
    CHECK(cpu.reg.c == 55);
    CHECK(cpu.reg.d == 195);
    CHECK(cpu.reg.e == 82);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 72);
    CHECK(cpu.reg.l == 30);
    CHECK(cpu.pc == 49009);
    CHECK(cpu.sp == 29668);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49008] == 4);
}

TEST_CASE( "04 03E2", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23721;
    cpu.sp = 22446;
    cpu.reg.a = 134;
    cpu.reg.b = 125;
    cpu.reg.c = 93;
    cpu.reg.d = 27;
    cpu.reg.e = 226;
    cpu.reg.f = 64;
    cpu.reg.h = 217;
    cpu.reg.l = 185;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[23721] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 134);
    CHECK(cpu.reg.b == 126);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 27);
    CHECK(cpu.reg.e == 226);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 217);
    CHECK(cpu.reg.l == 185);
    CHECK(cpu.pc == 23722);
    CHECK(cpu.sp == 22446);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23721] == 4);
}

TEST_CASE( "04 03E3", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5104;
    cpu.sp = 38619;
    cpu.reg.a = 242;
    cpu.reg.b = 40;
    cpu.reg.c = 214;
    cpu.reg.d = 129;
    cpu.reg.e = 246;
    cpu.reg.f = 96;
    cpu.reg.h = 0;
    cpu.reg.l = 172;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[5104] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 242);
    CHECK(cpu.reg.b == 41);
    CHECK(cpu.reg.c == 214);
    CHECK(cpu.reg.d == 129);
    CHECK(cpu.reg.e == 246);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 0);
    CHECK(cpu.reg.l == 172);
    CHECK(cpu.pc == 5105);
    CHECK(cpu.sp == 38619);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5104] == 4);
}

TEST_CASE( "04 03E4", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47654;
    cpu.sp = 7526;
    cpu.reg.a = 57;
    cpu.reg.b = 76;
    cpu.reg.c = 143;
    cpu.reg.d = 4;
    cpu.reg.e = 249;
    cpu.reg.f = 240;
    cpu.reg.h = 38;
    cpu.reg.l = 217;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[47654] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 57);
    CHECK(cpu.reg.b == 77);
    CHECK(cpu.reg.c == 143);
    CHECK(cpu.reg.d == 4);
    CHECK(cpu.reg.e == 249);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 38);
    CHECK(cpu.reg.l == 217);
    CHECK(cpu.pc == 47655);
    CHECK(cpu.sp == 7526);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47654] == 4);
}

TEST_CASE( "04 03E5", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30899;
    cpu.sp = 60263;
    cpu.reg.a = 148;
    cpu.reg.b = 92;
    cpu.reg.c = 28;
    cpu.reg.d = 29;
    cpu.reg.e = 214;
    cpu.reg.f = 224;
    cpu.reg.h = 198;
    cpu.reg.l = 122;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[30899] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 148);
    CHECK(cpu.reg.b == 93);
    CHECK(cpu.reg.c == 28);
    CHECK(cpu.reg.d == 29);
    CHECK(cpu.reg.e == 214);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 198);
    CHECK(cpu.reg.l == 122);
    CHECK(cpu.pc == 30900);
    CHECK(cpu.sp == 60263);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30899] == 4);
}

TEST_CASE( "04 03E6", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45679;
    cpu.sp = 35674;
    cpu.reg.a = 168;
    cpu.reg.b = 175;
    cpu.reg.c = 69;
    cpu.reg.d = 6;
    cpu.reg.e = 5;
    cpu.reg.f = 48;
    cpu.reg.h = 23;
    cpu.reg.l = 171;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[45679] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 168);
    CHECK(cpu.reg.b == 176);
    CHECK(cpu.reg.c == 69);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 5);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 23);
    CHECK(cpu.reg.l == 171);
    CHECK(cpu.pc == 45680);
    CHECK(cpu.sp == 35674);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45679] == 4);
}

TEST_CASE( "04 03E7", "04" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48640;
    cpu.sp = 52061;
    cpu.reg.a = 113;
    cpu.reg.b = 152;
    cpu.reg.c = 111;
    cpu.reg.d = 108;
    cpu.reg.e = 232;
    cpu.reg.f = 32;
    cpu.reg.h = 183;
    cpu.reg.l = 58;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[48640] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 113);
    CHECK(cpu.reg.b == 153);
    CHECK(cpu.reg.c == 111);
    CHECK(cpu.reg.d == 108);
    CHECK(cpu.reg.e == 232);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 183);
    CHECK(cpu.reg.l == 58);
    CHECK(cpu.pc == 48641);
    CHECK(cpu.sp == 52061);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[48640] == 4);
}
