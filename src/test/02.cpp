// AutoGenerated using codegent_tests.py
// Based on https://github.com/SingleStepTests/sm83
// File: 02.json
#include <catch2/catch_test_macros.hpp>
#include "Cpu.h"

TEST_CASE( "02 0000", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17818;
    cpu.sp = 16123;
    cpu.reg.a = 162;
    cpu.reg.b = 138;
    cpu.reg.c = 30;
    cpu.reg.d = 250;
    cpu.reg.e = 254;
    cpu.reg.f = 144;
    cpu.reg.h = 4;
    cpu.reg.l = 181;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[17818] = 2;
    cpu.ram[35358] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 162);
    CHECK(cpu.reg.b == 138);
    CHECK(cpu.reg.c == 30);
    CHECK(cpu.reg.d == 250);
    CHECK(cpu.reg.e == 254);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 4);
    CHECK(cpu.reg.l == 181);
    CHECK(cpu.pc == 17819);
    CHECK(cpu.sp == 16123);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17818] == 2);
    REQUIRE(cpu.ram[35358] == 162);
}

TEST_CASE( "02 0001", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33882;
    cpu.sp = 649;
    cpu.reg.a = 75;
    cpu.reg.b = 12;
    cpu.reg.c = 129;
    cpu.reg.d = 137;
    cpu.reg.e = 206;
    cpu.reg.f = 64;
    cpu.reg.h = 121;
    cpu.reg.l = 226;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[3201] = 0;
    cpu.ram[33882] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 75);
    CHECK(cpu.reg.b == 12);
    CHECK(cpu.reg.c == 129);
    CHECK(cpu.reg.d == 137);
    CHECK(cpu.reg.e == 206);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 121);
    CHECK(cpu.reg.l == 226);
    CHECK(cpu.pc == 33883);
    CHECK(cpu.sp == 649);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3201] == 75);
    REQUIRE(cpu.ram[33882] == 2);
}

TEST_CASE( "02 0002", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23719;
    cpu.sp = 49523;
    cpu.reg.a = 167;
    cpu.reg.b = 252;
    cpu.reg.c = 138;
    cpu.reg.d = 134;
    cpu.reg.e = 3;
    cpu.reg.f = 0;
    cpu.reg.h = 137;
    cpu.reg.l = 109;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[23719] = 2;
    cpu.ram[64650] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 167);
    CHECK(cpu.reg.b == 252);
    CHECK(cpu.reg.c == 138);
    CHECK(cpu.reg.d == 134);
    CHECK(cpu.reg.e == 3);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 137);
    CHECK(cpu.reg.l == 109);
    CHECK(cpu.pc == 23720);
    CHECK(cpu.sp == 49523);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23719] == 2);
    REQUIRE(cpu.ram[64650] == 167);
}

TEST_CASE( "02 0003", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12999;
    cpu.sp = 57768;
    cpu.reg.a = 159;
    cpu.reg.b = 130;
    cpu.reg.c = 232;
    cpu.reg.d = 182;
    cpu.reg.e = 73;
    cpu.reg.f = 32;
    cpu.reg.h = 107;
    cpu.reg.l = 196;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[12999] = 2;
    cpu.ram[33512] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 159);
    CHECK(cpu.reg.b == 130);
    CHECK(cpu.reg.c == 232);
    CHECK(cpu.reg.d == 182);
    CHECK(cpu.reg.e == 73);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 107);
    CHECK(cpu.reg.l == 196);
    CHECK(cpu.pc == 13000);
    CHECK(cpu.sp == 57768);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12999] == 2);
    REQUIRE(cpu.ram[33512] == 159);
}

TEST_CASE( "02 0004", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11768;
    cpu.sp = 14681;
    cpu.reg.a = 72;
    cpu.reg.b = 50;
    cpu.reg.c = 133;
    cpu.reg.d = 36;
    cpu.reg.e = 71;
    cpu.reg.f = 240;
    cpu.reg.h = 93;
    cpu.reg.l = 233;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[11768] = 2;
    cpu.ram[12933] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 72);
    CHECK(cpu.reg.b == 50);
    CHECK(cpu.reg.c == 133);
    CHECK(cpu.reg.d == 36);
    CHECK(cpu.reg.e == 71);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 93);
    CHECK(cpu.reg.l == 233);
    CHECK(cpu.pc == 11769);
    CHECK(cpu.sp == 14681);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11768] == 2);
    REQUIRE(cpu.ram[12933] == 72);
}

TEST_CASE( "02 0005", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59671;
    cpu.sp = 24184;
    cpu.reg.a = 51;
    cpu.reg.b = 177;
    cpu.reg.c = 241;
    cpu.reg.d = 110;
    cpu.reg.e = 240;
    cpu.reg.f = 160;
    cpu.reg.h = 148;
    cpu.reg.l = 170;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[45553] = 0;
    cpu.ram[59671] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 51);
    CHECK(cpu.reg.b == 177);
    CHECK(cpu.reg.c == 241);
    CHECK(cpu.reg.d == 110);
    CHECK(cpu.reg.e == 240);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 148);
    CHECK(cpu.reg.l == 170);
    CHECK(cpu.pc == 59672);
    CHECK(cpu.sp == 24184);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45553] == 51);
    REQUIRE(cpu.ram[59671] == 2);
}

TEST_CASE( "02 0006", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43583;
    cpu.sp = 44207;
    cpu.reg.a = 238;
    cpu.reg.b = 163;
    cpu.reg.c = 214;
    cpu.reg.d = 87;
    cpu.reg.e = 219;
    cpu.reg.f = 208;
    cpu.reg.h = 183;
    cpu.reg.l = 225;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[41942] = 0;
    cpu.ram[43583] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 238);
    CHECK(cpu.reg.b == 163);
    CHECK(cpu.reg.c == 214);
    CHECK(cpu.reg.d == 87);
    CHECK(cpu.reg.e == 219);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 183);
    CHECK(cpu.reg.l == 225);
    CHECK(cpu.pc == 43584);
    CHECK(cpu.sp == 44207);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[41942] == 238);
    REQUIRE(cpu.ram[43583] == 2);
}

TEST_CASE( "02 0007", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21303;
    cpu.sp = 10968;
    cpu.reg.a = 67;
    cpu.reg.b = 129;
    cpu.reg.c = 148;
    cpu.reg.d = 144;
    cpu.reg.e = 240;
    cpu.reg.f = 96;
    cpu.reg.h = 25;
    cpu.reg.l = 206;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[21303] = 2;
    cpu.ram[33172] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 67);
    CHECK(cpu.reg.b == 129);
    CHECK(cpu.reg.c == 148);
    CHECK(cpu.reg.d == 144);
    CHECK(cpu.reg.e == 240);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 25);
    CHECK(cpu.reg.l == 206);
    CHECK(cpu.pc == 21304);
    CHECK(cpu.sp == 10968);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21303] == 2);
    REQUIRE(cpu.ram[33172] == 67);
}

TEST_CASE( "02 0008", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28973;
    cpu.sp = 28258;
    cpu.reg.a = 118;
    cpu.reg.b = 108;
    cpu.reg.c = 83;
    cpu.reg.d = 190;
    cpu.reg.e = 121;
    cpu.reg.f = 240;
    cpu.reg.h = 40;
    cpu.reg.l = 101;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[27731] = 0;
    cpu.ram[28973] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 118);
    CHECK(cpu.reg.b == 108);
    CHECK(cpu.reg.c == 83);
    CHECK(cpu.reg.d == 190);
    CHECK(cpu.reg.e == 121);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 40);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 28974);
    CHECK(cpu.sp == 28258);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27731] == 118);
    REQUIRE(cpu.ram[28973] == 2);
}

TEST_CASE( "02 0009", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53200;
    cpu.sp = 3035;
    cpu.reg.a = 39;
    cpu.reg.b = 11;
    cpu.reg.c = 49;
    cpu.reg.d = 196;
    cpu.reg.e = 8;
    cpu.reg.f = 112;
    cpu.reg.h = 199;
    cpu.reg.l = 10;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[2865] = 0;
    cpu.ram[53200] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 39);
    CHECK(cpu.reg.b == 11);
    CHECK(cpu.reg.c == 49);
    CHECK(cpu.reg.d == 196);
    CHECK(cpu.reg.e == 8);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 199);
    CHECK(cpu.reg.l == 10);
    CHECK(cpu.pc == 53201);
    CHECK(cpu.sp == 3035);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2865] == 39);
    REQUIRE(cpu.ram[53200] == 2);
}

TEST_CASE( "02 000A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33219;
    cpu.sp = 57481;
    cpu.reg.a = 56;
    cpu.reg.b = 77;
    cpu.reg.c = 2;
    cpu.reg.d = 220;
    cpu.reg.e = 81;
    cpu.reg.f = 32;
    cpu.reg.h = 5;
    cpu.reg.l = 124;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[19714] = 0;
    cpu.ram[33219] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 56);
    CHECK(cpu.reg.b == 77);
    CHECK(cpu.reg.c == 2);
    CHECK(cpu.reg.d == 220);
    CHECK(cpu.reg.e == 81);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 5);
    CHECK(cpu.reg.l == 124);
    CHECK(cpu.pc == 33220);
    CHECK(cpu.sp == 57481);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19714] == 56);
    REQUIRE(cpu.ram[33219] == 2);
}

TEST_CASE( "02 000B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27360;
    cpu.sp = 57300;
    cpu.reg.a = 6;
    cpu.reg.b = 206;
    cpu.reg.c = 42;
    cpu.reg.d = 58;
    cpu.reg.e = 157;
    cpu.reg.f = 80;
    cpu.reg.h = 42;
    cpu.reg.l = 170;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[27360] = 2;
    cpu.ram[52778] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 6);
    CHECK(cpu.reg.b == 206);
    CHECK(cpu.reg.c == 42);
    CHECK(cpu.reg.d == 58);
    CHECK(cpu.reg.e == 157);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 42);
    CHECK(cpu.reg.l == 170);
    CHECK(cpu.pc == 27361);
    CHECK(cpu.sp == 57300);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27360] == 2);
    REQUIRE(cpu.ram[52778] == 6);
}

TEST_CASE( "02 000C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62638;
    cpu.sp = 47329;
    cpu.reg.a = 182;
    cpu.reg.b = 145;
    cpu.reg.c = 177;
    cpu.reg.d = 121;
    cpu.reg.e = 31;
    cpu.reg.f = 80;
    cpu.reg.h = 74;
    cpu.reg.l = 1;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[37297] = 0;
    cpu.ram[62638] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 182);
    CHECK(cpu.reg.b == 145);
    CHECK(cpu.reg.c == 177);
    CHECK(cpu.reg.d == 121);
    CHECK(cpu.reg.e == 31);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 74);
    CHECK(cpu.reg.l == 1);
    CHECK(cpu.pc == 62639);
    CHECK(cpu.sp == 47329);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[37297] == 182);
    REQUIRE(cpu.ram[62638] == 2);
}

TEST_CASE( "02 000D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21341;
    cpu.sp = 4863;
    cpu.reg.a = 15;
    cpu.reg.b = 124;
    cpu.reg.c = 236;
    cpu.reg.d = 149;
    cpu.reg.e = 230;
    cpu.reg.f = 160;
    cpu.reg.h = 227;
    cpu.reg.l = 187;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[21341] = 2;
    cpu.ram[31980] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 15);
    CHECK(cpu.reg.b == 124);
    CHECK(cpu.reg.c == 236);
    CHECK(cpu.reg.d == 149);
    CHECK(cpu.reg.e == 230);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 187);
    CHECK(cpu.pc == 21342);
    CHECK(cpu.sp == 4863);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21341] == 2);
    REQUIRE(cpu.ram[31980] == 15);
}

TEST_CASE( "02 000E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31178;
    cpu.sp = 28855;
    cpu.reg.a = 224;
    cpu.reg.b = 80;
    cpu.reg.c = 98;
    cpu.reg.d = 175;
    cpu.reg.e = 129;
    cpu.reg.f = 208;
    cpu.reg.h = 69;
    cpu.reg.l = 59;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[20578] = 0;
    cpu.ram[31178] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 80);
    CHECK(cpu.reg.c == 98);
    CHECK(cpu.reg.d == 175);
    CHECK(cpu.reg.e == 129);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 69);
    CHECK(cpu.reg.l == 59);
    CHECK(cpu.pc == 31179);
    CHECK(cpu.sp == 28855);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20578] == 224);
    REQUIRE(cpu.ram[31178] == 2);
}

TEST_CASE( "02 000F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14835;
    cpu.sp = 50134;
    cpu.reg.a = 14;
    cpu.reg.b = 127;
    cpu.reg.c = 57;
    cpu.reg.d = 244;
    cpu.reg.e = 177;
    cpu.reg.f = 0;
    cpu.reg.h = 110;
    cpu.reg.l = 208;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[14835] = 2;
    cpu.ram[32569] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 14);
    CHECK(cpu.reg.b == 127);
    CHECK(cpu.reg.c == 57);
    CHECK(cpu.reg.d == 244);
    CHECK(cpu.reg.e == 177);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 110);
    CHECK(cpu.reg.l == 208);
    CHECK(cpu.pc == 14836);
    CHECK(cpu.sp == 50134);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14835] == 2);
    REQUIRE(cpu.ram[32569] == 14);
}

TEST_CASE( "02 0010", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39190;
    cpu.sp = 46444;
    cpu.reg.a = 35;
    cpu.reg.b = 193;
    cpu.reg.c = 0;
    cpu.reg.d = 223;
    cpu.reg.e = 148;
    cpu.reg.f = 192;
    cpu.reg.h = 181;
    cpu.reg.l = 11;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[39190] = 2;
    cpu.ram[49408] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 35);
    CHECK(cpu.reg.b == 193);
    CHECK(cpu.reg.c == 0);
    CHECK(cpu.reg.d == 223);
    CHECK(cpu.reg.e == 148);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 181);
    CHECK(cpu.reg.l == 11);
    CHECK(cpu.pc == 39191);
    CHECK(cpu.sp == 46444);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39190] == 2);
    REQUIRE(cpu.ram[49408] == 35);
}

TEST_CASE( "02 0011", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49669;
    cpu.sp = 24152;
    cpu.reg.a = 75;
    cpu.reg.b = 92;
    cpu.reg.c = 68;
    cpu.reg.d = 195;
    cpu.reg.e = 127;
    cpu.reg.f = 144;
    cpu.reg.h = 97;
    cpu.reg.l = 64;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[23620] = 0;
    cpu.ram[49669] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 75);
    CHECK(cpu.reg.b == 92);
    CHECK(cpu.reg.c == 68);
    CHECK(cpu.reg.d == 195);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 97);
    CHECK(cpu.reg.l == 64);
    CHECK(cpu.pc == 49670);
    CHECK(cpu.sp == 24152);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[23620] == 75);
    REQUIRE(cpu.ram[49669] == 2);
}

TEST_CASE( "02 0012", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40821;
    cpu.sp = 55472;
    cpu.reg.a = 15;
    cpu.reg.b = 237;
    cpu.reg.c = 28;
    cpu.reg.d = 218;
    cpu.reg.e = 238;
    cpu.reg.f = 64;
    cpu.reg.h = 200;
    cpu.reg.l = 49;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[40821] = 2;
    cpu.ram[60700] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 15);
    CHECK(cpu.reg.b == 237);
    CHECK(cpu.reg.c == 28);
    CHECK(cpu.reg.d == 218);
    CHECK(cpu.reg.e == 238);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 200);
    CHECK(cpu.reg.l == 49);
    CHECK(cpu.pc == 40822);
    CHECK(cpu.sp == 55472);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40821] == 2);
    REQUIRE(cpu.ram[60700] == 15);
}

TEST_CASE( "02 0013", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30877;
    cpu.sp = 42146;
    cpu.reg.a = 209;
    cpu.reg.b = 232;
    cpu.reg.c = 13;
    cpu.reg.d = 53;
    cpu.reg.e = 95;
    cpu.reg.f = 80;
    cpu.reg.h = 163;
    cpu.reg.l = 167;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[30877] = 2;
    cpu.ram[59405] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 209);
    CHECK(cpu.reg.b == 232);
    CHECK(cpu.reg.c == 13);
    CHECK(cpu.reg.d == 53);
    CHECK(cpu.reg.e == 95);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 163);
    CHECK(cpu.reg.l == 167);
    CHECK(cpu.pc == 30878);
    CHECK(cpu.sp == 42146);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30877] == 2);
    REQUIRE(cpu.ram[59405] == 209);
}

TEST_CASE( "02 0014", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7120;
    cpu.sp = 34155;
    cpu.reg.a = 157;
    cpu.reg.b = 195;
    cpu.reg.c = 37;
    cpu.reg.d = 6;
    cpu.reg.e = 0;
    cpu.reg.f = 240;
    cpu.reg.h = 159;
    cpu.reg.l = 185;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[7120] = 2;
    cpu.ram[49957] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 157);
    CHECK(cpu.reg.b == 195);
    CHECK(cpu.reg.c == 37);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 0);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 159);
    CHECK(cpu.reg.l == 185);
    CHECK(cpu.pc == 7121);
    CHECK(cpu.sp == 34155);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7120] == 2);
    REQUIRE(cpu.ram[49957] == 157);
}

TEST_CASE( "02 0015", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3560;
    cpu.sp = 56728;
    cpu.reg.a = 140;
    cpu.reg.b = 14;
    cpu.reg.c = 176;
    cpu.reg.d = 145;
    cpu.reg.e = 194;
    cpu.reg.f = 224;
    cpu.reg.h = 127;
    cpu.reg.l = 94;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[3560] = 2;
    cpu.ram[3760] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 140);
    CHECK(cpu.reg.b == 14);
    CHECK(cpu.reg.c == 176);
    CHECK(cpu.reg.d == 145);
    CHECK(cpu.reg.e == 194);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 127);
    CHECK(cpu.reg.l == 94);
    CHECK(cpu.pc == 3561);
    CHECK(cpu.sp == 56728);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3560] == 2);
    REQUIRE(cpu.ram[3760] == 140);
}

TEST_CASE( "02 0016", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5996;
    cpu.sp = 24179;
    cpu.reg.a = 40;
    cpu.reg.b = 83;
    cpu.reg.c = 82;
    cpu.reg.d = 1;
    cpu.reg.e = 245;
    cpu.reg.f = 144;
    cpu.reg.h = 241;
    cpu.reg.l = 89;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[5996] = 2;
    cpu.ram[21330] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 40);
    CHECK(cpu.reg.b == 83);
    CHECK(cpu.reg.c == 82);
    CHECK(cpu.reg.d == 1);
    CHECK(cpu.reg.e == 245);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 89);
    CHECK(cpu.pc == 5997);
    CHECK(cpu.sp == 24179);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5996] == 2);
    REQUIRE(cpu.ram[21330] == 40);
}

TEST_CASE( "02 0017", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49728;
    cpu.sp = 63317;
    cpu.reg.a = 100;
    cpu.reg.b = 157;
    cpu.reg.c = 104;
    cpu.reg.d = 161;
    cpu.reg.e = 18;
    cpu.reg.f = 128;
    cpu.reg.h = 219;
    cpu.reg.l = 233;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[40296] = 0;
    cpu.ram[49728] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 100);
    CHECK(cpu.reg.b == 157);
    CHECK(cpu.reg.c == 104);
    CHECK(cpu.reg.d == 161);
    CHECK(cpu.reg.e == 18);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 219);
    CHECK(cpu.reg.l == 233);
    CHECK(cpu.pc == 49729);
    CHECK(cpu.sp == 63317);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40296] == 100);
    REQUIRE(cpu.ram[49728] == 2);
}

TEST_CASE( "02 0018", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13358;
    cpu.sp = 21845;
    cpu.reg.a = 244;
    cpu.reg.b = 196;
    cpu.reg.c = 34;
    cpu.reg.d = 218;
    cpu.reg.e = 44;
    cpu.reg.f = 48;
    cpu.reg.h = 134;
    cpu.reg.l = 157;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[13358] = 2;
    cpu.ram[50210] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 244);
    CHECK(cpu.reg.b == 196);
    CHECK(cpu.reg.c == 34);
    CHECK(cpu.reg.d == 218);
    CHECK(cpu.reg.e == 44);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 134);
    CHECK(cpu.reg.l == 157);
    CHECK(cpu.pc == 13359);
    CHECK(cpu.sp == 21845);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13358] == 2);
    REQUIRE(cpu.ram[50210] == 244);
}

TEST_CASE( "02 0019", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25324;
    cpu.sp = 26826;
    cpu.reg.a = 152;
    cpu.reg.b = 74;
    cpu.reg.c = 124;
    cpu.reg.d = 152;
    cpu.reg.e = 82;
    cpu.reg.f = 240;
    cpu.reg.h = 189;
    cpu.reg.l = 116;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[19068] = 0;
    cpu.ram[25324] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 152);
    CHECK(cpu.reg.b == 74);
    CHECK(cpu.reg.c == 124);
    CHECK(cpu.reg.d == 152);
    CHECK(cpu.reg.e == 82);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 189);
    CHECK(cpu.reg.l == 116);
    CHECK(cpu.pc == 25325);
    CHECK(cpu.sp == 26826);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19068] == 152);
    REQUIRE(cpu.ram[25324] == 2);
}

TEST_CASE( "02 001A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22300;
    cpu.sp = 37976;
    cpu.reg.a = 225;
    cpu.reg.b = 163;
    cpu.reg.c = 232;
    cpu.reg.d = 231;
    cpu.reg.e = 216;
    cpu.reg.f = 192;
    cpu.reg.h = 71;
    cpu.reg.l = 140;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[22300] = 2;
    cpu.ram[41960] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 225);
    CHECK(cpu.reg.b == 163);
    CHECK(cpu.reg.c == 232);
    CHECK(cpu.reg.d == 231);
    CHECK(cpu.reg.e == 216);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 71);
    CHECK(cpu.reg.l == 140);
    CHECK(cpu.pc == 22301);
    CHECK(cpu.sp == 37976);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22300] == 2);
    REQUIRE(cpu.ram[41960] == 225);
}

TEST_CASE( "02 001B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51126;
    cpu.sp = 715;
    cpu.reg.a = 188;
    cpu.reg.b = 50;
    cpu.reg.c = 120;
    cpu.reg.d = 21;
    cpu.reg.e = 202;
    cpu.reg.f = 96;
    cpu.reg.h = 44;
    cpu.reg.l = 167;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[12920] = 0;
    cpu.ram[51126] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 188);
    CHECK(cpu.reg.b == 50);
    CHECK(cpu.reg.c == 120);
    CHECK(cpu.reg.d == 21);
    CHECK(cpu.reg.e == 202);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 44);
    CHECK(cpu.reg.l == 167);
    CHECK(cpu.pc == 51127);
    CHECK(cpu.sp == 715);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12920] == 188);
    REQUIRE(cpu.ram[51126] == 2);
}

TEST_CASE( "02 001C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40503;
    cpu.sp = 35586;
    cpu.reg.a = 126;
    cpu.reg.b = 200;
    cpu.reg.c = 26;
    cpu.reg.d = 45;
    cpu.reg.e = 139;
    cpu.reg.f = 192;
    cpu.reg.h = 88;
    cpu.reg.l = 38;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[40503] = 2;
    cpu.ram[51226] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 126);
    CHECK(cpu.reg.b == 200);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 45);
    CHECK(cpu.reg.e == 139);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 88);
    CHECK(cpu.reg.l == 38);
    CHECK(cpu.pc == 40504);
    CHECK(cpu.sp == 35586);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40503] == 2);
    REQUIRE(cpu.ram[51226] == 126);
}

TEST_CASE( "02 001D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17689;
    cpu.sp = 5059;
    cpu.reg.a = 254;
    cpu.reg.b = 200;
    cpu.reg.c = 1;
    cpu.reg.d = 64;
    cpu.reg.e = 69;
    cpu.reg.f = 112;
    cpu.reg.h = 7;
    cpu.reg.l = 88;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[17689] = 2;
    cpu.ram[51201] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 200);
    CHECK(cpu.reg.c == 1);
    CHECK(cpu.reg.d == 64);
    CHECK(cpu.reg.e == 69);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 7);
    CHECK(cpu.reg.l == 88);
    CHECK(cpu.pc == 17690);
    CHECK(cpu.sp == 5059);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17689] == 2);
    REQUIRE(cpu.ram[51201] == 254);
}

TEST_CASE( "02 001E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38253;
    cpu.sp = 26919;
    cpu.reg.a = 181;
    cpu.reg.b = 216;
    cpu.reg.c = 20;
    cpu.reg.d = 188;
    cpu.reg.e = 210;
    cpu.reg.f = 144;
    cpu.reg.h = 233;
    cpu.reg.l = 224;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[38253] = 2;
    cpu.ram[55316] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 181);
    CHECK(cpu.reg.b == 216);
    CHECK(cpu.reg.c == 20);
    CHECK(cpu.reg.d == 188);
    CHECK(cpu.reg.e == 210);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 233);
    CHECK(cpu.reg.l == 224);
    CHECK(cpu.pc == 38254);
    CHECK(cpu.sp == 26919);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38253] == 2);
    REQUIRE(cpu.ram[55316] == 181);
}

TEST_CASE( "02 001F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55871;
    cpu.sp = 53116;
    cpu.reg.a = 18;
    cpu.reg.b = 242;
    cpu.reg.c = 101;
    cpu.reg.d = 72;
    cpu.reg.e = 117;
    cpu.reg.f = 64;
    cpu.reg.h = 74;
    cpu.reg.l = 218;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[55871] = 2;
    cpu.ram[62053] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 18);
    CHECK(cpu.reg.b == 242);
    CHECK(cpu.reg.c == 101);
    CHECK(cpu.reg.d == 72);
    CHECK(cpu.reg.e == 117);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 74);
    CHECK(cpu.reg.l == 218);
    CHECK(cpu.pc == 55872);
    CHECK(cpu.sp == 53116);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55871] == 2);
    REQUIRE(cpu.ram[62053] == 18);
}

TEST_CASE( "02 0020", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9827;
    cpu.sp = 62867;
    cpu.reg.a = 224;
    cpu.reg.b = 209;
    cpu.reg.c = 216;
    cpu.reg.d = 99;
    cpu.reg.e = 175;
    cpu.reg.f = 192;
    cpu.reg.h = 222;
    cpu.reg.l = 235;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[9827] = 2;
    cpu.ram[53720] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 209);
    CHECK(cpu.reg.c == 216);
    CHECK(cpu.reg.d == 99);
    CHECK(cpu.reg.e == 175);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 222);
    CHECK(cpu.reg.l == 235);
    CHECK(cpu.pc == 9828);
    CHECK(cpu.sp == 62867);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9827] == 2);
    REQUIRE(cpu.ram[53720] == 224);
}

TEST_CASE( "02 0021", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48504;
    cpu.sp = 9330;
    cpu.reg.a = 128;
    cpu.reg.b = 94;
    cpu.reg.c = 105;
    cpu.reg.d = 234;
    cpu.reg.e = 127;
    cpu.reg.f = 80;
    cpu.reg.h = 36;
    cpu.reg.l = 147;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[24169] = 0;
    cpu.ram[48504] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 128);
    CHECK(cpu.reg.b == 94);
    CHECK(cpu.reg.c == 105);
    CHECK(cpu.reg.d == 234);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 36);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 48505);
    CHECK(cpu.sp == 9330);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24169] == 128);
    REQUIRE(cpu.ram[48504] == 2);
}

TEST_CASE( "02 0022", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41200;
    cpu.sp = 30409;
    cpu.reg.a = 44;
    cpu.reg.b = 154;
    cpu.reg.c = 43;
    cpu.reg.d = 67;
    cpu.reg.e = 213;
    cpu.reg.f = 0;
    cpu.reg.h = 83;
    cpu.reg.l = 155;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[39467] = 0;
    cpu.ram[41200] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 44);
    CHECK(cpu.reg.b == 154);
    CHECK(cpu.reg.c == 43);
    CHECK(cpu.reg.d == 67);
    CHECK(cpu.reg.e == 213);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 83);
    CHECK(cpu.reg.l == 155);
    CHECK(cpu.pc == 41201);
    CHECK(cpu.sp == 30409);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39467] == 44);
    REQUIRE(cpu.ram[41200] == 2);
}

TEST_CASE( "02 0023", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24449;
    cpu.sp = 57725;
    cpu.reg.a = 20;
    cpu.reg.b = 199;
    cpu.reg.c = 132;
    cpu.reg.d = 167;
    cpu.reg.e = 209;
    cpu.reg.f = 144;
    cpu.reg.h = 1;
    cpu.reg.l = 173;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[24449] = 2;
    cpu.ram[51076] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 20);
    CHECK(cpu.reg.b == 199);
    CHECK(cpu.reg.c == 132);
    CHECK(cpu.reg.d == 167);
    CHECK(cpu.reg.e == 209);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 1);
    CHECK(cpu.reg.l == 173);
    CHECK(cpu.pc == 24450);
    CHECK(cpu.sp == 57725);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24449] == 2);
    REQUIRE(cpu.ram[51076] == 20);
}

TEST_CASE( "02 0024", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7623;
    cpu.sp = 24107;
    cpu.reg.a = 189;
    cpu.reg.b = 115;
    cpu.reg.c = 9;
    cpu.reg.d = 49;
    cpu.reg.e = 249;
    cpu.reg.f = 192;
    cpu.reg.h = 247;
    cpu.reg.l = 235;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[7623] = 2;
    cpu.ram[29449] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 189);
    CHECK(cpu.reg.b == 115);
    CHECK(cpu.reg.c == 9);
    CHECK(cpu.reg.d == 49);
    CHECK(cpu.reg.e == 249);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 247);
    CHECK(cpu.reg.l == 235);
    CHECK(cpu.pc == 7624);
    CHECK(cpu.sp == 24107);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7623] == 2);
    REQUIRE(cpu.ram[29449] == 189);
}

TEST_CASE( "02 0025", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26319;
    cpu.sp = 40762;
    cpu.reg.a = 203;
    cpu.reg.b = 115;
    cpu.reg.c = 60;
    cpu.reg.d = 0;
    cpu.reg.e = 205;
    cpu.reg.f = 176;
    cpu.reg.h = 102;
    cpu.reg.l = 138;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[26319] = 2;
    cpu.ram[29500] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 203);
    CHECK(cpu.reg.b == 115);
    CHECK(cpu.reg.c == 60);
    CHECK(cpu.reg.d == 0);
    CHECK(cpu.reg.e == 205);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 102);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 26320);
    CHECK(cpu.sp == 40762);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26319] == 2);
    REQUIRE(cpu.ram[29500] == 203);
}

TEST_CASE( "02 0026", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16922;
    cpu.sp = 59267;
    cpu.reg.a = 10;
    cpu.reg.b = 136;
    cpu.reg.c = 104;
    cpu.reg.d = 161;
    cpu.reg.e = 122;
    cpu.reg.f = 208;
    cpu.reg.h = 139;
    cpu.reg.l = 78;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[16922] = 2;
    cpu.ram[34920] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 10);
    CHECK(cpu.reg.b == 136);
    CHECK(cpu.reg.c == 104);
    CHECK(cpu.reg.d == 161);
    CHECK(cpu.reg.e == 122);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 139);
    CHECK(cpu.reg.l == 78);
    CHECK(cpu.pc == 16923);
    CHECK(cpu.sp == 59267);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16922] == 2);
    REQUIRE(cpu.ram[34920] == 10);
}

TEST_CASE( "02 0027", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55584;
    cpu.sp = 19637;
    cpu.reg.a = 182;
    cpu.reg.b = 158;
    cpu.reg.c = 113;
    cpu.reg.d = 201;
    cpu.reg.e = 52;
    cpu.reg.f = 96;
    cpu.reg.h = 178;
    cpu.reg.l = 31;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[40561] = 0;
    cpu.ram[55584] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 182);
    CHECK(cpu.reg.b == 158);
    CHECK(cpu.reg.c == 113);
    CHECK(cpu.reg.d == 201);
    CHECK(cpu.reg.e == 52);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 178);
    CHECK(cpu.reg.l == 31);
    CHECK(cpu.pc == 55585);
    CHECK(cpu.sp == 19637);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40561] == 182);
    REQUIRE(cpu.ram[55584] == 2);
}

TEST_CASE( "02 0028", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1328;
    cpu.sp = 56546;
    cpu.reg.a = 230;
    cpu.reg.b = 121;
    cpu.reg.c = 95;
    cpu.reg.d = 35;
    cpu.reg.e = 36;
    cpu.reg.f = 208;
    cpu.reg.h = 101;
    cpu.reg.l = 39;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[1328] = 2;
    cpu.ram[31071] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 230);
    CHECK(cpu.reg.b == 121);
    CHECK(cpu.reg.c == 95);
    CHECK(cpu.reg.d == 35);
    CHECK(cpu.reg.e == 36);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 101);
    CHECK(cpu.reg.l == 39);
    CHECK(cpu.pc == 1329);
    CHECK(cpu.sp == 56546);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1328] == 2);
    REQUIRE(cpu.ram[31071] == 230);
}

TEST_CASE( "02 0029", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61036;
    cpu.sp = 9242;
    cpu.reg.a = 55;
    cpu.reg.b = 185;
    cpu.reg.c = 105;
    cpu.reg.d = 113;
    cpu.reg.e = 110;
    cpu.reg.f = 192;
    cpu.reg.h = 71;
    cpu.reg.l = 154;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[47465] = 0;
    cpu.ram[61036] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 55);
    CHECK(cpu.reg.b == 185);
    CHECK(cpu.reg.c == 105);
    CHECK(cpu.reg.d == 113);
    CHECK(cpu.reg.e == 110);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 71);
    CHECK(cpu.reg.l == 154);
    CHECK(cpu.pc == 61037);
    CHECK(cpu.sp == 9242);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[47465] == 55);
    REQUIRE(cpu.ram[61036] == 2);
}

TEST_CASE( "02 002A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63575;
    cpu.sp = 38145;
    cpu.reg.a = 61;
    cpu.reg.b = 74;
    cpu.reg.c = 37;
    cpu.reg.d = 93;
    cpu.reg.e = 3;
    cpu.reg.f = 128;
    cpu.reg.h = 61;
    cpu.reg.l = 216;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[18981] = 0;
    cpu.ram[63575] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 61);
    CHECK(cpu.reg.b == 74);
    CHECK(cpu.reg.c == 37);
    CHECK(cpu.reg.d == 93);
    CHECK(cpu.reg.e == 3);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 61);
    CHECK(cpu.reg.l == 216);
    CHECK(cpu.pc == 63576);
    CHECK(cpu.sp == 38145);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18981] == 61);
    REQUIRE(cpu.ram[63575] == 2);
}

TEST_CASE( "02 002B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45311;
    cpu.sp = 4316;
    cpu.reg.a = 128;
    cpu.reg.b = 169;
    cpu.reg.c = 31;
    cpu.reg.d = 85;
    cpu.reg.e = 50;
    cpu.reg.f = 0;
    cpu.reg.h = 199;
    cpu.reg.l = 203;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[43295] = 0;
    cpu.ram[45311] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 128);
    CHECK(cpu.reg.b == 169);
    CHECK(cpu.reg.c == 31);
    CHECK(cpu.reg.d == 85);
    CHECK(cpu.reg.e == 50);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 199);
    CHECK(cpu.reg.l == 203);
    CHECK(cpu.pc == 45312);
    CHECK(cpu.sp == 4316);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[43295] == 128);
    REQUIRE(cpu.ram[45311] == 2);
}

TEST_CASE( "02 002C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59366;
    cpu.sp = 13873;
    cpu.reg.a = 82;
    cpu.reg.b = 37;
    cpu.reg.c = 217;
    cpu.reg.d = 80;
    cpu.reg.e = 234;
    cpu.reg.f = 96;
    cpu.reg.h = 63;
    cpu.reg.l = 217;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[9689] = 0;
    cpu.ram[59366] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 82);
    CHECK(cpu.reg.b == 37);
    CHECK(cpu.reg.c == 217);
    CHECK(cpu.reg.d == 80);
    CHECK(cpu.reg.e == 234);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 63);
    CHECK(cpu.reg.l == 217);
    CHECK(cpu.pc == 59367);
    CHECK(cpu.sp == 13873);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9689] == 82);
    REQUIRE(cpu.ram[59366] == 2);
}

TEST_CASE( "02 002D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36975;
    cpu.sp = 47282;
    cpu.reg.a = 58;
    cpu.reg.b = 117;
    cpu.reg.c = 183;
    cpu.reg.d = 113;
    cpu.reg.e = 101;
    cpu.reg.f = 240;
    cpu.reg.h = 72;
    cpu.reg.l = 85;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[30135] = 0;
    cpu.ram[36975] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 58);
    CHECK(cpu.reg.b == 117);
    CHECK(cpu.reg.c == 183);
    CHECK(cpu.reg.d == 113);
    CHECK(cpu.reg.e == 101);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 72);
    CHECK(cpu.reg.l == 85);
    CHECK(cpu.pc == 36976);
    CHECK(cpu.sp == 47282);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30135] == 58);
    REQUIRE(cpu.ram[36975] == 2);
}

TEST_CASE( "02 002E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35860;
    cpu.sp = 19163;
    cpu.reg.a = 129;
    cpu.reg.b = 158;
    cpu.reg.c = 79;
    cpu.reg.d = 101;
    cpu.reg.e = 51;
    cpu.reg.f = 112;
    cpu.reg.h = 78;
    cpu.reg.l = 163;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[35860] = 2;
    cpu.ram[40527] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 129);
    CHECK(cpu.reg.b == 158);
    CHECK(cpu.reg.c == 79);
    CHECK(cpu.reg.d == 101);
    CHECK(cpu.reg.e == 51);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 78);
    CHECK(cpu.reg.l == 163);
    CHECK(cpu.pc == 35861);
    CHECK(cpu.sp == 19163);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35860] == 2);
    REQUIRE(cpu.ram[40527] == 129);
}

TEST_CASE( "02 002F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34501;
    cpu.sp = 2173;
    cpu.reg.a = 216;
    cpu.reg.b = 131;
    cpu.reg.c = 127;
    cpu.reg.d = 67;
    cpu.reg.e = 161;
    cpu.reg.f = 64;
    cpu.reg.h = 215;
    cpu.reg.l = 192;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[33663] = 0;
    cpu.ram[34501] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 131);
    CHECK(cpu.reg.c == 127);
    CHECK(cpu.reg.d == 67);
    CHECK(cpu.reg.e == 161);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 215);
    CHECK(cpu.reg.l == 192);
    CHECK(cpu.pc == 34502);
    CHECK(cpu.sp == 2173);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33663] == 216);
    REQUIRE(cpu.ram[34501] == 2);
}

TEST_CASE( "02 0030", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30659;
    cpu.sp = 32174;
    cpu.reg.a = 208;
    cpu.reg.b = 114;
    cpu.reg.c = 253;
    cpu.reg.d = 237;
    cpu.reg.e = 208;
    cpu.reg.f = 0;
    cpu.reg.h = 30;
    cpu.reg.l = 97;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[29437] = 0;
    cpu.ram[30659] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 208);
    CHECK(cpu.reg.b == 114);
    CHECK(cpu.reg.c == 253);
    CHECK(cpu.reg.d == 237);
    CHECK(cpu.reg.e == 208);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 30);
    CHECK(cpu.reg.l == 97);
    CHECK(cpu.pc == 30660);
    CHECK(cpu.sp == 32174);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29437] == 208);
    REQUIRE(cpu.ram[30659] == 2);
}

TEST_CASE( "02 0031", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36428;
    cpu.sp = 27829;
    cpu.reg.a = 44;
    cpu.reg.b = 33;
    cpu.reg.c = 29;
    cpu.reg.d = 227;
    cpu.reg.e = 157;
    cpu.reg.f = 176;
    cpu.reg.h = 229;
    cpu.reg.l = 209;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[8477] = 0;
    cpu.ram[36428] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 44);
    CHECK(cpu.reg.b == 33);
    CHECK(cpu.reg.c == 29);
    CHECK(cpu.reg.d == 227);
    CHECK(cpu.reg.e == 157);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 229);
    CHECK(cpu.reg.l == 209);
    CHECK(cpu.pc == 36429);
    CHECK(cpu.sp == 27829);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8477] == 44);
    REQUIRE(cpu.ram[36428] == 2);
}

TEST_CASE( "02 0032", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42517;
    cpu.sp = 10080;
    cpu.reg.a = 136;
    cpu.reg.b = 255;
    cpu.reg.c = 169;
    cpu.reg.d = 217;
    cpu.reg.e = 245;
    cpu.reg.f = 48;
    cpu.reg.h = 176;
    cpu.reg.l = 192;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[42517] = 2;
    cpu.ram[65449] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 136);
    CHECK(cpu.reg.b == 255);
    CHECK(cpu.reg.c == 169);
    CHECK(cpu.reg.d == 217);
    CHECK(cpu.reg.e == 245);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 176);
    CHECK(cpu.reg.l == 192);
    CHECK(cpu.pc == 42518);
    CHECK(cpu.sp == 10080);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[42517] == 2);
    REQUIRE(cpu.ram[65449] == 136);
}

TEST_CASE( "02 0033", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65515;
    cpu.sp = 28770;
    cpu.reg.a = 97;
    cpu.reg.b = 184;
    cpu.reg.c = 236;
    cpu.reg.d = 219;
    cpu.reg.e = 78;
    cpu.reg.f = 208;
    cpu.reg.h = 148;
    cpu.reg.l = 184;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[47340] = 0;
    cpu.ram[65515] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 97);
    CHECK(cpu.reg.b == 184);
    CHECK(cpu.reg.c == 236);
    CHECK(cpu.reg.d == 219);
    CHECK(cpu.reg.e == 78);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 148);
    CHECK(cpu.reg.l == 184);
    CHECK(cpu.pc == 65516);
    CHECK(cpu.sp == 28770);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[47340] == 97);
    REQUIRE(cpu.ram[65515] == 2);
}

TEST_CASE( "02 0034", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38228;
    cpu.sp = 58130;
    cpu.reg.a = 245;
    cpu.reg.b = 232;
    cpu.reg.c = 229;
    cpu.reg.d = 230;
    cpu.reg.e = 15;
    cpu.reg.f = 144;
    cpu.reg.h = 35;
    cpu.reg.l = 164;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[38228] = 2;
    cpu.ram[59621] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 245);
    CHECK(cpu.reg.b == 232);
    CHECK(cpu.reg.c == 229);
    CHECK(cpu.reg.d == 230);
    CHECK(cpu.reg.e == 15);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 35);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 38229);
    CHECK(cpu.sp == 58130);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38228] == 2);
    REQUIRE(cpu.ram[59621] == 245);
}

TEST_CASE( "02 0035", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40563;
    cpu.sp = 34546;
    cpu.reg.a = 112;
    cpu.reg.b = 49;
    cpu.reg.c = 154;
    cpu.reg.d = 65;
    cpu.reg.e = 128;
    cpu.reg.f = 96;
    cpu.reg.h = 199;
    cpu.reg.l = 221;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[12698] = 0;
    cpu.ram[40563] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 112);
    CHECK(cpu.reg.b == 49);
    CHECK(cpu.reg.c == 154);
    CHECK(cpu.reg.d == 65);
    CHECK(cpu.reg.e == 128);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 199);
    CHECK(cpu.reg.l == 221);
    CHECK(cpu.pc == 40564);
    CHECK(cpu.sp == 34546);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12698] == 112);
    REQUIRE(cpu.ram[40563] == 2);
}

TEST_CASE( "02 0036", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40424;
    cpu.sp = 5406;
    cpu.reg.a = 163;
    cpu.reg.b = 177;
    cpu.reg.c = 144;
    cpu.reg.d = 25;
    cpu.reg.e = 61;
    cpu.reg.f = 192;
    cpu.reg.h = 144;
    cpu.reg.l = 93;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[40424] = 2;
    cpu.ram[45456] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 163);
    CHECK(cpu.reg.b == 177);
    CHECK(cpu.reg.c == 144);
    CHECK(cpu.reg.d == 25);
    CHECK(cpu.reg.e == 61);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 144);
    CHECK(cpu.reg.l == 93);
    CHECK(cpu.pc == 40425);
    CHECK(cpu.sp == 5406);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40424] == 2);
    REQUIRE(cpu.ram[45456] == 163);
}

TEST_CASE( "02 0037", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12173;
    cpu.sp = 30762;
    cpu.reg.a = 3;
    cpu.reg.b = 155;
    cpu.reg.c = 31;
    cpu.reg.d = 203;
    cpu.reg.e = 110;
    cpu.reg.f = 224;
    cpu.reg.h = 15;
    cpu.reg.l = 240;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[12173] = 2;
    cpu.ram[39711] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 3);
    CHECK(cpu.reg.b == 155);
    CHECK(cpu.reg.c == 31);
    CHECK(cpu.reg.d == 203);
    CHECK(cpu.reg.e == 110);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 15);
    CHECK(cpu.reg.l == 240);
    CHECK(cpu.pc == 12174);
    CHECK(cpu.sp == 30762);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12173] == 2);
    REQUIRE(cpu.ram[39711] == 3);
}

TEST_CASE( "02 0038", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12034;
    cpu.sp = 32337;
    cpu.reg.a = 58;
    cpu.reg.b = 225;
    cpu.reg.c = 205;
    cpu.reg.d = 108;
    cpu.reg.e = 62;
    cpu.reg.f = 96;
    cpu.reg.h = 146;
    cpu.reg.l = 70;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[12034] = 2;
    cpu.ram[57805] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 58);
    CHECK(cpu.reg.b == 225);
    CHECK(cpu.reg.c == 205);
    CHECK(cpu.reg.d == 108);
    CHECK(cpu.reg.e == 62);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 146);
    CHECK(cpu.reg.l == 70);
    CHECK(cpu.pc == 12035);
    CHECK(cpu.sp == 32337);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12034] == 2);
    REQUIRE(cpu.ram[57805] == 58);
}

TEST_CASE( "02 0039", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19756;
    cpu.sp = 43275;
    cpu.reg.a = 8;
    cpu.reg.b = 250;
    cpu.reg.c = 71;
    cpu.reg.d = 110;
    cpu.reg.e = 163;
    cpu.reg.f = 48;
    cpu.reg.h = 238;
    cpu.reg.l = 180;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[19756] = 2;
    cpu.ram[64071] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 8);
    CHECK(cpu.reg.b == 250);
    CHECK(cpu.reg.c == 71);
    CHECK(cpu.reg.d == 110);
    CHECK(cpu.reg.e == 163);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 238);
    CHECK(cpu.reg.l == 180);
    CHECK(cpu.pc == 19757);
    CHECK(cpu.sp == 43275);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19756] == 2);
    REQUIRE(cpu.ram[64071] == 8);
}

TEST_CASE( "02 003A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39057;
    cpu.sp = 54460;
    cpu.reg.a = 223;
    cpu.reg.b = 88;
    cpu.reg.c = 185;
    cpu.reg.d = 167;
    cpu.reg.e = 79;
    cpu.reg.f = 64;
    cpu.reg.h = 12;
    cpu.reg.l = 239;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[22713] = 0;
    cpu.ram[39057] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 223);
    CHECK(cpu.reg.b == 88);
    CHECK(cpu.reg.c == 185);
    CHECK(cpu.reg.d == 167);
    CHECK(cpu.reg.e == 79);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 12);
    CHECK(cpu.reg.l == 239);
    CHECK(cpu.pc == 39058);
    CHECK(cpu.sp == 54460);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22713] == 223);
    REQUIRE(cpu.ram[39057] == 2);
}

TEST_CASE( "02 003B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13295;
    cpu.sp = 57260;
    cpu.reg.a = 209;
    cpu.reg.b = 202;
    cpu.reg.c = 243;
    cpu.reg.d = 65;
    cpu.reg.e = 55;
    cpu.reg.f = 80;
    cpu.reg.h = 21;
    cpu.reg.l = 61;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[13295] = 2;
    cpu.ram[51955] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 209);
    CHECK(cpu.reg.b == 202);
    CHECK(cpu.reg.c == 243);
    CHECK(cpu.reg.d == 65);
    CHECK(cpu.reg.e == 55);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 21);
    CHECK(cpu.reg.l == 61);
    CHECK(cpu.pc == 13296);
    CHECK(cpu.sp == 57260);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13295] == 2);
    REQUIRE(cpu.ram[51955] == 209);
}

TEST_CASE( "02 003C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38647;
    cpu.sp = 35161;
    cpu.reg.a = 121;
    cpu.reg.b = 84;
    cpu.reg.c = 212;
    cpu.reg.d = 46;
    cpu.reg.e = 135;
    cpu.reg.f = 112;
    cpu.reg.h = 77;
    cpu.reg.l = 95;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[21716] = 0;
    cpu.ram[38647] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 121);
    CHECK(cpu.reg.b == 84);
    CHECK(cpu.reg.c == 212);
    CHECK(cpu.reg.d == 46);
    CHECK(cpu.reg.e == 135);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 77);
    CHECK(cpu.reg.l == 95);
    CHECK(cpu.pc == 38648);
    CHECK(cpu.sp == 35161);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21716] == 121);
    REQUIRE(cpu.ram[38647] == 2);
}

TEST_CASE( "02 003D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35702;
    cpu.sp = 62989;
    cpu.reg.a = 210;
    cpu.reg.b = 196;
    cpu.reg.c = 144;
    cpu.reg.d = 77;
    cpu.reg.e = 29;
    cpu.reg.f = 32;
    cpu.reg.h = 8;
    cpu.reg.l = 116;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[35702] = 2;
    cpu.ram[50320] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 210);
    CHECK(cpu.reg.b == 196);
    CHECK(cpu.reg.c == 144);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 8);
    CHECK(cpu.reg.l == 116);
    CHECK(cpu.pc == 35703);
    CHECK(cpu.sp == 62989);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35702] == 2);
    REQUIRE(cpu.ram[50320] == 210);
}

TEST_CASE( "02 003E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57920;
    cpu.sp = 39525;
    cpu.reg.a = 144;
    cpu.reg.b = 198;
    cpu.reg.c = 84;
    cpu.reg.d = 118;
    cpu.reg.e = 39;
    cpu.reg.f = 208;
    cpu.reg.h = 78;
    cpu.reg.l = 159;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[50772] = 0;
    cpu.ram[57920] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 144);
    CHECK(cpu.reg.b == 198);
    CHECK(cpu.reg.c == 84);
    CHECK(cpu.reg.d == 118);
    CHECK(cpu.reg.e == 39);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 78);
    CHECK(cpu.reg.l == 159);
    CHECK(cpu.pc == 57921);
    CHECK(cpu.sp == 39525);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[50772] == 144);
    REQUIRE(cpu.ram[57920] == 2);
}

TEST_CASE( "02 003F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4407;
    cpu.sp = 61509;
    cpu.reg.a = 223;
    cpu.reg.b = 0;
    cpu.reg.c = 236;
    cpu.reg.d = 132;
    cpu.reg.e = 129;
    cpu.reg.f = 128;
    cpu.reg.h = 36;
    cpu.reg.l = 68;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[236] = 0;
    cpu.ram[4407] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 223);
    CHECK(cpu.reg.b == 0);
    CHECK(cpu.reg.c == 236);
    CHECK(cpu.reg.d == 132);
    CHECK(cpu.reg.e == 129);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 36);
    CHECK(cpu.reg.l == 68);
    CHECK(cpu.pc == 4408);
    CHECK(cpu.sp == 61509);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[236] == 223);
    REQUIRE(cpu.ram[4407] == 2);
}

TEST_CASE( "02 0040", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 464;
    cpu.sp = 51010;
    cpu.reg.a = 168;
    cpu.reg.b = 52;
    cpu.reg.c = 122;
    cpu.reg.d = 245;
    cpu.reg.e = 226;
    cpu.reg.f = 32;
    cpu.reg.h = 3;
    cpu.reg.l = 96;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[464] = 2;
    cpu.ram[13434] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 168);
    CHECK(cpu.reg.b == 52);
    CHECK(cpu.reg.c == 122);
    CHECK(cpu.reg.d == 245);
    CHECK(cpu.reg.e == 226);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 3);
    CHECK(cpu.reg.l == 96);
    CHECK(cpu.pc == 465);
    CHECK(cpu.sp == 51010);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[464] == 2);
    REQUIRE(cpu.ram[13434] == 168);
}

TEST_CASE( "02 0041", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57673;
    cpu.sp = 39906;
    cpu.reg.a = 164;
    cpu.reg.b = 190;
    cpu.reg.c = 170;
    cpu.reg.d = 248;
    cpu.reg.e = 240;
    cpu.reg.f = 224;
    cpu.reg.h = 242;
    cpu.reg.l = 182;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[48810] = 0;
    cpu.ram[57673] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 164);
    CHECK(cpu.reg.b == 190);
    CHECK(cpu.reg.c == 170);
    CHECK(cpu.reg.d == 248);
    CHECK(cpu.reg.e == 240);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 182);
    CHECK(cpu.pc == 57674);
    CHECK(cpu.sp == 39906);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48810] == 164);
    REQUIRE(cpu.ram[57673] == 2);
}

TEST_CASE( "02 0042", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30156;
    cpu.sp = 11165;
    cpu.reg.a = 115;
    cpu.reg.b = 64;
    cpu.reg.c = 237;
    cpu.reg.d = 17;
    cpu.reg.e = 246;
    cpu.reg.f = 48;
    cpu.reg.h = 125;
    cpu.reg.l = 26;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[16621] = 0;
    cpu.ram[30156] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 115);
    CHECK(cpu.reg.b == 64);
    CHECK(cpu.reg.c == 237);
    CHECK(cpu.reg.d == 17);
    CHECK(cpu.reg.e == 246);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 125);
    CHECK(cpu.reg.l == 26);
    CHECK(cpu.pc == 30157);
    CHECK(cpu.sp == 11165);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16621] == 115);
    REQUIRE(cpu.ram[30156] == 2);
}

TEST_CASE( "02 0043", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44482;
    cpu.sp = 39879;
    cpu.reg.a = 13;
    cpu.reg.b = 82;
    cpu.reg.c = 32;
    cpu.reg.d = 230;
    cpu.reg.e = 36;
    cpu.reg.f = 80;
    cpu.reg.h = 155;
    cpu.reg.l = 96;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[21024] = 0;
    cpu.ram[44482] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 13);
    CHECK(cpu.reg.b == 82);
    CHECK(cpu.reg.c == 32);
    CHECK(cpu.reg.d == 230);
    CHECK(cpu.reg.e == 36);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 155);
    CHECK(cpu.reg.l == 96);
    CHECK(cpu.pc == 44483);
    CHECK(cpu.sp == 39879);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21024] == 13);
    REQUIRE(cpu.ram[44482] == 2);
}

TEST_CASE( "02 0044", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5699;
    cpu.sp = 1598;
    cpu.reg.a = 107;
    cpu.reg.b = 129;
    cpu.reg.c = 176;
    cpu.reg.d = 226;
    cpu.reg.e = 234;
    cpu.reg.f = 240;
    cpu.reg.h = 61;
    cpu.reg.l = 99;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5699] = 2;
    cpu.ram[33200] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 107);
    CHECK(cpu.reg.b == 129);
    CHECK(cpu.reg.c == 176);
    CHECK(cpu.reg.d == 226);
    CHECK(cpu.reg.e == 234);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 61);
    CHECK(cpu.reg.l == 99);
    CHECK(cpu.pc == 5700);
    CHECK(cpu.sp == 1598);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5699] == 2);
    REQUIRE(cpu.ram[33200] == 107);
}

TEST_CASE( "02 0045", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49634;
    cpu.sp = 8425;
    cpu.reg.a = 99;
    cpu.reg.b = 219;
    cpu.reg.c = 74;
    cpu.reg.d = 173;
    cpu.reg.e = 191;
    cpu.reg.f = 240;
    cpu.reg.h = 188;
    cpu.reg.l = 46;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[49634] = 2;
    cpu.ram[56138] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 99);
    CHECK(cpu.reg.b == 219);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 173);
    CHECK(cpu.reg.e == 191);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 188);
    CHECK(cpu.reg.l == 46);
    CHECK(cpu.pc == 49635);
    CHECK(cpu.sp == 8425);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49634] == 2);
    REQUIRE(cpu.ram[56138] == 99);
}

TEST_CASE( "02 0046", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44360;
    cpu.sp = 37085;
    cpu.reg.a = 53;
    cpu.reg.b = 23;
    cpu.reg.c = 180;
    cpu.reg.d = 6;
    cpu.reg.e = 91;
    cpu.reg.f = 64;
    cpu.reg.h = 240;
    cpu.reg.l = 134;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[6068] = 0;
    cpu.ram[44360] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 53);
    CHECK(cpu.reg.b == 23);
    CHECK(cpu.reg.c == 180);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 91);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 240);
    CHECK(cpu.reg.l == 134);
    CHECK(cpu.pc == 44361);
    CHECK(cpu.sp == 37085);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6068] == 53);
    REQUIRE(cpu.ram[44360] == 2);
}

TEST_CASE( "02 0047", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17315;
    cpu.sp = 19587;
    cpu.reg.a = 226;
    cpu.reg.b = 225;
    cpu.reg.c = 50;
    cpu.reg.d = 223;
    cpu.reg.e = 123;
    cpu.reg.f = 208;
    cpu.reg.h = 64;
    cpu.reg.l = 132;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[17315] = 2;
    cpu.ram[57650] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 226);
    CHECK(cpu.reg.b == 225);
    CHECK(cpu.reg.c == 50);
    CHECK(cpu.reg.d == 223);
    CHECK(cpu.reg.e == 123);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 64);
    CHECK(cpu.reg.l == 132);
    CHECK(cpu.pc == 17316);
    CHECK(cpu.sp == 19587);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17315] == 2);
    REQUIRE(cpu.ram[57650] == 226);
}

TEST_CASE( "02 0048", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19584;
    cpu.sp = 54043;
    cpu.reg.a = 67;
    cpu.reg.b = 13;
    cpu.reg.c = 48;
    cpu.reg.d = 86;
    cpu.reg.e = 223;
    cpu.reg.f = 16;
    cpu.reg.h = 202;
    cpu.reg.l = 8;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[3376] = 0;
    cpu.ram[19584] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 67);
    CHECK(cpu.reg.b == 13);
    CHECK(cpu.reg.c == 48);
    CHECK(cpu.reg.d == 86);
    CHECK(cpu.reg.e == 223);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 202);
    CHECK(cpu.reg.l == 8);
    CHECK(cpu.pc == 19585);
    CHECK(cpu.sp == 54043);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3376] == 67);
    REQUIRE(cpu.ram[19584] == 2);
}

TEST_CASE( "02 0049", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14009;
    cpu.sp = 59507;
    cpu.reg.a = 73;
    cpu.reg.b = 67;
    cpu.reg.c = 141;
    cpu.reg.d = 179;
    cpu.reg.e = 89;
    cpu.reg.f = 96;
    cpu.reg.h = 197;
    cpu.reg.l = 131;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[14009] = 2;
    cpu.ram[17293] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 73);
    CHECK(cpu.reg.b == 67);
    CHECK(cpu.reg.c == 141);
    CHECK(cpu.reg.d == 179);
    CHECK(cpu.reg.e == 89);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 197);
    CHECK(cpu.reg.l == 131);
    CHECK(cpu.pc == 14010);
    CHECK(cpu.sp == 59507);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14009] == 2);
    REQUIRE(cpu.ram[17293] == 73);
}

TEST_CASE( "02 004A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25373;
    cpu.sp = 9844;
    cpu.reg.a = 138;
    cpu.reg.b = 158;
    cpu.reg.c = 245;
    cpu.reg.d = 89;
    cpu.reg.e = 127;
    cpu.reg.f = 32;
    cpu.reg.h = 80;
    cpu.reg.l = 151;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[25373] = 2;
    cpu.ram[40693] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 138);
    CHECK(cpu.reg.b == 158);
    CHECK(cpu.reg.c == 245);
    CHECK(cpu.reg.d == 89);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 80);
    CHECK(cpu.reg.l == 151);
    CHECK(cpu.pc == 25374);
    CHECK(cpu.sp == 9844);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25373] == 2);
    REQUIRE(cpu.ram[40693] == 138);
}

TEST_CASE( "02 004B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56542;
    cpu.sp = 16406;
    cpu.reg.a = 167;
    cpu.reg.b = 101;
    cpu.reg.c = 107;
    cpu.reg.d = 197;
    cpu.reg.e = 30;
    cpu.reg.f = 240;
    cpu.reg.h = 158;
    cpu.reg.l = 247;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[25963] = 0;
    cpu.ram[56542] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 167);
    CHECK(cpu.reg.b == 101);
    CHECK(cpu.reg.c == 107);
    CHECK(cpu.reg.d == 197);
    CHECK(cpu.reg.e == 30);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 158);
    CHECK(cpu.reg.l == 247);
    CHECK(cpu.pc == 56543);
    CHECK(cpu.sp == 16406);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25963] == 167);
    REQUIRE(cpu.ram[56542] == 2);
}

TEST_CASE( "02 004C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35796;
    cpu.sp = 17607;
    cpu.reg.a = 245;
    cpu.reg.b = 215;
    cpu.reg.c = 202;
    cpu.reg.d = 147;
    cpu.reg.e = 182;
    cpu.reg.f = 48;
    cpu.reg.h = 151;
    cpu.reg.l = 171;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[35796] = 2;
    cpu.ram[55242] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 245);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 202);
    CHECK(cpu.reg.d == 147);
    CHECK(cpu.reg.e == 182);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 151);
    CHECK(cpu.reg.l == 171);
    CHECK(cpu.pc == 35797);
    CHECK(cpu.sp == 17607);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35796] == 2);
    REQUIRE(cpu.ram[55242] == 245);
}

TEST_CASE( "02 004D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59532;
    cpu.sp = 42262;
    cpu.reg.a = 38;
    cpu.reg.b = 126;
    cpu.reg.c = 187;
    cpu.reg.d = 192;
    cpu.reg.e = 183;
    cpu.reg.f = 208;
    cpu.reg.h = 218;
    cpu.reg.l = 223;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[32443] = 0;
    cpu.ram[59532] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 38);
    CHECK(cpu.reg.b == 126);
    CHECK(cpu.reg.c == 187);
    CHECK(cpu.reg.d == 192);
    CHECK(cpu.reg.e == 183);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 218);
    CHECK(cpu.reg.l == 223);
    CHECK(cpu.pc == 59533);
    CHECK(cpu.sp == 42262);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[32443] == 38);
    REQUIRE(cpu.ram[59532] == 2);
}

TEST_CASE( "02 004E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55378;
    cpu.sp = 5103;
    cpu.reg.a = 84;
    cpu.reg.b = 235;
    cpu.reg.c = 226;
    cpu.reg.d = 146;
    cpu.reg.e = 240;
    cpu.reg.f = 240;
    cpu.reg.h = 215;
    cpu.reg.l = 36;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[55378] = 2;
    cpu.ram[60386] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 84);
    CHECK(cpu.reg.b == 235);
    CHECK(cpu.reg.c == 226);
    CHECK(cpu.reg.d == 146);
    CHECK(cpu.reg.e == 240);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 215);
    CHECK(cpu.reg.l == 36);
    CHECK(cpu.pc == 55379);
    CHECK(cpu.sp == 5103);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55378] == 2);
    REQUIRE(cpu.ram[60386] == 84);
}

TEST_CASE( "02 004F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41743;
    cpu.sp = 22354;
    cpu.reg.a = 223;
    cpu.reg.b = 146;
    cpu.reg.c = 57;
    cpu.reg.d = 19;
    cpu.reg.e = 74;
    cpu.reg.f = 224;
    cpu.reg.h = 133;
    cpu.reg.l = 203;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[37433] = 0;
    cpu.ram[41743] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 223);
    CHECK(cpu.reg.b == 146);
    CHECK(cpu.reg.c == 57);
    CHECK(cpu.reg.d == 19);
    CHECK(cpu.reg.e == 74);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 133);
    CHECK(cpu.reg.l == 203);
    CHECK(cpu.pc == 41744);
    CHECK(cpu.sp == 22354);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[37433] == 223);
    REQUIRE(cpu.ram[41743] == 2);
}

TEST_CASE( "02 0050", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52548;
    cpu.sp = 26228;
    cpu.reg.a = 57;
    cpu.reg.b = 173;
    cpu.reg.c = 31;
    cpu.reg.d = 63;
    cpu.reg.e = 183;
    cpu.reg.f = 80;
    cpu.reg.h = 125;
    cpu.reg.l = 241;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[44319] = 0;
    cpu.ram[52548] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 57);
    CHECK(cpu.reg.b == 173);
    CHECK(cpu.reg.c == 31);
    CHECK(cpu.reg.d == 63);
    CHECK(cpu.reg.e == 183);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 125);
    CHECK(cpu.reg.l == 241);
    CHECK(cpu.pc == 52549);
    CHECK(cpu.sp == 26228);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44319] == 57);
    REQUIRE(cpu.ram[52548] == 2);
}

TEST_CASE( "02 0051", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56158;
    cpu.sp = 27186;
    cpu.reg.a = 203;
    cpu.reg.b = 242;
    cpu.reg.c = 56;
    cpu.reg.d = 48;
    cpu.reg.e = 72;
    cpu.reg.f = 240;
    cpu.reg.h = 7;
    cpu.reg.l = 163;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[56158] = 2;
    cpu.ram[62008] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 203);
    CHECK(cpu.reg.b == 242);
    CHECK(cpu.reg.c == 56);
    CHECK(cpu.reg.d == 48);
    CHECK(cpu.reg.e == 72);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 7);
    CHECK(cpu.reg.l == 163);
    CHECK(cpu.pc == 56159);
    CHECK(cpu.sp == 27186);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56158] == 2);
    REQUIRE(cpu.ram[62008] == 203);
}

TEST_CASE( "02 0052", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11328;
    cpu.sp = 33450;
    cpu.reg.a = 126;
    cpu.reg.b = 146;
    cpu.reg.c = 41;
    cpu.reg.d = 61;
    cpu.reg.e = 76;
    cpu.reg.f = 0;
    cpu.reg.h = 228;
    cpu.reg.l = 163;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[11328] = 2;
    cpu.ram[37417] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 126);
    CHECK(cpu.reg.b == 146);
    CHECK(cpu.reg.c == 41);
    CHECK(cpu.reg.d == 61);
    CHECK(cpu.reg.e == 76);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 228);
    CHECK(cpu.reg.l == 163);
    CHECK(cpu.pc == 11329);
    CHECK(cpu.sp == 33450);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11328] == 2);
    REQUIRE(cpu.ram[37417] == 126);
}

TEST_CASE( "02 0053", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52218;
    cpu.sp = 28360;
    cpu.reg.a = 62;
    cpu.reg.b = 213;
    cpu.reg.c = 146;
    cpu.reg.d = 121;
    cpu.reg.e = 21;
    cpu.reg.f = 0;
    cpu.reg.h = 214;
    cpu.reg.l = 9;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[52218] = 2;
    cpu.ram[54674] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 62);
    CHECK(cpu.reg.b == 213);
    CHECK(cpu.reg.c == 146);
    CHECK(cpu.reg.d == 121);
    CHECK(cpu.reg.e == 21);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 214);
    CHECK(cpu.reg.l == 9);
    CHECK(cpu.pc == 52219);
    CHECK(cpu.sp == 28360);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[52218] == 2);
    REQUIRE(cpu.ram[54674] == 62);
}

TEST_CASE( "02 0054", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46151;
    cpu.sp = 59471;
    cpu.reg.a = 217;
    cpu.reg.b = 102;
    cpu.reg.c = 71;
    cpu.reg.d = 5;
    cpu.reg.e = 116;
    cpu.reg.f = 176;
    cpu.reg.h = 224;
    cpu.reg.l = 50;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[26183] = 0;
    cpu.ram[46151] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 217);
    CHECK(cpu.reg.b == 102);
    CHECK(cpu.reg.c == 71);
    CHECK(cpu.reg.d == 5);
    CHECK(cpu.reg.e == 116);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 224);
    CHECK(cpu.reg.l == 50);
    CHECK(cpu.pc == 46152);
    CHECK(cpu.sp == 59471);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26183] == 217);
    REQUIRE(cpu.ram[46151] == 2);
}

TEST_CASE( "02 0055", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53697;
    cpu.sp = 55280;
    cpu.reg.a = 26;
    cpu.reg.b = 31;
    cpu.reg.c = 116;
    cpu.reg.d = 55;
    cpu.reg.e = 165;
    cpu.reg.f = 160;
    cpu.reg.h = 230;
    cpu.reg.l = 224;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[8052] = 0;
    cpu.ram[53697] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 26);
    CHECK(cpu.reg.b == 31);
    CHECK(cpu.reg.c == 116);
    CHECK(cpu.reg.d == 55);
    CHECK(cpu.reg.e == 165);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 230);
    CHECK(cpu.reg.l == 224);
    CHECK(cpu.pc == 53698);
    CHECK(cpu.sp == 55280);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8052] == 26);
    REQUIRE(cpu.ram[53697] == 2);
}

TEST_CASE( "02 0056", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34411;
    cpu.sp = 57624;
    cpu.reg.a = 251;
    cpu.reg.b = 71;
    cpu.reg.c = 93;
    cpu.reg.d = 83;
    cpu.reg.e = 5;
    cpu.reg.f = 224;
    cpu.reg.h = 96;
    cpu.reg.l = 88;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[18269] = 0;
    cpu.ram[34411] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 251);
    CHECK(cpu.reg.b == 71);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 83);
    CHECK(cpu.reg.e == 5);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 96);
    CHECK(cpu.reg.l == 88);
    CHECK(cpu.pc == 34412);
    CHECK(cpu.sp == 57624);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[18269] == 251);
    REQUIRE(cpu.ram[34411] == 2);
}

TEST_CASE( "02 0057", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11401;
    cpu.sp = 16028;
    cpu.reg.a = 104;
    cpu.reg.b = 189;
    cpu.reg.c = 37;
    cpu.reg.d = 155;
    cpu.reg.e = 25;
    cpu.reg.f = 64;
    cpu.reg.h = 117;
    cpu.reg.l = 169;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[11401] = 2;
    cpu.ram[48421] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 104);
    CHECK(cpu.reg.b == 189);
    CHECK(cpu.reg.c == 37);
    CHECK(cpu.reg.d == 155);
    CHECK(cpu.reg.e == 25);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 117);
    CHECK(cpu.reg.l == 169);
    CHECK(cpu.pc == 11402);
    CHECK(cpu.sp == 16028);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11401] == 2);
    REQUIRE(cpu.ram[48421] == 104);
}

TEST_CASE( "02 0058", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63438;
    cpu.sp = 50088;
    cpu.reg.a = 62;
    cpu.reg.b = 100;
    cpu.reg.c = 203;
    cpu.reg.d = 196;
    cpu.reg.e = 159;
    cpu.reg.f = 144;
    cpu.reg.h = 112;
    cpu.reg.l = 174;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[25803] = 0;
    cpu.ram[63438] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 62);
    CHECK(cpu.reg.b == 100);
    CHECK(cpu.reg.c == 203);
    CHECK(cpu.reg.d == 196);
    CHECK(cpu.reg.e == 159);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 112);
    CHECK(cpu.reg.l == 174);
    CHECK(cpu.pc == 63439);
    CHECK(cpu.sp == 50088);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25803] == 62);
    REQUIRE(cpu.ram[63438] == 2);
}

TEST_CASE( "02 0059", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7872;
    cpu.sp = 55496;
    cpu.reg.a = 177;
    cpu.reg.b = 120;
    cpu.reg.c = 143;
    cpu.reg.d = 199;
    cpu.reg.e = 224;
    cpu.reg.f = 144;
    cpu.reg.h = 43;
    cpu.reg.l = 31;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[7872] = 2;
    cpu.ram[30863] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 177);
    CHECK(cpu.reg.b == 120);
    CHECK(cpu.reg.c == 143);
    CHECK(cpu.reg.d == 199);
    CHECK(cpu.reg.e == 224);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 43);
    CHECK(cpu.reg.l == 31);
    CHECK(cpu.pc == 7873);
    CHECK(cpu.sp == 55496);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7872] == 2);
    REQUIRE(cpu.ram[30863] == 177);
}

TEST_CASE( "02 005A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16446;
    cpu.sp = 17764;
    cpu.reg.a = 141;
    cpu.reg.b = 128;
    cpu.reg.c = 207;
    cpu.reg.d = 30;
    cpu.reg.e = 255;
    cpu.reg.f = 112;
    cpu.reg.h = 148;
    cpu.reg.l = 72;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[16446] = 2;
    cpu.ram[32975] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 141);
    CHECK(cpu.reg.b == 128);
    CHECK(cpu.reg.c == 207);
    CHECK(cpu.reg.d == 30);
    CHECK(cpu.reg.e == 255);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 148);
    CHECK(cpu.reg.l == 72);
    CHECK(cpu.pc == 16447);
    CHECK(cpu.sp == 17764);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16446] == 2);
    REQUIRE(cpu.ram[32975] == 141);
}

TEST_CASE( "02 005B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58166;
    cpu.sp = 29373;
    cpu.reg.a = 179;
    cpu.reg.b = 250;
    cpu.reg.c = 4;
    cpu.reg.d = 171;
    cpu.reg.e = 164;
    cpu.reg.f = 224;
    cpu.reg.h = 50;
    cpu.reg.l = 222;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[58166] = 2;
    cpu.ram[64004] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 179);
    CHECK(cpu.reg.b == 250);
    CHECK(cpu.reg.c == 4);
    CHECK(cpu.reg.d == 171);
    CHECK(cpu.reg.e == 164);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 50);
    CHECK(cpu.reg.l == 222);
    CHECK(cpu.pc == 58167);
    CHECK(cpu.sp == 29373);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[58166] == 2);
    REQUIRE(cpu.ram[64004] == 179);
}

TEST_CASE( "02 005C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15077;
    cpu.sp = 15071;
    cpu.reg.a = 3;
    cpu.reg.b = 139;
    cpu.reg.c = 94;
    cpu.reg.d = 28;
    cpu.reg.e = 182;
    cpu.reg.f = 48;
    cpu.reg.h = 231;
    cpu.reg.l = 170;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[15077] = 2;
    cpu.ram[35678] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 3);
    CHECK(cpu.reg.b == 139);
    CHECK(cpu.reg.c == 94);
    CHECK(cpu.reg.d == 28);
    CHECK(cpu.reg.e == 182);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 231);
    CHECK(cpu.reg.l == 170);
    CHECK(cpu.pc == 15078);
    CHECK(cpu.sp == 15071);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15077] == 2);
    REQUIRE(cpu.ram[35678] == 3);
}

TEST_CASE( "02 005D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45581;
    cpu.sp = 25763;
    cpu.reg.a = 39;
    cpu.reg.b = 21;
    cpu.reg.c = 154;
    cpu.reg.d = 121;
    cpu.reg.e = 214;
    cpu.reg.f = 160;
    cpu.reg.h = 138;
    cpu.reg.l = 59;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[5530] = 0;
    cpu.ram[45581] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 39);
    CHECK(cpu.reg.b == 21);
    CHECK(cpu.reg.c == 154);
    CHECK(cpu.reg.d == 121);
    CHECK(cpu.reg.e == 214);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 138);
    CHECK(cpu.reg.l == 59);
    CHECK(cpu.pc == 45582);
    CHECK(cpu.sp == 25763);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5530] == 39);
    REQUIRE(cpu.ram[45581] == 2);
}

TEST_CASE( "02 005E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42643;
    cpu.sp = 46377;
    cpu.reg.a = 214;
    cpu.reg.b = 187;
    cpu.reg.c = 52;
    cpu.reg.d = 219;
    cpu.reg.e = 233;
    cpu.reg.f = 160;
    cpu.reg.h = 241;
    cpu.reg.l = 36;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[42643] = 2;
    cpu.ram[47924] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 214);
    CHECK(cpu.reg.b == 187);
    CHECK(cpu.reg.c == 52);
    CHECK(cpu.reg.d == 219);
    CHECK(cpu.reg.e == 233);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 36);
    CHECK(cpu.pc == 42644);
    CHECK(cpu.sp == 46377);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[42643] == 2);
    REQUIRE(cpu.ram[47924] == 214);
}

TEST_CASE( "02 005F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47671;
    cpu.sp = 47689;
    cpu.reg.a = 245;
    cpu.reg.b = 71;
    cpu.reg.c = 178;
    cpu.reg.d = 255;
    cpu.reg.e = 188;
    cpu.reg.f = 208;
    cpu.reg.h = 190;
    cpu.reg.l = 43;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[18354] = 0;
    cpu.ram[47671] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 245);
    CHECK(cpu.reg.b == 71);
    CHECK(cpu.reg.c == 178);
    CHECK(cpu.reg.d == 255);
    CHECK(cpu.reg.e == 188);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 190);
    CHECK(cpu.reg.l == 43);
    CHECK(cpu.pc == 47672);
    CHECK(cpu.sp == 47689);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18354] == 245);
    REQUIRE(cpu.ram[47671] == 2);
}

TEST_CASE( "02 0060", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40603;
    cpu.sp = 65012;
    cpu.reg.a = 146;
    cpu.reg.b = 7;
    cpu.reg.c = 36;
    cpu.reg.d = 173;
    cpu.reg.e = 130;
    cpu.reg.f = 16;
    cpu.reg.h = 8;
    cpu.reg.l = 220;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1828] = 0;
    cpu.ram[40603] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 146);
    CHECK(cpu.reg.b == 7);
    CHECK(cpu.reg.c == 36);
    CHECK(cpu.reg.d == 173);
    CHECK(cpu.reg.e == 130);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 8);
    CHECK(cpu.reg.l == 220);
    CHECK(cpu.pc == 40604);
    CHECK(cpu.sp == 65012);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1828] == 146);
    REQUIRE(cpu.ram[40603] == 2);
}

TEST_CASE( "02 0061", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12739;
    cpu.sp = 2077;
    cpu.reg.a = 219;
    cpu.reg.b = 105;
    cpu.reg.c = 184;
    cpu.reg.d = 114;
    cpu.reg.e = 184;
    cpu.reg.f = 208;
    cpu.reg.h = 235;
    cpu.reg.l = 231;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[12739] = 2;
    cpu.ram[27064] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 219);
    CHECK(cpu.reg.b == 105);
    CHECK(cpu.reg.c == 184);
    CHECK(cpu.reg.d == 114);
    CHECK(cpu.reg.e == 184);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 235);
    CHECK(cpu.reg.l == 231);
    CHECK(cpu.pc == 12740);
    CHECK(cpu.sp == 2077);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12739] == 2);
    REQUIRE(cpu.ram[27064] == 219);
}

TEST_CASE( "02 0062", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63488;
    cpu.sp = 43863;
    cpu.reg.a = 155;
    cpu.reg.b = 55;
    cpu.reg.c = 129;
    cpu.reg.d = 192;
    cpu.reg.e = 175;
    cpu.reg.f = 208;
    cpu.reg.h = 177;
    cpu.reg.l = 63;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[14209] = 0;
    cpu.ram[63488] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 155);
    CHECK(cpu.reg.b == 55);
    CHECK(cpu.reg.c == 129);
    CHECK(cpu.reg.d == 192);
    CHECK(cpu.reg.e == 175);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 177);
    CHECK(cpu.reg.l == 63);
    CHECK(cpu.pc == 63489);
    CHECK(cpu.sp == 43863);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14209] == 155);
    REQUIRE(cpu.ram[63488] == 2);
}

TEST_CASE( "02 0063", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54101;
    cpu.sp = 34432;
    cpu.reg.a = 185;
    cpu.reg.b = 209;
    cpu.reg.c = 127;
    cpu.reg.d = 64;
    cpu.reg.e = 78;
    cpu.reg.f = 240;
    cpu.reg.h = 216;
    cpu.reg.l = 166;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[53631] = 0;
    cpu.ram[54101] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 185);
    CHECK(cpu.reg.b == 209);
    CHECK(cpu.reg.c == 127);
    CHECK(cpu.reg.d == 64);
    CHECK(cpu.reg.e == 78);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 216);
    CHECK(cpu.reg.l == 166);
    CHECK(cpu.pc == 54102);
    CHECK(cpu.sp == 34432);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[53631] == 185);
    REQUIRE(cpu.ram[54101] == 2);
}

TEST_CASE( "02 0064", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5848;
    cpu.sp = 24006;
    cpu.reg.a = 239;
    cpu.reg.b = 111;
    cpu.reg.c = 159;
    cpu.reg.d = 215;
    cpu.reg.e = 83;
    cpu.reg.f = 144;
    cpu.reg.h = 159;
    cpu.reg.l = 94;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5848] = 2;
    cpu.ram[28575] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 239);
    CHECK(cpu.reg.b == 111);
    CHECK(cpu.reg.c == 159);
    CHECK(cpu.reg.d == 215);
    CHECK(cpu.reg.e == 83);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 159);
    CHECK(cpu.reg.l == 94);
    CHECK(cpu.pc == 5849);
    CHECK(cpu.sp == 24006);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5848] == 2);
    REQUIRE(cpu.ram[28575] == 239);
}

TEST_CASE( "02 0065", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49507;
    cpu.sp = 60602;
    cpu.reg.a = 1;
    cpu.reg.b = 5;
    cpu.reg.c = 208;
    cpu.reg.d = 196;
    cpu.reg.e = 101;
    cpu.reg.f = 240;
    cpu.reg.h = 30;
    cpu.reg.l = 65;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1488] = 0;
    cpu.ram[49507] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 1);
    CHECK(cpu.reg.b == 5);
    CHECK(cpu.reg.c == 208);
    CHECK(cpu.reg.d == 196);
    CHECK(cpu.reg.e == 101);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 30);
    CHECK(cpu.reg.l == 65);
    CHECK(cpu.pc == 49508);
    CHECK(cpu.sp == 60602);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1488] == 1);
    REQUIRE(cpu.ram[49507] == 2);
}

TEST_CASE( "02 0066", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51694;
    cpu.sp = 64116;
    cpu.reg.a = 201;
    cpu.reg.b = 62;
    cpu.reg.c = 168;
    cpu.reg.d = 199;
    cpu.reg.e = 168;
    cpu.reg.f = 224;
    cpu.reg.h = 63;
    cpu.reg.l = 141;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[16040] = 0;
    cpu.ram[51694] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 201);
    CHECK(cpu.reg.b == 62);
    CHECK(cpu.reg.c == 168);
    CHECK(cpu.reg.d == 199);
    CHECK(cpu.reg.e == 168);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 63);
    CHECK(cpu.reg.l == 141);
    CHECK(cpu.pc == 51695);
    CHECK(cpu.sp == 64116);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16040] == 201);
    REQUIRE(cpu.ram[51694] == 2);
}

TEST_CASE( "02 0067", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16248;
    cpu.sp = 58559;
    cpu.reg.a = 144;
    cpu.reg.b = 29;
    cpu.reg.c = 107;
    cpu.reg.d = 227;
    cpu.reg.e = 208;
    cpu.reg.f = 176;
    cpu.reg.h = 160;
    cpu.reg.l = 178;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[7531] = 0;
    cpu.ram[16248] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 144);
    CHECK(cpu.reg.b == 29);
    CHECK(cpu.reg.c == 107);
    CHECK(cpu.reg.d == 227);
    CHECK(cpu.reg.e == 208);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 160);
    CHECK(cpu.reg.l == 178);
    CHECK(cpu.pc == 16249);
    CHECK(cpu.sp == 58559);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7531] == 144);
    REQUIRE(cpu.ram[16248] == 2);
}

TEST_CASE( "02 0068", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40320;
    cpu.sp = 755;
    cpu.reg.a = 77;
    cpu.reg.b = 42;
    cpu.reg.c = 49;
    cpu.reg.d = 19;
    cpu.reg.e = 209;
    cpu.reg.f = 192;
    cpu.reg.h = 86;
    cpu.reg.l = 248;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[10801] = 0;
    cpu.ram[40320] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 77);
    CHECK(cpu.reg.b == 42);
    CHECK(cpu.reg.c == 49);
    CHECK(cpu.reg.d == 19);
    CHECK(cpu.reg.e == 209);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 86);
    CHECK(cpu.reg.l == 248);
    CHECK(cpu.pc == 40321);
    CHECK(cpu.sp == 755);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10801] == 77);
    REQUIRE(cpu.ram[40320] == 2);
}

TEST_CASE( "02 0069", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52850;
    cpu.sp = 25941;
    cpu.reg.a = 200;
    cpu.reg.b = 75;
    cpu.reg.c = 72;
    cpu.reg.d = 101;
    cpu.reg.e = 184;
    cpu.reg.f = 80;
    cpu.reg.h = 176;
    cpu.reg.l = 250;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[19272] = 0;
    cpu.ram[52850] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 200);
    CHECK(cpu.reg.b == 75);
    CHECK(cpu.reg.c == 72);
    CHECK(cpu.reg.d == 101);
    CHECK(cpu.reg.e == 184);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 176);
    CHECK(cpu.reg.l == 250);
    CHECK(cpu.pc == 52851);
    CHECK(cpu.sp == 25941);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19272] == 200);
    REQUIRE(cpu.ram[52850] == 2);
}

TEST_CASE( "02 006A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52;
    cpu.sp = 52946;
    cpu.reg.a = 179;
    cpu.reg.b = 157;
    cpu.reg.c = 74;
    cpu.reg.d = 110;
    cpu.reg.e = 249;
    cpu.reg.f = 0;
    cpu.reg.h = 121;
    cpu.reg.l = 121;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[52] = 2;
    cpu.ram[40266] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 179);
    CHECK(cpu.reg.b == 157);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 110);
    CHECK(cpu.reg.e == 249);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 121);
    CHECK(cpu.reg.l == 121);
    CHECK(cpu.pc == 53);
    CHECK(cpu.sp == 52946);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[52] == 2);
    REQUIRE(cpu.ram[40266] == 179);
}

TEST_CASE( "02 006B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6450;
    cpu.sp = 60123;
    cpu.reg.a = 222;
    cpu.reg.b = 239;
    cpu.reg.c = 79;
    cpu.reg.d = 238;
    cpu.reg.e = 80;
    cpu.reg.f = 64;
    cpu.reg.h = 156;
    cpu.reg.l = 202;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[6450] = 2;
    cpu.ram[61263] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 222);
    CHECK(cpu.reg.b == 239);
    CHECK(cpu.reg.c == 79);
    CHECK(cpu.reg.d == 238);
    CHECK(cpu.reg.e == 80);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 156);
    CHECK(cpu.reg.l == 202);
    CHECK(cpu.pc == 6451);
    CHECK(cpu.sp == 60123);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6450] == 2);
    REQUIRE(cpu.ram[61263] == 222);
}

TEST_CASE( "02 006C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17071;
    cpu.sp = 35871;
    cpu.reg.a = 68;
    cpu.reg.b = 168;
    cpu.reg.c = 86;
    cpu.reg.d = 73;
    cpu.reg.e = 163;
    cpu.reg.f = 96;
    cpu.reg.h = 190;
    cpu.reg.l = 83;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[17071] = 2;
    cpu.ram[43094] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 68);
    CHECK(cpu.reg.b == 168);
    CHECK(cpu.reg.c == 86);
    CHECK(cpu.reg.d == 73);
    CHECK(cpu.reg.e == 163);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 190);
    CHECK(cpu.reg.l == 83);
    CHECK(cpu.pc == 17072);
    CHECK(cpu.sp == 35871);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17071] == 2);
    REQUIRE(cpu.ram[43094] == 68);
}

TEST_CASE( "02 006D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34522;
    cpu.sp = 31993;
    cpu.reg.a = 242;
    cpu.reg.b = 224;
    cpu.reg.c = 39;
    cpu.reg.d = 85;
    cpu.reg.e = 3;
    cpu.reg.f = 0;
    cpu.reg.h = 245;
    cpu.reg.l = 92;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[34522] = 2;
    cpu.ram[57383] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 242);
    CHECK(cpu.reg.b == 224);
    CHECK(cpu.reg.c == 39);
    CHECK(cpu.reg.d == 85);
    CHECK(cpu.reg.e == 3);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 245);
    CHECK(cpu.reg.l == 92);
    CHECK(cpu.pc == 34523);
    CHECK(cpu.sp == 31993);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34522] == 2);
    REQUIRE(cpu.ram[57383] == 242);
}

TEST_CASE( "02 006E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22100;
    cpu.sp = 35610;
    cpu.reg.a = 191;
    cpu.reg.b = 46;
    cpu.reg.c = 90;
    cpu.reg.d = 135;
    cpu.reg.e = 170;
    cpu.reg.f = 96;
    cpu.reg.h = 174;
    cpu.reg.l = 80;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[11866] = 0;
    cpu.ram[22100] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 191);
    CHECK(cpu.reg.b == 46);
    CHECK(cpu.reg.c == 90);
    CHECK(cpu.reg.d == 135);
    CHECK(cpu.reg.e == 170);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 174);
    CHECK(cpu.reg.l == 80);
    CHECK(cpu.pc == 22101);
    CHECK(cpu.sp == 35610);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11866] == 191);
    REQUIRE(cpu.ram[22100] == 2);
}

TEST_CASE( "02 006F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26282;
    cpu.sp = 79;
    cpu.reg.a = 236;
    cpu.reg.b = 164;
    cpu.reg.c = 34;
    cpu.reg.d = 97;
    cpu.reg.e = 147;
    cpu.reg.f = 112;
    cpu.reg.h = 173;
    cpu.reg.l = 55;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26282] = 2;
    cpu.ram[42018] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 236);
    CHECK(cpu.reg.b == 164);
    CHECK(cpu.reg.c == 34);
    CHECK(cpu.reg.d == 97);
    CHECK(cpu.reg.e == 147);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 173);
    CHECK(cpu.reg.l == 55);
    CHECK(cpu.pc == 26283);
    CHECK(cpu.sp == 79);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26282] == 2);
    REQUIRE(cpu.ram[42018] == 236);
}

TEST_CASE( "02 0070", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50874;
    cpu.sp = 17728;
    cpu.reg.a = 117;
    cpu.reg.b = 144;
    cpu.reg.c = 86;
    cpu.reg.d = 243;
    cpu.reg.e = 24;
    cpu.reg.f = 96;
    cpu.reg.h = 48;
    cpu.reg.l = 231;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[36950] = 0;
    cpu.ram[50874] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 117);
    CHECK(cpu.reg.b == 144);
    CHECK(cpu.reg.c == 86);
    CHECK(cpu.reg.d == 243);
    CHECK(cpu.reg.e == 24);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 48);
    CHECK(cpu.reg.l == 231);
    CHECK(cpu.pc == 50875);
    CHECK(cpu.sp == 17728);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[36950] == 117);
    REQUIRE(cpu.ram[50874] == 2);
}

TEST_CASE( "02 0071", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18709;
    cpu.sp = 2844;
    cpu.reg.a = 11;
    cpu.reg.b = 112;
    cpu.reg.c = 42;
    cpu.reg.d = 45;
    cpu.reg.e = 138;
    cpu.reg.f = 32;
    cpu.reg.h = 178;
    cpu.reg.l = 254;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[18709] = 2;
    cpu.ram[28714] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 11);
    CHECK(cpu.reg.b == 112);
    CHECK(cpu.reg.c == 42);
    CHECK(cpu.reg.d == 45);
    CHECK(cpu.reg.e == 138);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 178);
    CHECK(cpu.reg.l == 254);
    CHECK(cpu.pc == 18710);
    CHECK(cpu.sp == 2844);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[18709] == 2);
    REQUIRE(cpu.ram[28714] == 11);
}

TEST_CASE( "02 0072", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62908;
    cpu.sp = 16442;
    cpu.reg.a = 3;
    cpu.reg.b = 23;
    cpu.reg.c = 71;
    cpu.reg.d = 157;
    cpu.reg.e = 43;
    cpu.reg.f = 208;
    cpu.reg.h = 0;
    cpu.reg.l = 218;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[5959] = 0;
    cpu.ram[62908] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 3);
    CHECK(cpu.reg.b == 23);
    CHECK(cpu.reg.c == 71);
    CHECK(cpu.reg.d == 157);
    CHECK(cpu.reg.e == 43);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 0);
    CHECK(cpu.reg.l == 218);
    CHECK(cpu.pc == 62909);
    CHECK(cpu.sp == 16442);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5959] == 3);
    REQUIRE(cpu.ram[62908] == 2);
}

TEST_CASE( "02 0073", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40698;
    cpu.sp = 2255;
    cpu.reg.a = 160;
    cpu.reg.b = 102;
    cpu.reg.c = 236;
    cpu.reg.d = 90;
    cpu.reg.e = 16;
    cpu.reg.f = 32;
    cpu.reg.h = 176;
    cpu.reg.l = 161;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[26348] = 0;
    cpu.ram[40698] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 160);
    CHECK(cpu.reg.b == 102);
    CHECK(cpu.reg.c == 236);
    CHECK(cpu.reg.d == 90);
    CHECK(cpu.reg.e == 16);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 176);
    CHECK(cpu.reg.l == 161);
    CHECK(cpu.pc == 40699);
    CHECK(cpu.sp == 2255);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26348] == 160);
    REQUIRE(cpu.ram[40698] == 2);
}

TEST_CASE( "02 0074", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48559;
    cpu.sp = 10990;
    cpu.reg.a = 113;
    cpu.reg.b = 157;
    cpu.reg.c = 83;
    cpu.reg.d = 12;
    cpu.reg.e = 174;
    cpu.reg.f = 128;
    cpu.reg.h = 134;
    cpu.reg.l = 60;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[40275] = 0;
    cpu.ram[48559] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 113);
    CHECK(cpu.reg.b == 157);
    CHECK(cpu.reg.c == 83);
    CHECK(cpu.reg.d == 12);
    CHECK(cpu.reg.e == 174);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 134);
    CHECK(cpu.reg.l == 60);
    CHECK(cpu.pc == 48560);
    CHECK(cpu.sp == 10990);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40275] == 113);
    REQUIRE(cpu.ram[48559] == 2);
}

TEST_CASE( "02 0075", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31477;
    cpu.sp = 26102;
    cpu.reg.a = 123;
    cpu.reg.b = 123;
    cpu.reg.c = 80;
    cpu.reg.d = 182;
    cpu.reg.e = 163;
    cpu.reg.f = 144;
    cpu.reg.h = 179;
    cpu.reg.l = 33;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[31477] = 2;
    cpu.ram[31568] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 123);
    CHECK(cpu.reg.b == 123);
    CHECK(cpu.reg.c == 80);
    CHECK(cpu.reg.d == 182);
    CHECK(cpu.reg.e == 163);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 179);
    CHECK(cpu.reg.l == 33);
    CHECK(cpu.pc == 31478);
    CHECK(cpu.sp == 26102);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31477] == 2);
    REQUIRE(cpu.ram[31568] == 123);
}

TEST_CASE( "02 0076", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23963;
    cpu.sp = 20693;
    cpu.reg.a = 41;
    cpu.reg.b = 42;
    cpu.reg.c = 184;
    cpu.reg.d = 50;
    cpu.reg.e = 49;
    cpu.reg.f = 0;
    cpu.reg.h = 188;
    cpu.reg.l = 8;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[10936] = 0;
    cpu.ram[23963] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 41);
    CHECK(cpu.reg.b == 42);
    CHECK(cpu.reg.c == 184);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 49);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 188);
    CHECK(cpu.reg.l == 8);
    CHECK(cpu.pc == 23964);
    CHECK(cpu.sp == 20693);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10936] == 41);
    REQUIRE(cpu.ram[23963] == 2);
}

TEST_CASE( "02 0077", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5292;
    cpu.sp = 19127;
    cpu.reg.a = 246;
    cpu.reg.b = 223;
    cpu.reg.c = 240;
    cpu.reg.d = 253;
    cpu.reg.e = 25;
    cpu.reg.f = 32;
    cpu.reg.h = 231;
    cpu.reg.l = 235;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[5292] = 2;
    cpu.ram[57328] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 246);
    CHECK(cpu.reg.b == 223);
    CHECK(cpu.reg.c == 240);
    CHECK(cpu.reg.d == 253);
    CHECK(cpu.reg.e == 25);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 231);
    CHECK(cpu.reg.l == 235);
    CHECK(cpu.pc == 5293);
    CHECK(cpu.sp == 19127);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5292] == 2);
    REQUIRE(cpu.ram[57328] == 246);
}

TEST_CASE( "02 0078", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48392;
    cpu.sp = 10401;
    cpu.reg.a = 48;
    cpu.reg.b = 161;
    cpu.reg.c = 237;
    cpu.reg.d = 110;
    cpu.reg.e = 225;
    cpu.reg.f = 192;
    cpu.reg.h = 239;
    cpu.reg.l = 178;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[41453] = 0;
    cpu.ram[48392] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 48);
    CHECK(cpu.reg.b == 161);
    CHECK(cpu.reg.c == 237);
    CHECK(cpu.reg.d == 110);
    CHECK(cpu.reg.e == 225);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 239);
    CHECK(cpu.reg.l == 178);
    CHECK(cpu.pc == 48393);
    CHECK(cpu.sp == 10401);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41453] == 48);
    REQUIRE(cpu.ram[48392] == 2);
}

TEST_CASE( "02 0079", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16353;
    cpu.sp = 33700;
    cpu.reg.a = 255;
    cpu.reg.b = 230;
    cpu.reg.c = 118;
    cpu.reg.d = 49;
    cpu.reg.e = 68;
    cpu.reg.f = 192;
    cpu.reg.h = 77;
    cpu.reg.l = 130;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[16353] = 2;
    cpu.ram[58998] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 255);
    CHECK(cpu.reg.b == 230);
    CHECK(cpu.reg.c == 118);
    CHECK(cpu.reg.d == 49);
    CHECK(cpu.reg.e == 68);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 77);
    CHECK(cpu.reg.l == 130);
    CHECK(cpu.pc == 16354);
    CHECK(cpu.sp == 33700);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16353] == 2);
    REQUIRE(cpu.ram[58998] == 255);
}

TEST_CASE( "02 007A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53663;
    cpu.sp = 25243;
    cpu.reg.a = 12;
    cpu.reg.b = 62;
    cpu.reg.c = 81;
    cpu.reg.d = 142;
    cpu.reg.e = 242;
    cpu.reg.f = 112;
    cpu.reg.h = 59;
    cpu.reg.l = 244;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[15953] = 0;
    cpu.ram[53663] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 12);
    CHECK(cpu.reg.b == 62);
    CHECK(cpu.reg.c == 81);
    CHECK(cpu.reg.d == 142);
    CHECK(cpu.reg.e == 242);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 59);
    CHECK(cpu.reg.l == 244);
    CHECK(cpu.pc == 53664);
    CHECK(cpu.sp == 25243);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15953] == 12);
    REQUIRE(cpu.ram[53663] == 2);
}

TEST_CASE( "02 007B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23187;
    cpu.sp = 64456;
    cpu.reg.a = 96;
    cpu.reg.b = 190;
    cpu.reg.c = 177;
    cpu.reg.d = 125;
    cpu.reg.e = 226;
    cpu.reg.f = 112;
    cpu.reg.h = 204;
    cpu.reg.l = 41;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[23187] = 2;
    cpu.ram[48817] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 96);
    CHECK(cpu.reg.b == 190);
    CHECK(cpu.reg.c == 177);
    CHECK(cpu.reg.d == 125);
    CHECK(cpu.reg.e == 226);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 204);
    CHECK(cpu.reg.l == 41);
    CHECK(cpu.pc == 23188);
    CHECK(cpu.sp == 64456);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23187] == 2);
    REQUIRE(cpu.ram[48817] == 96);
}

TEST_CASE( "02 007C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64812;
    cpu.sp = 30208;
    cpu.reg.a = 58;
    cpu.reg.b = 224;
    cpu.reg.c = 44;
    cpu.reg.d = 238;
    cpu.reg.e = 191;
    cpu.reg.f = 16;
    cpu.reg.h = 229;
    cpu.reg.l = 156;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[57388] = 0;
    cpu.ram[64812] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 58);
    CHECK(cpu.reg.b == 224);
    CHECK(cpu.reg.c == 44);
    CHECK(cpu.reg.d == 238);
    CHECK(cpu.reg.e == 191);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 229);
    CHECK(cpu.reg.l == 156);
    CHECK(cpu.pc == 64813);
    CHECK(cpu.sp == 30208);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[57388] == 58);
    REQUIRE(cpu.ram[64812] == 2);
}

TEST_CASE( "02 007D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47132;
    cpu.sp = 23642;
    cpu.reg.a = 240;
    cpu.reg.b = 99;
    cpu.reg.c = 93;
    cpu.reg.d = 19;
    cpu.reg.e = 192;
    cpu.reg.f = 144;
    cpu.reg.h = 208;
    cpu.reg.l = 171;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[25437] = 0;
    cpu.ram[47132] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 240);
    CHECK(cpu.reg.b == 99);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 19);
    CHECK(cpu.reg.e == 192);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 208);
    CHECK(cpu.reg.l == 171);
    CHECK(cpu.pc == 47133);
    CHECK(cpu.sp == 23642);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25437] == 240);
    REQUIRE(cpu.ram[47132] == 2);
}

TEST_CASE( "02 007E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4894;
    cpu.sp = 24358;
    cpu.reg.a = 210;
    cpu.reg.b = 187;
    cpu.reg.c = 127;
    cpu.reg.d = 73;
    cpu.reg.e = 244;
    cpu.reg.f = 0;
    cpu.reg.h = 79;
    cpu.reg.l = 126;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4894] = 2;
    cpu.ram[47999] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 210);
    CHECK(cpu.reg.b == 187);
    CHECK(cpu.reg.c == 127);
    CHECK(cpu.reg.d == 73);
    CHECK(cpu.reg.e == 244);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 79);
    CHECK(cpu.reg.l == 126);
    CHECK(cpu.pc == 4895);
    CHECK(cpu.sp == 24358);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4894] == 2);
    REQUIRE(cpu.ram[47999] == 210);
}

TEST_CASE( "02 007F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60951;
    cpu.sp = 51010;
    cpu.reg.a = 67;
    cpu.reg.b = 150;
    cpu.reg.c = 13;
    cpu.reg.d = 60;
    cpu.reg.e = 130;
    cpu.reg.f = 96;
    cpu.reg.h = 13;
    cpu.reg.l = 164;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[38413] = 0;
    cpu.ram[60951] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 67);
    CHECK(cpu.reg.b == 150);
    CHECK(cpu.reg.c == 13);
    CHECK(cpu.reg.d == 60);
    CHECK(cpu.reg.e == 130);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 13);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 60952);
    CHECK(cpu.sp == 51010);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38413] == 67);
    REQUIRE(cpu.ram[60951] == 2);
}

TEST_CASE( "02 0080", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14762;
    cpu.sp = 8834;
    cpu.reg.a = 3;
    cpu.reg.b = 126;
    cpu.reg.c = 53;
    cpu.reg.d = 151;
    cpu.reg.e = 69;
    cpu.reg.f = 16;
    cpu.reg.h = 106;
    cpu.reg.l = 54;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[14762] = 2;
    cpu.ram[32309] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 3);
    CHECK(cpu.reg.b == 126);
    CHECK(cpu.reg.c == 53);
    CHECK(cpu.reg.d == 151);
    CHECK(cpu.reg.e == 69);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 106);
    CHECK(cpu.reg.l == 54);
    CHECK(cpu.pc == 14763);
    CHECK(cpu.sp == 8834);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14762] == 2);
    REQUIRE(cpu.ram[32309] == 3);
}

TEST_CASE( "02 0081", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20287;
    cpu.sp = 32989;
    cpu.reg.a = 125;
    cpu.reg.b = 232;
    cpu.reg.c = 156;
    cpu.reg.d = 127;
    cpu.reg.e = 229;
    cpu.reg.f = 96;
    cpu.reg.h = 153;
    cpu.reg.l = 220;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[20287] = 2;
    cpu.ram[59548] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 125);
    CHECK(cpu.reg.b == 232);
    CHECK(cpu.reg.c == 156);
    CHECK(cpu.reg.d == 127);
    CHECK(cpu.reg.e == 229);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 153);
    CHECK(cpu.reg.l == 220);
    CHECK(cpu.pc == 20288);
    CHECK(cpu.sp == 32989);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[20287] == 2);
    REQUIRE(cpu.ram[59548] == 125);
}

TEST_CASE( "02 0082", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23444;
    cpu.sp = 40538;
    cpu.reg.a = 113;
    cpu.reg.b = 180;
    cpu.reg.c = 187;
    cpu.reg.d = 110;
    cpu.reg.e = 91;
    cpu.reg.f = 16;
    cpu.reg.h = 128;
    cpu.reg.l = 212;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[23444] = 2;
    cpu.ram[46267] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 113);
    CHECK(cpu.reg.b == 180);
    CHECK(cpu.reg.c == 187);
    CHECK(cpu.reg.d == 110);
    CHECK(cpu.reg.e == 91);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 128);
    CHECK(cpu.reg.l == 212);
    CHECK(cpu.pc == 23445);
    CHECK(cpu.sp == 40538);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[23444] == 2);
    REQUIRE(cpu.ram[46267] == 113);
}

TEST_CASE( "02 0083", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37783;
    cpu.sp = 41770;
    cpu.reg.a = 37;
    cpu.reg.b = 165;
    cpu.reg.c = 184;
    cpu.reg.d = 91;
    cpu.reg.e = 192;
    cpu.reg.f = 48;
    cpu.reg.h = 183;
    cpu.reg.l = 152;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[37783] = 2;
    cpu.ram[42424] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 37);
    CHECK(cpu.reg.b == 165);
    CHECK(cpu.reg.c == 184);
    CHECK(cpu.reg.d == 91);
    CHECK(cpu.reg.e == 192);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 183);
    CHECK(cpu.reg.l == 152);
    CHECK(cpu.pc == 37784);
    CHECK(cpu.sp == 41770);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[37783] == 2);
    REQUIRE(cpu.ram[42424] == 37);
}

TEST_CASE( "02 0084", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33760;
    cpu.sp = 1966;
    cpu.reg.a = 199;
    cpu.reg.b = 124;
    cpu.reg.c = 254;
    cpu.reg.d = 27;
    cpu.reg.e = 16;
    cpu.reg.f = 64;
    cpu.reg.h = 179;
    cpu.reg.l = 23;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[31998] = 0;
    cpu.ram[33760] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 199);
    CHECK(cpu.reg.b == 124);
    CHECK(cpu.reg.c == 254);
    CHECK(cpu.reg.d == 27);
    CHECK(cpu.reg.e == 16);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 179);
    CHECK(cpu.reg.l == 23);
    CHECK(cpu.pc == 33761);
    CHECK(cpu.sp == 1966);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31998] == 199);
    REQUIRE(cpu.ram[33760] == 2);
}

TEST_CASE( "02 0085", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10792;
    cpu.sp = 14751;
    cpu.reg.a = 47;
    cpu.reg.b = 102;
    cpu.reg.c = 177;
    cpu.reg.d = 36;
    cpu.reg.e = 91;
    cpu.reg.f = 208;
    cpu.reg.h = 246;
    cpu.reg.l = 197;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[10792] = 2;
    cpu.ram[26289] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 47);
    CHECK(cpu.reg.b == 102);
    CHECK(cpu.reg.c == 177);
    CHECK(cpu.reg.d == 36);
    CHECK(cpu.reg.e == 91);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 246);
    CHECK(cpu.reg.l == 197);
    CHECK(cpu.pc == 10793);
    CHECK(cpu.sp == 14751);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10792] == 2);
    REQUIRE(cpu.ram[26289] == 47);
}

TEST_CASE( "02 0086", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6700;
    cpu.sp = 32695;
    cpu.reg.a = 226;
    cpu.reg.b = 152;
    cpu.reg.c = 221;
    cpu.reg.d = 143;
    cpu.reg.e = 165;
    cpu.reg.f = 80;
    cpu.reg.h = 76;
    cpu.reg.l = 30;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[6700] = 2;
    cpu.ram[39133] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 226);
    CHECK(cpu.reg.b == 152);
    CHECK(cpu.reg.c == 221);
    CHECK(cpu.reg.d == 143);
    CHECK(cpu.reg.e == 165);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 76);
    CHECK(cpu.reg.l == 30);
    CHECK(cpu.pc == 6701);
    CHECK(cpu.sp == 32695);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6700] == 2);
    REQUIRE(cpu.ram[39133] == 226);
}

TEST_CASE( "02 0087", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64583;
    cpu.sp = 31579;
    cpu.reg.a = 215;
    cpu.reg.b = 2;
    cpu.reg.c = 78;
    cpu.reg.d = 46;
    cpu.reg.e = 0;
    cpu.reg.f = 192;
    cpu.reg.h = 19;
    cpu.reg.l = 208;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[590] = 0;
    cpu.ram[64583] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 215);
    CHECK(cpu.reg.b == 2);
    CHECK(cpu.reg.c == 78);
    CHECK(cpu.reg.d == 46);
    CHECK(cpu.reg.e == 0);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 19);
    CHECK(cpu.reg.l == 208);
    CHECK(cpu.pc == 64584);
    CHECK(cpu.sp == 31579);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[590] == 215);
    REQUIRE(cpu.ram[64583] == 2);
}

TEST_CASE( "02 0088", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1143;
    cpu.sp = 4500;
    cpu.reg.a = 42;
    cpu.reg.b = 41;
    cpu.reg.c = 132;
    cpu.reg.d = 82;
    cpu.reg.e = 83;
    cpu.reg.f = 144;
    cpu.reg.h = 246;
    cpu.reg.l = 12;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[1143] = 2;
    cpu.ram[10628] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 42);
    CHECK(cpu.reg.b == 41);
    CHECK(cpu.reg.c == 132);
    CHECK(cpu.reg.d == 82);
    CHECK(cpu.reg.e == 83);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 246);
    CHECK(cpu.reg.l == 12);
    CHECK(cpu.pc == 1144);
    CHECK(cpu.sp == 4500);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1143] == 2);
    REQUIRE(cpu.ram[10628] == 42);
}

TEST_CASE( "02 0089", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2463;
    cpu.sp = 42363;
    cpu.reg.a = 160;
    cpu.reg.b = 210;
    cpu.reg.c = 57;
    cpu.reg.d = 5;
    cpu.reg.e = 87;
    cpu.reg.f = 16;
    cpu.reg.h = 196;
    cpu.reg.l = 129;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[2463] = 2;
    cpu.ram[53817] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 160);
    CHECK(cpu.reg.b == 210);
    CHECK(cpu.reg.c == 57);
    CHECK(cpu.reg.d == 5);
    CHECK(cpu.reg.e == 87);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 196);
    CHECK(cpu.reg.l == 129);
    CHECK(cpu.pc == 2464);
    CHECK(cpu.sp == 42363);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2463] == 2);
    REQUIRE(cpu.ram[53817] == 160);
}

TEST_CASE( "02 008A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54301;
    cpu.sp = 62018;
    cpu.reg.a = 138;
    cpu.reg.b = 76;
    cpu.reg.c = 74;
    cpu.reg.d = 212;
    cpu.reg.e = 21;
    cpu.reg.f = 144;
    cpu.reg.h = 176;
    cpu.reg.l = 44;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[19530] = 0;
    cpu.ram[54301] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 138);
    CHECK(cpu.reg.b == 76);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 212);
    CHECK(cpu.reg.e == 21);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 176);
    CHECK(cpu.reg.l == 44);
    CHECK(cpu.pc == 54302);
    CHECK(cpu.sp == 62018);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19530] == 138);
    REQUIRE(cpu.ram[54301] == 2);
}

TEST_CASE( "02 008B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35964;
    cpu.sp = 23297;
    cpu.reg.a = 222;
    cpu.reg.b = 208;
    cpu.reg.c = 23;
    cpu.reg.d = 251;
    cpu.reg.e = 126;
    cpu.reg.f = 112;
    cpu.reg.h = 131;
    cpu.reg.l = 190;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[35964] = 2;
    cpu.ram[53271] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 222);
    CHECK(cpu.reg.b == 208);
    CHECK(cpu.reg.c == 23);
    CHECK(cpu.reg.d == 251);
    CHECK(cpu.reg.e == 126);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 131);
    CHECK(cpu.reg.l == 190);
    CHECK(cpu.pc == 35965);
    CHECK(cpu.sp == 23297);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35964] == 2);
    REQUIRE(cpu.ram[53271] == 222);
}

TEST_CASE( "02 008C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54573;
    cpu.sp = 63226;
    cpu.reg.a = 153;
    cpu.reg.b = 239;
    cpu.reg.c = 110;
    cpu.reg.d = 172;
    cpu.reg.e = 49;
    cpu.reg.f = 32;
    cpu.reg.h = 228;
    cpu.reg.l = 113;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[54573] = 2;
    cpu.ram[61294] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 153);
    CHECK(cpu.reg.b == 239);
    CHECK(cpu.reg.c == 110);
    CHECK(cpu.reg.d == 172);
    CHECK(cpu.reg.e == 49);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 228);
    CHECK(cpu.reg.l == 113);
    CHECK(cpu.pc == 54574);
    CHECK(cpu.sp == 63226);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[54573] == 2);
    REQUIRE(cpu.ram[61294] == 153);
}

TEST_CASE( "02 008D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25932;
    cpu.sp = 8344;
    cpu.reg.a = 150;
    cpu.reg.b = 246;
    cpu.reg.c = 44;
    cpu.reg.d = 8;
    cpu.reg.e = 178;
    cpu.reg.f = 32;
    cpu.reg.h = 19;
    cpu.reg.l = 252;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[25932] = 2;
    cpu.ram[63020] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 150);
    CHECK(cpu.reg.b == 246);
    CHECK(cpu.reg.c == 44);
    CHECK(cpu.reg.d == 8);
    CHECK(cpu.reg.e == 178);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 19);
    CHECK(cpu.reg.l == 252);
    CHECK(cpu.pc == 25933);
    CHECK(cpu.sp == 8344);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25932] == 2);
    REQUIRE(cpu.ram[63020] == 150);
}

TEST_CASE( "02 008E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33456;
    cpu.sp = 23419;
    cpu.reg.a = 151;
    cpu.reg.b = 11;
    cpu.reg.c = 149;
    cpu.reg.d = 145;
    cpu.reg.e = 33;
    cpu.reg.f = 80;
    cpu.reg.h = 169;
    cpu.reg.l = 104;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[2965] = 0;
    cpu.ram[33456] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 151);
    CHECK(cpu.reg.b == 11);
    CHECK(cpu.reg.c == 149);
    CHECK(cpu.reg.d == 145);
    CHECK(cpu.reg.e == 33);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 169);
    CHECK(cpu.reg.l == 104);
    CHECK(cpu.pc == 33457);
    CHECK(cpu.sp == 23419);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2965] == 151);
    REQUIRE(cpu.ram[33456] == 2);
}

TEST_CASE( "02 008F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9428;
    cpu.sp = 62514;
    cpu.reg.a = 159;
    cpu.reg.b = 131;
    cpu.reg.c = 198;
    cpu.reg.d = 181;
    cpu.reg.e = 164;
    cpu.reg.f = 144;
    cpu.reg.h = 48;
    cpu.reg.l = 118;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[9428] = 2;
    cpu.ram[33734] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 159);
    CHECK(cpu.reg.b == 131);
    CHECK(cpu.reg.c == 198);
    CHECK(cpu.reg.d == 181);
    CHECK(cpu.reg.e == 164);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 48);
    CHECK(cpu.reg.l == 118);
    CHECK(cpu.pc == 9429);
    CHECK(cpu.sp == 62514);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9428] == 2);
    REQUIRE(cpu.ram[33734] == 159);
}

TEST_CASE( "02 0090", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17132;
    cpu.sp = 38668;
    cpu.reg.a = 26;
    cpu.reg.b = 194;
    cpu.reg.c = 57;
    cpu.reg.d = 77;
    cpu.reg.e = 130;
    cpu.reg.f = 80;
    cpu.reg.h = 148;
    cpu.reg.l = 38;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[17132] = 2;
    cpu.ram[49721] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 26);
    CHECK(cpu.reg.b == 194);
    CHECK(cpu.reg.c == 57);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 130);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 148);
    CHECK(cpu.reg.l == 38);
    CHECK(cpu.pc == 17133);
    CHECK(cpu.sp == 38668);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17132] == 2);
    REQUIRE(cpu.ram[49721] == 26);
}

TEST_CASE( "02 0091", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41107;
    cpu.sp = 63329;
    cpu.reg.a = 63;
    cpu.reg.b = 128;
    cpu.reg.c = 119;
    cpu.reg.d = 73;
    cpu.reg.e = 254;
    cpu.reg.f = 32;
    cpu.reg.h = 6;
    cpu.reg.l = 243;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[32887] = 0;
    cpu.ram[41107] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 63);
    CHECK(cpu.reg.b == 128);
    CHECK(cpu.reg.c == 119);
    CHECK(cpu.reg.d == 73);
    CHECK(cpu.reg.e == 254);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 6);
    CHECK(cpu.reg.l == 243);
    CHECK(cpu.pc == 41108);
    CHECK(cpu.sp == 63329);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32887] == 63);
    REQUIRE(cpu.ram[41107] == 2);
}

TEST_CASE( "02 0092", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22013;
    cpu.sp = 27345;
    cpu.reg.a = 129;
    cpu.reg.b = 218;
    cpu.reg.c = 238;
    cpu.reg.d = 161;
    cpu.reg.e = 228;
    cpu.reg.f = 240;
    cpu.reg.h = 109;
    cpu.reg.l = 213;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[22013] = 2;
    cpu.ram[56046] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 129);
    CHECK(cpu.reg.b == 218);
    CHECK(cpu.reg.c == 238);
    CHECK(cpu.reg.d == 161);
    CHECK(cpu.reg.e == 228);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 109);
    CHECK(cpu.reg.l == 213);
    CHECK(cpu.pc == 22014);
    CHECK(cpu.sp == 27345);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22013] == 2);
    REQUIRE(cpu.ram[56046] == 129);
}

TEST_CASE( "02 0093", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5128;
    cpu.sp = 19214;
    cpu.reg.a = 252;
    cpu.reg.b = 254;
    cpu.reg.c = 192;
    cpu.reg.d = 18;
    cpu.reg.e = 32;
    cpu.reg.f = 64;
    cpu.reg.h = 156;
    cpu.reg.l = 75;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[5128] = 2;
    cpu.ram[65216] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 252);
    CHECK(cpu.reg.b == 254);
    CHECK(cpu.reg.c == 192);
    CHECK(cpu.reg.d == 18);
    CHECK(cpu.reg.e == 32);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 156);
    CHECK(cpu.reg.l == 75);
    CHECK(cpu.pc == 5129);
    CHECK(cpu.sp == 19214);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5128] == 2);
    REQUIRE(cpu.ram[65216] == 252);
}

TEST_CASE( "02 0094", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57604;
    cpu.sp = 47127;
    cpu.reg.a = 121;
    cpu.reg.b = 96;
    cpu.reg.c = 245;
    cpu.reg.d = 135;
    cpu.reg.e = 54;
    cpu.reg.f = 96;
    cpu.reg.h = 217;
    cpu.reg.l = 61;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[24821] = 0;
    cpu.ram[57604] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 121);
    CHECK(cpu.reg.b == 96);
    CHECK(cpu.reg.c == 245);
    CHECK(cpu.reg.d == 135);
    CHECK(cpu.reg.e == 54);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 217);
    CHECK(cpu.reg.l == 61);
    CHECK(cpu.pc == 57605);
    CHECK(cpu.sp == 47127);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24821] == 121);
    REQUIRE(cpu.ram[57604] == 2);
}

TEST_CASE( "02 0095", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33981;
    cpu.sp = 14125;
    cpu.reg.a = 112;
    cpu.reg.b = 129;
    cpu.reg.c = 86;
    cpu.reg.d = 27;
    cpu.reg.e = 66;
    cpu.reg.f = 0;
    cpu.reg.h = 123;
    cpu.reg.l = 137;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[33110] = 0;
    cpu.ram[33981] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 112);
    CHECK(cpu.reg.b == 129);
    CHECK(cpu.reg.c == 86);
    CHECK(cpu.reg.d == 27);
    CHECK(cpu.reg.e == 66);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 123);
    CHECK(cpu.reg.l == 137);
    CHECK(cpu.pc == 33982);
    CHECK(cpu.sp == 14125);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33110] == 112);
    REQUIRE(cpu.ram[33981] == 2);
}

TEST_CASE( "02 0096", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13560;
    cpu.sp = 58786;
    cpu.reg.a = 110;
    cpu.reg.b = 105;
    cpu.reg.c = 27;
    cpu.reg.d = 44;
    cpu.reg.e = 177;
    cpu.reg.f = 144;
    cpu.reg.h = 151;
    cpu.reg.l = 221;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[13560] = 2;
    cpu.ram[26907] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 110);
    CHECK(cpu.reg.b == 105);
    CHECK(cpu.reg.c == 27);
    CHECK(cpu.reg.d == 44);
    CHECK(cpu.reg.e == 177);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 151);
    CHECK(cpu.reg.l == 221);
    CHECK(cpu.pc == 13561);
    CHECK(cpu.sp == 58786);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13560] == 2);
    REQUIRE(cpu.ram[26907] == 110);
}

TEST_CASE( "02 0097", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51311;
    cpu.sp = 53818;
    cpu.reg.a = 146;
    cpu.reg.b = 210;
    cpu.reg.c = 207;
    cpu.reg.d = 159;
    cpu.reg.e = 40;
    cpu.reg.f = 48;
    cpu.reg.h = 194;
    cpu.reg.l = 255;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[51311] = 2;
    cpu.ram[53967] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 146);
    CHECK(cpu.reg.b == 210);
    CHECK(cpu.reg.c == 207);
    CHECK(cpu.reg.d == 159);
    CHECK(cpu.reg.e == 40);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 194);
    CHECK(cpu.reg.l == 255);
    CHECK(cpu.pc == 51312);
    CHECK(cpu.sp == 53818);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[51311] == 2);
    REQUIRE(cpu.ram[53967] == 146);
}

TEST_CASE( "02 0098", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22625;
    cpu.sp = 16349;
    cpu.reg.a = 212;
    cpu.reg.b = 243;
    cpu.reg.c = 126;
    cpu.reg.d = 121;
    cpu.reg.e = 204;
    cpu.reg.f = 160;
    cpu.reg.h = 234;
    cpu.reg.l = 224;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[22625] = 2;
    cpu.ram[62334] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 212);
    CHECK(cpu.reg.b == 243);
    CHECK(cpu.reg.c == 126);
    CHECK(cpu.reg.d == 121);
    CHECK(cpu.reg.e == 204);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 234);
    CHECK(cpu.reg.l == 224);
    CHECK(cpu.pc == 22626);
    CHECK(cpu.sp == 16349);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22625] == 2);
    REQUIRE(cpu.ram[62334] == 212);
}

TEST_CASE( "02 0099", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24962;
    cpu.sp = 32569;
    cpu.reg.a = 178;
    cpu.reg.b = 103;
    cpu.reg.c = 64;
    cpu.reg.d = 40;
    cpu.reg.e = 155;
    cpu.reg.f = 96;
    cpu.reg.h = 82;
    cpu.reg.l = 51;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[24962] = 2;
    cpu.ram[26432] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 178);
    CHECK(cpu.reg.b == 103);
    CHECK(cpu.reg.c == 64);
    CHECK(cpu.reg.d == 40);
    CHECK(cpu.reg.e == 155);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 82);
    CHECK(cpu.reg.l == 51);
    CHECK(cpu.pc == 24963);
    CHECK(cpu.sp == 32569);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24962] == 2);
    REQUIRE(cpu.ram[26432] == 178);
}

TEST_CASE( "02 009A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5278;
    cpu.sp = 7739;
    cpu.reg.a = 186;
    cpu.reg.b = 221;
    cpu.reg.c = 24;
    cpu.reg.d = 16;
    cpu.reg.e = 47;
    cpu.reg.f = 48;
    cpu.reg.h = 164;
    cpu.reg.l = 215;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[5278] = 2;
    cpu.ram[56600] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 186);
    CHECK(cpu.reg.b == 221);
    CHECK(cpu.reg.c == 24);
    CHECK(cpu.reg.d == 16);
    CHECK(cpu.reg.e == 47);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 164);
    CHECK(cpu.reg.l == 215);
    CHECK(cpu.pc == 5279);
    CHECK(cpu.sp == 7739);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5278] == 2);
    REQUIRE(cpu.ram[56600] == 186);
}

TEST_CASE( "02 009B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33072;
    cpu.sp = 17251;
    cpu.reg.a = 128;
    cpu.reg.b = 199;
    cpu.reg.c = 224;
    cpu.reg.d = 168;
    cpu.reg.e = 161;
    cpu.reg.f = 96;
    cpu.reg.h = 182;
    cpu.reg.l = 78;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[33072] = 2;
    cpu.ram[51168] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 128);
    CHECK(cpu.reg.b == 199);
    CHECK(cpu.reg.c == 224);
    CHECK(cpu.reg.d == 168);
    CHECK(cpu.reg.e == 161);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 182);
    CHECK(cpu.reg.l == 78);
    CHECK(cpu.pc == 33073);
    CHECK(cpu.sp == 17251);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33072] == 2);
    REQUIRE(cpu.ram[51168] == 128);
}

TEST_CASE( "02 009C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61522;
    cpu.sp = 29428;
    cpu.reg.a = 22;
    cpu.reg.b = 61;
    cpu.reg.c = 152;
    cpu.reg.d = 141;
    cpu.reg.e = 113;
    cpu.reg.f = 144;
    cpu.reg.h = 167;
    cpu.reg.l = 62;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[15768] = 0;
    cpu.ram[61522] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 22);
    CHECK(cpu.reg.b == 61);
    CHECK(cpu.reg.c == 152);
    CHECK(cpu.reg.d == 141);
    CHECK(cpu.reg.e == 113);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 167);
    CHECK(cpu.reg.l == 62);
    CHECK(cpu.pc == 61523);
    CHECK(cpu.sp == 29428);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15768] == 22);
    REQUIRE(cpu.ram[61522] == 2);
}

TEST_CASE( "02 009D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18540;
    cpu.sp = 12906;
    cpu.reg.a = 51;
    cpu.reg.b = 30;
    cpu.reg.c = 229;
    cpu.reg.d = 41;
    cpu.reg.e = 214;
    cpu.reg.f = 176;
    cpu.reg.h = 126;
    cpu.reg.l = 164;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[7909] = 0;
    cpu.ram[18540] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 51);
    CHECK(cpu.reg.b == 30);
    CHECK(cpu.reg.c == 229);
    CHECK(cpu.reg.d == 41);
    CHECK(cpu.reg.e == 214);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 126);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 18541);
    CHECK(cpu.sp == 12906);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7909] == 51);
    REQUIRE(cpu.ram[18540] == 2);
}

TEST_CASE( "02 009E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43568;
    cpu.sp = 9783;
    cpu.reg.a = 1;
    cpu.reg.b = 33;
    cpu.reg.c = 187;
    cpu.reg.d = 9;
    cpu.reg.e = 4;
    cpu.reg.f = 144;
    cpu.reg.h = 145;
    cpu.reg.l = 12;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[8635] = 0;
    cpu.ram[43568] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 1);
    CHECK(cpu.reg.b == 33);
    CHECK(cpu.reg.c == 187);
    CHECK(cpu.reg.d == 9);
    CHECK(cpu.reg.e == 4);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 145);
    CHECK(cpu.reg.l == 12);
    CHECK(cpu.pc == 43569);
    CHECK(cpu.sp == 9783);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8635] == 1);
    REQUIRE(cpu.ram[43568] == 2);
}

TEST_CASE( "02 009F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36169;
    cpu.sp = 17595;
    cpu.reg.a = 174;
    cpu.reg.b = 75;
    cpu.reg.c = 142;
    cpu.reg.d = 171;
    cpu.reg.e = 163;
    cpu.reg.f = 16;
    cpu.reg.h = 190;
    cpu.reg.l = 118;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[19342] = 0;
    cpu.ram[36169] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 174);
    CHECK(cpu.reg.b == 75);
    CHECK(cpu.reg.c == 142);
    CHECK(cpu.reg.d == 171);
    CHECK(cpu.reg.e == 163);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 190);
    CHECK(cpu.reg.l == 118);
    CHECK(cpu.pc == 36170);
    CHECK(cpu.sp == 17595);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19342] == 174);
    REQUIRE(cpu.ram[36169] == 2);
}

TEST_CASE( "02 00A0", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58249;
    cpu.sp = 17631;
    cpu.reg.a = 79;
    cpu.reg.b = 240;
    cpu.reg.c = 163;
    cpu.reg.d = 127;
    cpu.reg.e = 104;
    cpu.reg.f = 16;
    cpu.reg.h = 131;
    cpu.reg.l = 152;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[58249] = 2;
    cpu.ram[61603] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 79);
    CHECK(cpu.reg.b == 240);
    CHECK(cpu.reg.c == 163);
    CHECK(cpu.reg.d == 127);
    CHECK(cpu.reg.e == 104);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 131);
    CHECK(cpu.reg.l == 152);
    CHECK(cpu.pc == 58250);
    CHECK(cpu.sp == 17631);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58249] == 2);
    REQUIRE(cpu.ram[61603] == 79);
}

TEST_CASE( "02 00A1", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19801;
    cpu.sp = 39329;
    cpu.reg.a = 54;
    cpu.reg.b = 77;
    cpu.reg.c = 228;
    cpu.reg.d = 28;
    cpu.reg.e = 41;
    cpu.reg.f = 64;
    cpu.reg.h = 128;
    cpu.reg.l = 96;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[19801] = 2;
    cpu.ram[19940] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 54);
    CHECK(cpu.reg.b == 77);
    CHECK(cpu.reg.c == 228);
    CHECK(cpu.reg.d == 28);
    CHECK(cpu.reg.e == 41);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 128);
    CHECK(cpu.reg.l == 96);
    CHECK(cpu.pc == 19802);
    CHECK(cpu.sp == 39329);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19801] == 2);
    REQUIRE(cpu.ram[19940] == 54);
}

TEST_CASE( "02 00A2", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20311;
    cpu.sp = 51462;
    cpu.reg.a = 27;
    cpu.reg.b = 58;
    cpu.reg.c = 255;
    cpu.reg.d = 31;
    cpu.reg.e = 116;
    cpu.reg.f = 32;
    cpu.reg.h = 152;
    cpu.reg.l = 97;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[15103] = 0;
    cpu.ram[20311] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 27);
    CHECK(cpu.reg.b == 58);
    CHECK(cpu.reg.c == 255);
    CHECK(cpu.reg.d == 31);
    CHECK(cpu.reg.e == 116);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 152);
    CHECK(cpu.reg.l == 97);
    CHECK(cpu.pc == 20312);
    CHECK(cpu.sp == 51462);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15103] == 27);
    REQUIRE(cpu.ram[20311] == 2);
}

TEST_CASE( "02 00A3", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 447;
    cpu.sp = 1607;
    cpu.reg.a = 221;
    cpu.reg.b = 138;
    cpu.reg.c = 174;
    cpu.reg.d = 214;
    cpu.reg.e = 57;
    cpu.reg.f = 32;
    cpu.reg.h = 240;
    cpu.reg.l = 222;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[447] = 2;
    cpu.ram[35502] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 221);
    CHECK(cpu.reg.b == 138);
    CHECK(cpu.reg.c == 174);
    CHECK(cpu.reg.d == 214);
    CHECK(cpu.reg.e == 57);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 240);
    CHECK(cpu.reg.l == 222);
    CHECK(cpu.pc == 448);
    CHECK(cpu.sp == 1607);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[447] == 2);
    REQUIRE(cpu.ram[35502] == 221);
}

TEST_CASE( "02 00A4", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65145;
    cpu.sp = 44766;
    cpu.reg.a = 64;
    cpu.reg.b = 97;
    cpu.reg.c = 145;
    cpu.reg.d = 228;
    cpu.reg.e = 244;
    cpu.reg.f = 0;
    cpu.reg.h = 128;
    cpu.reg.l = 188;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[24977] = 0;
    cpu.ram[65145] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 97);
    CHECK(cpu.reg.c == 145);
    CHECK(cpu.reg.d == 228);
    CHECK(cpu.reg.e == 244);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 128);
    CHECK(cpu.reg.l == 188);
    CHECK(cpu.pc == 65146);
    CHECK(cpu.sp == 44766);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24977] == 64);
    REQUIRE(cpu.ram[65145] == 2);
}

TEST_CASE( "02 00A5", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 726;
    cpu.sp = 14043;
    cpu.reg.a = 192;
    cpu.reg.b = 101;
    cpu.reg.c = 28;
    cpu.reg.d = 143;
    cpu.reg.e = 158;
    cpu.reg.f = 96;
    cpu.reg.h = 50;
    cpu.reg.l = 155;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[726] = 2;
    cpu.ram[25884] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 192);
    CHECK(cpu.reg.b == 101);
    CHECK(cpu.reg.c == 28);
    CHECK(cpu.reg.d == 143);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 50);
    CHECK(cpu.reg.l == 155);
    CHECK(cpu.pc == 727);
    CHECK(cpu.sp == 14043);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[726] == 2);
    REQUIRE(cpu.ram[25884] == 192);
}

TEST_CASE( "02 00A6", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35893;
    cpu.sp = 45530;
    cpu.reg.a = 97;
    cpu.reg.b = 58;
    cpu.reg.c = 71;
    cpu.reg.d = 219;
    cpu.reg.e = 209;
    cpu.reg.f = 64;
    cpu.reg.h = 33;
    cpu.reg.l = 181;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[14919] = 0;
    cpu.ram[35893] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 97);
    CHECK(cpu.reg.b == 58);
    CHECK(cpu.reg.c == 71);
    CHECK(cpu.reg.d == 219);
    CHECK(cpu.reg.e == 209);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 33);
    CHECK(cpu.reg.l == 181);
    CHECK(cpu.pc == 35894);
    CHECK(cpu.sp == 45530);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14919] == 97);
    REQUIRE(cpu.ram[35893] == 2);
}

TEST_CASE( "02 00A7", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26774;
    cpu.sp = 48489;
    cpu.reg.a = 191;
    cpu.reg.b = 63;
    cpu.reg.c = 121;
    cpu.reg.d = 12;
    cpu.reg.e = 164;
    cpu.reg.f = 0;
    cpu.reg.h = 145;
    cpu.reg.l = 148;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[16249] = 0;
    cpu.ram[26774] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 191);
    CHECK(cpu.reg.b == 63);
    CHECK(cpu.reg.c == 121);
    CHECK(cpu.reg.d == 12);
    CHECK(cpu.reg.e == 164);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 145);
    CHECK(cpu.reg.l == 148);
    CHECK(cpu.pc == 26775);
    CHECK(cpu.sp == 48489);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16249] == 191);
    REQUIRE(cpu.ram[26774] == 2);
}

TEST_CASE( "02 00A8", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8219;
    cpu.sp = 30947;
    cpu.reg.a = 3;
    cpu.reg.b = 8;
    cpu.reg.c = 98;
    cpu.reg.d = 143;
    cpu.reg.e = 52;
    cpu.reg.f = 160;
    cpu.reg.h = 138;
    cpu.reg.l = 71;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[2146] = 0;
    cpu.ram[8219] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 3);
    CHECK(cpu.reg.b == 8);
    CHECK(cpu.reg.c == 98);
    CHECK(cpu.reg.d == 143);
    CHECK(cpu.reg.e == 52);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 138);
    CHECK(cpu.reg.l == 71);
    CHECK(cpu.pc == 8220);
    CHECK(cpu.sp == 30947);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2146] == 3);
    REQUIRE(cpu.ram[8219] == 2);
}

TEST_CASE( "02 00A9", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29783;
    cpu.sp = 44013;
    cpu.reg.a = 107;
    cpu.reg.b = 169;
    cpu.reg.c = 158;
    cpu.reg.d = 111;
    cpu.reg.e = 252;
    cpu.reg.f = 224;
    cpu.reg.h = 173;
    cpu.reg.l = 98;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[29783] = 2;
    cpu.ram[43422] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 107);
    CHECK(cpu.reg.b == 169);
    CHECK(cpu.reg.c == 158);
    CHECK(cpu.reg.d == 111);
    CHECK(cpu.reg.e == 252);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 173);
    CHECK(cpu.reg.l == 98);
    CHECK(cpu.pc == 29784);
    CHECK(cpu.sp == 44013);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29783] == 2);
    REQUIRE(cpu.ram[43422] == 107);
}

TEST_CASE( "02 00AA", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22524;
    cpu.sp = 38957;
    cpu.reg.a = 97;
    cpu.reg.b = 62;
    cpu.reg.c = 44;
    cpu.reg.d = 200;
    cpu.reg.e = 29;
    cpu.reg.f = 96;
    cpu.reg.h = 210;
    cpu.reg.l = 113;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[15916] = 0;
    cpu.ram[22524] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 97);
    CHECK(cpu.reg.b == 62);
    CHECK(cpu.reg.c == 44);
    CHECK(cpu.reg.d == 200);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 210);
    CHECK(cpu.reg.l == 113);
    CHECK(cpu.pc == 22525);
    CHECK(cpu.sp == 38957);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15916] == 97);
    REQUIRE(cpu.ram[22524] == 2);
}

TEST_CASE( "02 00AB", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43454;
    cpu.sp = 53517;
    cpu.reg.a = 128;
    cpu.reg.b = 169;
    cpu.reg.c = 235;
    cpu.reg.d = 182;
    cpu.reg.e = 134;
    cpu.reg.f = 176;
    cpu.reg.h = 95;
    cpu.reg.l = 141;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[43454] = 2;
    cpu.ram[43499] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 128);
    CHECK(cpu.reg.b == 169);
    CHECK(cpu.reg.c == 235);
    CHECK(cpu.reg.d == 182);
    CHECK(cpu.reg.e == 134);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 95);
    CHECK(cpu.reg.l == 141);
    CHECK(cpu.pc == 43455);
    CHECK(cpu.sp == 53517);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[43454] == 2);
    REQUIRE(cpu.ram[43499] == 128);
}

TEST_CASE( "02 00AC", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5313;
    cpu.sp = 65194;
    cpu.reg.a = 95;
    cpu.reg.b = 16;
    cpu.reg.c = 237;
    cpu.reg.d = 33;
    cpu.reg.e = 71;
    cpu.reg.f = 160;
    cpu.reg.h = 6;
    cpu.reg.l = 201;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[4333] = 0;
    cpu.ram[5313] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 95);
    CHECK(cpu.reg.b == 16);
    CHECK(cpu.reg.c == 237);
    CHECK(cpu.reg.d == 33);
    CHECK(cpu.reg.e == 71);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 6);
    CHECK(cpu.reg.l == 201);
    CHECK(cpu.pc == 5314);
    CHECK(cpu.sp == 65194);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4333] == 95);
    REQUIRE(cpu.ram[5313] == 2);
}

TEST_CASE( "02 00AD", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20134;
    cpu.sp = 29125;
    cpu.reg.a = 164;
    cpu.reg.b = 125;
    cpu.reg.c = 113;
    cpu.reg.d = 226;
    cpu.reg.e = 59;
    cpu.reg.f = 176;
    cpu.reg.h = 101;
    cpu.reg.l = 29;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[20134] = 2;
    cpu.ram[32113] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 164);
    CHECK(cpu.reg.b == 125);
    CHECK(cpu.reg.c == 113);
    CHECK(cpu.reg.d == 226);
    CHECK(cpu.reg.e == 59);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 101);
    CHECK(cpu.reg.l == 29);
    CHECK(cpu.pc == 20135);
    CHECK(cpu.sp == 29125);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20134] == 2);
    REQUIRE(cpu.ram[32113] == 164);
}

TEST_CASE( "02 00AE", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59143;
    cpu.sp = 61384;
    cpu.reg.a = 36;
    cpu.reg.b = 193;
    cpu.reg.c = 211;
    cpu.reg.d = 67;
    cpu.reg.e = 201;
    cpu.reg.f = 192;
    cpu.reg.h = 245;
    cpu.reg.l = 42;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[49619] = 0;
    cpu.ram[59143] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 36);
    CHECK(cpu.reg.b == 193);
    CHECK(cpu.reg.c == 211);
    CHECK(cpu.reg.d == 67);
    CHECK(cpu.reg.e == 201);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 245);
    CHECK(cpu.reg.l == 42);
    CHECK(cpu.pc == 59144);
    CHECK(cpu.sp == 61384);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49619] == 36);
    REQUIRE(cpu.ram[59143] == 2);
}

TEST_CASE( "02 00AF", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57925;
    cpu.sp = 1034;
    cpu.reg.a = 219;
    cpu.reg.b = 87;
    cpu.reg.c = 152;
    cpu.reg.d = 202;
    cpu.reg.e = 30;
    cpu.reg.f = 192;
    cpu.reg.h = 17;
    cpu.reg.l = 234;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[22424] = 0;
    cpu.ram[57925] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 219);
    CHECK(cpu.reg.b == 87);
    CHECK(cpu.reg.c == 152);
    CHECK(cpu.reg.d == 202);
    CHECK(cpu.reg.e == 30);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 234);
    CHECK(cpu.pc == 57926);
    CHECK(cpu.sp == 1034);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22424] == 219);
    REQUIRE(cpu.ram[57925] == 2);
}

TEST_CASE( "02 00B0", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8067;
    cpu.sp = 25811;
    cpu.reg.a = 224;
    cpu.reg.b = 219;
    cpu.reg.c = 22;
    cpu.reg.d = 29;
    cpu.reg.e = 1;
    cpu.reg.f = 0;
    cpu.reg.h = 209;
    cpu.reg.l = 165;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[8067] = 2;
    cpu.ram[56086] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 219);
    CHECK(cpu.reg.c == 22);
    CHECK(cpu.reg.d == 29);
    CHECK(cpu.reg.e == 1);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 209);
    CHECK(cpu.reg.l == 165);
    CHECK(cpu.pc == 8068);
    CHECK(cpu.sp == 25811);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8067] == 2);
    REQUIRE(cpu.ram[56086] == 224);
}

TEST_CASE( "02 00B1", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15847;
    cpu.sp = 11474;
    cpu.reg.a = 108;
    cpu.reg.b = 194;
    cpu.reg.c = 193;
    cpu.reg.d = 101;
    cpu.reg.e = 100;
    cpu.reg.f = 144;
    cpu.reg.h = 86;
    cpu.reg.l = 240;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[15847] = 2;
    cpu.ram[49857] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 108);
    CHECK(cpu.reg.b == 194);
    CHECK(cpu.reg.c == 193);
    CHECK(cpu.reg.d == 101);
    CHECK(cpu.reg.e == 100);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 86);
    CHECK(cpu.reg.l == 240);
    CHECK(cpu.pc == 15848);
    CHECK(cpu.sp == 11474);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15847] == 2);
    REQUIRE(cpu.ram[49857] == 108);
}

TEST_CASE( "02 00B2", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63591;
    cpu.sp = 56994;
    cpu.reg.a = 199;
    cpu.reg.b = 157;
    cpu.reg.c = 46;
    cpu.reg.d = 85;
    cpu.reg.e = 109;
    cpu.reg.f = 144;
    cpu.reg.h = 19;
    cpu.reg.l = 1;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[40238] = 0;
    cpu.ram[63591] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 199);
    CHECK(cpu.reg.b == 157);
    CHECK(cpu.reg.c == 46);
    CHECK(cpu.reg.d == 85);
    CHECK(cpu.reg.e == 109);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 19);
    CHECK(cpu.reg.l == 1);
    CHECK(cpu.pc == 63592);
    CHECK(cpu.sp == 56994);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40238] == 199);
    REQUIRE(cpu.ram[63591] == 2);
}

TEST_CASE( "02 00B3", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20942;
    cpu.sp = 31381;
    cpu.reg.a = 220;
    cpu.reg.b = 151;
    cpu.reg.c = 140;
    cpu.reg.d = 88;
    cpu.reg.e = 235;
    cpu.reg.f = 128;
    cpu.reg.h = 158;
    cpu.reg.l = 118;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[20942] = 2;
    cpu.ram[38796] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 220);
    CHECK(cpu.reg.b == 151);
    CHECK(cpu.reg.c == 140);
    CHECK(cpu.reg.d == 88);
    CHECK(cpu.reg.e == 235);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 158);
    CHECK(cpu.reg.l == 118);
    CHECK(cpu.pc == 20943);
    CHECK(cpu.sp == 31381);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20942] == 2);
    REQUIRE(cpu.ram[38796] == 220);
}

TEST_CASE( "02 00B4", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56111;
    cpu.sp = 21502;
    cpu.reg.a = 9;
    cpu.reg.b = 30;
    cpu.reg.c = 149;
    cpu.reg.d = 115;
    cpu.reg.e = 179;
    cpu.reg.f = 240;
    cpu.reg.h = 236;
    cpu.reg.l = 218;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[7829] = 0;
    cpu.ram[56111] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 9);
    CHECK(cpu.reg.b == 30);
    CHECK(cpu.reg.c == 149);
    CHECK(cpu.reg.d == 115);
    CHECK(cpu.reg.e == 179);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 236);
    CHECK(cpu.reg.l == 218);
    CHECK(cpu.pc == 56112);
    CHECK(cpu.sp == 21502);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7829] == 9);
    REQUIRE(cpu.ram[56111] == 2);
}

TEST_CASE( "02 00B5", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42605;
    cpu.sp = 42071;
    cpu.reg.a = 69;
    cpu.reg.b = 134;
    cpu.reg.c = 113;
    cpu.reg.d = 187;
    cpu.reg.e = 249;
    cpu.reg.f = 48;
    cpu.reg.h = 176;
    cpu.reg.l = 107;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[34417] = 0;
    cpu.ram[42605] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 69);
    CHECK(cpu.reg.b == 134);
    CHECK(cpu.reg.c == 113);
    CHECK(cpu.reg.d == 187);
    CHECK(cpu.reg.e == 249);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 176);
    CHECK(cpu.reg.l == 107);
    CHECK(cpu.pc == 42606);
    CHECK(cpu.sp == 42071);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34417] == 69);
    REQUIRE(cpu.ram[42605] == 2);
}

TEST_CASE( "02 00B6", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30906;
    cpu.sp = 50354;
    cpu.reg.a = 108;
    cpu.reg.b = 71;
    cpu.reg.c = 92;
    cpu.reg.d = 177;
    cpu.reg.e = 128;
    cpu.reg.f = 64;
    cpu.reg.h = 235;
    cpu.reg.l = 98;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[18268] = 0;
    cpu.ram[30906] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 108);
    CHECK(cpu.reg.b == 71);
    CHECK(cpu.reg.c == 92);
    CHECK(cpu.reg.d == 177);
    CHECK(cpu.reg.e == 128);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 235);
    CHECK(cpu.reg.l == 98);
    CHECK(cpu.pc == 30907);
    CHECK(cpu.sp == 50354);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[18268] == 108);
    REQUIRE(cpu.ram[30906] == 2);
}

TEST_CASE( "02 00B7", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45947;
    cpu.sp = 38017;
    cpu.reg.a = 32;
    cpu.reg.b = 196;
    cpu.reg.c = 119;
    cpu.reg.d = 3;
    cpu.reg.e = 206;
    cpu.reg.f = 112;
    cpu.reg.h = 130;
    cpu.reg.l = 37;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[45947] = 2;
    cpu.ram[50295] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 32);
    CHECK(cpu.reg.b == 196);
    CHECK(cpu.reg.c == 119);
    CHECK(cpu.reg.d == 3);
    CHECK(cpu.reg.e == 206);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 130);
    CHECK(cpu.reg.l == 37);
    CHECK(cpu.pc == 45948);
    CHECK(cpu.sp == 38017);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45947] == 2);
    REQUIRE(cpu.ram[50295] == 32);
}

TEST_CASE( "02 00B8", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53069;
    cpu.sp = 45659;
    cpu.reg.a = 85;
    cpu.reg.b = 76;
    cpu.reg.c = 159;
    cpu.reg.d = 22;
    cpu.reg.e = 124;
    cpu.reg.f = 16;
    cpu.reg.h = 237;
    cpu.reg.l = 241;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[19615] = 0;
    cpu.ram[53069] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 85);
    CHECK(cpu.reg.b == 76);
    CHECK(cpu.reg.c == 159);
    CHECK(cpu.reg.d == 22);
    CHECK(cpu.reg.e == 124);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 237);
    CHECK(cpu.reg.l == 241);
    CHECK(cpu.pc == 53070);
    CHECK(cpu.sp == 45659);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19615] == 85);
    REQUIRE(cpu.ram[53069] == 2);
}

TEST_CASE( "02 00B9", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57985;
    cpu.sp = 41401;
    cpu.reg.a = 66;
    cpu.reg.b = 192;
    cpu.reg.c = 199;
    cpu.reg.d = 231;
    cpu.reg.e = 58;
    cpu.reg.f = 32;
    cpu.reg.h = 79;
    cpu.reg.l = 37;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[49351] = 0;
    cpu.ram[57985] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 66);
    CHECK(cpu.reg.b == 192);
    CHECK(cpu.reg.c == 199);
    CHECK(cpu.reg.d == 231);
    CHECK(cpu.reg.e == 58);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 79);
    CHECK(cpu.reg.l == 37);
    CHECK(cpu.pc == 57986);
    CHECK(cpu.sp == 41401);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49351] == 66);
    REQUIRE(cpu.ram[57985] == 2);
}

TEST_CASE( "02 00BA", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2869;
    cpu.sp = 19399;
    cpu.reg.a = 254;
    cpu.reg.b = 111;
    cpu.reg.c = 88;
    cpu.reg.d = 176;
    cpu.reg.e = 237;
    cpu.reg.f = 32;
    cpu.reg.h = 152;
    cpu.reg.l = 45;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[2869] = 2;
    cpu.ram[28504] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 111);
    CHECK(cpu.reg.c == 88);
    CHECK(cpu.reg.d == 176);
    CHECK(cpu.reg.e == 237);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 152);
    CHECK(cpu.reg.l == 45);
    CHECK(cpu.pc == 2870);
    CHECK(cpu.sp == 19399);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2869] == 2);
    REQUIRE(cpu.ram[28504] == 254);
}

TEST_CASE( "02 00BB", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19824;
    cpu.sp = 27697;
    cpu.reg.a = 85;
    cpu.reg.b = 236;
    cpu.reg.c = 184;
    cpu.reg.d = 8;
    cpu.reg.e = 198;
    cpu.reg.f = 32;
    cpu.reg.h = 231;
    cpu.reg.l = 31;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[19824] = 2;
    cpu.ram[60600] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 85);
    CHECK(cpu.reg.b == 236);
    CHECK(cpu.reg.c == 184);
    CHECK(cpu.reg.d == 8);
    CHECK(cpu.reg.e == 198);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 231);
    CHECK(cpu.reg.l == 31);
    CHECK(cpu.pc == 19825);
    CHECK(cpu.sp == 27697);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19824] == 2);
    REQUIRE(cpu.ram[60600] == 85);
}

TEST_CASE( "02 00BC", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38232;
    cpu.sp = 26456;
    cpu.reg.a = 20;
    cpu.reg.b = 16;
    cpu.reg.c = 211;
    cpu.reg.d = 208;
    cpu.reg.e = 146;
    cpu.reg.f = 160;
    cpu.reg.h = 203;
    cpu.reg.l = 174;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[4307] = 0;
    cpu.ram[38232] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 20);
    CHECK(cpu.reg.b == 16);
    CHECK(cpu.reg.c == 211);
    CHECK(cpu.reg.d == 208);
    CHECK(cpu.reg.e == 146);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 203);
    CHECK(cpu.reg.l == 174);
    CHECK(cpu.pc == 38233);
    CHECK(cpu.sp == 26456);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4307] == 20);
    REQUIRE(cpu.ram[38232] == 2);
}

TEST_CASE( "02 00BD", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61439;
    cpu.sp = 10104;
    cpu.reg.a = 68;
    cpu.reg.b = 137;
    cpu.reg.c = 68;
    cpu.reg.d = 125;
    cpu.reg.e = 220;
    cpu.reg.f = 208;
    cpu.reg.h = 182;
    cpu.reg.l = 35;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[35140] = 0;
    cpu.ram[61439] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 68);
    CHECK(cpu.reg.b == 137);
    CHECK(cpu.reg.c == 68);
    CHECK(cpu.reg.d == 125);
    CHECK(cpu.reg.e == 220);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 182);
    CHECK(cpu.reg.l == 35);
    CHECK(cpu.pc == 61440);
    CHECK(cpu.sp == 10104);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35140] == 68);
    REQUIRE(cpu.ram[61439] == 2);
}

TEST_CASE( "02 00BE", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28891;
    cpu.sp = 23446;
    cpu.reg.a = 223;
    cpu.reg.b = 253;
    cpu.reg.c = 166;
    cpu.reg.d = 148;
    cpu.reg.e = 7;
    cpu.reg.f = 240;
    cpu.reg.h = 249;
    cpu.reg.l = 143;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[28891] = 2;
    cpu.ram[64934] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 223);
    CHECK(cpu.reg.b == 253);
    CHECK(cpu.reg.c == 166);
    CHECK(cpu.reg.d == 148);
    CHECK(cpu.reg.e == 7);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 249);
    CHECK(cpu.reg.l == 143);
    CHECK(cpu.pc == 28892);
    CHECK(cpu.sp == 23446);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[28891] == 2);
    REQUIRE(cpu.ram[64934] == 223);
}

TEST_CASE( "02 00BF", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62472;
    cpu.sp = 3183;
    cpu.reg.a = 228;
    cpu.reg.b = 14;
    cpu.reg.c = 131;
    cpu.reg.d = 95;
    cpu.reg.e = 51;
    cpu.reg.f = 224;
    cpu.reg.h = 243;
    cpu.reg.l = 240;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[3715] = 0;
    cpu.ram[62472] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 228);
    CHECK(cpu.reg.b == 14);
    CHECK(cpu.reg.c == 131);
    CHECK(cpu.reg.d == 95);
    CHECK(cpu.reg.e == 51);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 243);
    CHECK(cpu.reg.l == 240);
    CHECK(cpu.pc == 62473);
    CHECK(cpu.sp == 3183);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3715] == 228);
    REQUIRE(cpu.ram[62472] == 2);
}

TEST_CASE( "02 00C0", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51641;
    cpu.sp = 22478;
    cpu.reg.a = 25;
    cpu.reg.b = 48;
    cpu.reg.c = 122;
    cpu.reg.d = 186;
    cpu.reg.e = 174;
    cpu.reg.f = 144;
    cpu.reg.h = 80;
    cpu.reg.l = 217;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[12410] = 0;
    cpu.ram[51641] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 25);
    CHECK(cpu.reg.b == 48);
    CHECK(cpu.reg.c == 122);
    CHECK(cpu.reg.d == 186);
    CHECK(cpu.reg.e == 174);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 80);
    CHECK(cpu.reg.l == 217);
    CHECK(cpu.pc == 51642);
    CHECK(cpu.sp == 22478);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12410] == 25);
    REQUIRE(cpu.ram[51641] == 2);
}

TEST_CASE( "02 00C1", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56769;
    cpu.sp = 61039;
    cpu.reg.a = 43;
    cpu.reg.b = 198;
    cpu.reg.c = 44;
    cpu.reg.d = 154;
    cpu.reg.e = 143;
    cpu.reg.f = 192;
    cpu.reg.h = 78;
    cpu.reg.l = 28;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[50732] = 0;
    cpu.ram[56769] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 43);
    CHECK(cpu.reg.b == 198);
    CHECK(cpu.reg.c == 44);
    CHECK(cpu.reg.d == 154);
    CHECK(cpu.reg.e == 143);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 78);
    CHECK(cpu.reg.l == 28);
    CHECK(cpu.pc == 56770);
    CHECK(cpu.sp == 61039);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50732] == 43);
    REQUIRE(cpu.ram[56769] == 2);
}

TEST_CASE( "02 00C2", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51968;
    cpu.sp = 25112;
    cpu.reg.a = 31;
    cpu.reg.b = 26;
    cpu.reg.c = 18;
    cpu.reg.d = 119;
    cpu.reg.e = 219;
    cpu.reg.f = 224;
    cpu.reg.h = 17;
    cpu.reg.l = 157;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[6674] = 0;
    cpu.ram[51968] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 31);
    CHECK(cpu.reg.b == 26);
    CHECK(cpu.reg.c == 18);
    CHECK(cpu.reg.d == 119);
    CHECK(cpu.reg.e == 219);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 157);
    CHECK(cpu.pc == 51969);
    CHECK(cpu.sp == 25112);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6674] == 31);
    REQUIRE(cpu.ram[51968] == 2);
}

TEST_CASE( "02 00C3", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38634;
    cpu.sp = 25714;
    cpu.reg.a = 135;
    cpu.reg.b = 132;
    cpu.reg.c = 163;
    cpu.reg.d = 30;
    cpu.reg.e = 104;
    cpu.reg.f = 160;
    cpu.reg.h = 97;
    cpu.reg.l = 54;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[33955] = 0;
    cpu.ram[38634] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 135);
    CHECK(cpu.reg.b == 132);
    CHECK(cpu.reg.c == 163);
    CHECK(cpu.reg.d == 30);
    CHECK(cpu.reg.e == 104);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 97);
    CHECK(cpu.reg.l == 54);
    CHECK(cpu.pc == 38635);
    CHECK(cpu.sp == 25714);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33955] == 135);
    REQUIRE(cpu.ram[38634] == 2);
}

TEST_CASE( "02 00C4", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58688;
    cpu.sp = 33665;
    cpu.reg.a = 134;
    cpu.reg.b = 202;
    cpu.reg.c = 69;
    cpu.reg.d = 223;
    cpu.reg.e = 179;
    cpu.reg.f = 224;
    cpu.reg.h = 103;
    cpu.reg.l = 178;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[51781] = 0;
    cpu.ram[58688] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 134);
    CHECK(cpu.reg.b == 202);
    CHECK(cpu.reg.c == 69);
    CHECK(cpu.reg.d == 223);
    CHECK(cpu.reg.e == 179);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 103);
    CHECK(cpu.reg.l == 178);
    CHECK(cpu.pc == 58689);
    CHECK(cpu.sp == 33665);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[51781] == 134);
    REQUIRE(cpu.ram[58688] == 2);
}

TEST_CASE( "02 00C5", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38336;
    cpu.sp = 12369;
    cpu.reg.a = 92;
    cpu.reg.b = 114;
    cpu.reg.c = 69;
    cpu.reg.d = 223;
    cpu.reg.e = 241;
    cpu.reg.f = 128;
    cpu.reg.h = 162;
    cpu.reg.l = 157;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[29253] = 0;
    cpu.ram[38336] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 92);
    CHECK(cpu.reg.b == 114);
    CHECK(cpu.reg.c == 69);
    CHECK(cpu.reg.d == 223);
    CHECK(cpu.reg.e == 241);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 162);
    CHECK(cpu.reg.l == 157);
    CHECK(cpu.pc == 38337);
    CHECK(cpu.sp == 12369);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[29253] == 92);
    REQUIRE(cpu.ram[38336] == 2);
}

TEST_CASE( "02 00C6", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12243;
    cpu.sp = 6044;
    cpu.reg.a = 34;
    cpu.reg.b = 118;
    cpu.reg.c = 152;
    cpu.reg.d = 123;
    cpu.reg.e = 70;
    cpu.reg.f = 160;
    cpu.reg.h = 126;
    cpu.reg.l = 235;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[12243] = 2;
    cpu.ram[30360] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 34);
    CHECK(cpu.reg.b == 118);
    CHECK(cpu.reg.c == 152);
    CHECK(cpu.reg.d == 123);
    CHECK(cpu.reg.e == 70);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 126);
    CHECK(cpu.reg.l == 235);
    CHECK(cpu.pc == 12244);
    CHECK(cpu.sp == 6044);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12243] == 2);
    REQUIRE(cpu.ram[30360] == 34);
}

TEST_CASE( "02 00C7", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42782;
    cpu.sp = 597;
    cpu.reg.a = 133;
    cpu.reg.b = 53;
    cpu.reg.c = 214;
    cpu.reg.d = 67;
    cpu.reg.e = 33;
    cpu.reg.f = 240;
    cpu.reg.h = 112;
    cpu.reg.l = 219;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[13782] = 0;
    cpu.ram[42782] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 133);
    CHECK(cpu.reg.b == 53);
    CHECK(cpu.reg.c == 214);
    CHECK(cpu.reg.d == 67);
    CHECK(cpu.reg.e == 33);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 112);
    CHECK(cpu.reg.l == 219);
    CHECK(cpu.pc == 42783);
    CHECK(cpu.sp == 597);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13782] == 133);
    REQUIRE(cpu.ram[42782] == 2);
}

TEST_CASE( "02 00C8", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2600;
    cpu.sp = 55400;
    cpu.reg.a = 199;
    cpu.reg.b = 114;
    cpu.reg.c = 56;
    cpu.reg.d = 117;
    cpu.reg.e = 22;
    cpu.reg.f = 64;
    cpu.reg.h = 86;
    cpu.reg.l = 230;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[2600] = 2;
    cpu.ram[29240] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 199);
    CHECK(cpu.reg.b == 114);
    CHECK(cpu.reg.c == 56);
    CHECK(cpu.reg.d == 117);
    CHECK(cpu.reg.e == 22);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 86);
    CHECK(cpu.reg.l == 230);
    CHECK(cpu.pc == 2601);
    CHECK(cpu.sp == 55400);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2600] == 2);
    REQUIRE(cpu.ram[29240] == 199);
}

TEST_CASE( "02 00C9", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22719;
    cpu.sp = 9331;
    cpu.reg.a = 113;
    cpu.reg.b = 76;
    cpu.reg.c = 86;
    cpu.reg.d = 126;
    cpu.reg.e = 97;
    cpu.reg.f = 96;
    cpu.reg.h = 168;
    cpu.reg.l = 101;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[19542] = 0;
    cpu.ram[22719] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 113);
    CHECK(cpu.reg.b == 76);
    CHECK(cpu.reg.c == 86);
    CHECK(cpu.reg.d == 126);
    CHECK(cpu.reg.e == 97);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 168);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 22720);
    CHECK(cpu.sp == 9331);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19542] == 113);
    REQUIRE(cpu.ram[22719] == 2);
}

TEST_CASE( "02 00CA", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15440;
    cpu.sp = 40343;
    cpu.reg.a = 229;
    cpu.reg.b = 234;
    cpu.reg.c = 241;
    cpu.reg.d = 123;
    cpu.reg.e = 28;
    cpu.reg.f = 128;
    cpu.reg.h = 145;
    cpu.reg.l = 45;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[15440] = 2;
    cpu.ram[60145] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 229);
    CHECK(cpu.reg.b == 234);
    CHECK(cpu.reg.c == 241);
    CHECK(cpu.reg.d == 123);
    CHECK(cpu.reg.e == 28);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 145);
    CHECK(cpu.reg.l == 45);
    CHECK(cpu.pc == 15441);
    CHECK(cpu.sp == 40343);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15440] == 2);
    REQUIRE(cpu.ram[60145] == 229);
}

TEST_CASE( "02 00CB", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47445;
    cpu.sp = 8734;
    cpu.reg.a = 95;
    cpu.reg.b = 91;
    cpu.reg.c = 212;
    cpu.reg.d = 254;
    cpu.reg.e = 235;
    cpu.reg.f = 32;
    cpu.reg.h = 241;
    cpu.reg.l = 5;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[23508] = 0;
    cpu.ram[47445] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 95);
    CHECK(cpu.reg.b == 91);
    CHECK(cpu.reg.c == 212);
    CHECK(cpu.reg.d == 254);
    CHECK(cpu.reg.e == 235);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 5);
    CHECK(cpu.pc == 47446);
    CHECK(cpu.sp == 8734);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23508] == 95);
    REQUIRE(cpu.ram[47445] == 2);
}

TEST_CASE( "02 00CC", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64131;
    cpu.sp = 1029;
    cpu.reg.a = 37;
    cpu.reg.b = 195;
    cpu.reg.c = 149;
    cpu.reg.d = 76;
    cpu.reg.e = 165;
    cpu.reg.f = 176;
    cpu.reg.h = 89;
    cpu.reg.l = 253;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[50069] = 0;
    cpu.ram[64131] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 37);
    CHECK(cpu.reg.b == 195);
    CHECK(cpu.reg.c == 149);
    CHECK(cpu.reg.d == 76);
    CHECK(cpu.reg.e == 165);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 89);
    CHECK(cpu.reg.l == 253);
    CHECK(cpu.pc == 64132);
    CHECK(cpu.sp == 1029);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[50069] == 37);
    REQUIRE(cpu.ram[64131] == 2);
}

TEST_CASE( "02 00CD", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60902;
    cpu.sp = 11843;
    cpu.reg.a = 102;
    cpu.reg.b = 198;
    cpu.reg.c = 221;
    cpu.reg.d = 31;
    cpu.reg.e = 120;
    cpu.reg.f = 208;
    cpu.reg.h = 180;
    cpu.reg.l = 118;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[50909] = 0;
    cpu.ram[60902] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 102);
    CHECK(cpu.reg.b == 198);
    CHECK(cpu.reg.c == 221);
    CHECK(cpu.reg.d == 31);
    CHECK(cpu.reg.e == 120);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 180);
    CHECK(cpu.reg.l == 118);
    CHECK(cpu.pc == 60903);
    CHECK(cpu.sp == 11843);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50909] == 102);
    REQUIRE(cpu.ram[60902] == 2);
}

TEST_CASE( "02 00CE", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44390;
    cpu.sp = 1836;
    cpu.reg.a = 7;
    cpu.reg.b = 33;
    cpu.reg.c = 195;
    cpu.reg.d = 213;
    cpu.reg.e = 24;
    cpu.reg.f = 80;
    cpu.reg.h = 203;
    cpu.reg.l = 153;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[8643] = 0;
    cpu.ram[44390] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 7);
    CHECK(cpu.reg.b == 33);
    CHECK(cpu.reg.c == 195);
    CHECK(cpu.reg.d == 213);
    CHECK(cpu.reg.e == 24);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 203);
    CHECK(cpu.reg.l == 153);
    CHECK(cpu.pc == 44391);
    CHECK(cpu.sp == 1836);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8643] == 7);
    REQUIRE(cpu.ram[44390] == 2);
}

TEST_CASE( "02 00CF", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1502;
    cpu.sp = 12755;
    cpu.reg.a = 182;
    cpu.reg.b = 144;
    cpu.reg.c = 28;
    cpu.reg.d = 81;
    cpu.reg.e = 229;
    cpu.reg.f = 144;
    cpu.reg.h = 3;
    cpu.reg.l = 181;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1502] = 2;
    cpu.ram[36892] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 182);
    CHECK(cpu.reg.b == 144);
    CHECK(cpu.reg.c == 28);
    CHECK(cpu.reg.d == 81);
    CHECK(cpu.reg.e == 229);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 3);
    CHECK(cpu.reg.l == 181);
    CHECK(cpu.pc == 1503);
    CHECK(cpu.sp == 12755);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1502] == 2);
    REQUIRE(cpu.ram[36892] == 182);
}

TEST_CASE( "02 00D0", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48588;
    cpu.sp = 24602;
    cpu.reg.a = 190;
    cpu.reg.b = 206;
    cpu.reg.c = 58;
    cpu.reg.d = 92;
    cpu.reg.e = 239;
    cpu.reg.f = 96;
    cpu.reg.h = 123;
    cpu.reg.l = 12;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[48588] = 2;
    cpu.ram[52794] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 190);
    CHECK(cpu.reg.b == 206);
    CHECK(cpu.reg.c == 58);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 239);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 123);
    CHECK(cpu.reg.l == 12);
    CHECK(cpu.pc == 48589);
    CHECK(cpu.sp == 24602);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48588] == 2);
    REQUIRE(cpu.ram[52794] == 190);
}

TEST_CASE( "02 00D1", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18914;
    cpu.sp = 55501;
    cpu.reg.a = 137;
    cpu.reg.b = 180;
    cpu.reg.c = 182;
    cpu.reg.d = 112;
    cpu.reg.e = 86;
    cpu.reg.f = 96;
    cpu.reg.h = 170;
    cpu.reg.l = 80;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[18914] = 2;
    cpu.ram[46262] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 137);
    CHECK(cpu.reg.b == 180);
    CHECK(cpu.reg.c == 182);
    CHECK(cpu.reg.d == 112);
    CHECK(cpu.reg.e == 86);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 170);
    CHECK(cpu.reg.l == 80);
    CHECK(cpu.pc == 18915);
    CHECK(cpu.sp == 55501);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[18914] == 2);
    REQUIRE(cpu.ram[46262] == 137);
}

TEST_CASE( "02 00D2", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24540;
    cpu.sp = 36295;
    cpu.reg.a = 29;
    cpu.reg.b = 217;
    cpu.reg.c = 186;
    cpu.reg.d = 110;
    cpu.reg.e = 172;
    cpu.reg.f = 0;
    cpu.reg.h = 29;
    cpu.reg.l = 101;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[24540] = 2;
    cpu.ram[55738] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 29);
    CHECK(cpu.reg.b == 217);
    CHECK(cpu.reg.c == 186);
    CHECK(cpu.reg.d == 110);
    CHECK(cpu.reg.e == 172);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 29);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 24541);
    CHECK(cpu.sp == 36295);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24540] == 2);
    REQUIRE(cpu.ram[55738] == 29);
}

TEST_CASE( "02 00D3", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54547;
    cpu.sp = 42233;
    cpu.reg.a = 195;
    cpu.reg.b = 86;
    cpu.reg.c = 28;
    cpu.reg.d = 97;
    cpu.reg.e = 235;
    cpu.reg.f = 96;
    cpu.reg.h = 34;
    cpu.reg.l = 103;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[22044] = 0;
    cpu.ram[54547] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 195);
    CHECK(cpu.reg.b == 86);
    CHECK(cpu.reg.c == 28);
    CHECK(cpu.reg.d == 97);
    CHECK(cpu.reg.e == 235);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 34);
    CHECK(cpu.reg.l == 103);
    CHECK(cpu.pc == 54548);
    CHECK(cpu.sp == 42233);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22044] == 195);
    REQUIRE(cpu.ram[54547] == 2);
}

TEST_CASE( "02 00D4", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5566;
    cpu.sp = 1592;
    cpu.reg.a = 148;
    cpu.reg.b = 172;
    cpu.reg.c = 213;
    cpu.reg.d = 140;
    cpu.reg.e = 101;
    cpu.reg.f = 224;
    cpu.reg.h = 98;
    cpu.reg.l = 17;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[5566] = 2;
    cpu.ram[44245] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 148);
    CHECK(cpu.reg.b == 172);
    CHECK(cpu.reg.c == 213);
    CHECK(cpu.reg.d == 140);
    CHECK(cpu.reg.e == 101);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 98);
    CHECK(cpu.reg.l == 17);
    CHECK(cpu.pc == 5567);
    CHECK(cpu.sp == 1592);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5566] == 2);
    REQUIRE(cpu.ram[44245] == 148);
}

TEST_CASE( "02 00D5", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16889;
    cpu.sp = 31371;
    cpu.reg.a = 66;
    cpu.reg.b = 204;
    cpu.reg.c = 87;
    cpu.reg.d = 17;
    cpu.reg.e = 216;
    cpu.reg.f = 144;
    cpu.reg.h = 125;
    cpu.reg.l = 140;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[16889] = 2;
    cpu.ram[52311] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 66);
    CHECK(cpu.reg.b == 204);
    CHECK(cpu.reg.c == 87);
    CHECK(cpu.reg.d == 17);
    CHECK(cpu.reg.e == 216);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 125);
    CHECK(cpu.reg.l == 140);
    CHECK(cpu.pc == 16890);
    CHECK(cpu.sp == 31371);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16889] == 2);
    REQUIRE(cpu.ram[52311] == 66);
}

TEST_CASE( "02 00D6", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33215;
    cpu.sp = 3811;
    cpu.reg.a = 87;
    cpu.reg.b = 180;
    cpu.reg.c = 238;
    cpu.reg.d = 50;
    cpu.reg.e = 77;
    cpu.reg.f = 240;
    cpu.reg.h = 20;
    cpu.reg.l = 123;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[33215] = 2;
    cpu.ram[46318] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 87);
    CHECK(cpu.reg.b == 180);
    CHECK(cpu.reg.c == 238);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 77);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 20);
    CHECK(cpu.reg.l == 123);
    CHECK(cpu.pc == 33216);
    CHECK(cpu.sp == 3811);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33215] == 2);
    REQUIRE(cpu.ram[46318] == 87);
}

TEST_CASE( "02 00D7", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8204;
    cpu.sp = 10407;
    cpu.reg.a = 22;
    cpu.reg.b = 43;
    cpu.reg.c = 254;
    cpu.reg.d = 238;
    cpu.reg.e = 151;
    cpu.reg.f = 96;
    cpu.reg.h = 7;
    cpu.reg.l = 24;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[8204] = 2;
    cpu.ram[11262] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 22);
    CHECK(cpu.reg.b == 43);
    CHECK(cpu.reg.c == 254);
    CHECK(cpu.reg.d == 238);
    CHECK(cpu.reg.e == 151);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 7);
    CHECK(cpu.reg.l == 24);
    CHECK(cpu.pc == 8205);
    CHECK(cpu.sp == 10407);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8204] == 2);
    REQUIRE(cpu.ram[11262] == 22);
}

TEST_CASE( "02 00D8", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35628;
    cpu.sp = 26369;
    cpu.reg.a = 199;
    cpu.reg.b = 213;
    cpu.reg.c = 120;
    cpu.reg.d = 138;
    cpu.reg.e = 14;
    cpu.reg.f = 208;
    cpu.reg.h = 43;
    cpu.reg.l = 14;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[35628] = 2;
    cpu.ram[54648] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 199);
    CHECK(cpu.reg.b == 213);
    CHECK(cpu.reg.c == 120);
    CHECK(cpu.reg.d == 138);
    CHECK(cpu.reg.e == 14);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 43);
    CHECK(cpu.reg.l == 14);
    CHECK(cpu.pc == 35629);
    CHECK(cpu.sp == 26369);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35628] == 2);
    REQUIRE(cpu.ram[54648] == 199);
}

TEST_CASE( "02 00D9", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47456;
    cpu.sp = 59;
    cpu.reg.a = 94;
    cpu.reg.b = 38;
    cpu.reg.c = 198;
    cpu.reg.d = 126;
    cpu.reg.e = 74;
    cpu.reg.f = 80;
    cpu.reg.h = 177;
    cpu.reg.l = 227;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[9926] = 0;
    cpu.ram[47456] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 94);
    CHECK(cpu.reg.b == 38);
    CHECK(cpu.reg.c == 198);
    CHECK(cpu.reg.d == 126);
    CHECK(cpu.reg.e == 74);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 177);
    CHECK(cpu.reg.l == 227);
    CHECK(cpu.pc == 47457);
    CHECK(cpu.sp == 59);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9926] == 94);
    REQUIRE(cpu.ram[47456] == 2);
}

TEST_CASE( "02 00DA", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10959;
    cpu.sp = 41117;
    cpu.reg.a = 140;
    cpu.reg.b = 122;
    cpu.reg.c = 32;
    cpu.reg.d = 7;
    cpu.reg.e = 217;
    cpu.reg.f = 192;
    cpu.reg.h = 198;
    cpu.reg.l = 225;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[10959] = 2;
    cpu.ram[31264] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 140);
    CHECK(cpu.reg.b == 122);
    CHECK(cpu.reg.c == 32);
    CHECK(cpu.reg.d == 7);
    CHECK(cpu.reg.e == 217);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 198);
    CHECK(cpu.reg.l == 225);
    CHECK(cpu.pc == 10960);
    CHECK(cpu.sp == 41117);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10959] == 2);
    REQUIRE(cpu.ram[31264] == 140);
}

TEST_CASE( "02 00DB", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35497;
    cpu.sp = 31669;
    cpu.reg.a = 192;
    cpu.reg.b = 223;
    cpu.reg.c = 12;
    cpu.reg.d = 201;
    cpu.reg.e = 198;
    cpu.reg.f = 128;
    cpu.reg.h = 169;
    cpu.reg.l = 144;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[35497] = 2;
    cpu.ram[57100] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 192);
    CHECK(cpu.reg.b == 223);
    CHECK(cpu.reg.c == 12);
    CHECK(cpu.reg.d == 201);
    CHECK(cpu.reg.e == 198);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 169);
    CHECK(cpu.reg.l == 144);
    CHECK(cpu.pc == 35498);
    CHECK(cpu.sp == 31669);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35497] == 2);
    REQUIRE(cpu.ram[57100] == 192);
}

TEST_CASE( "02 00DC", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26299;
    cpu.sp = 8316;
    cpu.reg.a = 9;
    cpu.reg.b = 245;
    cpu.reg.c = 152;
    cpu.reg.d = 134;
    cpu.reg.e = 13;
    cpu.reg.f = 192;
    cpu.reg.h = 19;
    cpu.reg.l = 246;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[26299] = 2;
    cpu.ram[62872] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 9);
    CHECK(cpu.reg.b == 245);
    CHECK(cpu.reg.c == 152);
    CHECK(cpu.reg.d == 134);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 19);
    CHECK(cpu.reg.l == 246);
    CHECK(cpu.pc == 26300);
    CHECK(cpu.sp == 8316);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26299] == 2);
    REQUIRE(cpu.ram[62872] == 9);
}

TEST_CASE( "02 00DD", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13777;
    cpu.sp = 55496;
    cpu.reg.a = 154;
    cpu.reg.b = 89;
    cpu.reg.c = 166;
    cpu.reg.d = 251;
    cpu.reg.e = 193;
    cpu.reg.f = 112;
    cpu.reg.h = 50;
    cpu.reg.l = 206;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[13777] = 2;
    cpu.ram[22950] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 154);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 166);
    CHECK(cpu.reg.d == 251);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 50);
    CHECK(cpu.reg.l == 206);
    CHECK(cpu.pc == 13778);
    CHECK(cpu.sp == 55496);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13777] == 2);
    REQUIRE(cpu.ram[22950] == 154);
}

TEST_CASE( "02 00DE", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8395;
    cpu.sp = 48377;
    cpu.reg.a = 179;
    cpu.reg.b = 255;
    cpu.reg.c = 79;
    cpu.reg.d = 222;
    cpu.reg.e = 24;
    cpu.reg.f = 32;
    cpu.reg.h = 99;
    cpu.reg.l = 24;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[8395] = 2;
    cpu.ram[65359] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 179);
    CHECK(cpu.reg.b == 255);
    CHECK(cpu.reg.c == 79);
    CHECK(cpu.reg.d == 222);
    CHECK(cpu.reg.e == 24);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 99);
    CHECK(cpu.reg.l == 24);
    CHECK(cpu.pc == 8396);
    CHECK(cpu.sp == 48377);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8395] == 2);
    REQUIRE(cpu.ram[65359] == 179);
}

TEST_CASE( "02 00DF", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12754;
    cpu.sp = 57225;
    cpu.reg.a = 25;
    cpu.reg.b = 9;
    cpu.reg.c = 48;
    cpu.reg.d = 27;
    cpu.reg.e = 132;
    cpu.reg.f = 224;
    cpu.reg.h = 122;
    cpu.reg.l = 175;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[2352] = 0;
    cpu.ram[12754] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 25);
    CHECK(cpu.reg.b == 9);
    CHECK(cpu.reg.c == 48);
    CHECK(cpu.reg.d == 27);
    CHECK(cpu.reg.e == 132);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 122);
    CHECK(cpu.reg.l == 175);
    CHECK(cpu.pc == 12755);
    CHECK(cpu.sp == 57225);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2352] == 25);
    REQUIRE(cpu.ram[12754] == 2);
}

TEST_CASE( "02 00E0", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12025;
    cpu.sp = 48947;
    cpu.reg.a = 54;
    cpu.reg.b = 68;
    cpu.reg.c = 185;
    cpu.reg.d = 5;
    cpu.reg.e = 193;
    cpu.reg.f = 160;
    cpu.reg.h = 213;
    cpu.reg.l = 209;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[12025] = 2;
    cpu.ram[17593] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 54);
    CHECK(cpu.reg.b == 68);
    CHECK(cpu.reg.c == 185);
    CHECK(cpu.reg.d == 5);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 213);
    CHECK(cpu.reg.l == 209);
    CHECK(cpu.pc == 12026);
    CHECK(cpu.sp == 48947);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12025] == 2);
    REQUIRE(cpu.ram[17593] == 54);
}

TEST_CASE( "02 00E1", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37103;
    cpu.sp = 32511;
    cpu.reg.a = 197;
    cpu.reg.b = 187;
    cpu.reg.c = 183;
    cpu.reg.d = 41;
    cpu.reg.e = 50;
    cpu.reg.f = 128;
    cpu.reg.h = 89;
    cpu.reg.l = 164;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[37103] = 2;
    cpu.ram[48055] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 197);
    CHECK(cpu.reg.b == 187);
    CHECK(cpu.reg.c == 183);
    CHECK(cpu.reg.d == 41);
    CHECK(cpu.reg.e == 50);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 89);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 37104);
    CHECK(cpu.sp == 32511);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[37103] == 2);
    REQUIRE(cpu.ram[48055] == 197);
}

TEST_CASE( "02 00E2", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53936;
    cpu.sp = 33698;
    cpu.reg.a = 50;
    cpu.reg.b = 92;
    cpu.reg.c = 73;
    cpu.reg.d = 25;
    cpu.reg.e = 229;
    cpu.reg.f = 32;
    cpu.reg.h = 114;
    cpu.reg.l = 146;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[23625] = 0;
    cpu.ram[53936] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 50);
    CHECK(cpu.reg.b == 92);
    CHECK(cpu.reg.c == 73);
    CHECK(cpu.reg.d == 25);
    CHECK(cpu.reg.e == 229);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 114);
    CHECK(cpu.reg.l == 146);
    CHECK(cpu.pc == 53937);
    CHECK(cpu.sp == 33698);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23625] == 50);
    REQUIRE(cpu.ram[53936] == 2);
}

TEST_CASE( "02 00E3", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13777;
    cpu.sp = 24135;
    cpu.reg.a = 253;
    cpu.reg.b = 240;
    cpu.reg.c = 38;
    cpu.reg.d = 105;
    cpu.reg.e = 175;
    cpu.reg.f = 96;
    cpu.reg.h = 33;
    cpu.reg.l = 196;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[13777] = 2;
    cpu.ram[61478] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 253);
    CHECK(cpu.reg.b == 240);
    CHECK(cpu.reg.c == 38);
    CHECK(cpu.reg.d == 105);
    CHECK(cpu.reg.e == 175);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 33);
    CHECK(cpu.reg.l == 196);
    CHECK(cpu.pc == 13778);
    CHECK(cpu.sp == 24135);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13777] == 2);
    REQUIRE(cpu.ram[61478] == 253);
}

TEST_CASE( "02 00E4", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60220;
    cpu.sp = 21640;
    cpu.reg.a = 7;
    cpu.reg.b = 150;
    cpu.reg.c = 154;
    cpu.reg.d = 4;
    cpu.reg.e = 239;
    cpu.reg.f = 160;
    cpu.reg.h = 168;
    cpu.reg.l = 69;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[38554] = 0;
    cpu.ram[60220] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 7);
    CHECK(cpu.reg.b == 150);
    CHECK(cpu.reg.c == 154);
    CHECK(cpu.reg.d == 4);
    CHECK(cpu.reg.e == 239);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 168);
    CHECK(cpu.reg.l == 69);
    CHECK(cpu.pc == 60221);
    CHECK(cpu.sp == 21640);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38554] == 7);
    REQUIRE(cpu.ram[60220] == 2);
}

TEST_CASE( "02 00E5", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37582;
    cpu.sp = 62611;
    cpu.reg.a = 113;
    cpu.reg.b = 183;
    cpu.reg.c = 154;
    cpu.reg.d = 82;
    cpu.reg.e = 106;
    cpu.reg.f = 208;
    cpu.reg.h = 8;
    cpu.reg.l = 107;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[37582] = 2;
    cpu.ram[47002] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 113);
    CHECK(cpu.reg.b == 183);
    CHECK(cpu.reg.c == 154);
    CHECK(cpu.reg.d == 82);
    CHECK(cpu.reg.e == 106);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 8);
    CHECK(cpu.reg.l == 107);
    CHECK(cpu.pc == 37583);
    CHECK(cpu.sp == 62611);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[37582] == 2);
    REQUIRE(cpu.ram[47002] == 113);
}

TEST_CASE( "02 00E6", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63793;
    cpu.sp = 63067;
    cpu.reg.a = 169;
    cpu.reg.b = 223;
    cpu.reg.c = 137;
    cpu.reg.d = 139;
    cpu.reg.e = 49;
    cpu.reg.f = 64;
    cpu.reg.h = 10;
    cpu.reg.l = 154;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[57225] = 0;
    cpu.ram[63793] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 169);
    CHECK(cpu.reg.b == 223);
    CHECK(cpu.reg.c == 137);
    CHECK(cpu.reg.d == 139);
    CHECK(cpu.reg.e == 49);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 10);
    CHECK(cpu.reg.l == 154);
    CHECK(cpu.pc == 63794);
    CHECK(cpu.sp == 63067);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[57225] == 169);
    REQUIRE(cpu.ram[63793] == 2);
}

TEST_CASE( "02 00E7", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4435;
    cpu.sp = 2442;
    cpu.reg.a = 237;
    cpu.reg.b = 18;
    cpu.reg.c = 16;
    cpu.reg.d = 84;
    cpu.reg.e = 232;
    cpu.reg.f = 96;
    cpu.reg.h = 118;
    cpu.reg.l = 84;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[4435] = 2;
    cpu.ram[4624] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 237);
    CHECK(cpu.reg.b == 18);
    CHECK(cpu.reg.c == 16);
    CHECK(cpu.reg.d == 84);
    CHECK(cpu.reg.e == 232);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 118);
    CHECK(cpu.reg.l == 84);
    CHECK(cpu.pc == 4436);
    CHECK(cpu.sp == 2442);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4435] == 2);
    REQUIRE(cpu.ram[4624] == 237);
}

TEST_CASE( "02 00E8", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6318;
    cpu.sp = 62424;
    cpu.reg.a = 153;
    cpu.reg.b = 18;
    cpu.reg.c = 237;
    cpu.reg.d = 175;
    cpu.reg.e = 13;
    cpu.reg.f = 0;
    cpu.reg.h = 166;
    cpu.reg.l = 248;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[4845] = 0;
    cpu.ram[6318] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 153);
    CHECK(cpu.reg.b == 18);
    CHECK(cpu.reg.c == 237);
    CHECK(cpu.reg.d == 175);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 166);
    CHECK(cpu.reg.l == 248);
    CHECK(cpu.pc == 6319);
    CHECK(cpu.sp == 62424);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4845] == 153);
    REQUIRE(cpu.ram[6318] == 2);
}

TEST_CASE( "02 00E9", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35437;
    cpu.sp = 3565;
    cpu.reg.a = 20;
    cpu.reg.b = 110;
    cpu.reg.c = 3;
    cpu.reg.d = 31;
    cpu.reg.e = 244;
    cpu.reg.f = 224;
    cpu.reg.h = 174;
    cpu.reg.l = 28;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[28163] = 0;
    cpu.ram[35437] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 20);
    CHECK(cpu.reg.b == 110);
    CHECK(cpu.reg.c == 3);
    CHECK(cpu.reg.d == 31);
    CHECK(cpu.reg.e == 244);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 174);
    CHECK(cpu.reg.l == 28);
    CHECK(cpu.pc == 35438);
    CHECK(cpu.sp == 3565);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28163] == 20);
    REQUIRE(cpu.ram[35437] == 2);
}

TEST_CASE( "02 00EA", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24499;
    cpu.sp = 24131;
    cpu.reg.a = 64;
    cpu.reg.b = 171;
    cpu.reg.c = 97;
    cpu.reg.d = 193;
    cpu.reg.e = 197;
    cpu.reg.f = 240;
    cpu.reg.h = 229;
    cpu.reg.l = 152;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[24499] = 2;
    cpu.ram[43873] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 171);
    CHECK(cpu.reg.c == 97);
    CHECK(cpu.reg.d == 193);
    CHECK(cpu.reg.e == 197);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 229);
    CHECK(cpu.reg.l == 152);
    CHECK(cpu.pc == 24500);
    CHECK(cpu.sp == 24131);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24499] == 2);
    REQUIRE(cpu.ram[43873] == 64);
}

TEST_CASE( "02 00EB", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30893;
    cpu.sp = 48382;
    cpu.reg.a = 182;
    cpu.reg.b = 4;
    cpu.reg.c = 155;
    cpu.reg.d = 215;
    cpu.reg.e = 55;
    cpu.reg.f = 192;
    cpu.reg.h = 133;
    cpu.reg.l = 92;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[1179] = 0;
    cpu.ram[30893] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 182);
    CHECK(cpu.reg.b == 4);
    CHECK(cpu.reg.c == 155);
    CHECK(cpu.reg.d == 215);
    CHECK(cpu.reg.e == 55);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 133);
    CHECK(cpu.reg.l == 92);
    CHECK(cpu.pc == 30894);
    CHECK(cpu.sp == 48382);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1179] == 182);
    REQUIRE(cpu.ram[30893] == 2);
}

TEST_CASE( "02 00EC", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24342;
    cpu.sp = 53093;
    cpu.reg.a = 54;
    cpu.reg.b = 21;
    cpu.reg.c = 162;
    cpu.reg.d = 120;
    cpu.reg.e = 31;
    cpu.reg.f = 48;
    cpu.reg.h = 235;
    cpu.reg.l = 92;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5538] = 0;
    cpu.ram[24342] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 54);
    CHECK(cpu.reg.b == 21);
    CHECK(cpu.reg.c == 162);
    CHECK(cpu.reg.d == 120);
    CHECK(cpu.reg.e == 31);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 235);
    CHECK(cpu.reg.l == 92);
    CHECK(cpu.pc == 24343);
    CHECK(cpu.sp == 53093);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5538] == 54);
    REQUIRE(cpu.ram[24342] == 2);
}

TEST_CASE( "02 00ED", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28668;
    cpu.sp = 63916;
    cpu.reg.a = 22;
    cpu.reg.b = 79;
    cpu.reg.c = 171;
    cpu.reg.d = 218;
    cpu.reg.e = 138;
    cpu.reg.f = 16;
    cpu.reg.h = 181;
    cpu.reg.l = 148;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[20395] = 0;
    cpu.ram[28668] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 22);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 171);
    CHECK(cpu.reg.d == 218);
    CHECK(cpu.reg.e == 138);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 181);
    CHECK(cpu.reg.l == 148);
    CHECK(cpu.pc == 28669);
    CHECK(cpu.sp == 63916);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20395] == 22);
    REQUIRE(cpu.ram[28668] == 2);
}

TEST_CASE( "02 00EE", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64336;
    cpu.sp = 4243;
    cpu.reg.a = 16;
    cpu.reg.b = 244;
    cpu.reg.c = 146;
    cpu.reg.d = 17;
    cpu.reg.e = 184;
    cpu.reg.f = 144;
    cpu.reg.h = 172;
    cpu.reg.l = 74;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[62610] = 0;
    cpu.ram[64336] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 16);
    CHECK(cpu.reg.b == 244);
    CHECK(cpu.reg.c == 146);
    CHECK(cpu.reg.d == 17);
    CHECK(cpu.reg.e == 184);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 172);
    CHECK(cpu.reg.l == 74);
    CHECK(cpu.pc == 64337);
    CHECK(cpu.sp == 4243);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[62610] == 16);
    REQUIRE(cpu.ram[64336] == 2);
}

TEST_CASE( "02 00EF", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65102;
    cpu.sp = 55701;
    cpu.reg.a = 97;
    cpu.reg.b = 65;
    cpu.reg.c = 93;
    cpu.reg.d = 197;
    cpu.reg.e = 200;
    cpu.reg.f = 192;
    cpu.reg.h = 193;
    cpu.reg.l = 165;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[16733] = 0;
    cpu.ram[65102] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 97);
    CHECK(cpu.reg.b == 65);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 197);
    CHECK(cpu.reg.e == 200);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 193);
    CHECK(cpu.reg.l == 165);
    CHECK(cpu.pc == 65103);
    CHECK(cpu.sp == 55701);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16733] == 97);
    REQUIRE(cpu.ram[65102] == 2);
}

TEST_CASE( "02 00F0", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48850;
    cpu.sp = 39992;
    cpu.reg.a = 193;
    cpu.reg.b = 152;
    cpu.reg.c = 246;
    cpu.reg.d = 227;
    cpu.reg.e = 255;
    cpu.reg.f = 80;
    cpu.reg.h = 192;
    cpu.reg.l = 134;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[39158] = 0;
    cpu.ram[48850] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 193);
    CHECK(cpu.reg.b == 152);
    CHECK(cpu.reg.c == 246);
    CHECK(cpu.reg.d == 227);
    CHECK(cpu.reg.e == 255);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 192);
    CHECK(cpu.reg.l == 134);
    CHECK(cpu.pc == 48851);
    CHECK(cpu.sp == 39992);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39158] == 193);
    REQUIRE(cpu.ram[48850] == 2);
}

TEST_CASE( "02 00F1", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28859;
    cpu.sp = 21012;
    cpu.reg.a = 141;
    cpu.reg.b = 79;
    cpu.reg.c = 189;
    cpu.reg.d = 26;
    cpu.reg.e = 27;
    cpu.reg.f = 208;
    cpu.reg.h = 168;
    cpu.reg.l = 162;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[20413] = 0;
    cpu.ram[28859] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 141);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 189);
    CHECK(cpu.reg.d == 26);
    CHECK(cpu.reg.e == 27);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 168);
    CHECK(cpu.reg.l == 162);
    CHECK(cpu.pc == 28860);
    CHECK(cpu.sp == 21012);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[20413] == 141);
    REQUIRE(cpu.ram[28859] == 2);
}

TEST_CASE( "02 00F2", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26209;
    cpu.sp = 27326;
    cpu.reg.a = 233;
    cpu.reg.b = 238;
    cpu.reg.c = 144;
    cpu.reg.d = 149;
    cpu.reg.e = 242;
    cpu.reg.f = 64;
    cpu.reg.h = 136;
    cpu.reg.l = 98;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[26209] = 2;
    cpu.ram[61072] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 233);
    CHECK(cpu.reg.b == 238);
    CHECK(cpu.reg.c == 144);
    CHECK(cpu.reg.d == 149);
    CHECK(cpu.reg.e == 242);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 136);
    CHECK(cpu.reg.l == 98);
    CHECK(cpu.pc == 26210);
    CHECK(cpu.sp == 27326);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26209] == 2);
    REQUIRE(cpu.ram[61072] == 233);
}

TEST_CASE( "02 00F3", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34776;
    cpu.sp = 24564;
    cpu.reg.a = 195;
    cpu.reg.b = 159;
    cpu.reg.c = 119;
    cpu.reg.d = 76;
    cpu.reg.e = 229;
    cpu.reg.f = 80;
    cpu.reg.h = 27;
    cpu.reg.l = 3;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[34776] = 2;
    cpu.ram[40823] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 195);
    CHECK(cpu.reg.b == 159);
    CHECK(cpu.reg.c == 119);
    CHECK(cpu.reg.d == 76);
    CHECK(cpu.reg.e == 229);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 27);
    CHECK(cpu.reg.l == 3);
    CHECK(cpu.pc == 34777);
    CHECK(cpu.sp == 24564);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[34776] == 2);
    REQUIRE(cpu.ram[40823] == 195);
}

TEST_CASE( "02 00F4", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16152;
    cpu.sp = 33477;
    cpu.reg.a = 245;
    cpu.reg.b = 76;
    cpu.reg.c = 243;
    cpu.reg.d = 193;
    cpu.reg.e = 125;
    cpu.reg.f = 0;
    cpu.reg.h = 183;
    cpu.reg.l = 71;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[16152] = 2;
    cpu.ram[19699] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 245);
    CHECK(cpu.reg.b == 76);
    CHECK(cpu.reg.c == 243);
    CHECK(cpu.reg.d == 193);
    CHECK(cpu.reg.e == 125);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 183);
    CHECK(cpu.reg.l == 71);
    CHECK(cpu.pc == 16153);
    CHECK(cpu.sp == 33477);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16152] == 2);
    REQUIRE(cpu.ram[19699] == 245);
}

TEST_CASE( "02 00F5", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11147;
    cpu.sp = 2640;
    cpu.reg.a = 127;
    cpu.reg.b = 152;
    cpu.reg.c = 187;
    cpu.reg.d = 178;
    cpu.reg.e = 169;
    cpu.reg.f = 48;
    cpu.reg.h = 131;
    cpu.reg.l = 62;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[11147] = 2;
    cpu.ram[39099] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 127);
    CHECK(cpu.reg.b == 152);
    CHECK(cpu.reg.c == 187);
    CHECK(cpu.reg.d == 178);
    CHECK(cpu.reg.e == 169);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 131);
    CHECK(cpu.reg.l == 62);
    CHECK(cpu.pc == 11148);
    CHECK(cpu.sp == 2640);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11147] == 2);
    REQUIRE(cpu.ram[39099] == 127);
}

TEST_CASE( "02 00F6", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58891;
    cpu.sp = 38746;
    cpu.reg.a = 70;
    cpu.reg.b = 161;
    cpu.reg.c = 218;
    cpu.reg.d = 59;
    cpu.reg.e = 120;
    cpu.reg.f = 32;
    cpu.reg.h = 249;
    cpu.reg.l = 31;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[41434] = 0;
    cpu.ram[58891] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 70);
    CHECK(cpu.reg.b == 161);
    CHECK(cpu.reg.c == 218);
    CHECK(cpu.reg.d == 59);
    CHECK(cpu.reg.e == 120);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 249);
    CHECK(cpu.reg.l == 31);
    CHECK(cpu.pc == 58892);
    CHECK(cpu.sp == 38746);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[41434] == 70);
    REQUIRE(cpu.ram[58891] == 2);
}

TEST_CASE( "02 00F7", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60986;
    cpu.sp = 60080;
    cpu.reg.a = 179;
    cpu.reg.b = 188;
    cpu.reg.c = 234;
    cpu.reg.d = 158;
    cpu.reg.e = 234;
    cpu.reg.f = 0;
    cpu.reg.h = 13;
    cpu.reg.l = 209;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[48362] = 0;
    cpu.ram[60986] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 179);
    CHECK(cpu.reg.b == 188);
    CHECK(cpu.reg.c == 234);
    CHECK(cpu.reg.d == 158);
    CHECK(cpu.reg.e == 234);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 13);
    CHECK(cpu.reg.l == 209);
    CHECK(cpu.pc == 60987);
    CHECK(cpu.sp == 60080);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48362] == 179);
    REQUIRE(cpu.ram[60986] == 2);
}

TEST_CASE( "02 00F8", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6207;
    cpu.sp = 64728;
    cpu.reg.a = 130;
    cpu.reg.b = 200;
    cpu.reg.c = 55;
    cpu.reg.d = 221;
    cpu.reg.e = 14;
    cpu.reg.f = 0;
    cpu.reg.h = 176;
    cpu.reg.l = 78;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[6207] = 2;
    cpu.ram[51255] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 130);
    CHECK(cpu.reg.b == 200);
    CHECK(cpu.reg.c == 55);
    CHECK(cpu.reg.d == 221);
    CHECK(cpu.reg.e == 14);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 176);
    CHECK(cpu.reg.l == 78);
    CHECK(cpu.pc == 6208);
    CHECK(cpu.sp == 64728);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6207] == 2);
    REQUIRE(cpu.ram[51255] == 130);
}

TEST_CASE( "02 00F9", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53931;
    cpu.sp = 40673;
    cpu.reg.a = 172;
    cpu.reg.b = 13;
    cpu.reg.c = 41;
    cpu.reg.d = 48;
    cpu.reg.e = 130;
    cpu.reg.f = 240;
    cpu.reg.h = 166;
    cpu.reg.l = 38;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[3369] = 0;
    cpu.ram[53931] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 172);
    CHECK(cpu.reg.b == 13);
    CHECK(cpu.reg.c == 41);
    CHECK(cpu.reg.d == 48);
    CHECK(cpu.reg.e == 130);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 166);
    CHECK(cpu.reg.l == 38);
    CHECK(cpu.pc == 53932);
    CHECK(cpu.sp == 40673);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3369] == 172);
    REQUIRE(cpu.ram[53931] == 2);
}

TEST_CASE( "02 00FA", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28602;
    cpu.sp = 60889;
    cpu.reg.a = 79;
    cpu.reg.b = 22;
    cpu.reg.c = 226;
    cpu.reg.d = 137;
    cpu.reg.e = 1;
    cpu.reg.f = 192;
    cpu.reg.h = 8;
    cpu.reg.l = 228;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[5858] = 0;
    cpu.ram[28602] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 79);
    CHECK(cpu.reg.b == 22);
    CHECK(cpu.reg.c == 226);
    CHECK(cpu.reg.d == 137);
    CHECK(cpu.reg.e == 1);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 8);
    CHECK(cpu.reg.l == 228);
    CHECK(cpu.pc == 28603);
    CHECK(cpu.sp == 60889);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5858] == 79);
    REQUIRE(cpu.ram[28602] == 2);
}

TEST_CASE( "02 00FB", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28347;
    cpu.sp = 45424;
    cpu.reg.a = 196;
    cpu.reg.b = 0;
    cpu.reg.c = 181;
    cpu.reg.d = 41;
    cpu.reg.e = 246;
    cpu.reg.f = 112;
    cpu.reg.h = 140;
    cpu.reg.l = 131;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[181] = 0;
    cpu.ram[28347] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 196);
    CHECK(cpu.reg.b == 0);
    CHECK(cpu.reg.c == 181);
    CHECK(cpu.reg.d == 41);
    CHECK(cpu.reg.e == 246);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 140);
    CHECK(cpu.reg.l == 131);
    CHECK(cpu.pc == 28348);
    CHECK(cpu.sp == 45424);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[181] == 196);
    REQUIRE(cpu.ram[28347] == 2);
}

TEST_CASE( "02 00FC", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2140;
    cpu.sp = 34067;
    cpu.reg.a = 150;
    cpu.reg.b = 161;
    cpu.reg.c = 99;
    cpu.reg.d = 183;
    cpu.reg.e = 24;
    cpu.reg.f = 112;
    cpu.reg.h = 240;
    cpu.reg.l = 120;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[2140] = 2;
    cpu.ram[41315] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 150);
    CHECK(cpu.reg.b == 161);
    CHECK(cpu.reg.c == 99);
    CHECK(cpu.reg.d == 183);
    CHECK(cpu.reg.e == 24);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 240);
    CHECK(cpu.reg.l == 120);
    CHECK(cpu.pc == 2141);
    CHECK(cpu.sp == 34067);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2140] == 2);
    REQUIRE(cpu.ram[41315] == 150);
}

TEST_CASE( "02 00FD", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29506;
    cpu.sp = 28129;
    cpu.reg.a = 160;
    cpu.reg.b = 3;
    cpu.reg.c = 120;
    cpu.reg.d = 13;
    cpu.reg.e = 232;
    cpu.reg.f = 240;
    cpu.reg.h = 147;
    cpu.reg.l = 212;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[888] = 0;
    cpu.ram[29506] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 160);
    CHECK(cpu.reg.b == 3);
    CHECK(cpu.reg.c == 120);
    CHECK(cpu.reg.d == 13);
    CHECK(cpu.reg.e == 232);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 147);
    CHECK(cpu.reg.l == 212);
    CHECK(cpu.pc == 29507);
    CHECK(cpu.sp == 28129);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[888] == 160);
    REQUIRE(cpu.ram[29506] == 2);
}

TEST_CASE( "02 00FE", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49471;
    cpu.sp = 47204;
    cpu.reg.a = 42;
    cpu.reg.b = 105;
    cpu.reg.c = 17;
    cpu.reg.d = 13;
    cpu.reg.e = 106;
    cpu.reg.f = 208;
    cpu.reg.h = 45;
    cpu.reg.l = 238;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[26897] = 0;
    cpu.ram[49471] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 42);
    CHECK(cpu.reg.b == 105);
    CHECK(cpu.reg.c == 17);
    CHECK(cpu.reg.d == 13);
    CHECK(cpu.reg.e == 106);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 45);
    CHECK(cpu.reg.l == 238);
    CHECK(cpu.pc == 49472);
    CHECK(cpu.sp == 47204);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26897] == 42);
    REQUIRE(cpu.ram[49471] == 2);
}

TEST_CASE( "02 00FF", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21199;
    cpu.sp = 11245;
    cpu.reg.a = 183;
    cpu.reg.b = 183;
    cpu.reg.c = 8;
    cpu.reg.d = 118;
    cpu.reg.e = 159;
    cpu.reg.f = 224;
    cpu.reg.h = 6;
    cpu.reg.l = 93;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[21199] = 2;
    cpu.ram[46856] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 183);
    CHECK(cpu.reg.b == 183);
    CHECK(cpu.reg.c == 8);
    CHECK(cpu.reg.d == 118);
    CHECK(cpu.reg.e == 159);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 6);
    CHECK(cpu.reg.l == 93);
    CHECK(cpu.pc == 21200);
    CHECK(cpu.sp == 11245);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21199] == 2);
    REQUIRE(cpu.ram[46856] == 183);
}

TEST_CASE( "02 0100", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33189;
    cpu.sp = 64097;
    cpu.reg.a = 136;
    cpu.reg.b = 46;
    cpu.reg.c = 193;
    cpu.reg.d = 120;
    cpu.reg.e = 145;
    cpu.reg.f = 144;
    cpu.reg.h = 13;
    cpu.reg.l = 219;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[11969] = 0;
    cpu.ram[33189] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 136);
    CHECK(cpu.reg.b == 46);
    CHECK(cpu.reg.c == 193);
    CHECK(cpu.reg.d == 120);
    CHECK(cpu.reg.e == 145);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 13);
    CHECK(cpu.reg.l == 219);
    CHECK(cpu.pc == 33190);
    CHECK(cpu.sp == 64097);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11969] == 136);
    REQUIRE(cpu.ram[33189] == 2);
}

TEST_CASE( "02 0101", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24542;
    cpu.sp = 51987;
    cpu.reg.a = 189;
    cpu.reg.b = 120;
    cpu.reg.c = 232;
    cpu.reg.d = 113;
    cpu.reg.e = 158;
    cpu.reg.f = 32;
    cpu.reg.h = 164;
    cpu.reg.l = 64;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[24542] = 2;
    cpu.ram[30952] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 189);
    CHECK(cpu.reg.b == 120);
    CHECK(cpu.reg.c == 232);
    CHECK(cpu.reg.d == 113);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 164);
    CHECK(cpu.reg.l == 64);
    CHECK(cpu.pc == 24543);
    CHECK(cpu.sp == 51987);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24542] == 2);
    REQUIRE(cpu.ram[30952] == 189);
}

TEST_CASE( "02 0102", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11853;
    cpu.sp = 50390;
    cpu.reg.a = 215;
    cpu.reg.b = 238;
    cpu.reg.c = 181;
    cpu.reg.d = 177;
    cpu.reg.e = 173;
    cpu.reg.f = 48;
    cpu.reg.h = 126;
    cpu.reg.l = 220;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[11853] = 2;
    cpu.ram[61109] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 215);
    CHECK(cpu.reg.b == 238);
    CHECK(cpu.reg.c == 181);
    CHECK(cpu.reg.d == 177);
    CHECK(cpu.reg.e == 173);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 126);
    CHECK(cpu.reg.l == 220);
    CHECK(cpu.pc == 11854);
    CHECK(cpu.sp == 50390);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11853] == 2);
    REQUIRE(cpu.ram[61109] == 215);
}

TEST_CASE( "02 0103", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18636;
    cpu.sp = 23864;
    cpu.reg.a = 252;
    cpu.reg.b = 232;
    cpu.reg.c = 233;
    cpu.reg.d = 17;
    cpu.reg.e = 178;
    cpu.reg.f = 16;
    cpu.reg.h = 139;
    cpu.reg.l = 77;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[18636] = 2;
    cpu.ram[59625] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 252);
    CHECK(cpu.reg.b == 232);
    CHECK(cpu.reg.c == 233);
    CHECK(cpu.reg.d == 17);
    CHECK(cpu.reg.e == 178);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 139);
    CHECK(cpu.reg.l == 77);
    CHECK(cpu.pc == 18637);
    CHECK(cpu.sp == 23864);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[18636] == 2);
    REQUIRE(cpu.ram[59625] == 252);
}

TEST_CASE( "02 0104", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51345;
    cpu.sp = 25546;
    cpu.reg.a = 135;
    cpu.reg.b = 214;
    cpu.reg.c = 215;
    cpu.reg.d = 150;
    cpu.reg.e = 186;
    cpu.reg.f = 160;
    cpu.reg.h = 145;
    cpu.reg.l = 26;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[51345] = 2;
    cpu.ram[54999] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 135);
    CHECK(cpu.reg.b == 214);
    CHECK(cpu.reg.c == 215);
    CHECK(cpu.reg.d == 150);
    CHECK(cpu.reg.e == 186);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 145);
    CHECK(cpu.reg.l == 26);
    CHECK(cpu.pc == 51346);
    CHECK(cpu.sp == 25546);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[51345] == 2);
    REQUIRE(cpu.ram[54999] == 135);
}

TEST_CASE( "02 0105", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56806;
    cpu.sp = 60331;
    cpu.reg.a = 244;
    cpu.reg.b = 127;
    cpu.reg.c = 146;
    cpu.reg.d = 71;
    cpu.reg.e = 120;
    cpu.reg.f = 128;
    cpu.reg.h = 38;
    cpu.reg.l = 192;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[32658] = 0;
    cpu.ram[56806] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 244);
    CHECK(cpu.reg.b == 127);
    CHECK(cpu.reg.c == 146);
    CHECK(cpu.reg.d == 71);
    CHECK(cpu.reg.e == 120);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 38);
    CHECK(cpu.reg.l == 192);
    CHECK(cpu.pc == 56807);
    CHECK(cpu.sp == 60331);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32658] == 244);
    REQUIRE(cpu.ram[56806] == 2);
}

TEST_CASE( "02 0106", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48895;
    cpu.sp = 24001;
    cpu.reg.a = 67;
    cpu.reg.b = 141;
    cpu.reg.c = 120;
    cpu.reg.d = 108;
    cpu.reg.e = 13;
    cpu.reg.f = 32;
    cpu.reg.h = 248;
    cpu.reg.l = 231;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[36216] = 0;
    cpu.ram[48895] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 67);
    CHECK(cpu.reg.b == 141);
    CHECK(cpu.reg.c == 120);
    CHECK(cpu.reg.d == 108);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 248);
    CHECK(cpu.reg.l == 231);
    CHECK(cpu.pc == 48896);
    CHECK(cpu.sp == 24001);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36216] == 67);
    REQUIRE(cpu.ram[48895] == 2);
}

TEST_CASE( "02 0107", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52828;
    cpu.sp = 24542;
    cpu.reg.a = 207;
    cpu.reg.b = 126;
    cpu.reg.c = 74;
    cpu.reg.d = 6;
    cpu.reg.e = 81;
    cpu.reg.f = 16;
    cpu.reg.h = 122;
    cpu.reg.l = 198;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[32330] = 0;
    cpu.ram[52828] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 207);
    CHECK(cpu.reg.b == 126);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 81);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 122);
    CHECK(cpu.reg.l == 198);
    CHECK(cpu.pc == 52829);
    CHECK(cpu.sp == 24542);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32330] == 207);
    REQUIRE(cpu.ram[52828] == 2);
}

TEST_CASE( "02 0108", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38015;
    cpu.sp = 47860;
    cpu.reg.a = 86;
    cpu.reg.b = 225;
    cpu.reg.c = 6;
    cpu.reg.d = 197;
    cpu.reg.e = 115;
    cpu.reg.f = 48;
    cpu.reg.h = 98;
    cpu.reg.l = 95;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[38015] = 2;
    cpu.ram[57606] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 86);
    CHECK(cpu.reg.b == 225);
    CHECK(cpu.reg.c == 6);
    CHECK(cpu.reg.d == 197);
    CHECK(cpu.reg.e == 115);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 98);
    CHECK(cpu.reg.l == 95);
    CHECK(cpu.pc == 38016);
    CHECK(cpu.sp == 47860);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38015] == 2);
    REQUIRE(cpu.ram[57606] == 86);
}

TEST_CASE( "02 0109", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36802;
    cpu.sp = 60912;
    cpu.reg.a = 253;
    cpu.reg.b = 45;
    cpu.reg.c = 133;
    cpu.reg.d = 141;
    cpu.reg.e = 179;
    cpu.reg.f = 96;
    cpu.reg.h = 149;
    cpu.reg.l = 171;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[11653] = 0;
    cpu.ram[36802] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 253);
    CHECK(cpu.reg.b == 45);
    CHECK(cpu.reg.c == 133);
    CHECK(cpu.reg.d == 141);
    CHECK(cpu.reg.e == 179);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 149);
    CHECK(cpu.reg.l == 171);
    CHECK(cpu.pc == 36803);
    CHECK(cpu.sp == 60912);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11653] == 253);
    REQUIRE(cpu.ram[36802] == 2);
}

TEST_CASE( "02 010A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40054;
    cpu.sp = 22687;
    cpu.reg.a = 182;
    cpu.reg.b = 201;
    cpu.reg.c = 148;
    cpu.reg.d = 121;
    cpu.reg.e = 226;
    cpu.reg.f = 208;
    cpu.reg.h = 73;
    cpu.reg.l = 231;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[40054] = 2;
    cpu.ram[51604] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 182);
    CHECK(cpu.reg.b == 201);
    CHECK(cpu.reg.c == 148);
    CHECK(cpu.reg.d == 121);
    CHECK(cpu.reg.e == 226);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 73);
    CHECK(cpu.reg.l == 231);
    CHECK(cpu.pc == 40055);
    CHECK(cpu.sp == 22687);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40054] == 2);
    REQUIRE(cpu.ram[51604] == 182);
}

TEST_CASE( "02 010B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45363;
    cpu.sp = 35847;
    cpu.reg.a = 136;
    cpu.reg.b = 77;
    cpu.reg.c = 230;
    cpu.reg.d = 57;
    cpu.reg.e = 41;
    cpu.reg.f = 208;
    cpu.reg.h = 20;
    cpu.reg.l = 76;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[19942] = 0;
    cpu.ram[45363] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 136);
    CHECK(cpu.reg.b == 77);
    CHECK(cpu.reg.c == 230);
    CHECK(cpu.reg.d == 57);
    CHECK(cpu.reg.e == 41);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 20);
    CHECK(cpu.reg.l == 76);
    CHECK(cpu.pc == 45364);
    CHECK(cpu.sp == 35847);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19942] == 136);
    REQUIRE(cpu.ram[45363] == 2);
}

TEST_CASE( "02 010C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24944;
    cpu.sp = 52860;
    cpu.reg.a = 174;
    cpu.reg.b = 87;
    cpu.reg.c = 246;
    cpu.reg.d = 45;
    cpu.reg.e = 21;
    cpu.reg.f = 0;
    cpu.reg.h = 197;
    cpu.reg.l = 31;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[22518] = 0;
    cpu.ram[24944] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 174);
    CHECK(cpu.reg.b == 87);
    CHECK(cpu.reg.c == 246);
    CHECK(cpu.reg.d == 45);
    CHECK(cpu.reg.e == 21);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 197);
    CHECK(cpu.reg.l == 31);
    CHECK(cpu.pc == 24945);
    CHECK(cpu.sp == 52860);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22518] == 174);
    REQUIRE(cpu.ram[24944] == 2);
}

TEST_CASE( "02 010D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65127;
    cpu.sp = 54284;
    cpu.reg.a = 54;
    cpu.reg.b = 67;
    cpu.reg.c = 173;
    cpu.reg.d = 211;
    cpu.reg.e = 106;
    cpu.reg.f = 80;
    cpu.reg.h = 246;
    cpu.reg.l = 160;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[17325] = 0;
    cpu.ram[65127] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 54);
    CHECK(cpu.reg.b == 67);
    CHECK(cpu.reg.c == 173);
    CHECK(cpu.reg.d == 211);
    CHECK(cpu.reg.e == 106);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 246);
    CHECK(cpu.reg.l == 160);
    CHECK(cpu.pc == 65128);
    CHECK(cpu.sp == 54284);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17325] == 54);
    REQUIRE(cpu.ram[65127] == 2);
}

TEST_CASE( "02 010E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21343;
    cpu.sp = 915;
    cpu.reg.a = 66;
    cpu.reg.b = 18;
    cpu.reg.c = 103;
    cpu.reg.d = 33;
    cpu.reg.e = 71;
    cpu.reg.f = 0;
    cpu.reg.h = 63;
    cpu.reg.l = 40;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[4711] = 0;
    cpu.ram[21343] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 66);
    CHECK(cpu.reg.b == 18);
    CHECK(cpu.reg.c == 103);
    CHECK(cpu.reg.d == 33);
    CHECK(cpu.reg.e == 71);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 63);
    CHECK(cpu.reg.l == 40);
    CHECK(cpu.pc == 21344);
    CHECK(cpu.sp == 915);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4711] == 66);
    REQUIRE(cpu.ram[21343] == 2);
}

TEST_CASE( "02 010F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49945;
    cpu.sp = 7360;
    cpu.reg.a = 175;
    cpu.reg.b = 83;
    cpu.reg.c = 250;
    cpu.reg.d = 216;
    cpu.reg.e = 228;
    cpu.reg.f = 176;
    cpu.reg.h = 72;
    cpu.reg.l = 164;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[21498] = 0;
    cpu.ram[49945] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 175);
    CHECK(cpu.reg.b == 83);
    CHECK(cpu.reg.c == 250);
    CHECK(cpu.reg.d == 216);
    CHECK(cpu.reg.e == 228);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 72);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 49946);
    CHECK(cpu.sp == 7360);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21498] == 175);
    REQUIRE(cpu.ram[49945] == 2);
}

TEST_CASE( "02 0110", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29836;
    cpu.sp = 63739;
    cpu.reg.a = 75;
    cpu.reg.b = 94;
    cpu.reg.c = 51;
    cpu.reg.d = 42;
    cpu.reg.e = 197;
    cpu.reg.f = 80;
    cpu.reg.h = 122;
    cpu.reg.l = 192;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[24115] = 0;
    cpu.ram[29836] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 75);
    CHECK(cpu.reg.b == 94);
    CHECK(cpu.reg.c == 51);
    CHECK(cpu.reg.d == 42);
    CHECK(cpu.reg.e == 197);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 122);
    CHECK(cpu.reg.l == 192);
    CHECK(cpu.pc == 29837);
    CHECK(cpu.sp == 63739);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24115] == 75);
    REQUIRE(cpu.ram[29836] == 2);
}

TEST_CASE( "02 0111", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17669;
    cpu.sp = 29556;
    cpu.reg.a = 240;
    cpu.reg.b = 30;
    cpu.reg.c = 129;
    cpu.reg.d = 79;
    cpu.reg.e = 201;
    cpu.reg.f = 0;
    cpu.reg.h = 1;
    cpu.reg.l = 119;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[7809] = 0;
    cpu.ram[17669] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 240);
    CHECK(cpu.reg.b == 30);
    CHECK(cpu.reg.c == 129);
    CHECK(cpu.reg.d == 79);
    CHECK(cpu.reg.e == 201);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 1);
    CHECK(cpu.reg.l == 119);
    CHECK(cpu.pc == 17670);
    CHECK(cpu.sp == 29556);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7809] == 240);
    REQUIRE(cpu.ram[17669] == 2);
}

TEST_CASE( "02 0112", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3196;
    cpu.sp = 42030;
    cpu.reg.a = 150;
    cpu.reg.b = 134;
    cpu.reg.c = 184;
    cpu.reg.d = 233;
    cpu.reg.e = 211;
    cpu.reg.f = 16;
    cpu.reg.h = 188;
    cpu.reg.l = 204;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[3196] = 2;
    cpu.ram[34488] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 150);
    CHECK(cpu.reg.b == 134);
    CHECK(cpu.reg.c == 184);
    CHECK(cpu.reg.d == 233);
    CHECK(cpu.reg.e == 211);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 188);
    CHECK(cpu.reg.l == 204);
    CHECK(cpu.pc == 3197);
    CHECK(cpu.sp == 42030);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3196] == 2);
    REQUIRE(cpu.ram[34488] == 150);
}

TEST_CASE( "02 0113", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55075;
    cpu.sp = 6756;
    cpu.reg.a = 62;
    cpu.reg.b = 150;
    cpu.reg.c = 40;
    cpu.reg.d = 192;
    cpu.reg.e = 126;
    cpu.reg.f = 192;
    cpu.reg.h = 205;
    cpu.reg.l = 30;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[38440] = 0;
    cpu.ram[55075] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 62);
    CHECK(cpu.reg.b == 150);
    CHECK(cpu.reg.c == 40);
    CHECK(cpu.reg.d == 192);
    CHECK(cpu.reg.e == 126);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 205);
    CHECK(cpu.reg.l == 30);
    CHECK(cpu.pc == 55076);
    CHECK(cpu.sp == 6756);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38440] == 62);
    REQUIRE(cpu.ram[55075] == 2);
}

TEST_CASE( "02 0114", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30612;
    cpu.sp = 7280;
    cpu.reg.a = 192;
    cpu.reg.b = 69;
    cpu.reg.c = 68;
    cpu.reg.d = 177;
    cpu.reg.e = 100;
    cpu.reg.f = 0;
    cpu.reg.h = 160;
    cpu.reg.l = 168;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[17732] = 0;
    cpu.ram[30612] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 192);
    CHECK(cpu.reg.b == 69);
    CHECK(cpu.reg.c == 68);
    CHECK(cpu.reg.d == 177);
    CHECK(cpu.reg.e == 100);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 160);
    CHECK(cpu.reg.l == 168);
    CHECK(cpu.pc == 30613);
    CHECK(cpu.sp == 7280);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17732] == 192);
    REQUIRE(cpu.ram[30612] == 2);
}

TEST_CASE( "02 0115", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43622;
    cpu.sp = 21357;
    cpu.reg.a = 143;
    cpu.reg.b = 52;
    cpu.reg.c = 42;
    cpu.reg.d = 90;
    cpu.reg.e = 177;
    cpu.reg.f = 112;
    cpu.reg.h = 1;
    cpu.reg.l = 161;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[13354] = 0;
    cpu.ram[43622] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 143);
    CHECK(cpu.reg.b == 52);
    CHECK(cpu.reg.c == 42);
    CHECK(cpu.reg.d == 90);
    CHECK(cpu.reg.e == 177);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 1);
    CHECK(cpu.reg.l == 161);
    CHECK(cpu.pc == 43623);
    CHECK(cpu.sp == 21357);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13354] == 143);
    REQUIRE(cpu.ram[43622] == 2);
}

TEST_CASE( "02 0116", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50915;
    cpu.sp = 38922;
    cpu.reg.a = 101;
    cpu.reg.b = 16;
    cpu.reg.c = 100;
    cpu.reg.d = 68;
    cpu.reg.e = 207;
    cpu.reg.f = 64;
    cpu.reg.h = 50;
    cpu.reg.l = 128;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[4196] = 0;
    cpu.ram[50915] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 101);
    CHECK(cpu.reg.b == 16);
    CHECK(cpu.reg.c == 100);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 207);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 50);
    CHECK(cpu.reg.l == 128);
    CHECK(cpu.pc == 50916);
    CHECK(cpu.sp == 38922);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4196] == 101);
    REQUIRE(cpu.ram[50915] == 2);
}

TEST_CASE( "02 0117", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15188;
    cpu.sp = 22096;
    cpu.reg.a = 136;
    cpu.reg.b = 166;
    cpu.reg.c = 166;
    cpu.reg.d = 44;
    cpu.reg.e = 5;
    cpu.reg.f = 160;
    cpu.reg.h = 195;
    cpu.reg.l = 45;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[15188] = 2;
    cpu.ram[42662] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 136);
    CHECK(cpu.reg.b == 166);
    CHECK(cpu.reg.c == 166);
    CHECK(cpu.reg.d == 44);
    CHECK(cpu.reg.e == 5);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 195);
    CHECK(cpu.reg.l == 45);
    CHECK(cpu.pc == 15189);
    CHECK(cpu.sp == 22096);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15188] == 2);
    REQUIRE(cpu.ram[42662] == 136);
}

TEST_CASE( "02 0118", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64496;
    cpu.sp = 5898;
    cpu.reg.a = 150;
    cpu.reg.b = 38;
    cpu.reg.c = 185;
    cpu.reg.d = 43;
    cpu.reg.e = 89;
    cpu.reg.f = 192;
    cpu.reg.h = 47;
    cpu.reg.l = 237;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[9913] = 0;
    cpu.ram[64496] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 150);
    CHECK(cpu.reg.b == 38);
    CHECK(cpu.reg.c == 185);
    CHECK(cpu.reg.d == 43);
    CHECK(cpu.reg.e == 89);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 47);
    CHECK(cpu.reg.l == 237);
    CHECK(cpu.pc == 64497);
    CHECK(cpu.sp == 5898);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9913] == 150);
    REQUIRE(cpu.ram[64496] == 2);
}

TEST_CASE( "02 0119", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55334;
    cpu.sp = 54339;
    cpu.reg.a = 240;
    cpu.reg.b = 7;
    cpu.reg.c = 248;
    cpu.reg.d = 90;
    cpu.reg.e = 164;
    cpu.reg.f = 224;
    cpu.reg.h = 198;
    cpu.reg.l = 86;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[2040] = 0;
    cpu.ram[55334] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 240);
    CHECK(cpu.reg.b == 7);
    CHECK(cpu.reg.c == 248);
    CHECK(cpu.reg.d == 90);
    CHECK(cpu.reg.e == 164);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 198);
    CHECK(cpu.reg.l == 86);
    CHECK(cpu.pc == 55335);
    CHECK(cpu.sp == 54339);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2040] == 240);
    REQUIRE(cpu.ram[55334] == 2);
}

TEST_CASE( "02 011A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25760;
    cpu.sp = 39050;
    cpu.reg.a = 254;
    cpu.reg.b = 223;
    cpu.reg.c = 10;
    cpu.reg.d = 109;
    cpu.reg.e = 25;
    cpu.reg.f = 192;
    cpu.reg.h = 208;
    cpu.reg.l = 33;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[25760] = 2;
    cpu.ram[57098] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 223);
    CHECK(cpu.reg.c == 10);
    CHECK(cpu.reg.d == 109);
    CHECK(cpu.reg.e == 25);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 208);
    CHECK(cpu.reg.l == 33);
    CHECK(cpu.pc == 25761);
    CHECK(cpu.sp == 39050);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25760] == 2);
    REQUIRE(cpu.ram[57098] == 254);
}

TEST_CASE( "02 011B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31130;
    cpu.sp = 64698;
    cpu.reg.a = 153;
    cpu.reg.b = 243;
    cpu.reg.c = 8;
    cpu.reg.d = 191;
    cpu.reg.e = 1;
    cpu.reg.f = 0;
    cpu.reg.h = 37;
    cpu.reg.l = 101;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[31130] = 2;
    cpu.ram[62216] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 153);
    CHECK(cpu.reg.b == 243);
    CHECK(cpu.reg.c == 8);
    CHECK(cpu.reg.d == 191);
    CHECK(cpu.reg.e == 1);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 37);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 31131);
    CHECK(cpu.sp == 64698);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31130] == 2);
    REQUIRE(cpu.ram[62216] == 153);
}

TEST_CASE( "02 011C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43800;
    cpu.sp = 23060;
    cpu.reg.a = 113;
    cpu.reg.b = 140;
    cpu.reg.c = 73;
    cpu.reg.d = 151;
    cpu.reg.e = 117;
    cpu.reg.f = 128;
    cpu.reg.h = 129;
    cpu.reg.l = 234;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[35913] = 0;
    cpu.ram[43800] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 113);
    CHECK(cpu.reg.b == 140);
    CHECK(cpu.reg.c == 73);
    CHECK(cpu.reg.d == 151);
    CHECK(cpu.reg.e == 117);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 129);
    CHECK(cpu.reg.l == 234);
    CHECK(cpu.pc == 43801);
    CHECK(cpu.sp == 23060);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35913] == 113);
    REQUIRE(cpu.ram[43800] == 2);
}

TEST_CASE( "02 011D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46048;
    cpu.sp = 39380;
    cpu.reg.a = 235;
    cpu.reg.b = 8;
    cpu.reg.c = 7;
    cpu.reg.d = 52;
    cpu.reg.e = 118;
    cpu.reg.f = 240;
    cpu.reg.h = 26;
    cpu.reg.l = 40;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[2055] = 0;
    cpu.ram[46048] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 235);
    CHECK(cpu.reg.b == 8);
    CHECK(cpu.reg.c == 7);
    CHECK(cpu.reg.d == 52);
    CHECK(cpu.reg.e == 118);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 26);
    CHECK(cpu.reg.l == 40);
    CHECK(cpu.pc == 46049);
    CHECK(cpu.sp == 39380);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2055] == 235);
    REQUIRE(cpu.ram[46048] == 2);
}

TEST_CASE( "02 011E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51595;
    cpu.sp = 43282;
    cpu.reg.a = 249;
    cpu.reg.b = 188;
    cpu.reg.c = 168;
    cpu.reg.d = 87;
    cpu.reg.e = 181;
    cpu.reg.f = 64;
    cpu.reg.h = 212;
    cpu.reg.l = 169;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[48296] = 0;
    cpu.ram[51595] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 249);
    CHECK(cpu.reg.b == 188);
    CHECK(cpu.reg.c == 168);
    CHECK(cpu.reg.d == 87);
    CHECK(cpu.reg.e == 181);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 212);
    CHECK(cpu.reg.l == 169);
    CHECK(cpu.pc == 51596);
    CHECK(cpu.sp == 43282);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48296] == 249);
    REQUIRE(cpu.ram[51595] == 2);
}

TEST_CASE( "02 011F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51847;
    cpu.sp = 40316;
    cpu.reg.a = 160;
    cpu.reg.b = 51;
    cpu.reg.c = 29;
    cpu.reg.d = 245;
    cpu.reg.e = 246;
    cpu.reg.f = 128;
    cpu.reg.h = 209;
    cpu.reg.l = 74;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[13085] = 0;
    cpu.ram[51847] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 160);
    CHECK(cpu.reg.b == 51);
    CHECK(cpu.reg.c == 29);
    CHECK(cpu.reg.d == 245);
    CHECK(cpu.reg.e == 246);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 209);
    CHECK(cpu.reg.l == 74);
    CHECK(cpu.pc == 51848);
    CHECK(cpu.sp == 40316);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13085] == 160);
    REQUIRE(cpu.ram[51847] == 2);
}

TEST_CASE( "02 0120", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24901;
    cpu.sp = 13054;
    cpu.reg.a = 80;
    cpu.reg.b = 23;
    cpu.reg.c = 163;
    cpu.reg.d = 107;
    cpu.reg.e = 207;
    cpu.reg.f = 144;
    cpu.reg.h = 140;
    cpu.reg.l = 83;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[6051] = 0;
    cpu.ram[24901] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 80);
    CHECK(cpu.reg.b == 23);
    CHECK(cpu.reg.c == 163);
    CHECK(cpu.reg.d == 107);
    CHECK(cpu.reg.e == 207);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 140);
    CHECK(cpu.reg.l == 83);
    CHECK(cpu.pc == 24902);
    CHECK(cpu.sp == 13054);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6051] == 80);
    REQUIRE(cpu.ram[24901] == 2);
}

TEST_CASE( "02 0121", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53085;
    cpu.sp = 34096;
    cpu.reg.a = 249;
    cpu.reg.b = 113;
    cpu.reg.c = 216;
    cpu.reg.d = 102;
    cpu.reg.e = 156;
    cpu.reg.f = 16;
    cpu.reg.h = 108;
    cpu.reg.l = 173;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[29144] = 0;
    cpu.ram[53085] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 249);
    CHECK(cpu.reg.b == 113);
    CHECK(cpu.reg.c == 216);
    CHECK(cpu.reg.d == 102);
    CHECK(cpu.reg.e == 156);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 108);
    CHECK(cpu.reg.l == 173);
    CHECK(cpu.pc == 53086);
    CHECK(cpu.sp == 34096);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29144] == 249);
    REQUIRE(cpu.ram[53085] == 2);
}

TEST_CASE( "02 0122", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40172;
    cpu.sp = 58625;
    cpu.reg.a = 79;
    cpu.reg.b = 201;
    cpu.reg.c = 53;
    cpu.reg.d = 19;
    cpu.reg.e = 149;
    cpu.reg.f = 64;
    cpu.reg.h = 228;
    cpu.reg.l = 218;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[40172] = 2;
    cpu.ram[51509] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 79);
    CHECK(cpu.reg.b == 201);
    CHECK(cpu.reg.c == 53);
    CHECK(cpu.reg.d == 19);
    CHECK(cpu.reg.e == 149);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 228);
    CHECK(cpu.reg.l == 218);
    CHECK(cpu.pc == 40173);
    CHECK(cpu.sp == 58625);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40172] == 2);
    REQUIRE(cpu.ram[51509] == 79);
}

TEST_CASE( "02 0123", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30646;
    cpu.sp = 37202;
    cpu.reg.a = 98;
    cpu.reg.b = 190;
    cpu.reg.c = 192;
    cpu.reg.d = 55;
    cpu.reg.e = 21;
    cpu.reg.f = 80;
    cpu.reg.h = 198;
    cpu.reg.l = 90;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[30646] = 2;
    cpu.ram[48832] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 98);
    CHECK(cpu.reg.b == 190);
    CHECK(cpu.reg.c == 192);
    CHECK(cpu.reg.d == 55);
    CHECK(cpu.reg.e == 21);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 198);
    CHECK(cpu.reg.l == 90);
    CHECK(cpu.pc == 30647);
    CHECK(cpu.sp == 37202);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30646] == 2);
    REQUIRE(cpu.ram[48832] == 98);
}

TEST_CASE( "02 0124", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42463;
    cpu.sp = 36988;
    cpu.reg.a = 53;
    cpu.reg.b = 12;
    cpu.reg.c = 15;
    cpu.reg.d = 63;
    cpu.reg.e = 108;
    cpu.reg.f = 144;
    cpu.reg.h = 150;
    cpu.reg.l = 48;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[3087] = 0;
    cpu.ram[42463] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 53);
    CHECK(cpu.reg.b == 12);
    CHECK(cpu.reg.c == 15);
    CHECK(cpu.reg.d == 63);
    CHECK(cpu.reg.e == 108);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 150);
    CHECK(cpu.reg.l == 48);
    CHECK(cpu.pc == 42464);
    CHECK(cpu.sp == 36988);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3087] == 53);
    REQUIRE(cpu.ram[42463] == 2);
}

TEST_CASE( "02 0125", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15566;
    cpu.sp = 6198;
    cpu.reg.a = 142;
    cpu.reg.b = 225;
    cpu.reg.c = 78;
    cpu.reg.d = 0;
    cpu.reg.e = 249;
    cpu.reg.f = 224;
    cpu.reg.h = 11;
    cpu.reg.l = 153;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[15566] = 2;
    cpu.ram[57678] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 142);
    CHECK(cpu.reg.b == 225);
    CHECK(cpu.reg.c == 78);
    CHECK(cpu.reg.d == 0);
    CHECK(cpu.reg.e == 249);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 11);
    CHECK(cpu.reg.l == 153);
    CHECK(cpu.pc == 15567);
    CHECK(cpu.sp == 6198);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15566] == 2);
    REQUIRE(cpu.ram[57678] == 142);
}

TEST_CASE( "02 0126", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5095;
    cpu.sp = 62608;
    cpu.reg.a = 241;
    cpu.reg.b = 72;
    cpu.reg.c = 21;
    cpu.reg.d = 188;
    cpu.reg.e = 98;
    cpu.reg.f = 192;
    cpu.reg.h = 188;
    cpu.reg.l = 119;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5095] = 2;
    cpu.ram[18453] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 241);
    CHECK(cpu.reg.b == 72);
    CHECK(cpu.reg.c == 21);
    CHECK(cpu.reg.d == 188);
    CHECK(cpu.reg.e == 98);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 188);
    CHECK(cpu.reg.l == 119);
    CHECK(cpu.pc == 5096);
    CHECK(cpu.sp == 62608);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5095] == 2);
    REQUIRE(cpu.ram[18453] == 241);
}

TEST_CASE( "02 0127", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36470;
    cpu.sp = 29295;
    cpu.reg.a = 80;
    cpu.reg.b = 248;
    cpu.reg.c = 134;
    cpu.reg.d = 194;
    cpu.reg.e = 55;
    cpu.reg.f = 240;
    cpu.reg.h = 173;
    cpu.reg.l = 208;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[36470] = 2;
    cpu.ram[63622] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 80);
    CHECK(cpu.reg.b == 248);
    CHECK(cpu.reg.c == 134);
    CHECK(cpu.reg.d == 194);
    CHECK(cpu.reg.e == 55);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 173);
    CHECK(cpu.reg.l == 208);
    CHECK(cpu.pc == 36471);
    CHECK(cpu.sp == 29295);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[36470] == 2);
    REQUIRE(cpu.ram[63622] == 80);
}

TEST_CASE( "02 0128", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26316;
    cpu.sp = 50316;
    cpu.reg.a = 64;
    cpu.reg.b = 20;
    cpu.reg.c = 146;
    cpu.reg.d = 160;
    cpu.reg.e = 221;
    cpu.reg.f = 0;
    cpu.reg.h = 169;
    cpu.reg.l = 246;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[5266] = 0;
    cpu.ram[26316] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 20);
    CHECK(cpu.reg.c == 146);
    CHECK(cpu.reg.d == 160);
    CHECK(cpu.reg.e == 221);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 169);
    CHECK(cpu.reg.l == 246);
    CHECK(cpu.pc == 26317);
    CHECK(cpu.sp == 50316);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5266] == 64);
    REQUIRE(cpu.ram[26316] == 2);
}

TEST_CASE( "02 0129", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16556;
    cpu.sp = 32229;
    cpu.reg.a = 80;
    cpu.reg.b = 76;
    cpu.reg.c = 126;
    cpu.reg.d = 5;
    cpu.reg.e = 109;
    cpu.reg.f = 160;
    cpu.reg.h = 183;
    cpu.reg.l = 97;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[16556] = 2;
    cpu.ram[19582] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 80);
    CHECK(cpu.reg.b == 76);
    CHECK(cpu.reg.c == 126);
    CHECK(cpu.reg.d == 5);
    CHECK(cpu.reg.e == 109);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 183);
    CHECK(cpu.reg.l == 97);
    CHECK(cpu.pc == 16557);
    CHECK(cpu.sp == 32229);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16556] == 2);
    REQUIRE(cpu.ram[19582] == 80);
}

TEST_CASE( "02 012A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52315;
    cpu.sp = 30313;
    cpu.reg.a = 243;
    cpu.reg.b = 215;
    cpu.reg.c = 187;
    cpu.reg.d = 8;
    cpu.reg.e = 38;
    cpu.reg.f = 48;
    cpu.reg.h = 109;
    cpu.reg.l = 41;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[52315] = 2;
    cpu.ram[55227] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 243);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 187);
    CHECK(cpu.reg.d == 8);
    CHECK(cpu.reg.e == 38);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 109);
    CHECK(cpu.reg.l == 41);
    CHECK(cpu.pc == 52316);
    CHECK(cpu.sp == 30313);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[52315] == 2);
    REQUIRE(cpu.ram[55227] == 243);
}

TEST_CASE( "02 012B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56569;
    cpu.sp = 39572;
    cpu.reg.a = 86;
    cpu.reg.b = 10;
    cpu.reg.c = 51;
    cpu.reg.d = 57;
    cpu.reg.e = 20;
    cpu.reg.f = 16;
    cpu.reg.h = 59;
    cpu.reg.l = 211;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[2611] = 0;
    cpu.ram[56569] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 86);
    CHECK(cpu.reg.b == 10);
    CHECK(cpu.reg.c == 51);
    CHECK(cpu.reg.d == 57);
    CHECK(cpu.reg.e == 20);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 59);
    CHECK(cpu.reg.l == 211);
    CHECK(cpu.pc == 56570);
    CHECK(cpu.sp == 39572);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2611] == 86);
    REQUIRE(cpu.ram[56569] == 2);
}

TEST_CASE( "02 012C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26647;
    cpu.sp = 63140;
    cpu.reg.a = 226;
    cpu.reg.b = 196;
    cpu.reg.c = 230;
    cpu.reg.d = 231;
    cpu.reg.e = 152;
    cpu.reg.f = 0;
    cpu.reg.h = 71;
    cpu.reg.l = 75;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26647] = 2;
    cpu.ram[50406] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 226);
    CHECK(cpu.reg.b == 196);
    CHECK(cpu.reg.c == 230);
    CHECK(cpu.reg.d == 231);
    CHECK(cpu.reg.e == 152);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 71);
    CHECK(cpu.reg.l == 75);
    CHECK(cpu.pc == 26648);
    CHECK(cpu.sp == 63140);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26647] == 2);
    REQUIRE(cpu.ram[50406] == 226);
}

TEST_CASE( "02 012D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47201;
    cpu.sp = 36145;
    cpu.reg.a = 236;
    cpu.reg.b = 198;
    cpu.reg.c = 188;
    cpu.reg.d = 72;
    cpu.reg.e = 24;
    cpu.reg.f = 144;
    cpu.reg.h = 95;
    cpu.reg.l = 135;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[47201] = 2;
    cpu.ram[50876] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 236);
    CHECK(cpu.reg.b == 198);
    CHECK(cpu.reg.c == 188);
    CHECK(cpu.reg.d == 72);
    CHECK(cpu.reg.e == 24);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 95);
    CHECK(cpu.reg.l == 135);
    CHECK(cpu.pc == 47202);
    CHECK(cpu.sp == 36145);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[47201] == 2);
    REQUIRE(cpu.ram[50876] == 236);
}

TEST_CASE( "02 012E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 530;
    cpu.sp = 29031;
    cpu.reg.a = 127;
    cpu.reg.b = 83;
    cpu.reg.c = 90;
    cpu.reg.d = 35;
    cpu.reg.e = 128;
    cpu.reg.f = 128;
    cpu.reg.h = 76;
    cpu.reg.l = 149;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[530] = 2;
    cpu.ram[21338] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 127);
    CHECK(cpu.reg.b == 83);
    CHECK(cpu.reg.c == 90);
    CHECK(cpu.reg.d == 35);
    CHECK(cpu.reg.e == 128);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 76);
    CHECK(cpu.reg.l == 149);
    CHECK(cpu.pc == 531);
    CHECK(cpu.sp == 29031);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[530] == 2);
    REQUIRE(cpu.ram[21338] == 127);
}

TEST_CASE( "02 012F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17384;
    cpu.sp = 15137;
    cpu.reg.a = 4;
    cpu.reg.b = 255;
    cpu.reg.c = 217;
    cpu.reg.d = 32;
    cpu.reg.e = 208;
    cpu.reg.f = 224;
    cpu.reg.h = 228;
    cpu.reg.l = 119;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[17384] = 2;
    cpu.ram[65497] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 4);
    CHECK(cpu.reg.b == 255);
    CHECK(cpu.reg.c == 217);
    CHECK(cpu.reg.d == 32);
    CHECK(cpu.reg.e == 208);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 228);
    CHECK(cpu.reg.l == 119);
    CHECK(cpu.pc == 17385);
    CHECK(cpu.sp == 15137);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17384] == 2);
    REQUIRE(cpu.ram[65497] == 4);
}

TEST_CASE( "02 0130", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31982;
    cpu.sp = 65236;
    cpu.reg.a = 200;
    cpu.reg.b = 79;
    cpu.reg.c = 25;
    cpu.reg.d = 206;
    cpu.reg.e = 36;
    cpu.reg.f = 32;
    cpu.reg.h = 133;
    cpu.reg.l = 224;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[20249] = 0;
    cpu.ram[31982] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 200);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 25);
    CHECK(cpu.reg.d == 206);
    CHECK(cpu.reg.e == 36);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 133);
    CHECK(cpu.reg.l == 224);
    CHECK(cpu.pc == 31983);
    CHECK(cpu.sp == 65236);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[20249] == 200);
    REQUIRE(cpu.ram[31982] == 2);
}

TEST_CASE( "02 0131", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3389;
    cpu.sp = 30795;
    cpu.reg.a = 189;
    cpu.reg.b = 57;
    cpu.reg.c = 160;
    cpu.reg.d = 162;
    cpu.reg.e = 45;
    cpu.reg.f = 208;
    cpu.reg.h = 78;
    cpu.reg.l = 78;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[3389] = 2;
    cpu.ram[14752] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 189);
    CHECK(cpu.reg.b == 57);
    CHECK(cpu.reg.c == 160);
    CHECK(cpu.reg.d == 162);
    CHECK(cpu.reg.e == 45);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 78);
    CHECK(cpu.reg.l == 78);
    CHECK(cpu.pc == 3390);
    CHECK(cpu.sp == 30795);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3389] == 2);
    REQUIRE(cpu.ram[14752] == 189);
}

TEST_CASE( "02 0132", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61427;
    cpu.sp = 36272;
    cpu.reg.a = 109;
    cpu.reg.b = 236;
    cpu.reg.c = 65;
    cpu.reg.d = 124;
    cpu.reg.e = 136;
    cpu.reg.f = 224;
    cpu.reg.h = 27;
    cpu.reg.l = 68;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[60481] = 0;
    cpu.ram[61427] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 109);
    CHECK(cpu.reg.b == 236);
    CHECK(cpu.reg.c == 65);
    CHECK(cpu.reg.d == 124);
    CHECK(cpu.reg.e == 136);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 27);
    CHECK(cpu.reg.l == 68);
    CHECK(cpu.pc == 61428);
    CHECK(cpu.sp == 36272);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[60481] == 109);
    REQUIRE(cpu.ram[61427] == 2);
}

TEST_CASE( "02 0133", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52066;
    cpu.sp = 15801;
    cpu.reg.a = 119;
    cpu.reg.b = 5;
    cpu.reg.c = 252;
    cpu.reg.d = 118;
    cpu.reg.e = 28;
    cpu.reg.f = 240;
    cpu.reg.h = 67;
    cpu.reg.l = 79;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[1532] = 0;
    cpu.ram[52066] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 119);
    CHECK(cpu.reg.b == 5);
    CHECK(cpu.reg.c == 252);
    CHECK(cpu.reg.d == 118);
    CHECK(cpu.reg.e == 28);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 67);
    CHECK(cpu.reg.l == 79);
    CHECK(cpu.pc == 52067);
    CHECK(cpu.sp == 15801);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1532] == 119);
    REQUIRE(cpu.ram[52066] == 2);
}

TEST_CASE( "02 0134", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13085;
    cpu.sp = 56120;
    cpu.reg.a = 2;
    cpu.reg.b = 238;
    cpu.reg.c = 203;
    cpu.reg.d = 107;
    cpu.reg.e = 52;
    cpu.reg.f = 224;
    cpu.reg.h = 115;
    cpu.reg.l = 118;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[13085] = 2;
    cpu.ram[61131] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 2);
    CHECK(cpu.reg.b == 238);
    CHECK(cpu.reg.c == 203);
    CHECK(cpu.reg.d == 107);
    CHECK(cpu.reg.e == 52);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 115);
    CHECK(cpu.reg.l == 118);
    CHECK(cpu.pc == 13086);
    CHECK(cpu.sp == 56120);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13085] == 2);
    REQUIRE(cpu.ram[61131] == 2);
}

TEST_CASE( "02 0135", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61310;
    cpu.sp = 9397;
    cpu.reg.a = 123;
    cpu.reg.b = 255;
    cpu.reg.c = 215;
    cpu.reg.d = 106;
    cpu.reg.e = 168;
    cpu.reg.f = 96;
    cpu.reg.h = 240;
    cpu.reg.l = 255;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[61310] = 2;
    cpu.ram[65495] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 123);
    CHECK(cpu.reg.b == 255);
    CHECK(cpu.reg.c == 215);
    CHECK(cpu.reg.d == 106);
    CHECK(cpu.reg.e == 168);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 240);
    CHECK(cpu.reg.l == 255);
    CHECK(cpu.pc == 61311);
    CHECK(cpu.sp == 9397);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61310] == 2);
    REQUIRE(cpu.ram[65495] == 123);
}

TEST_CASE( "02 0136", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28408;
    cpu.sp = 10493;
    cpu.reg.a = 84;
    cpu.reg.b = 152;
    cpu.reg.c = 17;
    cpu.reg.d = 7;
    cpu.reg.e = 236;
    cpu.reg.f = 144;
    cpu.reg.h = 89;
    cpu.reg.l = 37;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[28408] = 2;
    cpu.ram[38929] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 84);
    CHECK(cpu.reg.b == 152);
    CHECK(cpu.reg.c == 17);
    CHECK(cpu.reg.d == 7);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 89);
    CHECK(cpu.reg.l == 37);
    CHECK(cpu.pc == 28409);
    CHECK(cpu.sp == 10493);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28408] == 2);
    REQUIRE(cpu.ram[38929] == 84);
}

TEST_CASE( "02 0137", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51250;
    cpu.sp = 62061;
    cpu.reg.a = 216;
    cpu.reg.b = 203;
    cpu.reg.c = 94;
    cpu.reg.d = 103;
    cpu.reg.e = 150;
    cpu.reg.f = 48;
    cpu.reg.h = 140;
    cpu.reg.l = 176;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[51250] = 2;
    cpu.ram[52062] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 203);
    CHECK(cpu.reg.c == 94);
    CHECK(cpu.reg.d == 103);
    CHECK(cpu.reg.e == 150);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 140);
    CHECK(cpu.reg.l == 176);
    CHECK(cpu.pc == 51251);
    CHECK(cpu.sp == 62061);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[51250] == 2);
    REQUIRE(cpu.ram[52062] == 216);
}

TEST_CASE( "02 0138", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25332;
    cpu.sp = 36609;
    cpu.reg.a = 217;
    cpu.reg.b = 130;
    cpu.reg.c = 48;
    cpu.reg.d = 205;
    cpu.reg.e = 32;
    cpu.reg.f = 80;
    cpu.reg.h = 176;
    cpu.reg.l = 22;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[25332] = 2;
    cpu.ram[33328] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 217);
    CHECK(cpu.reg.b == 130);
    CHECK(cpu.reg.c == 48);
    CHECK(cpu.reg.d == 205);
    CHECK(cpu.reg.e == 32);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 176);
    CHECK(cpu.reg.l == 22);
    CHECK(cpu.pc == 25333);
    CHECK(cpu.sp == 36609);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25332] == 2);
    REQUIRE(cpu.ram[33328] == 217);
}

TEST_CASE( "02 0139", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21108;
    cpu.sp = 23391;
    cpu.reg.a = 199;
    cpu.reg.b = 246;
    cpu.reg.c = 204;
    cpu.reg.d = 91;
    cpu.reg.e = 246;
    cpu.reg.f = 240;
    cpu.reg.h = 120;
    cpu.reg.l = 124;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[21108] = 2;
    cpu.ram[63180] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 199);
    CHECK(cpu.reg.b == 246);
    CHECK(cpu.reg.c == 204);
    CHECK(cpu.reg.d == 91);
    CHECK(cpu.reg.e == 246);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 120);
    CHECK(cpu.reg.l == 124);
    CHECK(cpu.pc == 21109);
    CHECK(cpu.sp == 23391);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21108] == 2);
    REQUIRE(cpu.ram[63180] == 199);
}

TEST_CASE( "02 013A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42854;
    cpu.sp = 36272;
    cpu.reg.a = 226;
    cpu.reg.b = 123;
    cpu.reg.c = 32;
    cpu.reg.d = 255;
    cpu.reg.e = 248;
    cpu.reg.f = 32;
    cpu.reg.h = 255;
    cpu.reg.l = 16;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[31520] = 0;
    cpu.ram[42854] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 226);
    CHECK(cpu.reg.b == 123);
    CHECK(cpu.reg.c == 32);
    CHECK(cpu.reg.d == 255);
    CHECK(cpu.reg.e == 248);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 255);
    CHECK(cpu.reg.l == 16);
    CHECK(cpu.pc == 42855);
    CHECK(cpu.sp == 36272);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31520] == 226);
    REQUIRE(cpu.ram[42854] == 2);
}

TEST_CASE( "02 013B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32407;
    cpu.sp = 24400;
    cpu.reg.a = 170;
    cpu.reg.b = 255;
    cpu.reg.c = 177;
    cpu.reg.d = 220;
    cpu.reg.e = 225;
    cpu.reg.f = 176;
    cpu.reg.h = 18;
    cpu.reg.l = 235;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[32407] = 2;
    cpu.ram[65457] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 170);
    CHECK(cpu.reg.b == 255);
    CHECK(cpu.reg.c == 177);
    CHECK(cpu.reg.d == 220);
    CHECK(cpu.reg.e == 225);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 18);
    CHECK(cpu.reg.l == 235);
    CHECK(cpu.pc == 32408);
    CHECK(cpu.sp == 24400);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32407] == 2);
    REQUIRE(cpu.ram[65457] == 170);
}

TEST_CASE( "02 013C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29892;
    cpu.sp = 21822;
    cpu.reg.a = 244;
    cpu.reg.b = 91;
    cpu.reg.c = 66;
    cpu.reg.d = 180;
    cpu.reg.e = 188;
    cpu.reg.f = 192;
    cpu.reg.h = 112;
    cpu.reg.l = 25;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[23362] = 0;
    cpu.ram[29892] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 244);
    CHECK(cpu.reg.b == 91);
    CHECK(cpu.reg.c == 66);
    CHECK(cpu.reg.d == 180);
    CHECK(cpu.reg.e == 188);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 112);
    CHECK(cpu.reg.l == 25);
    CHECK(cpu.pc == 29893);
    CHECK(cpu.sp == 21822);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[23362] == 244);
    REQUIRE(cpu.ram[29892] == 2);
}

TEST_CASE( "02 013D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20848;
    cpu.sp = 35774;
    cpu.reg.a = 221;
    cpu.reg.b = 89;
    cpu.reg.c = 18;
    cpu.reg.d = 225;
    cpu.reg.e = 53;
    cpu.reg.f = 208;
    cpu.reg.h = 225;
    cpu.reg.l = 229;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[20848] = 2;
    cpu.ram[22802] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 221);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 18);
    CHECK(cpu.reg.d == 225);
    CHECK(cpu.reg.e == 53);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 225);
    CHECK(cpu.reg.l == 229);
    CHECK(cpu.pc == 20849);
    CHECK(cpu.sp == 35774);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[20848] == 2);
    REQUIRE(cpu.ram[22802] == 221);
}

TEST_CASE( "02 013E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5585;
    cpu.sp = 41027;
    cpu.reg.a = 96;
    cpu.reg.b = 124;
    cpu.reg.c = 2;
    cpu.reg.d = 4;
    cpu.reg.e = 182;
    cpu.reg.f = 144;
    cpu.reg.h = 100;
    cpu.reg.l = 150;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5585] = 2;
    cpu.ram[31746] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 96);
    CHECK(cpu.reg.b == 124);
    CHECK(cpu.reg.c == 2);
    CHECK(cpu.reg.d == 4);
    CHECK(cpu.reg.e == 182);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 100);
    CHECK(cpu.reg.l == 150);
    CHECK(cpu.pc == 5586);
    CHECK(cpu.sp == 41027);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5585] == 2);
    REQUIRE(cpu.ram[31746] == 96);
}

TEST_CASE( "02 013F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19803;
    cpu.sp = 14297;
    cpu.reg.a = 95;
    cpu.reg.b = 235;
    cpu.reg.c = 177;
    cpu.reg.d = 82;
    cpu.reg.e = 225;
    cpu.reg.f = 96;
    cpu.reg.h = 124;
    cpu.reg.l = 140;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[19803] = 2;
    cpu.ram[60337] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 95);
    CHECK(cpu.reg.b == 235);
    CHECK(cpu.reg.c == 177);
    CHECK(cpu.reg.d == 82);
    CHECK(cpu.reg.e == 225);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 124);
    CHECK(cpu.reg.l == 140);
    CHECK(cpu.pc == 19804);
    CHECK(cpu.sp == 14297);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19803] == 2);
    REQUIRE(cpu.ram[60337] == 95);
}

TEST_CASE( "02 0140", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50922;
    cpu.sp = 25830;
    cpu.reg.a = 140;
    cpu.reg.b = 83;
    cpu.reg.c = 22;
    cpu.reg.d = 190;
    cpu.reg.e = 237;
    cpu.reg.f = 32;
    cpu.reg.h = 88;
    cpu.reg.l = 192;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[21270] = 0;
    cpu.ram[50922] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 140);
    CHECK(cpu.reg.b == 83);
    CHECK(cpu.reg.c == 22);
    CHECK(cpu.reg.d == 190);
    CHECK(cpu.reg.e == 237);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 88);
    CHECK(cpu.reg.l == 192);
    CHECK(cpu.pc == 50923);
    CHECK(cpu.sp == 25830);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21270] == 140);
    REQUIRE(cpu.ram[50922] == 2);
}

TEST_CASE( "02 0141", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1538;
    cpu.sp = 2695;
    cpu.reg.a = 153;
    cpu.reg.b = 147;
    cpu.reg.c = 184;
    cpu.reg.d = 202;
    cpu.reg.e = 24;
    cpu.reg.f = 32;
    cpu.reg.h = 68;
    cpu.reg.l = 211;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[1538] = 2;
    cpu.ram[37816] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 153);
    CHECK(cpu.reg.b == 147);
    CHECK(cpu.reg.c == 184);
    CHECK(cpu.reg.d == 202);
    CHECK(cpu.reg.e == 24);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 68);
    CHECK(cpu.reg.l == 211);
    CHECK(cpu.pc == 1539);
    CHECK(cpu.sp == 2695);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1538] == 2);
    REQUIRE(cpu.ram[37816] == 153);
}

TEST_CASE( "02 0142", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4808;
    cpu.sp = 29944;
    cpu.reg.a = 79;
    cpu.reg.b = 93;
    cpu.reg.c = 239;
    cpu.reg.d = 173;
    cpu.reg.e = 157;
    cpu.reg.f = 160;
    cpu.reg.h = 167;
    cpu.reg.l = 108;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[4808] = 2;
    cpu.ram[24047] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 79);
    CHECK(cpu.reg.b == 93);
    CHECK(cpu.reg.c == 239);
    CHECK(cpu.reg.d == 173);
    CHECK(cpu.reg.e == 157);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 167);
    CHECK(cpu.reg.l == 108);
    CHECK(cpu.pc == 4809);
    CHECK(cpu.sp == 29944);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4808] == 2);
    REQUIRE(cpu.ram[24047] == 79);
}

TEST_CASE( "02 0143", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8905;
    cpu.sp = 22377;
    cpu.reg.a = 107;
    cpu.reg.b = 249;
    cpu.reg.c = 40;
    cpu.reg.d = 89;
    cpu.reg.e = 196;
    cpu.reg.f = 16;
    cpu.reg.h = 153;
    cpu.reg.l = 193;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[8905] = 2;
    cpu.ram[63784] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 107);
    CHECK(cpu.reg.b == 249);
    CHECK(cpu.reg.c == 40);
    CHECK(cpu.reg.d == 89);
    CHECK(cpu.reg.e == 196);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 153);
    CHECK(cpu.reg.l == 193);
    CHECK(cpu.pc == 8906);
    CHECK(cpu.sp == 22377);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8905] == 2);
    REQUIRE(cpu.ram[63784] == 107);
}

TEST_CASE( "02 0144", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45078;
    cpu.sp = 32204;
    cpu.reg.a = 168;
    cpu.reg.b = 46;
    cpu.reg.c = 63;
    cpu.reg.d = 227;
    cpu.reg.e = 115;
    cpu.reg.f = 128;
    cpu.reg.h = 235;
    cpu.reg.l = 134;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[11839] = 0;
    cpu.ram[45078] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 168);
    CHECK(cpu.reg.b == 46);
    CHECK(cpu.reg.c == 63);
    CHECK(cpu.reg.d == 227);
    CHECK(cpu.reg.e == 115);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 235);
    CHECK(cpu.reg.l == 134);
    CHECK(cpu.pc == 45079);
    CHECK(cpu.sp == 32204);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11839] == 168);
    REQUIRE(cpu.ram[45078] == 2);
}

TEST_CASE( "02 0145", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58430;
    cpu.sp = 16362;
    cpu.reg.a = 2;
    cpu.reg.b = 173;
    cpu.reg.c = 48;
    cpu.reg.d = 98;
    cpu.reg.e = 160;
    cpu.reg.f = 16;
    cpu.reg.h = 191;
    cpu.reg.l = 76;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[44336] = 0;
    cpu.ram[58430] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 2);
    CHECK(cpu.reg.b == 173);
    CHECK(cpu.reg.c == 48);
    CHECK(cpu.reg.d == 98);
    CHECK(cpu.reg.e == 160);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 191);
    CHECK(cpu.reg.l == 76);
    CHECK(cpu.pc == 58431);
    CHECK(cpu.sp == 16362);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44336] == 2);
    REQUIRE(cpu.ram[58430] == 2);
}

TEST_CASE( "02 0146", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15133;
    cpu.sp = 58138;
    cpu.reg.a = 142;
    cpu.reg.b = 46;
    cpu.reg.c = 218;
    cpu.reg.d = 3;
    cpu.reg.e = 201;
    cpu.reg.f = 48;
    cpu.reg.h = 152;
    cpu.reg.l = 234;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[11994] = 0;
    cpu.ram[15133] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 142);
    CHECK(cpu.reg.b == 46);
    CHECK(cpu.reg.c == 218);
    CHECK(cpu.reg.d == 3);
    CHECK(cpu.reg.e == 201);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 152);
    CHECK(cpu.reg.l == 234);
    CHECK(cpu.pc == 15134);
    CHECK(cpu.sp == 58138);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11994] == 142);
    REQUIRE(cpu.ram[15133] == 2);
}

TEST_CASE( "02 0147", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36760;
    cpu.sp = 53987;
    cpu.reg.a = 155;
    cpu.reg.b = 146;
    cpu.reg.c = 114;
    cpu.reg.d = 230;
    cpu.reg.e = 159;
    cpu.reg.f = 80;
    cpu.reg.h = 153;
    cpu.reg.l = 50;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[36760] = 2;
    cpu.ram[37490] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 155);
    CHECK(cpu.reg.b == 146);
    CHECK(cpu.reg.c == 114);
    CHECK(cpu.reg.d == 230);
    CHECK(cpu.reg.e == 159);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 153);
    CHECK(cpu.reg.l == 50);
    CHECK(cpu.pc == 36761);
    CHECK(cpu.sp == 53987);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36760] == 2);
    REQUIRE(cpu.ram[37490] == 155);
}

TEST_CASE( "02 0148", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7204;
    cpu.sp = 56317;
    cpu.reg.a = 178;
    cpu.reg.b = 37;
    cpu.reg.c = 203;
    cpu.reg.d = 101;
    cpu.reg.e = 118;
    cpu.reg.f = 112;
    cpu.reg.h = 205;
    cpu.reg.l = 225;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[7204] = 2;
    cpu.ram[9675] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 178);
    CHECK(cpu.reg.b == 37);
    CHECK(cpu.reg.c == 203);
    CHECK(cpu.reg.d == 101);
    CHECK(cpu.reg.e == 118);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 205);
    CHECK(cpu.reg.l == 225);
    CHECK(cpu.pc == 7205);
    CHECK(cpu.sp == 56317);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7204] == 2);
    REQUIRE(cpu.ram[9675] == 178);
}

TEST_CASE( "02 0149", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59111;
    cpu.sp = 10839;
    cpu.reg.a = 196;
    cpu.reg.b = 27;
    cpu.reg.c = 23;
    cpu.reg.d = 218;
    cpu.reg.e = 126;
    cpu.reg.f = 96;
    cpu.reg.h = 132;
    cpu.reg.l = 74;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[6935] = 0;
    cpu.ram[59111] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 196);
    CHECK(cpu.reg.b == 27);
    CHECK(cpu.reg.c == 23);
    CHECK(cpu.reg.d == 218);
    CHECK(cpu.reg.e == 126);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 132);
    CHECK(cpu.reg.l == 74);
    CHECK(cpu.pc == 59112);
    CHECK(cpu.sp == 10839);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6935] == 196);
    REQUIRE(cpu.ram[59111] == 2);
}

TEST_CASE( "02 014A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12566;
    cpu.sp = 43238;
    cpu.reg.a = 85;
    cpu.reg.b = 24;
    cpu.reg.c = 253;
    cpu.reg.d = 245;
    cpu.reg.e = 182;
    cpu.reg.f = 240;
    cpu.reg.h = 227;
    cpu.reg.l = 106;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[6397] = 0;
    cpu.ram[12566] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 85);
    CHECK(cpu.reg.b == 24);
    CHECK(cpu.reg.c == 253);
    CHECK(cpu.reg.d == 245);
    CHECK(cpu.reg.e == 182);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 106);
    CHECK(cpu.pc == 12567);
    CHECK(cpu.sp == 43238);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6397] == 85);
    REQUIRE(cpu.ram[12566] == 2);
}

TEST_CASE( "02 014B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28252;
    cpu.sp = 54872;
    cpu.reg.a = 135;
    cpu.reg.b = 221;
    cpu.reg.c = 25;
    cpu.reg.d = 82;
    cpu.reg.e = 107;
    cpu.reg.f = 144;
    cpu.reg.h = 33;
    cpu.reg.l = 43;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[28252] = 2;
    cpu.ram[56601] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 135);
    CHECK(cpu.reg.b == 221);
    CHECK(cpu.reg.c == 25);
    CHECK(cpu.reg.d == 82);
    CHECK(cpu.reg.e == 107);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 33);
    CHECK(cpu.reg.l == 43);
    CHECK(cpu.pc == 28253);
    CHECK(cpu.sp == 54872);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[28252] == 2);
    REQUIRE(cpu.ram[56601] == 135);
}

TEST_CASE( "02 014C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22166;
    cpu.sp = 5353;
    cpu.reg.a = 115;
    cpu.reg.b = 171;
    cpu.reg.c = 131;
    cpu.reg.d = 105;
    cpu.reg.e = 178;
    cpu.reg.f = 0;
    cpu.reg.h = 184;
    cpu.reg.l = 114;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[22166] = 2;
    cpu.ram[43907] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 115);
    CHECK(cpu.reg.b == 171);
    CHECK(cpu.reg.c == 131);
    CHECK(cpu.reg.d == 105);
    CHECK(cpu.reg.e == 178);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 184);
    CHECK(cpu.reg.l == 114);
    CHECK(cpu.pc == 22167);
    CHECK(cpu.sp == 5353);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22166] == 2);
    REQUIRE(cpu.ram[43907] == 115);
}

TEST_CASE( "02 014D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30896;
    cpu.sp = 21473;
    cpu.reg.a = 106;
    cpu.reg.b = 62;
    cpu.reg.c = 65;
    cpu.reg.d = 15;
    cpu.reg.e = 58;
    cpu.reg.f = 208;
    cpu.reg.h = 97;
    cpu.reg.l = 0;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[15937] = 0;
    cpu.ram[30896] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 106);
    CHECK(cpu.reg.b == 62);
    CHECK(cpu.reg.c == 65);
    CHECK(cpu.reg.d == 15);
    CHECK(cpu.reg.e == 58);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 97);
    CHECK(cpu.reg.l == 0);
    CHECK(cpu.pc == 30897);
    CHECK(cpu.sp == 21473);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15937] == 106);
    REQUIRE(cpu.ram[30896] == 2);
}

TEST_CASE( "02 014E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5155;
    cpu.sp = 29234;
    cpu.reg.a = 226;
    cpu.reg.b = 145;
    cpu.reg.c = 113;
    cpu.reg.d = 45;
    cpu.reg.e = 144;
    cpu.reg.f = 176;
    cpu.reg.h = 250;
    cpu.reg.l = 120;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[5155] = 2;
    cpu.ram[37233] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 226);
    CHECK(cpu.reg.b == 145);
    CHECK(cpu.reg.c == 113);
    CHECK(cpu.reg.d == 45);
    CHECK(cpu.reg.e == 144);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 250);
    CHECK(cpu.reg.l == 120);
    CHECK(cpu.pc == 5156);
    CHECK(cpu.sp == 29234);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5155] == 2);
    REQUIRE(cpu.ram[37233] == 226);
}

TEST_CASE( "02 014F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3142;
    cpu.sp = 41882;
    cpu.reg.a = 119;
    cpu.reg.b = 223;
    cpu.reg.c = 87;
    cpu.reg.d = 210;
    cpu.reg.e = 62;
    cpu.reg.f = 0;
    cpu.reg.h = 38;
    cpu.reg.l = 37;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[3142] = 2;
    cpu.ram[57175] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 119);
    CHECK(cpu.reg.b == 223);
    CHECK(cpu.reg.c == 87);
    CHECK(cpu.reg.d == 210);
    CHECK(cpu.reg.e == 62);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 38);
    CHECK(cpu.reg.l == 37);
    CHECK(cpu.pc == 3143);
    CHECK(cpu.sp == 41882);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3142] == 2);
    REQUIRE(cpu.ram[57175] == 119);
}

TEST_CASE( "02 0150", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4899;
    cpu.sp = 60247;
    cpu.reg.a = 158;
    cpu.reg.b = 240;
    cpu.reg.c = 173;
    cpu.reg.d = 174;
    cpu.reg.e = 188;
    cpu.reg.f = 224;
    cpu.reg.h = 34;
    cpu.reg.l = 97;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[4899] = 2;
    cpu.ram[61613] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 158);
    CHECK(cpu.reg.b == 240);
    CHECK(cpu.reg.c == 173);
    CHECK(cpu.reg.d == 174);
    CHECK(cpu.reg.e == 188);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 34);
    CHECK(cpu.reg.l == 97);
    CHECK(cpu.pc == 4900);
    CHECK(cpu.sp == 60247);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4899] == 2);
    REQUIRE(cpu.ram[61613] == 158);
}

TEST_CASE( "02 0151", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21730;
    cpu.sp = 62092;
    cpu.reg.a = 234;
    cpu.reg.b = 30;
    cpu.reg.c = 115;
    cpu.reg.d = 196;
    cpu.reg.e = 51;
    cpu.reg.f = 64;
    cpu.reg.h = 101;
    cpu.reg.l = 13;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[7795] = 0;
    cpu.ram[21730] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 234);
    CHECK(cpu.reg.b == 30);
    CHECK(cpu.reg.c == 115);
    CHECK(cpu.reg.d == 196);
    CHECK(cpu.reg.e == 51);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 101);
    CHECK(cpu.reg.l == 13);
    CHECK(cpu.pc == 21731);
    CHECK(cpu.sp == 62092);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7795] == 234);
    REQUIRE(cpu.ram[21730] == 2);
}

TEST_CASE( "02 0152", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30087;
    cpu.sp = 41802;
    cpu.reg.a = 216;
    cpu.reg.b = 54;
    cpu.reg.c = 41;
    cpu.reg.d = 136;
    cpu.reg.e = 172;
    cpu.reg.f = 240;
    cpu.reg.h = 9;
    cpu.reg.l = 221;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[13865] = 0;
    cpu.ram[30087] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 54);
    CHECK(cpu.reg.c == 41);
    CHECK(cpu.reg.d == 136);
    CHECK(cpu.reg.e == 172);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 9);
    CHECK(cpu.reg.l == 221);
    CHECK(cpu.pc == 30088);
    CHECK(cpu.sp == 41802);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13865] == 216);
    REQUIRE(cpu.ram[30087] == 2);
}

TEST_CASE( "02 0153", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29493;
    cpu.sp = 44411;
    cpu.reg.a = 234;
    cpu.reg.b = 165;
    cpu.reg.c = 14;
    cpu.reg.d = 196;
    cpu.reg.e = 32;
    cpu.reg.f = 176;
    cpu.reg.h = 202;
    cpu.reg.l = 50;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[29493] = 2;
    cpu.ram[42254] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 234);
    CHECK(cpu.reg.b == 165);
    CHECK(cpu.reg.c == 14);
    CHECK(cpu.reg.d == 196);
    CHECK(cpu.reg.e == 32);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 202);
    CHECK(cpu.reg.l == 50);
    CHECK(cpu.pc == 29494);
    CHECK(cpu.sp == 44411);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29493] == 2);
    REQUIRE(cpu.ram[42254] == 234);
}

TEST_CASE( "02 0154", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18087;
    cpu.sp = 13715;
    cpu.reg.a = 64;
    cpu.reg.b = 204;
    cpu.reg.c = 206;
    cpu.reg.d = 124;
    cpu.reg.e = 39;
    cpu.reg.f = 208;
    cpu.reg.h = 172;
    cpu.reg.l = 21;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[18087] = 2;
    cpu.ram[52430] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 204);
    CHECK(cpu.reg.c == 206);
    CHECK(cpu.reg.d == 124);
    CHECK(cpu.reg.e == 39);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 172);
    CHECK(cpu.reg.l == 21);
    CHECK(cpu.pc == 18088);
    CHECK(cpu.sp == 13715);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18087] == 2);
    REQUIRE(cpu.ram[52430] == 64);
}

TEST_CASE( "02 0155", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26431;
    cpu.sp = 13467;
    cpu.reg.a = 23;
    cpu.reg.b = 112;
    cpu.reg.c = 116;
    cpu.reg.d = 24;
    cpu.reg.e = 88;
    cpu.reg.f = 240;
    cpu.reg.h = 95;
    cpu.reg.l = 27;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[26431] = 2;
    cpu.ram[28788] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 23);
    CHECK(cpu.reg.b == 112);
    CHECK(cpu.reg.c == 116);
    CHECK(cpu.reg.d == 24);
    CHECK(cpu.reg.e == 88);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 95);
    CHECK(cpu.reg.l == 27);
    CHECK(cpu.pc == 26432);
    CHECK(cpu.sp == 13467);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26431] == 2);
    REQUIRE(cpu.ram[28788] == 23);
}

TEST_CASE( "02 0156", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45173;
    cpu.sp = 355;
    cpu.reg.a = 184;
    cpu.reg.b = 166;
    cpu.reg.c = 46;
    cpu.reg.d = 10;
    cpu.reg.e = 130;
    cpu.reg.f = 144;
    cpu.reg.h = 125;
    cpu.reg.l = 162;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[42542] = 0;
    cpu.ram[45173] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 184);
    CHECK(cpu.reg.b == 166);
    CHECK(cpu.reg.c == 46);
    CHECK(cpu.reg.d == 10);
    CHECK(cpu.reg.e == 130);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 125);
    CHECK(cpu.reg.l == 162);
    CHECK(cpu.pc == 45174);
    CHECK(cpu.sp == 355);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[42542] == 184);
    REQUIRE(cpu.ram[45173] == 2);
}

TEST_CASE( "02 0157", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56481;
    cpu.sp = 59189;
    cpu.reg.a = 165;
    cpu.reg.b = 147;
    cpu.reg.c = 237;
    cpu.reg.d = 81;
    cpu.reg.e = 119;
    cpu.reg.f = 240;
    cpu.reg.h = 177;
    cpu.reg.l = 160;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[37869] = 0;
    cpu.ram[56481] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 165);
    CHECK(cpu.reg.b == 147);
    CHECK(cpu.reg.c == 237);
    CHECK(cpu.reg.d == 81);
    CHECK(cpu.reg.e == 119);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 177);
    CHECK(cpu.reg.l == 160);
    CHECK(cpu.pc == 56482);
    CHECK(cpu.sp == 59189);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[37869] == 165);
    REQUIRE(cpu.ram[56481] == 2);
}

TEST_CASE( "02 0158", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20422;
    cpu.sp = 25487;
    cpu.reg.a = 6;
    cpu.reg.b = 107;
    cpu.reg.c = 137;
    cpu.reg.d = 6;
    cpu.reg.e = 119;
    cpu.reg.f = 144;
    cpu.reg.h = 123;
    cpu.reg.l = 134;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[20422] = 2;
    cpu.ram[27529] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 6);
    CHECK(cpu.reg.b == 107);
    CHECK(cpu.reg.c == 137);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 119);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 123);
    CHECK(cpu.reg.l == 134);
    CHECK(cpu.pc == 20423);
    CHECK(cpu.sp == 25487);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20422] == 2);
    REQUIRE(cpu.ram[27529] == 6);
}

TEST_CASE( "02 0159", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 901;
    cpu.sp = 28981;
    cpu.reg.a = 228;
    cpu.reg.b = 62;
    cpu.reg.c = 50;
    cpu.reg.d = 110;
    cpu.reg.e = 216;
    cpu.reg.f = 192;
    cpu.reg.h = 207;
    cpu.reg.l = 101;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[901] = 2;
    cpu.ram[15922] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 228);
    CHECK(cpu.reg.b == 62);
    CHECK(cpu.reg.c == 50);
    CHECK(cpu.reg.d == 110);
    CHECK(cpu.reg.e == 216);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 207);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 902);
    CHECK(cpu.sp == 28981);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[901] == 2);
    REQUIRE(cpu.ram[15922] == 228);
}

TEST_CASE( "02 015A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46048;
    cpu.sp = 47780;
    cpu.reg.a = 134;
    cpu.reg.b = 9;
    cpu.reg.c = 2;
    cpu.reg.d = 78;
    cpu.reg.e = 6;
    cpu.reg.f = 64;
    cpu.reg.h = 33;
    cpu.reg.l = 108;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[2306] = 0;
    cpu.ram[46048] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 134);
    CHECK(cpu.reg.b == 9);
    CHECK(cpu.reg.c == 2);
    CHECK(cpu.reg.d == 78);
    CHECK(cpu.reg.e == 6);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 33);
    CHECK(cpu.reg.l == 108);
    CHECK(cpu.pc == 46049);
    CHECK(cpu.sp == 47780);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2306] == 134);
    REQUIRE(cpu.ram[46048] == 2);
}

TEST_CASE( "02 015B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 469;
    cpu.sp = 59804;
    cpu.reg.a = 79;
    cpu.reg.b = 10;
    cpu.reg.c = 130;
    cpu.reg.d = 99;
    cpu.reg.e = 225;
    cpu.reg.f = 176;
    cpu.reg.h = 253;
    cpu.reg.l = 35;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[469] = 2;
    cpu.ram[2690] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 79);
    CHECK(cpu.reg.b == 10);
    CHECK(cpu.reg.c == 130);
    CHECK(cpu.reg.d == 99);
    CHECK(cpu.reg.e == 225);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 253);
    CHECK(cpu.reg.l == 35);
    CHECK(cpu.pc == 470);
    CHECK(cpu.sp == 59804);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[469] == 2);
    REQUIRE(cpu.ram[2690] == 79);
}

TEST_CASE( "02 015C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6697;
    cpu.sp = 63849;
    cpu.reg.a = 7;
    cpu.reg.b = 183;
    cpu.reg.c = 75;
    cpu.reg.d = 1;
    cpu.reg.e = 68;
    cpu.reg.f = 208;
    cpu.reg.h = 54;
    cpu.reg.l = 102;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[6697] = 2;
    cpu.ram[46923] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 7);
    CHECK(cpu.reg.b == 183);
    CHECK(cpu.reg.c == 75);
    CHECK(cpu.reg.d == 1);
    CHECK(cpu.reg.e == 68);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 54);
    CHECK(cpu.reg.l == 102);
    CHECK(cpu.pc == 6698);
    CHECK(cpu.sp == 63849);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6697] == 2);
    REQUIRE(cpu.ram[46923] == 7);
}

TEST_CASE( "02 015D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14267;
    cpu.sp = 49394;
    cpu.reg.a = 190;
    cpu.reg.b = 214;
    cpu.reg.c = 29;
    cpu.reg.d = 208;
    cpu.reg.e = 98;
    cpu.reg.f = 0;
    cpu.reg.h = 38;
    cpu.reg.l = 87;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[14267] = 2;
    cpu.ram[54813] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 190);
    CHECK(cpu.reg.b == 214);
    CHECK(cpu.reg.c == 29);
    CHECK(cpu.reg.d == 208);
    CHECK(cpu.reg.e == 98);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 38);
    CHECK(cpu.reg.l == 87);
    CHECK(cpu.pc == 14268);
    CHECK(cpu.sp == 49394);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14267] == 2);
    REQUIRE(cpu.ram[54813] == 190);
}

TEST_CASE( "02 015E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61904;
    cpu.sp = 37832;
    cpu.reg.a = 171;
    cpu.reg.b = 200;
    cpu.reg.c = 4;
    cpu.reg.d = 158;
    cpu.reg.e = 53;
    cpu.reg.f = 240;
    cpu.reg.h = 77;
    cpu.reg.l = 132;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[51204] = 0;
    cpu.ram[61904] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 171);
    CHECK(cpu.reg.b == 200);
    CHECK(cpu.reg.c == 4);
    CHECK(cpu.reg.d == 158);
    CHECK(cpu.reg.e == 53);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 77);
    CHECK(cpu.reg.l == 132);
    CHECK(cpu.pc == 61905);
    CHECK(cpu.sp == 37832);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[51204] == 171);
    REQUIRE(cpu.ram[61904] == 2);
}

TEST_CASE( "02 015F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31478;
    cpu.sp = 438;
    cpu.reg.a = 207;
    cpu.reg.b = 136;
    cpu.reg.c = 150;
    cpu.reg.d = 6;
    cpu.reg.e = 34;
    cpu.reg.f = 96;
    cpu.reg.h = 49;
    cpu.reg.l = 85;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[31478] = 2;
    cpu.ram[34966] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 207);
    CHECK(cpu.reg.b == 136);
    CHECK(cpu.reg.c == 150);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 34);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 49);
    CHECK(cpu.reg.l == 85);
    CHECK(cpu.pc == 31479);
    CHECK(cpu.sp == 438);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31478] == 2);
    REQUIRE(cpu.ram[34966] == 207);
}

TEST_CASE( "02 0160", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62054;
    cpu.sp = 59617;
    cpu.reg.a = 70;
    cpu.reg.b = 247;
    cpu.reg.c = 161;
    cpu.reg.d = 73;
    cpu.reg.e = 33;
    cpu.reg.f = 160;
    cpu.reg.h = 99;
    cpu.reg.l = 35;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[62054] = 2;
    cpu.ram[63393] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 70);
    CHECK(cpu.reg.b == 247);
    CHECK(cpu.reg.c == 161);
    CHECK(cpu.reg.d == 73);
    CHECK(cpu.reg.e == 33);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 99);
    CHECK(cpu.reg.l == 35);
    CHECK(cpu.pc == 62055);
    CHECK(cpu.sp == 59617);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[62054] == 2);
    REQUIRE(cpu.ram[63393] == 70);
}

TEST_CASE( "02 0161", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62679;
    cpu.sp = 59706;
    cpu.reg.a = 14;
    cpu.reg.b = 232;
    cpu.reg.c = 122;
    cpu.reg.d = 127;
    cpu.reg.e = 13;
    cpu.reg.f = 112;
    cpu.reg.h = 151;
    cpu.reg.l = 54;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[59514] = 0;
    cpu.ram[62679] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 14);
    CHECK(cpu.reg.b == 232);
    CHECK(cpu.reg.c == 122);
    CHECK(cpu.reg.d == 127);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 151);
    CHECK(cpu.reg.l == 54);
    CHECK(cpu.pc == 62680);
    CHECK(cpu.sp == 59706);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[59514] == 14);
    REQUIRE(cpu.ram[62679] == 2);
}

TEST_CASE( "02 0162", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49239;
    cpu.sp = 55736;
    cpu.reg.a = 52;
    cpu.reg.b = 254;
    cpu.reg.c = 162;
    cpu.reg.d = 128;
    cpu.reg.e = 201;
    cpu.reg.f = 112;
    cpu.reg.h = 250;
    cpu.reg.l = 24;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[49239] = 2;
    cpu.ram[65186] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 52);
    CHECK(cpu.reg.b == 254);
    CHECK(cpu.reg.c == 162);
    CHECK(cpu.reg.d == 128);
    CHECK(cpu.reg.e == 201);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 250);
    CHECK(cpu.reg.l == 24);
    CHECK(cpu.pc == 49240);
    CHECK(cpu.sp == 55736);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49239] == 2);
    REQUIRE(cpu.ram[65186] == 52);
}

TEST_CASE( "02 0163", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36453;
    cpu.sp = 57063;
    cpu.reg.a = 74;
    cpu.reg.b = 208;
    cpu.reg.c = 33;
    cpu.reg.d = 143;
    cpu.reg.e = 239;
    cpu.reg.f = 224;
    cpu.reg.h = 89;
    cpu.reg.l = 23;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[36453] = 2;
    cpu.ram[53281] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 74);
    CHECK(cpu.reg.b == 208);
    CHECK(cpu.reg.c == 33);
    CHECK(cpu.reg.d == 143);
    CHECK(cpu.reg.e == 239);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 89);
    CHECK(cpu.reg.l == 23);
    CHECK(cpu.pc == 36454);
    CHECK(cpu.sp == 57063);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36453] == 2);
    REQUIRE(cpu.ram[53281] == 74);
}

TEST_CASE( "02 0164", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13291;
    cpu.sp = 19036;
    cpu.reg.a = 122;
    cpu.reg.b = 221;
    cpu.reg.c = 80;
    cpu.reg.d = 253;
    cpu.reg.e = 110;
    cpu.reg.f = 240;
    cpu.reg.h = 113;
    cpu.reg.l = 187;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[13291] = 2;
    cpu.ram[56656] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 122);
    CHECK(cpu.reg.b == 221);
    CHECK(cpu.reg.c == 80);
    CHECK(cpu.reg.d == 253);
    CHECK(cpu.reg.e == 110);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 113);
    CHECK(cpu.reg.l == 187);
    CHECK(cpu.pc == 13292);
    CHECK(cpu.sp == 19036);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13291] == 2);
    REQUIRE(cpu.ram[56656] == 122);
}

TEST_CASE( "02 0165", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4760;
    cpu.sp = 41555;
    cpu.reg.a = 101;
    cpu.reg.b = 137;
    cpu.reg.c = 217;
    cpu.reg.d = 148;
    cpu.reg.e = 89;
    cpu.reg.f = 48;
    cpu.reg.h = 210;
    cpu.reg.l = 110;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[4760] = 2;
    cpu.ram[35289] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 101);
    CHECK(cpu.reg.b == 137);
    CHECK(cpu.reg.c == 217);
    CHECK(cpu.reg.d == 148);
    CHECK(cpu.reg.e == 89);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 210);
    CHECK(cpu.reg.l == 110);
    CHECK(cpu.pc == 4761);
    CHECK(cpu.sp == 41555);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4760] == 2);
    REQUIRE(cpu.ram[35289] == 101);
}

TEST_CASE( "02 0166", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48719;
    cpu.sp = 46495;
    cpu.reg.a = 38;
    cpu.reg.b = 68;
    cpu.reg.c = 143;
    cpu.reg.d = 81;
    cpu.reg.e = 145;
    cpu.reg.f = 128;
    cpu.reg.h = 25;
    cpu.reg.l = 147;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[17551] = 0;
    cpu.ram[48719] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 38);
    CHECK(cpu.reg.b == 68);
    CHECK(cpu.reg.c == 143);
    CHECK(cpu.reg.d == 81);
    CHECK(cpu.reg.e == 145);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 25);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 48720);
    CHECK(cpu.sp == 46495);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17551] == 38);
    REQUIRE(cpu.ram[48719] == 2);
}

TEST_CASE( "02 0167", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6469;
    cpu.sp = 33070;
    cpu.reg.a = 33;
    cpu.reg.b = 134;
    cpu.reg.c = 66;
    cpu.reg.d = 59;
    cpu.reg.e = 17;
    cpu.reg.f = 144;
    cpu.reg.h = 57;
    cpu.reg.l = 176;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[6469] = 2;
    cpu.ram[34370] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 33);
    CHECK(cpu.reg.b == 134);
    CHECK(cpu.reg.c == 66);
    CHECK(cpu.reg.d == 59);
    CHECK(cpu.reg.e == 17);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 57);
    CHECK(cpu.reg.l == 176);
    CHECK(cpu.pc == 6470);
    CHECK(cpu.sp == 33070);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6469] == 2);
    REQUIRE(cpu.ram[34370] == 33);
}

TEST_CASE( "02 0168", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10728;
    cpu.sp = 31466;
    cpu.reg.a = 184;
    cpu.reg.b = 254;
    cpu.reg.c = 99;
    cpu.reg.d = 164;
    cpu.reg.e = 112;
    cpu.reg.f = 208;
    cpu.reg.h = 119;
    cpu.reg.l = 88;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[10728] = 2;
    cpu.ram[65123] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 184);
    CHECK(cpu.reg.b == 254);
    CHECK(cpu.reg.c == 99);
    CHECK(cpu.reg.d == 164);
    CHECK(cpu.reg.e == 112);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 119);
    CHECK(cpu.reg.l == 88);
    CHECK(cpu.pc == 10729);
    CHECK(cpu.sp == 31466);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10728] == 2);
    REQUIRE(cpu.ram[65123] == 184);
}

TEST_CASE( "02 0169", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48398;
    cpu.sp = 45461;
    cpu.reg.a = 214;
    cpu.reg.b = 27;
    cpu.reg.c = 245;
    cpu.reg.d = 137;
    cpu.reg.e = 140;
    cpu.reg.f = 240;
    cpu.reg.h = 78;
    cpu.reg.l = 32;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[7157] = 0;
    cpu.ram[48398] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 214);
    CHECK(cpu.reg.b == 27);
    CHECK(cpu.reg.c == 245);
    CHECK(cpu.reg.d == 137);
    CHECK(cpu.reg.e == 140);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 78);
    CHECK(cpu.reg.l == 32);
    CHECK(cpu.pc == 48399);
    CHECK(cpu.sp == 45461);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7157] == 214);
    REQUIRE(cpu.ram[48398] == 2);
}

TEST_CASE( "02 016A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41350;
    cpu.sp = 60969;
    cpu.reg.a = 172;
    cpu.reg.b = 61;
    cpu.reg.c = 219;
    cpu.reg.d = 239;
    cpu.reg.e = 209;
    cpu.reg.f = 144;
    cpu.reg.h = 64;
    cpu.reg.l = 215;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[15835] = 0;
    cpu.ram[41350] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 172);
    CHECK(cpu.reg.b == 61);
    CHECK(cpu.reg.c == 219);
    CHECK(cpu.reg.d == 239);
    CHECK(cpu.reg.e == 209);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 64);
    CHECK(cpu.reg.l == 215);
    CHECK(cpu.pc == 41351);
    CHECK(cpu.sp == 60969);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15835] == 172);
    REQUIRE(cpu.ram[41350] == 2);
}

TEST_CASE( "02 016B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31218;
    cpu.sp = 17362;
    cpu.reg.a = 149;
    cpu.reg.b = 193;
    cpu.reg.c = 47;
    cpu.reg.d = 82;
    cpu.reg.e = 13;
    cpu.reg.f = 176;
    cpu.reg.h = 35;
    cpu.reg.l = 152;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[31218] = 2;
    cpu.ram[49455] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 149);
    CHECK(cpu.reg.b == 193);
    CHECK(cpu.reg.c == 47);
    CHECK(cpu.reg.d == 82);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 35);
    CHECK(cpu.reg.l == 152);
    CHECK(cpu.pc == 31219);
    CHECK(cpu.sp == 17362);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31218] == 2);
    REQUIRE(cpu.ram[49455] == 149);
}

TEST_CASE( "02 016C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30937;
    cpu.sp = 20470;
    cpu.reg.a = 42;
    cpu.reg.b = 160;
    cpu.reg.c = 27;
    cpu.reg.d = 139;
    cpu.reg.e = 67;
    cpu.reg.f = 176;
    cpu.reg.h = 161;
    cpu.reg.l = 162;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[30937] = 2;
    cpu.ram[40987] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 42);
    CHECK(cpu.reg.b == 160);
    CHECK(cpu.reg.c == 27);
    CHECK(cpu.reg.d == 139);
    CHECK(cpu.reg.e == 67);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 161);
    CHECK(cpu.reg.l == 162);
    CHECK(cpu.pc == 30938);
    CHECK(cpu.sp == 20470);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30937] == 2);
    REQUIRE(cpu.ram[40987] == 42);
}

TEST_CASE( "02 016D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20179;
    cpu.sp = 22682;
    cpu.reg.a = 93;
    cpu.reg.b = 250;
    cpu.reg.c = 70;
    cpu.reg.d = 254;
    cpu.reg.e = 43;
    cpu.reg.f = 176;
    cpu.reg.h = 127;
    cpu.reg.l = 171;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[20179] = 2;
    cpu.ram[64070] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 93);
    CHECK(cpu.reg.b == 250);
    CHECK(cpu.reg.c == 70);
    CHECK(cpu.reg.d == 254);
    CHECK(cpu.reg.e == 43);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 127);
    CHECK(cpu.reg.l == 171);
    CHECK(cpu.pc == 20180);
    CHECK(cpu.sp == 22682);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20179] == 2);
    REQUIRE(cpu.ram[64070] == 93);
}

TEST_CASE( "02 016E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31155;
    cpu.sp = 55145;
    cpu.reg.a = 210;
    cpu.reg.b = 180;
    cpu.reg.c = 137;
    cpu.reg.d = 67;
    cpu.reg.e = 10;
    cpu.reg.f = 0;
    cpu.reg.h = 244;
    cpu.reg.l = 156;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[31155] = 2;
    cpu.ram[46217] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 210);
    CHECK(cpu.reg.b == 180);
    CHECK(cpu.reg.c == 137);
    CHECK(cpu.reg.d == 67);
    CHECK(cpu.reg.e == 10);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 244);
    CHECK(cpu.reg.l == 156);
    CHECK(cpu.pc == 31156);
    CHECK(cpu.sp == 55145);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31155] == 2);
    REQUIRE(cpu.ram[46217] == 210);
}

TEST_CASE( "02 016F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16755;
    cpu.sp = 7217;
    cpu.reg.a = 189;
    cpu.reg.b = 192;
    cpu.reg.c = 14;
    cpu.reg.d = 17;
    cpu.reg.e = 183;
    cpu.reg.f = 128;
    cpu.reg.h = 26;
    cpu.reg.l = 170;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[16755] = 2;
    cpu.ram[49166] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 189);
    CHECK(cpu.reg.b == 192);
    CHECK(cpu.reg.c == 14);
    CHECK(cpu.reg.d == 17);
    CHECK(cpu.reg.e == 183);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 26);
    CHECK(cpu.reg.l == 170);
    CHECK(cpu.pc == 16756);
    CHECK(cpu.sp == 7217);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16755] == 2);
    REQUIRE(cpu.ram[49166] == 189);
}

TEST_CASE( "02 0170", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7491;
    cpu.sp = 1446;
    cpu.reg.a = 71;
    cpu.reg.b = 161;
    cpu.reg.c = 214;
    cpu.reg.d = 28;
    cpu.reg.e = 33;
    cpu.reg.f = 112;
    cpu.reg.h = 223;
    cpu.reg.l = 99;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[7491] = 2;
    cpu.ram[41430] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 71);
    CHECK(cpu.reg.b == 161);
    CHECK(cpu.reg.c == 214);
    CHECK(cpu.reg.d == 28);
    CHECK(cpu.reg.e == 33);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 223);
    CHECK(cpu.reg.l == 99);
    CHECK(cpu.pc == 7492);
    CHECK(cpu.sp == 1446);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7491] == 2);
    REQUIRE(cpu.ram[41430] == 71);
}

TEST_CASE( "02 0171", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57639;
    cpu.sp = 35482;
    cpu.reg.a = 225;
    cpu.reg.b = 26;
    cpu.reg.c = 200;
    cpu.reg.d = 168;
    cpu.reg.e = 43;
    cpu.reg.f = 16;
    cpu.reg.h = 119;
    cpu.reg.l = 146;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[6856] = 0;
    cpu.ram[57639] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 225);
    CHECK(cpu.reg.b == 26);
    CHECK(cpu.reg.c == 200);
    CHECK(cpu.reg.d == 168);
    CHECK(cpu.reg.e == 43);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 119);
    CHECK(cpu.reg.l == 146);
    CHECK(cpu.pc == 57640);
    CHECK(cpu.sp == 35482);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6856] == 225);
    REQUIRE(cpu.ram[57639] == 2);
}

TEST_CASE( "02 0172", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48837;
    cpu.sp = 17141;
    cpu.reg.a = 0;
    cpu.reg.b = 168;
    cpu.reg.c = 239;
    cpu.reg.d = 105;
    cpu.reg.e = 217;
    cpu.reg.f = 96;
    cpu.reg.h = 175;
    cpu.reg.l = 185;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[43247] = 0;
    cpu.ram[48837] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 0);
    CHECK(cpu.reg.b == 168);
    CHECK(cpu.reg.c == 239);
    CHECK(cpu.reg.d == 105);
    CHECK(cpu.reg.e == 217);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 175);
    CHECK(cpu.reg.l == 185);
    CHECK(cpu.pc == 48838);
    CHECK(cpu.sp == 17141);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43247] == 0);
    REQUIRE(cpu.ram[48837] == 2);
}

TEST_CASE( "02 0173", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2435;
    cpu.sp = 1072;
    cpu.reg.a = 124;
    cpu.reg.b = 234;
    cpu.reg.c = 169;
    cpu.reg.d = 188;
    cpu.reg.e = 65;
    cpu.reg.f = 144;
    cpu.reg.h = 187;
    cpu.reg.l = 56;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[2435] = 2;
    cpu.ram[60073] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 124);
    CHECK(cpu.reg.b == 234);
    CHECK(cpu.reg.c == 169);
    CHECK(cpu.reg.d == 188);
    CHECK(cpu.reg.e == 65);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 187);
    CHECK(cpu.reg.l == 56);
    CHECK(cpu.pc == 2436);
    CHECK(cpu.sp == 1072);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2435] == 2);
    REQUIRE(cpu.ram[60073] == 124);
}

TEST_CASE( "02 0174", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62273;
    cpu.sp = 56637;
    cpu.reg.a = 99;
    cpu.reg.b = 247;
    cpu.reg.c = 162;
    cpu.reg.d = 7;
    cpu.reg.e = 214;
    cpu.reg.f = 240;
    cpu.reg.h = 0;
    cpu.reg.l = 147;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[62273] = 2;
    cpu.ram[63394] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 99);
    CHECK(cpu.reg.b == 247);
    CHECK(cpu.reg.c == 162);
    CHECK(cpu.reg.d == 7);
    CHECK(cpu.reg.e == 214);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 0);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 62274);
    CHECK(cpu.sp == 56637);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62273] == 2);
    REQUIRE(cpu.ram[63394] == 99);
}

TEST_CASE( "02 0175", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23969;
    cpu.sp = 31158;
    cpu.reg.a = 16;
    cpu.reg.b = 221;
    cpu.reg.c = 207;
    cpu.reg.d = 128;
    cpu.reg.e = 117;
    cpu.reg.f = 64;
    cpu.reg.h = 142;
    cpu.reg.l = 169;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[23969] = 2;
    cpu.ram[56783] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 16);
    CHECK(cpu.reg.b == 221);
    CHECK(cpu.reg.c == 207);
    CHECK(cpu.reg.d == 128);
    CHECK(cpu.reg.e == 117);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 142);
    CHECK(cpu.reg.l == 169);
    CHECK(cpu.pc == 23970);
    CHECK(cpu.sp == 31158);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23969] == 2);
    REQUIRE(cpu.ram[56783] == 16);
}

TEST_CASE( "02 0176", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13173;
    cpu.sp = 12731;
    cpu.reg.a = 216;
    cpu.reg.b = 72;
    cpu.reg.c = 44;
    cpu.reg.d = 155;
    cpu.reg.e = 91;
    cpu.reg.f = 112;
    cpu.reg.h = 79;
    cpu.reg.l = 239;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[13173] = 2;
    cpu.ram[18476] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 72);
    CHECK(cpu.reg.c == 44);
    CHECK(cpu.reg.d == 155);
    CHECK(cpu.reg.e == 91);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 79);
    CHECK(cpu.reg.l == 239);
    CHECK(cpu.pc == 13174);
    CHECK(cpu.sp == 12731);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13173] == 2);
    REQUIRE(cpu.ram[18476] == 216);
}

TEST_CASE( "02 0177", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1815;
    cpu.sp = 16233;
    cpu.reg.a = 247;
    cpu.reg.b = 206;
    cpu.reg.c = 37;
    cpu.reg.d = 86;
    cpu.reg.e = 36;
    cpu.reg.f = 240;
    cpu.reg.h = 130;
    cpu.reg.l = 249;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[1815] = 2;
    cpu.ram[52773] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 247);
    CHECK(cpu.reg.b == 206);
    CHECK(cpu.reg.c == 37);
    CHECK(cpu.reg.d == 86);
    CHECK(cpu.reg.e == 36);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 130);
    CHECK(cpu.reg.l == 249);
    CHECK(cpu.pc == 1816);
    CHECK(cpu.sp == 16233);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1815] == 2);
    REQUIRE(cpu.ram[52773] == 247);
}

TEST_CASE( "02 0178", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63510;
    cpu.sp = 7570;
    cpu.reg.a = 60;
    cpu.reg.b = 57;
    cpu.reg.c = 231;
    cpu.reg.d = 1;
    cpu.reg.e = 122;
    cpu.reg.f = 224;
    cpu.reg.h = 136;
    cpu.reg.l = 182;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[14823] = 0;
    cpu.ram[63510] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 60);
    CHECK(cpu.reg.b == 57);
    CHECK(cpu.reg.c == 231);
    CHECK(cpu.reg.d == 1);
    CHECK(cpu.reg.e == 122);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 136);
    CHECK(cpu.reg.l == 182);
    CHECK(cpu.pc == 63511);
    CHECK(cpu.sp == 7570);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14823] == 60);
    REQUIRE(cpu.ram[63510] == 2);
}

TEST_CASE( "02 0179", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61572;
    cpu.sp = 38341;
    cpu.reg.a = 202;
    cpu.reg.b = 134;
    cpu.reg.c = 114;
    cpu.reg.d = 6;
    cpu.reg.e = 8;
    cpu.reg.f = 192;
    cpu.reg.h = 104;
    cpu.reg.l = 228;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[34418] = 0;
    cpu.ram[61572] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 202);
    CHECK(cpu.reg.b == 134);
    CHECK(cpu.reg.c == 114);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 8);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 104);
    CHECK(cpu.reg.l == 228);
    CHECK(cpu.pc == 61573);
    CHECK(cpu.sp == 38341);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[34418] == 202);
    REQUIRE(cpu.ram[61572] == 2);
}

TEST_CASE( "02 017A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61993;
    cpu.sp = 57699;
    cpu.reg.a = 29;
    cpu.reg.b = 78;
    cpu.reg.c = 181;
    cpu.reg.d = 218;
    cpu.reg.e = 10;
    cpu.reg.f = 96;
    cpu.reg.h = 79;
    cpu.reg.l = 45;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[20149] = 0;
    cpu.ram[61993] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 29);
    CHECK(cpu.reg.b == 78);
    CHECK(cpu.reg.c == 181);
    CHECK(cpu.reg.d == 218);
    CHECK(cpu.reg.e == 10);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 79);
    CHECK(cpu.reg.l == 45);
    CHECK(cpu.pc == 61994);
    CHECK(cpu.sp == 57699);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[20149] == 29);
    REQUIRE(cpu.ram[61993] == 2);
}

TEST_CASE( "02 017B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31382;
    cpu.sp = 39807;
    cpu.reg.a = 159;
    cpu.reg.b = 9;
    cpu.reg.c = 164;
    cpu.reg.d = 77;
    cpu.reg.e = 32;
    cpu.reg.f = 208;
    cpu.reg.h = 90;
    cpu.reg.l = 13;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[2468] = 0;
    cpu.ram[31382] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 159);
    CHECK(cpu.reg.b == 9);
    CHECK(cpu.reg.c == 164);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 32);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 90);
    CHECK(cpu.reg.l == 13);
    CHECK(cpu.pc == 31383);
    CHECK(cpu.sp == 39807);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2468] == 159);
    REQUIRE(cpu.ram[31382] == 2);
}

TEST_CASE( "02 017C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40316;
    cpu.sp = 35152;
    cpu.reg.a = 14;
    cpu.reg.b = 19;
    cpu.reg.c = 0;
    cpu.reg.d = 106;
    cpu.reg.e = 73;
    cpu.reg.f = 0;
    cpu.reg.h = 109;
    cpu.reg.l = 230;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[4864] = 0;
    cpu.ram[40316] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 14);
    CHECK(cpu.reg.b == 19);
    CHECK(cpu.reg.c == 0);
    CHECK(cpu.reg.d == 106);
    CHECK(cpu.reg.e == 73);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 109);
    CHECK(cpu.reg.l == 230);
    CHECK(cpu.pc == 40317);
    CHECK(cpu.sp == 35152);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4864] == 14);
    REQUIRE(cpu.ram[40316] == 2);
}

TEST_CASE( "02 017D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27018;
    cpu.sp = 9264;
    cpu.reg.a = 49;
    cpu.reg.b = 32;
    cpu.reg.c = 160;
    cpu.reg.d = 73;
    cpu.reg.e = 3;
    cpu.reg.f = 48;
    cpu.reg.h = 163;
    cpu.reg.l = 124;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[8352] = 0;
    cpu.ram[27018] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 49);
    CHECK(cpu.reg.b == 32);
    CHECK(cpu.reg.c == 160);
    CHECK(cpu.reg.d == 73);
    CHECK(cpu.reg.e == 3);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 163);
    CHECK(cpu.reg.l == 124);
    CHECK(cpu.pc == 27019);
    CHECK(cpu.sp == 9264);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8352] == 49);
    REQUIRE(cpu.ram[27018] == 2);
}

TEST_CASE( "02 017E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28143;
    cpu.sp = 23899;
    cpu.reg.a = 13;
    cpu.reg.b = 253;
    cpu.reg.c = 117;
    cpu.reg.d = 18;
    cpu.reg.e = 227;
    cpu.reg.f = 48;
    cpu.reg.h = 66;
    cpu.reg.l = 208;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[28143] = 2;
    cpu.ram[64885] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 13);
    CHECK(cpu.reg.b == 253);
    CHECK(cpu.reg.c == 117);
    CHECK(cpu.reg.d == 18);
    CHECK(cpu.reg.e == 227);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 66);
    CHECK(cpu.reg.l == 208);
    CHECK(cpu.pc == 28144);
    CHECK(cpu.sp == 23899);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[28143] == 2);
    REQUIRE(cpu.ram[64885] == 13);
}

TEST_CASE( "02 017F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63547;
    cpu.sp = 64364;
    cpu.reg.a = 176;
    cpu.reg.b = 222;
    cpu.reg.c = 20;
    cpu.reg.d = 234;
    cpu.reg.e = 29;
    cpu.reg.f = 16;
    cpu.reg.h = 21;
    cpu.reg.l = 78;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[56852] = 0;
    cpu.ram[63547] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 176);
    CHECK(cpu.reg.b == 222);
    CHECK(cpu.reg.c == 20);
    CHECK(cpu.reg.d == 234);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 21);
    CHECK(cpu.reg.l == 78);
    CHECK(cpu.pc == 63548);
    CHECK(cpu.sp == 64364);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56852] == 176);
    REQUIRE(cpu.ram[63547] == 2);
}

TEST_CASE( "02 0180", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62653;
    cpu.sp = 62557;
    cpu.reg.a = 18;
    cpu.reg.b = 88;
    cpu.reg.c = 73;
    cpu.reg.d = 21;
    cpu.reg.e = 186;
    cpu.reg.f = 208;
    cpu.reg.h = 99;
    cpu.reg.l = 46;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[22601] = 0;
    cpu.ram[62653] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 18);
    CHECK(cpu.reg.b == 88);
    CHECK(cpu.reg.c == 73);
    CHECK(cpu.reg.d == 21);
    CHECK(cpu.reg.e == 186);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 99);
    CHECK(cpu.reg.l == 46);
    CHECK(cpu.pc == 62654);
    CHECK(cpu.sp == 62557);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22601] == 18);
    REQUIRE(cpu.ram[62653] == 2);
}

TEST_CASE( "02 0181", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6218;
    cpu.sp = 45259;
    cpu.reg.a = 199;
    cpu.reg.b = 37;
    cpu.reg.c = 84;
    cpu.reg.d = 247;
    cpu.reg.e = 170;
    cpu.reg.f = 224;
    cpu.reg.h = 28;
    cpu.reg.l = 9;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[6218] = 2;
    cpu.ram[9556] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 199);
    CHECK(cpu.reg.b == 37);
    CHECK(cpu.reg.c == 84);
    CHECK(cpu.reg.d == 247);
    CHECK(cpu.reg.e == 170);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 28);
    CHECK(cpu.reg.l == 9);
    CHECK(cpu.pc == 6219);
    CHECK(cpu.sp == 45259);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6218] == 2);
    REQUIRE(cpu.ram[9556] == 199);
}

TEST_CASE( "02 0182", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13854;
    cpu.sp = 53766;
    cpu.reg.a = 99;
    cpu.reg.b = 187;
    cpu.reg.c = 170;
    cpu.reg.d = 83;
    cpu.reg.e = 123;
    cpu.reg.f = 128;
    cpu.reg.h = 112;
    cpu.reg.l = 160;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[13854] = 2;
    cpu.ram[48042] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 99);
    CHECK(cpu.reg.b == 187);
    CHECK(cpu.reg.c == 170);
    CHECK(cpu.reg.d == 83);
    CHECK(cpu.reg.e == 123);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 112);
    CHECK(cpu.reg.l == 160);
    CHECK(cpu.pc == 13855);
    CHECK(cpu.sp == 53766);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13854] == 2);
    REQUIRE(cpu.ram[48042] == 99);
}

TEST_CASE( "02 0183", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52464;
    cpu.sp = 58144;
    cpu.reg.a = 142;
    cpu.reg.b = 189;
    cpu.reg.c = 43;
    cpu.reg.d = 101;
    cpu.reg.e = 44;
    cpu.reg.f = 240;
    cpu.reg.h = 85;
    cpu.reg.l = 143;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[48427] = 0;
    cpu.ram[52464] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 142);
    CHECK(cpu.reg.b == 189);
    CHECK(cpu.reg.c == 43);
    CHECK(cpu.reg.d == 101);
    CHECK(cpu.reg.e == 44);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 85);
    CHECK(cpu.reg.l == 143);
    CHECK(cpu.pc == 52465);
    CHECK(cpu.sp == 58144);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48427] == 142);
    REQUIRE(cpu.ram[52464] == 2);
}

TEST_CASE( "02 0184", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38251;
    cpu.sp = 14053;
    cpu.reg.a = 34;
    cpu.reg.b = 237;
    cpu.reg.c = 220;
    cpu.reg.d = 90;
    cpu.reg.e = 126;
    cpu.reg.f = 112;
    cpu.reg.h = 115;
    cpu.reg.l = 165;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[38251] = 2;
    cpu.ram[60892] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 34);
    CHECK(cpu.reg.b == 237);
    CHECK(cpu.reg.c == 220);
    CHECK(cpu.reg.d == 90);
    CHECK(cpu.reg.e == 126);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 115);
    CHECK(cpu.reg.l == 165);
    CHECK(cpu.pc == 38252);
    CHECK(cpu.sp == 14053);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38251] == 2);
    REQUIRE(cpu.ram[60892] == 34);
}

TEST_CASE( "02 0185", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59969;
    cpu.sp = 20922;
    cpu.reg.a = 53;
    cpu.reg.b = 92;
    cpu.reg.c = 126;
    cpu.reg.d = 165;
    cpu.reg.e = 47;
    cpu.reg.f = 240;
    cpu.reg.h = 228;
    cpu.reg.l = 203;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[23678] = 0;
    cpu.ram[59969] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 53);
    CHECK(cpu.reg.b == 92);
    CHECK(cpu.reg.c == 126);
    CHECK(cpu.reg.d == 165);
    CHECK(cpu.reg.e == 47);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 228);
    CHECK(cpu.reg.l == 203);
    CHECK(cpu.pc == 59970);
    CHECK(cpu.sp == 20922);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23678] == 53);
    REQUIRE(cpu.ram[59969] == 2);
}

TEST_CASE( "02 0186", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55308;
    cpu.sp = 63561;
    cpu.reg.a = 173;
    cpu.reg.b = 215;
    cpu.reg.c = 209;
    cpu.reg.d = 198;
    cpu.reg.e = 196;
    cpu.reg.f = 240;
    cpu.reg.h = 242;
    cpu.reg.l = 225;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[55249] = 0;
    cpu.ram[55308] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 173);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 209);
    CHECK(cpu.reg.d == 198);
    CHECK(cpu.reg.e == 196);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 225);
    CHECK(cpu.pc == 55309);
    CHECK(cpu.sp == 63561);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55249] == 173);
    REQUIRE(cpu.ram[55308] == 2);
}

TEST_CASE( "02 0187", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7599;
    cpu.sp = 7948;
    cpu.reg.a = 226;
    cpu.reg.b = 174;
    cpu.reg.c = 174;
    cpu.reg.d = 105;
    cpu.reg.e = 242;
    cpu.reg.f = 144;
    cpu.reg.h = 33;
    cpu.reg.l = 30;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[7599] = 2;
    cpu.ram[44718] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 226);
    CHECK(cpu.reg.b == 174);
    CHECK(cpu.reg.c == 174);
    CHECK(cpu.reg.d == 105);
    CHECK(cpu.reg.e == 242);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 33);
    CHECK(cpu.reg.l == 30);
    CHECK(cpu.pc == 7600);
    CHECK(cpu.sp == 7948);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7599] == 2);
    REQUIRE(cpu.ram[44718] == 226);
}

TEST_CASE( "02 0188", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9616;
    cpu.sp = 30435;
    cpu.reg.a = 130;
    cpu.reg.b = 35;
    cpu.reg.c = 201;
    cpu.reg.d = 8;
    cpu.reg.e = 42;
    cpu.reg.f = 64;
    cpu.reg.h = 184;
    cpu.reg.l = 235;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[9161] = 0;
    cpu.ram[9616] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 130);
    CHECK(cpu.reg.b == 35);
    CHECK(cpu.reg.c == 201);
    CHECK(cpu.reg.d == 8);
    CHECK(cpu.reg.e == 42);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 184);
    CHECK(cpu.reg.l == 235);
    CHECK(cpu.pc == 9617);
    CHECK(cpu.sp == 30435);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9161] == 130);
    REQUIRE(cpu.ram[9616] == 2);
}

TEST_CASE( "02 0189", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40530;
    cpu.sp = 40126;
    cpu.reg.a = 202;
    cpu.reg.b = 79;
    cpu.reg.c = 74;
    cpu.reg.d = 14;
    cpu.reg.e = 157;
    cpu.reg.f = 160;
    cpu.reg.h = 127;
    cpu.reg.l = 85;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[20298] = 0;
    cpu.ram[40530] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 202);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 14);
    CHECK(cpu.reg.e == 157);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 127);
    CHECK(cpu.reg.l == 85);
    CHECK(cpu.pc == 40531);
    CHECK(cpu.sp == 40126);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[20298] == 202);
    REQUIRE(cpu.ram[40530] == 2);
}

TEST_CASE( "02 018A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40483;
    cpu.sp = 28718;
    cpu.reg.a = 202;
    cpu.reg.b = 141;
    cpu.reg.c = 187;
    cpu.reg.d = 22;
    cpu.reg.e = 101;
    cpu.reg.f = 64;
    cpu.reg.h = 113;
    cpu.reg.l = 30;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[36283] = 0;
    cpu.ram[40483] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 202);
    CHECK(cpu.reg.b == 141);
    CHECK(cpu.reg.c == 187);
    CHECK(cpu.reg.d == 22);
    CHECK(cpu.reg.e == 101);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 113);
    CHECK(cpu.reg.l == 30);
    CHECK(cpu.pc == 40484);
    CHECK(cpu.sp == 28718);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36283] == 202);
    REQUIRE(cpu.ram[40483] == 2);
}

TEST_CASE( "02 018B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11804;
    cpu.sp = 44351;
    cpu.reg.a = 0;
    cpu.reg.b = 194;
    cpu.reg.c = 216;
    cpu.reg.d = 133;
    cpu.reg.e = 55;
    cpu.reg.f = 160;
    cpu.reg.h = 189;
    cpu.reg.l = 6;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[11804] = 2;
    cpu.ram[49880] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 0);
    CHECK(cpu.reg.b == 194);
    CHECK(cpu.reg.c == 216);
    CHECK(cpu.reg.d == 133);
    CHECK(cpu.reg.e == 55);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 189);
    CHECK(cpu.reg.l == 6);
    CHECK(cpu.pc == 11805);
    CHECK(cpu.sp == 44351);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11804] == 2);
    REQUIRE(cpu.ram[49880] == 0);
}

TEST_CASE( "02 018C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53167;
    cpu.sp = 12386;
    cpu.reg.a = 96;
    cpu.reg.b = 237;
    cpu.reg.c = 50;
    cpu.reg.d = 36;
    cpu.reg.e = 220;
    cpu.reg.f = 208;
    cpu.reg.h = 204;
    cpu.reg.l = 91;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[53167] = 2;
    cpu.ram[60722] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 96);
    CHECK(cpu.reg.b == 237);
    CHECK(cpu.reg.c == 50);
    CHECK(cpu.reg.d == 36);
    CHECK(cpu.reg.e == 220);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 204);
    CHECK(cpu.reg.l == 91);
    CHECK(cpu.pc == 53168);
    CHECK(cpu.sp == 12386);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[53167] == 2);
    REQUIRE(cpu.ram[60722] == 96);
}

TEST_CASE( "02 018D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20611;
    cpu.sp = 61726;
    cpu.reg.a = 170;
    cpu.reg.b = 122;
    cpu.reg.c = 161;
    cpu.reg.d = 218;
    cpu.reg.e = 183;
    cpu.reg.f = 144;
    cpu.reg.h = 174;
    cpu.reg.l = 142;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[20611] = 2;
    cpu.ram[31393] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 170);
    CHECK(cpu.reg.b == 122);
    CHECK(cpu.reg.c == 161);
    CHECK(cpu.reg.d == 218);
    CHECK(cpu.reg.e == 183);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 174);
    CHECK(cpu.reg.l == 142);
    CHECK(cpu.pc == 20612);
    CHECK(cpu.sp == 61726);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20611] == 2);
    REQUIRE(cpu.ram[31393] == 170);
}

TEST_CASE( "02 018E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64966;
    cpu.sp = 9903;
    cpu.reg.a = 101;
    cpu.reg.b = 180;
    cpu.reg.c = 200;
    cpu.reg.d = 194;
    cpu.reg.e = 123;
    cpu.reg.f = 64;
    cpu.reg.h = 30;
    cpu.reg.l = 254;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[46280] = 0;
    cpu.ram[64966] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 101);
    CHECK(cpu.reg.b == 180);
    CHECK(cpu.reg.c == 200);
    CHECK(cpu.reg.d == 194);
    CHECK(cpu.reg.e == 123);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 30);
    CHECK(cpu.reg.l == 254);
    CHECK(cpu.pc == 64967);
    CHECK(cpu.sp == 9903);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[46280] == 101);
    REQUIRE(cpu.ram[64966] == 2);
}

TEST_CASE( "02 018F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10432;
    cpu.sp = 2386;
    cpu.reg.a = 233;
    cpu.reg.b = 150;
    cpu.reg.c = 122;
    cpu.reg.d = 129;
    cpu.reg.e = 25;
    cpu.reg.f = 208;
    cpu.reg.h = 32;
    cpu.reg.l = 21;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[10432] = 2;
    cpu.ram[38522] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 233);
    CHECK(cpu.reg.b == 150);
    CHECK(cpu.reg.c == 122);
    CHECK(cpu.reg.d == 129);
    CHECK(cpu.reg.e == 25);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 32);
    CHECK(cpu.reg.l == 21);
    CHECK(cpu.pc == 10433);
    CHECK(cpu.sp == 2386);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10432] == 2);
    REQUIRE(cpu.ram[38522] == 233);
}

TEST_CASE( "02 0190", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63937;
    cpu.sp = 42737;
    cpu.reg.a = 9;
    cpu.reg.b = 75;
    cpu.reg.c = 150;
    cpu.reg.d = 232;
    cpu.reg.e = 38;
    cpu.reg.f = 48;
    cpu.reg.h = 33;
    cpu.reg.l = 81;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[19350] = 0;
    cpu.ram[63937] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 9);
    CHECK(cpu.reg.b == 75);
    CHECK(cpu.reg.c == 150);
    CHECK(cpu.reg.d == 232);
    CHECK(cpu.reg.e == 38);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 33);
    CHECK(cpu.reg.l == 81);
    CHECK(cpu.pc == 63938);
    CHECK(cpu.sp == 42737);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19350] == 9);
    REQUIRE(cpu.ram[63937] == 2);
}

TEST_CASE( "02 0191", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32819;
    cpu.sp = 32180;
    cpu.reg.a = 45;
    cpu.reg.b = 2;
    cpu.reg.c = 77;
    cpu.reg.d = 64;
    cpu.reg.e = 141;
    cpu.reg.f = 224;
    cpu.reg.h = 252;
    cpu.reg.l = 233;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[589] = 0;
    cpu.ram[32819] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 45);
    CHECK(cpu.reg.b == 2);
    CHECK(cpu.reg.c == 77);
    CHECK(cpu.reg.d == 64);
    CHECK(cpu.reg.e == 141);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 252);
    CHECK(cpu.reg.l == 233);
    CHECK(cpu.pc == 32820);
    CHECK(cpu.sp == 32180);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[589] == 45);
    REQUIRE(cpu.ram[32819] == 2);
}

TEST_CASE( "02 0192", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33661;
    cpu.sp = 21064;
    cpu.reg.a = 125;
    cpu.reg.b = 134;
    cpu.reg.c = 8;
    cpu.reg.d = 197;
    cpu.reg.e = 89;
    cpu.reg.f = 176;
    cpu.reg.h = 196;
    cpu.reg.l = 181;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[33661] = 2;
    cpu.ram[34312] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 125);
    CHECK(cpu.reg.b == 134);
    CHECK(cpu.reg.c == 8);
    CHECK(cpu.reg.d == 197);
    CHECK(cpu.reg.e == 89);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 196);
    CHECK(cpu.reg.l == 181);
    CHECK(cpu.pc == 33662);
    CHECK(cpu.sp == 21064);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33661] == 2);
    REQUIRE(cpu.ram[34312] == 125);
}

TEST_CASE( "02 0193", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46093;
    cpu.sp = 65116;
    cpu.reg.a = 49;
    cpu.reg.b = 38;
    cpu.reg.c = 101;
    cpu.reg.d = 47;
    cpu.reg.e = 217;
    cpu.reg.f = 176;
    cpu.reg.h = 150;
    cpu.reg.l = 47;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[9829] = 0;
    cpu.ram[46093] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 49);
    CHECK(cpu.reg.b == 38);
    CHECK(cpu.reg.c == 101);
    CHECK(cpu.reg.d == 47);
    CHECK(cpu.reg.e == 217);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 150);
    CHECK(cpu.reg.l == 47);
    CHECK(cpu.pc == 46094);
    CHECK(cpu.sp == 65116);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9829] == 49);
    REQUIRE(cpu.ram[46093] == 2);
}

TEST_CASE( "02 0194", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31725;
    cpu.sp = 472;
    cpu.reg.a = 113;
    cpu.reg.b = 39;
    cpu.reg.c = 13;
    cpu.reg.d = 180;
    cpu.reg.e = 213;
    cpu.reg.f = 160;
    cpu.reg.h = 250;
    cpu.reg.l = 169;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[9997] = 0;
    cpu.ram[31725] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 113);
    CHECK(cpu.reg.b == 39);
    CHECK(cpu.reg.c == 13);
    CHECK(cpu.reg.d == 180);
    CHECK(cpu.reg.e == 213);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 250);
    CHECK(cpu.reg.l == 169);
    CHECK(cpu.pc == 31726);
    CHECK(cpu.sp == 472);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9997] == 113);
    REQUIRE(cpu.ram[31725] == 2);
}

TEST_CASE( "02 0195", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 187;
    cpu.sp = 20283;
    cpu.reg.a = 248;
    cpu.reg.b = 118;
    cpu.reg.c = 132;
    cpu.reg.d = 112;
    cpu.reg.e = 161;
    cpu.reg.f = 16;
    cpu.reg.h = 243;
    cpu.reg.l = 233;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[187] = 2;
    cpu.ram[30340] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 248);
    CHECK(cpu.reg.b == 118);
    CHECK(cpu.reg.c == 132);
    CHECK(cpu.reg.d == 112);
    CHECK(cpu.reg.e == 161);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 243);
    CHECK(cpu.reg.l == 233);
    CHECK(cpu.pc == 188);
    CHECK(cpu.sp == 20283);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[187] == 2);
    REQUIRE(cpu.ram[30340] == 248);
}

TEST_CASE( "02 0196", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44480;
    cpu.sp = 59872;
    cpu.reg.a = 173;
    cpu.reg.b = 123;
    cpu.reg.c = 154;
    cpu.reg.d = 60;
    cpu.reg.e = 91;
    cpu.reg.f = 224;
    cpu.reg.h = 13;
    cpu.reg.l = 149;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[31642] = 0;
    cpu.ram[44480] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 173);
    CHECK(cpu.reg.b == 123);
    CHECK(cpu.reg.c == 154);
    CHECK(cpu.reg.d == 60);
    CHECK(cpu.reg.e == 91);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 13);
    CHECK(cpu.reg.l == 149);
    CHECK(cpu.pc == 44481);
    CHECK(cpu.sp == 59872);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31642] == 173);
    REQUIRE(cpu.ram[44480] == 2);
}

TEST_CASE( "02 0197", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63760;
    cpu.sp = 42192;
    cpu.reg.a = 83;
    cpu.reg.b = 136;
    cpu.reg.c = 27;
    cpu.reg.d = 5;
    cpu.reg.e = 179;
    cpu.reg.f = 0;
    cpu.reg.h = 4;
    cpu.reg.l = 228;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[34843] = 0;
    cpu.ram[63760] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 83);
    CHECK(cpu.reg.b == 136);
    CHECK(cpu.reg.c == 27);
    CHECK(cpu.reg.d == 5);
    CHECK(cpu.reg.e == 179);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 4);
    CHECK(cpu.reg.l == 228);
    CHECK(cpu.pc == 63761);
    CHECK(cpu.sp == 42192);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34843] == 83);
    REQUIRE(cpu.ram[63760] == 2);
}

TEST_CASE( "02 0198", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49832;
    cpu.sp = 26449;
    cpu.reg.a = 199;
    cpu.reg.b = 26;
    cpu.reg.c = 182;
    cpu.reg.d = 72;
    cpu.reg.e = 139;
    cpu.reg.f = 48;
    cpu.reg.h = 152;
    cpu.reg.l = 171;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[6838] = 0;
    cpu.ram[49832] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 199);
    CHECK(cpu.reg.b == 26);
    CHECK(cpu.reg.c == 182);
    CHECK(cpu.reg.d == 72);
    CHECK(cpu.reg.e == 139);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 152);
    CHECK(cpu.reg.l == 171);
    CHECK(cpu.pc == 49833);
    CHECK(cpu.sp == 26449);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6838] == 199);
    REQUIRE(cpu.ram[49832] == 2);
}

TEST_CASE( "02 0199", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28053;
    cpu.sp = 42938;
    cpu.reg.a = 85;
    cpu.reg.b = 17;
    cpu.reg.c = 211;
    cpu.reg.d = 25;
    cpu.reg.e = 232;
    cpu.reg.f = 0;
    cpu.reg.h = 230;
    cpu.reg.l = 34;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[4563] = 0;
    cpu.ram[28053] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 85);
    CHECK(cpu.reg.b == 17);
    CHECK(cpu.reg.c == 211);
    CHECK(cpu.reg.d == 25);
    CHECK(cpu.reg.e == 232);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 230);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 28054);
    CHECK(cpu.sp == 42938);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4563] == 85);
    REQUIRE(cpu.ram[28053] == 2);
}

TEST_CASE( "02 019A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42084;
    cpu.sp = 23536;
    cpu.reg.a = 131;
    cpu.reg.b = 100;
    cpu.reg.c = 203;
    cpu.reg.d = 17;
    cpu.reg.e = 92;
    cpu.reg.f = 32;
    cpu.reg.h = 4;
    cpu.reg.l = 42;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[25803] = 0;
    cpu.ram[42084] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 131);
    CHECK(cpu.reg.b == 100);
    CHECK(cpu.reg.c == 203);
    CHECK(cpu.reg.d == 17);
    CHECK(cpu.reg.e == 92);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 4);
    CHECK(cpu.reg.l == 42);
    CHECK(cpu.pc == 42085);
    CHECK(cpu.sp == 23536);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25803] == 131);
    REQUIRE(cpu.ram[42084] == 2);
}

TEST_CASE( "02 019B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31712;
    cpu.sp = 31042;
    cpu.reg.a = 98;
    cpu.reg.b = 41;
    cpu.reg.c = 242;
    cpu.reg.d = 217;
    cpu.reg.e = 51;
    cpu.reg.f = 48;
    cpu.reg.h = 46;
    cpu.reg.l = 4;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[10738] = 0;
    cpu.ram[31712] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 98);
    CHECK(cpu.reg.b == 41);
    CHECK(cpu.reg.c == 242);
    CHECK(cpu.reg.d == 217);
    CHECK(cpu.reg.e == 51);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 46);
    CHECK(cpu.reg.l == 4);
    CHECK(cpu.pc == 31713);
    CHECK(cpu.sp == 31042);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10738] == 98);
    REQUIRE(cpu.ram[31712] == 2);
}

TEST_CASE( "02 019C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57752;
    cpu.sp = 28179;
    cpu.reg.a = 214;
    cpu.reg.b = 84;
    cpu.reg.c = 199;
    cpu.reg.d = 241;
    cpu.reg.e = 240;
    cpu.reg.f = 64;
    cpu.reg.h = 157;
    cpu.reg.l = 157;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[21703] = 0;
    cpu.ram[57752] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 214);
    CHECK(cpu.reg.b == 84);
    CHECK(cpu.reg.c == 199);
    CHECK(cpu.reg.d == 241);
    CHECK(cpu.reg.e == 240);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 157);
    CHECK(cpu.reg.l == 157);
    CHECK(cpu.pc == 57753);
    CHECK(cpu.sp == 28179);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21703] == 214);
    REQUIRE(cpu.ram[57752] == 2);
}

TEST_CASE( "02 019D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3053;
    cpu.sp = 50900;
    cpu.reg.a = 151;
    cpu.reg.b = 166;
    cpu.reg.c = 8;
    cpu.reg.d = 221;
    cpu.reg.e = 83;
    cpu.reg.f = 16;
    cpu.reg.h = 76;
    cpu.reg.l = 242;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[3053] = 2;
    cpu.ram[42504] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 151);
    CHECK(cpu.reg.b == 166);
    CHECK(cpu.reg.c == 8);
    CHECK(cpu.reg.d == 221);
    CHECK(cpu.reg.e == 83);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 76);
    CHECK(cpu.reg.l == 242);
    CHECK(cpu.pc == 3054);
    CHECK(cpu.sp == 50900);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3053] == 2);
    REQUIRE(cpu.ram[42504] == 151);
}

TEST_CASE( "02 019E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35482;
    cpu.sp = 55802;
    cpu.reg.a = 178;
    cpu.reg.b = 230;
    cpu.reg.c = 185;
    cpu.reg.d = 198;
    cpu.reg.e = 62;
    cpu.reg.f = 112;
    cpu.reg.h = 170;
    cpu.reg.l = 153;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[35482] = 2;
    cpu.ram[59065] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 178);
    CHECK(cpu.reg.b == 230);
    CHECK(cpu.reg.c == 185);
    CHECK(cpu.reg.d == 198);
    CHECK(cpu.reg.e == 62);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 170);
    CHECK(cpu.reg.l == 153);
    CHECK(cpu.pc == 35483);
    CHECK(cpu.sp == 55802);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35482] == 2);
    REQUIRE(cpu.ram[59065] == 178);
}

TEST_CASE( "02 019F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44172;
    cpu.sp = 29591;
    cpu.reg.a = 2;
    cpu.reg.b = 179;
    cpu.reg.c = 136;
    cpu.reg.d = 249;
    cpu.reg.e = 44;
    cpu.reg.f = 144;
    cpu.reg.h = 202;
    cpu.reg.l = 199;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[44172] = 2;
    cpu.ram[45960] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 2);
    CHECK(cpu.reg.b == 179);
    CHECK(cpu.reg.c == 136);
    CHECK(cpu.reg.d == 249);
    CHECK(cpu.reg.e == 44);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 202);
    CHECK(cpu.reg.l == 199);
    CHECK(cpu.pc == 44173);
    CHECK(cpu.sp == 29591);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44172] == 2);
    REQUIRE(cpu.ram[45960] == 2);
}

TEST_CASE( "02 01A0", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56911;
    cpu.sp = 56503;
    cpu.reg.a = 6;
    cpu.reg.b = 160;
    cpu.reg.c = 189;
    cpu.reg.d = 51;
    cpu.reg.e = 151;
    cpu.reg.f = 192;
    cpu.reg.h = 8;
    cpu.reg.l = 175;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[41149] = 0;
    cpu.ram[56911] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 6);
    CHECK(cpu.reg.b == 160);
    CHECK(cpu.reg.c == 189);
    CHECK(cpu.reg.d == 51);
    CHECK(cpu.reg.e == 151);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 8);
    CHECK(cpu.reg.l == 175);
    CHECK(cpu.pc == 56912);
    CHECK(cpu.sp == 56503);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[41149] == 6);
    REQUIRE(cpu.ram[56911] == 2);
}

TEST_CASE( "02 01A1", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21276;
    cpu.sp = 40963;
    cpu.reg.a = 180;
    cpu.reg.b = 221;
    cpu.reg.c = 27;
    cpu.reg.d = 64;
    cpu.reg.e = 3;
    cpu.reg.f = 48;
    cpu.reg.h = 27;
    cpu.reg.l = 161;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[21276] = 2;
    cpu.ram[56603] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 180);
    CHECK(cpu.reg.b == 221);
    CHECK(cpu.reg.c == 27);
    CHECK(cpu.reg.d == 64);
    CHECK(cpu.reg.e == 3);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 27);
    CHECK(cpu.reg.l == 161);
    CHECK(cpu.pc == 21277);
    CHECK(cpu.sp == 40963);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21276] == 2);
    REQUIRE(cpu.ram[56603] == 180);
}

TEST_CASE( "02 01A2", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47448;
    cpu.sp = 41035;
    cpu.reg.a = 132;
    cpu.reg.b = 223;
    cpu.reg.c = 152;
    cpu.reg.d = 216;
    cpu.reg.e = 88;
    cpu.reg.f = 32;
    cpu.reg.h = 78;
    cpu.reg.l = 155;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[47448] = 2;
    cpu.ram[57240] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 132);
    CHECK(cpu.reg.b == 223);
    CHECK(cpu.reg.c == 152);
    CHECK(cpu.reg.d == 216);
    CHECK(cpu.reg.e == 88);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 78);
    CHECK(cpu.reg.l == 155);
    CHECK(cpu.pc == 47449);
    CHECK(cpu.sp == 41035);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[47448] == 2);
    REQUIRE(cpu.ram[57240] == 132);
}

TEST_CASE( "02 01A3", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31889;
    cpu.sp = 54652;
    cpu.reg.a = 228;
    cpu.reg.b = 249;
    cpu.reg.c = 255;
    cpu.reg.d = 130;
    cpu.reg.e = 98;
    cpu.reg.f = 16;
    cpu.reg.h = 232;
    cpu.reg.l = 192;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[31889] = 2;
    cpu.ram[63999] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 228);
    CHECK(cpu.reg.b == 249);
    CHECK(cpu.reg.c == 255);
    CHECK(cpu.reg.d == 130);
    CHECK(cpu.reg.e == 98);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 232);
    CHECK(cpu.reg.l == 192);
    CHECK(cpu.pc == 31890);
    CHECK(cpu.sp == 54652);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31889] == 2);
    REQUIRE(cpu.ram[63999] == 228);
}

TEST_CASE( "02 01A4", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21109;
    cpu.sp = 25088;
    cpu.reg.a = 48;
    cpu.reg.b = 175;
    cpu.reg.c = 77;
    cpu.reg.d = 113;
    cpu.reg.e = 209;
    cpu.reg.f = 96;
    cpu.reg.h = 16;
    cpu.reg.l = 147;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[21109] = 2;
    cpu.ram[44877] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 48);
    CHECK(cpu.reg.b == 175);
    CHECK(cpu.reg.c == 77);
    CHECK(cpu.reg.d == 113);
    CHECK(cpu.reg.e == 209);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 16);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 21110);
    CHECK(cpu.sp == 25088);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21109] == 2);
    REQUIRE(cpu.ram[44877] == 48);
}

TEST_CASE( "02 01A5", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43700;
    cpu.sp = 60774;
    cpu.reg.a = 53;
    cpu.reg.b = 251;
    cpu.reg.c = 52;
    cpu.reg.d = 254;
    cpu.reg.e = 85;
    cpu.reg.f = 64;
    cpu.reg.h = 229;
    cpu.reg.l = 67;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[43700] = 2;
    cpu.ram[64308] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 53);
    CHECK(cpu.reg.b == 251);
    CHECK(cpu.reg.c == 52);
    CHECK(cpu.reg.d == 254);
    CHECK(cpu.reg.e == 85);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 229);
    CHECK(cpu.reg.l == 67);
    CHECK(cpu.pc == 43701);
    CHECK(cpu.sp == 60774);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43700] == 2);
    REQUIRE(cpu.ram[64308] == 53);
}

TEST_CASE( "02 01A6", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49501;
    cpu.sp = 7965;
    cpu.reg.a = 29;
    cpu.reg.b = 65;
    cpu.reg.c = 223;
    cpu.reg.d = 104;
    cpu.reg.e = 12;
    cpu.reg.f = 32;
    cpu.reg.h = 218;
    cpu.reg.l = 162;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[16863] = 0;
    cpu.ram[49501] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 29);
    CHECK(cpu.reg.b == 65);
    CHECK(cpu.reg.c == 223);
    CHECK(cpu.reg.d == 104);
    CHECK(cpu.reg.e == 12);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 218);
    CHECK(cpu.reg.l == 162);
    CHECK(cpu.pc == 49502);
    CHECK(cpu.sp == 7965);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16863] == 29);
    REQUIRE(cpu.ram[49501] == 2);
}

TEST_CASE( "02 01A7", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43406;
    cpu.sp = 65248;
    cpu.reg.a = 182;
    cpu.reg.b = 8;
    cpu.reg.c = 177;
    cpu.reg.d = 101;
    cpu.reg.e = 91;
    cpu.reg.f = 112;
    cpu.reg.h = 177;
    cpu.reg.l = 34;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[2225] = 0;
    cpu.ram[43406] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 182);
    CHECK(cpu.reg.b == 8);
    CHECK(cpu.reg.c == 177);
    CHECK(cpu.reg.d == 101);
    CHECK(cpu.reg.e == 91);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 177);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 43407);
    CHECK(cpu.sp == 65248);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2225] == 182);
    REQUIRE(cpu.ram[43406] == 2);
}

TEST_CASE( "02 01A8", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64218;
    cpu.sp = 39063;
    cpu.reg.a = 18;
    cpu.reg.b = 67;
    cpu.reg.c = 83;
    cpu.reg.d = 77;
    cpu.reg.e = 104;
    cpu.reg.f = 96;
    cpu.reg.h = 52;
    cpu.reg.l = 236;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[17235] = 0;
    cpu.ram[64218] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 18);
    CHECK(cpu.reg.b == 67);
    CHECK(cpu.reg.c == 83);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 104);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 52);
    CHECK(cpu.reg.l == 236);
    CHECK(cpu.pc == 64219);
    CHECK(cpu.sp == 39063);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17235] == 18);
    REQUIRE(cpu.ram[64218] == 2);
}

TEST_CASE( "02 01A9", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17579;
    cpu.sp = 59482;
    cpu.reg.a = 178;
    cpu.reg.b = 140;
    cpu.reg.c = 126;
    cpu.reg.d = 92;
    cpu.reg.e = 132;
    cpu.reg.f = 16;
    cpu.reg.h = 32;
    cpu.reg.l = 85;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[17579] = 2;
    cpu.ram[35966] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 178);
    CHECK(cpu.reg.b == 140);
    CHECK(cpu.reg.c == 126);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 132);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 32);
    CHECK(cpu.reg.l == 85);
    CHECK(cpu.pc == 17580);
    CHECK(cpu.sp == 59482);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17579] == 2);
    REQUIRE(cpu.ram[35966] == 178);
}

TEST_CASE( "02 01AA", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58226;
    cpu.sp = 8562;
    cpu.reg.a = 67;
    cpu.reg.b = 28;
    cpu.reg.c = 57;
    cpu.reg.d = 128;
    cpu.reg.e = 5;
    cpu.reg.f = 48;
    cpu.reg.h = 39;
    cpu.reg.l = 40;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[7225] = 0;
    cpu.ram[58226] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 67);
    CHECK(cpu.reg.b == 28);
    CHECK(cpu.reg.c == 57);
    CHECK(cpu.reg.d == 128);
    CHECK(cpu.reg.e == 5);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 39);
    CHECK(cpu.reg.l == 40);
    CHECK(cpu.pc == 58227);
    CHECK(cpu.sp == 8562);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7225] == 67);
    REQUIRE(cpu.ram[58226] == 2);
}

TEST_CASE( "02 01AB", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61650;
    cpu.sp = 24343;
    cpu.reg.a = 202;
    cpu.reg.b = 126;
    cpu.reg.c = 209;
    cpu.reg.d = 50;
    cpu.reg.e = 20;
    cpu.reg.f = 192;
    cpu.reg.h = 108;
    cpu.reg.l = 224;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[32465] = 0;
    cpu.ram[61650] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 202);
    CHECK(cpu.reg.b == 126);
    CHECK(cpu.reg.c == 209);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 20);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 108);
    CHECK(cpu.reg.l == 224);
    CHECK(cpu.pc == 61651);
    CHECK(cpu.sp == 24343);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[32465] == 202);
    REQUIRE(cpu.ram[61650] == 2);
}

TEST_CASE( "02 01AC", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52915;
    cpu.sp = 43105;
    cpu.reg.a = 155;
    cpu.reg.b = 242;
    cpu.reg.c = 26;
    cpu.reg.d = 158;
    cpu.reg.e = 164;
    cpu.reg.f = 80;
    cpu.reg.h = 244;
    cpu.reg.l = 154;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[52915] = 2;
    cpu.ram[61978] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 155);
    CHECK(cpu.reg.b == 242);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 158);
    CHECK(cpu.reg.e == 164);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 244);
    CHECK(cpu.reg.l == 154);
    CHECK(cpu.pc == 52916);
    CHECK(cpu.sp == 43105);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[52915] == 2);
    REQUIRE(cpu.ram[61978] == 155);
}

TEST_CASE( "02 01AD", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10493;
    cpu.sp = 48312;
    cpu.reg.a = 225;
    cpu.reg.b = 85;
    cpu.reg.c = 233;
    cpu.reg.d = 23;
    cpu.reg.e = 17;
    cpu.reg.f = 16;
    cpu.reg.h = 4;
    cpu.reg.l = 139;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[10493] = 2;
    cpu.ram[21993] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 225);
    CHECK(cpu.reg.b == 85);
    CHECK(cpu.reg.c == 233);
    CHECK(cpu.reg.d == 23);
    CHECK(cpu.reg.e == 17);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 4);
    CHECK(cpu.reg.l == 139);
    CHECK(cpu.pc == 10494);
    CHECK(cpu.sp == 48312);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10493] == 2);
    REQUIRE(cpu.ram[21993] == 225);
}

TEST_CASE( "02 01AE", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54494;
    cpu.sp = 7859;
    cpu.reg.a = 199;
    cpu.reg.b = 137;
    cpu.reg.c = 76;
    cpu.reg.d = 219;
    cpu.reg.e = 188;
    cpu.reg.f = 16;
    cpu.reg.h = 182;
    cpu.reg.l = 242;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[35148] = 0;
    cpu.ram[54494] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 199);
    CHECK(cpu.reg.b == 137);
    CHECK(cpu.reg.c == 76);
    CHECK(cpu.reg.d == 219);
    CHECK(cpu.reg.e == 188);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 182);
    CHECK(cpu.reg.l == 242);
    CHECK(cpu.pc == 54495);
    CHECK(cpu.sp == 7859);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35148] == 199);
    REQUIRE(cpu.ram[54494] == 2);
}

TEST_CASE( "02 01AF", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58281;
    cpu.sp = 20539;
    cpu.reg.a = 88;
    cpu.reg.b = 196;
    cpu.reg.c = 140;
    cpu.reg.d = 123;
    cpu.reg.e = 249;
    cpu.reg.f = 160;
    cpu.reg.h = 128;
    cpu.reg.l = 206;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[50316] = 0;
    cpu.ram[58281] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 88);
    CHECK(cpu.reg.b == 196);
    CHECK(cpu.reg.c == 140);
    CHECK(cpu.reg.d == 123);
    CHECK(cpu.reg.e == 249);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 128);
    CHECK(cpu.reg.l == 206);
    CHECK(cpu.pc == 58282);
    CHECK(cpu.sp == 20539);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50316] == 88);
    REQUIRE(cpu.ram[58281] == 2);
}

TEST_CASE( "02 01B0", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21359;
    cpu.sp = 5407;
    cpu.reg.a = 0;
    cpu.reg.b = 115;
    cpu.reg.c = 88;
    cpu.reg.d = 95;
    cpu.reg.e = 43;
    cpu.reg.f = 112;
    cpu.reg.h = 227;
    cpu.reg.l = 93;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[21359] = 2;
    cpu.ram[29528] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 0);
    CHECK(cpu.reg.b == 115);
    CHECK(cpu.reg.c == 88);
    CHECK(cpu.reg.d == 95);
    CHECK(cpu.reg.e == 43);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 93);
    CHECK(cpu.pc == 21360);
    CHECK(cpu.sp == 5407);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21359] == 2);
    REQUIRE(cpu.ram[29528] == 0);
}

TEST_CASE( "02 01B1", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23800;
    cpu.sp = 39847;
    cpu.reg.a = 250;
    cpu.reg.b = 191;
    cpu.reg.c = 23;
    cpu.reg.d = 143;
    cpu.reg.e = 201;
    cpu.reg.f = 192;
    cpu.reg.h = 71;
    cpu.reg.l = 145;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[23800] = 2;
    cpu.ram[48919] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 250);
    CHECK(cpu.reg.b == 191);
    CHECK(cpu.reg.c == 23);
    CHECK(cpu.reg.d == 143);
    CHECK(cpu.reg.e == 201);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 71);
    CHECK(cpu.reg.l == 145);
    CHECK(cpu.pc == 23801);
    CHECK(cpu.sp == 39847);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[23800] == 2);
    REQUIRE(cpu.ram[48919] == 250);
}

TEST_CASE( "02 01B2", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 442;
    cpu.sp = 39424;
    cpu.reg.a = 217;
    cpu.reg.b = 148;
    cpu.reg.c = 168;
    cpu.reg.d = 223;
    cpu.reg.e = 165;
    cpu.reg.f = 64;
    cpu.reg.h = 55;
    cpu.reg.l = 103;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[442] = 2;
    cpu.ram[38056] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 217);
    CHECK(cpu.reg.b == 148);
    CHECK(cpu.reg.c == 168);
    CHECK(cpu.reg.d == 223);
    CHECK(cpu.reg.e == 165);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 55);
    CHECK(cpu.reg.l == 103);
    CHECK(cpu.pc == 443);
    CHECK(cpu.sp == 39424);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[442] == 2);
    REQUIRE(cpu.ram[38056] == 217);
}

TEST_CASE( "02 01B3", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20104;
    cpu.sp = 2100;
    cpu.reg.a = 41;
    cpu.reg.b = 233;
    cpu.reg.c = 17;
    cpu.reg.d = 70;
    cpu.reg.e = 63;
    cpu.reg.f = 112;
    cpu.reg.h = 87;
    cpu.reg.l = 85;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[20104] = 2;
    cpu.ram[59665] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 41);
    CHECK(cpu.reg.b == 233);
    CHECK(cpu.reg.c == 17);
    CHECK(cpu.reg.d == 70);
    CHECK(cpu.reg.e == 63);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 87);
    CHECK(cpu.reg.l == 85);
    CHECK(cpu.pc == 20105);
    CHECK(cpu.sp == 2100);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20104] == 2);
    REQUIRE(cpu.ram[59665] == 41);
}

TEST_CASE( "02 01B4", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22036;
    cpu.sp = 63352;
    cpu.reg.a = 126;
    cpu.reg.b = 143;
    cpu.reg.c = 138;
    cpu.reg.d = 68;
    cpu.reg.e = 9;
    cpu.reg.f = 0;
    cpu.reg.h = 62;
    cpu.reg.l = 162;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[22036] = 2;
    cpu.ram[36746] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 126);
    CHECK(cpu.reg.b == 143);
    CHECK(cpu.reg.c == 138);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 9);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 62);
    CHECK(cpu.reg.l == 162);
    CHECK(cpu.pc == 22037);
    CHECK(cpu.sp == 63352);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22036] == 2);
    REQUIRE(cpu.ram[36746] == 126);
}

TEST_CASE( "02 01B5", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25047;
    cpu.sp = 11201;
    cpu.reg.a = 157;
    cpu.reg.b = 207;
    cpu.reg.c = 95;
    cpu.reg.d = 3;
    cpu.reg.e = 221;
    cpu.reg.f = 224;
    cpu.reg.h = 42;
    cpu.reg.l = 169;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[25047] = 2;
    cpu.ram[53087] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 157);
    CHECK(cpu.reg.b == 207);
    CHECK(cpu.reg.c == 95);
    CHECK(cpu.reg.d == 3);
    CHECK(cpu.reg.e == 221);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 42);
    CHECK(cpu.reg.l == 169);
    CHECK(cpu.pc == 25048);
    CHECK(cpu.sp == 11201);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25047] == 2);
    REQUIRE(cpu.ram[53087] == 157);
}

TEST_CASE( "02 01B6", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62201;
    cpu.sp = 38576;
    cpu.reg.a = 24;
    cpu.reg.b = 11;
    cpu.reg.c = 166;
    cpu.reg.d = 235;
    cpu.reg.e = 234;
    cpu.reg.f = 96;
    cpu.reg.h = 174;
    cpu.reg.l = 95;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[2982] = 0;
    cpu.ram[62201] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 24);
    CHECK(cpu.reg.b == 11);
    CHECK(cpu.reg.c == 166);
    CHECK(cpu.reg.d == 235);
    CHECK(cpu.reg.e == 234);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 174);
    CHECK(cpu.reg.l == 95);
    CHECK(cpu.pc == 62202);
    CHECK(cpu.sp == 38576);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2982] == 24);
    REQUIRE(cpu.ram[62201] == 2);
}

TEST_CASE( "02 01B7", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64111;
    cpu.sp = 20582;
    cpu.reg.a = 154;
    cpu.reg.b = 105;
    cpu.reg.c = 206;
    cpu.reg.d = 36;
    cpu.reg.e = 151;
    cpu.reg.f = 0;
    cpu.reg.h = 102;
    cpu.reg.l = 98;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[27086] = 0;
    cpu.ram[64111] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 154);
    CHECK(cpu.reg.b == 105);
    CHECK(cpu.reg.c == 206);
    CHECK(cpu.reg.d == 36);
    CHECK(cpu.reg.e == 151);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 102);
    CHECK(cpu.reg.l == 98);
    CHECK(cpu.pc == 64112);
    CHECK(cpu.sp == 20582);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27086] == 154);
    REQUIRE(cpu.ram[64111] == 2);
}

TEST_CASE( "02 01B8", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 472;
    cpu.sp = 54557;
    cpu.reg.a = 14;
    cpu.reg.b = 8;
    cpu.reg.c = 231;
    cpu.reg.d = 203;
    cpu.reg.e = 224;
    cpu.reg.f = 48;
    cpu.reg.h = 117;
    cpu.reg.l = 14;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[472] = 2;
    cpu.ram[2279] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 14);
    CHECK(cpu.reg.b == 8);
    CHECK(cpu.reg.c == 231);
    CHECK(cpu.reg.d == 203);
    CHECK(cpu.reg.e == 224);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 117);
    CHECK(cpu.reg.l == 14);
    CHECK(cpu.pc == 473);
    CHECK(cpu.sp == 54557);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[472] == 2);
    REQUIRE(cpu.ram[2279] == 14);
}

TEST_CASE( "02 01B9", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3034;
    cpu.sp = 31081;
    cpu.reg.a = 148;
    cpu.reg.b = 32;
    cpu.reg.c = 57;
    cpu.reg.d = 11;
    cpu.reg.e = 5;
    cpu.reg.f = 160;
    cpu.reg.h = 133;
    cpu.reg.l = 9;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[3034] = 2;
    cpu.ram[8249] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 148);
    CHECK(cpu.reg.b == 32);
    CHECK(cpu.reg.c == 57);
    CHECK(cpu.reg.d == 11);
    CHECK(cpu.reg.e == 5);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 133);
    CHECK(cpu.reg.l == 9);
    CHECK(cpu.pc == 3035);
    CHECK(cpu.sp == 31081);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3034] == 2);
    REQUIRE(cpu.ram[8249] == 148);
}

TEST_CASE( "02 01BA", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40386;
    cpu.sp = 13904;
    cpu.reg.a = 253;
    cpu.reg.b = 188;
    cpu.reg.c = 88;
    cpu.reg.d = 255;
    cpu.reg.e = 127;
    cpu.reg.f = 192;
    cpu.reg.h = 101;
    cpu.reg.l = 177;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[40386] = 2;
    cpu.ram[48216] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 253);
    CHECK(cpu.reg.b == 188);
    CHECK(cpu.reg.c == 88);
    CHECK(cpu.reg.d == 255);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 101);
    CHECK(cpu.reg.l == 177);
    CHECK(cpu.pc == 40387);
    CHECK(cpu.sp == 13904);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40386] == 2);
    REQUIRE(cpu.ram[48216] == 253);
}

TEST_CASE( "02 01BB", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44988;
    cpu.sp = 14516;
    cpu.reg.a = 238;
    cpu.reg.b = 213;
    cpu.reg.c = 163;
    cpu.reg.d = 9;
    cpu.reg.e = 87;
    cpu.reg.f = 144;
    cpu.reg.h = 225;
    cpu.reg.l = 207;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[44988] = 2;
    cpu.ram[54691] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 238);
    CHECK(cpu.reg.b == 213);
    CHECK(cpu.reg.c == 163);
    CHECK(cpu.reg.d == 9);
    CHECK(cpu.reg.e == 87);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 225);
    CHECK(cpu.reg.l == 207);
    CHECK(cpu.pc == 44989);
    CHECK(cpu.sp == 14516);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44988] == 2);
    REQUIRE(cpu.ram[54691] == 238);
}

TEST_CASE( "02 01BC", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38735;
    cpu.sp = 23640;
    cpu.reg.a = 174;
    cpu.reg.b = 90;
    cpu.reg.c = 168;
    cpu.reg.d = 147;
    cpu.reg.e = 116;
    cpu.reg.f = 208;
    cpu.reg.h = 3;
    cpu.reg.l = 72;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[23208] = 0;
    cpu.ram[38735] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 174);
    CHECK(cpu.reg.b == 90);
    CHECK(cpu.reg.c == 168);
    CHECK(cpu.reg.d == 147);
    CHECK(cpu.reg.e == 116);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 3);
    CHECK(cpu.reg.l == 72);
    CHECK(cpu.pc == 38736);
    CHECK(cpu.sp == 23640);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[23208] == 174);
    REQUIRE(cpu.ram[38735] == 2);
}

TEST_CASE( "02 01BD", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4517;
    cpu.sp = 41175;
    cpu.reg.a = 58;
    cpu.reg.b = 136;
    cpu.reg.c = 94;
    cpu.reg.d = 126;
    cpu.reg.e = 83;
    cpu.reg.f = 32;
    cpu.reg.h = 26;
    cpu.reg.l = 125;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[4517] = 2;
    cpu.ram[34910] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 58);
    CHECK(cpu.reg.b == 136);
    CHECK(cpu.reg.c == 94);
    CHECK(cpu.reg.d == 126);
    CHECK(cpu.reg.e == 83);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 26);
    CHECK(cpu.reg.l == 125);
    CHECK(cpu.pc == 4518);
    CHECK(cpu.sp == 41175);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4517] == 2);
    REQUIRE(cpu.ram[34910] == 58);
}

TEST_CASE( "02 01BE", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9816;
    cpu.sp = 64007;
    cpu.reg.a = 225;
    cpu.reg.b = 15;
    cpu.reg.c = 225;
    cpu.reg.d = 243;
    cpu.reg.e = 40;
    cpu.reg.f = 240;
    cpu.reg.h = 116;
    cpu.reg.l = 2;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[4065] = 0;
    cpu.ram[9816] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 225);
    CHECK(cpu.reg.b == 15);
    CHECK(cpu.reg.c == 225);
    CHECK(cpu.reg.d == 243);
    CHECK(cpu.reg.e == 40);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 116);
    CHECK(cpu.reg.l == 2);
    CHECK(cpu.pc == 9817);
    CHECK(cpu.sp == 64007);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4065] == 225);
    REQUIRE(cpu.ram[9816] == 2);
}

TEST_CASE( "02 01BF", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43484;
    cpu.sp = 27451;
    cpu.reg.a = 142;
    cpu.reg.b = 104;
    cpu.reg.c = 201;
    cpu.reg.d = 236;
    cpu.reg.e = 168;
    cpu.reg.f = 0;
    cpu.reg.h = 224;
    cpu.reg.l = 80;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[26825] = 0;
    cpu.ram[43484] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 142);
    CHECK(cpu.reg.b == 104);
    CHECK(cpu.reg.c == 201);
    CHECK(cpu.reg.d == 236);
    CHECK(cpu.reg.e == 168);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 224);
    CHECK(cpu.reg.l == 80);
    CHECK(cpu.pc == 43485);
    CHECK(cpu.sp == 27451);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26825] == 142);
    REQUIRE(cpu.ram[43484] == 2);
}

TEST_CASE( "02 01C0", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16636;
    cpu.sp = 57617;
    cpu.reg.a = 106;
    cpu.reg.b = 174;
    cpu.reg.c = 239;
    cpu.reg.d = 25;
    cpu.reg.e = 74;
    cpu.reg.f = 240;
    cpu.reg.h = 156;
    cpu.reg.l = 93;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[16636] = 2;
    cpu.ram[44783] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 106);
    CHECK(cpu.reg.b == 174);
    CHECK(cpu.reg.c == 239);
    CHECK(cpu.reg.d == 25);
    CHECK(cpu.reg.e == 74);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 156);
    CHECK(cpu.reg.l == 93);
    CHECK(cpu.pc == 16637);
    CHECK(cpu.sp == 57617);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16636] == 2);
    REQUIRE(cpu.ram[44783] == 106);
}

TEST_CASE( "02 01C1", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52415;
    cpu.sp = 4251;
    cpu.reg.a = 184;
    cpu.reg.b = 50;
    cpu.reg.c = 213;
    cpu.reg.d = 58;
    cpu.reg.e = 59;
    cpu.reg.f = 112;
    cpu.reg.h = 104;
    cpu.reg.l = 224;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[13013] = 0;
    cpu.ram[52415] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 184);
    CHECK(cpu.reg.b == 50);
    CHECK(cpu.reg.c == 213);
    CHECK(cpu.reg.d == 58);
    CHECK(cpu.reg.e == 59);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 104);
    CHECK(cpu.reg.l == 224);
    CHECK(cpu.pc == 52416);
    CHECK(cpu.sp == 4251);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13013] == 184);
    REQUIRE(cpu.ram[52415] == 2);
}

TEST_CASE( "02 01C2", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58026;
    cpu.sp = 49165;
    cpu.reg.a = 137;
    cpu.reg.b = 130;
    cpu.reg.c = 61;
    cpu.reg.d = 141;
    cpu.reg.e = 245;
    cpu.reg.f = 48;
    cpu.reg.h = 245;
    cpu.reg.l = 147;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[33341] = 0;
    cpu.ram[58026] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 137);
    CHECK(cpu.reg.b == 130);
    CHECK(cpu.reg.c == 61);
    CHECK(cpu.reg.d == 141);
    CHECK(cpu.reg.e == 245);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 245);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 58027);
    CHECK(cpu.sp == 49165);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33341] == 137);
    REQUIRE(cpu.ram[58026] == 2);
}

TEST_CASE( "02 01C3", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57270;
    cpu.sp = 60781;
    cpu.reg.a = 102;
    cpu.reg.b = 110;
    cpu.reg.c = 18;
    cpu.reg.d = 231;
    cpu.reg.e = 86;
    cpu.reg.f = 144;
    cpu.reg.h = 124;
    cpu.reg.l = 75;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[28178] = 0;
    cpu.ram[57270] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 102);
    CHECK(cpu.reg.b == 110);
    CHECK(cpu.reg.c == 18);
    CHECK(cpu.reg.d == 231);
    CHECK(cpu.reg.e == 86);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 124);
    CHECK(cpu.reg.l == 75);
    CHECK(cpu.pc == 57271);
    CHECK(cpu.sp == 60781);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28178] == 102);
    REQUIRE(cpu.ram[57270] == 2);
}

TEST_CASE( "02 01C4", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2131;
    cpu.sp = 22860;
    cpu.reg.a = 142;
    cpu.reg.b = 190;
    cpu.reg.c = 214;
    cpu.reg.d = 196;
    cpu.reg.e = 17;
    cpu.reg.f = 64;
    cpu.reg.h = 145;
    cpu.reg.l = 36;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[2131] = 2;
    cpu.ram[48854] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 142);
    CHECK(cpu.reg.b == 190);
    CHECK(cpu.reg.c == 214);
    CHECK(cpu.reg.d == 196);
    CHECK(cpu.reg.e == 17);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 145);
    CHECK(cpu.reg.l == 36);
    CHECK(cpu.pc == 2132);
    CHECK(cpu.sp == 22860);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2131] == 2);
    REQUIRE(cpu.ram[48854] == 142);
}

TEST_CASE( "02 01C5", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17160;
    cpu.sp = 39083;
    cpu.reg.a = 239;
    cpu.reg.b = 211;
    cpu.reg.c = 86;
    cpu.reg.d = 221;
    cpu.reg.e = 168;
    cpu.reg.f = 32;
    cpu.reg.h = 249;
    cpu.reg.l = 103;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[17160] = 2;
    cpu.ram[54102] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 239);
    CHECK(cpu.reg.b == 211);
    CHECK(cpu.reg.c == 86);
    CHECK(cpu.reg.d == 221);
    CHECK(cpu.reg.e == 168);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 249);
    CHECK(cpu.reg.l == 103);
    CHECK(cpu.pc == 17161);
    CHECK(cpu.sp == 39083);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17160] == 2);
    REQUIRE(cpu.ram[54102] == 239);
}

TEST_CASE( "02 01C6", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62729;
    cpu.sp = 46106;
    cpu.reg.a = 26;
    cpu.reg.b = 103;
    cpu.reg.c = 231;
    cpu.reg.d = 247;
    cpu.reg.e = 87;
    cpu.reg.f = 208;
    cpu.reg.h = 192;
    cpu.reg.l = 236;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26599] = 0;
    cpu.ram[62729] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 26);
    CHECK(cpu.reg.b == 103);
    CHECK(cpu.reg.c == 231);
    CHECK(cpu.reg.d == 247);
    CHECK(cpu.reg.e == 87);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 192);
    CHECK(cpu.reg.l == 236);
    CHECK(cpu.pc == 62730);
    CHECK(cpu.sp == 46106);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26599] == 26);
    REQUIRE(cpu.ram[62729] == 2);
}

TEST_CASE( "02 01C7", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30239;
    cpu.sp = 54976;
    cpu.reg.a = 107;
    cpu.reg.b = 246;
    cpu.reg.c = 4;
    cpu.reg.d = 9;
    cpu.reg.e = 43;
    cpu.reg.f = 224;
    cpu.reg.h = 235;
    cpu.reg.l = 220;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[30239] = 2;
    cpu.ram[62980] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 107);
    CHECK(cpu.reg.b == 246);
    CHECK(cpu.reg.c == 4);
    CHECK(cpu.reg.d == 9);
    CHECK(cpu.reg.e == 43);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 235);
    CHECK(cpu.reg.l == 220);
    CHECK(cpu.pc == 30240);
    CHECK(cpu.sp == 54976);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30239] == 2);
    REQUIRE(cpu.ram[62980] == 107);
}

TEST_CASE( "02 01C8", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54736;
    cpu.sp = 1225;
    cpu.reg.a = 180;
    cpu.reg.b = 15;
    cpu.reg.c = 194;
    cpu.reg.d = 51;
    cpu.reg.e = 13;
    cpu.reg.f = 0;
    cpu.reg.h = 74;
    cpu.reg.l = 33;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[4034] = 0;
    cpu.ram[54736] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 180);
    CHECK(cpu.reg.b == 15);
    CHECK(cpu.reg.c == 194);
    CHECK(cpu.reg.d == 51);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 74);
    CHECK(cpu.reg.l == 33);
    CHECK(cpu.pc == 54737);
    CHECK(cpu.sp == 1225);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4034] == 180);
    REQUIRE(cpu.ram[54736] == 2);
}

TEST_CASE( "02 01C9", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46515;
    cpu.sp = 65426;
    cpu.reg.a = 215;
    cpu.reg.b = 25;
    cpu.reg.c = 127;
    cpu.reg.d = 137;
    cpu.reg.e = 238;
    cpu.reg.f = 144;
    cpu.reg.h = 127;
    cpu.reg.l = 105;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[6527] = 0;
    cpu.ram[46515] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 215);
    CHECK(cpu.reg.b == 25);
    CHECK(cpu.reg.c == 127);
    CHECK(cpu.reg.d == 137);
    CHECK(cpu.reg.e == 238);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 127);
    CHECK(cpu.reg.l == 105);
    CHECK(cpu.pc == 46516);
    CHECK(cpu.sp == 65426);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6527] == 215);
    REQUIRE(cpu.ram[46515] == 2);
}

TEST_CASE( "02 01CA", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28670;
    cpu.sp = 21317;
    cpu.reg.a = 206;
    cpu.reg.b = 225;
    cpu.reg.c = 239;
    cpu.reg.d = 254;
    cpu.reg.e = 168;
    cpu.reg.f = 16;
    cpu.reg.h = 193;
    cpu.reg.l = 137;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[28670] = 2;
    cpu.ram[57839] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 206);
    CHECK(cpu.reg.b == 225);
    CHECK(cpu.reg.c == 239);
    CHECK(cpu.reg.d == 254);
    CHECK(cpu.reg.e == 168);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 193);
    CHECK(cpu.reg.l == 137);
    CHECK(cpu.pc == 28671);
    CHECK(cpu.sp == 21317);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28670] == 2);
    REQUIRE(cpu.ram[57839] == 206);
}

TEST_CASE( "02 01CB", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32880;
    cpu.sp = 36603;
    cpu.reg.a = 114;
    cpu.reg.b = 143;
    cpu.reg.c = 144;
    cpu.reg.d = 139;
    cpu.reg.e = 124;
    cpu.reg.f = 176;
    cpu.reg.h = 214;
    cpu.reg.l = 176;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[32880] = 2;
    cpu.ram[36752] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 114);
    CHECK(cpu.reg.b == 143);
    CHECK(cpu.reg.c == 144);
    CHECK(cpu.reg.d == 139);
    CHECK(cpu.reg.e == 124);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 214);
    CHECK(cpu.reg.l == 176);
    CHECK(cpu.pc == 32881);
    CHECK(cpu.sp == 36603);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[32880] == 2);
    REQUIRE(cpu.ram[36752] == 114);
}

TEST_CASE( "02 01CC", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12992;
    cpu.sp = 37632;
    cpu.reg.a = 23;
    cpu.reg.b = 97;
    cpu.reg.c = 213;
    cpu.reg.d = 202;
    cpu.reg.e = 11;
    cpu.reg.f = 176;
    cpu.reg.h = 167;
    cpu.reg.l = 227;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[12992] = 2;
    cpu.ram[25045] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 23);
    CHECK(cpu.reg.b == 97);
    CHECK(cpu.reg.c == 213);
    CHECK(cpu.reg.d == 202);
    CHECK(cpu.reg.e == 11);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 167);
    CHECK(cpu.reg.l == 227);
    CHECK(cpu.pc == 12993);
    CHECK(cpu.sp == 37632);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12992] == 2);
    REQUIRE(cpu.ram[25045] == 23);
}

TEST_CASE( "02 01CD", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60073;
    cpu.sp = 43087;
    cpu.reg.a = 121;
    cpu.reg.b = 213;
    cpu.reg.c = 243;
    cpu.reg.d = 175;
    cpu.reg.e = 211;
    cpu.reg.f = 144;
    cpu.reg.h = 222;
    cpu.reg.l = 226;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[54771] = 0;
    cpu.ram[60073] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 121);
    CHECK(cpu.reg.b == 213);
    CHECK(cpu.reg.c == 243);
    CHECK(cpu.reg.d == 175);
    CHECK(cpu.reg.e == 211);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 222);
    CHECK(cpu.reg.l == 226);
    CHECK(cpu.pc == 60074);
    CHECK(cpu.sp == 43087);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54771] == 121);
    REQUIRE(cpu.ram[60073] == 2);
}

TEST_CASE( "02 01CE", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11186;
    cpu.sp = 22373;
    cpu.reg.a = 71;
    cpu.reg.b = 58;
    cpu.reg.c = 128;
    cpu.reg.d = 100;
    cpu.reg.e = 53;
    cpu.reg.f = 160;
    cpu.reg.h = 242;
    cpu.reg.l = 10;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[11186] = 2;
    cpu.ram[14976] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 71);
    CHECK(cpu.reg.b == 58);
    CHECK(cpu.reg.c == 128);
    CHECK(cpu.reg.d == 100);
    CHECK(cpu.reg.e == 53);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 10);
    CHECK(cpu.pc == 11187);
    CHECK(cpu.sp == 22373);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11186] == 2);
    REQUIRE(cpu.ram[14976] == 71);
}

TEST_CASE( "02 01CF", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28050;
    cpu.sp = 14401;
    cpu.reg.a = 35;
    cpu.reg.b = 210;
    cpu.reg.c = 209;
    cpu.reg.d = 245;
    cpu.reg.e = 172;
    cpu.reg.f = 240;
    cpu.reg.h = 1;
    cpu.reg.l = 76;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[28050] = 2;
    cpu.ram[53969] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 35);
    CHECK(cpu.reg.b == 210);
    CHECK(cpu.reg.c == 209);
    CHECK(cpu.reg.d == 245);
    CHECK(cpu.reg.e == 172);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 1);
    CHECK(cpu.reg.l == 76);
    CHECK(cpu.pc == 28051);
    CHECK(cpu.sp == 14401);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[28050] == 2);
    REQUIRE(cpu.ram[53969] == 35);
}

TEST_CASE( "02 01D0", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25834;
    cpu.sp = 27784;
    cpu.reg.a = 48;
    cpu.reg.b = 88;
    cpu.reg.c = 40;
    cpu.reg.d = 121;
    cpu.reg.e = 35;
    cpu.reg.f = 208;
    cpu.reg.h = 83;
    cpu.reg.l = 30;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[22568] = 0;
    cpu.ram[25834] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 48);
    CHECK(cpu.reg.b == 88);
    CHECK(cpu.reg.c == 40);
    CHECK(cpu.reg.d == 121);
    CHECK(cpu.reg.e == 35);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 83);
    CHECK(cpu.reg.l == 30);
    CHECK(cpu.pc == 25835);
    CHECK(cpu.sp == 27784);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22568] == 48);
    REQUIRE(cpu.ram[25834] == 2);
}

TEST_CASE( "02 01D1", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63290;
    cpu.sp = 13279;
    cpu.reg.a = 118;
    cpu.reg.b = 16;
    cpu.reg.c = 160;
    cpu.reg.d = 134;
    cpu.reg.e = 192;
    cpu.reg.f = 64;
    cpu.reg.h = 235;
    cpu.reg.l = 34;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[4256] = 0;
    cpu.ram[63290] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 118);
    CHECK(cpu.reg.b == 16);
    CHECK(cpu.reg.c == 160);
    CHECK(cpu.reg.d == 134);
    CHECK(cpu.reg.e == 192);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 235);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 63291);
    CHECK(cpu.sp == 13279);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4256] == 118);
    REQUIRE(cpu.ram[63290] == 2);
}

TEST_CASE( "02 01D2", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2510;
    cpu.sp = 43110;
    cpu.reg.a = 227;
    cpu.reg.b = 46;
    cpu.reg.c = 54;
    cpu.reg.d = 72;
    cpu.reg.e = 16;
    cpu.reg.f = 160;
    cpu.reg.h = 61;
    cpu.reg.l = 86;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[2510] = 2;
    cpu.ram[11830] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 227);
    CHECK(cpu.reg.b == 46);
    CHECK(cpu.reg.c == 54);
    CHECK(cpu.reg.d == 72);
    CHECK(cpu.reg.e == 16);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 61);
    CHECK(cpu.reg.l == 86);
    CHECK(cpu.pc == 2511);
    CHECK(cpu.sp == 43110);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2510] == 2);
    REQUIRE(cpu.ram[11830] == 227);
}

TEST_CASE( "02 01D3", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14551;
    cpu.sp = 48643;
    cpu.reg.a = 44;
    cpu.reg.b = 109;
    cpu.reg.c = 118;
    cpu.reg.d = 94;
    cpu.reg.e = 170;
    cpu.reg.f = 96;
    cpu.reg.h = 55;
    cpu.reg.l = 75;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[14551] = 2;
    cpu.ram[28022] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 44);
    CHECK(cpu.reg.b == 109);
    CHECK(cpu.reg.c == 118);
    CHECK(cpu.reg.d == 94);
    CHECK(cpu.reg.e == 170);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 55);
    CHECK(cpu.reg.l == 75);
    CHECK(cpu.pc == 14552);
    CHECK(cpu.sp == 48643);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14551] == 2);
    REQUIRE(cpu.ram[28022] == 44);
}

TEST_CASE( "02 01D4", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3324;
    cpu.sp = 18018;
    cpu.reg.a = 239;
    cpu.reg.b = 47;
    cpu.reg.c = 76;
    cpu.reg.d = 159;
    cpu.reg.e = 163;
    cpu.reg.f = 112;
    cpu.reg.h = 127;
    cpu.reg.l = 54;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[3324] = 2;
    cpu.ram[12108] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 239);
    CHECK(cpu.reg.b == 47);
    CHECK(cpu.reg.c == 76);
    CHECK(cpu.reg.d == 159);
    CHECK(cpu.reg.e == 163);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 127);
    CHECK(cpu.reg.l == 54);
    CHECK(cpu.pc == 3325);
    CHECK(cpu.sp == 18018);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3324] == 2);
    REQUIRE(cpu.ram[12108] == 239);
}

TEST_CASE( "02 01D5", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 920;
    cpu.sp = 6805;
    cpu.reg.a = 236;
    cpu.reg.b = 2;
    cpu.reg.c = 160;
    cpu.reg.d = 95;
    cpu.reg.e = 227;
    cpu.reg.f = 224;
    cpu.reg.h = 17;
    cpu.reg.l = 180;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[672] = 0;
    cpu.ram[920] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 236);
    CHECK(cpu.reg.b == 2);
    CHECK(cpu.reg.c == 160);
    CHECK(cpu.reg.d == 95);
    CHECK(cpu.reg.e == 227);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 180);
    CHECK(cpu.pc == 921);
    CHECK(cpu.sp == 6805);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[672] == 236);
    REQUIRE(cpu.ram[920] == 2);
}

TEST_CASE( "02 01D6", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23635;
    cpu.sp = 22860;
    cpu.reg.a = 152;
    cpu.reg.b = 180;
    cpu.reg.c = 188;
    cpu.reg.d = 154;
    cpu.reg.e = 88;
    cpu.reg.f = 240;
    cpu.reg.h = 210;
    cpu.reg.l = 151;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[23635] = 2;
    cpu.ram[46268] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 152);
    CHECK(cpu.reg.b == 180);
    CHECK(cpu.reg.c == 188);
    CHECK(cpu.reg.d == 154);
    CHECK(cpu.reg.e == 88);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 210);
    CHECK(cpu.reg.l == 151);
    CHECK(cpu.pc == 23636);
    CHECK(cpu.sp == 22860);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23635] == 2);
    REQUIRE(cpu.ram[46268] == 152);
}

TEST_CASE( "02 01D7", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56965;
    cpu.sp = 64544;
    cpu.reg.a = 114;
    cpu.reg.b = 230;
    cpu.reg.c = 50;
    cpu.reg.d = 142;
    cpu.reg.e = 119;
    cpu.reg.f = 192;
    cpu.reg.h = 34;
    cpu.reg.l = 34;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[56965] = 2;
    cpu.ram[58930] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 114);
    CHECK(cpu.reg.b == 230);
    CHECK(cpu.reg.c == 50);
    CHECK(cpu.reg.d == 142);
    CHECK(cpu.reg.e == 119);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 34);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 56966);
    CHECK(cpu.sp == 64544);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56965] == 2);
    REQUIRE(cpu.ram[58930] == 114);
}

TEST_CASE( "02 01D8", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38218;
    cpu.sp = 34280;
    cpu.reg.a = 190;
    cpu.reg.b = 179;
    cpu.reg.c = 166;
    cpu.reg.d = 66;
    cpu.reg.e = 130;
    cpu.reg.f = 32;
    cpu.reg.h = 190;
    cpu.reg.l = 243;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[38218] = 2;
    cpu.ram[45990] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 190);
    CHECK(cpu.reg.b == 179);
    CHECK(cpu.reg.c == 166);
    CHECK(cpu.reg.d == 66);
    CHECK(cpu.reg.e == 130);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 190);
    CHECK(cpu.reg.l == 243);
    CHECK(cpu.pc == 38219);
    CHECK(cpu.sp == 34280);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38218] == 2);
    REQUIRE(cpu.ram[45990] == 190);
}

TEST_CASE( "02 01D9", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13569;
    cpu.sp = 43105;
    cpu.reg.a = 177;
    cpu.reg.b = 97;
    cpu.reg.c = 92;
    cpu.reg.d = 113;
    cpu.reg.e = 203;
    cpu.reg.f = 208;
    cpu.reg.h = 212;
    cpu.reg.l = 109;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[13569] = 2;
    cpu.ram[24924] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 177);
    CHECK(cpu.reg.b == 97);
    CHECK(cpu.reg.c == 92);
    CHECK(cpu.reg.d == 113);
    CHECK(cpu.reg.e == 203);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 212);
    CHECK(cpu.reg.l == 109);
    CHECK(cpu.pc == 13570);
    CHECK(cpu.sp == 43105);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13569] == 2);
    REQUIRE(cpu.ram[24924] == 177);
}

TEST_CASE( "02 01DA", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1484;
    cpu.sp = 30010;
    cpu.reg.a = 228;
    cpu.reg.b = 56;
    cpu.reg.c = 107;
    cpu.reg.d = 228;
    cpu.reg.e = 86;
    cpu.reg.f = 128;
    cpu.reg.h = 124;
    cpu.reg.l = 14;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1484] = 2;
    cpu.ram[14443] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 228);
    CHECK(cpu.reg.b == 56);
    CHECK(cpu.reg.c == 107);
    CHECK(cpu.reg.d == 228);
    CHECK(cpu.reg.e == 86);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 124);
    CHECK(cpu.reg.l == 14);
    CHECK(cpu.pc == 1485);
    CHECK(cpu.sp == 30010);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1484] == 2);
    REQUIRE(cpu.ram[14443] == 228);
}

TEST_CASE( "02 01DB", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44359;
    cpu.sp = 4425;
    cpu.reg.a = 46;
    cpu.reg.b = 6;
    cpu.reg.c = 253;
    cpu.reg.d = 22;
    cpu.reg.e = 224;
    cpu.reg.f = 192;
    cpu.reg.h = 52;
    cpu.reg.l = 46;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[1789] = 0;
    cpu.ram[44359] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 46);
    CHECK(cpu.reg.b == 6);
    CHECK(cpu.reg.c == 253);
    CHECK(cpu.reg.d == 22);
    CHECK(cpu.reg.e == 224);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 52);
    CHECK(cpu.reg.l == 46);
    CHECK(cpu.pc == 44360);
    CHECK(cpu.sp == 4425);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1789] == 46);
    REQUIRE(cpu.ram[44359] == 2);
}

TEST_CASE( "02 01DC", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14278;
    cpu.sp = 29653;
    cpu.reg.a = 243;
    cpu.reg.b = 25;
    cpu.reg.c = 180;
    cpu.reg.d = 61;
    cpu.reg.e = 49;
    cpu.reg.f = 160;
    cpu.reg.h = 6;
    cpu.reg.l = 198;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[6580] = 0;
    cpu.ram[14278] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 243);
    CHECK(cpu.reg.b == 25);
    CHECK(cpu.reg.c == 180);
    CHECK(cpu.reg.d == 61);
    CHECK(cpu.reg.e == 49);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 6);
    CHECK(cpu.reg.l == 198);
    CHECK(cpu.pc == 14279);
    CHECK(cpu.sp == 29653);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6580] == 243);
    REQUIRE(cpu.ram[14278] == 2);
}

TEST_CASE( "02 01DD", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37435;
    cpu.sp = 39616;
    cpu.reg.a = 94;
    cpu.reg.b = 248;
    cpu.reg.c = 147;
    cpu.reg.d = 233;
    cpu.reg.e = 49;
    cpu.reg.f = 192;
    cpu.reg.h = 235;
    cpu.reg.l = 91;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[37435] = 2;
    cpu.ram[63635] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 94);
    CHECK(cpu.reg.b == 248);
    CHECK(cpu.reg.c == 147);
    CHECK(cpu.reg.d == 233);
    CHECK(cpu.reg.e == 49);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 235);
    CHECK(cpu.reg.l == 91);
    CHECK(cpu.pc == 37436);
    CHECK(cpu.sp == 39616);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[37435] == 2);
    REQUIRE(cpu.ram[63635] == 94);
}

TEST_CASE( "02 01DE", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 406;
    cpu.sp = 51934;
    cpu.reg.a = 8;
    cpu.reg.b = 66;
    cpu.reg.c = 234;
    cpu.reg.d = 230;
    cpu.reg.e = 95;
    cpu.reg.f = 80;
    cpu.reg.h = 135;
    cpu.reg.l = 112;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[406] = 2;
    cpu.ram[17130] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 8);
    CHECK(cpu.reg.b == 66);
    CHECK(cpu.reg.c == 234);
    CHECK(cpu.reg.d == 230);
    CHECK(cpu.reg.e == 95);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 135);
    CHECK(cpu.reg.l == 112);
    CHECK(cpu.pc == 407);
    CHECK(cpu.sp == 51934);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[406] == 2);
    REQUIRE(cpu.ram[17130] == 8);
}

TEST_CASE( "02 01DF", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27813;
    cpu.sp = 25278;
    cpu.reg.a = 244;
    cpu.reg.b = 137;
    cpu.reg.c = 3;
    cpu.reg.d = 51;
    cpu.reg.e = 31;
    cpu.reg.f = 96;
    cpu.reg.h = 145;
    cpu.reg.l = 173;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[27813] = 2;
    cpu.ram[35075] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 244);
    CHECK(cpu.reg.b == 137);
    CHECK(cpu.reg.c == 3);
    CHECK(cpu.reg.d == 51);
    CHECK(cpu.reg.e == 31);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 145);
    CHECK(cpu.reg.l == 173);
    CHECK(cpu.pc == 27814);
    CHECK(cpu.sp == 25278);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27813] == 2);
    REQUIRE(cpu.ram[35075] == 244);
}

TEST_CASE( "02 01E0", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17566;
    cpu.sp = 47153;
    cpu.reg.a = 231;
    cpu.reg.b = 60;
    cpu.reg.c = 9;
    cpu.reg.d = 129;
    cpu.reg.e = 249;
    cpu.reg.f = 64;
    cpu.reg.h = 210;
    cpu.reg.l = 0;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[15369] = 0;
    cpu.ram[17566] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 231);
    CHECK(cpu.reg.b == 60);
    CHECK(cpu.reg.c == 9);
    CHECK(cpu.reg.d == 129);
    CHECK(cpu.reg.e == 249);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 210);
    CHECK(cpu.reg.l == 0);
    CHECK(cpu.pc == 17567);
    CHECK(cpu.sp == 47153);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15369] == 231);
    REQUIRE(cpu.ram[17566] == 2);
}

TEST_CASE( "02 01E1", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20360;
    cpu.sp = 29679;
    cpu.reg.a = 38;
    cpu.reg.b = 130;
    cpu.reg.c = 110;
    cpu.reg.d = 8;
    cpu.reg.e = 144;
    cpu.reg.f = 112;
    cpu.reg.h = 189;
    cpu.reg.l = 130;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[20360] = 2;
    cpu.ram[33390] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 38);
    CHECK(cpu.reg.b == 130);
    CHECK(cpu.reg.c == 110);
    CHECK(cpu.reg.d == 8);
    CHECK(cpu.reg.e == 144);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 189);
    CHECK(cpu.reg.l == 130);
    CHECK(cpu.pc == 20361);
    CHECK(cpu.sp == 29679);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20360] == 2);
    REQUIRE(cpu.ram[33390] == 38);
}

TEST_CASE( "02 01E2", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38009;
    cpu.sp = 38879;
    cpu.reg.a = 73;
    cpu.reg.b = 164;
    cpu.reg.c = 59;
    cpu.reg.d = 141;
    cpu.reg.e = 85;
    cpu.reg.f = 176;
    cpu.reg.h = 84;
    cpu.reg.l = 201;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[38009] = 2;
    cpu.ram[42043] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 73);
    CHECK(cpu.reg.b == 164);
    CHECK(cpu.reg.c == 59);
    CHECK(cpu.reg.d == 141);
    CHECK(cpu.reg.e == 85);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 84);
    CHECK(cpu.reg.l == 201);
    CHECK(cpu.pc == 38010);
    CHECK(cpu.sp == 38879);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38009] == 2);
    REQUIRE(cpu.ram[42043] == 73);
}

TEST_CASE( "02 01E3", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1720;
    cpu.sp = 29590;
    cpu.reg.a = 241;
    cpu.reg.b = 87;
    cpu.reg.c = 117;
    cpu.reg.d = 238;
    cpu.reg.e = 253;
    cpu.reg.f = 112;
    cpu.reg.h = 173;
    cpu.reg.l = 87;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1720] = 2;
    cpu.ram[22389] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 241);
    CHECK(cpu.reg.b == 87);
    CHECK(cpu.reg.c == 117);
    CHECK(cpu.reg.d == 238);
    CHECK(cpu.reg.e == 253);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 173);
    CHECK(cpu.reg.l == 87);
    CHECK(cpu.pc == 1721);
    CHECK(cpu.sp == 29590);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1720] == 2);
    REQUIRE(cpu.ram[22389] == 241);
}

TEST_CASE( "02 01E4", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12693;
    cpu.sp = 60859;
    cpu.reg.a = 41;
    cpu.reg.b = 229;
    cpu.reg.c = 166;
    cpu.reg.d = 71;
    cpu.reg.e = 35;
    cpu.reg.f = 160;
    cpu.reg.h = 51;
    cpu.reg.l = 58;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[12693] = 2;
    cpu.ram[58790] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 41);
    CHECK(cpu.reg.b == 229);
    CHECK(cpu.reg.c == 166);
    CHECK(cpu.reg.d == 71);
    CHECK(cpu.reg.e == 35);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 51);
    CHECK(cpu.reg.l == 58);
    CHECK(cpu.pc == 12694);
    CHECK(cpu.sp == 60859);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12693] == 2);
    REQUIRE(cpu.ram[58790] == 41);
}

TEST_CASE( "02 01E5", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55008;
    cpu.sp = 2717;
    cpu.reg.a = 83;
    cpu.reg.b = 79;
    cpu.reg.c = 194;
    cpu.reg.d = 219;
    cpu.reg.e = 189;
    cpu.reg.f = 64;
    cpu.reg.h = 237;
    cpu.reg.l = 129;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[20418] = 0;
    cpu.ram[55008] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 83);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 194);
    CHECK(cpu.reg.d == 219);
    CHECK(cpu.reg.e == 189);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 237);
    CHECK(cpu.reg.l == 129);
    CHECK(cpu.pc == 55009);
    CHECK(cpu.sp == 2717);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20418] == 83);
    REQUIRE(cpu.ram[55008] == 2);
}

TEST_CASE( "02 01E6", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14985;
    cpu.sp = 35860;
    cpu.reg.a = 205;
    cpu.reg.b = 131;
    cpu.reg.c = 72;
    cpu.reg.d = 32;
    cpu.reg.e = 246;
    cpu.reg.f = 224;
    cpu.reg.h = 99;
    cpu.reg.l = 60;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[14985] = 2;
    cpu.ram[33608] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 205);
    CHECK(cpu.reg.b == 131);
    CHECK(cpu.reg.c == 72);
    CHECK(cpu.reg.d == 32);
    CHECK(cpu.reg.e == 246);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 99);
    CHECK(cpu.reg.l == 60);
    CHECK(cpu.pc == 14986);
    CHECK(cpu.sp == 35860);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14985] == 2);
    REQUIRE(cpu.ram[33608] == 205);
}

TEST_CASE( "02 01E7", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36537;
    cpu.sp = 26828;
    cpu.reg.a = 162;
    cpu.reg.b = 40;
    cpu.reg.c = 231;
    cpu.reg.d = 102;
    cpu.reg.e = 95;
    cpu.reg.f = 0;
    cpu.reg.h = 27;
    cpu.reg.l = 254;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[10471] = 0;
    cpu.ram[36537] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 162);
    CHECK(cpu.reg.b == 40);
    CHECK(cpu.reg.c == 231);
    CHECK(cpu.reg.d == 102);
    CHECK(cpu.reg.e == 95);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 27);
    CHECK(cpu.reg.l == 254);
    CHECK(cpu.pc == 36538);
    CHECK(cpu.sp == 26828);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10471] == 162);
    REQUIRE(cpu.ram[36537] == 2);
}

TEST_CASE( "02 01E8", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34126;
    cpu.sp = 60794;
    cpu.reg.a = 66;
    cpu.reg.b = 145;
    cpu.reg.c = 194;
    cpu.reg.d = 131;
    cpu.reg.e = 246;
    cpu.reg.f = 128;
    cpu.reg.h = 160;
    cpu.reg.l = 3;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[34126] = 2;
    cpu.ram[37314] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 66);
    CHECK(cpu.reg.b == 145);
    CHECK(cpu.reg.c == 194);
    CHECK(cpu.reg.d == 131);
    CHECK(cpu.reg.e == 246);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 160);
    CHECK(cpu.reg.l == 3);
    CHECK(cpu.pc == 34127);
    CHECK(cpu.sp == 60794);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[34126] == 2);
    REQUIRE(cpu.ram[37314] == 66);
}

TEST_CASE( "02 01E9", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46924;
    cpu.sp = 1070;
    cpu.reg.a = 141;
    cpu.reg.b = 169;
    cpu.reg.c = 110;
    cpu.reg.d = 66;
    cpu.reg.e = 170;
    cpu.reg.f = 208;
    cpu.reg.h = 202;
    cpu.reg.l = 215;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[43374] = 0;
    cpu.ram[46924] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 141);
    CHECK(cpu.reg.b == 169);
    CHECK(cpu.reg.c == 110);
    CHECK(cpu.reg.d == 66);
    CHECK(cpu.reg.e == 170);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 202);
    CHECK(cpu.reg.l == 215);
    CHECK(cpu.pc == 46925);
    CHECK(cpu.sp == 1070);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43374] == 141);
    REQUIRE(cpu.ram[46924] == 2);
}

TEST_CASE( "02 01EA", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2642;
    cpu.sp = 7428;
    cpu.reg.a = 188;
    cpu.reg.b = 115;
    cpu.reg.c = 186;
    cpu.reg.d = 23;
    cpu.reg.e = 169;
    cpu.reg.f = 0;
    cpu.reg.h = 55;
    cpu.reg.l = 49;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[2642] = 2;
    cpu.ram[29626] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 188);
    CHECK(cpu.reg.b == 115);
    CHECK(cpu.reg.c == 186);
    CHECK(cpu.reg.d == 23);
    CHECK(cpu.reg.e == 169);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 55);
    CHECK(cpu.reg.l == 49);
    CHECK(cpu.pc == 2643);
    CHECK(cpu.sp == 7428);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2642] == 2);
    REQUIRE(cpu.ram[29626] == 188);
}

TEST_CASE( "02 01EB", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51952;
    cpu.sp = 11829;
    cpu.reg.a = 149;
    cpu.reg.b = 129;
    cpu.reg.c = 239;
    cpu.reg.d = 82;
    cpu.reg.e = 189;
    cpu.reg.f = 240;
    cpu.reg.h = 149;
    cpu.reg.l = 197;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[33263] = 0;
    cpu.ram[51952] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 149);
    CHECK(cpu.reg.b == 129);
    CHECK(cpu.reg.c == 239);
    CHECK(cpu.reg.d == 82);
    CHECK(cpu.reg.e == 189);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 149);
    CHECK(cpu.reg.l == 197);
    CHECK(cpu.pc == 51953);
    CHECK(cpu.sp == 11829);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33263] == 149);
    REQUIRE(cpu.ram[51952] == 2);
}

TEST_CASE( "02 01EC", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22349;
    cpu.sp = 18122;
    cpu.reg.a = 9;
    cpu.reg.b = 33;
    cpu.reg.c = 198;
    cpu.reg.d = 37;
    cpu.reg.e = 229;
    cpu.reg.f = 240;
    cpu.reg.h = 125;
    cpu.reg.l = 6;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[8646] = 0;
    cpu.ram[22349] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 9);
    CHECK(cpu.reg.b == 33);
    CHECK(cpu.reg.c == 198);
    CHECK(cpu.reg.d == 37);
    CHECK(cpu.reg.e == 229);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 125);
    CHECK(cpu.reg.l == 6);
    CHECK(cpu.pc == 22350);
    CHECK(cpu.sp == 18122);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8646] == 9);
    REQUIRE(cpu.ram[22349] == 2);
}

TEST_CASE( "02 01ED", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11354;
    cpu.sp = 47820;
    cpu.reg.a = 104;
    cpu.reg.b = 34;
    cpu.reg.c = 183;
    cpu.reg.d = 249;
    cpu.reg.e = 3;
    cpu.reg.f = 48;
    cpu.reg.h = 79;
    cpu.reg.l = 17;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[8887] = 0;
    cpu.ram[11354] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 104);
    CHECK(cpu.reg.b == 34);
    CHECK(cpu.reg.c == 183);
    CHECK(cpu.reg.d == 249);
    CHECK(cpu.reg.e == 3);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 79);
    CHECK(cpu.reg.l == 17);
    CHECK(cpu.pc == 11355);
    CHECK(cpu.sp == 47820);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8887] == 104);
    REQUIRE(cpu.ram[11354] == 2);
}

TEST_CASE( "02 01EE", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15251;
    cpu.sp = 34297;
    cpu.reg.a = 227;
    cpu.reg.b = 19;
    cpu.reg.c = 59;
    cpu.reg.d = 75;
    cpu.reg.e = 82;
    cpu.reg.f = 144;
    cpu.reg.h = 63;
    cpu.reg.l = 218;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[4923] = 0;
    cpu.ram[15251] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 227);
    CHECK(cpu.reg.b == 19);
    CHECK(cpu.reg.c == 59);
    CHECK(cpu.reg.d == 75);
    CHECK(cpu.reg.e == 82);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 63);
    CHECK(cpu.reg.l == 218);
    CHECK(cpu.pc == 15252);
    CHECK(cpu.sp == 34297);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4923] == 227);
    REQUIRE(cpu.ram[15251] == 2);
}

TEST_CASE( "02 01EF", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39221;
    cpu.sp = 51992;
    cpu.reg.a = 110;
    cpu.reg.b = 41;
    cpu.reg.c = 172;
    cpu.reg.d = 126;
    cpu.reg.e = 156;
    cpu.reg.f = 112;
    cpu.reg.h = 79;
    cpu.reg.l = 146;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[10668] = 0;
    cpu.ram[39221] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 110);
    CHECK(cpu.reg.b == 41);
    CHECK(cpu.reg.c == 172);
    CHECK(cpu.reg.d == 126);
    CHECK(cpu.reg.e == 156);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 79);
    CHECK(cpu.reg.l == 146);
    CHECK(cpu.pc == 39222);
    CHECK(cpu.sp == 51992);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10668] == 110);
    REQUIRE(cpu.ram[39221] == 2);
}

TEST_CASE( "02 01F0", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53334;
    cpu.sp = 25844;
    cpu.reg.a = 110;
    cpu.reg.b = 149;
    cpu.reg.c = 91;
    cpu.reg.d = 241;
    cpu.reg.e = 158;
    cpu.reg.f = 48;
    cpu.reg.h = 234;
    cpu.reg.l = 134;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[38235] = 0;
    cpu.ram[53334] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 110);
    CHECK(cpu.reg.b == 149);
    CHECK(cpu.reg.c == 91);
    CHECK(cpu.reg.d == 241);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 234);
    CHECK(cpu.reg.l == 134);
    CHECK(cpu.pc == 53335);
    CHECK(cpu.sp == 25844);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38235] == 110);
    REQUIRE(cpu.ram[53334] == 2);
}

TEST_CASE( "02 01F1", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51853;
    cpu.sp = 814;
    cpu.reg.a = 14;
    cpu.reg.b = 139;
    cpu.reg.c = 230;
    cpu.reg.d = 84;
    cpu.reg.e = 151;
    cpu.reg.f = 96;
    cpu.reg.h = 125;
    cpu.reg.l = 18;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[35814] = 0;
    cpu.ram[51853] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 14);
    CHECK(cpu.reg.b == 139);
    CHECK(cpu.reg.c == 230);
    CHECK(cpu.reg.d == 84);
    CHECK(cpu.reg.e == 151);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 125);
    CHECK(cpu.reg.l == 18);
    CHECK(cpu.pc == 51854);
    CHECK(cpu.sp == 814);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35814] == 14);
    REQUIRE(cpu.ram[51853] == 2);
}

TEST_CASE( "02 01F2", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14079;
    cpu.sp = 10590;
    cpu.reg.a = 241;
    cpu.reg.b = 136;
    cpu.reg.c = 197;
    cpu.reg.d = 0;
    cpu.reg.e = 109;
    cpu.reg.f = 0;
    cpu.reg.h = 45;
    cpu.reg.l = 188;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[14079] = 2;
    cpu.ram[35013] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 241);
    CHECK(cpu.reg.b == 136);
    CHECK(cpu.reg.c == 197);
    CHECK(cpu.reg.d == 0);
    CHECK(cpu.reg.e == 109);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 45);
    CHECK(cpu.reg.l == 188);
    CHECK(cpu.pc == 14080);
    CHECK(cpu.sp == 10590);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14079] == 2);
    REQUIRE(cpu.ram[35013] == 241);
}

TEST_CASE( "02 01F3", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18578;
    cpu.sp = 45570;
    cpu.reg.a = 238;
    cpu.reg.b = 121;
    cpu.reg.c = 164;
    cpu.reg.d = 38;
    cpu.reg.e = 203;
    cpu.reg.f = 32;
    cpu.reg.h = 17;
    cpu.reg.l = 241;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[18578] = 2;
    cpu.ram[31140] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 238);
    CHECK(cpu.reg.b == 121);
    CHECK(cpu.reg.c == 164);
    CHECK(cpu.reg.d == 38);
    CHECK(cpu.reg.e == 203);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 241);
    CHECK(cpu.pc == 18579);
    CHECK(cpu.sp == 45570);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18578] == 2);
    REQUIRE(cpu.ram[31140] == 238);
}

TEST_CASE( "02 01F4", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54359;
    cpu.sp = 40814;
    cpu.reg.a = 10;
    cpu.reg.b = 146;
    cpu.reg.c = 123;
    cpu.reg.d = 253;
    cpu.reg.e = 189;
    cpu.reg.f = 144;
    cpu.reg.h = 217;
    cpu.reg.l = 224;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[37499] = 0;
    cpu.ram[54359] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 10);
    CHECK(cpu.reg.b == 146);
    CHECK(cpu.reg.c == 123);
    CHECK(cpu.reg.d == 253);
    CHECK(cpu.reg.e == 189);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 217);
    CHECK(cpu.reg.l == 224);
    CHECK(cpu.pc == 54360);
    CHECK(cpu.sp == 40814);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[37499] == 10);
    REQUIRE(cpu.ram[54359] == 2);
}

TEST_CASE( "02 01F5", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61267;
    cpu.sp = 13697;
    cpu.reg.a = 35;
    cpu.reg.b = 78;
    cpu.reg.c = 5;
    cpu.reg.d = 57;
    cpu.reg.e = 98;
    cpu.reg.f = 224;
    cpu.reg.h = 71;
    cpu.reg.l = 36;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[19973] = 0;
    cpu.ram[61267] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 35);
    CHECK(cpu.reg.b == 78);
    CHECK(cpu.reg.c == 5);
    CHECK(cpu.reg.d == 57);
    CHECK(cpu.reg.e == 98);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 71);
    CHECK(cpu.reg.l == 36);
    CHECK(cpu.pc == 61268);
    CHECK(cpu.sp == 13697);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19973] == 35);
    REQUIRE(cpu.ram[61267] == 2);
}

TEST_CASE( "02 01F6", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38295;
    cpu.sp = 53422;
    cpu.reg.a = 6;
    cpu.reg.b = 10;
    cpu.reg.c = 169;
    cpu.reg.d = 156;
    cpu.reg.e = 200;
    cpu.reg.f = 80;
    cpu.reg.h = 234;
    cpu.reg.l = 210;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[2729] = 0;
    cpu.ram[38295] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 6);
    CHECK(cpu.reg.b == 10);
    CHECK(cpu.reg.c == 169);
    CHECK(cpu.reg.d == 156);
    CHECK(cpu.reg.e == 200);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 234);
    CHECK(cpu.reg.l == 210);
    CHECK(cpu.pc == 38296);
    CHECK(cpu.sp == 53422);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2729] == 6);
    REQUIRE(cpu.ram[38295] == 2);
}

TEST_CASE( "02 01F7", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50255;
    cpu.sp = 42979;
    cpu.reg.a = 153;
    cpu.reg.b = 69;
    cpu.reg.c = 243;
    cpu.reg.d = 70;
    cpu.reg.e = 19;
    cpu.reg.f = 96;
    cpu.reg.h = 123;
    cpu.reg.l = 213;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[17907] = 0;
    cpu.ram[50255] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 153);
    CHECK(cpu.reg.b == 69);
    CHECK(cpu.reg.c == 243);
    CHECK(cpu.reg.d == 70);
    CHECK(cpu.reg.e == 19);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 123);
    CHECK(cpu.reg.l == 213);
    CHECK(cpu.pc == 50256);
    CHECK(cpu.sp == 42979);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17907] == 153);
    REQUIRE(cpu.ram[50255] == 2);
}

TEST_CASE( "02 01F8", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48889;
    cpu.sp = 25354;
    cpu.reg.a = 106;
    cpu.reg.b = 122;
    cpu.reg.c = 68;
    cpu.reg.d = 29;
    cpu.reg.e = 103;
    cpu.reg.f = 64;
    cpu.reg.h = 75;
    cpu.reg.l = 68;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[31300] = 0;
    cpu.ram[48889] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 106);
    CHECK(cpu.reg.b == 122);
    CHECK(cpu.reg.c == 68);
    CHECK(cpu.reg.d == 29);
    CHECK(cpu.reg.e == 103);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 75);
    CHECK(cpu.reg.l == 68);
    CHECK(cpu.pc == 48890);
    CHECK(cpu.sp == 25354);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31300] == 106);
    REQUIRE(cpu.ram[48889] == 2);
}

TEST_CASE( "02 01F9", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7334;
    cpu.sp = 44213;
    cpu.reg.a = 3;
    cpu.reg.b = 156;
    cpu.reg.c = 141;
    cpu.reg.d = 68;
    cpu.reg.e = 110;
    cpu.reg.f = 48;
    cpu.reg.h = 187;
    cpu.reg.l = 215;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[7334] = 2;
    cpu.ram[40077] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 3);
    CHECK(cpu.reg.b == 156);
    CHECK(cpu.reg.c == 141);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 110);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 187);
    CHECK(cpu.reg.l == 215);
    CHECK(cpu.pc == 7335);
    CHECK(cpu.sp == 44213);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7334] == 2);
    REQUIRE(cpu.ram[40077] == 3);
}

TEST_CASE( "02 01FA", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19161;
    cpu.sp = 17741;
    cpu.reg.a = 147;
    cpu.reg.b = 251;
    cpu.reg.c = 231;
    cpu.reg.d = 155;
    cpu.reg.e = 25;
    cpu.reg.f = 32;
    cpu.reg.h = 30;
    cpu.reg.l = 113;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[19161] = 2;
    cpu.ram[64487] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 147);
    CHECK(cpu.reg.b == 251);
    CHECK(cpu.reg.c == 231);
    CHECK(cpu.reg.d == 155);
    CHECK(cpu.reg.e == 25);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 30);
    CHECK(cpu.reg.l == 113);
    CHECK(cpu.pc == 19162);
    CHECK(cpu.sp == 17741);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19161] == 2);
    REQUIRE(cpu.ram[64487] == 147);
}

TEST_CASE( "02 01FB", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9776;
    cpu.sp = 31570;
    cpu.reg.a = 48;
    cpu.reg.b = 174;
    cpu.reg.c = 208;
    cpu.reg.d = 5;
    cpu.reg.e = 7;
    cpu.reg.f = 128;
    cpu.reg.h = 92;
    cpu.reg.l = 193;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[9776] = 2;
    cpu.ram[44752] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 48);
    CHECK(cpu.reg.b == 174);
    CHECK(cpu.reg.c == 208);
    CHECK(cpu.reg.d == 5);
    CHECK(cpu.reg.e == 7);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 92);
    CHECK(cpu.reg.l == 193);
    CHECK(cpu.pc == 9777);
    CHECK(cpu.sp == 31570);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9776] == 2);
    REQUIRE(cpu.ram[44752] == 48);
}

TEST_CASE( "02 01FC", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59423;
    cpu.sp = 3664;
    cpu.reg.a = 220;
    cpu.reg.b = 17;
    cpu.reg.c = 227;
    cpu.reg.d = 37;
    cpu.reg.e = 164;
    cpu.reg.f = 96;
    cpu.reg.h = 248;
    cpu.reg.l = 247;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[4579] = 0;
    cpu.ram[59423] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 220);
    CHECK(cpu.reg.b == 17);
    CHECK(cpu.reg.c == 227);
    CHECK(cpu.reg.d == 37);
    CHECK(cpu.reg.e == 164);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 248);
    CHECK(cpu.reg.l == 247);
    CHECK(cpu.pc == 59424);
    CHECK(cpu.sp == 3664);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4579] == 220);
    REQUIRE(cpu.ram[59423] == 2);
}

TEST_CASE( "02 01FD", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44105;
    cpu.sp = 42599;
    cpu.reg.a = 25;
    cpu.reg.b = 216;
    cpu.reg.c = 129;
    cpu.reg.d = 39;
    cpu.reg.e = 193;
    cpu.reg.f = 48;
    cpu.reg.h = 108;
    cpu.reg.l = 30;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[44105] = 2;
    cpu.ram[55425] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 25);
    CHECK(cpu.reg.b == 216);
    CHECK(cpu.reg.c == 129);
    CHECK(cpu.reg.d == 39);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 108);
    CHECK(cpu.reg.l == 30);
    CHECK(cpu.pc == 44106);
    CHECK(cpu.sp == 42599);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44105] == 2);
    REQUIRE(cpu.ram[55425] == 25);
}

TEST_CASE( "02 01FE", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62846;
    cpu.sp = 4122;
    cpu.reg.a = 17;
    cpu.reg.b = 86;
    cpu.reg.c = 247;
    cpu.reg.d = 7;
    cpu.reg.e = 110;
    cpu.reg.f = 224;
    cpu.reg.h = 14;
    cpu.reg.l = 38;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[22263] = 0;
    cpu.ram[62846] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 17);
    CHECK(cpu.reg.b == 86);
    CHECK(cpu.reg.c == 247);
    CHECK(cpu.reg.d == 7);
    CHECK(cpu.reg.e == 110);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 14);
    CHECK(cpu.reg.l == 38);
    CHECK(cpu.pc == 62847);
    CHECK(cpu.sp == 4122);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22263] == 17);
    REQUIRE(cpu.ram[62846] == 2);
}

TEST_CASE( "02 01FF", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37718;
    cpu.sp = 12020;
    cpu.reg.a = 251;
    cpu.reg.b = 178;
    cpu.reg.c = 228;
    cpu.reg.d = 58;
    cpu.reg.e = 107;
    cpu.reg.f = 32;
    cpu.reg.h = 223;
    cpu.reg.l = 84;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[37718] = 2;
    cpu.ram[45796] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 251);
    CHECK(cpu.reg.b == 178);
    CHECK(cpu.reg.c == 228);
    CHECK(cpu.reg.d == 58);
    CHECK(cpu.reg.e == 107);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 223);
    CHECK(cpu.reg.l == 84);
    CHECK(cpu.pc == 37719);
    CHECK(cpu.sp == 12020);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[37718] == 2);
    REQUIRE(cpu.ram[45796] == 251);
}

TEST_CASE( "02 0200", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31105;
    cpu.sp = 53302;
    cpu.reg.a = 144;
    cpu.reg.b = 197;
    cpu.reg.c = 217;
    cpu.reg.d = 113;
    cpu.reg.e = 196;
    cpu.reg.f = 224;
    cpu.reg.h = 137;
    cpu.reg.l = 232;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[31105] = 2;
    cpu.ram[50649] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 144);
    CHECK(cpu.reg.b == 197);
    CHECK(cpu.reg.c == 217);
    CHECK(cpu.reg.d == 113);
    CHECK(cpu.reg.e == 196);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 137);
    CHECK(cpu.reg.l == 232);
    CHECK(cpu.pc == 31106);
    CHECK(cpu.sp == 53302);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31105] == 2);
    REQUIRE(cpu.ram[50649] == 144);
}

TEST_CASE( "02 0201", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50890;
    cpu.sp = 49549;
    cpu.reg.a = 220;
    cpu.reg.b = 193;
    cpu.reg.c = 231;
    cpu.reg.d = 53;
    cpu.reg.e = 117;
    cpu.reg.f = 144;
    cpu.reg.h = 228;
    cpu.reg.l = 35;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[49639] = 0;
    cpu.ram[50890] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 220);
    CHECK(cpu.reg.b == 193);
    CHECK(cpu.reg.c == 231);
    CHECK(cpu.reg.d == 53);
    CHECK(cpu.reg.e == 117);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 228);
    CHECK(cpu.reg.l == 35);
    CHECK(cpu.pc == 50891);
    CHECK(cpu.sp == 49549);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49639] == 220);
    REQUIRE(cpu.ram[50890] == 2);
}

TEST_CASE( "02 0202", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42761;
    cpu.sp = 42605;
    cpu.reg.a = 189;
    cpu.reg.b = 227;
    cpu.reg.c = 57;
    cpu.reg.d = 64;
    cpu.reg.e = 133;
    cpu.reg.f = 112;
    cpu.reg.h = 126;
    cpu.reg.l = 229;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[42761] = 2;
    cpu.ram[58169] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 189);
    CHECK(cpu.reg.b == 227);
    CHECK(cpu.reg.c == 57);
    CHECK(cpu.reg.d == 64);
    CHECK(cpu.reg.e == 133);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 126);
    CHECK(cpu.reg.l == 229);
    CHECK(cpu.pc == 42762);
    CHECK(cpu.sp == 42605);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[42761] == 2);
    REQUIRE(cpu.ram[58169] == 189);
}

TEST_CASE( "02 0203", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41011;
    cpu.sp = 26490;
    cpu.reg.a = 35;
    cpu.reg.b = 160;
    cpu.reg.c = 86;
    cpu.reg.d = 120;
    cpu.reg.e = 19;
    cpu.reg.f = 64;
    cpu.reg.h = 251;
    cpu.reg.l = 234;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[41011] = 2;
    cpu.ram[41046] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 35);
    CHECK(cpu.reg.b == 160);
    CHECK(cpu.reg.c == 86);
    CHECK(cpu.reg.d == 120);
    CHECK(cpu.reg.e == 19);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 251);
    CHECK(cpu.reg.l == 234);
    CHECK(cpu.pc == 41012);
    CHECK(cpu.sp == 26490);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[41011] == 2);
    REQUIRE(cpu.ram[41046] == 35);
}

TEST_CASE( "02 0204", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8227;
    cpu.sp = 64381;
    cpu.reg.a = 35;
    cpu.reg.b = 118;
    cpu.reg.c = 224;
    cpu.reg.d = 237;
    cpu.reg.e = 192;
    cpu.reg.f = 32;
    cpu.reg.h = 207;
    cpu.reg.l = 196;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[8227] = 2;
    cpu.ram[30432] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 35);
    CHECK(cpu.reg.b == 118);
    CHECK(cpu.reg.c == 224);
    CHECK(cpu.reg.d == 237);
    CHECK(cpu.reg.e == 192);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 207);
    CHECK(cpu.reg.l == 196);
    CHECK(cpu.pc == 8228);
    CHECK(cpu.sp == 64381);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8227] == 2);
    REQUIRE(cpu.ram[30432] == 35);
}

TEST_CASE( "02 0205", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55025;
    cpu.sp = 27317;
    cpu.reg.a = 88;
    cpu.reg.b = 252;
    cpu.reg.c = 253;
    cpu.reg.d = 53;
    cpu.reg.e = 27;
    cpu.reg.f = 112;
    cpu.reg.h = 111;
    cpu.reg.l = 106;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[55025] = 2;
    cpu.ram[64765] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 88);
    CHECK(cpu.reg.b == 252);
    CHECK(cpu.reg.c == 253);
    CHECK(cpu.reg.d == 53);
    CHECK(cpu.reg.e == 27);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 111);
    CHECK(cpu.reg.l == 106);
    CHECK(cpu.pc == 55026);
    CHECK(cpu.sp == 27317);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55025] == 2);
    REQUIRE(cpu.ram[64765] == 88);
}

TEST_CASE( "02 0206", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28044;
    cpu.sp = 6221;
    cpu.reg.a = 214;
    cpu.reg.b = 109;
    cpu.reg.c = 218;
    cpu.reg.d = 195;
    cpu.reg.e = 70;
    cpu.reg.f = 224;
    cpu.reg.h = 44;
    cpu.reg.l = 147;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[28044] = 2;
    cpu.ram[28122] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 214);
    CHECK(cpu.reg.b == 109);
    CHECK(cpu.reg.c == 218);
    CHECK(cpu.reg.d == 195);
    CHECK(cpu.reg.e == 70);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 44);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 28045);
    CHECK(cpu.sp == 6221);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28044] == 2);
    REQUIRE(cpu.ram[28122] == 214);
}

TEST_CASE( "02 0207", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42386;
    cpu.sp = 39520;
    cpu.reg.a = 122;
    cpu.reg.b = 92;
    cpu.reg.c = 119;
    cpu.reg.d = 246;
    cpu.reg.e = 231;
    cpu.reg.f = 144;
    cpu.reg.h = 53;
    cpu.reg.l = 136;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[23671] = 0;
    cpu.ram[42386] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 122);
    CHECK(cpu.reg.b == 92);
    CHECK(cpu.reg.c == 119);
    CHECK(cpu.reg.d == 246);
    CHECK(cpu.reg.e == 231);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 53);
    CHECK(cpu.reg.l == 136);
    CHECK(cpu.pc == 42387);
    CHECK(cpu.sp == 39520);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[23671] == 122);
    REQUIRE(cpu.ram[42386] == 2);
}

TEST_CASE( "02 0208", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13523;
    cpu.sp = 20048;
    cpu.reg.a = 249;
    cpu.reg.b = 94;
    cpu.reg.c = 163;
    cpu.reg.d = 244;
    cpu.reg.e = 182;
    cpu.reg.f = 128;
    cpu.reg.h = 96;
    cpu.reg.l = 96;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[13523] = 2;
    cpu.ram[24227] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 249);
    CHECK(cpu.reg.b == 94);
    CHECK(cpu.reg.c == 163);
    CHECK(cpu.reg.d == 244);
    CHECK(cpu.reg.e == 182);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 96);
    CHECK(cpu.reg.l == 96);
    CHECK(cpu.pc == 13524);
    CHECK(cpu.sp == 20048);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13523] == 2);
    REQUIRE(cpu.ram[24227] == 249);
}

TEST_CASE( "02 0209", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7496;
    cpu.sp = 28558;
    cpu.reg.a = 71;
    cpu.reg.b = 213;
    cpu.reg.c = 41;
    cpu.reg.d = 192;
    cpu.reg.e = 23;
    cpu.reg.f = 192;
    cpu.reg.h = 27;
    cpu.reg.l = 147;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[7496] = 2;
    cpu.ram[54569] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 71);
    CHECK(cpu.reg.b == 213);
    CHECK(cpu.reg.c == 41);
    CHECK(cpu.reg.d == 192);
    CHECK(cpu.reg.e == 23);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 27);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 7497);
    CHECK(cpu.sp == 28558);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7496] == 2);
    REQUIRE(cpu.ram[54569] == 71);
}

TEST_CASE( "02 020A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61817;
    cpu.sp = 12412;
    cpu.reg.a = 221;
    cpu.reg.b = 105;
    cpu.reg.c = 66;
    cpu.reg.d = 158;
    cpu.reg.e = 77;
    cpu.reg.f = 96;
    cpu.reg.h = 97;
    cpu.reg.l = 158;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[26946] = 0;
    cpu.ram[61817] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 221);
    CHECK(cpu.reg.b == 105);
    CHECK(cpu.reg.c == 66);
    CHECK(cpu.reg.d == 158);
    CHECK(cpu.reg.e == 77);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 97);
    CHECK(cpu.reg.l == 158);
    CHECK(cpu.pc == 61818);
    CHECK(cpu.sp == 12412);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26946] == 221);
    REQUIRE(cpu.ram[61817] == 2);
}

TEST_CASE( "02 020B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28449;
    cpu.sp = 43666;
    cpu.reg.a = 60;
    cpu.reg.b = 89;
    cpu.reg.c = 56;
    cpu.reg.d = 253;
    cpu.reg.e = 16;
    cpu.reg.f = 0;
    cpu.reg.h = 95;
    cpu.reg.l = 64;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[22840] = 0;
    cpu.ram[28449] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 60);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 56);
    CHECK(cpu.reg.d == 253);
    CHECK(cpu.reg.e == 16);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 95);
    CHECK(cpu.reg.l == 64);
    CHECK(cpu.pc == 28450);
    CHECK(cpu.sp == 43666);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22840] == 60);
    REQUIRE(cpu.ram[28449] == 2);
}

TEST_CASE( "02 020C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7236;
    cpu.sp = 12556;
    cpu.reg.a = 198;
    cpu.reg.b = 87;
    cpu.reg.c = 103;
    cpu.reg.d = 204;
    cpu.reg.e = 29;
    cpu.reg.f = 176;
    cpu.reg.h = 10;
    cpu.reg.l = 57;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[7236] = 2;
    cpu.ram[22375] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 198);
    CHECK(cpu.reg.b == 87);
    CHECK(cpu.reg.c == 103);
    CHECK(cpu.reg.d == 204);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 10);
    CHECK(cpu.reg.l == 57);
    CHECK(cpu.pc == 7237);
    CHECK(cpu.sp == 12556);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7236] == 2);
    REQUIRE(cpu.ram[22375] == 198);
}

TEST_CASE( "02 020D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42959;
    cpu.sp = 8943;
    cpu.reg.a = 92;
    cpu.reg.b = 191;
    cpu.reg.c = 21;
    cpu.reg.d = 21;
    cpu.reg.e = 249;
    cpu.reg.f = 176;
    cpu.reg.h = 210;
    cpu.reg.l = 195;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[42959] = 2;
    cpu.ram[48917] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 92);
    CHECK(cpu.reg.b == 191);
    CHECK(cpu.reg.c == 21);
    CHECK(cpu.reg.d == 21);
    CHECK(cpu.reg.e == 249);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 210);
    CHECK(cpu.reg.l == 195);
    CHECK(cpu.pc == 42960);
    CHECK(cpu.sp == 8943);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[42959] == 2);
    REQUIRE(cpu.ram[48917] == 92);
}

TEST_CASE( "02 020E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7876;
    cpu.sp = 27705;
    cpu.reg.a = 149;
    cpu.reg.b = 94;
    cpu.reg.c = 2;
    cpu.reg.d = 90;
    cpu.reg.e = 189;
    cpu.reg.f = 240;
    cpu.reg.h = 41;
    cpu.reg.l = 19;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[7876] = 2;
    cpu.ram[24066] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 149);
    CHECK(cpu.reg.b == 94);
    CHECK(cpu.reg.c == 2);
    CHECK(cpu.reg.d == 90);
    CHECK(cpu.reg.e == 189);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 41);
    CHECK(cpu.reg.l == 19);
    CHECK(cpu.pc == 7877);
    CHECK(cpu.sp == 27705);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7876] == 2);
    REQUIRE(cpu.ram[24066] == 149);
}

TEST_CASE( "02 020F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15595;
    cpu.sp = 61553;
    cpu.reg.a = 0;
    cpu.reg.b = 233;
    cpu.reg.c = 138;
    cpu.reg.d = 78;
    cpu.reg.e = 186;
    cpu.reg.f = 16;
    cpu.reg.h = 4;
    cpu.reg.l = 113;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[15595] = 2;
    cpu.ram[59786] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 0);
    CHECK(cpu.reg.b == 233);
    CHECK(cpu.reg.c == 138);
    CHECK(cpu.reg.d == 78);
    CHECK(cpu.reg.e == 186);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 4);
    CHECK(cpu.reg.l == 113);
    CHECK(cpu.pc == 15596);
    CHECK(cpu.sp == 61553);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15595] == 2);
    REQUIRE(cpu.ram[59786] == 0);
}

TEST_CASE( "02 0210", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7535;
    cpu.sp = 26982;
    cpu.reg.a = 203;
    cpu.reg.b = 167;
    cpu.reg.c = 2;
    cpu.reg.d = 253;
    cpu.reg.e = 1;
    cpu.reg.f = 32;
    cpu.reg.h = 39;
    cpu.reg.l = 89;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[7535] = 2;
    cpu.ram[42754] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 203);
    CHECK(cpu.reg.b == 167);
    CHECK(cpu.reg.c == 2);
    CHECK(cpu.reg.d == 253);
    CHECK(cpu.reg.e == 1);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 39);
    CHECK(cpu.reg.l == 89);
    CHECK(cpu.pc == 7536);
    CHECK(cpu.sp == 26982);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7535] == 2);
    REQUIRE(cpu.ram[42754] == 203);
}

TEST_CASE( "02 0211", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47331;
    cpu.sp = 6792;
    cpu.reg.a = 214;
    cpu.reg.b = 51;
    cpu.reg.c = 135;
    cpu.reg.d = 35;
    cpu.reg.e = 122;
    cpu.reg.f = 192;
    cpu.reg.h = 122;
    cpu.reg.l = 99;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[13191] = 0;
    cpu.ram[47331] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 214);
    CHECK(cpu.reg.b == 51);
    CHECK(cpu.reg.c == 135);
    CHECK(cpu.reg.d == 35);
    CHECK(cpu.reg.e == 122);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 122);
    CHECK(cpu.reg.l == 99);
    CHECK(cpu.pc == 47332);
    CHECK(cpu.sp == 6792);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13191] == 214);
    REQUIRE(cpu.ram[47331] == 2);
}

TEST_CASE( "02 0212", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34332;
    cpu.sp = 55687;
    cpu.reg.a = 187;
    cpu.reg.b = 151;
    cpu.reg.c = 236;
    cpu.reg.d = 165;
    cpu.reg.e = 131;
    cpu.reg.f = 16;
    cpu.reg.h = 22;
    cpu.reg.l = 42;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[34332] = 2;
    cpu.ram[38892] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 187);
    CHECK(cpu.reg.b == 151);
    CHECK(cpu.reg.c == 236);
    CHECK(cpu.reg.d == 165);
    CHECK(cpu.reg.e == 131);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 22);
    CHECK(cpu.reg.l == 42);
    CHECK(cpu.pc == 34333);
    CHECK(cpu.sp == 55687);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34332] == 2);
    REQUIRE(cpu.ram[38892] == 187);
}

TEST_CASE( "02 0213", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48792;
    cpu.sp = 9181;
    cpu.reg.a = 117;
    cpu.reg.b = 136;
    cpu.reg.c = 103;
    cpu.reg.d = 243;
    cpu.reg.e = 161;
    cpu.reg.f = 112;
    cpu.reg.h = 96;
    cpu.reg.l = 145;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[34919] = 0;
    cpu.ram[48792] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 117);
    CHECK(cpu.reg.b == 136);
    CHECK(cpu.reg.c == 103);
    CHECK(cpu.reg.d == 243);
    CHECK(cpu.reg.e == 161);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 96);
    CHECK(cpu.reg.l == 145);
    CHECK(cpu.pc == 48793);
    CHECK(cpu.sp == 9181);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[34919] == 117);
    REQUIRE(cpu.ram[48792] == 2);
}

TEST_CASE( "02 0214", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65511;
    cpu.sp = 23032;
    cpu.reg.a = 14;
    cpu.reg.b = 66;
    cpu.reg.c = 221;
    cpu.reg.d = 193;
    cpu.reg.e = 37;
    cpu.reg.f = 224;
    cpu.reg.h = 254;
    cpu.reg.l = 34;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[17117] = 0;
    cpu.ram[65511] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 14);
    CHECK(cpu.reg.b == 66);
    CHECK(cpu.reg.c == 221);
    CHECK(cpu.reg.d == 193);
    CHECK(cpu.reg.e == 37);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 254);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 65512);
    CHECK(cpu.sp == 23032);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17117] == 14);
    REQUIRE(cpu.ram[65511] == 2);
}

TEST_CASE( "02 0215", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24658;
    cpu.sp = 32081;
    cpu.reg.a = 123;
    cpu.reg.b = 0;
    cpu.reg.c = 45;
    cpu.reg.d = 153;
    cpu.reg.e = 184;
    cpu.reg.f = 224;
    cpu.reg.h = 35;
    cpu.reg.l = 107;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[45] = 0;
    cpu.ram[24658] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 123);
    CHECK(cpu.reg.b == 0);
    CHECK(cpu.reg.c == 45);
    CHECK(cpu.reg.d == 153);
    CHECK(cpu.reg.e == 184);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 35);
    CHECK(cpu.reg.l == 107);
    CHECK(cpu.pc == 24659);
    CHECK(cpu.sp == 32081);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45] == 123);
    REQUIRE(cpu.ram[24658] == 2);
}

TEST_CASE( "02 0216", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55733;
    cpu.sp = 29042;
    cpu.reg.a = 239;
    cpu.reg.b = 215;
    cpu.reg.c = 153;
    cpu.reg.d = 62;
    cpu.reg.e = 218;
    cpu.reg.f = 208;
    cpu.reg.h = 110;
    cpu.reg.l = 193;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[55193] = 0;
    cpu.ram[55733] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 239);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 153);
    CHECK(cpu.reg.d == 62);
    CHECK(cpu.reg.e == 218);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 110);
    CHECK(cpu.reg.l == 193);
    CHECK(cpu.pc == 55734);
    CHECK(cpu.sp == 29042);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55193] == 239);
    REQUIRE(cpu.ram[55733] == 2);
}

TEST_CASE( "02 0217", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33240;
    cpu.sp = 51;
    cpu.reg.a = 65;
    cpu.reg.b = 158;
    cpu.reg.c = 60;
    cpu.reg.d = 64;
    cpu.reg.e = 53;
    cpu.reg.f = 144;
    cpu.reg.h = 183;
    cpu.reg.l = 95;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[33240] = 2;
    cpu.ram[40508] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 65);
    CHECK(cpu.reg.b == 158);
    CHECK(cpu.reg.c == 60);
    CHECK(cpu.reg.d == 64);
    CHECK(cpu.reg.e == 53);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 183);
    CHECK(cpu.reg.l == 95);
    CHECK(cpu.pc == 33241);
    CHECK(cpu.sp == 51);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33240] == 2);
    REQUIRE(cpu.ram[40508] == 65);
}

TEST_CASE( "02 0218", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4096;
    cpu.sp = 30399;
    cpu.reg.a = 106;
    cpu.reg.b = 159;
    cpu.reg.c = 238;
    cpu.reg.d = 14;
    cpu.reg.e = 4;
    cpu.reg.f = 128;
    cpu.reg.h = 2;
    cpu.reg.l = 202;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[4096] = 2;
    cpu.ram[40942] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 106);
    CHECK(cpu.reg.b == 159);
    CHECK(cpu.reg.c == 238);
    CHECK(cpu.reg.d == 14);
    CHECK(cpu.reg.e == 4);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 2);
    CHECK(cpu.reg.l == 202);
    CHECK(cpu.pc == 4097);
    CHECK(cpu.sp == 30399);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4096] == 2);
    REQUIRE(cpu.ram[40942] == 106);
}

TEST_CASE( "02 0219", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14754;
    cpu.sp = 36943;
    cpu.reg.a = 35;
    cpu.reg.b = 108;
    cpu.reg.c = 218;
    cpu.reg.d = 32;
    cpu.reg.e = 57;
    cpu.reg.f = 112;
    cpu.reg.h = 134;
    cpu.reg.l = 108;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[14754] = 2;
    cpu.ram[27866] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 35);
    CHECK(cpu.reg.b == 108);
    CHECK(cpu.reg.c == 218);
    CHECK(cpu.reg.d == 32);
    CHECK(cpu.reg.e == 57);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 134);
    CHECK(cpu.reg.l == 108);
    CHECK(cpu.pc == 14755);
    CHECK(cpu.sp == 36943);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14754] == 2);
    REQUIRE(cpu.ram[27866] == 35);
}

TEST_CASE( "02 021A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48613;
    cpu.sp = 10194;
    cpu.reg.a = 95;
    cpu.reg.b = 70;
    cpu.reg.c = 44;
    cpu.reg.d = 10;
    cpu.reg.e = 0;
    cpu.reg.f = 48;
    cpu.reg.h = 69;
    cpu.reg.l = 175;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[17964] = 0;
    cpu.ram[48613] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 95);
    CHECK(cpu.reg.b == 70);
    CHECK(cpu.reg.c == 44);
    CHECK(cpu.reg.d == 10);
    CHECK(cpu.reg.e == 0);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 69);
    CHECK(cpu.reg.l == 175);
    CHECK(cpu.pc == 48614);
    CHECK(cpu.sp == 10194);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17964] == 95);
    REQUIRE(cpu.ram[48613] == 2);
}

TEST_CASE( "02 021B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23631;
    cpu.sp = 15315;
    cpu.reg.a = 245;
    cpu.reg.b = 70;
    cpu.reg.c = 202;
    cpu.reg.d = 68;
    cpu.reg.e = 154;
    cpu.reg.f = 32;
    cpu.reg.h = 13;
    cpu.reg.l = 245;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[18122] = 0;
    cpu.ram[23631] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 245);
    CHECK(cpu.reg.b == 70);
    CHECK(cpu.reg.c == 202);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 154);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 13);
    CHECK(cpu.reg.l == 245);
    CHECK(cpu.pc == 23632);
    CHECK(cpu.sp == 15315);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[18122] == 245);
    REQUIRE(cpu.ram[23631] == 2);
}

TEST_CASE( "02 021C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57342;
    cpu.sp = 2599;
    cpu.reg.a = 186;
    cpu.reg.b = 23;
    cpu.reg.c = 116;
    cpu.reg.d = 0;
    cpu.reg.e = 67;
    cpu.reg.f = 16;
    cpu.reg.h = 45;
    cpu.reg.l = 141;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[6004] = 0;
    cpu.ram[57342] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 186);
    CHECK(cpu.reg.b == 23);
    CHECK(cpu.reg.c == 116);
    CHECK(cpu.reg.d == 0);
    CHECK(cpu.reg.e == 67);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 45);
    CHECK(cpu.reg.l == 141);
    CHECK(cpu.pc == 57343);
    CHECK(cpu.sp == 2599);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6004] == 186);
    REQUIRE(cpu.ram[57342] == 2);
}

TEST_CASE( "02 021D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6075;
    cpu.sp = 55000;
    cpu.reg.a = 210;
    cpu.reg.b = 145;
    cpu.reg.c = 140;
    cpu.reg.d = 144;
    cpu.reg.e = 129;
    cpu.reg.f = 160;
    cpu.reg.h = 196;
    cpu.reg.l = 190;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[6075] = 2;
    cpu.ram[37260] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 210);
    CHECK(cpu.reg.b == 145);
    CHECK(cpu.reg.c == 140);
    CHECK(cpu.reg.d == 144);
    CHECK(cpu.reg.e == 129);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 196);
    CHECK(cpu.reg.l == 190);
    CHECK(cpu.pc == 6076);
    CHECK(cpu.sp == 55000);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6075] == 2);
    REQUIRE(cpu.ram[37260] == 210);
}

TEST_CASE( "02 021E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22833;
    cpu.sp = 8138;
    cpu.reg.a = 25;
    cpu.reg.b = 161;
    cpu.reg.c = 60;
    cpu.reg.d = 96;
    cpu.reg.e = 153;
    cpu.reg.f = 80;
    cpu.reg.h = 66;
    cpu.reg.l = 113;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[22833] = 2;
    cpu.ram[41276] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 25);
    CHECK(cpu.reg.b == 161);
    CHECK(cpu.reg.c == 60);
    CHECK(cpu.reg.d == 96);
    CHECK(cpu.reg.e == 153);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 66);
    CHECK(cpu.reg.l == 113);
    CHECK(cpu.pc == 22834);
    CHECK(cpu.sp == 8138);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22833] == 2);
    REQUIRE(cpu.ram[41276] == 25);
}

TEST_CASE( "02 021F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22900;
    cpu.sp = 56498;
    cpu.reg.a = 242;
    cpu.reg.b = 27;
    cpu.reg.c = 76;
    cpu.reg.d = 221;
    cpu.reg.e = 7;
    cpu.reg.f = 224;
    cpu.reg.h = 138;
    cpu.reg.l = 138;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[6988] = 0;
    cpu.ram[22900] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 242);
    CHECK(cpu.reg.b == 27);
    CHECK(cpu.reg.c == 76);
    CHECK(cpu.reg.d == 221);
    CHECK(cpu.reg.e == 7);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 138);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 22901);
    CHECK(cpu.sp == 56498);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6988] == 242);
    REQUIRE(cpu.ram[22900] == 2);
}

TEST_CASE( "02 0220", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9800;
    cpu.sp = 50357;
    cpu.reg.a = 117;
    cpu.reg.b = 178;
    cpu.reg.c = 242;
    cpu.reg.d = 122;
    cpu.reg.e = 36;
    cpu.reg.f = 96;
    cpu.reg.h = 214;
    cpu.reg.l = 163;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[9800] = 2;
    cpu.ram[45810] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 117);
    CHECK(cpu.reg.b == 178);
    CHECK(cpu.reg.c == 242);
    CHECK(cpu.reg.d == 122);
    CHECK(cpu.reg.e == 36);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 214);
    CHECK(cpu.reg.l == 163);
    CHECK(cpu.pc == 9801);
    CHECK(cpu.sp == 50357);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9800] == 2);
    REQUIRE(cpu.ram[45810] == 117);
}

TEST_CASE( "02 0221", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13594;
    cpu.sp = 18491;
    cpu.reg.a = 254;
    cpu.reg.b = 33;
    cpu.reg.c = 218;
    cpu.reg.d = 39;
    cpu.reg.e = 61;
    cpu.reg.f = 176;
    cpu.reg.h = 23;
    cpu.reg.l = 113;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[8666] = 0;
    cpu.ram[13594] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 33);
    CHECK(cpu.reg.c == 218);
    CHECK(cpu.reg.d == 39);
    CHECK(cpu.reg.e == 61);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 23);
    CHECK(cpu.reg.l == 113);
    CHECK(cpu.pc == 13595);
    CHECK(cpu.sp == 18491);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8666] == 254);
    REQUIRE(cpu.ram[13594] == 2);
}

TEST_CASE( "02 0222", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64375;
    cpu.sp = 492;
    cpu.reg.a = 20;
    cpu.reg.b = 117;
    cpu.reg.c = 33;
    cpu.reg.d = 88;
    cpu.reg.e = 111;
    cpu.reg.f = 0;
    cpu.reg.h = 112;
    cpu.reg.l = 202;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[29985] = 0;
    cpu.ram[64375] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 20);
    CHECK(cpu.reg.b == 117);
    CHECK(cpu.reg.c == 33);
    CHECK(cpu.reg.d == 88);
    CHECK(cpu.reg.e == 111);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 112);
    CHECK(cpu.reg.l == 202);
    CHECK(cpu.pc == 64376);
    CHECK(cpu.sp == 492);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29985] == 20);
    REQUIRE(cpu.ram[64375] == 2);
}

TEST_CASE( "02 0223", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33679;
    cpu.sp = 23374;
    cpu.reg.a = 25;
    cpu.reg.b = 225;
    cpu.reg.c = 20;
    cpu.reg.d = 183;
    cpu.reg.e = 127;
    cpu.reg.f = 80;
    cpu.reg.h = 112;
    cpu.reg.l = 195;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[33679] = 2;
    cpu.ram[57620] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 25);
    CHECK(cpu.reg.b == 225);
    CHECK(cpu.reg.c == 20);
    CHECK(cpu.reg.d == 183);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 112);
    CHECK(cpu.reg.l == 195);
    CHECK(cpu.pc == 33680);
    CHECK(cpu.sp == 23374);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33679] == 2);
    REQUIRE(cpu.ram[57620] == 25);
}

TEST_CASE( "02 0224", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19269;
    cpu.sp = 59931;
    cpu.reg.a = 13;
    cpu.reg.b = 147;
    cpu.reg.c = 206;
    cpu.reg.d = 173;
    cpu.reg.e = 6;
    cpu.reg.f = 64;
    cpu.reg.h = 196;
    cpu.reg.l = 136;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[19269] = 2;
    cpu.ram[37838] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 13);
    CHECK(cpu.reg.b == 147);
    CHECK(cpu.reg.c == 206);
    CHECK(cpu.reg.d == 173);
    CHECK(cpu.reg.e == 6);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 196);
    CHECK(cpu.reg.l == 136);
    CHECK(cpu.pc == 19270);
    CHECK(cpu.sp == 59931);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19269] == 2);
    REQUIRE(cpu.ram[37838] == 13);
}

TEST_CASE( "02 0225", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35121;
    cpu.sp = 7021;
    cpu.reg.a = 44;
    cpu.reg.b = 6;
    cpu.reg.c = 17;
    cpu.reg.d = 105;
    cpu.reg.e = 37;
    cpu.reg.f = 80;
    cpu.reg.h = 219;
    cpu.reg.l = 87;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[1553] = 0;
    cpu.ram[35121] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 44);
    CHECK(cpu.reg.b == 6);
    CHECK(cpu.reg.c == 17);
    CHECK(cpu.reg.d == 105);
    CHECK(cpu.reg.e == 37);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 219);
    CHECK(cpu.reg.l == 87);
    CHECK(cpu.pc == 35122);
    CHECK(cpu.sp == 7021);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1553] == 44);
    REQUIRE(cpu.ram[35121] == 2);
}

TEST_CASE( "02 0226", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50461;
    cpu.sp = 4271;
    cpu.reg.a = 208;
    cpu.reg.b = 161;
    cpu.reg.c = 70;
    cpu.reg.d = 87;
    cpu.reg.e = 105;
    cpu.reg.f = 208;
    cpu.reg.h = 78;
    cpu.reg.l = 114;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[41286] = 0;
    cpu.ram[50461] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 208);
    CHECK(cpu.reg.b == 161);
    CHECK(cpu.reg.c == 70);
    CHECK(cpu.reg.d == 87);
    CHECK(cpu.reg.e == 105);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 78);
    CHECK(cpu.reg.l == 114);
    CHECK(cpu.pc == 50462);
    CHECK(cpu.sp == 4271);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[41286] == 208);
    REQUIRE(cpu.ram[50461] == 2);
}

TEST_CASE( "02 0227", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39862;
    cpu.sp = 60208;
    cpu.reg.a = 20;
    cpu.reg.b = 113;
    cpu.reg.c = 79;
    cpu.reg.d = 94;
    cpu.reg.e = 193;
    cpu.reg.f = 0;
    cpu.reg.h = 161;
    cpu.reg.l = 115;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[29007] = 0;
    cpu.ram[39862] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 20);
    CHECK(cpu.reg.b == 113);
    CHECK(cpu.reg.c == 79);
    CHECK(cpu.reg.d == 94);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 161);
    CHECK(cpu.reg.l == 115);
    CHECK(cpu.pc == 39863);
    CHECK(cpu.sp == 60208);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29007] == 20);
    REQUIRE(cpu.ram[39862] == 2);
}

TEST_CASE( "02 0228", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25974;
    cpu.sp = 21089;
    cpu.reg.a = 38;
    cpu.reg.b = 61;
    cpu.reg.c = 191;
    cpu.reg.d = 171;
    cpu.reg.e = 71;
    cpu.reg.f = 224;
    cpu.reg.h = 3;
    cpu.reg.l = 246;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[15807] = 0;
    cpu.ram[25974] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 38);
    CHECK(cpu.reg.b == 61);
    CHECK(cpu.reg.c == 191);
    CHECK(cpu.reg.d == 171);
    CHECK(cpu.reg.e == 71);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 3);
    CHECK(cpu.reg.l == 246);
    CHECK(cpu.pc == 25975);
    CHECK(cpu.sp == 21089);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15807] == 38);
    REQUIRE(cpu.ram[25974] == 2);
}

TEST_CASE( "02 0229", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60670;
    cpu.sp = 32905;
    cpu.reg.a = 235;
    cpu.reg.b = 100;
    cpu.reg.c = 229;
    cpu.reg.d = 48;
    cpu.reg.e = 165;
    cpu.reg.f = 192;
    cpu.reg.h = 25;
    cpu.reg.l = 196;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[25829] = 0;
    cpu.ram[60670] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 235);
    CHECK(cpu.reg.b == 100);
    CHECK(cpu.reg.c == 229);
    CHECK(cpu.reg.d == 48);
    CHECK(cpu.reg.e == 165);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 25);
    CHECK(cpu.reg.l == 196);
    CHECK(cpu.pc == 60671);
    CHECK(cpu.sp == 32905);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25829] == 235);
    REQUIRE(cpu.ram[60670] == 2);
}

TEST_CASE( "02 022A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39222;
    cpu.sp = 16707;
    cpu.reg.a = 28;
    cpu.reg.b = 213;
    cpu.reg.c = 66;
    cpu.reg.d = 133;
    cpu.reg.e = 157;
    cpu.reg.f = 96;
    cpu.reg.h = 1;
    cpu.reg.l = 80;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[39222] = 2;
    cpu.ram[54594] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 28);
    CHECK(cpu.reg.b == 213);
    CHECK(cpu.reg.c == 66);
    CHECK(cpu.reg.d == 133);
    CHECK(cpu.reg.e == 157);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 1);
    CHECK(cpu.reg.l == 80);
    CHECK(cpu.pc == 39223);
    CHECK(cpu.sp == 16707);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39222] == 2);
    REQUIRE(cpu.ram[54594] == 28);
}

TEST_CASE( "02 022B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51188;
    cpu.sp = 9106;
    cpu.reg.a = 254;
    cpu.reg.b = 243;
    cpu.reg.c = 96;
    cpu.reg.d = 6;
    cpu.reg.e = 115;
    cpu.reg.f = 96;
    cpu.reg.h = 160;
    cpu.reg.l = 173;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[51188] = 2;
    cpu.ram[62304] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 243);
    CHECK(cpu.reg.c == 96);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 115);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 160);
    CHECK(cpu.reg.l == 173);
    CHECK(cpu.pc == 51189);
    CHECK(cpu.sp == 9106);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[51188] == 2);
    REQUIRE(cpu.ram[62304] == 254);
}

TEST_CASE( "02 022C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57523;
    cpu.sp = 36650;
    cpu.reg.a = 99;
    cpu.reg.b = 7;
    cpu.reg.c = 244;
    cpu.reg.d = 35;
    cpu.reg.e = 37;
    cpu.reg.f = 16;
    cpu.reg.h = 186;
    cpu.reg.l = 221;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[2036] = 0;
    cpu.ram[57523] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 99);
    CHECK(cpu.reg.b == 7);
    CHECK(cpu.reg.c == 244);
    CHECK(cpu.reg.d == 35);
    CHECK(cpu.reg.e == 37);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 186);
    CHECK(cpu.reg.l == 221);
    CHECK(cpu.pc == 57524);
    CHECK(cpu.sp == 36650);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2036] == 99);
    REQUIRE(cpu.ram[57523] == 2);
}

TEST_CASE( "02 022D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41869;
    cpu.sp = 46579;
    cpu.reg.a = 148;
    cpu.reg.b = 84;
    cpu.reg.c = 225;
    cpu.reg.d = 146;
    cpu.reg.e = 190;
    cpu.reg.f = 80;
    cpu.reg.h = 167;
    cpu.reg.l = 126;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[21729] = 0;
    cpu.ram[41869] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 148);
    CHECK(cpu.reg.b == 84);
    CHECK(cpu.reg.c == 225);
    CHECK(cpu.reg.d == 146);
    CHECK(cpu.reg.e == 190);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 167);
    CHECK(cpu.reg.l == 126);
    CHECK(cpu.pc == 41870);
    CHECK(cpu.sp == 46579);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21729] == 148);
    REQUIRE(cpu.ram[41869] == 2);
}

TEST_CASE( "02 022E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37427;
    cpu.sp = 298;
    cpu.reg.a = 155;
    cpu.reg.b = 144;
    cpu.reg.c = 151;
    cpu.reg.d = 250;
    cpu.reg.e = 64;
    cpu.reg.f = 192;
    cpu.reg.h = 116;
    cpu.reg.l = 145;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[37015] = 0;
    cpu.ram[37427] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 155);
    CHECK(cpu.reg.b == 144);
    CHECK(cpu.reg.c == 151);
    CHECK(cpu.reg.d == 250);
    CHECK(cpu.reg.e == 64);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 116);
    CHECK(cpu.reg.l == 145);
    CHECK(cpu.pc == 37428);
    CHECK(cpu.sp == 298);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[37015] == 155);
    REQUIRE(cpu.ram[37427] == 2);
}

TEST_CASE( "02 022F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15352;
    cpu.sp = 45153;
    cpu.reg.a = 29;
    cpu.reg.b = 112;
    cpu.reg.c = 41;
    cpu.reg.d = 166;
    cpu.reg.e = 202;
    cpu.reg.f = 144;
    cpu.reg.h = 77;
    cpu.reg.l = 184;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[15352] = 2;
    cpu.ram[28713] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 29);
    CHECK(cpu.reg.b == 112);
    CHECK(cpu.reg.c == 41);
    CHECK(cpu.reg.d == 166);
    CHECK(cpu.reg.e == 202);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 77);
    CHECK(cpu.reg.l == 184);
    CHECK(cpu.pc == 15353);
    CHECK(cpu.sp == 45153);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15352] == 2);
    REQUIRE(cpu.ram[28713] == 29);
}

TEST_CASE( "02 0230", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13033;
    cpu.sp = 63317;
    cpu.reg.a = 24;
    cpu.reg.b = 201;
    cpu.reg.c = 184;
    cpu.reg.d = 229;
    cpu.reg.e = 242;
    cpu.reg.f = 144;
    cpu.reg.h = 77;
    cpu.reg.l = 44;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[13033] = 2;
    cpu.ram[51640] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 24);
    CHECK(cpu.reg.b == 201);
    CHECK(cpu.reg.c == 184);
    CHECK(cpu.reg.d == 229);
    CHECK(cpu.reg.e == 242);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 77);
    CHECK(cpu.reg.l == 44);
    CHECK(cpu.pc == 13034);
    CHECK(cpu.sp == 63317);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13033] == 2);
    REQUIRE(cpu.ram[51640] == 24);
}

TEST_CASE( "02 0231", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14700;
    cpu.sp = 14334;
    cpu.reg.a = 227;
    cpu.reg.b = 101;
    cpu.reg.c = 94;
    cpu.reg.d = 26;
    cpu.reg.e = 88;
    cpu.reg.f = 144;
    cpu.reg.h = 26;
    cpu.reg.l = 40;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[14700] = 2;
    cpu.ram[25950] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 227);
    CHECK(cpu.reg.b == 101);
    CHECK(cpu.reg.c == 94);
    CHECK(cpu.reg.d == 26);
    CHECK(cpu.reg.e == 88);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 26);
    CHECK(cpu.reg.l == 40);
    CHECK(cpu.pc == 14701);
    CHECK(cpu.sp == 14334);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14700] == 2);
    REQUIRE(cpu.ram[25950] == 227);
}

TEST_CASE( "02 0232", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10255;
    cpu.sp = 23685;
    cpu.reg.a = 162;
    cpu.reg.b = 101;
    cpu.reg.c = 222;
    cpu.reg.d = 64;
    cpu.reg.e = 232;
    cpu.reg.f = 128;
    cpu.reg.h = 192;
    cpu.reg.l = 205;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[10255] = 2;
    cpu.ram[26078] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 162);
    CHECK(cpu.reg.b == 101);
    CHECK(cpu.reg.c == 222);
    CHECK(cpu.reg.d == 64);
    CHECK(cpu.reg.e == 232);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 192);
    CHECK(cpu.reg.l == 205);
    CHECK(cpu.pc == 10256);
    CHECK(cpu.sp == 23685);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10255] == 2);
    REQUIRE(cpu.ram[26078] == 162);
}

TEST_CASE( "02 0233", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7584;
    cpu.sp = 43175;
    cpu.reg.a = 12;
    cpu.reg.b = 181;
    cpu.reg.c = 146;
    cpu.reg.d = 27;
    cpu.reg.e = 142;
    cpu.reg.f = 80;
    cpu.reg.h = 9;
    cpu.reg.l = 116;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[7584] = 2;
    cpu.ram[46482] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 12);
    CHECK(cpu.reg.b == 181);
    CHECK(cpu.reg.c == 146);
    CHECK(cpu.reg.d == 27);
    CHECK(cpu.reg.e == 142);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 9);
    CHECK(cpu.reg.l == 116);
    CHECK(cpu.pc == 7585);
    CHECK(cpu.sp == 43175);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7584] == 2);
    REQUIRE(cpu.ram[46482] == 12);
}

TEST_CASE( "02 0234", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44133;
    cpu.sp = 6520;
    cpu.reg.a = 43;
    cpu.reg.b = 163;
    cpu.reg.c = 244;
    cpu.reg.d = 196;
    cpu.reg.e = 128;
    cpu.reg.f = 208;
    cpu.reg.h = 110;
    cpu.reg.l = 17;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[41972] = 0;
    cpu.ram[44133] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 43);
    CHECK(cpu.reg.b == 163);
    CHECK(cpu.reg.c == 244);
    CHECK(cpu.reg.d == 196);
    CHECK(cpu.reg.e == 128);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 110);
    CHECK(cpu.reg.l == 17);
    CHECK(cpu.pc == 44134);
    CHECK(cpu.sp == 6520);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41972] == 43);
    REQUIRE(cpu.ram[44133] == 2);
}

TEST_CASE( "02 0235", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16637;
    cpu.sp = 22080;
    cpu.reg.a = 5;
    cpu.reg.b = 76;
    cpu.reg.c = 167;
    cpu.reg.d = 203;
    cpu.reg.e = 249;
    cpu.reg.f = 80;
    cpu.reg.h = 4;
    cpu.reg.l = 139;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[16637] = 2;
    cpu.ram[19623] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 5);
    CHECK(cpu.reg.b == 76);
    CHECK(cpu.reg.c == 167);
    CHECK(cpu.reg.d == 203);
    CHECK(cpu.reg.e == 249);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 4);
    CHECK(cpu.reg.l == 139);
    CHECK(cpu.pc == 16638);
    CHECK(cpu.sp == 22080);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16637] == 2);
    REQUIRE(cpu.ram[19623] == 5);
}

TEST_CASE( "02 0236", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1975;
    cpu.sp = 65234;
    cpu.reg.a = 180;
    cpu.reg.b = 205;
    cpu.reg.c = 74;
    cpu.reg.d = 129;
    cpu.reg.e = 74;
    cpu.reg.f = 96;
    cpu.reg.h = 131;
    cpu.reg.l = 196;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[1975] = 2;
    cpu.ram[52554] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 180);
    CHECK(cpu.reg.b == 205);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 129);
    CHECK(cpu.reg.e == 74);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 131);
    CHECK(cpu.reg.l == 196);
    CHECK(cpu.pc == 1976);
    CHECK(cpu.sp == 65234);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1975] == 2);
    REQUIRE(cpu.ram[52554] == 180);
}

TEST_CASE( "02 0237", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3457;
    cpu.sp = 29241;
    cpu.reg.a = 177;
    cpu.reg.b = 154;
    cpu.reg.c = 231;
    cpu.reg.d = 208;
    cpu.reg.e = 221;
    cpu.reg.f = 224;
    cpu.reg.h = 147;
    cpu.reg.l = 210;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[3457] = 2;
    cpu.ram[39655] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 177);
    CHECK(cpu.reg.b == 154);
    CHECK(cpu.reg.c == 231);
    CHECK(cpu.reg.d == 208);
    CHECK(cpu.reg.e == 221);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 147);
    CHECK(cpu.reg.l == 210);
    CHECK(cpu.pc == 3458);
    CHECK(cpu.sp == 29241);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3457] == 2);
    REQUIRE(cpu.ram[39655] == 177);
}

TEST_CASE( "02 0238", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11026;
    cpu.sp = 35092;
    cpu.reg.a = 223;
    cpu.reg.b = 111;
    cpu.reg.c = 230;
    cpu.reg.d = 207;
    cpu.reg.e = 100;
    cpu.reg.f = 32;
    cpu.reg.h = 93;
    cpu.reg.l = 12;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[11026] = 2;
    cpu.ram[28646] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 223);
    CHECK(cpu.reg.b == 111);
    CHECK(cpu.reg.c == 230);
    CHECK(cpu.reg.d == 207);
    CHECK(cpu.reg.e == 100);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 93);
    CHECK(cpu.reg.l == 12);
    CHECK(cpu.pc == 11027);
    CHECK(cpu.sp == 35092);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11026] == 2);
    REQUIRE(cpu.ram[28646] == 223);
}

TEST_CASE( "02 0239", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22193;
    cpu.sp = 38690;
    cpu.reg.a = 121;
    cpu.reg.b = 136;
    cpu.reg.c = 195;
    cpu.reg.d = 73;
    cpu.reg.e = 241;
    cpu.reg.f = 16;
    cpu.reg.h = 171;
    cpu.reg.l = 251;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[22193] = 2;
    cpu.ram[35011] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 121);
    CHECK(cpu.reg.b == 136);
    CHECK(cpu.reg.c == 195);
    CHECK(cpu.reg.d == 73);
    CHECK(cpu.reg.e == 241);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 171);
    CHECK(cpu.reg.l == 251);
    CHECK(cpu.pc == 22194);
    CHECK(cpu.sp == 38690);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22193] == 2);
    REQUIRE(cpu.ram[35011] == 121);
}

TEST_CASE( "02 023A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3591;
    cpu.sp = 65052;
    cpu.reg.a = 209;
    cpu.reg.b = 68;
    cpu.reg.c = 242;
    cpu.reg.d = 209;
    cpu.reg.e = 10;
    cpu.reg.f = 64;
    cpu.reg.h = 80;
    cpu.reg.l = 127;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[3591] = 2;
    cpu.ram[17650] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 209);
    CHECK(cpu.reg.b == 68);
    CHECK(cpu.reg.c == 242);
    CHECK(cpu.reg.d == 209);
    CHECK(cpu.reg.e == 10);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 80);
    CHECK(cpu.reg.l == 127);
    CHECK(cpu.pc == 3592);
    CHECK(cpu.sp == 65052);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3591] == 2);
    REQUIRE(cpu.ram[17650] == 209);
}

TEST_CASE( "02 023B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16029;
    cpu.sp = 6561;
    cpu.reg.a = 241;
    cpu.reg.b = 243;
    cpu.reg.c = 75;
    cpu.reg.d = 7;
    cpu.reg.e = 222;
    cpu.reg.f = 16;
    cpu.reg.h = 57;
    cpu.reg.l = 88;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[16029] = 2;
    cpu.ram[62283] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 241);
    CHECK(cpu.reg.b == 243);
    CHECK(cpu.reg.c == 75);
    CHECK(cpu.reg.d == 7);
    CHECK(cpu.reg.e == 222);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 57);
    CHECK(cpu.reg.l == 88);
    CHECK(cpu.pc == 16030);
    CHECK(cpu.sp == 6561);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16029] == 2);
    REQUIRE(cpu.ram[62283] == 241);
}

TEST_CASE( "02 023C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54289;
    cpu.sp = 46347;
    cpu.reg.a = 172;
    cpu.reg.b = 238;
    cpu.reg.c = 182;
    cpu.reg.d = 147;
    cpu.reg.e = 131;
    cpu.reg.f = 64;
    cpu.reg.h = 63;
    cpu.reg.l = 178;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[54289] = 2;
    cpu.ram[61110] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 172);
    CHECK(cpu.reg.b == 238);
    CHECK(cpu.reg.c == 182);
    CHECK(cpu.reg.d == 147);
    CHECK(cpu.reg.e == 131);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 63);
    CHECK(cpu.reg.l == 178);
    CHECK(cpu.pc == 54290);
    CHECK(cpu.sp == 46347);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54289] == 2);
    REQUIRE(cpu.ram[61110] == 172);
}

TEST_CASE( "02 023D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3649;
    cpu.sp = 61748;
    cpu.reg.a = 254;
    cpu.reg.b = 202;
    cpu.reg.c = 255;
    cpu.reg.d = 152;
    cpu.reg.e = 35;
    cpu.reg.f = 224;
    cpu.reg.h = 151;
    cpu.reg.l = 218;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[3649] = 2;
    cpu.ram[51967] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 202);
    CHECK(cpu.reg.c == 255);
    CHECK(cpu.reg.d == 152);
    CHECK(cpu.reg.e == 35);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 151);
    CHECK(cpu.reg.l == 218);
    CHECK(cpu.pc == 3650);
    CHECK(cpu.sp == 61748);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3649] == 2);
    REQUIRE(cpu.ram[51967] == 254);
}

TEST_CASE( "02 023E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34911;
    cpu.sp = 44053;
    cpu.reg.a = 34;
    cpu.reg.b = 187;
    cpu.reg.c = 35;
    cpu.reg.d = 145;
    cpu.reg.e = 37;
    cpu.reg.f = 64;
    cpu.reg.h = 221;
    cpu.reg.l = 109;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[34911] = 2;
    cpu.ram[47907] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 34);
    CHECK(cpu.reg.b == 187);
    CHECK(cpu.reg.c == 35);
    CHECK(cpu.reg.d == 145);
    CHECK(cpu.reg.e == 37);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 221);
    CHECK(cpu.reg.l == 109);
    CHECK(cpu.pc == 34912);
    CHECK(cpu.sp == 44053);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34911] == 2);
    REQUIRE(cpu.ram[47907] == 34);
}

TEST_CASE( "02 023F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62381;
    cpu.sp = 16849;
    cpu.reg.a = 98;
    cpu.reg.b = 15;
    cpu.reg.c = 213;
    cpu.reg.d = 142;
    cpu.reg.e = 244;
    cpu.reg.f = 208;
    cpu.reg.h = 35;
    cpu.reg.l = 255;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[4053] = 0;
    cpu.ram[62381] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 98);
    CHECK(cpu.reg.b == 15);
    CHECK(cpu.reg.c == 213);
    CHECK(cpu.reg.d == 142);
    CHECK(cpu.reg.e == 244);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 35);
    CHECK(cpu.reg.l == 255);
    CHECK(cpu.pc == 62382);
    CHECK(cpu.sp == 16849);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4053] == 98);
    REQUIRE(cpu.ram[62381] == 2);
}

TEST_CASE( "02 0240", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12766;
    cpu.sp = 34338;
    cpu.reg.a = 241;
    cpu.reg.b = 39;
    cpu.reg.c = 161;
    cpu.reg.d = 109;
    cpu.reg.e = 254;
    cpu.reg.f = 128;
    cpu.reg.h = 162;
    cpu.reg.l = 230;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[10145] = 0;
    cpu.ram[12766] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 241);
    CHECK(cpu.reg.b == 39);
    CHECK(cpu.reg.c == 161);
    CHECK(cpu.reg.d == 109);
    CHECK(cpu.reg.e == 254);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 162);
    CHECK(cpu.reg.l == 230);
    CHECK(cpu.pc == 12767);
    CHECK(cpu.sp == 34338);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10145] == 241);
    REQUIRE(cpu.ram[12766] == 2);
}

TEST_CASE( "02 0241", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1791;
    cpu.sp = 41853;
    cpu.reg.a = 117;
    cpu.reg.b = 146;
    cpu.reg.c = 67;
    cpu.reg.d = 83;
    cpu.reg.e = 63;
    cpu.reg.f = 48;
    cpu.reg.h = 98;
    cpu.reg.l = 32;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1791] = 2;
    cpu.ram[37443] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 117);
    CHECK(cpu.reg.b == 146);
    CHECK(cpu.reg.c == 67);
    CHECK(cpu.reg.d == 83);
    CHECK(cpu.reg.e == 63);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 98);
    CHECK(cpu.reg.l == 32);
    CHECK(cpu.pc == 1792);
    CHECK(cpu.sp == 41853);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1791] == 2);
    REQUIRE(cpu.ram[37443] == 117);
}

TEST_CASE( "02 0242", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29377;
    cpu.sp = 37686;
    cpu.reg.a = 101;
    cpu.reg.b = 33;
    cpu.reg.c = 180;
    cpu.reg.d = 149;
    cpu.reg.e = 50;
    cpu.reg.f = 128;
    cpu.reg.h = 16;
    cpu.reg.l = 197;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[8628] = 0;
    cpu.ram[29377] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 101);
    CHECK(cpu.reg.b == 33);
    CHECK(cpu.reg.c == 180);
    CHECK(cpu.reg.d == 149);
    CHECK(cpu.reg.e == 50);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 16);
    CHECK(cpu.reg.l == 197);
    CHECK(cpu.pc == 29378);
    CHECK(cpu.sp == 37686);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8628] == 101);
    REQUIRE(cpu.ram[29377] == 2);
}

TEST_CASE( "02 0243", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55627;
    cpu.sp = 7801;
    cpu.reg.a = 125;
    cpu.reg.b = 254;
    cpu.reg.c = 213;
    cpu.reg.d = 147;
    cpu.reg.e = 28;
    cpu.reg.f = 112;
    cpu.reg.h = 146;
    cpu.reg.l = 175;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[55627] = 2;
    cpu.ram[65237] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 125);
    CHECK(cpu.reg.b == 254);
    CHECK(cpu.reg.c == 213);
    CHECK(cpu.reg.d == 147);
    CHECK(cpu.reg.e == 28);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 146);
    CHECK(cpu.reg.l == 175);
    CHECK(cpu.pc == 55628);
    CHECK(cpu.sp == 7801);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[55627] == 2);
    REQUIRE(cpu.ram[65237] == 125);
}

TEST_CASE( "02 0244", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62746;
    cpu.sp = 21097;
    cpu.reg.a = 255;
    cpu.reg.b = 170;
    cpu.reg.c = 18;
    cpu.reg.d = 191;
    cpu.reg.e = 42;
    cpu.reg.f = 64;
    cpu.reg.h = 212;
    cpu.reg.l = 138;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[43538] = 0;
    cpu.ram[62746] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 255);
    CHECK(cpu.reg.b == 170);
    CHECK(cpu.reg.c == 18);
    CHECK(cpu.reg.d == 191);
    CHECK(cpu.reg.e == 42);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 212);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 62747);
    CHECK(cpu.sp == 21097);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43538] == 255);
    REQUIRE(cpu.ram[62746] == 2);
}

TEST_CASE( "02 0245", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8891;
    cpu.sp = 18252;
    cpu.reg.a = 56;
    cpu.reg.b = 105;
    cpu.reg.c = 159;
    cpu.reg.d = 115;
    cpu.reg.e = 9;
    cpu.reg.f = 176;
    cpu.reg.h = 204;
    cpu.reg.l = 38;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[8891] = 2;
    cpu.ram[27039] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 56);
    CHECK(cpu.reg.b == 105);
    CHECK(cpu.reg.c == 159);
    CHECK(cpu.reg.d == 115);
    CHECK(cpu.reg.e == 9);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 204);
    CHECK(cpu.reg.l == 38);
    CHECK(cpu.pc == 8892);
    CHECK(cpu.sp == 18252);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8891] == 2);
    REQUIRE(cpu.ram[27039] == 56);
}

TEST_CASE( "02 0246", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26113;
    cpu.sp = 37148;
    cpu.reg.a = 168;
    cpu.reg.b = 180;
    cpu.reg.c = 161;
    cpu.reg.d = 141;
    cpu.reg.e = 86;
    cpu.reg.f = 240;
    cpu.reg.h = 151;
    cpu.reg.l = 125;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26113] = 2;
    cpu.ram[46241] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 168);
    CHECK(cpu.reg.b == 180);
    CHECK(cpu.reg.c == 161);
    CHECK(cpu.reg.d == 141);
    CHECK(cpu.reg.e == 86);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 151);
    CHECK(cpu.reg.l == 125);
    CHECK(cpu.pc == 26114);
    CHECK(cpu.sp == 37148);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26113] == 2);
    REQUIRE(cpu.ram[46241] == 168);
}

TEST_CASE( "02 0247", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17331;
    cpu.sp = 51479;
    cpu.reg.a = 140;
    cpu.reg.b = 89;
    cpu.reg.c = 177;
    cpu.reg.d = 100;
    cpu.reg.e = 92;
    cpu.reg.f = 32;
    cpu.reg.h = 44;
    cpu.reg.l = 43;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[17331] = 2;
    cpu.ram[22961] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 140);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 177);
    CHECK(cpu.reg.d == 100);
    CHECK(cpu.reg.e == 92);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 44);
    CHECK(cpu.reg.l == 43);
    CHECK(cpu.pc == 17332);
    CHECK(cpu.sp == 51479);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17331] == 2);
    REQUIRE(cpu.ram[22961] == 140);
}

TEST_CASE( "02 0248", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24528;
    cpu.sp = 38756;
    cpu.reg.a = 64;
    cpu.reg.b = 20;
    cpu.reg.c = 31;
    cpu.reg.d = 186;
    cpu.reg.e = 179;
    cpu.reg.f = 64;
    cpu.reg.h = 96;
    cpu.reg.l = 236;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[5151] = 0;
    cpu.ram[24528] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 20);
    CHECK(cpu.reg.c == 31);
    CHECK(cpu.reg.d == 186);
    CHECK(cpu.reg.e == 179);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 96);
    CHECK(cpu.reg.l == 236);
    CHECK(cpu.pc == 24529);
    CHECK(cpu.sp == 38756);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5151] == 64);
    REQUIRE(cpu.ram[24528] == 2);
}

TEST_CASE( "02 0249", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6364;
    cpu.sp = 14413;
    cpu.reg.a = 196;
    cpu.reg.b = 48;
    cpu.reg.c = 126;
    cpu.reg.d = 80;
    cpu.reg.e = 167;
    cpu.reg.f = 16;
    cpu.reg.h = 248;
    cpu.reg.l = 43;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[6364] = 2;
    cpu.ram[12414] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 196);
    CHECK(cpu.reg.b == 48);
    CHECK(cpu.reg.c == 126);
    CHECK(cpu.reg.d == 80);
    CHECK(cpu.reg.e == 167);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 248);
    CHECK(cpu.reg.l == 43);
    CHECK(cpu.pc == 6365);
    CHECK(cpu.sp == 14413);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6364] == 2);
    REQUIRE(cpu.ram[12414] == 196);
}

TEST_CASE( "02 024A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40985;
    cpu.sp = 39875;
    cpu.reg.a = 170;
    cpu.reg.b = 219;
    cpu.reg.c = 22;
    cpu.reg.d = 53;
    cpu.reg.e = 13;
    cpu.reg.f = 0;
    cpu.reg.h = 243;
    cpu.reg.l = 214;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[40985] = 2;
    cpu.ram[56086] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 170);
    CHECK(cpu.reg.b == 219);
    CHECK(cpu.reg.c == 22);
    CHECK(cpu.reg.d == 53);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 243);
    CHECK(cpu.reg.l == 214);
    CHECK(cpu.pc == 40986);
    CHECK(cpu.sp == 39875);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40985] == 2);
    REQUIRE(cpu.ram[56086] == 170);
}

TEST_CASE( "02 024B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64372;
    cpu.sp = 17438;
    cpu.reg.a = 153;
    cpu.reg.b = 247;
    cpu.reg.c = 95;
    cpu.reg.d = 211;
    cpu.reg.e = 239;
    cpu.reg.f = 176;
    cpu.reg.h = 191;
    cpu.reg.l = 92;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[63327] = 0;
    cpu.ram[64372] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 153);
    CHECK(cpu.reg.b == 247);
    CHECK(cpu.reg.c == 95);
    CHECK(cpu.reg.d == 211);
    CHECK(cpu.reg.e == 239);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 191);
    CHECK(cpu.reg.l == 92);
    CHECK(cpu.pc == 64373);
    CHECK(cpu.sp == 17438);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[63327] == 153);
    REQUIRE(cpu.ram[64372] == 2);
}

TEST_CASE( "02 024C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33645;
    cpu.sp = 43481;
    cpu.reg.a = 30;
    cpu.reg.b = 49;
    cpu.reg.c = 137;
    cpu.reg.d = 24;
    cpu.reg.e = 94;
    cpu.reg.f = 112;
    cpu.reg.h = 119;
    cpu.reg.l = 226;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[12681] = 0;
    cpu.ram[33645] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 30);
    CHECK(cpu.reg.b == 49);
    CHECK(cpu.reg.c == 137);
    CHECK(cpu.reg.d == 24);
    CHECK(cpu.reg.e == 94);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 119);
    CHECK(cpu.reg.l == 226);
    CHECK(cpu.pc == 33646);
    CHECK(cpu.sp == 43481);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12681] == 30);
    REQUIRE(cpu.ram[33645] == 2);
}

TEST_CASE( "02 024D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57569;
    cpu.sp = 25982;
    cpu.reg.a = 93;
    cpu.reg.b = 237;
    cpu.reg.c = 206;
    cpu.reg.d = 103;
    cpu.reg.e = 188;
    cpu.reg.f = 224;
    cpu.reg.h = 133;
    cpu.reg.l = 222;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[57569] = 2;
    cpu.ram[60878] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 93);
    CHECK(cpu.reg.b == 237);
    CHECK(cpu.reg.c == 206);
    CHECK(cpu.reg.d == 103);
    CHECK(cpu.reg.e == 188);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 133);
    CHECK(cpu.reg.l == 222);
    CHECK(cpu.pc == 57570);
    CHECK(cpu.sp == 25982);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[57569] == 2);
    REQUIRE(cpu.ram[60878] == 93);
}

TEST_CASE( "02 024E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60278;
    cpu.sp = 13071;
    cpu.reg.a = 25;
    cpu.reg.b = 196;
    cpu.reg.c = 121;
    cpu.reg.d = 77;
    cpu.reg.e = 107;
    cpu.reg.f = 0;
    cpu.reg.h = 89;
    cpu.reg.l = 136;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[50297] = 0;
    cpu.ram[60278] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 25);
    CHECK(cpu.reg.b == 196);
    CHECK(cpu.reg.c == 121);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 107);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 89);
    CHECK(cpu.reg.l == 136);
    CHECK(cpu.pc == 60279);
    CHECK(cpu.sp == 13071);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[50297] == 25);
    REQUIRE(cpu.ram[60278] == 2);
}

TEST_CASE( "02 024F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20752;
    cpu.sp = 54574;
    cpu.reg.a = 218;
    cpu.reg.b = 168;
    cpu.reg.c = 192;
    cpu.reg.d = 209;
    cpu.reg.e = 203;
    cpu.reg.f = 240;
    cpu.reg.h = 129;
    cpu.reg.l = 95;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[20752] = 2;
    cpu.ram[43200] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 218);
    CHECK(cpu.reg.b == 168);
    CHECK(cpu.reg.c == 192);
    CHECK(cpu.reg.d == 209);
    CHECK(cpu.reg.e == 203);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 129);
    CHECK(cpu.reg.l == 95);
    CHECK(cpu.pc == 20753);
    CHECK(cpu.sp == 54574);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20752] == 2);
    REQUIRE(cpu.ram[43200] == 218);
}

TEST_CASE( "02 0250", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26650;
    cpu.sp = 32171;
    cpu.reg.a = 216;
    cpu.reg.b = 80;
    cpu.reg.c = 89;
    cpu.reg.d = 9;
    cpu.reg.e = 180;
    cpu.reg.f = 128;
    cpu.reg.h = 28;
    cpu.reg.l = 254;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[20569] = 0;
    cpu.ram[26650] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 80);
    CHECK(cpu.reg.c == 89);
    CHECK(cpu.reg.d == 9);
    CHECK(cpu.reg.e == 180);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 28);
    CHECK(cpu.reg.l == 254);
    CHECK(cpu.pc == 26651);
    CHECK(cpu.sp == 32171);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20569] == 216);
    REQUIRE(cpu.ram[26650] == 2);
}

TEST_CASE( "02 0251", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13598;
    cpu.sp = 56756;
    cpu.reg.a = 192;
    cpu.reg.b = 61;
    cpu.reg.c = 143;
    cpu.reg.d = 66;
    cpu.reg.e = 96;
    cpu.reg.f = 64;
    cpu.reg.h = 145;
    cpu.reg.l = 184;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[13598] = 2;
    cpu.ram[15759] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 192);
    CHECK(cpu.reg.b == 61);
    CHECK(cpu.reg.c == 143);
    CHECK(cpu.reg.d == 66);
    CHECK(cpu.reg.e == 96);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 145);
    CHECK(cpu.reg.l == 184);
    CHECK(cpu.pc == 13599);
    CHECK(cpu.sp == 56756);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13598] == 2);
    REQUIRE(cpu.ram[15759] == 192);
}

TEST_CASE( "02 0252", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29930;
    cpu.sp = 57551;
    cpu.reg.a = 216;
    cpu.reg.b = 255;
    cpu.reg.c = 40;
    cpu.reg.d = 35;
    cpu.reg.e = 108;
    cpu.reg.f = 32;
    cpu.reg.h = 128;
    cpu.reg.l = 15;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[29930] = 2;
    cpu.ram[65320] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 255);
    CHECK(cpu.reg.c == 40);
    CHECK(cpu.reg.d == 35);
    CHECK(cpu.reg.e == 108);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 128);
    CHECK(cpu.reg.l == 15);
    CHECK(cpu.pc == 29931);
    CHECK(cpu.sp == 57551);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[29930] == 2);
    REQUIRE(cpu.ram[65320] == 216);
}

TEST_CASE( "02 0253", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30204;
    cpu.sp = 55912;
    cpu.reg.a = 64;
    cpu.reg.b = 129;
    cpu.reg.c = 42;
    cpu.reg.d = 36;
    cpu.reg.e = 104;
    cpu.reg.f = 16;
    cpu.reg.h = 126;
    cpu.reg.l = 163;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[30204] = 2;
    cpu.ram[33066] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 129);
    CHECK(cpu.reg.c == 42);
    CHECK(cpu.reg.d == 36);
    CHECK(cpu.reg.e == 104);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 126);
    CHECK(cpu.reg.l == 163);
    CHECK(cpu.pc == 30205);
    CHECK(cpu.sp == 55912);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30204] == 2);
    REQUIRE(cpu.ram[33066] == 64);
}

TEST_CASE( "02 0254", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25931;
    cpu.sp = 55101;
    cpu.reg.a = 79;
    cpu.reg.b = 14;
    cpu.reg.c = 152;
    cpu.reg.d = 157;
    cpu.reg.e = 115;
    cpu.reg.f = 48;
    cpu.reg.h = 40;
    cpu.reg.l = 143;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[3736] = 0;
    cpu.ram[25931] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 79);
    CHECK(cpu.reg.b == 14);
    CHECK(cpu.reg.c == 152);
    CHECK(cpu.reg.d == 157);
    CHECK(cpu.reg.e == 115);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 40);
    CHECK(cpu.reg.l == 143);
    CHECK(cpu.pc == 25932);
    CHECK(cpu.sp == 55101);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3736] == 79);
    REQUIRE(cpu.ram[25931] == 2);
}

TEST_CASE( "02 0255", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58452;
    cpu.sp = 17717;
    cpu.reg.a = 162;
    cpu.reg.b = 116;
    cpu.reg.c = 62;
    cpu.reg.d = 82;
    cpu.reg.e = 181;
    cpu.reg.f = 224;
    cpu.reg.h = 13;
    cpu.reg.l = 135;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[29758] = 0;
    cpu.ram[58452] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 162);
    CHECK(cpu.reg.b == 116);
    CHECK(cpu.reg.c == 62);
    CHECK(cpu.reg.d == 82);
    CHECK(cpu.reg.e == 181);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 13);
    CHECK(cpu.reg.l == 135);
    CHECK(cpu.pc == 58453);
    CHECK(cpu.sp == 17717);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29758] == 162);
    REQUIRE(cpu.ram[58452] == 2);
}

TEST_CASE( "02 0256", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11085;
    cpu.sp = 52987;
    cpu.reg.a = 215;
    cpu.reg.b = 178;
    cpu.reg.c = 163;
    cpu.reg.d = 196;
    cpu.reg.e = 104;
    cpu.reg.f = 48;
    cpu.reg.h = 132;
    cpu.reg.l = 2;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[11085] = 2;
    cpu.ram[45731] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 215);
    CHECK(cpu.reg.b == 178);
    CHECK(cpu.reg.c == 163);
    CHECK(cpu.reg.d == 196);
    CHECK(cpu.reg.e == 104);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 132);
    CHECK(cpu.reg.l == 2);
    CHECK(cpu.pc == 11086);
    CHECK(cpu.sp == 52987);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11085] == 2);
    REQUIRE(cpu.ram[45731] == 215);
}

TEST_CASE( "02 0257", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23740;
    cpu.sp = 41127;
    cpu.reg.a = 55;
    cpu.reg.b = 54;
    cpu.reg.c = 2;
    cpu.reg.d = 17;
    cpu.reg.e = 109;
    cpu.reg.f = 96;
    cpu.reg.h = 181;
    cpu.reg.l = 235;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[13826] = 0;
    cpu.ram[23740] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 55);
    CHECK(cpu.reg.b == 54);
    CHECK(cpu.reg.c == 2);
    CHECK(cpu.reg.d == 17);
    CHECK(cpu.reg.e == 109);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 181);
    CHECK(cpu.reg.l == 235);
    CHECK(cpu.pc == 23741);
    CHECK(cpu.sp == 41127);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13826] == 55);
    REQUIRE(cpu.ram[23740] == 2);
}

TEST_CASE( "02 0258", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50951;
    cpu.sp = 47205;
    cpu.reg.a = 63;
    cpu.reg.b = 223;
    cpu.reg.c = 105;
    cpu.reg.d = 76;
    cpu.reg.e = 141;
    cpu.reg.f = 32;
    cpu.reg.h = 141;
    cpu.reg.l = 58;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[50951] = 2;
    cpu.ram[57193] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 63);
    CHECK(cpu.reg.b == 223);
    CHECK(cpu.reg.c == 105);
    CHECK(cpu.reg.d == 76);
    CHECK(cpu.reg.e == 141);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 141);
    CHECK(cpu.reg.l == 58);
    CHECK(cpu.pc == 50952);
    CHECK(cpu.sp == 47205);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[50951] == 2);
    REQUIRE(cpu.ram[57193] == 63);
}

TEST_CASE( "02 0259", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35839;
    cpu.sp = 29461;
    cpu.reg.a = 2;
    cpu.reg.b = 177;
    cpu.reg.c = 54;
    cpu.reg.d = 172;
    cpu.reg.e = 214;
    cpu.reg.f = 96;
    cpu.reg.h = 41;
    cpu.reg.l = 179;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[35839] = 2;
    cpu.ram[45366] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 2);
    CHECK(cpu.reg.b == 177);
    CHECK(cpu.reg.c == 54);
    CHECK(cpu.reg.d == 172);
    CHECK(cpu.reg.e == 214);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 41);
    CHECK(cpu.reg.l == 179);
    CHECK(cpu.pc == 35840);
    CHECK(cpu.sp == 29461);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35839] == 2);
    REQUIRE(cpu.ram[45366] == 2);
}

TEST_CASE( "02 025A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46275;
    cpu.sp = 9297;
    cpu.reg.a = 187;
    cpu.reg.b = 247;
    cpu.reg.c = 51;
    cpu.reg.d = 30;
    cpu.reg.e = 43;
    cpu.reg.f = 48;
    cpu.reg.h = 61;
    cpu.reg.l = 99;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[46275] = 2;
    cpu.ram[63283] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 187);
    CHECK(cpu.reg.b == 247);
    CHECK(cpu.reg.c == 51);
    CHECK(cpu.reg.d == 30);
    CHECK(cpu.reg.e == 43);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 61);
    CHECK(cpu.reg.l == 99);
    CHECK(cpu.pc == 46276);
    CHECK(cpu.sp == 9297);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[46275] == 2);
    REQUIRE(cpu.ram[63283] == 187);
}

TEST_CASE( "02 025B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54197;
    cpu.sp = 17098;
    cpu.reg.a = 134;
    cpu.reg.b = 134;
    cpu.reg.c = 158;
    cpu.reg.d = 5;
    cpu.reg.e = 55;
    cpu.reg.f = 192;
    cpu.reg.h = 47;
    cpu.reg.l = 152;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[34462] = 0;
    cpu.ram[54197] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 134);
    CHECK(cpu.reg.b == 134);
    CHECK(cpu.reg.c == 158);
    CHECK(cpu.reg.d == 5);
    CHECK(cpu.reg.e == 55);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 47);
    CHECK(cpu.reg.l == 152);
    CHECK(cpu.pc == 54198);
    CHECK(cpu.sp == 17098);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[34462] == 134);
    REQUIRE(cpu.ram[54197] == 2);
}

TEST_CASE( "02 025C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41870;
    cpu.sp = 23742;
    cpu.reg.a = 154;
    cpu.reg.b = 75;
    cpu.reg.c = 207;
    cpu.reg.d = 102;
    cpu.reg.e = 2;
    cpu.reg.f = 224;
    cpu.reg.h = 147;
    cpu.reg.l = 245;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[19407] = 0;
    cpu.ram[41870] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 154);
    CHECK(cpu.reg.b == 75);
    CHECK(cpu.reg.c == 207);
    CHECK(cpu.reg.d == 102);
    CHECK(cpu.reg.e == 2);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 147);
    CHECK(cpu.reg.l == 245);
    CHECK(cpu.pc == 41871);
    CHECK(cpu.sp == 23742);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19407] == 154);
    REQUIRE(cpu.ram[41870] == 2);
}

TEST_CASE( "02 025D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51735;
    cpu.sp = 45300;
    cpu.reg.a = 212;
    cpu.reg.b = 33;
    cpu.reg.c = 90;
    cpu.reg.d = 245;
    cpu.reg.e = 98;
    cpu.reg.f = 96;
    cpu.reg.h = 54;
    cpu.reg.l = 8;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[8538] = 0;
    cpu.ram[51735] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 212);
    CHECK(cpu.reg.b == 33);
    CHECK(cpu.reg.c == 90);
    CHECK(cpu.reg.d == 245);
    CHECK(cpu.reg.e == 98);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 54);
    CHECK(cpu.reg.l == 8);
    CHECK(cpu.pc == 51736);
    CHECK(cpu.sp == 45300);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8538] == 212);
    REQUIRE(cpu.ram[51735] == 2);
}

TEST_CASE( "02 025E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16403;
    cpu.sp = 12184;
    cpu.reg.a = 1;
    cpu.reg.b = 98;
    cpu.reg.c = 239;
    cpu.reg.d = 223;
    cpu.reg.e = 47;
    cpu.reg.f = 224;
    cpu.reg.h = 189;
    cpu.reg.l = 238;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[16403] = 2;
    cpu.ram[25327] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 1);
    CHECK(cpu.reg.b == 98);
    CHECK(cpu.reg.c == 239);
    CHECK(cpu.reg.d == 223);
    CHECK(cpu.reg.e == 47);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 189);
    CHECK(cpu.reg.l == 238);
    CHECK(cpu.pc == 16404);
    CHECK(cpu.sp == 12184);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16403] == 2);
    REQUIRE(cpu.ram[25327] == 1);
}

TEST_CASE( "02 025F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36751;
    cpu.sp = 29947;
    cpu.reg.a = 85;
    cpu.reg.b = 8;
    cpu.reg.c = 166;
    cpu.reg.d = 241;
    cpu.reg.e = 182;
    cpu.reg.f = 240;
    cpu.reg.h = 212;
    cpu.reg.l = 72;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[2214] = 0;
    cpu.ram[36751] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 85);
    CHECK(cpu.reg.b == 8);
    CHECK(cpu.reg.c == 166);
    CHECK(cpu.reg.d == 241);
    CHECK(cpu.reg.e == 182);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 212);
    CHECK(cpu.reg.l == 72);
    CHECK(cpu.pc == 36752);
    CHECK(cpu.sp == 29947);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2214] == 85);
    REQUIRE(cpu.ram[36751] == 2);
}

TEST_CASE( "02 0260", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8464;
    cpu.sp = 12657;
    cpu.reg.a = 157;
    cpu.reg.b = 51;
    cpu.reg.c = 249;
    cpu.reg.d = 6;
    cpu.reg.e = 222;
    cpu.reg.f = 240;
    cpu.reg.h = 242;
    cpu.reg.l = 102;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[8464] = 2;
    cpu.ram[13305] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 157);
    CHECK(cpu.reg.b == 51);
    CHECK(cpu.reg.c == 249);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 222);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 102);
    CHECK(cpu.pc == 8465);
    CHECK(cpu.sp == 12657);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8464] == 2);
    REQUIRE(cpu.ram[13305] == 157);
}

TEST_CASE( "02 0261", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10087;
    cpu.sp = 10937;
    cpu.reg.a = 27;
    cpu.reg.b = 74;
    cpu.reg.c = 255;
    cpu.reg.d = 25;
    cpu.reg.e = 223;
    cpu.reg.f = 64;
    cpu.reg.h = 49;
    cpu.reg.l = 154;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[10087] = 2;
    cpu.ram[19199] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 27);
    CHECK(cpu.reg.b == 74);
    CHECK(cpu.reg.c == 255);
    CHECK(cpu.reg.d == 25);
    CHECK(cpu.reg.e == 223);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 49);
    CHECK(cpu.reg.l == 154);
    CHECK(cpu.pc == 10088);
    CHECK(cpu.sp == 10937);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10087] == 2);
    REQUIRE(cpu.ram[19199] == 27);
}

TEST_CASE( "02 0262", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25593;
    cpu.sp = 30367;
    cpu.reg.a = 78;
    cpu.reg.b = 32;
    cpu.reg.c = 126;
    cpu.reg.d = 50;
    cpu.reg.e = 46;
    cpu.reg.f = 32;
    cpu.reg.h = 25;
    cpu.reg.l = 220;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[8318] = 0;
    cpu.ram[25593] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 78);
    CHECK(cpu.reg.b == 32);
    CHECK(cpu.reg.c == 126);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 46);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 25);
    CHECK(cpu.reg.l == 220);
    CHECK(cpu.pc == 25594);
    CHECK(cpu.sp == 30367);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8318] == 78);
    REQUIRE(cpu.ram[25593] == 2);
}

TEST_CASE( "02 0263", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19490;
    cpu.sp = 14890;
    cpu.reg.a = 48;
    cpu.reg.b = 18;
    cpu.reg.c = 250;
    cpu.reg.d = 93;
    cpu.reg.e = 111;
    cpu.reg.f = 32;
    cpu.reg.h = 126;
    cpu.reg.l = 134;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[4858] = 0;
    cpu.ram[19490] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 48);
    CHECK(cpu.reg.b == 18);
    CHECK(cpu.reg.c == 250);
    CHECK(cpu.reg.d == 93);
    CHECK(cpu.reg.e == 111);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 126);
    CHECK(cpu.reg.l == 134);
    CHECK(cpu.pc == 19491);
    CHECK(cpu.sp == 14890);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4858] == 48);
    REQUIRE(cpu.ram[19490] == 2);
}

TEST_CASE( "02 0264", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59473;
    cpu.sp = 53788;
    cpu.reg.a = 118;
    cpu.reg.b = 59;
    cpu.reg.c = 255;
    cpu.reg.d = 143;
    cpu.reg.e = 170;
    cpu.reg.f = 144;
    cpu.reg.h = 156;
    cpu.reg.l = 255;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[15359] = 0;
    cpu.ram[59473] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 118);
    CHECK(cpu.reg.b == 59);
    CHECK(cpu.reg.c == 255);
    CHECK(cpu.reg.d == 143);
    CHECK(cpu.reg.e == 170);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 156);
    CHECK(cpu.reg.l == 255);
    CHECK(cpu.pc == 59474);
    CHECK(cpu.sp == 53788);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15359] == 118);
    REQUIRE(cpu.ram[59473] == 2);
}

TEST_CASE( "02 0265", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61504;
    cpu.sp = 39186;
    cpu.reg.a = 205;
    cpu.reg.b = 250;
    cpu.reg.c = 129;
    cpu.reg.d = 224;
    cpu.reg.e = 101;
    cpu.reg.f = 64;
    cpu.reg.h = 38;
    cpu.reg.l = 101;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[61504] = 2;
    cpu.ram[64129] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 205);
    CHECK(cpu.reg.b == 250);
    CHECK(cpu.reg.c == 129);
    CHECK(cpu.reg.d == 224);
    CHECK(cpu.reg.e == 101);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 38);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 61505);
    CHECK(cpu.sp == 39186);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61504] == 2);
    REQUIRE(cpu.ram[64129] == 205);
}

TEST_CASE( "02 0266", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9115;
    cpu.sp = 16082;
    cpu.reg.a = 64;
    cpu.reg.b = 58;
    cpu.reg.c = 24;
    cpu.reg.d = 119;
    cpu.reg.e = 112;
    cpu.reg.f = 176;
    cpu.reg.h = 238;
    cpu.reg.l = 81;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[9115] = 2;
    cpu.ram[14872] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 58);
    CHECK(cpu.reg.c == 24);
    CHECK(cpu.reg.d == 119);
    CHECK(cpu.reg.e == 112);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 238);
    CHECK(cpu.reg.l == 81);
    CHECK(cpu.pc == 9116);
    CHECK(cpu.sp == 16082);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9115] == 2);
    REQUIRE(cpu.ram[14872] == 64);
}

TEST_CASE( "02 0267", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41842;
    cpu.sp = 10782;
    cpu.reg.a = 204;
    cpu.reg.b = 91;
    cpu.reg.c = 68;
    cpu.reg.d = 156;
    cpu.reg.e = 181;
    cpu.reg.f = 192;
    cpu.reg.h = 63;
    cpu.reg.l = 235;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[23364] = 0;
    cpu.ram[41842] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 204);
    CHECK(cpu.reg.b == 91);
    CHECK(cpu.reg.c == 68);
    CHECK(cpu.reg.d == 156);
    CHECK(cpu.reg.e == 181);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 63);
    CHECK(cpu.reg.l == 235);
    CHECK(cpu.pc == 41843);
    CHECK(cpu.sp == 10782);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23364] == 204);
    REQUIRE(cpu.ram[41842] == 2);
}

TEST_CASE( "02 0268", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58062;
    cpu.sp = 53245;
    cpu.reg.a = 131;
    cpu.reg.b = 206;
    cpu.reg.c = 249;
    cpu.reg.d = 239;
    cpu.reg.e = 61;
    cpu.reg.f = 16;
    cpu.reg.h = 146;
    cpu.reg.l = 50;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[52985] = 0;
    cpu.ram[58062] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 131);
    CHECK(cpu.reg.b == 206);
    CHECK(cpu.reg.c == 249);
    CHECK(cpu.reg.d == 239);
    CHECK(cpu.reg.e == 61);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 146);
    CHECK(cpu.reg.l == 50);
    CHECK(cpu.pc == 58063);
    CHECK(cpu.sp == 53245);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[52985] == 131);
    REQUIRE(cpu.ram[58062] == 2);
}

TEST_CASE( "02 0269", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13465;
    cpu.sp = 50042;
    cpu.reg.a = 220;
    cpu.reg.b = 219;
    cpu.reg.c = 185;
    cpu.reg.d = 57;
    cpu.reg.e = 64;
    cpu.reg.f = 144;
    cpu.reg.h = 33;
    cpu.reg.l = 3;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[13465] = 2;
    cpu.ram[56249] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 220);
    CHECK(cpu.reg.b == 219);
    CHECK(cpu.reg.c == 185);
    CHECK(cpu.reg.d == 57);
    CHECK(cpu.reg.e == 64);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 33);
    CHECK(cpu.reg.l == 3);
    CHECK(cpu.pc == 13466);
    CHECK(cpu.sp == 50042);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13465] == 2);
    REQUIRE(cpu.ram[56249] == 220);
}

TEST_CASE( "02 026A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46904;
    cpu.sp = 59147;
    cpu.reg.a = 49;
    cpu.reg.b = 44;
    cpu.reg.c = 63;
    cpu.reg.d = 42;
    cpu.reg.e = 159;
    cpu.reg.f = 64;
    cpu.reg.h = 106;
    cpu.reg.l = 110;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[11327] = 0;
    cpu.ram[46904] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 49);
    CHECK(cpu.reg.b == 44);
    CHECK(cpu.reg.c == 63);
    CHECK(cpu.reg.d == 42);
    CHECK(cpu.reg.e == 159);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 106);
    CHECK(cpu.reg.l == 110);
    CHECK(cpu.pc == 46905);
    CHECK(cpu.sp == 59147);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11327] == 49);
    REQUIRE(cpu.ram[46904] == 2);
}

TEST_CASE( "02 026B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61530;
    cpu.sp = 35575;
    cpu.reg.a = 91;
    cpu.reg.b = 81;
    cpu.reg.c = 2;
    cpu.reg.d = 154;
    cpu.reg.e = 50;
    cpu.reg.f = 144;
    cpu.reg.h = 120;
    cpu.reg.l = 40;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[20738] = 0;
    cpu.ram[61530] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 91);
    CHECK(cpu.reg.b == 81);
    CHECK(cpu.reg.c == 2);
    CHECK(cpu.reg.d == 154);
    CHECK(cpu.reg.e == 50);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 120);
    CHECK(cpu.reg.l == 40);
    CHECK(cpu.pc == 61531);
    CHECK(cpu.sp == 35575);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20738] == 91);
    REQUIRE(cpu.ram[61530] == 2);
}

TEST_CASE( "02 026C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3398;
    cpu.sp = 20818;
    cpu.reg.a = 162;
    cpu.reg.b = 219;
    cpu.reg.c = 246;
    cpu.reg.d = 148;
    cpu.reg.e = 155;
    cpu.reg.f = 160;
    cpu.reg.h = 53;
    cpu.reg.l = 30;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[3398] = 2;
    cpu.ram[56310] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 162);
    CHECK(cpu.reg.b == 219);
    CHECK(cpu.reg.c == 246);
    CHECK(cpu.reg.d == 148);
    CHECK(cpu.reg.e == 155);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 53);
    CHECK(cpu.reg.l == 30);
    CHECK(cpu.pc == 3399);
    CHECK(cpu.sp == 20818);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3398] == 2);
    REQUIRE(cpu.ram[56310] == 162);
}

TEST_CASE( "02 026D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3558;
    cpu.sp = 28184;
    cpu.reg.a = 135;
    cpu.reg.b = 184;
    cpu.reg.c = 146;
    cpu.reg.d = 34;
    cpu.reg.e = 153;
    cpu.reg.f = 48;
    cpu.reg.h = 17;
    cpu.reg.l = 30;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[3558] = 2;
    cpu.ram[47250] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 135);
    CHECK(cpu.reg.b == 184);
    CHECK(cpu.reg.c == 146);
    CHECK(cpu.reg.d == 34);
    CHECK(cpu.reg.e == 153);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 30);
    CHECK(cpu.pc == 3559);
    CHECK(cpu.sp == 28184);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3558] == 2);
    REQUIRE(cpu.ram[47250] == 135);
}

TEST_CASE( "02 026E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31071;
    cpu.sp = 19778;
    cpu.reg.a = 67;
    cpu.reg.b = 21;
    cpu.reg.c = 226;
    cpu.reg.d = 29;
    cpu.reg.e = 141;
    cpu.reg.f = 64;
    cpu.reg.h = 100;
    cpu.reg.l = 212;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[5602] = 0;
    cpu.ram[31071] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 67);
    CHECK(cpu.reg.b == 21);
    CHECK(cpu.reg.c == 226);
    CHECK(cpu.reg.d == 29);
    CHECK(cpu.reg.e == 141);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 100);
    CHECK(cpu.reg.l == 212);
    CHECK(cpu.pc == 31072);
    CHECK(cpu.sp == 19778);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5602] == 67);
    REQUIRE(cpu.ram[31071] == 2);
}

TEST_CASE( "02 026F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57975;
    cpu.sp = 59873;
    cpu.reg.a = 68;
    cpu.reg.b = 214;
    cpu.reg.c = 93;
    cpu.reg.d = 193;
    cpu.reg.e = 78;
    cpu.reg.f = 64;
    cpu.reg.h = 110;
    cpu.reg.l = 66;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[54877] = 0;
    cpu.ram[57975] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 68);
    CHECK(cpu.reg.b == 214);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 193);
    CHECK(cpu.reg.e == 78);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 110);
    CHECK(cpu.reg.l == 66);
    CHECK(cpu.pc == 57976);
    CHECK(cpu.sp == 59873);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[54877] == 68);
    REQUIRE(cpu.ram[57975] == 2);
}

TEST_CASE( "02 0270", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6239;
    cpu.sp = 14907;
    cpu.reg.a = 212;
    cpu.reg.b = 193;
    cpu.reg.c = 113;
    cpu.reg.d = 31;
    cpu.reg.e = 9;
    cpu.reg.f = 192;
    cpu.reg.h = 28;
    cpu.reg.l = 202;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[6239] = 2;
    cpu.ram[49521] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 212);
    CHECK(cpu.reg.b == 193);
    CHECK(cpu.reg.c == 113);
    CHECK(cpu.reg.d == 31);
    CHECK(cpu.reg.e == 9);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 28);
    CHECK(cpu.reg.l == 202);
    CHECK(cpu.pc == 6240);
    CHECK(cpu.sp == 14907);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6239] == 2);
    REQUIRE(cpu.ram[49521] == 212);
}

TEST_CASE( "02 0271", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9578;
    cpu.sp = 51199;
    cpu.reg.a = 143;
    cpu.reg.b = 108;
    cpu.reg.c = 64;
    cpu.reg.d = 25;
    cpu.reg.e = 70;
    cpu.reg.f = 64;
    cpu.reg.h = 187;
    cpu.reg.l = 148;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[9578] = 2;
    cpu.ram[27712] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 143);
    CHECK(cpu.reg.b == 108);
    CHECK(cpu.reg.c == 64);
    CHECK(cpu.reg.d == 25);
    CHECK(cpu.reg.e == 70);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 187);
    CHECK(cpu.reg.l == 148);
    CHECK(cpu.pc == 9579);
    CHECK(cpu.sp == 51199);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9578] == 2);
    REQUIRE(cpu.ram[27712] == 143);
}

TEST_CASE( "02 0272", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23570;
    cpu.sp = 63100;
    cpu.reg.a = 68;
    cpu.reg.b = 94;
    cpu.reg.c = 183;
    cpu.reg.d = 104;
    cpu.reg.e = 107;
    cpu.reg.f = 160;
    cpu.reg.h = 40;
    cpu.reg.l = 214;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[23570] = 2;
    cpu.ram[24247] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 68);
    CHECK(cpu.reg.b == 94);
    CHECK(cpu.reg.c == 183);
    CHECK(cpu.reg.d == 104);
    CHECK(cpu.reg.e == 107);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 40);
    CHECK(cpu.reg.l == 214);
    CHECK(cpu.pc == 23571);
    CHECK(cpu.sp == 63100);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[23570] == 2);
    REQUIRE(cpu.ram[24247] == 68);
}

TEST_CASE( "02 0273", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54876;
    cpu.sp = 9831;
    cpu.reg.a = 104;
    cpu.reg.b = 60;
    cpu.reg.c = 79;
    cpu.reg.d = 217;
    cpu.reg.e = 91;
    cpu.reg.f = 80;
    cpu.reg.h = 40;
    cpu.reg.l = 170;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[15439] = 0;
    cpu.ram[54876] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 104);
    CHECK(cpu.reg.b == 60);
    CHECK(cpu.reg.c == 79);
    CHECK(cpu.reg.d == 217);
    CHECK(cpu.reg.e == 91);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 40);
    CHECK(cpu.reg.l == 170);
    CHECK(cpu.pc == 54877);
    CHECK(cpu.sp == 9831);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15439] == 104);
    REQUIRE(cpu.ram[54876] == 2);
}

TEST_CASE( "02 0274", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29766;
    cpu.sp = 13449;
    cpu.reg.a = 154;
    cpu.reg.b = 112;
    cpu.reg.c = 173;
    cpu.reg.d = 66;
    cpu.reg.e = 150;
    cpu.reg.f = 144;
    cpu.reg.h = 49;
    cpu.reg.l = 208;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[28845] = 0;
    cpu.ram[29766] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 154);
    CHECK(cpu.reg.b == 112);
    CHECK(cpu.reg.c == 173);
    CHECK(cpu.reg.d == 66);
    CHECK(cpu.reg.e == 150);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 49);
    CHECK(cpu.reg.l == 208);
    CHECK(cpu.pc == 29767);
    CHECK(cpu.sp == 13449);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[28845] == 154);
    REQUIRE(cpu.ram[29766] == 2);
}

TEST_CASE( "02 0275", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8066;
    cpu.sp = 8047;
    cpu.reg.a = 178;
    cpu.reg.b = 204;
    cpu.reg.c = 193;
    cpu.reg.d = 228;
    cpu.reg.e = 14;
    cpu.reg.f = 32;
    cpu.reg.h = 222;
    cpu.reg.l = 224;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[8066] = 2;
    cpu.ram[52417] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 178);
    CHECK(cpu.reg.b == 204);
    CHECK(cpu.reg.c == 193);
    CHECK(cpu.reg.d == 228);
    CHECK(cpu.reg.e == 14);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 222);
    CHECK(cpu.reg.l == 224);
    CHECK(cpu.pc == 8067);
    CHECK(cpu.sp == 8047);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8066] == 2);
    REQUIRE(cpu.ram[52417] == 178);
}

TEST_CASE( "02 0276", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33231;
    cpu.sp = 38535;
    cpu.reg.a = 82;
    cpu.reg.b = 65;
    cpu.reg.c = 175;
    cpu.reg.d = 16;
    cpu.reg.e = 112;
    cpu.reg.f = 192;
    cpu.reg.h = 134;
    cpu.reg.l = 62;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[16815] = 0;
    cpu.ram[33231] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 82);
    CHECK(cpu.reg.b == 65);
    CHECK(cpu.reg.c == 175);
    CHECK(cpu.reg.d == 16);
    CHECK(cpu.reg.e == 112);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 134);
    CHECK(cpu.reg.l == 62);
    CHECK(cpu.pc == 33232);
    CHECK(cpu.sp == 38535);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16815] == 82);
    REQUIRE(cpu.ram[33231] == 2);
}

TEST_CASE( "02 0277", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5730;
    cpu.sp = 14943;
    cpu.reg.a = 243;
    cpu.reg.b = 134;
    cpu.reg.c = 116;
    cpu.reg.d = 34;
    cpu.reg.e = 57;
    cpu.reg.f = 32;
    cpu.reg.h = 76;
    cpu.reg.l = 105;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[5730] = 2;
    cpu.ram[34420] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 243);
    CHECK(cpu.reg.b == 134);
    CHECK(cpu.reg.c == 116);
    CHECK(cpu.reg.d == 34);
    CHECK(cpu.reg.e == 57);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 76);
    CHECK(cpu.reg.l == 105);
    CHECK(cpu.pc == 5731);
    CHECK(cpu.sp == 14943);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5730] == 2);
    REQUIRE(cpu.ram[34420] == 243);
}

TEST_CASE( "02 0278", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22624;
    cpu.sp = 37836;
    cpu.reg.a = 184;
    cpu.reg.b = 35;
    cpu.reg.c = 173;
    cpu.reg.d = 91;
    cpu.reg.e = 110;
    cpu.reg.f = 144;
    cpu.reg.h = 46;
    cpu.reg.l = 124;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[9133] = 0;
    cpu.ram[22624] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 184);
    CHECK(cpu.reg.b == 35);
    CHECK(cpu.reg.c == 173);
    CHECK(cpu.reg.d == 91);
    CHECK(cpu.reg.e == 110);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 46);
    CHECK(cpu.reg.l == 124);
    CHECK(cpu.pc == 22625);
    CHECK(cpu.sp == 37836);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9133] == 184);
    REQUIRE(cpu.ram[22624] == 2);
}

TEST_CASE( "02 0279", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60400;
    cpu.sp = 10045;
    cpu.reg.a = 246;
    cpu.reg.b = 59;
    cpu.reg.c = 14;
    cpu.reg.d = 216;
    cpu.reg.e = 196;
    cpu.reg.f = 224;
    cpu.reg.h = 68;
    cpu.reg.l = 186;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[15118] = 0;
    cpu.ram[60400] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 246);
    CHECK(cpu.reg.b == 59);
    CHECK(cpu.reg.c == 14);
    CHECK(cpu.reg.d == 216);
    CHECK(cpu.reg.e == 196);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 68);
    CHECK(cpu.reg.l == 186);
    CHECK(cpu.pc == 60401);
    CHECK(cpu.sp == 10045);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15118] == 246);
    REQUIRE(cpu.ram[60400] == 2);
}

TEST_CASE( "02 027A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24925;
    cpu.sp = 2775;
    cpu.reg.a = 220;
    cpu.reg.b = 121;
    cpu.reg.c = 145;
    cpu.reg.d = 224;
    cpu.reg.e = 198;
    cpu.reg.f = 112;
    cpu.reg.h = 220;
    cpu.reg.l = 101;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[24925] = 2;
    cpu.ram[31121] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 220);
    CHECK(cpu.reg.b == 121);
    CHECK(cpu.reg.c == 145);
    CHECK(cpu.reg.d == 224);
    CHECK(cpu.reg.e == 198);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 220);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 24926);
    CHECK(cpu.sp == 2775);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24925] == 2);
    REQUIRE(cpu.ram[31121] == 220);
}

TEST_CASE( "02 027B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31399;
    cpu.sp = 18286;
    cpu.reg.a = 168;
    cpu.reg.b = 11;
    cpu.reg.c = 250;
    cpu.reg.d = 55;
    cpu.reg.e = 8;
    cpu.reg.f = 176;
    cpu.reg.h = 181;
    cpu.reg.l = 84;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[3066] = 0;
    cpu.ram[31399] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 168);
    CHECK(cpu.reg.b == 11);
    CHECK(cpu.reg.c == 250);
    CHECK(cpu.reg.d == 55);
    CHECK(cpu.reg.e == 8);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 181);
    CHECK(cpu.reg.l == 84);
    CHECK(cpu.pc == 31400);
    CHECK(cpu.sp == 18286);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3066] == 168);
    REQUIRE(cpu.ram[31399] == 2);
}

TEST_CASE( "02 027C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21997;
    cpu.sp = 7058;
    cpu.reg.a = 169;
    cpu.reg.b = 16;
    cpu.reg.c = 1;
    cpu.reg.d = 111;
    cpu.reg.e = 42;
    cpu.reg.f = 224;
    cpu.reg.h = 215;
    cpu.reg.l = 252;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[4097] = 0;
    cpu.ram[21997] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 169);
    CHECK(cpu.reg.b == 16);
    CHECK(cpu.reg.c == 1);
    CHECK(cpu.reg.d == 111);
    CHECK(cpu.reg.e == 42);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 215);
    CHECK(cpu.reg.l == 252);
    CHECK(cpu.pc == 21998);
    CHECK(cpu.sp == 7058);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4097] == 169);
    REQUIRE(cpu.ram[21997] == 2);
}

TEST_CASE( "02 027D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18029;
    cpu.sp = 64985;
    cpu.reg.a = 118;
    cpu.reg.b = 195;
    cpu.reg.c = 208;
    cpu.reg.d = 50;
    cpu.reg.e = 82;
    cpu.reg.f = 32;
    cpu.reg.h = 143;
    cpu.reg.l = 222;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[18029] = 2;
    cpu.ram[50128] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 118);
    CHECK(cpu.reg.b == 195);
    CHECK(cpu.reg.c == 208);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 82);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 143);
    CHECK(cpu.reg.l == 222);
    CHECK(cpu.pc == 18030);
    CHECK(cpu.sp == 64985);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18029] == 2);
    REQUIRE(cpu.ram[50128] == 118);
}

TEST_CASE( "02 027E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61962;
    cpu.sp = 55919;
    cpu.reg.a = 91;
    cpu.reg.b = 123;
    cpu.reg.c = 74;
    cpu.reg.d = 50;
    cpu.reg.e = 246;
    cpu.reg.f = 240;
    cpu.reg.h = 135;
    cpu.reg.l = 73;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[31562] = 0;
    cpu.ram[61962] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 91);
    CHECK(cpu.reg.b == 123);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 246);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 135);
    CHECK(cpu.reg.l == 73);
    CHECK(cpu.pc == 61963);
    CHECK(cpu.sp == 55919);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31562] == 91);
    REQUIRE(cpu.ram[61962] == 2);
}

TEST_CASE( "02 027F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26631;
    cpu.sp = 663;
    cpu.reg.a = 146;
    cpu.reg.b = 28;
    cpu.reg.c = 30;
    cpu.reg.d = 8;
    cpu.reg.e = 155;
    cpu.reg.f = 0;
    cpu.reg.h = 81;
    cpu.reg.l = 181;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[7198] = 0;
    cpu.ram[26631] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 146);
    CHECK(cpu.reg.b == 28);
    CHECK(cpu.reg.c == 30);
    CHECK(cpu.reg.d == 8);
    CHECK(cpu.reg.e == 155);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 81);
    CHECK(cpu.reg.l == 181);
    CHECK(cpu.pc == 26632);
    CHECK(cpu.sp == 663);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7198] == 146);
    REQUIRE(cpu.ram[26631] == 2);
}

TEST_CASE( "02 0280", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47206;
    cpu.sp = 16216;
    cpu.reg.a = 125;
    cpu.reg.b = 249;
    cpu.reg.c = 237;
    cpu.reg.d = 3;
    cpu.reg.e = 35;
    cpu.reg.f = 144;
    cpu.reg.h = 255;
    cpu.reg.l = 67;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47206] = 2;
    cpu.ram[63981] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 125);
    CHECK(cpu.reg.b == 249);
    CHECK(cpu.reg.c == 237);
    CHECK(cpu.reg.d == 3);
    CHECK(cpu.reg.e == 35);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 255);
    CHECK(cpu.reg.l == 67);
    CHECK(cpu.pc == 47207);
    CHECK(cpu.sp == 16216);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47206] == 2);
    REQUIRE(cpu.ram[63981] == 125);
}

TEST_CASE( "02 0281", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21378;
    cpu.sp = 55453;
    cpu.reg.a = 61;
    cpu.reg.b = 75;
    cpu.reg.c = 107;
    cpu.reg.d = 36;
    cpu.reg.e = 133;
    cpu.reg.f = 112;
    cpu.reg.h = 135;
    cpu.reg.l = 90;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[19307] = 0;
    cpu.ram[21378] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 61);
    CHECK(cpu.reg.b == 75);
    CHECK(cpu.reg.c == 107);
    CHECK(cpu.reg.d == 36);
    CHECK(cpu.reg.e == 133);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 135);
    CHECK(cpu.reg.l == 90);
    CHECK(cpu.pc == 21379);
    CHECK(cpu.sp == 55453);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19307] == 61);
    REQUIRE(cpu.ram[21378] == 2);
}

TEST_CASE( "02 0282", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41124;
    cpu.sp = 28311;
    cpu.reg.a = 185;
    cpu.reg.b = 74;
    cpu.reg.c = 153;
    cpu.reg.d = 121;
    cpu.reg.e = 216;
    cpu.reg.f = 80;
    cpu.reg.h = 30;
    cpu.reg.l = 163;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[19097] = 0;
    cpu.ram[41124] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 185);
    CHECK(cpu.reg.b == 74);
    CHECK(cpu.reg.c == 153);
    CHECK(cpu.reg.d == 121);
    CHECK(cpu.reg.e == 216);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 30);
    CHECK(cpu.reg.l == 163);
    CHECK(cpu.pc == 41125);
    CHECK(cpu.sp == 28311);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19097] == 185);
    REQUIRE(cpu.ram[41124] == 2);
}

TEST_CASE( "02 0283", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64809;
    cpu.sp = 49738;
    cpu.reg.a = 64;
    cpu.reg.b = 166;
    cpu.reg.c = 62;
    cpu.reg.d = 29;
    cpu.reg.e = 1;
    cpu.reg.f = 80;
    cpu.reg.h = 95;
    cpu.reg.l = 162;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[42558] = 0;
    cpu.ram[64809] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 166);
    CHECK(cpu.reg.c == 62);
    CHECK(cpu.reg.d == 29);
    CHECK(cpu.reg.e == 1);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 95);
    CHECK(cpu.reg.l == 162);
    CHECK(cpu.pc == 64810);
    CHECK(cpu.sp == 49738);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[42558] == 64);
    REQUIRE(cpu.ram[64809] == 2);
}

TEST_CASE( "02 0284", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57588;
    cpu.sp = 18421;
    cpu.reg.a = 158;
    cpu.reg.b = 100;
    cpu.reg.c = 36;
    cpu.reg.d = 202;
    cpu.reg.e = 160;
    cpu.reg.f = 112;
    cpu.reg.h = 234;
    cpu.reg.l = 228;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[25636] = 0;
    cpu.ram[57588] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 158);
    CHECK(cpu.reg.b == 100);
    CHECK(cpu.reg.c == 36);
    CHECK(cpu.reg.d == 202);
    CHECK(cpu.reg.e == 160);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 234);
    CHECK(cpu.reg.l == 228);
    CHECK(cpu.pc == 57589);
    CHECK(cpu.sp == 18421);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25636] == 158);
    REQUIRE(cpu.ram[57588] == 2);
}

TEST_CASE( "02 0285", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33789;
    cpu.sp = 51509;
    cpu.reg.a = 212;
    cpu.reg.b = 240;
    cpu.reg.c = 0;
    cpu.reg.d = 181;
    cpu.reg.e = 171;
    cpu.reg.f = 144;
    cpu.reg.h = 113;
    cpu.reg.l = 248;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[33789] = 2;
    cpu.ram[61440] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 212);
    CHECK(cpu.reg.b == 240);
    CHECK(cpu.reg.c == 0);
    CHECK(cpu.reg.d == 181);
    CHECK(cpu.reg.e == 171);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 113);
    CHECK(cpu.reg.l == 248);
    CHECK(cpu.pc == 33790);
    CHECK(cpu.sp == 51509);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33789] == 2);
    REQUIRE(cpu.ram[61440] == 212);
}

TEST_CASE( "02 0286", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26137;
    cpu.sp = 9493;
    cpu.reg.a = 58;
    cpu.reg.b = 240;
    cpu.reg.c = 247;
    cpu.reg.d = 77;
    cpu.reg.e = 53;
    cpu.reg.f = 208;
    cpu.reg.h = 61;
    cpu.reg.l = 4;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[26137] = 2;
    cpu.ram[61687] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 58);
    CHECK(cpu.reg.b == 240);
    CHECK(cpu.reg.c == 247);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 53);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 61);
    CHECK(cpu.reg.l == 4);
    CHECK(cpu.pc == 26138);
    CHECK(cpu.sp == 9493);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26137] == 2);
    REQUIRE(cpu.ram[61687] == 58);
}

TEST_CASE( "02 0287", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45922;
    cpu.sp = 12740;
    cpu.reg.a = 138;
    cpu.reg.b = 238;
    cpu.reg.c = 163;
    cpu.reg.d = 198;
    cpu.reg.e = 195;
    cpu.reg.f = 16;
    cpu.reg.h = 12;
    cpu.reg.l = 145;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[45922] = 2;
    cpu.ram[61091] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 138);
    CHECK(cpu.reg.b == 238);
    CHECK(cpu.reg.c == 163);
    CHECK(cpu.reg.d == 198);
    CHECK(cpu.reg.e == 195);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 12);
    CHECK(cpu.reg.l == 145);
    CHECK(cpu.pc == 45923);
    CHECK(cpu.sp == 12740);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45922] == 2);
    REQUIRE(cpu.ram[61091] == 138);
}

TEST_CASE( "02 0288", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26554;
    cpu.sp = 57633;
    cpu.reg.a = 92;
    cpu.reg.b = 144;
    cpu.reg.c = 26;
    cpu.reg.d = 82;
    cpu.reg.e = 106;
    cpu.reg.f = 96;
    cpu.reg.h = 242;
    cpu.reg.l = 239;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26554] = 2;
    cpu.ram[36890] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 92);
    CHECK(cpu.reg.b == 144);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 82);
    CHECK(cpu.reg.e == 106);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 239);
    CHECK(cpu.pc == 26555);
    CHECK(cpu.sp == 57633);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26554] == 2);
    REQUIRE(cpu.ram[36890] == 92);
}

TEST_CASE( "02 0289", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8655;
    cpu.sp = 27185;
    cpu.reg.a = 219;
    cpu.reg.b = 236;
    cpu.reg.c = 58;
    cpu.reg.d = 64;
    cpu.reg.e = 130;
    cpu.reg.f = 240;
    cpu.reg.h = 239;
    cpu.reg.l = 104;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[8655] = 2;
    cpu.ram[60474] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 219);
    CHECK(cpu.reg.b == 236);
    CHECK(cpu.reg.c == 58);
    CHECK(cpu.reg.d == 64);
    CHECK(cpu.reg.e == 130);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 239);
    CHECK(cpu.reg.l == 104);
    CHECK(cpu.pc == 8656);
    CHECK(cpu.sp == 27185);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8655] == 2);
    REQUIRE(cpu.ram[60474] == 219);
}

TEST_CASE( "02 028A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5697;
    cpu.sp = 30453;
    cpu.reg.a = 93;
    cpu.reg.b = 133;
    cpu.reg.c = 6;
    cpu.reg.d = 98;
    cpu.reg.e = 243;
    cpu.reg.f = 64;
    cpu.reg.h = 28;
    cpu.reg.l = 131;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[5697] = 2;
    cpu.ram[34054] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 93);
    CHECK(cpu.reg.b == 133);
    CHECK(cpu.reg.c == 6);
    CHECK(cpu.reg.d == 98);
    CHECK(cpu.reg.e == 243);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 28);
    CHECK(cpu.reg.l == 131);
    CHECK(cpu.pc == 5698);
    CHECK(cpu.sp == 30453);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5697] == 2);
    REQUIRE(cpu.ram[34054] == 93);
}

TEST_CASE( "02 028B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4839;
    cpu.sp = 4760;
    cpu.reg.a = 147;
    cpu.reg.b = 29;
    cpu.reg.c = 241;
    cpu.reg.d = 114;
    cpu.reg.e = 171;
    cpu.reg.f = 176;
    cpu.reg.h = 183;
    cpu.reg.l = 146;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[4839] = 2;
    cpu.ram[7665] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 147);
    CHECK(cpu.reg.b == 29);
    CHECK(cpu.reg.c == 241);
    CHECK(cpu.reg.d == 114);
    CHECK(cpu.reg.e == 171);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 183);
    CHECK(cpu.reg.l == 146);
    CHECK(cpu.pc == 4840);
    CHECK(cpu.sp == 4760);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4839] == 2);
    REQUIRE(cpu.ram[7665] == 147);
}

TEST_CASE( "02 028C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59406;
    cpu.sp = 46412;
    cpu.reg.a = 119;
    cpu.reg.b = 47;
    cpu.reg.c = 204;
    cpu.reg.d = 200;
    cpu.reg.e = 7;
    cpu.reg.f = 32;
    cpu.reg.h = 131;
    cpu.reg.l = 248;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[12236] = 0;
    cpu.ram[59406] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 119);
    CHECK(cpu.reg.b == 47);
    CHECK(cpu.reg.c == 204);
    CHECK(cpu.reg.d == 200);
    CHECK(cpu.reg.e == 7);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 131);
    CHECK(cpu.reg.l == 248);
    CHECK(cpu.pc == 59407);
    CHECK(cpu.sp == 46412);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12236] == 119);
    REQUIRE(cpu.ram[59406] == 2);
}

TEST_CASE( "02 028D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13724;
    cpu.sp = 51500;
    cpu.reg.a = 248;
    cpu.reg.b = 179;
    cpu.reg.c = 193;
    cpu.reg.d = 244;
    cpu.reg.e = 150;
    cpu.reg.f = 192;
    cpu.reg.h = 1;
    cpu.reg.l = 179;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[13724] = 2;
    cpu.ram[46017] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 248);
    CHECK(cpu.reg.b == 179);
    CHECK(cpu.reg.c == 193);
    CHECK(cpu.reg.d == 244);
    CHECK(cpu.reg.e == 150);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 1);
    CHECK(cpu.reg.l == 179);
    CHECK(cpu.pc == 13725);
    CHECK(cpu.sp == 51500);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13724] == 2);
    REQUIRE(cpu.ram[46017] == 248);
}

TEST_CASE( "02 028E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52153;
    cpu.sp = 19208;
    cpu.reg.a = 91;
    cpu.reg.b = 212;
    cpu.reg.c = 109;
    cpu.reg.d = 167;
    cpu.reg.e = 132;
    cpu.reg.f = 176;
    cpu.reg.h = 240;
    cpu.reg.l = 208;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[52153] = 2;
    cpu.ram[54381] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 91);
    CHECK(cpu.reg.b == 212);
    CHECK(cpu.reg.c == 109);
    CHECK(cpu.reg.d == 167);
    CHECK(cpu.reg.e == 132);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 240);
    CHECK(cpu.reg.l == 208);
    CHECK(cpu.pc == 52154);
    CHECK(cpu.sp == 19208);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[52153] == 2);
    REQUIRE(cpu.ram[54381] == 91);
}

TEST_CASE( "02 028F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18037;
    cpu.sp = 32097;
    cpu.reg.a = 216;
    cpu.reg.b = 151;
    cpu.reg.c = 25;
    cpu.reg.d = 84;
    cpu.reg.e = 85;
    cpu.reg.f = 224;
    cpu.reg.h = 133;
    cpu.reg.l = 62;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[18037] = 2;
    cpu.ram[38681] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 151);
    CHECK(cpu.reg.c == 25);
    CHECK(cpu.reg.d == 84);
    CHECK(cpu.reg.e == 85);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 133);
    CHECK(cpu.reg.l == 62);
    CHECK(cpu.pc == 18038);
    CHECK(cpu.sp == 32097);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18037] == 2);
    REQUIRE(cpu.ram[38681] == 216);
}

TEST_CASE( "02 0290", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23175;
    cpu.sp = 48287;
    cpu.reg.a = 186;
    cpu.reg.b = 203;
    cpu.reg.c = 139;
    cpu.reg.d = 102;
    cpu.reg.e = 64;
    cpu.reg.f = 176;
    cpu.reg.h = 124;
    cpu.reg.l = 64;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[23175] = 2;
    cpu.ram[52107] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 186);
    CHECK(cpu.reg.b == 203);
    CHECK(cpu.reg.c == 139);
    CHECK(cpu.reg.d == 102);
    CHECK(cpu.reg.e == 64);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 124);
    CHECK(cpu.reg.l == 64);
    CHECK(cpu.pc == 23176);
    CHECK(cpu.sp == 48287);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23175] == 2);
    REQUIRE(cpu.ram[52107] == 186);
}

TEST_CASE( "02 0291", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22838;
    cpu.sp = 43875;
    cpu.reg.a = 171;
    cpu.reg.b = 235;
    cpu.reg.c = 167;
    cpu.reg.d = 155;
    cpu.reg.e = 97;
    cpu.reg.f = 144;
    cpu.reg.h = 121;
    cpu.reg.l = 2;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[22838] = 2;
    cpu.ram[60327] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 171);
    CHECK(cpu.reg.b == 235);
    CHECK(cpu.reg.c == 167);
    CHECK(cpu.reg.d == 155);
    CHECK(cpu.reg.e == 97);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 121);
    CHECK(cpu.reg.l == 2);
    CHECK(cpu.pc == 22839);
    CHECK(cpu.sp == 43875);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22838] == 2);
    REQUIRE(cpu.ram[60327] == 171);
}

TEST_CASE( "02 0292", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37352;
    cpu.sp = 8256;
    cpu.reg.a = 67;
    cpu.reg.b = 137;
    cpu.reg.c = 80;
    cpu.reg.d = 50;
    cpu.reg.e = 167;
    cpu.reg.f = 128;
    cpu.reg.h = 5;
    cpu.reg.l = 213;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[35152] = 0;
    cpu.ram[37352] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 67);
    CHECK(cpu.reg.b == 137);
    CHECK(cpu.reg.c == 80);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 167);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 5);
    CHECK(cpu.reg.l == 213);
    CHECK(cpu.pc == 37353);
    CHECK(cpu.sp == 8256);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35152] == 67);
    REQUIRE(cpu.ram[37352] == 2);
}

TEST_CASE( "02 0293", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26035;
    cpu.sp = 9040;
    cpu.reg.a = 104;
    cpu.reg.b = 195;
    cpu.reg.c = 21;
    cpu.reg.d = 65;
    cpu.reg.e = 125;
    cpu.reg.f = 96;
    cpu.reg.h = 203;
    cpu.reg.l = 252;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26035] = 2;
    cpu.ram[49941] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 104);
    CHECK(cpu.reg.b == 195);
    CHECK(cpu.reg.c == 21);
    CHECK(cpu.reg.d == 65);
    CHECK(cpu.reg.e == 125);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 203);
    CHECK(cpu.reg.l == 252);
    CHECK(cpu.pc == 26036);
    CHECK(cpu.sp == 9040);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26035] == 2);
    REQUIRE(cpu.ram[49941] == 104);
}

TEST_CASE( "02 0294", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5502;
    cpu.sp = 59077;
    cpu.reg.a = 122;
    cpu.reg.b = 198;
    cpu.reg.c = 230;
    cpu.reg.d = 132;
    cpu.reg.e = 171;
    cpu.reg.f = 224;
    cpu.reg.h = 38;
    cpu.reg.l = 10;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[5502] = 2;
    cpu.ram[50918] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 122);
    CHECK(cpu.reg.b == 198);
    CHECK(cpu.reg.c == 230);
    CHECK(cpu.reg.d == 132);
    CHECK(cpu.reg.e == 171);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 38);
    CHECK(cpu.reg.l == 10);
    CHECK(cpu.pc == 5503);
    CHECK(cpu.sp == 59077);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5502] == 2);
    REQUIRE(cpu.ram[50918] == 122);
}

TEST_CASE( "02 0295", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55807;
    cpu.sp = 54794;
    cpu.reg.a = 39;
    cpu.reg.b = 235;
    cpu.reg.c = 161;
    cpu.reg.d = 142;
    cpu.reg.e = 43;
    cpu.reg.f = 208;
    cpu.reg.h = 40;
    cpu.reg.l = 23;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[55807] = 2;
    cpu.ram[60321] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 39);
    CHECK(cpu.reg.b == 235);
    CHECK(cpu.reg.c == 161);
    CHECK(cpu.reg.d == 142);
    CHECK(cpu.reg.e == 43);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 40);
    CHECK(cpu.reg.l == 23);
    CHECK(cpu.pc == 55808);
    CHECK(cpu.sp == 54794);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[55807] == 2);
    REQUIRE(cpu.ram[60321] == 39);
}

TEST_CASE( "02 0296", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52511;
    cpu.sp = 12104;
    cpu.reg.a = 38;
    cpu.reg.b = 1;
    cpu.reg.c = 59;
    cpu.reg.d = 60;
    cpu.reg.e = 53;
    cpu.reg.f = 192;
    cpu.reg.h = 77;
    cpu.reg.l = 152;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[315] = 0;
    cpu.ram[52511] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 38);
    CHECK(cpu.reg.b == 1);
    CHECK(cpu.reg.c == 59);
    CHECK(cpu.reg.d == 60);
    CHECK(cpu.reg.e == 53);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 77);
    CHECK(cpu.reg.l == 152);
    CHECK(cpu.pc == 52512);
    CHECK(cpu.sp == 12104);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[315] == 38);
    REQUIRE(cpu.ram[52511] == 2);
}

TEST_CASE( "02 0297", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32099;
    cpu.sp = 64692;
    cpu.reg.a = 38;
    cpu.reg.b = 152;
    cpu.reg.c = 23;
    cpu.reg.d = 146;
    cpu.reg.e = 90;
    cpu.reg.f = 224;
    cpu.reg.h = 225;
    cpu.reg.l = 189;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[32099] = 2;
    cpu.ram[38935] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 38);
    CHECK(cpu.reg.b == 152);
    CHECK(cpu.reg.c == 23);
    CHECK(cpu.reg.d == 146);
    CHECK(cpu.reg.e == 90);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 225);
    CHECK(cpu.reg.l == 189);
    CHECK(cpu.pc == 32100);
    CHECK(cpu.sp == 64692);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32099] == 2);
    REQUIRE(cpu.ram[38935] == 38);
}

TEST_CASE( "02 0298", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39282;
    cpu.sp = 4317;
    cpu.reg.a = 67;
    cpu.reg.b = 189;
    cpu.reg.c = 114;
    cpu.reg.d = 48;
    cpu.reg.e = 137;
    cpu.reg.f = 64;
    cpu.reg.h = 227;
    cpu.reg.l = 100;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[39282] = 2;
    cpu.ram[48498] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 67);
    CHECK(cpu.reg.b == 189);
    CHECK(cpu.reg.c == 114);
    CHECK(cpu.reg.d == 48);
    CHECK(cpu.reg.e == 137);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 100);
    CHECK(cpu.pc == 39283);
    CHECK(cpu.sp == 4317);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39282] == 2);
    REQUIRE(cpu.ram[48498] == 67);
}

TEST_CASE( "02 0299", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2724;
    cpu.sp = 54713;
    cpu.reg.a = 105;
    cpu.reg.b = 240;
    cpu.reg.c = 249;
    cpu.reg.d = 174;
    cpu.reg.e = 71;
    cpu.reg.f = 112;
    cpu.reg.h = 115;
    cpu.reg.l = 91;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[2724] = 2;
    cpu.ram[61689] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 105);
    CHECK(cpu.reg.b == 240);
    CHECK(cpu.reg.c == 249);
    CHECK(cpu.reg.d == 174);
    CHECK(cpu.reg.e == 71);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 115);
    CHECK(cpu.reg.l == 91);
    CHECK(cpu.pc == 2725);
    CHECK(cpu.sp == 54713);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2724] == 2);
    REQUIRE(cpu.ram[61689] == 105);
}

TEST_CASE( "02 029A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26348;
    cpu.sp = 38818;
    cpu.reg.a = 221;
    cpu.reg.b = 90;
    cpu.reg.c = 188;
    cpu.reg.d = 68;
    cpu.reg.e = 35;
    cpu.reg.f = 64;
    cpu.reg.h = 103;
    cpu.reg.l = 200;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[23228] = 0;
    cpu.ram[26348] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 221);
    CHECK(cpu.reg.b == 90);
    CHECK(cpu.reg.c == 188);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 35);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 103);
    CHECK(cpu.reg.l == 200);
    CHECK(cpu.pc == 26349);
    CHECK(cpu.sp == 38818);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23228] == 221);
    REQUIRE(cpu.ram[26348] == 2);
}

TEST_CASE( "02 029B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46695;
    cpu.sp = 32185;
    cpu.reg.a = 144;
    cpu.reg.b = 224;
    cpu.reg.c = 36;
    cpu.reg.d = 116;
    cpu.reg.e = 189;
    cpu.reg.f = 48;
    cpu.reg.h = 72;
    cpu.reg.l = 131;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[46695] = 2;
    cpu.ram[57380] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 144);
    CHECK(cpu.reg.b == 224);
    CHECK(cpu.reg.c == 36);
    CHECK(cpu.reg.d == 116);
    CHECK(cpu.reg.e == 189);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 72);
    CHECK(cpu.reg.l == 131);
    CHECK(cpu.pc == 46696);
    CHECK(cpu.sp == 32185);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46695] == 2);
    REQUIRE(cpu.ram[57380] == 144);
}

TEST_CASE( "02 029C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47726;
    cpu.sp = 21950;
    cpu.reg.a = 6;
    cpu.reg.b = 97;
    cpu.reg.c = 55;
    cpu.reg.d = 18;
    cpu.reg.e = 48;
    cpu.reg.f = 16;
    cpu.reg.h = 44;
    cpu.reg.l = 234;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[24887] = 0;
    cpu.ram[47726] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 6);
    CHECK(cpu.reg.b == 97);
    CHECK(cpu.reg.c == 55);
    CHECK(cpu.reg.d == 18);
    CHECK(cpu.reg.e == 48);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 44);
    CHECK(cpu.reg.l == 234);
    CHECK(cpu.pc == 47727);
    CHECK(cpu.sp == 21950);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24887] == 6);
    REQUIRE(cpu.ram[47726] == 2);
}

TEST_CASE( "02 029D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23059;
    cpu.sp = 30979;
    cpu.reg.a = 40;
    cpu.reg.b = 21;
    cpu.reg.c = 200;
    cpu.reg.d = 179;
    cpu.reg.e = 64;
    cpu.reg.f = 80;
    cpu.reg.h = 69;
    cpu.reg.l = 86;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[5576] = 0;
    cpu.ram[23059] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 40);
    CHECK(cpu.reg.b == 21);
    CHECK(cpu.reg.c == 200);
    CHECK(cpu.reg.d == 179);
    CHECK(cpu.reg.e == 64);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 69);
    CHECK(cpu.reg.l == 86);
    CHECK(cpu.pc == 23060);
    CHECK(cpu.sp == 30979);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5576] == 40);
    REQUIRE(cpu.ram[23059] == 2);
}

TEST_CASE( "02 029E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42770;
    cpu.sp = 29192;
    cpu.reg.a = 228;
    cpu.reg.b = 175;
    cpu.reg.c = 123;
    cpu.reg.d = 127;
    cpu.reg.e = 23;
    cpu.reg.f = 80;
    cpu.reg.h = 66;
    cpu.reg.l = 227;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[42770] = 2;
    cpu.ram[44923] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 228);
    CHECK(cpu.reg.b == 175);
    CHECK(cpu.reg.c == 123);
    CHECK(cpu.reg.d == 127);
    CHECK(cpu.reg.e == 23);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 66);
    CHECK(cpu.reg.l == 227);
    CHECK(cpu.pc == 42771);
    CHECK(cpu.sp == 29192);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[42770] == 2);
    REQUIRE(cpu.ram[44923] == 228);
}

TEST_CASE( "02 029F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10534;
    cpu.sp = 31779;
    cpu.reg.a = 72;
    cpu.reg.b = 2;
    cpu.reg.c = 168;
    cpu.reg.d = 91;
    cpu.reg.e = 21;
    cpu.reg.f = 160;
    cpu.reg.h = 34;
    cpu.reg.l = 77;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[680] = 0;
    cpu.ram[10534] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 72);
    CHECK(cpu.reg.b == 2);
    CHECK(cpu.reg.c == 168);
    CHECK(cpu.reg.d == 91);
    CHECK(cpu.reg.e == 21);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 34);
    CHECK(cpu.reg.l == 77);
    CHECK(cpu.pc == 10535);
    CHECK(cpu.sp == 31779);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[680] == 72);
    REQUIRE(cpu.ram[10534] == 2);
}

TEST_CASE( "02 02A0", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49635;
    cpu.sp = 12061;
    cpu.reg.a = 245;
    cpu.reg.b = 124;
    cpu.reg.c = 157;
    cpu.reg.d = 153;
    cpu.reg.e = 217;
    cpu.reg.f = 0;
    cpu.reg.h = 81;
    cpu.reg.l = 102;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[31901] = 0;
    cpu.ram[49635] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 245);
    CHECK(cpu.reg.b == 124);
    CHECK(cpu.reg.c == 157);
    CHECK(cpu.reg.d == 153);
    CHECK(cpu.reg.e == 217);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 81);
    CHECK(cpu.reg.l == 102);
    CHECK(cpu.pc == 49636);
    CHECK(cpu.sp == 12061);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31901] == 245);
    REQUIRE(cpu.ram[49635] == 2);
}

TEST_CASE( "02 02A1", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19673;
    cpu.sp = 51028;
    cpu.reg.a = 201;
    cpu.reg.b = 55;
    cpu.reg.c = 235;
    cpu.reg.d = 177;
    cpu.reg.e = 10;
    cpu.reg.f = 112;
    cpu.reg.h = 87;
    cpu.reg.l = 170;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[14315] = 0;
    cpu.ram[19673] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 201);
    CHECK(cpu.reg.b == 55);
    CHECK(cpu.reg.c == 235);
    CHECK(cpu.reg.d == 177);
    CHECK(cpu.reg.e == 10);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 87);
    CHECK(cpu.reg.l == 170);
    CHECK(cpu.pc == 19674);
    CHECK(cpu.sp == 51028);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14315] == 201);
    REQUIRE(cpu.ram[19673] == 2);
}

TEST_CASE( "02 02A2", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60969;
    cpu.sp = 48962;
    cpu.reg.a = 189;
    cpu.reg.b = 118;
    cpu.reg.c = 246;
    cpu.reg.d = 116;
    cpu.reg.e = 146;
    cpu.reg.f = 240;
    cpu.reg.h = 17;
    cpu.reg.l = 124;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[30454] = 0;
    cpu.ram[60969] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 189);
    CHECK(cpu.reg.b == 118);
    CHECK(cpu.reg.c == 246);
    CHECK(cpu.reg.d == 116);
    CHECK(cpu.reg.e == 146);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 124);
    CHECK(cpu.pc == 60970);
    CHECK(cpu.sp == 48962);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30454] == 189);
    REQUIRE(cpu.ram[60969] == 2);
}

TEST_CASE( "02 02A3", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59283;
    cpu.sp = 19316;
    cpu.reg.a = 29;
    cpu.reg.b = 162;
    cpu.reg.c = 25;
    cpu.reg.d = 145;
    cpu.reg.e = 164;
    cpu.reg.f = 16;
    cpu.reg.h = 234;
    cpu.reg.l = 49;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[41497] = 0;
    cpu.ram[59283] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 29);
    CHECK(cpu.reg.b == 162);
    CHECK(cpu.reg.c == 25);
    CHECK(cpu.reg.d == 145);
    CHECK(cpu.reg.e == 164);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 234);
    CHECK(cpu.reg.l == 49);
    CHECK(cpu.pc == 59284);
    CHECK(cpu.sp == 19316);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[41497] == 29);
    REQUIRE(cpu.ram[59283] == 2);
}

TEST_CASE( "02 02A4", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10061;
    cpu.sp = 33084;
    cpu.reg.a = 6;
    cpu.reg.b = 68;
    cpu.reg.c = 64;
    cpu.reg.d = 179;
    cpu.reg.e = 74;
    cpu.reg.f = 80;
    cpu.reg.h = 147;
    cpu.reg.l = 178;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[10061] = 2;
    cpu.ram[17472] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 6);
    CHECK(cpu.reg.b == 68);
    CHECK(cpu.reg.c == 64);
    CHECK(cpu.reg.d == 179);
    CHECK(cpu.reg.e == 74);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 147);
    CHECK(cpu.reg.l == 178);
    CHECK(cpu.pc == 10062);
    CHECK(cpu.sp == 33084);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10061] == 2);
    REQUIRE(cpu.ram[17472] == 6);
}

TEST_CASE( "02 02A5", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54411;
    cpu.sp = 16656;
    cpu.reg.a = 9;
    cpu.reg.b = 153;
    cpu.reg.c = 211;
    cpu.reg.d = 139;
    cpu.reg.e = 56;
    cpu.reg.f = 64;
    cpu.reg.h = 235;
    cpu.reg.l = 83;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[39379] = 0;
    cpu.ram[54411] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 9);
    CHECK(cpu.reg.b == 153);
    CHECK(cpu.reg.c == 211);
    CHECK(cpu.reg.d == 139);
    CHECK(cpu.reg.e == 56);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 235);
    CHECK(cpu.reg.l == 83);
    CHECK(cpu.pc == 54412);
    CHECK(cpu.sp == 16656);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39379] == 9);
    REQUIRE(cpu.ram[54411] == 2);
}

TEST_CASE( "02 02A6", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22115;
    cpu.sp = 1684;
    cpu.reg.a = 79;
    cpu.reg.b = 153;
    cpu.reg.c = 107;
    cpu.reg.d = 96;
    cpu.reg.e = 105;
    cpu.reg.f = 32;
    cpu.reg.h = 97;
    cpu.reg.l = 167;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[22115] = 2;
    cpu.ram[39275] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 79);
    CHECK(cpu.reg.b == 153);
    CHECK(cpu.reg.c == 107);
    CHECK(cpu.reg.d == 96);
    CHECK(cpu.reg.e == 105);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 97);
    CHECK(cpu.reg.l == 167);
    CHECK(cpu.pc == 22116);
    CHECK(cpu.sp == 1684);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22115] == 2);
    REQUIRE(cpu.ram[39275] == 79);
}

TEST_CASE( "02 02A7", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61199;
    cpu.sp = 63452;
    cpu.reg.a = 180;
    cpu.reg.b = 27;
    cpu.reg.c = 46;
    cpu.reg.d = 6;
    cpu.reg.e = 209;
    cpu.reg.f = 208;
    cpu.reg.h = 36;
    cpu.reg.l = 111;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[6958] = 0;
    cpu.ram[61199] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 180);
    CHECK(cpu.reg.b == 27);
    CHECK(cpu.reg.c == 46);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 209);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 36);
    CHECK(cpu.reg.l == 111);
    CHECK(cpu.pc == 61200);
    CHECK(cpu.sp == 63452);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6958] == 180);
    REQUIRE(cpu.ram[61199] == 2);
}

TEST_CASE( "02 02A8", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21771;
    cpu.sp = 42998;
    cpu.reg.a = 93;
    cpu.reg.b = 82;
    cpu.reg.c = 108;
    cpu.reg.d = 119;
    cpu.reg.e = 151;
    cpu.reg.f = 208;
    cpu.reg.h = 122;
    cpu.reg.l = 159;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[21100] = 0;
    cpu.ram[21771] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 93);
    CHECK(cpu.reg.b == 82);
    CHECK(cpu.reg.c == 108);
    CHECK(cpu.reg.d == 119);
    CHECK(cpu.reg.e == 151);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 122);
    CHECK(cpu.reg.l == 159);
    CHECK(cpu.pc == 21772);
    CHECK(cpu.sp == 42998);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21100] == 93);
    REQUIRE(cpu.ram[21771] == 2);
}

TEST_CASE( "02 02A9", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21652;
    cpu.sp = 65422;
    cpu.reg.a = 20;
    cpu.reg.b = 191;
    cpu.reg.c = 205;
    cpu.reg.d = 73;
    cpu.reg.e = 133;
    cpu.reg.f = 144;
    cpu.reg.h = 45;
    cpu.reg.l = 83;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[21652] = 2;
    cpu.ram[49101] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 20);
    CHECK(cpu.reg.b == 191);
    CHECK(cpu.reg.c == 205);
    CHECK(cpu.reg.d == 73);
    CHECK(cpu.reg.e == 133);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 45);
    CHECK(cpu.reg.l == 83);
    CHECK(cpu.pc == 21653);
    CHECK(cpu.sp == 65422);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21652] == 2);
    REQUIRE(cpu.ram[49101] == 20);
}

TEST_CASE( "02 02AA", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48330;
    cpu.sp = 57199;
    cpu.reg.a = 132;
    cpu.reg.b = 77;
    cpu.reg.c = 83;
    cpu.reg.d = 189;
    cpu.reg.e = 92;
    cpu.reg.f = 48;
    cpu.reg.h = 255;
    cpu.reg.l = 171;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[19795] = 0;
    cpu.ram[48330] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 132);
    CHECK(cpu.reg.b == 77);
    CHECK(cpu.reg.c == 83);
    CHECK(cpu.reg.d == 189);
    CHECK(cpu.reg.e == 92);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 255);
    CHECK(cpu.reg.l == 171);
    CHECK(cpu.pc == 48331);
    CHECK(cpu.sp == 57199);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19795] == 132);
    REQUIRE(cpu.ram[48330] == 2);
}

TEST_CASE( "02 02AB", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22047;
    cpu.sp = 41189;
    cpu.reg.a = 134;
    cpu.reg.b = 244;
    cpu.reg.c = 255;
    cpu.reg.d = 76;
    cpu.reg.e = 102;
    cpu.reg.f = 240;
    cpu.reg.h = 10;
    cpu.reg.l = 238;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[22047] = 2;
    cpu.ram[62719] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 134);
    CHECK(cpu.reg.b == 244);
    CHECK(cpu.reg.c == 255);
    CHECK(cpu.reg.d == 76);
    CHECK(cpu.reg.e == 102);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 10);
    CHECK(cpu.reg.l == 238);
    CHECK(cpu.pc == 22048);
    CHECK(cpu.sp == 41189);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22047] == 2);
    REQUIRE(cpu.ram[62719] == 134);
}

TEST_CASE( "02 02AC", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37646;
    cpu.sp = 38675;
    cpu.reg.a = 124;
    cpu.reg.b = 162;
    cpu.reg.c = 67;
    cpu.reg.d = 132;
    cpu.reg.e = 212;
    cpu.reg.f = 192;
    cpu.reg.h = 46;
    cpu.reg.l = 138;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[37646] = 2;
    cpu.ram[41539] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 124);
    CHECK(cpu.reg.b == 162);
    CHECK(cpu.reg.c == 67);
    CHECK(cpu.reg.d == 132);
    CHECK(cpu.reg.e == 212);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 46);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 37647);
    CHECK(cpu.sp == 38675);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[37646] == 2);
    REQUIRE(cpu.ram[41539] == 124);
}

TEST_CASE( "02 02AD", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25315;
    cpu.sp = 52025;
    cpu.reg.a = 24;
    cpu.reg.b = 66;
    cpu.reg.c = 16;
    cpu.reg.d = 133;
    cpu.reg.e = 152;
    cpu.reg.f = 96;
    cpu.reg.h = 76;
    cpu.reg.l = 192;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[16912] = 0;
    cpu.ram[25315] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 24);
    CHECK(cpu.reg.b == 66);
    CHECK(cpu.reg.c == 16);
    CHECK(cpu.reg.d == 133);
    CHECK(cpu.reg.e == 152);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 76);
    CHECK(cpu.reg.l == 192);
    CHECK(cpu.pc == 25316);
    CHECK(cpu.sp == 52025);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16912] == 24);
    REQUIRE(cpu.ram[25315] == 2);
}

TEST_CASE( "02 02AE", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17883;
    cpu.sp = 31154;
    cpu.reg.a = 25;
    cpu.reg.b = 62;
    cpu.reg.c = 130;
    cpu.reg.d = 25;
    cpu.reg.e = 190;
    cpu.reg.f = 192;
    cpu.reg.h = 132;
    cpu.reg.l = 142;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[16002] = 0;
    cpu.ram[17883] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 25);
    CHECK(cpu.reg.b == 62);
    CHECK(cpu.reg.c == 130);
    CHECK(cpu.reg.d == 25);
    CHECK(cpu.reg.e == 190);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 132);
    CHECK(cpu.reg.l == 142);
    CHECK(cpu.pc == 17884);
    CHECK(cpu.sp == 31154);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16002] == 25);
    REQUIRE(cpu.ram[17883] == 2);
}

TEST_CASE( "02 02AF", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12890;
    cpu.sp = 22340;
    cpu.reg.a = 92;
    cpu.reg.b = 140;
    cpu.reg.c = 122;
    cpu.reg.d = 172;
    cpu.reg.e = 217;
    cpu.reg.f = 80;
    cpu.reg.h = 142;
    cpu.reg.l = 27;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[12890] = 2;
    cpu.ram[35962] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 92);
    CHECK(cpu.reg.b == 140);
    CHECK(cpu.reg.c == 122);
    CHECK(cpu.reg.d == 172);
    CHECK(cpu.reg.e == 217);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 142);
    CHECK(cpu.reg.l == 27);
    CHECK(cpu.pc == 12891);
    CHECK(cpu.sp == 22340);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12890] == 2);
    REQUIRE(cpu.ram[35962] == 92);
}

TEST_CASE( "02 02B0", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1447;
    cpu.sp = 12815;
    cpu.reg.a = 160;
    cpu.reg.b = 164;
    cpu.reg.c = 156;
    cpu.reg.d = 106;
    cpu.reg.e = 216;
    cpu.reg.f = 144;
    cpu.reg.h = 76;
    cpu.reg.l = 113;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[1447] = 2;
    cpu.ram[42140] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 160);
    CHECK(cpu.reg.b == 164);
    CHECK(cpu.reg.c == 156);
    CHECK(cpu.reg.d == 106);
    CHECK(cpu.reg.e == 216);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 76);
    CHECK(cpu.reg.l == 113);
    CHECK(cpu.pc == 1448);
    CHECK(cpu.sp == 12815);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1447] == 2);
    REQUIRE(cpu.ram[42140] == 160);
}

TEST_CASE( "02 02B1", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29786;
    cpu.sp = 37038;
    cpu.reg.a = 25;
    cpu.reg.b = 134;
    cpu.reg.c = 195;
    cpu.reg.d = 92;
    cpu.reg.e = 232;
    cpu.reg.f = 128;
    cpu.reg.h = 106;
    cpu.reg.l = 96;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[29786] = 2;
    cpu.ram[34499] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 25);
    CHECK(cpu.reg.b == 134);
    CHECK(cpu.reg.c == 195);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 232);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 106);
    CHECK(cpu.reg.l == 96);
    CHECK(cpu.pc == 29787);
    CHECK(cpu.sp == 37038);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29786] == 2);
    REQUIRE(cpu.ram[34499] == 25);
}

TEST_CASE( "02 02B2", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5133;
    cpu.sp = 52418;
    cpu.reg.a = 47;
    cpu.reg.b = 129;
    cpu.reg.c = 247;
    cpu.reg.d = 3;
    cpu.reg.e = 58;
    cpu.reg.f = 64;
    cpu.reg.h = 189;
    cpu.reg.l = 218;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5133] = 2;
    cpu.ram[33271] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 47);
    CHECK(cpu.reg.b == 129);
    CHECK(cpu.reg.c == 247);
    CHECK(cpu.reg.d == 3);
    CHECK(cpu.reg.e == 58);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 189);
    CHECK(cpu.reg.l == 218);
    CHECK(cpu.pc == 5134);
    CHECK(cpu.sp == 52418);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5133] == 2);
    REQUIRE(cpu.ram[33271] == 47);
}

TEST_CASE( "02 02B3", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54179;
    cpu.sp = 63203;
    cpu.reg.a = 198;
    cpu.reg.b = 250;
    cpu.reg.c = 163;
    cpu.reg.d = 50;
    cpu.reg.e = 151;
    cpu.reg.f = 16;
    cpu.reg.h = 83;
    cpu.reg.l = 236;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[54179] = 2;
    cpu.ram[64163] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 198);
    CHECK(cpu.reg.b == 250);
    CHECK(cpu.reg.c == 163);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 151);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 83);
    CHECK(cpu.reg.l == 236);
    CHECK(cpu.pc == 54180);
    CHECK(cpu.sp == 63203);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54179] == 2);
    REQUIRE(cpu.ram[64163] == 198);
}

TEST_CASE( "02 02B4", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63599;
    cpu.sp = 19782;
    cpu.reg.a = 235;
    cpu.reg.b = 140;
    cpu.reg.c = 94;
    cpu.reg.d = 30;
    cpu.reg.e = 220;
    cpu.reg.f = 112;
    cpu.reg.h = 58;
    cpu.reg.l = 107;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[35934] = 0;
    cpu.ram[63599] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 235);
    CHECK(cpu.reg.b == 140);
    CHECK(cpu.reg.c == 94);
    CHECK(cpu.reg.d == 30);
    CHECK(cpu.reg.e == 220);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 58);
    CHECK(cpu.reg.l == 107);
    CHECK(cpu.pc == 63600);
    CHECK(cpu.sp == 19782);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35934] == 235);
    REQUIRE(cpu.ram[63599] == 2);
}

TEST_CASE( "02 02B5", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36118;
    cpu.sp = 19933;
    cpu.reg.a = 160;
    cpu.reg.b = 222;
    cpu.reg.c = 76;
    cpu.reg.d = 71;
    cpu.reg.e = 60;
    cpu.reg.f = 64;
    cpu.reg.h = 41;
    cpu.reg.l = 199;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[36118] = 2;
    cpu.ram[56908] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 160);
    CHECK(cpu.reg.b == 222);
    CHECK(cpu.reg.c == 76);
    CHECK(cpu.reg.d == 71);
    CHECK(cpu.reg.e == 60);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 41);
    CHECK(cpu.reg.l == 199);
    CHECK(cpu.pc == 36119);
    CHECK(cpu.sp == 19933);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[36118] == 2);
    REQUIRE(cpu.ram[56908] == 160);
}

TEST_CASE( "02 02B6", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22485;
    cpu.sp = 28266;
    cpu.reg.a = 73;
    cpu.reg.b = 96;
    cpu.reg.c = 10;
    cpu.reg.d = 98;
    cpu.reg.e = 206;
    cpu.reg.f = 192;
    cpu.reg.h = 238;
    cpu.reg.l = 83;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[22485] = 2;
    cpu.ram[24586] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 73);
    CHECK(cpu.reg.b == 96);
    CHECK(cpu.reg.c == 10);
    CHECK(cpu.reg.d == 98);
    CHECK(cpu.reg.e == 206);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 238);
    CHECK(cpu.reg.l == 83);
    CHECK(cpu.pc == 22486);
    CHECK(cpu.sp == 28266);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22485] == 2);
    REQUIRE(cpu.ram[24586] == 73);
}

TEST_CASE( "02 02B7", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58291;
    cpu.sp = 62840;
    cpu.reg.a = 139;
    cpu.reg.b = 133;
    cpu.reg.c = 156;
    cpu.reg.d = 115;
    cpu.reg.e = 193;
    cpu.reg.f = 208;
    cpu.reg.h = 35;
    cpu.reg.l = 45;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[34204] = 0;
    cpu.ram[58291] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 139);
    CHECK(cpu.reg.b == 133);
    CHECK(cpu.reg.c == 156);
    CHECK(cpu.reg.d == 115);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 35);
    CHECK(cpu.reg.l == 45);
    CHECK(cpu.pc == 58292);
    CHECK(cpu.sp == 62840);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34204] == 139);
    REQUIRE(cpu.ram[58291] == 2);
}

TEST_CASE( "02 02B8", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8984;
    cpu.sp = 20447;
    cpu.reg.a = 200;
    cpu.reg.b = 81;
    cpu.reg.c = 54;
    cpu.reg.d = 243;
    cpu.reg.e = 133;
    cpu.reg.f = 176;
    cpu.reg.h = 224;
    cpu.reg.l = 151;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[8984] = 2;
    cpu.ram[20790] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 200);
    CHECK(cpu.reg.b == 81);
    CHECK(cpu.reg.c == 54);
    CHECK(cpu.reg.d == 243);
    CHECK(cpu.reg.e == 133);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 224);
    CHECK(cpu.reg.l == 151);
    CHECK(cpu.pc == 8985);
    CHECK(cpu.sp == 20447);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8984] == 2);
    REQUIRE(cpu.ram[20790] == 200);
}

TEST_CASE( "02 02B9", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10056;
    cpu.sp = 21594;
    cpu.reg.a = 20;
    cpu.reg.b = 135;
    cpu.reg.c = 121;
    cpu.reg.d = 68;
    cpu.reg.e = 146;
    cpu.reg.f = 32;
    cpu.reg.h = 35;
    cpu.reg.l = 175;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[10056] = 2;
    cpu.ram[34681] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 20);
    CHECK(cpu.reg.b == 135);
    CHECK(cpu.reg.c == 121);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 146);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 35);
    CHECK(cpu.reg.l == 175);
    CHECK(cpu.pc == 10057);
    CHECK(cpu.sp == 21594);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10056] == 2);
    REQUIRE(cpu.ram[34681] == 20);
}

TEST_CASE( "02 02BA", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8269;
    cpu.sp = 10329;
    cpu.reg.a = 252;
    cpu.reg.b = 199;
    cpu.reg.c = 1;
    cpu.reg.d = 101;
    cpu.reg.e = 8;
    cpu.reg.f = 80;
    cpu.reg.h = 65;
    cpu.reg.l = 61;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[8269] = 2;
    cpu.ram[50945] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 252);
    CHECK(cpu.reg.b == 199);
    CHECK(cpu.reg.c == 1);
    CHECK(cpu.reg.d == 101);
    CHECK(cpu.reg.e == 8);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 65);
    CHECK(cpu.reg.l == 61);
    CHECK(cpu.pc == 8270);
    CHECK(cpu.sp == 10329);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8269] == 2);
    REQUIRE(cpu.ram[50945] == 252);
}

TEST_CASE( "02 02BB", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54947;
    cpu.sp = 36601;
    cpu.reg.a = 175;
    cpu.reg.b = 73;
    cpu.reg.c = 60;
    cpu.reg.d = 73;
    cpu.reg.e = 101;
    cpu.reg.f = 16;
    cpu.reg.h = 42;
    cpu.reg.l = 86;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[18748] = 0;
    cpu.ram[54947] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 175);
    CHECK(cpu.reg.b == 73);
    CHECK(cpu.reg.c == 60);
    CHECK(cpu.reg.d == 73);
    CHECK(cpu.reg.e == 101);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 42);
    CHECK(cpu.reg.l == 86);
    CHECK(cpu.pc == 54948);
    CHECK(cpu.sp == 36601);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18748] == 175);
    REQUIRE(cpu.ram[54947] == 2);
}

TEST_CASE( "02 02BC", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63781;
    cpu.sp = 23356;
    cpu.reg.a = 3;
    cpu.reg.b = 207;
    cpu.reg.c = 43;
    cpu.reg.d = 5;
    cpu.reg.e = 91;
    cpu.reg.f = 48;
    cpu.reg.h = 7;
    cpu.reg.l = 133;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[53035] = 0;
    cpu.ram[63781] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 3);
    CHECK(cpu.reg.b == 207);
    CHECK(cpu.reg.c == 43);
    CHECK(cpu.reg.d == 5);
    CHECK(cpu.reg.e == 91);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 7);
    CHECK(cpu.reg.l == 133);
    CHECK(cpu.pc == 63782);
    CHECK(cpu.sp == 23356);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[53035] == 3);
    REQUIRE(cpu.ram[63781] == 2);
}

TEST_CASE( "02 02BD", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53908;
    cpu.sp = 31801;
    cpu.reg.a = 155;
    cpu.reg.b = 61;
    cpu.reg.c = 249;
    cpu.reg.d = 113;
    cpu.reg.e = 169;
    cpu.reg.f = 80;
    cpu.reg.h = 97;
    cpu.reg.l = 39;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[15865] = 0;
    cpu.ram[53908] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 155);
    CHECK(cpu.reg.b == 61);
    CHECK(cpu.reg.c == 249);
    CHECK(cpu.reg.d == 113);
    CHECK(cpu.reg.e == 169);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 97);
    CHECK(cpu.reg.l == 39);
    CHECK(cpu.pc == 53909);
    CHECK(cpu.sp == 31801);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15865] == 155);
    REQUIRE(cpu.ram[53908] == 2);
}

TEST_CASE( "02 02BE", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44612;
    cpu.sp = 38529;
    cpu.reg.a = 145;
    cpu.reg.b = 132;
    cpu.reg.c = 164;
    cpu.reg.d = 134;
    cpu.reg.e = 22;
    cpu.reg.f = 80;
    cpu.reg.h = 212;
    cpu.reg.l = 151;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[33956] = 0;
    cpu.ram[44612] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 145);
    CHECK(cpu.reg.b == 132);
    CHECK(cpu.reg.c == 164);
    CHECK(cpu.reg.d == 134);
    CHECK(cpu.reg.e == 22);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 212);
    CHECK(cpu.reg.l == 151);
    CHECK(cpu.pc == 44613);
    CHECK(cpu.sp == 38529);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33956] == 145);
    REQUIRE(cpu.ram[44612] == 2);
}

TEST_CASE( "02 02BF", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56660;
    cpu.sp = 48834;
    cpu.reg.a = 148;
    cpu.reg.b = 59;
    cpu.reg.c = 122;
    cpu.reg.d = 129;
    cpu.reg.e = 208;
    cpu.reg.f = 32;
    cpu.reg.h = 198;
    cpu.reg.l = 167;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[15226] = 0;
    cpu.ram[56660] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 148);
    CHECK(cpu.reg.b == 59);
    CHECK(cpu.reg.c == 122);
    CHECK(cpu.reg.d == 129);
    CHECK(cpu.reg.e == 208);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 198);
    CHECK(cpu.reg.l == 167);
    CHECK(cpu.pc == 56661);
    CHECK(cpu.sp == 48834);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15226] == 148);
    REQUIRE(cpu.ram[56660] == 2);
}

TEST_CASE( "02 02C0", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3233;
    cpu.sp = 63888;
    cpu.reg.a = 187;
    cpu.reg.b = 247;
    cpu.reg.c = 166;
    cpu.reg.d = 201;
    cpu.reg.e = 241;
    cpu.reg.f = 16;
    cpu.reg.h = 92;
    cpu.reg.l = 214;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[3233] = 2;
    cpu.ram[63398] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 187);
    CHECK(cpu.reg.b == 247);
    CHECK(cpu.reg.c == 166);
    CHECK(cpu.reg.d == 201);
    CHECK(cpu.reg.e == 241);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 92);
    CHECK(cpu.reg.l == 214);
    CHECK(cpu.pc == 3234);
    CHECK(cpu.sp == 63888);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3233] == 2);
    REQUIRE(cpu.ram[63398] == 187);
}

TEST_CASE( "02 02C1", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63921;
    cpu.sp = 52115;
    cpu.reg.a = 133;
    cpu.reg.b = 177;
    cpu.reg.c = 30;
    cpu.reg.d = 35;
    cpu.reg.e = 233;
    cpu.reg.f = 208;
    cpu.reg.h = 124;
    cpu.reg.l = 222;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[45342] = 0;
    cpu.ram[63921] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 133);
    CHECK(cpu.reg.b == 177);
    CHECK(cpu.reg.c == 30);
    CHECK(cpu.reg.d == 35);
    CHECK(cpu.reg.e == 233);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 124);
    CHECK(cpu.reg.l == 222);
    CHECK(cpu.pc == 63922);
    CHECK(cpu.sp == 52115);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45342] == 133);
    REQUIRE(cpu.ram[63921] == 2);
}

TEST_CASE( "02 02C2", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8113;
    cpu.sp = 30338;
    cpu.reg.a = 62;
    cpu.reg.b = 110;
    cpu.reg.c = 158;
    cpu.reg.d = 239;
    cpu.reg.e = 62;
    cpu.reg.f = 16;
    cpu.reg.h = 166;
    cpu.reg.l = 193;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[8113] = 2;
    cpu.ram[28318] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 62);
    CHECK(cpu.reg.b == 110);
    CHECK(cpu.reg.c == 158);
    CHECK(cpu.reg.d == 239);
    CHECK(cpu.reg.e == 62);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 166);
    CHECK(cpu.reg.l == 193);
    CHECK(cpu.pc == 8114);
    CHECK(cpu.sp == 30338);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8113] == 2);
    REQUIRE(cpu.ram[28318] == 62);
}

TEST_CASE( "02 02C3", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22353;
    cpu.sp = 48895;
    cpu.reg.a = 142;
    cpu.reg.b = 87;
    cpu.reg.c = 36;
    cpu.reg.d = 56;
    cpu.reg.e = 181;
    cpu.reg.f = 240;
    cpu.reg.h = 229;
    cpu.reg.l = 61;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[22308] = 0;
    cpu.ram[22353] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 142);
    CHECK(cpu.reg.b == 87);
    CHECK(cpu.reg.c == 36);
    CHECK(cpu.reg.d == 56);
    CHECK(cpu.reg.e == 181);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 229);
    CHECK(cpu.reg.l == 61);
    CHECK(cpu.pc == 22354);
    CHECK(cpu.sp == 48895);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22308] == 142);
    REQUIRE(cpu.ram[22353] == 2);
}

TEST_CASE( "02 02C4", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58605;
    cpu.sp = 9589;
    cpu.reg.a = 219;
    cpu.reg.b = 125;
    cpu.reg.c = 52;
    cpu.reg.d = 149;
    cpu.reg.e = 204;
    cpu.reg.f = 112;
    cpu.reg.h = 4;
    cpu.reg.l = 63;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[32052] = 0;
    cpu.ram[58605] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 219);
    CHECK(cpu.reg.b == 125);
    CHECK(cpu.reg.c == 52);
    CHECK(cpu.reg.d == 149);
    CHECK(cpu.reg.e == 204);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 4);
    CHECK(cpu.reg.l == 63);
    CHECK(cpu.pc == 58606);
    CHECK(cpu.sp == 9589);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32052] == 219);
    REQUIRE(cpu.ram[58605] == 2);
}

TEST_CASE( "02 02C5", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47494;
    cpu.sp = 2434;
    cpu.reg.a = 229;
    cpu.reg.b = 139;
    cpu.reg.c = 143;
    cpu.reg.d = 133;
    cpu.reg.e = 134;
    cpu.reg.f = 80;
    cpu.reg.h = 204;
    cpu.reg.l = 224;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[35727] = 0;
    cpu.ram[47494] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 229);
    CHECK(cpu.reg.b == 139);
    CHECK(cpu.reg.c == 143);
    CHECK(cpu.reg.d == 133);
    CHECK(cpu.reg.e == 134);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 204);
    CHECK(cpu.reg.l == 224);
    CHECK(cpu.pc == 47495);
    CHECK(cpu.sp == 2434);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35727] == 229);
    REQUIRE(cpu.ram[47494] == 2);
}

TEST_CASE( "02 02C6", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13366;
    cpu.sp = 40932;
    cpu.reg.a = 6;
    cpu.reg.b = 74;
    cpu.reg.c = 201;
    cpu.reg.d = 74;
    cpu.reg.e = 215;
    cpu.reg.f = 48;
    cpu.reg.h = 45;
    cpu.reg.l = 137;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[13366] = 2;
    cpu.ram[19145] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 6);
    CHECK(cpu.reg.b == 74);
    CHECK(cpu.reg.c == 201);
    CHECK(cpu.reg.d == 74);
    CHECK(cpu.reg.e == 215);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 45);
    CHECK(cpu.reg.l == 137);
    CHECK(cpu.pc == 13367);
    CHECK(cpu.sp == 40932);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13366] == 2);
    REQUIRE(cpu.ram[19145] == 6);
}

TEST_CASE( "02 02C7", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3824;
    cpu.sp = 34928;
    cpu.reg.a = 10;
    cpu.reg.b = 79;
    cpu.reg.c = 54;
    cpu.reg.d = 123;
    cpu.reg.e = 187;
    cpu.reg.f = 240;
    cpu.reg.h = 156;
    cpu.reg.l = 220;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[3824] = 2;
    cpu.ram[20278] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 10);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 54);
    CHECK(cpu.reg.d == 123);
    CHECK(cpu.reg.e == 187);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 156);
    CHECK(cpu.reg.l == 220);
    CHECK(cpu.pc == 3825);
    CHECK(cpu.sp == 34928);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3824] == 2);
    REQUIRE(cpu.ram[20278] == 10);
}

TEST_CASE( "02 02C8", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49864;
    cpu.sp = 3473;
    cpu.reg.a = 145;
    cpu.reg.b = 2;
    cpu.reg.c = 161;
    cpu.reg.d = 101;
    cpu.reg.e = 168;
    cpu.reg.f = 128;
    cpu.reg.h = 44;
    cpu.reg.l = 35;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[673] = 0;
    cpu.ram[49864] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 145);
    CHECK(cpu.reg.b == 2);
    CHECK(cpu.reg.c == 161);
    CHECK(cpu.reg.d == 101);
    CHECK(cpu.reg.e == 168);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 44);
    CHECK(cpu.reg.l == 35);
    CHECK(cpu.pc == 49865);
    CHECK(cpu.sp == 3473);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[673] == 145);
    REQUIRE(cpu.ram[49864] == 2);
}

TEST_CASE( "02 02C9", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19167;
    cpu.sp = 64213;
    cpu.reg.a = 130;
    cpu.reg.b = 61;
    cpu.reg.c = 228;
    cpu.reg.d = 104;
    cpu.reg.e = 253;
    cpu.reg.f = 240;
    cpu.reg.h = 222;
    cpu.reg.l = 39;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[15844] = 0;
    cpu.ram[19167] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 130);
    CHECK(cpu.reg.b == 61);
    CHECK(cpu.reg.c == 228);
    CHECK(cpu.reg.d == 104);
    CHECK(cpu.reg.e == 253);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 222);
    CHECK(cpu.reg.l == 39);
    CHECK(cpu.pc == 19168);
    CHECK(cpu.sp == 64213);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15844] == 130);
    REQUIRE(cpu.ram[19167] == 2);
}

TEST_CASE( "02 02CA", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14627;
    cpu.sp = 42859;
    cpu.reg.a = 166;
    cpu.reg.b = 193;
    cpu.reg.c = 87;
    cpu.reg.d = 111;
    cpu.reg.e = 19;
    cpu.reg.f = 160;
    cpu.reg.h = 76;
    cpu.reg.l = 32;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[14627] = 2;
    cpu.ram[49495] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 166);
    CHECK(cpu.reg.b == 193);
    CHECK(cpu.reg.c == 87);
    CHECK(cpu.reg.d == 111);
    CHECK(cpu.reg.e == 19);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 76);
    CHECK(cpu.reg.l == 32);
    CHECK(cpu.pc == 14628);
    CHECK(cpu.sp == 42859);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14627] == 2);
    REQUIRE(cpu.ram[49495] == 166);
}

TEST_CASE( "02 02CB", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 929;
    cpu.sp = 14779;
    cpu.reg.a = 201;
    cpu.reg.b = 120;
    cpu.reg.c = 68;
    cpu.reg.d = 76;
    cpu.reg.e = 182;
    cpu.reg.f = 240;
    cpu.reg.h = 43;
    cpu.reg.l = 23;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[929] = 2;
    cpu.ram[30788] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 201);
    CHECK(cpu.reg.b == 120);
    CHECK(cpu.reg.c == 68);
    CHECK(cpu.reg.d == 76);
    CHECK(cpu.reg.e == 182);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 43);
    CHECK(cpu.reg.l == 23);
    CHECK(cpu.pc == 930);
    CHECK(cpu.sp == 14779);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[929] == 2);
    REQUIRE(cpu.ram[30788] == 201);
}

TEST_CASE( "02 02CC", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65290;
    cpu.sp = 51305;
    cpu.reg.a = 82;
    cpu.reg.b = 47;
    cpu.reg.c = 35;
    cpu.reg.d = 10;
    cpu.reg.e = 123;
    cpu.reg.f = 144;
    cpu.reg.h = 228;
    cpu.reg.l = 37;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[12067] = 0;
    cpu.ram[65290] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 82);
    CHECK(cpu.reg.b == 47);
    CHECK(cpu.reg.c == 35);
    CHECK(cpu.reg.d == 10);
    CHECK(cpu.reg.e == 123);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 228);
    CHECK(cpu.reg.l == 37);
    CHECK(cpu.pc == 65291);
    CHECK(cpu.sp == 51305);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12067] == 82);
    REQUIRE(cpu.ram[65290] == 2);
}

TEST_CASE( "02 02CD", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60841;
    cpu.sp = 2640;
    cpu.reg.a = 194;
    cpu.reg.b = 51;
    cpu.reg.c = 205;
    cpu.reg.d = 202;
    cpu.reg.e = 207;
    cpu.reg.f = 48;
    cpu.reg.h = 218;
    cpu.reg.l = 183;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[13261] = 0;
    cpu.ram[60841] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 194);
    CHECK(cpu.reg.b == 51);
    CHECK(cpu.reg.c == 205);
    CHECK(cpu.reg.d == 202);
    CHECK(cpu.reg.e == 207);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 218);
    CHECK(cpu.reg.l == 183);
    CHECK(cpu.pc == 60842);
    CHECK(cpu.sp == 2640);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13261] == 194);
    REQUIRE(cpu.ram[60841] == 2);
}

TEST_CASE( "02 02CE", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4033;
    cpu.sp = 55256;
    cpu.reg.a = 93;
    cpu.reg.b = 144;
    cpu.reg.c = 120;
    cpu.reg.d = 4;
    cpu.reg.e = 215;
    cpu.reg.f = 16;
    cpu.reg.h = 242;
    cpu.reg.l = 235;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4033] = 2;
    cpu.ram[36984] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 93);
    CHECK(cpu.reg.b == 144);
    CHECK(cpu.reg.c == 120);
    CHECK(cpu.reg.d == 4);
    CHECK(cpu.reg.e == 215);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 235);
    CHECK(cpu.pc == 4034);
    CHECK(cpu.sp == 55256);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4033] == 2);
    REQUIRE(cpu.ram[36984] == 93);
}

TEST_CASE( "02 02CF", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11989;
    cpu.sp = 16699;
    cpu.reg.a = 225;
    cpu.reg.b = 186;
    cpu.reg.c = 4;
    cpu.reg.d = 12;
    cpu.reg.e = 243;
    cpu.reg.f = 128;
    cpu.reg.h = 242;
    cpu.reg.l = 32;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[11989] = 2;
    cpu.ram[47620] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 225);
    CHECK(cpu.reg.b == 186);
    CHECK(cpu.reg.c == 4);
    CHECK(cpu.reg.d == 12);
    CHECK(cpu.reg.e == 243);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 32);
    CHECK(cpu.pc == 11990);
    CHECK(cpu.sp == 16699);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11989] == 2);
    REQUIRE(cpu.ram[47620] == 225);
}

TEST_CASE( "02 02D0", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40764;
    cpu.sp = 19499;
    cpu.reg.a = 14;
    cpu.reg.b = 217;
    cpu.reg.c = 197;
    cpu.reg.d = 122;
    cpu.reg.e = 240;
    cpu.reg.f = 64;
    cpu.reg.h = 167;
    cpu.reg.l = 116;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[40764] = 2;
    cpu.ram[55749] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 14);
    CHECK(cpu.reg.b == 217);
    CHECK(cpu.reg.c == 197);
    CHECK(cpu.reg.d == 122);
    CHECK(cpu.reg.e == 240);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 167);
    CHECK(cpu.reg.l == 116);
    CHECK(cpu.pc == 40765);
    CHECK(cpu.sp == 19499);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40764] == 2);
    REQUIRE(cpu.ram[55749] == 14);
}

TEST_CASE( "02 02D1", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30362;
    cpu.sp = 23883;
    cpu.reg.a = 93;
    cpu.reg.b = 139;
    cpu.reg.c = 95;
    cpu.reg.d = 158;
    cpu.reg.e = 162;
    cpu.reg.f = 80;
    cpu.reg.h = 104;
    cpu.reg.l = 66;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[30362] = 2;
    cpu.ram[35679] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 93);
    CHECK(cpu.reg.b == 139);
    CHECK(cpu.reg.c == 95);
    CHECK(cpu.reg.d == 158);
    CHECK(cpu.reg.e == 162);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 104);
    CHECK(cpu.reg.l == 66);
    CHECK(cpu.pc == 30363);
    CHECK(cpu.sp == 23883);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30362] == 2);
    REQUIRE(cpu.ram[35679] == 93);
}

TEST_CASE( "02 02D2", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 319;
    cpu.sp = 15634;
    cpu.reg.a = 225;
    cpu.reg.b = 77;
    cpu.reg.c = 21;
    cpu.reg.d = 209;
    cpu.reg.e = 72;
    cpu.reg.f = 224;
    cpu.reg.h = 53;
    cpu.reg.l = 234;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[319] = 2;
    cpu.ram[19733] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 225);
    CHECK(cpu.reg.b == 77);
    CHECK(cpu.reg.c == 21);
    CHECK(cpu.reg.d == 209);
    CHECK(cpu.reg.e == 72);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 53);
    CHECK(cpu.reg.l == 234);
    CHECK(cpu.pc == 320);
    CHECK(cpu.sp == 15634);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[319] == 2);
    REQUIRE(cpu.ram[19733] == 225);
}

TEST_CASE( "02 02D3", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1386;
    cpu.sp = 57389;
    cpu.reg.a = 68;
    cpu.reg.b = 102;
    cpu.reg.c = 230;
    cpu.reg.d = 183;
    cpu.reg.e = 99;
    cpu.reg.f = 112;
    cpu.reg.h = 58;
    cpu.reg.l = 10;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1386] = 2;
    cpu.ram[26342] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 68);
    CHECK(cpu.reg.b == 102);
    CHECK(cpu.reg.c == 230);
    CHECK(cpu.reg.d == 183);
    CHECK(cpu.reg.e == 99);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 58);
    CHECK(cpu.reg.l == 10);
    CHECK(cpu.pc == 1387);
    CHECK(cpu.sp == 57389);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1386] == 2);
    REQUIRE(cpu.ram[26342] == 68);
}

TEST_CASE( "02 02D4", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30248;
    cpu.sp = 13852;
    cpu.reg.a = 177;
    cpu.reg.b = 152;
    cpu.reg.c = 150;
    cpu.reg.d = 44;
    cpu.reg.e = 64;
    cpu.reg.f = 176;
    cpu.reg.h = 33;
    cpu.reg.l = 172;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[30248] = 2;
    cpu.ram[39062] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 177);
    CHECK(cpu.reg.b == 152);
    CHECK(cpu.reg.c == 150);
    CHECK(cpu.reg.d == 44);
    CHECK(cpu.reg.e == 64);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 33);
    CHECK(cpu.reg.l == 172);
    CHECK(cpu.pc == 30249);
    CHECK(cpu.sp == 13852);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30248] == 2);
    REQUIRE(cpu.ram[39062] == 177);
}

TEST_CASE( "02 02D5", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62244;
    cpu.sp = 30712;
    cpu.reg.a = 7;
    cpu.reg.b = 180;
    cpu.reg.c = 225;
    cpu.reg.d = 198;
    cpu.reg.e = 133;
    cpu.reg.f = 176;
    cpu.reg.h = 212;
    cpu.reg.l = 47;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[46305] = 0;
    cpu.ram[62244] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 7);
    CHECK(cpu.reg.b == 180);
    CHECK(cpu.reg.c == 225);
    CHECK(cpu.reg.d == 198);
    CHECK(cpu.reg.e == 133);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 212);
    CHECK(cpu.reg.l == 47);
    CHECK(cpu.pc == 62245);
    CHECK(cpu.sp == 30712);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46305] == 7);
    REQUIRE(cpu.ram[62244] == 2);
}

TEST_CASE( "02 02D6", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60071;
    cpu.sp = 22513;
    cpu.reg.a = 10;
    cpu.reg.b = 63;
    cpu.reg.c = 99;
    cpu.reg.d = 209;
    cpu.reg.e = 188;
    cpu.reg.f = 0;
    cpu.reg.h = 134;
    cpu.reg.l = 122;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[16227] = 0;
    cpu.ram[60071] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 10);
    CHECK(cpu.reg.b == 63);
    CHECK(cpu.reg.c == 99);
    CHECK(cpu.reg.d == 209);
    CHECK(cpu.reg.e == 188);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 134);
    CHECK(cpu.reg.l == 122);
    CHECK(cpu.pc == 60072);
    CHECK(cpu.sp == 22513);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16227] == 10);
    REQUIRE(cpu.ram[60071] == 2);
}

TEST_CASE( "02 02D7", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1452;
    cpu.sp = 14494;
    cpu.reg.a = 77;
    cpu.reg.b = 101;
    cpu.reg.c = 67;
    cpu.reg.d = 139;
    cpu.reg.e = 223;
    cpu.reg.f = 224;
    cpu.reg.h = 16;
    cpu.reg.l = 226;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1452] = 2;
    cpu.ram[25923] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 77);
    CHECK(cpu.reg.b == 101);
    CHECK(cpu.reg.c == 67);
    CHECK(cpu.reg.d == 139);
    CHECK(cpu.reg.e == 223);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 16);
    CHECK(cpu.reg.l == 226);
    CHECK(cpu.pc == 1453);
    CHECK(cpu.sp == 14494);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1452] == 2);
    REQUIRE(cpu.ram[25923] == 77);
}

TEST_CASE( "02 02D8", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 873;
    cpu.sp = 10320;
    cpu.reg.a = 159;
    cpu.reg.b = 71;
    cpu.reg.c = 174;
    cpu.reg.d = 118;
    cpu.reg.e = 68;
    cpu.reg.f = 224;
    cpu.reg.h = 17;
    cpu.reg.l = 35;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[873] = 2;
    cpu.ram[18350] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 159);
    CHECK(cpu.reg.b == 71);
    CHECK(cpu.reg.c == 174);
    CHECK(cpu.reg.d == 118);
    CHECK(cpu.reg.e == 68);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 35);
    CHECK(cpu.pc == 874);
    CHECK(cpu.sp == 10320);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[873] == 2);
    REQUIRE(cpu.ram[18350] == 159);
}

TEST_CASE( "02 02D9", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17458;
    cpu.sp = 49209;
    cpu.reg.a = 248;
    cpu.reg.b = 210;
    cpu.reg.c = 102;
    cpu.reg.d = 151;
    cpu.reg.e = 130;
    cpu.reg.f = 208;
    cpu.reg.h = 232;
    cpu.reg.l = 144;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[17458] = 2;
    cpu.ram[53862] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 248);
    CHECK(cpu.reg.b == 210);
    CHECK(cpu.reg.c == 102);
    CHECK(cpu.reg.d == 151);
    CHECK(cpu.reg.e == 130);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 232);
    CHECK(cpu.reg.l == 144);
    CHECK(cpu.pc == 17459);
    CHECK(cpu.sp == 49209);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17458] == 2);
    REQUIRE(cpu.ram[53862] == 248);
}

TEST_CASE( "02 02DA", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41891;
    cpu.sp = 46835;
    cpu.reg.a = 17;
    cpu.reg.b = 50;
    cpu.reg.c = 81;
    cpu.reg.d = 7;
    cpu.reg.e = 26;
    cpu.reg.f = 192;
    cpu.reg.h = 10;
    cpu.reg.l = 240;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[12881] = 0;
    cpu.ram[41891] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 17);
    CHECK(cpu.reg.b == 50);
    CHECK(cpu.reg.c == 81);
    CHECK(cpu.reg.d == 7);
    CHECK(cpu.reg.e == 26);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 10);
    CHECK(cpu.reg.l == 240);
    CHECK(cpu.pc == 41892);
    CHECK(cpu.sp == 46835);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12881] == 17);
    REQUIRE(cpu.ram[41891] == 2);
}

TEST_CASE( "02 02DB", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43938;
    cpu.sp = 40432;
    cpu.reg.a = 112;
    cpu.reg.b = 130;
    cpu.reg.c = 42;
    cpu.reg.d = 112;
    cpu.reg.e = 0;
    cpu.reg.f = 80;
    cpu.reg.h = 86;
    cpu.reg.l = 37;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[33322] = 0;
    cpu.ram[43938] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 112);
    CHECK(cpu.reg.b == 130);
    CHECK(cpu.reg.c == 42);
    CHECK(cpu.reg.d == 112);
    CHECK(cpu.reg.e == 0);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 86);
    CHECK(cpu.reg.l == 37);
    CHECK(cpu.pc == 43939);
    CHECK(cpu.sp == 40432);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33322] == 112);
    REQUIRE(cpu.ram[43938] == 2);
}

TEST_CASE( "02 02DC", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50977;
    cpu.sp = 56315;
    cpu.reg.a = 188;
    cpu.reg.b = 105;
    cpu.reg.c = 197;
    cpu.reg.d = 57;
    cpu.reg.e = 231;
    cpu.reg.f = 32;
    cpu.reg.h = 214;
    cpu.reg.l = 39;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[27077] = 0;
    cpu.ram[50977] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 188);
    CHECK(cpu.reg.b == 105);
    CHECK(cpu.reg.c == 197);
    CHECK(cpu.reg.d == 57);
    CHECK(cpu.reg.e == 231);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 214);
    CHECK(cpu.reg.l == 39);
    CHECK(cpu.pc == 50978);
    CHECK(cpu.sp == 56315);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27077] == 188);
    REQUIRE(cpu.ram[50977] == 2);
}

TEST_CASE( "02 02DD", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9182;
    cpu.sp = 62985;
    cpu.reg.a = 24;
    cpu.reg.b = 8;
    cpu.reg.c = 73;
    cpu.reg.d = 81;
    cpu.reg.e = 243;
    cpu.reg.f = 192;
    cpu.reg.h = 168;
    cpu.reg.l = 59;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[2121] = 0;
    cpu.ram[9182] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 24);
    CHECK(cpu.reg.b == 8);
    CHECK(cpu.reg.c == 73);
    CHECK(cpu.reg.d == 81);
    CHECK(cpu.reg.e == 243);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 168);
    CHECK(cpu.reg.l == 59);
    CHECK(cpu.pc == 9183);
    CHECK(cpu.sp == 62985);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2121] == 24);
    REQUIRE(cpu.ram[9182] == 2);
}

TEST_CASE( "02 02DE", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2611;
    cpu.sp = 32310;
    cpu.reg.a = 96;
    cpu.reg.b = 65;
    cpu.reg.c = 72;
    cpu.reg.d = 98;
    cpu.reg.e = 12;
    cpu.reg.f = 176;
    cpu.reg.h = 150;
    cpu.reg.l = 67;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[2611] = 2;
    cpu.ram[16712] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 96);
    CHECK(cpu.reg.b == 65);
    CHECK(cpu.reg.c == 72);
    CHECK(cpu.reg.d == 98);
    CHECK(cpu.reg.e == 12);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 150);
    CHECK(cpu.reg.l == 67);
    CHECK(cpu.pc == 2612);
    CHECK(cpu.sp == 32310);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2611] == 2);
    REQUIRE(cpu.ram[16712] == 96);
}

TEST_CASE( "02 02DF", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1891;
    cpu.sp = 35854;
    cpu.reg.a = 220;
    cpu.reg.b = 78;
    cpu.reg.c = 233;
    cpu.reg.d = 172;
    cpu.reg.e = 2;
    cpu.reg.f = 112;
    cpu.reg.h = 65;
    cpu.reg.l = 215;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1891] = 2;
    cpu.ram[20201] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 220);
    CHECK(cpu.reg.b == 78);
    CHECK(cpu.reg.c == 233);
    CHECK(cpu.reg.d == 172);
    CHECK(cpu.reg.e == 2);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 65);
    CHECK(cpu.reg.l == 215);
    CHECK(cpu.pc == 1892);
    CHECK(cpu.sp == 35854);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1891] == 2);
    REQUIRE(cpu.ram[20201] == 220);
}

TEST_CASE( "02 02E0", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20046;
    cpu.sp = 52411;
    cpu.reg.a = 236;
    cpu.reg.b = 112;
    cpu.reg.c = 42;
    cpu.reg.d = 226;
    cpu.reg.e = 183;
    cpu.reg.f = 224;
    cpu.reg.h = 241;
    cpu.reg.l = 205;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[20046] = 2;
    cpu.ram[28714] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 236);
    CHECK(cpu.reg.b == 112);
    CHECK(cpu.reg.c == 42);
    CHECK(cpu.reg.d == 226);
    CHECK(cpu.reg.e == 183);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 205);
    CHECK(cpu.pc == 20047);
    CHECK(cpu.sp == 52411);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[20046] == 2);
    REQUIRE(cpu.ram[28714] == 236);
}

TEST_CASE( "02 02E1", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38988;
    cpu.sp = 31864;
    cpu.reg.a = 15;
    cpu.reg.b = 92;
    cpu.reg.c = 93;
    cpu.reg.d = 251;
    cpu.reg.e = 174;
    cpu.reg.f = 80;
    cpu.reg.h = 72;
    cpu.reg.l = 172;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[23645] = 0;
    cpu.ram[38988] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 15);
    CHECK(cpu.reg.b == 92);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 251);
    CHECK(cpu.reg.e == 174);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 72);
    CHECK(cpu.reg.l == 172);
    CHECK(cpu.pc == 38989);
    CHECK(cpu.sp == 31864);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23645] == 15);
    REQUIRE(cpu.ram[38988] == 2);
}

TEST_CASE( "02 02E2", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22350;
    cpu.sp = 34962;
    cpu.reg.a = 152;
    cpu.reg.b = 250;
    cpu.reg.c = 188;
    cpu.reg.d = 196;
    cpu.reg.e = 125;
    cpu.reg.f = 224;
    cpu.reg.h = 16;
    cpu.reg.l = 203;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[22350] = 2;
    cpu.ram[64188] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 152);
    CHECK(cpu.reg.b == 250);
    CHECK(cpu.reg.c == 188);
    CHECK(cpu.reg.d == 196);
    CHECK(cpu.reg.e == 125);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 16);
    CHECK(cpu.reg.l == 203);
    CHECK(cpu.pc == 22351);
    CHECK(cpu.sp == 34962);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22350] == 2);
    REQUIRE(cpu.ram[64188] == 152);
}

TEST_CASE( "02 02E3", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24460;
    cpu.sp = 47652;
    cpu.reg.a = 54;
    cpu.reg.b = 49;
    cpu.reg.c = 150;
    cpu.reg.d = 201;
    cpu.reg.e = 125;
    cpu.reg.f = 0;
    cpu.reg.h = 206;
    cpu.reg.l = 101;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[12694] = 0;
    cpu.ram[24460] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 54);
    CHECK(cpu.reg.b == 49);
    CHECK(cpu.reg.c == 150);
    CHECK(cpu.reg.d == 201);
    CHECK(cpu.reg.e == 125);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 206);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 24461);
    CHECK(cpu.sp == 47652);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12694] == 54);
    REQUIRE(cpu.ram[24460] == 2);
}

TEST_CASE( "02 02E4", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51230;
    cpu.sp = 5997;
    cpu.reg.a = 116;
    cpu.reg.b = 230;
    cpu.reg.c = 244;
    cpu.reg.d = 200;
    cpu.reg.e = 245;
    cpu.reg.f = 96;
    cpu.reg.h = 19;
    cpu.reg.l = 36;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[51230] = 2;
    cpu.ram[59124] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 116);
    CHECK(cpu.reg.b == 230);
    CHECK(cpu.reg.c == 244);
    CHECK(cpu.reg.d == 200);
    CHECK(cpu.reg.e == 245);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 19);
    CHECK(cpu.reg.l == 36);
    CHECK(cpu.pc == 51231);
    CHECK(cpu.sp == 5997);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51230] == 2);
    REQUIRE(cpu.ram[59124] == 116);
}

TEST_CASE( "02 02E5", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15487;
    cpu.sp = 22622;
    cpu.reg.a = 255;
    cpu.reg.b = 5;
    cpu.reg.c = 47;
    cpu.reg.d = 78;
    cpu.reg.e = 55;
    cpu.reg.f = 0;
    cpu.reg.h = 137;
    cpu.reg.l = 222;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[1327] = 0;
    cpu.ram[15487] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 255);
    CHECK(cpu.reg.b == 5);
    CHECK(cpu.reg.c == 47);
    CHECK(cpu.reg.d == 78);
    CHECK(cpu.reg.e == 55);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 137);
    CHECK(cpu.reg.l == 222);
    CHECK(cpu.pc == 15488);
    CHECK(cpu.sp == 22622);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1327] == 255);
    REQUIRE(cpu.ram[15487] == 2);
}

TEST_CASE( "02 02E6", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28449;
    cpu.sp = 37049;
    cpu.reg.a = 84;
    cpu.reg.b = 222;
    cpu.reg.c = 175;
    cpu.reg.d = 107;
    cpu.reg.e = 28;
    cpu.reg.f = 192;
    cpu.reg.h = 74;
    cpu.reg.l = 181;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[28449] = 2;
    cpu.ram[57007] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 84);
    CHECK(cpu.reg.b == 222);
    CHECK(cpu.reg.c == 175);
    CHECK(cpu.reg.d == 107);
    CHECK(cpu.reg.e == 28);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 74);
    CHECK(cpu.reg.l == 181);
    CHECK(cpu.pc == 28450);
    CHECK(cpu.sp == 37049);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28449] == 2);
    REQUIRE(cpu.ram[57007] == 84);
}

TEST_CASE( "02 02E7", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31579;
    cpu.sp = 38395;
    cpu.reg.a = 53;
    cpu.reg.b = 203;
    cpu.reg.c = 113;
    cpu.reg.d = 224;
    cpu.reg.e = 236;
    cpu.reg.f = 144;
    cpu.reg.h = 49;
    cpu.reg.l = 188;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[31579] = 2;
    cpu.ram[52081] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 53);
    CHECK(cpu.reg.b == 203);
    CHECK(cpu.reg.c == 113);
    CHECK(cpu.reg.d == 224);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 49);
    CHECK(cpu.reg.l == 188);
    CHECK(cpu.pc == 31580);
    CHECK(cpu.sp == 38395);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31579] == 2);
    REQUIRE(cpu.ram[52081] == 53);
}

TEST_CASE( "02 02E8", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39794;
    cpu.sp = 6541;
    cpu.reg.a = 156;
    cpu.reg.b = 163;
    cpu.reg.c = 224;
    cpu.reg.d = 233;
    cpu.reg.e = 140;
    cpu.reg.f = 0;
    cpu.reg.h = 96;
    cpu.reg.l = 112;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[39794] = 2;
    cpu.ram[41952] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 156);
    CHECK(cpu.reg.b == 163);
    CHECK(cpu.reg.c == 224);
    CHECK(cpu.reg.d == 233);
    CHECK(cpu.reg.e == 140);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 96);
    CHECK(cpu.reg.l == 112);
    CHECK(cpu.pc == 39795);
    CHECK(cpu.sp == 6541);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39794] == 2);
    REQUIRE(cpu.ram[41952] == 156);
}

TEST_CASE( "02 02E9", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29450;
    cpu.sp = 17070;
    cpu.reg.a = 233;
    cpu.reg.b = 240;
    cpu.reg.c = 201;
    cpu.reg.d = 163;
    cpu.reg.e = 203;
    cpu.reg.f = 224;
    cpu.reg.h = 30;
    cpu.reg.l = 90;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[29450] = 2;
    cpu.ram[61641] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 233);
    CHECK(cpu.reg.b == 240);
    CHECK(cpu.reg.c == 201);
    CHECK(cpu.reg.d == 163);
    CHECK(cpu.reg.e == 203);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 30);
    CHECK(cpu.reg.l == 90);
    CHECK(cpu.pc == 29451);
    CHECK(cpu.sp == 17070);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29450] == 2);
    REQUIRE(cpu.ram[61641] == 233);
}

TEST_CASE( "02 02EA", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55423;
    cpu.sp = 48917;
    cpu.reg.a = 211;
    cpu.reg.b = 0;
    cpu.reg.c = 73;
    cpu.reg.d = 68;
    cpu.reg.e = 44;
    cpu.reg.f = 48;
    cpu.reg.h = 224;
    cpu.reg.l = 121;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[73] = 0;
    cpu.ram[55423] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 211);
    CHECK(cpu.reg.b == 0);
    CHECK(cpu.reg.c == 73);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 44);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 224);
    CHECK(cpu.reg.l == 121);
    CHECK(cpu.pc == 55424);
    CHECK(cpu.sp == 48917);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[73] == 211);
    REQUIRE(cpu.ram[55423] == 2);
}

TEST_CASE( "02 02EB", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52222;
    cpu.sp = 21389;
    cpu.reg.a = 56;
    cpu.reg.b = 102;
    cpu.reg.c = 57;
    cpu.reg.d = 21;
    cpu.reg.e = 93;
    cpu.reg.f = 240;
    cpu.reg.h = 202;
    cpu.reg.l = 126;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26169] = 0;
    cpu.ram[52222] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 56);
    CHECK(cpu.reg.b == 102);
    CHECK(cpu.reg.c == 57);
    CHECK(cpu.reg.d == 21);
    CHECK(cpu.reg.e == 93);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 202);
    CHECK(cpu.reg.l == 126);
    CHECK(cpu.pc == 52223);
    CHECK(cpu.sp == 21389);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26169] == 56);
    REQUIRE(cpu.ram[52222] == 2);
}

TEST_CASE( "02 02EC", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48114;
    cpu.sp = 8585;
    cpu.reg.a = 159;
    cpu.reg.b = 91;
    cpu.reg.c = 118;
    cpu.reg.d = 36;
    cpu.reg.e = 250;
    cpu.reg.f = 96;
    cpu.reg.h = 120;
    cpu.reg.l = 43;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[23414] = 0;
    cpu.ram[48114] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 159);
    CHECK(cpu.reg.b == 91);
    CHECK(cpu.reg.c == 118);
    CHECK(cpu.reg.d == 36);
    CHECK(cpu.reg.e == 250);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 120);
    CHECK(cpu.reg.l == 43);
    CHECK(cpu.pc == 48115);
    CHECK(cpu.sp == 8585);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23414] == 159);
    REQUIRE(cpu.ram[48114] == 2);
}

TEST_CASE( "02 02ED", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12473;
    cpu.sp = 32660;
    cpu.reg.a = 85;
    cpu.reg.b = 223;
    cpu.reg.c = 139;
    cpu.reg.d = 120;
    cpu.reg.e = 44;
    cpu.reg.f = 64;
    cpu.reg.h = 174;
    cpu.reg.l = 122;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[12473] = 2;
    cpu.ram[57227] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 85);
    CHECK(cpu.reg.b == 223);
    CHECK(cpu.reg.c == 139);
    CHECK(cpu.reg.d == 120);
    CHECK(cpu.reg.e == 44);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 174);
    CHECK(cpu.reg.l == 122);
    CHECK(cpu.pc == 12474);
    CHECK(cpu.sp == 32660);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12473] == 2);
    REQUIRE(cpu.ram[57227] == 85);
}

TEST_CASE( "02 02EE", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63295;
    cpu.sp = 25781;
    cpu.reg.a = 10;
    cpu.reg.b = 6;
    cpu.reg.c = 220;
    cpu.reg.d = 102;
    cpu.reg.e = 201;
    cpu.reg.f = 240;
    cpu.reg.h = 231;
    cpu.reg.l = 36;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[1756] = 0;
    cpu.ram[63295] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 10);
    CHECK(cpu.reg.b == 6);
    CHECK(cpu.reg.c == 220);
    CHECK(cpu.reg.d == 102);
    CHECK(cpu.reg.e == 201);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 231);
    CHECK(cpu.reg.l == 36);
    CHECK(cpu.pc == 63296);
    CHECK(cpu.sp == 25781);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1756] == 10);
    REQUIRE(cpu.ram[63295] == 2);
}

TEST_CASE( "02 02EF", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6269;
    cpu.sp = 815;
    cpu.reg.a = 150;
    cpu.reg.b = 168;
    cpu.reg.c = 62;
    cpu.reg.d = 129;
    cpu.reg.e = 61;
    cpu.reg.f = 0;
    cpu.reg.h = 49;
    cpu.reg.l = 174;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[6269] = 2;
    cpu.ram[43070] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 150);
    CHECK(cpu.reg.b == 168);
    CHECK(cpu.reg.c == 62);
    CHECK(cpu.reg.d == 129);
    CHECK(cpu.reg.e == 61);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 49);
    CHECK(cpu.reg.l == 174);
    CHECK(cpu.pc == 6270);
    CHECK(cpu.sp == 815);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6269] == 2);
    REQUIRE(cpu.ram[43070] == 150);
}

TEST_CASE( "02 02F0", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35322;
    cpu.sp = 50028;
    cpu.reg.a = 186;
    cpu.reg.b = 243;
    cpu.reg.c = 118;
    cpu.reg.d = 136;
    cpu.reg.e = 36;
    cpu.reg.f = 128;
    cpu.reg.h = 161;
    cpu.reg.l = 108;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[35322] = 2;
    cpu.ram[62326] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 186);
    CHECK(cpu.reg.b == 243);
    CHECK(cpu.reg.c == 118);
    CHECK(cpu.reg.d == 136);
    CHECK(cpu.reg.e == 36);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 161);
    CHECK(cpu.reg.l == 108);
    CHECK(cpu.pc == 35323);
    CHECK(cpu.sp == 50028);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35322] == 2);
    REQUIRE(cpu.ram[62326] == 186);
}

TEST_CASE( "02 02F1", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2115;
    cpu.sp = 25929;
    cpu.reg.a = 223;
    cpu.reg.b = 16;
    cpu.reg.c = 55;
    cpu.reg.d = 254;
    cpu.reg.e = 79;
    cpu.reg.f = 80;
    cpu.reg.h = 141;
    cpu.reg.l = 139;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[2115] = 2;
    cpu.ram[4151] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 223);
    CHECK(cpu.reg.b == 16);
    CHECK(cpu.reg.c == 55);
    CHECK(cpu.reg.d == 254);
    CHECK(cpu.reg.e == 79);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 141);
    CHECK(cpu.reg.l == 139);
    CHECK(cpu.pc == 2116);
    CHECK(cpu.sp == 25929);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2115] == 2);
    REQUIRE(cpu.ram[4151] == 223);
}

TEST_CASE( "02 02F2", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3533;
    cpu.sp = 49305;
    cpu.reg.a = 220;
    cpu.reg.b = 98;
    cpu.reg.c = 87;
    cpu.reg.d = 92;
    cpu.reg.e = 178;
    cpu.reg.f = 64;
    cpu.reg.h = 167;
    cpu.reg.l = 64;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[3533] = 2;
    cpu.ram[25175] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 220);
    CHECK(cpu.reg.b == 98);
    CHECK(cpu.reg.c == 87);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 178);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 167);
    CHECK(cpu.reg.l == 64);
    CHECK(cpu.pc == 3534);
    CHECK(cpu.sp == 49305);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3533] == 2);
    REQUIRE(cpu.ram[25175] == 220);
}

TEST_CASE( "02 02F3", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25490;
    cpu.sp = 27030;
    cpu.reg.a = 219;
    cpu.reg.b = 72;
    cpu.reg.c = 212;
    cpu.reg.d = 117;
    cpu.reg.e = 212;
    cpu.reg.f = 128;
    cpu.reg.h = 210;
    cpu.reg.l = 57;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[18644] = 0;
    cpu.ram[25490] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 219);
    CHECK(cpu.reg.b == 72);
    CHECK(cpu.reg.c == 212);
    CHECK(cpu.reg.d == 117);
    CHECK(cpu.reg.e == 212);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 210);
    CHECK(cpu.reg.l == 57);
    CHECK(cpu.pc == 25491);
    CHECK(cpu.sp == 27030);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18644] == 219);
    REQUIRE(cpu.ram[25490] == 2);
}

TEST_CASE( "02 02F4", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2515;
    cpu.sp = 42279;
    cpu.reg.a = 163;
    cpu.reg.b = 211;
    cpu.reg.c = 182;
    cpu.reg.d = 217;
    cpu.reg.e = 121;
    cpu.reg.f = 128;
    cpu.reg.h = 113;
    cpu.reg.l = 235;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[2515] = 2;
    cpu.ram[54198] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 163);
    CHECK(cpu.reg.b == 211);
    CHECK(cpu.reg.c == 182);
    CHECK(cpu.reg.d == 217);
    CHECK(cpu.reg.e == 121);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 113);
    CHECK(cpu.reg.l == 235);
    CHECK(cpu.pc == 2516);
    CHECK(cpu.sp == 42279);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2515] == 2);
    REQUIRE(cpu.ram[54198] == 163);
}

TEST_CASE( "02 02F5", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52816;
    cpu.sp = 60324;
    cpu.reg.a = 214;
    cpu.reg.b = 26;
    cpu.reg.c = 13;
    cpu.reg.d = 104;
    cpu.reg.e = 148;
    cpu.reg.f = 240;
    cpu.reg.h = 234;
    cpu.reg.l = 101;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[6669] = 0;
    cpu.ram[52816] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 214);
    CHECK(cpu.reg.b == 26);
    CHECK(cpu.reg.c == 13);
    CHECK(cpu.reg.d == 104);
    CHECK(cpu.reg.e == 148);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 234);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 52817);
    CHECK(cpu.sp == 60324);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6669] == 214);
    REQUIRE(cpu.ram[52816] == 2);
}

TEST_CASE( "02 02F6", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43562;
    cpu.sp = 20938;
    cpu.reg.a = 133;
    cpu.reg.b = 23;
    cpu.reg.c = 117;
    cpu.reg.d = 182;
    cpu.reg.e = 255;
    cpu.reg.f = 80;
    cpu.reg.h = 30;
    cpu.reg.l = 47;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[6005] = 0;
    cpu.ram[43562] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 133);
    CHECK(cpu.reg.b == 23);
    CHECK(cpu.reg.c == 117);
    CHECK(cpu.reg.d == 182);
    CHECK(cpu.reg.e == 255);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 30);
    CHECK(cpu.reg.l == 47);
    CHECK(cpu.pc == 43563);
    CHECK(cpu.sp == 20938);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6005] == 133);
    REQUIRE(cpu.ram[43562] == 2);
}

TEST_CASE( "02 02F7", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16028;
    cpu.sp = 9802;
    cpu.reg.a = 201;
    cpu.reg.b = 212;
    cpu.reg.c = 45;
    cpu.reg.d = 187;
    cpu.reg.e = 81;
    cpu.reg.f = 32;
    cpu.reg.h = 38;
    cpu.reg.l = 177;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[16028] = 2;
    cpu.ram[54317] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 201);
    CHECK(cpu.reg.b == 212);
    CHECK(cpu.reg.c == 45);
    CHECK(cpu.reg.d == 187);
    CHECK(cpu.reg.e == 81);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 38);
    CHECK(cpu.reg.l == 177);
    CHECK(cpu.pc == 16029);
    CHECK(cpu.sp == 9802);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16028] == 2);
    REQUIRE(cpu.ram[54317] == 201);
}

TEST_CASE( "02 02F8", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10271;
    cpu.sp = 34251;
    cpu.reg.a = 7;
    cpu.reg.b = 146;
    cpu.reg.c = 55;
    cpu.reg.d = 88;
    cpu.reg.e = 125;
    cpu.reg.f = 0;
    cpu.reg.h = 177;
    cpu.reg.l = 189;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[10271] = 2;
    cpu.ram[37431] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 7);
    CHECK(cpu.reg.b == 146);
    CHECK(cpu.reg.c == 55);
    CHECK(cpu.reg.d == 88);
    CHECK(cpu.reg.e == 125);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 177);
    CHECK(cpu.reg.l == 189);
    CHECK(cpu.pc == 10272);
    CHECK(cpu.sp == 34251);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10271] == 2);
    REQUIRE(cpu.ram[37431] == 7);
}

TEST_CASE( "02 02F9", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15146;
    cpu.sp = 53869;
    cpu.reg.a = 233;
    cpu.reg.b = 169;
    cpu.reg.c = 128;
    cpu.reg.d = 239;
    cpu.reg.e = 225;
    cpu.reg.f = 112;
    cpu.reg.h = 77;
    cpu.reg.l = 136;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[15146] = 2;
    cpu.ram[43392] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 233);
    CHECK(cpu.reg.b == 169);
    CHECK(cpu.reg.c == 128);
    CHECK(cpu.reg.d == 239);
    CHECK(cpu.reg.e == 225);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 77);
    CHECK(cpu.reg.l == 136);
    CHECK(cpu.pc == 15147);
    CHECK(cpu.sp == 53869);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15146] == 2);
    REQUIRE(cpu.ram[43392] == 233);
}

TEST_CASE( "02 02FA", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53298;
    cpu.sp = 20013;
    cpu.reg.a = 13;
    cpu.reg.b = 151;
    cpu.reg.c = 202;
    cpu.reg.d = 120;
    cpu.reg.e = 77;
    cpu.reg.f = 192;
    cpu.reg.h = 227;
    cpu.reg.l = 159;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[38858] = 0;
    cpu.ram[53298] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 13);
    CHECK(cpu.reg.b == 151);
    CHECK(cpu.reg.c == 202);
    CHECK(cpu.reg.d == 120);
    CHECK(cpu.reg.e == 77);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 159);
    CHECK(cpu.pc == 53299);
    CHECK(cpu.sp == 20013);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38858] == 13);
    REQUIRE(cpu.ram[53298] == 2);
}

TEST_CASE( "02 02FB", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44955;
    cpu.sp = 60243;
    cpu.reg.a = 190;
    cpu.reg.b = 203;
    cpu.reg.c = 102;
    cpu.reg.d = 113;
    cpu.reg.e = 91;
    cpu.reg.f = 0;
    cpu.reg.h = 117;
    cpu.reg.l = 234;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[44955] = 2;
    cpu.ram[52070] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 190);
    CHECK(cpu.reg.b == 203);
    CHECK(cpu.reg.c == 102);
    CHECK(cpu.reg.d == 113);
    CHECK(cpu.reg.e == 91);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 117);
    CHECK(cpu.reg.l == 234);
    CHECK(cpu.pc == 44956);
    CHECK(cpu.sp == 60243);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44955] == 2);
    REQUIRE(cpu.ram[52070] == 190);
}

TEST_CASE( "02 02FC", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29811;
    cpu.sp = 42580;
    cpu.reg.a = 227;
    cpu.reg.b = 164;
    cpu.reg.c = 116;
    cpu.reg.d = 175;
    cpu.reg.e = 24;
    cpu.reg.f = 160;
    cpu.reg.h = 176;
    cpu.reg.l = 210;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[29811] = 2;
    cpu.ram[42100] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 227);
    CHECK(cpu.reg.b == 164);
    CHECK(cpu.reg.c == 116);
    CHECK(cpu.reg.d == 175);
    CHECK(cpu.reg.e == 24);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 176);
    CHECK(cpu.reg.l == 210);
    CHECK(cpu.pc == 29812);
    CHECK(cpu.sp == 42580);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29811] == 2);
    REQUIRE(cpu.ram[42100] == 227);
}

TEST_CASE( "02 02FD", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37996;
    cpu.sp = 32924;
    cpu.reg.a = 218;
    cpu.reg.b = 90;
    cpu.reg.c = 226;
    cpu.reg.d = 135;
    cpu.reg.e = 183;
    cpu.reg.f = 144;
    cpu.reg.h = 156;
    cpu.reg.l = 13;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[23266] = 0;
    cpu.ram[37996] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 218);
    CHECK(cpu.reg.b == 90);
    CHECK(cpu.reg.c == 226);
    CHECK(cpu.reg.d == 135);
    CHECK(cpu.reg.e == 183);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 156);
    CHECK(cpu.reg.l == 13);
    CHECK(cpu.pc == 37997);
    CHECK(cpu.sp == 32924);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23266] == 218);
    REQUIRE(cpu.ram[37996] == 2);
}

TEST_CASE( "02 02FE", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12192;
    cpu.sp = 63215;
    cpu.reg.a = 177;
    cpu.reg.b = 71;
    cpu.reg.c = 203;
    cpu.reg.d = 154;
    cpu.reg.e = 43;
    cpu.reg.f = 176;
    cpu.reg.h = 43;
    cpu.reg.l = 45;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[12192] = 2;
    cpu.ram[18379] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 177);
    CHECK(cpu.reg.b == 71);
    CHECK(cpu.reg.c == 203);
    CHECK(cpu.reg.d == 154);
    CHECK(cpu.reg.e == 43);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 43);
    CHECK(cpu.reg.l == 45);
    CHECK(cpu.pc == 12193);
    CHECK(cpu.sp == 63215);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12192] == 2);
    REQUIRE(cpu.ram[18379] == 177);
}

TEST_CASE( "02 02FF", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48015;
    cpu.sp = 31952;
    cpu.reg.a = 69;
    cpu.reg.b = 66;
    cpu.reg.c = 21;
    cpu.reg.d = 26;
    cpu.reg.e = 71;
    cpu.reg.f = 80;
    cpu.reg.h = 192;
    cpu.reg.l = 30;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[16917] = 0;
    cpu.ram[48015] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 69);
    CHECK(cpu.reg.b == 66);
    CHECK(cpu.reg.c == 21);
    CHECK(cpu.reg.d == 26);
    CHECK(cpu.reg.e == 71);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 192);
    CHECK(cpu.reg.l == 30);
    CHECK(cpu.pc == 48016);
    CHECK(cpu.sp == 31952);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16917] == 69);
    REQUIRE(cpu.ram[48015] == 2);
}

TEST_CASE( "02 0300", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17163;
    cpu.sp = 32148;
    cpu.reg.a = 108;
    cpu.reg.b = 105;
    cpu.reg.c = 116;
    cpu.reg.d = 232;
    cpu.reg.e = 24;
    cpu.reg.f = 32;
    cpu.reg.h = 1;
    cpu.reg.l = 155;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[17163] = 2;
    cpu.ram[26996] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 108);
    CHECK(cpu.reg.b == 105);
    CHECK(cpu.reg.c == 116);
    CHECK(cpu.reg.d == 232);
    CHECK(cpu.reg.e == 24);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 1);
    CHECK(cpu.reg.l == 155);
    CHECK(cpu.pc == 17164);
    CHECK(cpu.sp == 32148);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17163] == 2);
    REQUIRE(cpu.ram[26996] == 108);
}

TEST_CASE( "02 0301", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38080;
    cpu.sp = 8052;
    cpu.reg.a = 125;
    cpu.reg.b = 151;
    cpu.reg.c = 185;
    cpu.reg.d = 189;
    cpu.reg.e = 220;
    cpu.reg.f = 48;
    cpu.reg.h = 232;
    cpu.reg.l = 111;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[38080] = 2;
    cpu.ram[38841] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 125);
    CHECK(cpu.reg.b == 151);
    CHECK(cpu.reg.c == 185);
    CHECK(cpu.reg.d == 189);
    CHECK(cpu.reg.e == 220);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 232);
    CHECK(cpu.reg.l == 111);
    CHECK(cpu.pc == 38081);
    CHECK(cpu.sp == 8052);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38080] == 2);
    REQUIRE(cpu.ram[38841] == 125);
}

TEST_CASE( "02 0302", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42089;
    cpu.sp = 6027;
    cpu.reg.a = 7;
    cpu.reg.b = 64;
    cpu.reg.c = 22;
    cpu.reg.d = 43;
    cpu.reg.e = 62;
    cpu.reg.f = 64;
    cpu.reg.h = 1;
    cpu.reg.l = 138;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[16406] = 0;
    cpu.ram[42089] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 7);
    CHECK(cpu.reg.b == 64);
    CHECK(cpu.reg.c == 22);
    CHECK(cpu.reg.d == 43);
    CHECK(cpu.reg.e == 62);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 1);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 42090);
    CHECK(cpu.sp == 6027);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16406] == 7);
    REQUIRE(cpu.ram[42089] == 2);
}

TEST_CASE( "02 0303", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23490;
    cpu.sp = 53999;
    cpu.reg.a = 145;
    cpu.reg.b = 154;
    cpu.reg.c = 50;
    cpu.reg.d = 110;
    cpu.reg.e = 179;
    cpu.reg.f = 224;
    cpu.reg.h = 45;
    cpu.reg.l = 77;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[23490] = 2;
    cpu.ram[39474] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 145);
    CHECK(cpu.reg.b == 154);
    CHECK(cpu.reg.c == 50);
    CHECK(cpu.reg.d == 110);
    CHECK(cpu.reg.e == 179);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 45);
    CHECK(cpu.reg.l == 77);
    CHECK(cpu.pc == 23491);
    CHECK(cpu.sp == 53999);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[23490] == 2);
    REQUIRE(cpu.ram[39474] == 145);
}

TEST_CASE( "02 0304", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60248;
    cpu.sp = 5569;
    cpu.reg.a = 11;
    cpu.reg.b = 12;
    cpu.reg.c = 14;
    cpu.reg.d = 142;
    cpu.reg.e = 171;
    cpu.reg.f = 96;
    cpu.reg.h = 252;
    cpu.reg.l = 0;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[3086] = 0;
    cpu.ram[60248] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 11);
    CHECK(cpu.reg.b == 12);
    CHECK(cpu.reg.c == 14);
    CHECK(cpu.reg.d == 142);
    CHECK(cpu.reg.e == 171);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 252);
    CHECK(cpu.reg.l == 0);
    CHECK(cpu.pc == 60249);
    CHECK(cpu.sp == 5569);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3086] == 11);
    REQUIRE(cpu.ram[60248] == 2);
}

TEST_CASE( "02 0305", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54663;
    cpu.sp = 30384;
    cpu.reg.a = 93;
    cpu.reg.b = 136;
    cpu.reg.c = 205;
    cpu.reg.d = 207;
    cpu.reg.e = 25;
    cpu.reg.f = 48;
    cpu.reg.h = 105;
    cpu.reg.l = 213;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[35021] = 0;
    cpu.ram[54663] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 93);
    CHECK(cpu.reg.b == 136);
    CHECK(cpu.reg.c == 205);
    CHECK(cpu.reg.d == 207);
    CHECK(cpu.reg.e == 25);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 105);
    CHECK(cpu.reg.l == 213);
    CHECK(cpu.pc == 54664);
    CHECK(cpu.sp == 30384);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35021] == 93);
    REQUIRE(cpu.ram[54663] == 2);
}

TEST_CASE( "02 0306", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18816;
    cpu.sp = 16388;
    cpu.reg.a = 218;
    cpu.reg.b = 168;
    cpu.reg.c = 151;
    cpu.reg.d = 209;
    cpu.reg.e = 156;
    cpu.reg.f = 64;
    cpu.reg.h = 50;
    cpu.reg.l = 163;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[18816] = 2;
    cpu.ram[43159] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 218);
    CHECK(cpu.reg.b == 168);
    CHECK(cpu.reg.c == 151);
    CHECK(cpu.reg.d == 209);
    CHECK(cpu.reg.e == 156);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 50);
    CHECK(cpu.reg.l == 163);
    CHECK(cpu.pc == 18817);
    CHECK(cpu.sp == 16388);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[18816] == 2);
    REQUIRE(cpu.ram[43159] == 218);
}

TEST_CASE( "02 0307", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61649;
    cpu.sp = 56643;
    cpu.reg.a = 25;
    cpu.reg.b = 187;
    cpu.reg.c = 140;
    cpu.reg.d = 211;
    cpu.reg.e = 142;
    cpu.reg.f = 160;
    cpu.reg.h = 4;
    cpu.reg.l = 39;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[48012] = 0;
    cpu.ram[61649] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 25);
    CHECK(cpu.reg.b == 187);
    CHECK(cpu.reg.c == 140);
    CHECK(cpu.reg.d == 211);
    CHECK(cpu.reg.e == 142);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 4);
    CHECK(cpu.reg.l == 39);
    CHECK(cpu.pc == 61650);
    CHECK(cpu.sp == 56643);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[48012] == 25);
    REQUIRE(cpu.ram[61649] == 2);
}

TEST_CASE( "02 0308", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55952;
    cpu.sp = 9391;
    cpu.reg.a = 64;
    cpu.reg.b = 133;
    cpu.reg.c = 221;
    cpu.reg.d = 204;
    cpu.reg.e = 35;
    cpu.reg.f = 224;
    cpu.reg.h = 142;
    cpu.reg.l = 217;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[34269] = 0;
    cpu.ram[55952] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 133);
    CHECK(cpu.reg.c == 221);
    CHECK(cpu.reg.d == 204);
    CHECK(cpu.reg.e == 35);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 142);
    CHECK(cpu.reg.l == 217);
    CHECK(cpu.pc == 55953);
    CHECK(cpu.sp == 9391);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34269] == 64);
    REQUIRE(cpu.ram[55952] == 2);
}

TEST_CASE( "02 0309", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37743;
    cpu.sp = 16469;
    cpu.reg.a = 108;
    cpu.reg.b = 113;
    cpu.reg.c = 191;
    cpu.reg.d = 187;
    cpu.reg.e = 24;
    cpu.reg.f = 16;
    cpu.reg.h = 217;
    cpu.reg.l = 169;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[29119] = 0;
    cpu.ram[37743] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 108);
    CHECK(cpu.reg.b == 113);
    CHECK(cpu.reg.c == 191);
    CHECK(cpu.reg.d == 187);
    CHECK(cpu.reg.e == 24);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 217);
    CHECK(cpu.reg.l == 169);
    CHECK(cpu.pc == 37744);
    CHECK(cpu.sp == 16469);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[29119] == 108);
    REQUIRE(cpu.ram[37743] == 2);
}

TEST_CASE( "02 030A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60891;
    cpu.sp = 22411;
    cpu.reg.a = 146;
    cpu.reg.b = 23;
    cpu.reg.c = 107;
    cpu.reg.d = 217;
    cpu.reg.e = 5;
    cpu.reg.f = 64;
    cpu.reg.h = 186;
    cpu.reg.l = 34;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5995] = 0;
    cpu.ram[60891] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 146);
    CHECK(cpu.reg.b == 23);
    CHECK(cpu.reg.c == 107);
    CHECK(cpu.reg.d == 217);
    CHECK(cpu.reg.e == 5);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 186);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 60892);
    CHECK(cpu.sp == 22411);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5995] == 146);
    REQUIRE(cpu.ram[60891] == 2);
}

TEST_CASE( "02 030B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59570;
    cpu.sp = 24201;
    cpu.reg.a = 196;
    cpu.reg.b = 216;
    cpu.reg.c = 46;
    cpu.reg.d = 65;
    cpu.reg.e = 124;
    cpu.reg.f = 112;
    cpu.reg.h = 201;
    cpu.reg.l = 96;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[55342] = 0;
    cpu.ram[59570] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 196);
    CHECK(cpu.reg.b == 216);
    CHECK(cpu.reg.c == 46);
    CHECK(cpu.reg.d == 65);
    CHECK(cpu.reg.e == 124);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 201);
    CHECK(cpu.reg.l == 96);
    CHECK(cpu.pc == 59571);
    CHECK(cpu.sp == 24201);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55342] == 196);
    REQUIRE(cpu.ram[59570] == 2);
}

TEST_CASE( "02 030C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40430;
    cpu.sp = 12178;
    cpu.reg.a = 214;
    cpu.reg.b = 26;
    cpu.reg.c = 25;
    cpu.reg.d = 218;
    cpu.reg.e = 226;
    cpu.reg.f = 144;
    cpu.reg.h = 161;
    cpu.reg.l = 21;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[6681] = 0;
    cpu.ram[40430] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 214);
    CHECK(cpu.reg.b == 26);
    CHECK(cpu.reg.c == 25);
    CHECK(cpu.reg.d == 218);
    CHECK(cpu.reg.e == 226);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 161);
    CHECK(cpu.reg.l == 21);
    CHECK(cpu.pc == 40431);
    CHECK(cpu.sp == 12178);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6681] == 214);
    REQUIRE(cpu.ram[40430] == 2);
}

TEST_CASE( "02 030D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38285;
    cpu.sp = 30237;
    cpu.reg.a = 66;
    cpu.reg.b = 141;
    cpu.reg.c = 13;
    cpu.reg.d = 161;
    cpu.reg.e = 158;
    cpu.reg.f = 96;
    cpu.reg.h = 105;
    cpu.reg.l = 104;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[36109] = 0;
    cpu.ram[38285] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 66);
    CHECK(cpu.reg.b == 141);
    CHECK(cpu.reg.c == 13);
    CHECK(cpu.reg.d == 161);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 105);
    CHECK(cpu.reg.l == 104);
    CHECK(cpu.pc == 38286);
    CHECK(cpu.sp == 30237);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[36109] == 66);
    REQUIRE(cpu.ram[38285] == 2);
}

TEST_CASE( "02 030E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38364;
    cpu.sp = 57056;
    cpu.reg.a = 6;
    cpu.reg.b = 215;
    cpu.reg.c = 119;
    cpu.reg.d = 52;
    cpu.reg.e = 181;
    cpu.reg.f = 96;
    cpu.reg.h = 97;
    cpu.reg.l = 34;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[38364] = 2;
    cpu.ram[55159] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 6);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 119);
    CHECK(cpu.reg.d == 52);
    CHECK(cpu.reg.e == 181);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 97);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 38365);
    CHECK(cpu.sp == 57056);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38364] == 2);
    REQUIRE(cpu.ram[55159] == 6);
}

TEST_CASE( "02 030F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27242;
    cpu.sp = 53291;
    cpu.reg.a = 214;
    cpu.reg.b = 254;
    cpu.reg.c = 97;
    cpu.reg.d = 241;
    cpu.reg.e = 213;
    cpu.reg.f = 96;
    cpu.reg.h = 66;
    cpu.reg.l = 106;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[27242] = 2;
    cpu.ram[65121] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 214);
    CHECK(cpu.reg.b == 254);
    CHECK(cpu.reg.c == 97);
    CHECK(cpu.reg.d == 241);
    CHECK(cpu.reg.e == 213);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 66);
    CHECK(cpu.reg.l == 106);
    CHECK(cpu.pc == 27243);
    CHECK(cpu.sp == 53291);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27242] == 2);
    REQUIRE(cpu.ram[65121] == 214);
}

TEST_CASE( "02 0310", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12737;
    cpu.sp = 1342;
    cpu.reg.a = 254;
    cpu.reg.b = 55;
    cpu.reg.c = 46;
    cpu.reg.d = 212;
    cpu.reg.e = 204;
    cpu.reg.f = 112;
    cpu.reg.h = 109;
    cpu.reg.l = 54;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[12737] = 2;
    cpu.ram[14126] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 55);
    CHECK(cpu.reg.c == 46);
    CHECK(cpu.reg.d == 212);
    CHECK(cpu.reg.e == 204);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 109);
    CHECK(cpu.reg.l == 54);
    CHECK(cpu.pc == 12738);
    CHECK(cpu.sp == 1342);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12737] == 2);
    REQUIRE(cpu.ram[14126] == 254);
}

TEST_CASE( "02 0311", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38866;
    cpu.sp = 62124;
    cpu.reg.a = 23;
    cpu.reg.b = 72;
    cpu.reg.c = 26;
    cpu.reg.d = 235;
    cpu.reg.e = 27;
    cpu.reg.f = 64;
    cpu.reg.h = 144;
    cpu.reg.l = 107;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[18458] = 0;
    cpu.ram[38866] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 23);
    CHECK(cpu.reg.b == 72);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 235);
    CHECK(cpu.reg.e == 27);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 144);
    CHECK(cpu.reg.l == 107);
    CHECK(cpu.pc == 38867);
    CHECK(cpu.sp == 62124);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[18458] == 23);
    REQUIRE(cpu.ram[38866] == 2);
}

TEST_CASE( "02 0312", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2955;
    cpu.sp = 62761;
    cpu.reg.a = 251;
    cpu.reg.b = 232;
    cpu.reg.c = 67;
    cpu.reg.d = 159;
    cpu.reg.e = 79;
    cpu.reg.f = 112;
    cpu.reg.h = 40;
    cpu.reg.l = 5;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[2955] = 2;
    cpu.ram[59459] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 251);
    CHECK(cpu.reg.b == 232);
    CHECK(cpu.reg.c == 67);
    CHECK(cpu.reg.d == 159);
    CHECK(cpu.reg.e == 79);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 40);
    CHECK(cpu.reg.l == 5);
    CHECK(cpu.pc == 2956);
    CHECK(cpu.sp == 62761);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2955] == 2);
    REQUIRE(cpu.ram[59459] == 251);
}

TEST_CASE( "02 0313", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40123;
    cpu.sp = 28599;
    cpu.reg.a = 219;
    cpu.reg.b = 205;
    cpu.reg.c = 7;
    cpu.reg.d = 154;
    cpu.reg.e = 179;
    cpu.reg.f = 208;
    cpu.reg.h = 188;
    cpu.reg.l = 155;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[40123] = 2;
    cpu.ram[52487] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 219);
    CHECK(cpu.reg.b == 205);
    CHECK(cpu.reg.c == 7);
    CHECK(cpu.reg.d == 154);
    CHECK(cpu.reg.e == 179);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 188);
    CHECK(cpu.reg.l == 155);
    CHECK(cpu.pc == 40124);
    CHECK(cpu.sp == 28599);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40123] == 2);
    REQUIRE(cpu.ram[52487] == 219);
}

TEST_CASE( "02 0314", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1838;
    cpu.sp = 18780;
    cpu.reg.a = 235;
    cpu.reg.b = 137;
    cpu.reg.c = 79;
    cpu.reg.d = 38;
    cpu.reg.e = 228;
    cpu.reg.f = 240;
    cpu.reg.h = 74;
    cpu.reg.l = 68;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[1838] = 2;
    cpu.ram[35151] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 235);
    CHECK(cpu.reg.b == 137);
    CHECK(cpu.reg.c == 79);
    CHECK(cpu.reg.d == 38);
    CHECK(cpu.reg.e == 228);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 74);
    CHECK(cpu.reg.l == 68);
    CHECK(cpu.pc == 1839);
    CHECK(cpu.sp == 18780);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1838] == 2);
    REQUIRE(cpu.ram[35151] == 235);
}

TEST_CASE( "02 0315", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58571;
    cpu.sp = 53478;
    cpu.reg.a = 75;
    cpu.reg.b = 82;
    cpu.reg.c = 177;
    cpu.reg.d = 78;
    cpu.reg.e = 98;
    cpu.reg.f = 48;
    cpu.reg.h = 164;
    cpu.reg.l = 143;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[21169] = 0;
    cpu.ram[58571] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 75);
    CHECK(cpu.reg.b == 82);
    CHECK(cpu.reg.c == 177);
    CHECK(cpu.reg.d == 78);
    CHECK(cpu.reg.e == 98);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 164);
    CHECK(cpu.reg.l == 143);
    CHECK(cpu.pc == 58572);
    CHECK(cpu.sp == 53478);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21169] == 75);
    REQUIRE(cpu.ram[58571] == 2);
}

TEST_CASE( "02 0316", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37076;
    cpu.sp = 50563;
    cpu.reg.a = 63;
    cpu.reg.b = 242;
    cpu.reg.c = 212;
    cpu.reg.d = 201;
    cpu.reg.e = 110;
    cpu.reg.f = 112;
    cpu.reg.h = 49;
    cpu.reg.l = 60;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[37076] = 2;
    cpu.ram[62164] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 63);
    CHECK(cpu.reg.b == 242);
    CHECK(cpu.reg.c == 212);
    CHECK(cpu.reg.d == 201);
    CHECK(cpu.reg.e == 110);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 49);
    CHECK(cpu.reg.l == 60);
    CHECK(cpu.pc == 37077);
    CHECK(cpu.sp == 50563);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[37076] == 2);
    REQUIRE(cpu.ram[62164] == 63);
}

TEST_CASE( "02 0317", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6769;
    cpu.sp = 51649;
    cpu.reg.a = 148;
    cpu.reg.b = 1;
    cpu.reg.c = 96;
    cpu.reg.d = 169;
    cpu.reg.e = 252;
    cpu.reg.f = 64;
    cpu.reg.h = 5;
    cpu.reg.l = 18;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[352] = 0;
    cpu.ram[6769] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 148);
    CHECK(cpu.reg.b == 1);
    CHECK(cpu.reg.c == 96);
    CHECK(cpu.reg.d == 169);
    CHECK(cpu.reg.e == 252);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 5);
    CHECK(cpu.reg.l == 18);
    CHECK(cpu.pc == 6770);
    CHECK(cpu.sp == 51649);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[352] == 148);
    REQUIRE(cpu.ram[6769] == 2);
}

TEST_CASE( "02 0318", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8503;
    cpu.sp = 57811;
    cpu.reg.a = 117;
    cpu.reg.b = 100;
    cpu.reg.c = 38;
    cpu.reg.d = 184;
    cpu.reg.e = 221;
    cpu.reg.f = 64;
    cpu.reg.h = 212;
    cpu.reg.l = 81;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[8503] = 2;
    cpu.ram[25638] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 117);
    CHECK(cpu.reg.b == 100);
    CHECK(cpu.reg.c == 38);
    CHECK(cpu.reg.d == 184);
    CHECK(cpu.reg.e == 221);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 212);
    CHECK(cpu.reg.l == 81);
    CHECK(cpu.pc == 8504);
    CHECK(cpu.sp == 57811);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8503] == 2);
    REQUIRE(cpu.ram[25638] == 117);
}

TEST_CASE( "02 0319", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28138;
    cpu.sp = 16920;
    cpu.reg.a = 166;
    cpu.reg.b = 11;
    cpu.reg.c = 42;
    cpu.reg.d = 192;
    cpu.reg.e = 159;
    cpu.reg.f = 240;
    cpu.reg.h = 111;
    cpu.reg.l = 211;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[2858] = 0;
    cpu.ram[28138] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 166);
    CHECK(cpu.reg.b == 11);
    CHECK(cpu.reg.c == 42);
    CHECK(cpu.reg.d == 192);
    CHECK(cpu.reg.e == 159);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 111);
    CHECK(cpu.reg.l == 211);
    CHECK(cpu.pc == 28139);
    CHECK(cpu.sp == 16920);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2858] == 166);
    REQUIRE(cpu.ram[28138] == 2);
}

TEST_CASE( "02 031A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14970;
    cpu.sp = 22285;
    cpu.reg.a = 131;
    cpu.reg.b = 188;
    cpu.reg.c = 50;
    cpu.reg.d = 208;
    cpu.reg.e = 12;
    cpu.reg.f = 224;
    cpu.reg.h = 68;
    cpu.reg.l = 179;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[14970] = 2;
    cpu.ram[48178] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 131);
    CHECK(cpu.reg.b == 188);
    CHECK(cpu.reg.c == 50);
    CHECK(cpu.reg.d == 208);
    CHECK(cpu.reg.e == 12);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 68);
    CHECK(cpu.reg.l == 179);
    CHECK(cpu.pc == 14971);
    CHECK(cpu.sp == 22285);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14970] == 2);
    REQUIRE(cpu.ram[48178] == 131);
}

TEST_CASE( "02 031B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22537;
    cpu.sp = 24548;
    cpu.reg.a = 204;
    cpu.reg.b = 171;
    cpu.reg.c = 2;
    cpu.reg.d = 156;
    cpu.reg.e = 102;
    cpu.reg.f = 16;
    cpu.reg.h = 199;
    cpu.reg.l = 231;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[22537] = 2;
    cpu.ram[43778] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 204);
    CHECK(cpu.reg.b == 171);
    CHECK(cpu.reg.c == 2);
    CHECK(cpu.reg.d == 156);
    CHECK(cpu.reg.e == 102);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 199);
    CHECK(cpu.reg.l == 231);
    CHECK(cpu.pc == 22538);
    CHECK(cpu.sp == 24548);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22537] == 2);
    REQUIRE(cpu.ram[43778] == 204);
}

TEST_CASE( "02 031C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1102;
    cpu.sp = 28930;
    cpu.reg.a = 228;
    cpu.reg.b = 181;
    cpu.reg.c = 195;
    cpu.reg.d = 90;
    cpu.reg.e = 80;
    cpu.reg.f = 240;
    cpu.reg.h = 167;
    cpu.reg.l = 66;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[1102] = 2;
    cpu.ram[46531] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 228);
    CHECK(cpu.reg.b == 181);
    CHECK(cpu.reg.c == 195);
    CHECK(cpu.reg.d == 90);
    CHECK(cpu.reg.e == 80);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 167);
    CHECK(cpu.reg.l == 66);
    CHECK(cpu.pc == 1103);
    CHECK(cpu.sp == 28930);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1102] == 2);
    REQUIRE(cpu.ram[46531] == 228);
}

TEST_CASE( "02 031D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14410;
    cpu.sp = 33450;
    cpu.reg.a = 230;
    cpu.reg.b = 134;
    cpu.reg.c = 226;
    cpu.reg.d = 241;
    cpu.reg.e = 166;
    cpu.reg.f = 32;
    cpu.reg.h = 196;
    cpu.reg.l = 76;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[14410] = 2;
    cpu.ram[34530] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 230);
    CHECK(cpu.reg.b == 134);
    CHECK(cpu.reg.c == 226);
    CHECK(cpu.reg.d == 241);
    CHECK(cpu.reg.e == 166);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 196);
    CHECK(cpu.reg.l == 76);
    CHECK(cpu.pc == 14411);
    CHECK(cpu.sp == 33450);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14410] == 2);
    REQUIRE(cpu.ram[34530] == 230);
}

TEST_CASE( "02 031E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18480;
    cpu.sp = 55560;
    cpu.reg.a = 48;
    cpu.reg.b = 219;
    cpu.reg.c = 161;
    cpu.reg.d = 213;
    cpu.reg.e = 144;
    cpu.reg.f = 16;
    cpu.reg.h = 111;
    cpu.reg.l = 225;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[18480] = 2;
    cpu.ram[56225] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 48);
    CHECK(cpu.reg.b == 219);
    CHECK(cpu.reg.c == 161);
    CHECK(cpu.reg.d == 213);
    CHECK(cpu.reg.e == 144);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 111);
    CHECK(cpu.reg.l == 225);
    CHECK(cpu.pc == 18481);
    CHECK(cpu.sp == 55560);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[18480] == 2);
    REQUIRE(cpu.ram[56225] == 48);
}

TEST_CASE( "02 031F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55699;
    cpu.sp = 64403;
    cpu.reg.a = 105;
    cpu.reg.b = 152;
    cpu.reg.c = 41;
    cpu.reg.d = 56;
    cpu.reg.e = 175;
    cpu.reg.f = 16;
    cpu.reg.h = 5;
    cpu.reg.l = 95;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[38953] = 0;
    cpu.ram[55699] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 105);
    CHECK(cpu.reg.b == 152);
    CHECK(cpu.reg.c == 41);
    CHECK(cpu.reg.d == 56);
    CHECK(cpu.reg.e == 175);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 5);
    CHECK(cpu.reg.l == 95);
    CHECK(cpu.pc == 55700);
    CHECK(cpu.sp == 64403);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38953] == 105);
    REQUIRE(cpu.ram[55699] == 2);
}

TEST_CASE( "02 0320", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15842;
    cpu.sp = 14644;
    cpu.reg.a = 245;
    cpu.reg.b = 106;
    cpu.reg.c = 49;
    cpu.reg.d = 173;
    cpu.reg.e = 129;
    cpu.reg.f = 160;
    cpu.reg.h = 168;
    cpu.reg.l = 115;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[15842] = 2;
    cpu.ram[27185] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 245);
    CHECK(cpu.reg.b == 106);
    CHECK(cpu.reg.c == 49);
    CHECK(cpu.reg.d == 173);
    CHECK(cpu.reg.e == 129);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 168);
    CHECK(cpu.reg.l == 115);
    CHECK(cpu.pc == 15843);
    CHECK(cpu.sp == 14644);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15842] == 2);
    REQUIRE(cpu.ram[27185] == 245);
}

TEST_CASE( "02 0321", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12276;
    cpu.sp = 33497;
    cpu.reg.a = 216;
    cpu.reg.b = 21;
    cpu.reg.c = 76;
    cpu.reg.d = 228;
    cpu.reg.e = 155;
    cpu.reg.f = 80;
    cpu.reg.h = 202;
    cpu.reg.l = 134;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5452] = 0;
    cpu.ram[12276] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 21);
    CHECK(cpu.reg.c == 76);
    CHECK(cpu.reg.d == 228);
    CHECK(cpu.reg.e == 155);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 202);
    CHECK(cpu.reg.l == 134);
    CHECK(cpu.pc == 12277);
    CHECK(cpu.sp == 33497);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5452] == 216);
    REQUIRE(cpu.ram[12276] == 2);
}

TEST_CASE( "02 0322", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8366;
    cpu.sp = 19666;
    cpu.reg.a = 147;
    cpu.reg.b = 4;
    cpu.reg.c = 39;
    cpu.reg.d = 238;
    cpu.reg.e = 170;
    cpu.reg.f = 48;
    cpu.reg.h = 91;
    cpu.reg.l = 191;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[1063] = 0;
    cpu.ram[8366] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 147);
    CHECK(cpu.reg.b == 4);
    CHECK(cpu.reg.c == 39);
    CHECK(cpu.reg.d == 238);
    CHECK(cpu.reg.e == 170);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 91);
    CHECK(cpu.reg.l == 191);
    CHECK(cpu.pc == 8367);
    CHECK(cpu.sp == 19666);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1063] == 147);
    REQUIRE(cpu.ram[8366] == 2);
}

TEST_CASE( "02 0323", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35358;
    cpu.sp = 23563;
    cpu.reg.a = 131;
    cpu.reg.b = 80;
    cpu.reg.c = 8;
    cpu.reg.d = 154;
    cpu.reg.e = 69;
    cpu.reg.f = 64;
    cpu.reg.h = 18;
    cpu.reg.l = 12;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[20488] = 0;
    cpu.ram[35358] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 131);
    CHECK(cpu.reg.b == 80);
    CHECK(cpu.reg.c == 8);
    CHECK(cpu.reg.d == 154);
    CHECK(cpu.reg.e == 69);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 18);
    CHECK(cpu.reg.l == 12);
    CHECK(cpu.pc == 35359);
    CHECK(cpu.sp == 23563);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20488] == 131);
    REQUIRE(cpu.ram[35358] == 2);
}

TEST_CASE( "02 0324", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40143;
    cpu.sp = 50076;
    cpu.reg.a = 61;
    cpu.reg.b = 4;
    cpu.reg.c = 112;
    cpu.reg.d = 209;
    cpu.reg.e = 219;
    cpu.reg.f = 208;
    cpu.reg.h = 206;
    cpu.reg.l = 106;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1136] = 0;
    cpu.ram[40143] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 61);
    CHECK(cpu.reg.b == 4);
    CHECK(cpu.reg.c == 112);
    CHECK(cpu.reg.d == 209);
    CHECK(cpu.reg.e == 219);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 206);
    CHECK(cpu.reg.l == 106);
    CHECK(cpu.pc == 40144);
    CHECK(cpu.sp == 50076);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1136] == 61);
    REQUIRE(cpu.ram[40143] == 2);
}

TEST_CASE( "02 0325", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1731;
    cpu.sp = 56232;
    cpu.reg.a = 99;
    cpu.reg.b = 41;
    cpu.reg.c = 18;
    cpu.reg.d = 248;
    cpu.reg.e = 126;
    cpu.reg.f = 48;
    cpu.reg.h = 27;
    cpu.reg.l = 252;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[1731] = 2;
    cpu.ram[10514] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 99);
    CHECK(cpu.reg.b == 41);
    CHECK(cpu.reg.c == 18);
    CHECK(cpu.reg.d == 248);
    CHECK(cpu.reg.e == 126);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 27);
    CHECK(cpu.reg.l == 252);
    CHECK(cpu.pc == 1732);
    CHECK(cpu.sp == 56232);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1731] == 2);
    REQUIRE(cpu.ram[10514] == 99);
}

TEST_CASE( "02 0326", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56772;
    cpu.sp = 18953;
    cpu.reg.a = 81;
    cpu.reg.b = 93;
    cpu.reg.c = 20;
    cpu.reg.d = 232;
    cpu.reg.e = 228;
    cpu.reg.f = 192;
    cpu.reg.h = 47;
    cpu.reg.l = 103;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[23828] = 0;
    cpu.ram[56772] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 81);
    CHECK(cpu.reg.b == 93);
    CHECK(cpu.reg.c == 20);
    CHECK(cpu.reg.d == 232);
    CHECK(cpu.reg.e == 228);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 47);
    CHECK(cpu.reg.l == 103);
    CHECK(cpu.pc == 56773);
    CHECK(cpu.sp == 18953);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23828] == 81);
    REQUIRE(cpu.ram[56772] == 2);
}

TEST_CASE( "02 0327", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32899;
    cpu.sp = 27715;
    cpu.reg.a = 150;
    cpu.reg.b = 188;
    cpu.reg.c = 152;
    cpu.reg.d = 96;
    cpu.reg.e = 76;
    cpu.reg.f = 80;
    cpu.reg.h = 148;
    cpu.reg.l = 51;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[32899] = 2;
    cpu.ram[48280] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 150);
    CHECK(cpu.reg.b == 188);
    CHECK(cpu.reg.c == 152);
    CHECK(cpu.reg.d == 96);
    CHECK(cpu.reg.e == 76);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 148);
    CHECK(cpu.reg.l == 51);
    CHECK(cpu.pc == 32900);
    CHECK(cpu.sp == 27715);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32899] == 2);
    REQUIRE(cpu.ram[48280] == 150);
}

TEST_CASE( "02 0328", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54059;
    cpu.sp = 60154;
    cpu.reg.a = 224;
    cpu.reg.b = 131;
    cpu.reg.c = 198;
    cpu.reg.d = 164;
    cpu.reg.e = 162;
    cpu.reg.f = 192;
    cpu.reg.h = 28;
    cpu.reg.l = 49;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[33734] = 0;
    cpu.ram[54059] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 131);
    CHECK(cpu.reg.c == 198);
    CHECK(cpu.reg.d == 164);
    CHECK(cpu.reg.e == 162);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 28);
    CHECK(cpu.reg.l == 49);
    CHECK(cpu.pc == 54060);
    CHECK(cpu.sp == 60154);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33734] == 224);
    REQUIRE(cpu.ram[54059] == 2);
}

TEST_CASE( "02 0329", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53604;
    cpu.sp = 22681;
    cpu.reg.a = 107;
    cpu.reg.b = 189;
    cpu.reg.c = 233;
    cpu.reg.d = 133;
    cpu.reg.e = 32;
    cpu.reg.f = 80;
    cpu.reg.h = 149;
    cpu.reg.l = 253;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[48617] = 0;
    cpu.ram[53604] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 107);
    CHECK(cpu.reg.b == 189);
    CHECK(cpu.reg.c == 233);
    CHECK(cpu.reg.d == 133);
    CHECK(cpu.reg.e == 32);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 149);
    CHECK(cpu.reg.l == 253);
    CHECK(cpu.pc == 53605);
    CHECK(cpu.sp == 22681);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48617] == 107);
    REQUIRE(cpu.ram[53604] == 2);
}

TEST_CASE( "02 032A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34414;
    cpu.sp = 18681;
    cpu.reg.a = 146;
    cpu.reg.b = 47;
    cpu.reg.c = 113;
    cpu.reg.d = 231;
    cpu.reg.e = 44;
    cpu.reg.f = 48;
    cpu.reg.h = 97;
    cpu.reg.l = 209;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[12145] = 0;
    cpu.ram[34414] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 146);
    CHECK(cpu.reg.b == 47);
    CHECK(cpu.reg.c == 113);
    CHECK(cpu.reg.d == 231);
    CHECK(cpu.reg.e == 44);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 97);
    CHECK(cpu.reg.l == 209);
    CHECK(cpu.pc == 34415);
    CHECK(cpu.sp == 18681);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12145] == 146);
    REQUIRE(cpu.ram[34414] == 2);
}

TEST_CASE( "02 032B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29949;
    cpu.sp = 64970;
    cpu.reg.a = 5;
    cpu.reg.b = 34;
    cpu.reg.c = 56;
    cpu.reg.d = 135;
    cpu.reg.e = 194;
    cpu.reg.f = 208;
    cpu.reg.h = 16;
    cpu.reg.l = 246;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[8760] = 0;
    cpu.ram[29949] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 5);
    CHECK(cpu.reg.b == 34);
    CHECK(cpu.reg.c == 56);
    CHECK(cpu.reg.d == 135);
    CHECK(cpu.reg.e == 194);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 16);
    CHECK(cpu.reg.l == 246);
    CHECK(cpu.pc == 29950);
    CHECK(cpu.sp == 64970);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8760] == 5);
    REQUIRE(cpu.ram[29949] == 2);
}

TEST_CASE( "02 032C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57152;
    cpu.sp = 42851;
    cpu.reg.a = 46;
    cpu.reg.b = 216;
    cpu.reg.c = 143;
    cpu.reg.d = 54;
    cpu.reg.e = 114;
    cpu.reg.f = 128;
    cpu.reg.h = 77;
    cpu.reg.l = 122;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[55439] = 0;
    cpu.ram[57152] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 46);
    CHECK(cpu.reg.b == 216);
    CHECK(cpu.reg.c == 143);
    CHECK(cpu.reg.d == 54);
    CHECK(cpu.reg.e == 114);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 77);
    CHECK(cpu.reg.l == 122);
    CHECK(cpu.pc == 57153);
    CHECK(cpu.sp == 42851);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55439] == 46);
    REQUIRE(cpu.ram[57152] == 2);
}

TEST_CASE( "02 032D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15433;
    cpu.sp = 3729;
    cpu.reg.a = 186;
    cpu.reg.b = 89;
    cpu.reg.c = 146;
    cpu.reg.d = 89;
    cpu.reg.e = 44;
    cpu.reg.f = 144;
    cpu.reg.h = 243;
    cpu.reg.l = 34;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[15433] = 2;
    cpu.ram[22930] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 186);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 146);
    CHECK(cpu.reg.d == 89);
    CHECK(cpu.reg.e == 44);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 243);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 15434);
    CHECK(cpu.sp == 3729);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15433] == 2);
    REQUIRE(cpu.ram[22930] == 186);
}

TEST_CASE( "02 032E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43830;
    cpu.sp = 51855;
    cpu.reg.a = 25;
    cpu.reg.b = 119;
    cpu.reg.c = 152;
    cpu.reg.d = 73;
    cpu.reg.e = 62;
    cpu.reg.f = 32;
    cpu.reg.h = 53;
    cpu.reg.l = 127;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[30616] = 0;
    cpu.ram[43830] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 25);
    CHECK(cpu.reg.b == 119);
    CHECK(cpu.reg.c == 152);
    CHECK(cpu.reg.d == 73);
    CHECK(cpu.reg.e == 62);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 53);
    CHECK(cpu.reg.l == 127);
    CHECK(cpu.pc == 43831);
    CHECK(cpu.sp == 51855);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30616] == 25);
    REQUIRE(cpu.ram[43830] == 2);
}

TEST_CASE( "02 032F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37072;
    cpu.sp = 59614;
    cpu.reg.a = 165;
    cpu.reg.b = 187;
    cpu.reg.c = 212;
    cpu.reg.d = 68;
    cpu.reg.e = 37;
    cpu.reg.f = 192;
    cpu.reg.h = 179;
    cpu.reg.l = 121;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[37072] = 2;
    cpu.ram[48084] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 165);
    CHECK(cpu.reg.b == 187);
    CHECK(cpu.reg.c == 212);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 37);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 179);
    CHECK(cpu.reg.l == 121);
    CHECK(cpu.pc == 37073);
    CHECK(cpu.sp == 59614);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[37072] == 2);
    REQUIRE(cpu.ram[48084] == 165);
}

TEST_CASE( "02 0330", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39690;
    cpu.sp = 27044;
    cpu.reg.a = 230;
    cpu.reg.b = 159;
    cpu.reg.c = 167;
    cpu.reg.d = 181;
    cpu.reg.e = 51;
    cpu.reg.f = 16;
    cpu.reg.h = 78;
    cpu.reg.l = 231;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[39690] = 2;
    cpu.ram[40871] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 230);
    CHECK(cpu.reg.b == 159);
    CHECK(cpu.reg.c == 167);
    CHECK(cpu.reg.d == 181);
    CHECK(cpu.reg.e == 51);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 78);
    CHECK(cpu.reg.l == 231);
    CHECK(cpu.pc == 39691);
    CHECK(cpu.sp == 27044);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39690] == 2);
    REQUIRE(cpu.ram[40871] == 230);
}

TEST_CASE( "02 0331", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54873;
    cpu.sp = 53908;
    cpu.reg.a = 227;
    cpu.reg.b = 65;
    cpu.reg.c = 133;
    cpu.reg.d = 174;
    cpu.reg.e = 107;
    cpu.reg.f = 192;
    cpu.reg.h = 99;
    cpu.reg.l = 76;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[16773] = 0;
    cpu.ram[54873] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 227);
    CHECK(cpu.reg.b == 65);
    CHECK(cpu.reg.c == 133);
    CHECK(cpu.reg.d == 174);
    CHECK(cpu.reg.e == 107);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 99);
    CHECK(cpu.reg.l == 76);
    CHECK(cpu.pc == 54874);
    CHECK(cpu.sp == 53908);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16773] == 227);
    REQUIRE(cpu.ram[54873] == 2);
}

TEST_CASE( "02 0332", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49242;
    cpu.sp = 11762;
    cpu.reg.a = 84;
    cpu.reg.b = 189;
    cpu.reg.c = 215;
    cpu.reg.d = 225;
    cpu.reg.e = 102;
    cpu.reg.f = 192;
    cpu.reg.h = 45;
    cpu.reg.l = 216;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[48599] = 0;
    cpu.ram[49242] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 84);
    CHECK(cpu.reg.b == 189);
    CHECK(cpu.reg.c == 215);
    CHECK(cpu.reg.d == 225);
    CHECK(cpu.reg.e == 102);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 45);
    CHECK(cpu.reg.l == 216);
    CHECK(cpu.pc == 49243);
    CHECK(cpu.sp == 11762);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48599] == 84);
    REQUIRE(cpu.ram[49242] == 2);
}

TEST_CASE( "02 0333", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11762;
    cpu.sp = 50359;
    cpu.reg.a = 170;
    cpu.reg.b = 66;
    cpu.reg.c = 112;
    cpu.reg.d = 254;
    cpu.reg.e = 110;
    cpu.reg.f = 48;
    cpu.reg.h = 89;
    cpu.reg.l = 216;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[11762] = 2;
    cpu.ram[17008] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 170);
    CHECK(cpu.reg.b == 66);
    CHECK(cpu.reg.c == 112);
    CHECK(cpu.reg.d == 254);
    CHECK(cpu.reg.e == 110);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 89);
    CHECK(cpu.reg.l == 216);
    CHECK(cpu.pc == 11763);
    CHECK(cpu.sp == 50359);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11762] == 2);
    REQUIRE(cpu.ram[17008] == 170);
}

TEST_CASE( "02 0334", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34582;
    cpu.sp = 36643;
    cpu.reg.a = 109;
    cpu.reg.b = 169;
    cpu.reg.c = 198;
    cpu.reg.d = 145;
    cpu.reg.e = 142;
    cpu.reg.f = 224;
    cpu.reg.h = 147;
    cpu.reg.l = 62;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[34582] = 2;
    cpu.ram[43462] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 109);
    CHECK(cpu.reg.b == 169);
    CHECK(cpu.reg.c == 198);
    CHECK(cpu.reg.d == 145);
    CHECK(cpu.reg.e == 142);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 147);
    CHECK(cpu.reg.l == 62);
    CHECK(cpu.pc == 34583);
    CHECK(cpu.sp == 36643);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34582] == 2);
    REQUIRE(cpu.ram[43462] == 109);
}

TEST_CASE( "02 0335", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7318;
    cpu.sp = 24831;
    cpu.reg.a = 190;
    cpu.reg.b = 66;
    cpu.reg.c = 33;
    cpu.reg.d = 62;
    cpu.reg.e = 104;
    cpu.reg.f = 112;
    cpu.reg.h = 78;
    cpu.reg.l = 91;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[7318] = 2;
    cpu.ram[16929] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 190);
    CHECK(cpu.reg.b == 66);
    CHECK(cpu.reg.c == 33);
    CHECK(cpu.reg.d == 62);
    CHECK(cpu.reg.e == 104);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 78);
    CHECK(cpu.reg.l == 91);
    CHECK(cpu.pc == 7319);
    CHECK(cpu.sp == 24831);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7318] == 2);
    REQUIRE(cpu.ram[16929] == 190);
}

TEST_CASE( "02 0336", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21624;
    cpu.sp = 53245;
    cpu.reg.a = 107;
    cpu.reg.b = 164;
    cpu.reg.c = 234;
    cpu.reg.d = 245;
    cpu.reg.e = 98;
    cpu.reg.f = 96;
    cpu.reg.h = 174;
    cpu.reg.l = 22;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[21624] = 2;
    cpu.ram[42218] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 107);
    CHECK(cpu.reg.b == 164);
    CHECK(cpu.reg.c == 234);
    CHECK(cpu.reg.d == 245);
    CHECK(cpu.reg.e == 98);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 174);
    CHECK(cpu.reg.l == 22);
    CHECK(cpu.pc == 21625);
    CHECK(cpu.sp == 53245);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21624] == 2);
    REQUIRE(cpu.ram[42218] == 107);
}

TEST_CASE( "02 0337", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52541;
    cpu.sp = 61659;
    cpu.reg.a = 69;
    cpu.reg.b = 204;
    cpu.reg.c = 184;
    cpu.reg.d = 29;
    cpu.reg.e = 100;
    cpu.reg.f = 128;
    cpu.reg.h = 48;
    cpu.reg.l = 216;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[52408] = 0;
    cpu.ram[52541] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 69);
    CHECK(cpu.reg.b == 204);
    CHECK(cpu.reg.c == 184);
    CHECK(cpu.reg.d == 29);
    CHECK(cpu.reg.e == 100);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 48);
    CHECK(cpu.reg.l == 216);
    CHECK(cpu.pc == 52542);
    CHECK(cpu.sp == 61659);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[52408] == 69);
    REQUIRE(cpu.ram[52541] == 2);
}

TEST_CASE( "02 0338", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2827;
    cpu.sp = 16710;
    cpu.reg.a = 172;
    cpu.reg.b = 236;
    cpu.reg.c = 26;
    cpu.reg.d = 9;
    cpu.reg.e = 232;
    cpu.reg.f = 144;
    cpu.reg.h = 28;
    cpu.reg.l = 107;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[2827] = 2;
    cpu.ram[60442] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 172);
    CHECK(cpu.reg.b == 236);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 9);
    CHECK(cpu.reg.e == 232);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 28);
    CHECK(cpu.reg.l == 107);
    CHECK(cpu.pc == 2828);
    CHECK(cpu.sp == 16710);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2827] == 2);
    REQUIRE(cpu.ram[60442] == 172);
}

TEST_CASE( "02 0339", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28684;
    cpu.sp = 10466;
    cpu.reg.a = 183;
    cpu.reg.b = 225;
    cpu.reg.c = 16;
    cpu.reg.d = 114;
    cpu.reg.e = 12;
    cpu.reg.f = 240;
    cpu.reg.h = 31;
    cpu.reg.l = 206;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[28684] = 2;
    cpu.ram[57616] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 183);
    CHECK(cpu.reg.b == 225);
    CHECK(cpu.reg.c == 16);
    CHECK(cpu.reg.d == 114);
    CHECK(cpu.reg.e == 12);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 31);
    CHECK(cpu.reg.l == 206);
    CHECK(cpu.pc == 28685);
    CHECK(cpu.sp == 10466);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[28684] == 2);
    REQUIRE(cpu.ram[57616] == 183);
}

TEST_CASE( "02 033A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8590;
    cpu.sp = 64189;
    cpu.reg.a = 184;
    cpu.reg.b = 21;
    cpu.reg.c = 178;
    cpu.reg.d = 185;
    cpu.reg.e = 100;
    cpu.reg.f = 208;
    cpu.reg.h = 202;
    cpu.reg.l = 143;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[5554] = 0;
    cpu.ram[8590] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 184);
    CHECK(cpu.reg.b == 21);
    CHECK(cpu.reg.c == 178);
    CHECK(cpu.reg.d == 185);
    CHECK(cpu.reg.e == 100);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 202);
    CHECK(cpu.reg.l == 143);
    CHECK(cpu.pc == 8591);
    CHECK(cpu.sp == 64189);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5554] == 184);
    REQUIRE(cpu.ram[8590] == 2);
}

TEST_CASE( "02 033B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41853;
    cpu.sp = 41357;
    cpu.reg.a = 112;
    cpu.reg.b = 21;
    cpu.reg.c = 243;
    cpu.reg.d = 230;
    cpu.reg.e = 161;
    cpu.reg.f = 48;
    cpu.reg.h = 39;
    cpu.reg.l = 143;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[5619] = 0;
    cpu.ram[41853] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 112);
    CHECK(cpu.reg.b == 21);
    CHECK(cpu.reg.c == 243);
    CHECK(cpu.reg.d == 230);
    CHECK(cpu.reg.e == 161);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 39);
    CHECK(cpu.reg.l == 143);
    CHECK(cpu.pc == 41854);
    CHECK(cpu.sp == 41357);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5619] == 112);
    REQUIRE(cpu.ram[41853] == 2);
}

TEST_CASE( "02 033C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3351;
    cpu.sp = 6811;
    cpu.reg.a = 229;
    cpu.reg.b = 165;
    cpu.reg.c = 174;
    cpu.reg.d = 190;
    cpu.reg.e = 173;
    cpu.reg.f = 0;
    cpu.reg.h = 81;
    cpu.reg.l = 140;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[3351] = 2;
    cpu.ram[42414] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 229);
    CHECK(cpu.reg.b == 165);
    CHECK(cpu.reg.c == 174);
    CHECK(cpu.reg.d == 190);
    CHECK(cpu.reg.e == 173);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 81);
    CHECK(cpu.reg.l == 140);
    CHECK(cpu.pc == 3352);
    CHECK(cpu.sp == 6811);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3351] == 2);
    REQUIRE(cpu.ram[42414] == 229);
}

TEST_CASE( "02 033D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20739;
    cpu.sp = 9173;
    cpu.reg.a = 158;
    cpu.reg.b = 189;
    cpu.reg.c = 27;
    cpu.reg.d = 11;
    cpu.reg.e = 47;
    cpu.reg.f = 32;
    cpu.reg.h = 54;
    cpu.reg.l = 47;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[20739] = 2;
    cpu.ram[48411] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 158);
    CHECK(cpu.reg.b == 189);
    CHECK(cpu.reg.c == 27);
    CHECK(cpu.reg.d == 11);
    CHECK(cpu.reg.e == 47);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 54);
    CHECK(cpu.reg.l == 47);
    CHECK(cpu.pc == 20740);
    CHECK(cpu.sp == 9173);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20739] == 2);
    REQUIRE(cpu.ram[48411] == 158);
}

TEST_CASE( "02 033E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10760;
    cpu.sp = 37970;
    cpu.reg.a = 35;
    cpu.reg.b = 215;
    cpu.reg.c = 7;
    cpu.reg.d = 117;
    cpu.reg.e = 39;
    cpu.reg.f = 112;
    cpu.reg.h = 222;
    cpu.reg.l = 176;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[10760] = 2;
    cpu.ram[55047] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 35);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 7);
    CHECK(cpu.reg.d == 117);
    CHECK(cpu.reg.e == 39);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 222);
    CHECK(cpu.reg.l == 176);
    CHECK(cpu.pc == 10761);
    CHECK(cpu.sp == 37970);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10760] == 2);
    REQUIRE(cpu.ram[55047] == 35);
}

TEST_CASE( "02 033F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34913;
    cpu.sp = 50427;
    cpu.reg.a = 137;
    cpu.reg.b = 169;
    cpu.reg.c = 25;
    cpu.reg.d = 139;
    cpu.reg.e = 25;
    cpu.reg.f = 160;
    cpu.reg.h = 217;
    cpu.reg.l = 87;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[34913] = 2;
    cpu.ram[43289] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 137);
    CHECK(cpu.reg.b == 169);
    CHECK(cpu.reg.c == 25);
    CHECK(cpu.reg.d == 139);
    CHECK(cpu.reg.e == 25);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 217);
    CHECK(cpu.reg.l == 87);
    CHECK(cpu.pc == 34914);
    CHECK(cpu.sp == 50427);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34913] == 2);
    REQUIRE(cpu.ram[43289] == 137);
}

TEST_CASE( "02 0340", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47539;
    cpu.sp = 17888;
    cpu.reg.a = 99;
    cpu.reg.b = 252;
    cpu.reg.c = 255;
    cpu.reg.d = 225;
    cpu.reg.e = 67;
    cpu.reg.f = 80;
    cpu.reg.h = 79;
    cpu.reg.l = 251;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47539] = 2;
    cpu.ram[64767] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 99);
    CHECK(cpu.reg.b == 252);
    CHECK(cpu.reg.c == 255);
    CHECK(cpu.reg.d == 225);
    CHECK(cpu.reg.e == 67);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 79);
    CHECK(cpu.reg.l == 251);
    CHECK(cpu.pc == 47540);
    CHECK(cpu.sp == 17888);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47539] == 2);
    REQUIRE(cpu.ram[64767] == 99);
}

TEST_CASE( "02 0341", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34915;
    cpu.sp = 63072;
    cpu.reg.a = 182;
    cpu.reg.b = 145;
    cpu.reg.c = 204;
    cpu.reg.d = 4;
    cpu.reg.e = 226;
    cpu.reg.f = 0;
    cpu.reg.h = 30;
    cpu.reg.l = 184;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[34915] = 2;
    cpu.ram[37324] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 182);
    CHECK(cpu.reg.b == 145);
    CHECK(cpu.reg.c == 204);
    CHECK(cpu.reg.d == 4);
    CHECK(cpu.reg.e == 226);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 30);
    CHECK(cpu.reg.l == 184);
    CHECK(cpu.pc == 34916);
    CHECK(cpu.sp == 63072);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[34915] == 2);
    REQUIRE(cpu.ram[37324] == 182);
}

TEST_CASE( "02 0342", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24316;
    cpu.sp = 9341;
    cpu.reg.a = 218;
    cpu.reg.b = 153;
    cpu.reg.c = 175;
    cpu.reg.d = 17;
    cpu.reg.e = 10;
    cpu.reg.f = 192;
    cpu.reg.h = 176;
    cpu.reg.l = 15;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[24316] = 2;
    cpu.ram[39343] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 218);
    CHECK(cpu.reg.b == 153);
    CHECK(cpu.reg.c == 175);
    CHECK(cpu.reg.d == 17);
    CHECK(cpu.reg.e == 10);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 176);
    CHECK(cpu.reg.l == 15);
    CHECK(cpu.pc == 24317);
    CHECK(cpu.sp == 9341);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24316] == 2);
    REQUIRE(cpu.ram[39343] == 218);
}

TEST_CASE( "02 0343", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3442;
    cpu.sp = 24307;
    cpu.reg.a = 230;
    cpu.reg.b = 96;
    cpu.reg.c = 38;
    cpu.reg.d = 48;
    cpu.reg.e = 167;
    cpu.reg.f = 80;
    cpu.reg.h = 175;
    cpu.reg.l = 31;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[3442] = 2;
    cpu.ram[24614] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 230);
    CHECK(cpu.reg.b == 96);
    CHECK(cpu.reg.c == 38);
    CHECK(cpu.reg.d == 48);
    CHECK(cpu.reg.e == 167);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 175);
    CHECK(cpu.reg.l == 31);
    CHECK(cpu.pc == 3443);
    CHECK(cpu.sp == 24307);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3442] == 2);
    REQUIRE(cpu.ram[24614] == 230);
}

TEST_CASE( "02 0344", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27190;
    cpu.sp = 4387;
    cpu.reg.a = 169;
    cpu.reg.b = 198;
    cpu.reg.c = 80;
    cpu.reg.d = 15;
    cpu.reg.e = 26;
    cpu.reg.f = 192;
    cpu.reg.h = 181;
    cpu.reg.l = 152;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[27190] = 2;
    cpu.ram[50768] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 169);
    CHECK(cpu.reg.b == 198);
    CHECK(cpu.reg.c == 80);
    CHECK(cpu.reg.d == 15);
    CHECK(cpu.reg.e == 26);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 181);
    CHECK(cpu.reg.l == 152);
    CHECK(cpu.pc == 27191);
    CHECK(cpu.sp == 4387);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27190] == 2);
    REQUIRE(cpu.ram[50768] == 169);
}

TEST_CASE( "02 0345", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5047;
    cpu.sp = 51816;
    cpu.reg.a = 176;
    cpu.reg.b = 3;
    cpu.reg.c = 101;
    cpu.reg.d = 189;
    cpu.reg.e = 236;
    cpu.reg.f = 48;
    cpu.reg.h = 215;
    cpu.reg.l = 229;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[869] = 0;
    cpu.ram[5047] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 176);
    CHECK(cpu.reg.b == 3);
    CHECK(cpu.reg.c == 101);
    CHECK(cpu.reg.d == 189);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 215);
    CHECK(cpu.reg.l == 229);
    CHECK(cpu.pc == 5048);
    CHECK(cpu.sp == 51816);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[869] == 176);
    REQUIRE(cpu.ram[5047] == 2);
}

TEST_CASE( "02 0346", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34551;
    cpu.sp = 60514;
    cpu.reg.a = 98;
    cpu.reg.b = 216;
    cpu.reg.c = 87;
    cpu.reg.d = 190;
    cpu.reg.e = 190;
    cpu.reg.f = 224;
    cpu.reg.h = 4;
    cpu.reg.l = 119;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[34551] = 2;
    cpu.ram[55383] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 98);
    CHECK(cpu.reg.b == 216);
    CHECK(cpu.reg.c == 87);
    CHECK(cpu.reg.d == 190);
    CHECK(cpu.reg.e == 190);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 4);
    CHECK(cpu.reg.l == 119);
    CHECK(cpu.pc == 34552);
    CHECK(cpu.sp == 60514);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34551] == 2);
    REQUIRE(cpu.ram[55383] == 98);
}

TEST_CASE( "02 0347", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52974;
    cpu.sp = 18341;
    cpu.reg.a = 205;
    cpu.reg.b = 230;
    cpu.reg.c = 162;
    cpu.reg.d = 129;
    cpu.reg.e = 55;
    cpu.reg.f = 0;
    cpu.reg.h = 240;
    cpu.reg.l = 156;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[52974] = 2;
    cpu.ram[59042] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 205);
    CHECK(cpu.reg.b == 230);
    CHECK(cpu.reg.c == 162);
    CHECK(cpu.reg.d == 129);
    CHECK(cpu.reg.e == 55);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 240);
    CHECK(cpu.reg.l == 156);
    CHECK(cpu.pc == 52975);
    CHECK(cpu.sp == 18341);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[52974] == 2);
    REQUIRE(cpu.ram[59042] == 205);
}

TEST_CASE( "02 0348", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14716;
    cpu.sp = 32539;
    cpu.reg.a = 40;
    cpu.reg.b = 201;
    cpu.reg.c = 139;
    cpu.reg.d = 122;
    cpu.reg.e = 252;
    cpu.reg.f = 160;
    cpu.reg.h = 180;
    cpu.reg.l = 182;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[14716] = 2;
    cpu.ram[51595] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 40);
    CHECK(cpu.reg.b == 201);
    CHECK(cpu.reg.c == 139);
    CHECK(cpu.reg.d == 122);
    CHECK(cpu.reg.e == 252);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 180);
    CHECK(cpu.reg.l == 182);
    CHECK(cpu.pc == 14717);
    CHECK(cpu.sp == 32539);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14716] == 2);
    REQUIRE(cpu.ram[51595] == 40);
}

TEST_CASE( "02 0349", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2798;
    cpu.sp = 62811;
    cpu.reg.a = 229;
    cpu.reg.b = 31;
    cpu.reg.c = 212;
    cpu.reg.d = 123;
    cpu.reg.e = 187;
    cpu.reg.f = 48;
    cpu.reg.h = 109;
    cpu.reg.l = 29;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[2798] = 2;
    cpu.ram[8148] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 229);
    CHECK(cpu.reg.b == 31);
    CHECK(cpu.reg.c == 212);
    CHECK(cpu.reg.d == 123);
    CHECK(cpu.reg.e == 187);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 109);
    CHECK(cpu.reg.l == 29);
    CHECK(cpu.pc == 2799);
    CHECK(cpu.sp == 62811);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2798] == 2);
    REQUIRE(cpu.ram[8148] == 229);
}

TEST_CASE( "02 034A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11278;
    cpu.sp = 6425;
    cpu.reg.a = 167;
    cpu.reg.b = 98;
    cpu.reg.c = 204;
    cpu.reg.d = 233;
    cpu.reg.e = 45;
    cpu.reg.f = 144;
    cpu.reg.h = 120;
    cpu.reg.l = 143;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[11278] = 2;
    cpu.ram[25292] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 167);
    CHECK(cpu.reg.b == 98);
    CHECK(cpu.reg.c == 204);
    CHECK(cpu.reg.d == 233);
    CHECK(cpu.reg.e == 45);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 120);
    CHECK(cpu.reg.l == 143);
    CHECK(cpu.pc == 11279);
    CHECK(cpu.sp == 6425);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11278] == 2);
    REQUIRE(cpu.ram[25292] == 167);
}

TEST_CASE( "02 034B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57843;
    cpu.sp = 37212;
    cpu.reg.a = 79;
    cpu.reg.b = 168;
    cpu.reg.c = 214;
    cpu.reg.d = 190;
    cpu.reg.e = 89;
    cpu.reg.f = 176;
    cpu.reg.h = 181;
    cpu.reg.l = 25;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[43222] = 0;
    cpu.ram[57843] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 79);
    CHECK(cpu.reg.b == 168);
    CHECK(cpu.reg.c == 214);
    CHECK(cpu.reg.d == 190);
    CHECK(cpu.reg.e == 89);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 181);
    CHECK(cpu.reg.l == 25);
    CHECK(cpu.pc == 57844);
    CHECK(cpu.sp == 37212);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[43222] == 79);
    REQUIRE(cpu.ram[57843] == 2);
}

TEST_CASE( "02 034C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43513;
    cpu.sp = 60748;
    cpu.reg.a = 88;
    cpu.reg.b = 89;
    cpu.reg.c = 119;
    cpu.reg.d = 20;
    cpu.reg.e = 179;
    cpu.reg.f = 192;
    cpu.reg.h = 96;
    cpu.reg.l = 65;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[22903] = 0;
    cpu.ram[43513] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 88);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 119);
    CHECK(cpu.reg.d == 20);
    CHECK(cpu.reg.e == 179);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 96);
    CHECK(cpu.reg.l == 65);
    CHECK(cpu.pc == 43514);
    CHECK(cpu.sp == 60748);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22903] == 88);
    REQUIRE(cpu.ram[43513] == 2);
}

TEST_CASE( "02 034D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60103;
    cpu.sp = 25794;
    cpu.reg.a = 246;
    cpu.reg.b = 128;
    cpu.reg.c = 228;
    cpu.reg.d = 54;
    cpu.reg.e = 213;
    cpu.reg.f = 80;
    cpu.reg.h = 1;
    cpu.reg.l = 145;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[32996] = 0;
    cpu.ram[60103] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 246);
    CHECK(cpu.reg.b == 128);
    CHECK(cpu.reg.c == 228);
    CHECK(cpu.reg.d == 54);
    CHECK(cpu.reg.e == 213);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 1);
    CHECK(cpu.reg.l == 145);
    CHECK(cpu.pc == 60104);
    CHECK(cpu.sp == 25794);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32996] == 246);
    REQUIRE(cpu.ram[60103] == 2);
}

TEST_CASE( "02 034E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59540;
    cpu.sp = 2429;
    cpu.reg.a = 126;
    cpu.reg.b = 251;
    cpu.reg.c = 153;
    cpu.reg.d = 47;
    cpu.reg.e = 180;
    cpu.reg.f = 176;
    cpu.reg.h = 97;
    cpu.reg.l = 61;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[59540] = 2;
    cpu.ram[64409] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 126);
    CHECK(cpu.reg.b == 251);
    CHECK(cpu.reg.c == 153);
    CHECK(cpu.reg.d == 47);
    CHECK(cpu.reg.e == 180);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 97);
    CHECK(cpu.reg.l == 61);
    CHECK(cpu.pc == 59541);
    CHECK(cpu.sp == 2429);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[59540] == 2);
    REQUIRE(cpu.ram[64409] == 126);
}

TEST_CASE( "02 034F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5592;
    cpu.sp = 44052;
    cpu.reg.a = 186;
    cpu.reg.b = 87;
    cpu.reg.c = 232;
    cpu.reg.d = 190;
    cpu.reg.e = 94;
    cpu.reg.f = 64;
    cpu.reg.h = 228;
    cpu.reg.l = 223;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[5592] = 2;
    cpu.ram[22504] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 186);
    CHECK(cpu.reg.b == 87);
    CHECK(cpu.reg.c == 232);
    CHECK(cpu.reg.d == 190);
    CHECK(cpu.reg.e == 94);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 228);
    CHECK(cpu.reg.l == 223);
    CHECK(cpu.pc == 5593);
    CHECK(cpu.sp == 44052);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5592] == 2);
    REQUIRE(cpu.ram[22504] == 186);
}

TEST_CASE( "02 0350", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16648;
    cpu.sp = 29317;
    cpu.reg.a = 115;
    cpu.reg.b = 211;
    cpu.reg.c = 144;
    cpu.reg.d = 130;
    cpu.reg.e = 117;
    cpu.reg.f = 128;
    cpu.reg.h = 154;
    cpu.reg.l = 155;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[16648] = 2;
    cpu.ram[54160] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 115);
    CHECK(cpu.reg.b == 211);
    CHECK(cpu.reg.c == 144);
    CHECK(cpu.reg.d == 130);
    CHECK(cpu.reg.e == 117);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 154);
    CHECK(cpu.reg.l == 155);
    CHECK(cpu.pc == 16649);
    CHECK(cpu.sp == 29317);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16648] == 2);
    REQUIRE(cpu.ram[54160] == 115);
}

TEST_CASE( "02 0351", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7996;
    cpu.sp = 31142;
    cpu.reg.a = 239;
    cpu.reg.b = 169;
    cpu.reg.c = 130;
    cpu.reg.d = 178;
    cpu.reg.e = 43;
    cpu.reg.f = 144;
    cpu.reg.h = 107;
    cpu.reg.l = 191;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[7996] = 2;
    cpu.ram[43394] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 239);
    CHECK(cpu.reg.b == 169);
    CHECK(cpu.reg.c == 130);
    CHECK(cpu.reg.d == 178);
    CHECK(cpu.reg.e == 43);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 107);
    CHECK(cpu.reg.l == 191);
    CHECK(cpu.pc == 7997);
    CHECK(cpu.sp == 31142);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7996] == 2);
    REQUIRE(cpu.ram[43394] == 239);
}

TEST_CASE( "02 0352", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25470;
    cpu.sp = 12917;
    cpu.reg.a = 194;
    cpu.reg.b = 11;
    cpu.reg.c = 118;
    cpu.reg.d = 136;
    cpu.reg.e = 41;
    cpu.reg.f = 112;
    cpu.reg.h = 88;
    cpu.reg.l = 122;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[2934] = 0;
    cpu.ram[25470] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 194);
    CHECK(cpu.reg.b == 11);
    CHECK(cpu.reg.c == 118);
    CHECK(cpu.reg.d == 136);
    CHECK(cpu.reg.e == 41);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 88);
    CHECK(cpu.reg.l == 122);
    CHECK(cpu.pc == 25471);
    CHECK(cpu.sp == 12917);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2934] == 194);
    REQUIRE(cpu.ram[25470] == 2);
}

TEST_CASE( "02 0353", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22774;
    cpu.sp = 52717;
    cpu.reg.a = 13;
    cpu.reg.b = 162;
    cpu.reg.c = 250;
    cpu.reg.d = 111;
    cpu.reg.e = 247;
    cpu.reg.f = 96;
    cpu.reg.h = 21;
    cpu.reg.l = 32;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[22774] = 2;
    cpu.ram[41722] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 13);
    CHECK(cpu.reg.b == 162);
    CHECK(cpu.reg.c == 250);
    CHECK(cpu.reg.d == 111);
    CHECK(cpu.reg.e == 247);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 21);
    CHECK(cpu.reg.l == 32);
    CHECK(cpu.pc == 22775);
    CHECK(cpu.sp == 52717);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22774] == 2);
    REQUIRE(cpu.ram[41722] == 13);
}

TEST_CASE( "02 0354", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15209;
    cpu.sp = 39340;
    cpu.reg.a = 225;
    cpu.reg.b = 254;
    cpu.reg.c = 198;
    cpu.reg.d = 73;
    cpu.reg.e = 241;
    cpu.reg.f = 32;
    cpu.reg.h = 44;
    cpu.reg.l = 138;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[15209] = 2;
    cpu.ram[65222] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 225);
    CHECK(cpu.reg.b == 254);
    CHECK(cpu.reg.c == 198);
    CHECK(cpu.reg.d == 73);
    CHECK(cpu.reg.e == 241);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 44);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 15210);
    CHECK(cpu.sp == 39340);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15209] == 2);
    REQUIRE(cpu.ram[65222] == 225);
}

TEST_CASE( "02 0355", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50071;
    cpu.sp = 39848;
    cpu.reg.a = 137;
    cpu.reg.b = 64;
    cpu.reg.c = 78;
    cpu.reg.d = 124;
    cpu.reg.e = 129;
    cpu.reg.f = 112;
    cpu.reg.h = 217;
    cpu.reg.l = 12;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[16462] = 0;
    cpu.ram[50071] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 137);
    CHECK(cpu.reg.b == 64);
    CHECK(cpu.reg.c == 78);
    CHECK(cpu.reg.d == 124);
    CHECK(cpu.reg.e == 129);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 217);
    CHECK(cpu.reg.l == 12);
    CHECK(cpu.pc == 50072);
    CHECK(cpu.sp == 39848);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16462] == 137);
    REQUIRE(cpu.ram[50071] == 2);
}

TEST_CASE( "02 0356", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8739;
    cpu.sp = 47025;
    cpu.reg.a = 15;
    cpu.reg.b = 196;
    cpu.reg.c = 238;
    cpu.reg.d = 145;
    cpu.reg.e = 28;
    cpu.reg.f = 32;
    cpu.reg.h = 121;
    cpu.reg.l = 45;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[8739] = 2;
    cpu.ram[50414] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 15);
    CHECK(cpu.reg.b == 196);
    CHECK(cpu.reg.c == 238);
    CHECK(cpu.reg.d == 145);
    CHECK(cpu.reg.e == 28);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 121);
    CHECK(cpu.reg.l == 45);
    CHECK(cpu.pc == 8740);
    CHECK(cpu.sp == 47025);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8739] == 2);
    REQUIRE(cpu.ram[50414] == 15);
}

TEST_CASE( "02 0357", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56037;
    cpu.sp = 14838;
    cpu.reg.a = 254;
    cpu.reg.b = 11;
    cpu.reg.c = 161;
    cpu.reg.d = 223;
    cpu.reg.e = 189;
    cpu.reg.f = 0;
    cpu.reg.h = 218;
    cpu.reg.l = 87;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[2977] = 0;
    cpu.ram[56037] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 11);
    CHECK(cpu.reg.c == 161);
    CHECK(cpu.reg.d == 223);
    CHECK(cpu.reg.e == 189);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 218);
    CHECK(cpu.reg.l == 87);
    CHECK(cpu.pc == 56038);
    CHECK(cpu.sp == 14838);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2977] == 254);
    REQUIRE(cpu.ram[56037] == 2);
}

TEST_CASE( "02 0358", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61337;
    cpu.sp = 46481;
    cpu.reg.a = 94;
    cpu.reg.b = 233;
    cpu.reg.c = 18;
    cpu.reg.d = 254;
    cpu.reg.e = 191;
    cpu.reg.f = 176;
    cpu.reg.h = 209;
    cpu.reg.l = 24;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[59666] = 0;
    cpu.ram[61337] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 94);
    CHECK(cpu.reg.b == 233);
    CHECK(cpu.reg.c == 18);
    CHECK(cpu.reg.d == 254);
    CHECK(cpu.reg.e == 191);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 209);
    CHECK(cpu.reg.l == 24);
    CHECK(cpu.pc == 61338);
    CHECK(cpu.sp == 46481);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[59666] == 94);
    REQUIRE(cpu.ram[61337] == 2);
}

TEST_CASE( "02 0359", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24153;
    cpu.sp = 23488;
    cpu.reg.a = 51;
    cpu.reg.b = 193;
    cpu.reg.c = 73;
    cpu.reg.d = 5;
    cpu.reg.e = 148;
    cpu.reg.f = 128;
    cpu.reg.h = 15;
    cpu.reg.l = 12;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[24153] = 2;
    cpu.ram[49481] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 51);
    CHECK(cpu.reg.b == 193);
    CHECK(cpu.reg.c == 73);
    CHECK(cpu.reg.d == 5);
    CHECK(cpu.reg.e == 148);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 15);
    CHECK(cpu.reg.l == 12);
    CHECK(cpu.pc == 24154);
    CHECK(cpu.sp == 23488);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24153] == 2);
    REQUIRE(cpu.ram[49481] == 51);
}

TEST_CASE( "02 035A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27547;
    cpu.sp = 44283;
    cpu.reg.a = 52;
    cpu.reg.b = 97;
    cpu.reg.c = 58;
    cpu.reg.d = 181;
    cpu.reg.e = 199;
    cpu.reg.f = 208;
    cpu.reg.h = 158;
    cpu.reg.l = 224;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[24890] = 0;
    cpu.ram[27547] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 52);
    CHECK(cpu.reg.b == 97);
    CHECK(cpu.reg.c == 58);
    CHECK(cpu.reg.d == 181);
    CHECK(cpu.reg.e == 199);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 158);
    CHECK(cpu.reg.l == 224);
    CHECK(cpu.pc == 27548);
    CHECK(cpu.sp == 44283);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24890] == 52);
    REQUIRE(cpu.ram[27547] == 2);
}

TEST_CASE( "02 035B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44286;
    cpu.sp = 32968;
    cpu.reg.a = 43;
    cpu.reg.b = 55;
    cpu.reg.c = 113;
    cpu.reg.d = 95;
    cpu.reg.e = 62;
    cpu.reg.f = 192;
    cpu.reg.h = 14;
    cpu.reg.l = 83;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[14193] = 0;
    cpu.ram[44286] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 43);
    CHECK(cpu.reg.b == 55);
    CHECK(cpu.reg.c == 113);
    CHECK(cpu.reg.d == 95);
    CHECK(cpu.reg.e == 62);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 14);
    CHECK(cpu.reg.l == 83);
    CHECK(cpu.pc == 44287);
    CHECK(cpu.sp == 32968);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14193] == 43);
    REQUIRE(cpu.ram[44286] == 2);
}

TEST_CASE( "02 035C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13057;
    cpu.sp = 56661;
    cpu.reg.a = 215;
    cpu.reg.b = 28;
    cpu.reg.c = 122;
    cpu.reg.d = 163;
    cpu.reg.e = 147;
    cpu.reg.f = 224;
    cpu.reg.h = 201;
    cpu.reg.l = 218;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[7290] = 0;
    cpu.ram[13057] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 215);
    CHECK(cpu.reg.b == 28);
    CHECK(cpu.reg.c == 122);
    CHECK(cpu.reg.d == 163);
    CHECK(cpu.reg.e == 147);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 201);
    CHECK(cpu.reg.l == 218);
    CHECK(cpu.pc == 13058);
    CHECK(cpu.sp == 56661);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7290] == 215);
    REQUIRE(cpu.ram[13057] == 2);
}

TEST_CASE( "02 035D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22958;
    cpu.sp = 60007;
    cpu.reg.a = 9;
    cpu.reg.b = 40;
    cpu.reg.c = 226;
    cpu.reg.d = 27;
    cpu.reg.e = 151;
    cpu.reg.f = 160;
    cpu.reg.h = 248;
    cpu.reg.l = 228;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[10466] = 0;
    cpu.ram[22958] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 9);
    CHECK(cpu.reg.b == 40);
    CHECK(cpu.reg.c == 226);
    CHECK(cpu.reg.d == 27);
    CHECK(cpu.reg.e == 151);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 248);
    CHECK(cpu.reg.l == 228);
    CHECK(cpu.pc == 22959);
    CHECK(cpu.sp == 60007);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10466] == 9);
    REQUIRE(cpu.ram[22958] == 2);
}

TEST_CASE( "02 035E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12402;
    cpu.sp = 60017;
    cpu.reg.a = 140;
    cpu.reg.b = 228;
    cpu.reg.c = 43;
    cpu.reg.d = 191;
    cpu.reg.e = 218;
    cpu.reg.f = 64;
    cpu.reg.h = 236;
    cpu.reg.l = 139;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[12402] = 2;
    cpu.ram[58411] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 140);
    CHECK(cpu.reg.b == 228);
    CHECK(cpu.reg.c == 43);
    CHECK(cpu.reg.d == 191);
    CHECK(cpu.reg.e == 218);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 236);
    CHECK(cpu.reg.l == 139);
    CHECK(cpu.pc == 12403);
    CHECK(cpu.sp == 60017);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12402] == 2);
    REQUIRE(cpu.ram[58411] == 140);
}

TEST_CASE( "02 035F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36738;
    cpu.sp = 24650;
    cpu.reg.a = 136;
    cpu.reg.b = 139;
    cpu.reg.c = 67;
    cpu.reg.d = 14;
    cpu.reg.e = 255;
    cpu.reg.f = 80;
    cpu.reg.h = 183;
    cpu.reg.l = 115;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[35651] = 0;
    cpu.ram[36738] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 136);
    CHECK(cpu.reg.b == 139);
    CHECK(cpu.reg.c == 67);
    CHECK(cpu.reg.d == 14);
    CHECK(cpu.reg.e == 255);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 183);
    CHECK(cpu.reg.l == 115);
    CHECK(cpu.pc == 36739);
    CHECK(cpu.sp == 24650);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35651] == 136);
    REQUIRE(cpu.ram[36738] == 2);
}

TEST_CASE( "02 0360", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17646;
    cpu.sp = 16381;
    cpu.reg.a = 160;
    cpu.reg.b = 26;
    cpu.reg.c = 114;
    cpu.reg.d = 65;
    cpu.reg.e = 74;
    cpu.reg.f = 16;
    cpu.reg.h = 24;
    cpu.reg.l = 185;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[6770] = 0;
    cpu.ram[17646] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 160);
    CHECK(cpu.reg.b == 26);
    CHECK(cpu.reg.c == 114);
    CHECK(cpu.reg.d == 65);
    CHECK(cpu.reg.e == 74);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 24);
    CHECK(cpu.reg.l == 185);
    CHECK(cpu.pc == 17647);
    CHECK(cpu.sp == 16381);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6770] == 160);
    REQUIRE(cpu.ram[17646] == 2);
}

TEST_CASE( "02 0361", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12646;
    cpu.sp = 32355;
    cpu.reg.a = 253;
    cpu.reg.b = 243;
    cpu.reg.c = 73;
    cpu.reg.d = 110;
    cpu.reg.e = 247;
    cpu.reg.f = 16;
    cpu.reg.h = 156;
    cpu.reg.l = 37;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[12646] = 2;
    cpu.ram[62281] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 253);
    CHECK(cpu.reg.b == 243);
    CHECK(cpu.reg.c == 73);
    CHECK(cpu.reg.d == 110);
    CHECK(cpu.reg.e == 247);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 156);
    CHECK(cpu.reg.l == 37);
    CHECK(cpu.pc == 12647);
    CHECK(cpu.sp == 32355);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12646] == 2);
    REQUIRE(cpu.ram[62281] == 253);
}

TEST_CASE( "02 0362", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61710;
    cpu.sp = 5573;
    cpu.reg.a = 53;
    cpu.reg.b = 133;
    cpu.reg.c = 34;
    cpu.reg.d = 52;
    cpu.reg.e = 136;
    cpu.reg.f = 80;
    cpu.reg.h = 150;
    cpu.reg.l = 211;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[34082] = 0;
    cpu.ram[61710] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 53);
    CHECK(cpu.reg.b == 133);
    CHECK(cpu.reg.c == 34);
    CHECK(cpu.reg.d == 52);
    CHECK(cpu.reg.e == 136);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 150);
    CHECK(cpu.reg.l == 211);
    CHECK(cpu.pc == 61711);
    CHECK(cpu.sp == 5573);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34082] == 53);
    REQUIRE(cpu.ram[61710] == 2);
}

TEST_CASE( "02 0363", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32574;
    cpu.sp = 34786;
    cpu.reg.a = 76;
    cpu.reg.b = 56;
    cpu.reg.c = 228;
    cpu.reg.d = 195;
    cpu.reg.e = 8;
    cpu.reg.f = 112;
    cpu.reg.h = 210;
    cpu.reg.l = 68;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[14564] = 0;
    cpu.ram[32574] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 76);
    CHECK(cpu.reg.b == 56);
    CHECK(cpu.reg.c == 228);
    CHECK(cpu.reg.d == 195);
    CHECK(cpu.reg.e == 8);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 210);
    CHECK(cpu.reg.l == 68);
    CHECK(cpu.pc == 32575);
    CHECK(cpu.sp == 34786);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14564] == 76);
    REQUIRE(cpu.ram[32574] == 2);
}

TEST_CASE( "02 0364", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9544;
    cpu.sp = 50399;
    cpu.reg.a = 101;
    cpu.reg.b = 169;
    cpu.reg.c = 148;
    cpu.reg.d = 117;
    cpu.reg.e = 52;
    cpu.reg.f = 112;
    cpu.reg.h = 115;
    cpu.reg.l = 69;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[9544] = 2;
    cpu.ram[43412] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 101);
    CHECK(cpu.reg.b == 169);
    CHECK(cpu.reg.c == 148);
    CHECK(cpu.reg.d == 117);
    CHECK(cpu.reg.e == 52);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 115);
    CHECK(cpu.reg.l == 69);
    CHECK(cpu.pc == 9545);
    CHECK(cpu.sp == 50399);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9544] == 2);
    REQUIRE(cpu.ram[43412] == 101);
}

TEST_CASE( "02 0365", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21335;
    cpu.sp = 28991;
    cpu.reg.a = 173;
    cpu.reg.b = 171;
    cpu.reg.c = 233;
    cpu.reg.d = 7;
    cpu.reg.e = 114;
    cpu.reg.f = 224;
    cpu.reg.h = 213;
    cpu.reg.l = 195;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[21335] = 2;
    cpu.ram[44009] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 173);
    CHECK(cpu.reg.b == 171);
    CHECK(cpu.reg.c == 233);
    CHECK(cpu.reg.d == 7);
    CHECK(cpu.reg.e == 114);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 213);
    CHECK(cpu.reg.l == 195);
    CHECK(cpu.pc == 21336);
    CHECK(cpu.sp == 28991);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21335] == 2);
    REQUIRE(cpu.ram[44009] == 173);
}

TEST_CASE( "02 0366", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21370;
    cpu.sp = 17814;
    cpu.reg.a = 213;
    cpu.reg.b = 97;
    cpu.reg.c = 141;
    cpu.reg.d = 50;
    cpu.reg.e = 196;
    cpu.reg.f = 112;
    cpu.reg.h = 87;
    cpu.reg.l = 2;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[21370] = 2;
    cpu.ram[24973] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 213);
    CHECK(cpu.reg.b == 97);
    CHECK(cpu.reg.c == 141);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 196);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 87);
    CHECK(cpu.reg.l == 2);
    CHECK(cpu.pc == 21371);
    CHECK(cpu.sp == 17814);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21370] == 2);
    REQUIRE(cpu.ram[24973] == 213);
}

TEST_CASE( "02 0367", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39676;
    cpu.sp = 26117;
    cpu.reg.a = 78;
    cpu.reg.b = 227;
    cpu.reg.c = 251;
    cpu.reg.d = 93;
    cpu.reg.e = 47;
    cpu.reg.f = 32;
    cpu.reg.h = 227;
    cpu.reg.l = 209;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[39676] = 2;
    cpu.ram[58363] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 78);
    CHECK(cpu.reg.b == 227);
    CHECK(cpu.reg.c == 251);
    CHECK(cpu.reg.d == 93);
    CHECK(cpu.reg.e == 47);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 209);
    CHECK(cpu.pc == 39677);
    CHECK(cpu.sp == 26117);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39676] == 2);
    REQUIRE(cpu.ram[58363] == 78);
}

TEST_CASE( "02 0368", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61600;
    cpu.sp = 19976;
    cpu.reg.a = 98;
    cpu.reg.b = 91;
    cpu.reg.c = 175;
    cpu.reg.d = 109;
    cpu.reg.e = 102;
    cpu.reg.f = 224;
    cpu.reg.h = 68;
    cpu.reg.l = 4;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[23471] = 0;
    cpu.ram[61600] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 98);
    CHECK(cpu.reg.b == 91);
    CHECK(cpu.reg.c == 175);
    CHECK(cpu.reg.d == 109);
    CHECK(cpu.reg.e == 102);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 68);
    CHECK(cpu.reg.l == 4);
    CHECK(cpu.pc == 61601);
    CHECK(cpu.sp == 19976);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23471] == 98);
    REQUIRE(cpu.ram[61600] == 2);
}

TEST_CASE( "02 0369", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13529;
    cpu.sp = 64807;
    cpu.reg.a = 177;
    cpu.reg.b = 90;
    cpu.reg.c = 170;
    cpu.reg.d = 218;
    cpu.reg.e = 115;
    cpu.reg.f = 160;
    cpu.reg.h = 14;
    cpu.reg.l = 190;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[13529] = 2;
    cpu.ram[23210] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 177);
    CHECK(cpu.reg.b == 90);
    CHECK(cpu.reg.c == 170);
    CHECK(cpu.reg.d == 218);
    CHECK(cpu.reg.e == 115);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 14);
    CHECK(cpu.reg.l == 190);
    CHECK(cpu.pc == 13530);
    CHECK(cpu.sp == 64807);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13529] == 2);
    REQUIRE(cpu.ram[23210] == 177);
}

TEST_CASE( "02 036A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34665;
    cpu.sp = 7235;
    cpu.reg.a = 213;
    cpu.reg.b = 140;
    cpu.reg.c = 35;
    cpu.reg.d = 126;
    cpu.reg.e = 170;
    cpu.reg.f = 224;
    cpu.reg.h = 138;
    cpu.reg.l = 136;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[34665] = 2;
    cpu.ram[35875] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 213);
    CHECK(cpu.reg.b == 140);
    CHECK(cpu.reg.c == 35);
    CHECK(cpu.reg.d == 126);
    CHECK(cpu.reg.e == 170);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 138);
    CHECK(cpu.reg.l == 136);
    CHECK(cpu.pc == 34666);
    CHECK(cpu.sp == 7235);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[34665] == 2);
    REQUIRE(cpu.ram[35875] == 213);
}

TEST_CASE( "02 036B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37356;
    cpu.sp = 46763;
    cpu.reg.a = 230;
    cpu.reg.b = 108;
    cpu.reg.c = 230;
    cpu.reg.d = 58;
    cpu.reg.e = 10;
    cpu.reg.f = 80;
    cpu.reg.h = 236;
    cpu.reg.l = 226;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[27878] = 0;
    cpu.ram[37356] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 230);
    CHECK(cpu.reg.b == 108);
    CHECK(cpu.reg.c == 230);
    CHECK(cpu.reg.d == 58);
    CHECK(cpu.reg.e == 10);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 236);
    CHECK(cpu.reg.l == 226);
    CHECK(cpu.pc == 37357);
    CHECK(cpu.sp == 46763);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27878] == 230);
    REQUIRE(cpu.ram[37356] == 2);
}

TEST_CASE( "02 036C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52749;
    cpu.sp = 58706;
    cpu.reg.a = 229;
    cpu.reg.b = 216;
    cpu.reg.c = 243;
    cpu.reg.d = 104;
    cpu.reg.e = 199;
    cpu.reg.f = 48;
    cpu.reg.h = 130;
    cpu.reg.l = 75;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[52749] = 2;
    cpu.ram[55539] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 229);
    CHECK(cpu.reg.b == 216);
    CHECK(cpu.reg.c == 243);
    CHECK(cpu.reg.d == 104);
    CHECK(cpu.reg.e == 199);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 130);
    CHECK(cpu.reg.l == 75);
    CHECK(cpu.pc == 52750);
    CHECK(cpu.sp == 58706);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[52749] == 2);
    REQUIRE(cpu.ram[55539] == 229);
}

TEST_CASE( "02 036D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6086;
    cpu.sp = 42219;
    cpu.reg.a = 160;
    cpu.reg.b = 238;
    cpu.reg.c = 220;
    cpu.reg.d = 157;
    cpu.reg.e = 112;
    cpu.reg.f = 48;
    cpu.reg.h = 65;
    cpu.reg.l = 45;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[6086] = 2;
    cpu.ram[61148] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 160);
    CHECK(cpu.reg.b == 238);
    CHECK(cpu.reg.c == 220);
    CHECK(cpu.reg.d == 157);
    CHECK(cpu.reg.e == 112);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 65);
    CHECK(cpu.reg.l == 45);
    CHECK(cpu.pc == 6087);
    CHECK(cpu.sp == 42219);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6086] == 2);
    REQUIRE(cpu.ram[61148] == 160);
}

TEST_CASE( "02 036E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8320;
    cpu.sp = 10758;
    cpu.reg.a = 250;
    cpu.reg.b = 124;
    cpu.reg.c = 216;
    cpu.reg.d = 214;
    cpu.reg.e = 11;
    cpu.reg.f = 176;
    cpu.reg.h = 149;
    cpu.reg.l = 155;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[8320] = 2;
    cpu.ram[31960] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 250);
    CHECK(cpu.reg.b == 124);
    CHECK(cpu.reg.c == 216);
    CHECK(cpu.reg.d == 214);
    CHECK(cpu.reg.e == 11);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 149);
    CHECK(cpu.reg.l == 155);
    CHECK(cpu.pc == 8321);
    CHECK(cpu.sp == 10758);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8320] == 2);
    REQUIRE(cpu.ram[31960] == 250);
}

TEST_CASE( "02 036F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58156;
    cpu.sp = 56476;
    cpu.reg.a = 146;
    cpu.reg.b = 29;
    cpu.reg.c = 194;
    cpu.reg.d = 27;
    cpu.reg.e = 166;
    cpu.reg.f = 144;
    cpu.reg.h = 15;
    cpu.reg.l = 198;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[7618] = 0;
    cpu.ram[58156] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 146);
    CHECK(cpu.reg.b == 29);
    CHECK(cpu.reg.c == 194);
    CHECK(cpu.reg.d == 27);
    CHECK(cpu.reg.e == 166);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 15);
    CHECK(cpu.reg.l == 198);
    CHECK(cpu.pc == 58157);
    CHECK(cpu.sp == 56476);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7618] == 146);
    REQUIRE(cpu.ram[58156] == 2);
}

TEST_CASE( "02 0370", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54225;
    cpu.sp = 48965;
    cpu.reg.a = 41;
    cpu.reg.b = 172;
    cpu.reg.c = 194;
    cpu.reg.d = 222;
    cpu.reg.e = 94;
    cpu.reg.f = 224;
    cpu.reg.h = 215;
    cpu.reg.l = 234;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[44226] = 0;
    cpu.ram[54225] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 41);
    CHECK(cpu.reg.b == 172);
    CHECK(cpu.reg.c == 194);
    CHECK(cpu.reg.d == 222);
    CHECK(cpu.reg.e == 94);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 215);
    CHECK(cpu.reg.l == 234);
    CHECK(cpu.pc == 54226);
    CHECK(cpu.sp == 48965);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44226] == 41);
    REQUIRE(cpu.ram[54225] == 2);
}

TEST_CASE( "02 0371", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35627;
    cpu.sp = 34850;
    cpu.reg.a = 214;
    cpu.reg.b = 41;
    cpu.reg.c = 131;
    cpu.reg.d = 189;
    cpu.reg.e = 32;
    cpu.reg.f = 240;
    cpu.reg.h = 81;
    cpu.reg.l = 140;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[10627] = 0;
    cpu.ram[35627] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 214);
    CHECK(cpu.reg.b == 41);
    CHECK(cpu.reg.c == 131);
    CHECK(cpu.reg.d == 189);
    CHECK(cpu.reg.e == 32);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 81);
    CHECK(cpu.reg.l == 140);
    CHECK(cpu.pc == 35628);
    CHECK(cpu.sp == 34850);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10627] == 214);
    REQUIRE(cpu.ram[35627] == 2);
}

TEST_CASE( "02 0372", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11416;
    cpu.sp = 60280;
    cpu.reg.a = 90;
    cpu.reg.b = 30;
    cpu.reg.c = 116;
    cpu.reg.d = 242;
    cpu.reg.e = 125;
    cpu.reg.f = 80;
    cpu.reg.h = 131;
    cpu.reg.l = 168;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[7796] = 0;
    cpu.ram[11416] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 90);
    CHECK(cpu.reg.b == 30);
    CHECK(cpu.reg.c == 116);
    CHECK(cpu.reg.d == 242);
    CHECK(cpu.reg.e == 125);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 131);
    CHECK(cpu.reg.l == 168);
    CHECK(cpu.pc == 11417);
    CHECK(cpu.sp == 60280);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7796] == 90);
    REQUIRE(cpu.ram[11416] == 2);
}

TEST_CASE( "02 0373", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42429;
    cpu.sp = 60915;
    cpu.reg.a = 231;
    cpu.reg.b = 54;
    cpu.reg.c = 33;
    cpu.reg.d = 164;
    cpu.reg.e = 190;
    cpu.reg.f = 48;
    cpu.reg.h = 197;
    cpu.reg.l = 17;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[13857] = 0;
    cpu.ram[42429] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 231);
    CHECK(cpu.reg.b == 54);
    CHECK(cpu.reg.c == 33);
    CHECK(cpu.reg.d == 164);
    CHECK(cpu.reg.e == 190);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 197);
    CHECK(cpu.reg.l == 17);
    CHECK(cpu.pc == 42430);
    CHECK(cpu.sp == 60915);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13857] == 231);
    REQUIRE(cpu.ram[42429] == 2);
}

TEST_CASE( "02 0374", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56999;
    cpu.sp = 5902;
    cpu.reg.a = 253;
    cpu.reg.b = 213;
    cpu.reg.c = 250;
    cpu.reg.d = 62;
    cpu.reg.e = 17;
    cpu.reg.f = 112;
    cpu.reg.h = 41;
    cpu.reg.l = 255;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[54778] = 0;
    cpu.ram[56999] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 253);
    CHECK(cpu.reg.b == 213);
    CHECK(cpu.reg.c == 250);
    CHECK(cpu.reg.d == 62);
    CHECK(cpu.reg.e == 17);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 41);
    CHECK(cpu.reg.l == 255);
    CHECK(cpu.pc == 57000);
    CHECK(cpu.sp == 5902);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[54778] == 253);
    REQUIRE(cpu.ram[56999] == 2);
}

TEST_CASE( "02 0375", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7369;
    cpu.sp = 65351;
    cpu.reg.a = 148;
    cpu.reg.b = 31;
    cpu.reg.c = 235;
    cpu.reg.d = 70;
    cpu.reg.e = 190;
    cpu.reg.f = 0;
    cpu.reg.h = 241;
    cpu.reg.l = 255;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[7369] = 2;
    cpu.ram[8171] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 148);
    CHECK(cpu.reg.b == 31);
    CHECK(cpu.reg.c == 235);
    CHECK(cpu.reg.d == 70);
    CHECK(cpu.reg.e == 190);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 255);
    CHECK(cpu.pc == 7370);
    CHECK(cpu.sp == 65351);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7369] == 2);
    REQUIRE(cpu.ram[8171] == 148);
}

TEST_CASE( "02 0376", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18547;
    cpu.sp = 17244;
    cpu.reg.a = 158;
    cpu.reg.b = 11;
    cpu.reg.c = 2;
    cpu.reg.d = 241;
    cpu.reg.e = 29;
    cpu.reg.f = 48;
    cpu.reg.h = 95;
    cpu.reg.l = 74;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[2818] = 0;
    cpu.ram[18547] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 158);
    CHECK(cpu.reg.b == 11);
    CHECK(cpu.reg.c == 2);
    CHECK(cpu.reg.d == 241);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 95);
    CHECK(cpu.reg.l == 74);
    CHECK(cpu.pc == 18548);
    CHECK(cpu.sp == 17244);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2818] == 158);
    REQUIRE(cpu.ram[18547] == 2);
}

TEST_CASE( "02 0377", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5720;
    cpu.sp = 49742;
    cpu.reg.a = 173;
    cpu.reg.b = 82;
    cpu.reg.c = 185;
    cpu.reg.d = 240;
    cpu.reg.e = 142;
    cpu.reg.f = 224;
    cpu.reg.h = 202;
    cpu.reg.l = 154;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5720] = 2;
    cpu.ram[21177] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 173);
    CHECK(cpu.reg.b == 82);
    CHECK(cpu.reg.c == 185);
    CHECK(cpu.reg.d == 240);
    CHECK(cpu.reg.e == 142);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 202);
    CHECK(cpu.reg.l == 154);
    CHECK(cpu.pc == 5721);
    CHECK(cpu.sp == 49742);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5720] == 2);
    REQUIRE(cpu.ram[21177] == 173);
}

TEST_CASE( "02 0378", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19349;
    cpu.sp = 42299;
    cpu.reg.a = 94;
    cpu.reg.b = 158;
    cpu.reg.c = 105;
    cpu.reg.d = 158;
    cpu.reg.e = 96;
    cpu.reg.f = 80;
    cpu.reg.h = 184;
    cpu.reg.l = 81;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[19349] = 2;
    cpu.ram[40553] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 94);
    CHECK(cpu.reg.b == 158);
    CHECK(cpu.reg.c == 105);
    CHECK(cpu.reg.d == 158);
    CHECK(cpu.reg.e == 96);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 184);
    CHECK(cpu.reg.l == 81);
    CHECK(cpu.pc == 19350);
    CHECK(cpu.sp == 42299);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19349] == 2);
    REQUIRE(cpu.ram[40553] == 94);
}

TEST_CASE( "02 0379", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12453;
    cpu.sp = 11620;
    cpu.reg.a = 173;
    cpu.reg.b = 11;
    cpu.reg.c = 212;
    cpu.reg.d = 85;
    cpu.reg.e = 169;
    cpu.reg.f = 224;
    cpu.reg.h = 185;
    cpu.reg.l = 40;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[3028] = 0;
    cpu.ram[12453] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 173);
    CHECK(cpu.reg.b == 11);
    CHECK(cpu.reg.c == 212);
    CHECK(cpu.reg.d == 85);
    CHECK(cpu.reg.e == 169);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 185);
    CHECK(cpu.reg.l == 40);
    CHECK(cpu.pc == 12454);
    CHECK(cpu.sp == 11620);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3028] == 173);
    REQUIRE(cpu.ram[12453] == 2);
}

TEST_CASE( "02 037A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18701;
    cpu.sp = 52170;
    cpu.reg.a = 207;
    cpu.reg.b = 157;
    cpu.reg.c = 220;
    cpu.reg.d = 197;
    cpu.reg.e = 240;
    cpu.reg.f = 96;
    cpu.reg.h = 185;
    cpu.reg.l = 227;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[18701] = 2;
    cpu.ram[40412] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 207);
    CHECK(cpu.reg.b == 157);
    CHECK(cpu.reg.c == 220);
    CHECK(cpu.reg.d == 197);
    CHECK(cpu.reg.e == 240);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 185);
    CHECK(cpu.reg.l == 227);
    CHECK(cpu.pc == 18702);
    CHECK(cpu.sp == 52170);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18701] == 2);
    REQUIRE(cpu.ram[40412] == 207);
}

TEST_CASE( "02 037B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1235;
    cpu.sp = 689;
    cpu.reg.a = 146;
    cpu.reg.b = 144;
    cpu.reg.c = 121;
    cpu.reg.d = 7;
    cpu.reg.e = 248;
    cpu.reg.f = 224;
    cpu.reg.h = 20;
    cpu.reg.l = 4;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1235] = 2;
    cpu.ram[36985] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 146);
    CHECK(cpu.reg.b == 144);
    CHECK(cpu.reg.c == 121);
    CHECK(cpu.reg.d == 7);
    CHECK(cpu.reg.e == 248);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 20);
    CHECK(cpu.reg.l == 4);
    CHECK(cpu.pc == 1236);
    CHECK(cpu.sp == 689);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1235] == 2);
    REQUIRE(cpu.ram[36985] == 146);
}

TEST_CASE( "02 037C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40325;
    cpu.sp = 2470;
    cpu.reg.a = 100;
    cpu.reg.b = 241;
    cpu.reg.c = 103;
    cpu.reg.d = 22;
    cpu.reg.e = 87;
    cpu.reg.f = 128;
    cpu.reg.h = 46;
    cpu.reg.l = 121;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[40325] = 2;
    cpu.ram[61799] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 100);
    CHECK(cpu.reg.b == 241);
    CHECK(cpu.reg.c == 103);
    CHECK(cpu.reg.d == 22);
    CHECK(cpu.reg.e == 87);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 46);
    CHECK(cpu.reg.l == 121);
    CHECK(cpu.pc == 40326);
    CHECK(cpu.sp == 2470);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40325] == 2);
    REQUIRE(cpu.ram[61799] == 100);
}

TEST_CASE( "02 037D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6117;
    cpu.sp = 46914;
    cpu.reg.a = 183;
    cpu.reg.b = 225;
    cpu.reg.c = 198;
    cpu.reg.d = 249;
    cpu.reg.e = 216;
    cpu.reg.f = 80;
    cpu.reg.h = 157;
    cpu.reg.l = 237;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[6117] = 2;
    cpu.ram[57798] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 183);
    CHECK(cpu.reg.b == 225);
    CHECK(cpu.reg.c == 198);
    CHECK(cpu.reg.d == 249);
    CHECK(cpu.reg.e == 216);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 157);
    CHECK(cpu.reg.l == 237);
    CHECK(cpu.pc == 6118);
    CHECK(cpu.sp == 46914);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6117] == 2);
    REQUIRE(cpu.ram[57798] == 183);
}

TEST_CASE( "02 037E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30428;
    cpu.sp = 48726;
    cpu.reg.a = 43;
    cpu.reg.b = 222;
    cpu.reg.c = 31;
    cpu.reg.d = 6;
    cpu.reg.e = 179;
    cpu.reg.f = 96;
    cpu.reg.h = 234;
    cpu.reg.l = 26;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[30428] = 2;
    cpu.ram[56863] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 43);
    CHECK(cpu.reg.b == 222);
    CHECK(cpu.reg.c == 31);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 179);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 234);
    CHECK(cpu.reg.l == 26);
    CHECK(cpu.pc == 30429);
    CHECK(cpu.sp == 48726);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30428] == 2);
    REQUIRE(cpu.ram[56863] == 43);
}

TEST_CASE( "02 037F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48925;
    cpu.sp = 44035;
    cpu.reg.a = 32;
    cpu.reg.b = 230;
    cpu.reg.c = 238;
    cpu.reg.d = 121;
    cpu.reg.e = 177;
    cpu.reg.f = 16;
    cpu.reg.h = 37;
    cpu.reg.l = 27;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[48925] = 2;
    cpu.ram[59118] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 32);
    CHECK(cpu.reg.b == 230);
    CHECK(cpu.reg.c == 238);
    CHECK(cpu.reg.d == 121);
    CHECK(cpu.reg.e == 177);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 37);
    CHECK(cpu.reg.l == 27);
    CHECK(cpu.pc == 48926);
    CHECK(cpu.sp == 44035);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[48925] == 2);
    REQUIRE(cpu.ram[59118] == 32);
}

TEST_CASE( "02 0380", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23660;
    cpu.sp = 51307;
    cpu.reg.a = 140;
    cpu.reg.b = 3;
    cpu.reg.c = 236;
    cpu.reg.d = 132;
    cpu.reg.e = 147;
    cpu.reg.f = 32;
    cpu.reg.h = 84;
    cpu.reg.l = 211;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[1004] = 0;
    cpu.ram[23660] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 140);
    CHECK(cpu.reg.b == 3);
    CHECK(cpu.reg.c == 236);
    CHECK(cpu.reg.d == 132);
    CHECK(cpu.reg.e == 147);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 84);
    CHECK(cpu.reg.l == 211);
    CHECK(cpu.pc == 23661);
    CHECK(cpu.sp == 51307);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1004] == 140);
    REQUIRE(cpu.ram[23660] == 2);
}

TEST_CASE( "02 0381", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54726;
    cpu.sp = 52183;
    cpu.reg.a = 45;
    cpu.reg.b = 98;
    cpu.reg.c = 194;
    cpu.reg.d = 143;
    cpu.reg.e = 46;
    cpu.reg.f = 192;
    cpu.reg.h = 153;
    cpu.reg.l = 204;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[25282] = 0;
    cpu.ram[54726] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 45);
    CHECK(cpu.reg.b == 98);
    CHECK(cpu.reg.c == 194);
    CHECK(cpu.reg.d == 143);
    CHECK(cpu.reg.e == 46);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 153);
    CHECK(cpu.reg.l == 204);
    CHECK(cpu.pc == 54727);
    CHECK(cpu.sp == 52183);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25282] == 45);
    REQUIRE(cpu.ram[54726] == 2);
}

TEST_CASE( "02 0382", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37777;
    cpu.sp = 18814;
    cpu.reg.a = 228;
    cpu.reg.b = 71;
    cpu.reg.c = 204;
    cpu.reg.d = 239;
    cpu.reg.e = 115;
    cpu.reg.f = 128;
    cpu.reg.h = 91;
    cpu.reg.l = 48;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[18380] = 0;
    cpu.ram[37777] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 228);
    CHECK(cpu.reg.b == 71);
    CHECK(cpu.reg.c == 204);
    CHECK(cpu.reg.d == 239);
    CHECK(cpu.reg.e == 115);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 91);
    CHECK(cpu.reg.l == 48);
    CHECK(cpu.pc == 37778);
    CHECK(cpu.sp == 18814);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18380] == 228);
    REQUIRE(cpu.ram[37777] == 2);
}

TEST_CASE( "02 0383", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4901;
    cpu.sp = 33793;
    cpu.reg.a = 190;
    cpu.reg.b = 197;
    cpu.reg.c = 96;
    cpu.reg.d = 102;
    cpu.reg.e = 65;
    cpu.reg.f = 240;
    cpu.reg.h = 37;
    cpu.reg.l = 153;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4901] = 2;
    cpu.ram[50528] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 190);
    CHECK(cpu.reg.b == 197);
    CHECK(cpu.reg.c == 96);
    CHECK(cpu.reg.d == 102);
    CHECK(cpu.reg.e == 65);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 37);
    CHECK(cpu.reg.l == 153);
    CHECK(cpu.pc == 4902);
    CHECK(cpu.sp == 33793);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4901] == 2);
    REQUIRE(cpu.ram[50528] == 190);
}

TEST_CASE( "02 0384", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48588;
    cpu.sp = 55935;
    cpu.reg.a = 17;
    cpu.reg.b = 113;
    cpu.reg.c = 23;
    cpu.reg.d = 35;
    cpu.reg.e = 97;
    cpu.reg.f = 240;
    cpu.reg.h = 35;
    cpu.reg.l = 230;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[28951] = 0;
    cpu.ram[48588] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 17);
    CHECK(cpu.reg.b == 113);
    CHECK(cpu.reg.c == 23);
    CHECK(cpu.reg.d == 35);
    CHECK(cpu.reg.e == 97);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 35);
    CHECK(cpu.reg.l == 230);
    CHECK(cpu.pc == 48589);
    CHECK(cpu.sp == 55935);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28951] == 17);
    REQUIRE(cpu.ram[48588] == 2);
}

TEST_CASE( "02 0385", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14656;
    cpu.sp = 43098;
    cpu.reg.a = 206;
    cpu.reg.b = 159;
    cpu.reg.c = 111;
    cpu.reg.d = 223;
    cpu.reg.e = 154;
    cpu.reg.f = 96;
    cpu.reg.h = 123;
    cpu.reg.l = 13;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[14656] = 2;
    cpu.ram[40815] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 206);
    CHECK(cpu.reg.b == 159);
    CHECK(cpu.reg.c == 111);
    CHECK(cpu.reg.d == 223);
    CHECK(cpu.reg.e == 154);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 123);
    CHECK(cpu.reg.l == 13);
    CHECK(cpu.pc == 14657);
    CHECK(cpu.sp == 43098);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14656] == 2);
    REQUIRE(cpu.ram[40815] == 206);
}

TEST_CASE( "02 0386", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3855;
    cpu.sp = 21075;
    cpu.reg.a = 167;
    cpu.reg.b = 54;
    cpu.reg.c = 204;
    cpu.reg.d = 180;
    cpu.reg.e = 106;
    cpu.reg.f = 32;
    cpu.reg.h = 135;
    cpu.reg.l = 16;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[3855] = 2;
    cpu.ram[14028] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 167);
    CHECK(cpu.reg.b == 54);
    CHECK(cpu.reg.c == 204);
    CHECK(cpu.reg.d == 180);
    CHECK(cpu.reg.e == 106);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 135);
    CHECK(cpu.reg.l == 16);
    CHECK(cpu.pc == 3856);
    CHECK(cpu.sp == 21075);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3855] == 2);
    REQUIRE(cpu.ram[14028] == 167);
}

TEST_CASE( "02 0387", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59567;
    cpu.sp = 45052;
    cpu.reg.a = 169;
    cpu.reg.b = 29;
    cpu.reg.c = 77;
    cpu.reg.d = 71;
    cpu.reg.e = 242;
    cpu.reg.f = 160;
    cpu.reg.h = 27;
    cpu.reg.l = 189;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[7501] = 0;
    cpu.ram[59567] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 169);
    CHECK(cpu.reg.b == 29);
    CHECK(cpu.reg.c == 77);
    CHECK(cpu.reg.d == 71);
    CHECK(cpu.reg.e == 242);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 27);
    CHECK(cpu.reg.l == 189);
    CHECK(cpu.pc == 59568);
    CHECK(cpu.sp == 45052);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7501] == 169);
    REQUIRE(cpu.ram[59567] == 2);
}

TEST_CASE( "02 0388", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37058;
    cpu.sp = 18493;
    cpu.reg.a = 58;
    cpu.reg.b = 118;
    cpu.reg.c = 155;
    cpu.reg.d = 227;
    cpu.reg.e = 198;
    cpu.reg.f = 144;
    cpu.reg.h = 153;
    cpu.reg.l = 23;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[30363] = 0;
    cpu.ram[37058] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 58);
    CHECK(cpu.reg.b == 118);
    CHECK(cpu.reg.c == 155);
    CHECK(cpu.reg.d == 227);
    CHECK(cpu.reg.e == 198);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 153);
    CHECK(cpu.reg.l == 23);
    CHECK(cpu.pc == 37059);
    CHECK(cpu.sp == 18493);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30363] == 58);
    REQUIRE(cpu.ram[37058] == 2);
}

TEST_CASE( "02 0389", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64247;
    cpu.sp = 15019;
    cpu.reg.a = 148;
    cpu.reg.b = 251;
    cpu.reg.c = 93;
    cpu.reg.d = 173;
    cpu.reg.e = 220;
    cpu.reg.f = 160;
    cpu.reg.h = 246;
    cpu.reg.l = 191;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[64247] = 2;
    cpu.ram[64349] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 148);
    CHECK(cpu.reg.b == 251);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 173);
    CHECK(cpu.reg.e == 220);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 246);
    CHECK(cpu.reg.l == 191);
    CHECK(cpu.pc == 64248);
    CHECK(cpu.sp == 15019);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64247] == 2);
    REQUIRE(cpu.ram[64349] == 148);
}

TEST_CASE( "02 038A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60176;
    cpu.sp = 39284;
    cpu.reg.a = 152;
    cpu.reg.b = 210;
    cpu.reg.c = 247;
    cpu.reg.d = 132;
    cpu.reg.e = 91;
    cpu.reg.f = 176;
    cpu.reg.h = 82;
    cpu.reg.l = 109;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[54007] = 0;
    cpu.ram[60176] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 152);
    CHECK(cpu.reg.b == 210);
    CHECK(cpu.reg.c == 247);
    CHECK(cpu.reg.d == 132);
    CHECK(cpu.reg.e == 91);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 82);
    CHECK(cpu.reg.l == 109);
    CHECK(cpu.pc == 60177);
    CHECK(cpu.sp == 39284);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54007] == 152);
    REQUIRE(cpu.ram[60176] == 2);
}

TEST_CASE( "02 038B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45024;
    cpu.sp = 63992;
    cpu.reg.a = 90;
    cpu.reg.b = 133;
    cpu.reg.c = 156;
    cpu.reg.d = 58;
    cpu.reg.e = 243;
    cpu.reg.f = 0;
    cpu.reg.h = 178;
    cpu.reg.l = 53;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[34204] = 0;
    cpu.ram[45024] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 90);
    CHECK(cpu.reg.b == 133);
    CHECK(cpu.reg.c == 156);
    CHECK(cpu.reg.d == 58);
    CHECK(cpu.reg.e == 243);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 178);
    CHECK(cpu.reg.l == 53);
    CHECK(cpu.pc == 45025);
    CHECK(cpu.sp == 63992);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34204] == 90);
    REQUIRE(cpu.ram[45024] == 2);
}

TEST_CASE( "02 038C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31629;
    cpu.sp = 7577;
    cpu.reg.a = 222;
    cpu.reg.b = 44;
    cpu.reg.c = 147;
    cpu.reg.d = 233;
    cpu.reg.e = 172;
    cpu.reg.f = 32;
    cpu.reg.h = 192;
    cpu.reg.l = 156;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[11411] = 0;
    cpu.ram[31629] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 222);
    CHECK(cpu.reg.b == 44);
    CHECK(cpu.reg.c == 147);
    CHECK(cpu.reg.d == 233);
    CHECK(cpu.reg.e == 172);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 192);
    CHECK(cpu.reg.l == 156);
    CHECK(cpu.pc == 31630);
    CHECK(cpu.sp == 7577);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11411] == 222);
    REQUIRE(cpu.ram[31629] == 2);
}

TEST_CASE( "02 038D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27536;
    cpu.sp = 35805;
    cpu.reg.a = 157;
    cpu.reg.b = 132;
    cpu.reg.c = 101;
    cpu.reg.d = 231;
    cpu.reg.e = 198;
    cpu.reg.f = 192;
    cpu.reg.h = 31;
    cpu.reg.l = 144;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[27536] = 2;
    cpu.ram[33893] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 157);
    CHECK(cpu.reg.b == 132);
    CHECK(cpu.reg.c == 101);
    CHECK(cpu.reg.d == 231);
    CHECK(cpu.reg.e == 198);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 31);
    CHECK(cpu.reg.l == 144);
    CHECK(cpu.pc == 27537);
    CHECK(cpu.sp == 35805);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27536] == 2);
    REQUIRE(cpu.ram[33893] == 157);
}

TEST_CASE( "02 038E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12830;
    cpu.sp = 26306;
    cpu.reg.a = 120;
    cpu.reg.b = 150;
    cpu.reg.c = 120;
    cpu.reg.d = 158;
    cpu.reg.e = 137;
    cpu.reg.f = 240;
    cpu.reg.h = 47;
    cpu.reg.l = 230;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[12830] = 2;
    cpu.ram[38520] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 120);
    CHECK(cpu.reg.b == 150);
    CHECK(cpu.reg.c == 120);
    CHECK(cpu.reg.d == 158);
    CHECK(cpu.reg.e == 137);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 47);
    CHECK(cpu.reg.l == 230);
    CHECK(cpu.pc == 12831);
    CHECK(cpu.sp == 26306);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12830] == 2);
    REQUIRE(cpu.ram[38520] == 120);
}

TEST_CASE( "02 038F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21216;
    cpu.sp = 53977;
    cpu.reg.a = 63;
    cpu.reg.b = 170;
    cpu.reg.c = 14;
    cpu.reg.d = 158;
    cpu.reg.e = 181;
    cpu.reg.f = 0;
    cpu.reg.h = 23;
    cpu.reg.l = 179;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[21216] = 2;
    cpu.ram[43534] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 63);
    CHECK(cpu.reg.b == 170);
    CHECK(cpu.reg.c == 14);
    CHECK(cpu.reg.d == 158);
    CHECK(cpu.reg.e == 181);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 23);
    CHECK(cpu.reg.l == 179);
    CHECK(cpu.pc == 21217);
    CHECK(cpu.sp == 53977);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21216] == 2);
    REQUIRE(cpu.ram[43534] == 63);
}

TEST_CASE( "02 0390", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46737;
    cpu.sp = 10122;
    cpu.reg.a = 9;
    cpu.reg.b = 213;
    cpu.reg.c = 66;
    cpu.reg.d = 42;
    cpu.reg.e = 254;
    cpu.reg.f = 192;
    cpu.reg.h = 7;
    cpu.reg.l = 229;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[46737] = 2;
    cpu.ram[54594] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 9);
    CHECK(cpu.reg.b == 213);
    CHECK(cpu.reg.c == 66);
    CHECK(cpu.reg.d == 42);
    CHECK(cpu.reg.e == 254);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 7);
    CHECK(cpu.reg.l == 229);
    CHECK(cpu.pc == 46738);
    CHECK(cpu.sp == 10122);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46737] == 2);
    REQUIRE(cpu.ram[54594] == 9);
}

TEST_CASE( "02 0391", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41088;
    cpu.sp = 44826;
    cpu.reg.a = 63;
    cpu.reg.b = 195;
    cpu.reg.c = 8;
    cpu.reg.d = 50;
    cpu.reg.e = 96;
    cpu.reg.f = 16;
    cpu.reg.h = 68;
    cpu.reg.l = 68;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[41088] = 2;
    cpu.ram[49928] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 63);
    CHECK(cpu.reg.b == 195);
    CHECK(cpu.reg.c == 8);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 96);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 68);
    CHECK(cpu.reg.l == 68);
    CHECK(cpu.pc == 41089);
    CHECK(cpu.sp == 44826);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[41088] == 2);
    REQUIRE(cpu.ram[49928] == 63);
}

TEST_CASE( "02 0392", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43496;
    cpu.sp = 47648;
    cpu.reg.a = 249;
    cpu.reg.b = 239;
    cpu.reg.c = 83;
    cpu.reg.d = 71;
    cpu.reg.e = 137;
    cpu.reg.f = 208;
    cpu.reg.h = 47;
    cpu.reg.l = 134;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[43496] = 2;
    cpu.ram[61267] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 249);
    CHECK(cpu.reg.b == 239);
    CHECK(cpu.reg.c == 83);
    CHECK(cpu.reg.d == 71);
    CHECK(cpu.reg.e == 137);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 47);
    CHECK(cpu.reg.l == 134);
    CHECK(cpu.pc == 43497);
    CHECK(cpu.sp == 47648);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43496] == 2);
    REQUIRE(cpu.ram[61267] == 249);
}

TEST_CASE( "02 0393", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41510;
    cpu.sp = 10042;
    cpu.reg.a = 190;
    cpu.reg.b = 169;
    cpu.reg.c = 72;
    cpu.reg.d = 191;
    cpu.reg.e = 93;
    cpu.reg.f = 160;
    cpu.reg.h = 15;
    cpu.reg.l = 161;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[41510] = 2;
    cpu.ram[43336] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 190);
    CHECK(cpu.reg.b == 169);
    CHECK(cpu.reg.c == 72);
    CHECK(cpu.reg.d == 191);
    CHECK(cpu.reg.e == 93);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 15);
    CHECK(cpu.reg.l == 161);
    CHECK(cpu.pc == 41511);
    CHECK(cpu.sp == 10042);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[41510] == 2);
    REQUIRE(cpu.ram[43336] == 190);
}

TEST_CASE( "02 0394", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57493;
    cpu.sp = 29048;
    cpu.reg.a = 219;
    cpu.reg.b = 195;
    cpu.reg.c = 37;
    cpu.reg.d = 44;
    cpu.reg.e = 209;
    cpu.reg.f = 192;
    cpu.reg.h = 40;
    cpu.reg.l = 175;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[49957] = 0;
    cpu.ram[57493] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 219);
    CHECK(cpu.reg.b == 195);
    CHECK(cpu.reg.c == 37);
    CHECK(cpu.reg.d == 44);
    CHECK(cpu.reg.e == 209);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 40);
    CHECK(cpu.reg.l == 175);
    CHECK(cpu.pc == 57494);
    CHECK(cpu.sp == 29048);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49957] == 219);
    REQUIRE(cpu.ram[57493] == 2);
}

TEST_CASE( "02 0395", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39320;
    cpu.sp = 18025;
    cpu.reg.a = 180;
    cpu.reg.b = 66;
    cpu.reg.c = 49;
    cpu.reg.d = 238;
    cpu.reg.e = 215;
    cpu.reg.f = 112;
    cpu.reg.h = 47;
    cpu.reg.l = 117;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[16945] = 0;
    cpu.ram[39320] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 180);
    CHECK(cpu.reg.b == 66);
    CHECK(cpu.reg.c == 49);
    CHECK(cpu.reg.d == 238);
    CHECK(cpu.reg.e == 215);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 47);
    CHECK(cpu.reg.l == 117);
    CHECK(cpu.pc == 39321);
    CHECK(cpu.sp == 18025);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16945] == 180);
    REQUIRE(cpu.ram[39320] == 2);
}

TEST_CASE( "02 0396", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21755;
    cpu.sp = 2599;
    cpu.reg.a = 36;
    cpu.reg.b = 31;
    cpu.reg.c = 74;
    cpu.reg.d = 63;
    cpu.reg.e = 157;
    cpu.reg.f = 80;
    cpu.reg.h = 245;
    cpu.reg.l = 255;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[8010] = 0;
    cpu.ram[21755] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 36);
    CHECK(cpu.reg.b == 31);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 63);
    CHECK(cpu.reg.e == 157);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 245);
    CHECK(cpu.reg.l == 255);
    CHECK(cpu.pc == 21756);
    CHECK(cpu.sp == 2599);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8010] == 36);
    REQUIRE(cpu.ram[21755] == 2);
}

TEST_CASE( "02 0397", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4551;
    cpu.sp = 24728;
    cpu.reg.a = 202;
    cpu.reg.b = 91;
    cpu.reg.c = 163;
    cpu.reg.d = 121;
    cpu.reg.e = 105;
    cpu.reg.f = 128;
    cpu.reg.h = 89;
    cpu.reg.l = 226;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[4551] = 2;
    cpu.ram[23459] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 202);
    CHECK(cpu.reg.b == 91);
    CHECK(cpu.reg.c == 163);
    CHECK(cpu.reg.d == 121);
    CHECK(cpu.reg.e == 105);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 89);
    CHECK(cpu.reg.l == 226);
    CHECK(cpu.pc == 4552);
    CHECK(cpu.sp == 24728);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4551] == 2);
    REQUIRE(cpu.ram[23459] == 202);
}

TEST_CASE( "02 0398", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50307;
    cpu.sp = 17824;
    cpu.reg.a = 225;
    cpu.reg.b = 250;
    cpu.reg.c = 127;
    cpu.reg.d = 140;
    cpu.reg.e = 26;
    cpu.reg.f = 240;
    cpu.reg.h = 97;
    cpu.reg.l = 161;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[50307] = 2;
    cpu.ram[64127] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 225);
    CHECK(cpu.reg.b == 250);
    CHECK(cpu.reg.c == 127);
    CHECK(cpu.reg.d == 140);
    CHECK(cpu.reg.e == 26);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 97);
    CHECK(cpu.reg.l == 161);
    CHECK(cpu.pc == 50308);
    CHECK(cpu.sp == 17824);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50307] == 2);
    REQUIRE(cpu.ram[64127] == 225);
}

TEST_CASE( "02 0399", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3786;
    cpu.sp = 8640;
    cpu.reg.a = 253;
    cpu.reg.b = 138;
    cpu.reg.c = 216;
    cpu.reg.d = 115;
    cpu.reg.e = 69;
    cpu.reg.f = 48;
    cpu.reg.h = 56;
    cpu.reg.l = 50;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[3786] = 2;
    cpu.ram[35544] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 253);
    CHECK(cpu.reg.b == 138);
    CHECK(cpu.reg.c == 216);
    CHECK(cpu.reg.d == 115);
    CHECK(cpu.reg.e == 69);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 56);
    CHECK(cpu.reg.l == 50);
    CHECK(cpu.pc == 3787);
    CHECK(cpu.sp == 8640);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3786] == 2);
    REQUIRE(cpu.ram[35544] == 253);
}

TEST_CASE( "02 039A", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64647;
    cpu.sp = 58491;
    cpu.reg.a = 1;
    cpu.reg.b = 146;
    cpu.reg.c = 93;
    cpu.reg.d = 197;
    cpu.reg.e = 147;
    cpu.reg.f = 176;
    cpu.reg.h = 179;
    cpu.reg.l = 233;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[37469] = 0;
    cpu.ram[64647] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 1);
    CHECK(cpu.reg.b == 146);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 197);
    CHECK(cpu.reg.e == 147);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 179);
    CHECK(cpu.reg.l == 233);
    CHECK(cpu.pc == 64648);
    CHECK(cpu.sp == 58491);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[37469] == 1);
    REQUIRE(cpu.ram[64647] == 2);
}

TEST_CASE( "02 039B", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44941;
    cpu.sp = 15907;
    cpu.reg.a = 132;
    cpu.reg.b = 17;
    cpu.reg.c = 219;
    cpu.reg.d = 135;
    cpu.reg.e = 154;
    cpu.reg.f = 192;
    cpu.reg.h = 110;
    cpu.reg.l = 199;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[4571] = 0;
    cpu.ram[44941] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 132);
    CHECK(cpu.reg.b == 17);
    CHECK(cpu.reg.c == 219);
    CHECK(cpu.reg.d == 135);
    CHECK(cpu.reg.e == 154);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 110);
    CHECK(cpu.reg.l == 199);
    CHECK(cpu.pc == 44942);
    CHECK(cpu.sp == 15907);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4571] == 132);
    REQUIRE(cpu.ram[44941] == 2);
}

TEST_CASE( "02 039C", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65447;
    cpu.sp = 53977;
    cpu.reg.a = 200;
    cpu.reg.b = 186;
    cpu.reg.c = 52;
    cpu.reg.d = 23;
    cpu.reg.e = 249;
    cpu.reg.f = 144;
    cpu.reg.h = 149;
    cpu.reg.l = 164;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[47668] = 0;
    cpu.ram[65447] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 200);
    CHECK(cpu.reg.b == 186);
    CHECK(cpu.reg.c == 52);
    CHECK(cpu.reg.d == 23);
    CHECK(cpu.reg.e == 249);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 149);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 65448);
    CHECK(cpu.sp == 53977);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[47668] == 200);
    REQUIRE(cpu.ram[65447] == 2);
}

TEST_CASE( "02 039D", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30396;
    cpu.sp = 42040;
    cpu.reg.a = 210;
    cpu.reg.b = 122;
    cpu.reg.c = 84;
    cpu.reg.d = 80;
    cpu.reg.e = 147;
    cpu.reg.f = 144;
    cpu.reg.h = 47;
    cpu.reg.l = 75;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[30396] = 2;
    cpu.ram[31316] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 210);
    CHECK(cpu.reg.b == 122);
    CHECK(cpu.reg.c == 84);
    CHECK(cpu.reg.d == 80);
    CHECK(cpu.reg.e == 147);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 47);
    CHECK(cpu.reg.l == 75);
    CHECK(cpu.pc == 30397);
    CHECK(cpu.sp == 42040);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30396] == 2);
    REQUIRE(cpu.ram[31316] == 210);
}

TEST_CASE( "02 039E", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59738;
    cpu.sp = 56335;
    cpu.reg.a = 74;
    cpu.reg.b = 108;
    cpu.reg.c = 248;
    cpu.reg.d = 27;
    cpu.reg.e = 183;
    cpu.reg.f = 96;
    cpu.reg.h = 132;
    cpu.reg.l = 139;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[27896] = 0;
    cpu.ram[59738] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 74);
    CHECK(cpu.reg.b == 108);
    CHECK(cpu.reg.c == 248);
    CHECK(cpu.reg.d == 27);
    CHECK(cpu.reg.e == 183);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 132);
    CHECK(cpu.reg.l == 139);
    CHECK(cpu.pc == 59739);
    CHECK(cpu.sp == 56335);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27896] == 74);
    REQUIRE(cpu.ram[59738] == 2);
}

TEST_CASE( "02 039F", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6784;
    cpu.sp = 54891;
    cpu.reg.a = 104;
    cpu.reg.b = 199;
    cpu.reg.c = 77;
    cpu.reg.d = 220;
    cpu.reg.e = 43;
    cpu.reg.f = 176;
    cpu.reg.h = 130;
    cpu.reg.l = 4;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[6784] = 2;
    cpu.ram[51021] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 104);
    CHECK(cpu.reg.b == 199);
    CHECK(cpu.reg.c == 77);
    CHECK(cpu.reg.d == 220);
    CHECK(cpu.reg.e == 43);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 130);
    CHECK(cpu.reg.l == 4);
    CHECK(cpu.pc == 6785);
    CHECK(cpu.sp == 54891);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6784] == 2);
    REQUIRE(cpu.ram[51021] == 104);
}

TEST_CASE( "02 03A0", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35433;
    cpu.sp = 58637;
    cpu.reg.a = 131;
    cpu.reg.b = 220;
    cpu.reg.c = 159;
    cpu.reg.d = 195;
    cpu.reg.e = 173;
    cpu.reg.f = 0;
    cpu.reg.h = 214;
    cpu.reg.l = 71;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[35433] = 2;
    cpu.ram[56479] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 131);
    CHECK(cpu.reg.b == 220);
    CHECK(cpu.reg.c == 159);
    CHECK(cpu.reg.d == 195);
    CHECK(cpu.reg.e == 173);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 214);
    CHECK(cpu.reg.l == 71);
    CHECK(cpu.pc == 35434);
    CHECK(cpu.sp == 58637);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35433] == 2);
    REQUIRE(cpu.ram[56479] == 131);
}

TEST_CASE( "02 03A1", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7345;
    cpu.sp = 47158;
    cpu.reg.a = 223;
    cpu.reg.b = 248;
    cpu.reg.c = 231;
    cpu.reg.d = 5;
    cpu.reg.e = 189;
    cpu.reg.f = 144;
    cpu.reg.h = 105;
    cpu.reg.l = 194;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[7345] = 2;
    cpu.ram[63719] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 223);
    CHECK(cpu.reg.b == 248);
    CHECK(cpu.reg.c == 231);
    CHECK(cpu.reg.d == 5);
    CHECK(cpu.reg.e == 189);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 105);
    CHECK(cpu.reg.l == 194);
    CHECK(cpu.pc == 7346);
    CHECK(cpu.sp == 47158);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7345] == 2);
    REQUIRE(cpu.ram[63719] == 223);
}

TEST_CASE( "02 03A2", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49612;
    cpu.sp = 35975;
    cpu.reg.a = 226;
    cpu.reg.b = 36;
    cpu.reg.c = 43;
    cpu.reg.d = 232;
    cpu.reg.e = 67;
    cpu.reg.f = 96;
    cpu.reg.h = 217;
    cpu.reg.l = 70;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[9259] = 0;
    cpu.ram[49612] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 226);
    CHECK(cpu.reg.b == 36);
    CHECK(cpu.reg.c == 43);
    CHECK(cpu.reg.d == 232);
    CHECK(cpu.reg.e == 67);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 217);
    CHECK(cpu.reg.l == 70);
    CHECK(cpu.pc == 49613);
    CHECK(cpu.sp == 35975);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9259] == 226);
    REQUIRE(cpu.ram[49612] == 2);
}

TEST_CASE( "02 03A3", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21652;
    cpu.sp = 44974;
    cpu.reg.a = 25;
    cpu.reg.b = 16;
    cpu.reg.c = 248;
    cpu.reg.d = 86;
    cpu.reg.e = 162;
    cpu.reg.f = 240;
    cpu.reg.h = 231;
    cpu.reg.l = 157;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[4344] = 0;
    cpu.ram[21652] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 25);
    CHECK(cpu.reg.b == 16);
    CHECK(cpu.reg.c == 248);
    CHECK(cpu.reg.d == 86);
    CHECK(cpu.reg.e == 162);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 231);
    CHECK(cpu.reg.l == 157);
    CHECK(cpu.pc == 21653);
    CHECK(cpu.sp == 44974);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4344] == 25);
    REQUIRE(cpu.ram[21652] == 2);
}

TEST_CASE( "02 03A4", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32813;
    cpu.sp = 3175;
    cpu.reg.a = 220;
    cpu.reg.b = 74;
    cpu.reg.c = 44;
    cpu.reg.d = 21;
    cpu.reg.e = 22;
    cpu.reg.f = 128;
    cpu.reg.h = 52;
    cpu.reg.l = 219;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[18988] = 0;
    cpu.ram[32813] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 220);
    CHECK(cpu.reg.b == 74);
    CHECK(cpu.reg.c == 44);
    CHECK(cpu.reg.d == 21);
    CHECK(cpu.reg.e == 22);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 52);
    CHECK(cpu.reg.l == 219);
    CHECK(cpu.pc == 32814);
    CHECK(cpu.sp == 3175);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18988] == 220);
    REQUIRE(cpu.ram[32813] == 2);
}

TEST_CASE( "02 03A5", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3301;
    cpu.sp = 4592;
    cpu.reg.a = 231;
    cpu.reg.b = 224;
    cpu.reg.c = 247;
    cpu.reg.d = 244;
    cpu.reg.e = 28;
    cpu.reg.f = 224;
    cpu.reg.h = 34;
    cpu.reg.l = 240;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[3301] = 2;
    cpu.ram[57591] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 231);
    CHECK(cpu.reg.b == 224);
    CHECK(cpu.reg.c == 247);
    CHECK(cpu.reg.d == 244);
    CHECK(cpu.reg.e == 28);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 34);
    CHECK(cpu.reg.l == 240);
    CHECK(cpu.pc == 3302);
    CHECK(cpu.sp == 4592);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3301] == 2);
    REQUIRE(cpu.ram[57591] == 231);
}

TEST_CASE( "02 03A6", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50500;
    cpu.sp = 17522;
    cpu.reg.a = 238;
    cpu.reg.b = 79;
    cpu.reg.c = 32;
    cpu.reg.d = 173;
    cpu.reg.e = 100;
    cpu.reg.f = 80;
    cpu.reg.h = 234;
    cpu.reg.l = 114;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[20256] = 0;
    cpu.ram[50500] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 238);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 32);
    CHECK(cpu.reg.d == 173);
    CHECK(cpu.reg.e == 100);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 234);
    CHECK(cpu.reg.l == 114);
    CHECK(cpu.pc == 50501);
    CHECK(cpu.sp == 17522);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20256] == 238);
    REQUIRE(cpu.ram[50500] == 2);
}

TEST_CASE( "02 03A7", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36687;
    cpu.sp = 14366;
    cpu.reg.a = 24;
    cpu.reg.b = 168;
    cpu.reg.c = 238;
    cpu.reg.d = 244;
    cpu.reg.e = 154;
    cpu.reg.f = 112;
    cpu.reg.h = 81;
    cpu.reg.l = 119;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[36687] = 2;
    cpu.ram[43246] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 24);
    CHECK(cpu.reg.b == 168);
    CHECK(cpu.reg.c == 238);
    CHECK(cpu.reg.d == 244);
    CHECK(cpu.reg.e == 154);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 81);
    CHECK(cpu.reg.l == 119);
    CHECK(cpu.pc == 36688);
    CHECK(cpu.sp == 14366);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36687] == 2);
    REQUIRE(cpu.ram[43246] == 24);
}

TEST_CASE( "02 03A8", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3070;
    cpu.sp = 29763;
    cpu.reg.a = 112;
    cpu.reg.b = 126;
    cpu.reg.c = 70;
    cpu.reg.d = 67;
    cpu.reg.e = 222;
    cpu.reg.f = 192;
    cpu.reg.h = 27;
    cpu.reg.l = 125;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[3070] = 2;
    cpu.ram[32326] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 112);
    CHECK(cpu.reg.b == 126);
    CHECK(cpu.reg.c == 70);
    CHECK(cpu.reg.d == 67);
    CHECK(cpu.reg.e == 222);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 27);
    CHECK(cpu.reg.l == 125);
    CHECK(cpu.pc == 3071);
    CHECK(cpu.sp == 29763);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3070] == 2);
    REQUIRE(cpu.ram[32326] == 112);
}

TEST_CASE( "02 03A9", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62906;
    cpu.sp = 36271;
    cpu.reg.a = 74;
    cpu.reg.b = 255;
    cpu.reg.c = 243;
    cpu.reg.d = 16;
    cpu.reg.e = 97;
    cpu.reg.f = 0;
    cpu.reg.h = 163;
    cpu.reg.l = 243;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[62906] = 2;
    cpu.ram[65523] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 74);
    CHECK(cpu.reg.b == 255);
    CHECK(cpu.reg.c == 243);
    CHECK(cpu.reg.d == 16);
    CHECK(cpu.reg.e == 97);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 163);
    CHECK(cpu.reg.l == 243);
    CHECK(cpu.pc == 62907);
    CHECK(cpu.sp == 36271);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[62906] == 2);
    REQUIRE(cpu.ram[65523] == 74);
}

TEST_CASE( "02 03AA", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46019;
    cpu.sp = 63314;
    cpu.reg.a = 86;
    cpu.reg.b = 88;
    cpu.reg.c = 242;
    cpu.reg.d = 73;
    cpu.reg.e = 108;
    cpu.reg.f = 48;
    cpu.reg.h = 1;
    cpu.reg.l = 109;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[22770] = 0;
    cpu.ram[46019] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 86);
    CHECK(cpu.reg.b == 88);
    CHECK(cpu.reg.c == 242);
    CHECK(cpu.reg.d == 73);
    CHECK(cpu.reg.e == 108);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 1);
    CHECK(cpu.reg.l == 109);
    CHECK(cpu.pc == 46020);
    CHECK(cpu.sp == 63314);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22770] == 86);
    REQUIRE(cpu.ram[46019] == 2);
}

TEST_CASE( "02 03AB", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7361;
    cpu.sp = 60556;
    cpu.reg.a = 190;
    cpu.reg.b = 23;
    cpu.reg.c = 177;
    cpu.reg.d = 164;
    cpu.reg.e = 195;
    cpu.reg.f = 16;
    cpu.reg.h = 219;
    cpu.reg.l = 246;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[6065] = 0;
    cpu.ram[7361] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 190);
    CHECK(cpu.reg.b == 23);
    CHECK(cpu.reg.c == 177);
    CHECK(cpu.reg.d == 164);
    CHECK(cpu.reg.e == 195);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 219);
    CHECK(cpu.reg.l == 246);
    CHECK(cpu.pc == 7362);
    CHECK(cpu.sp == 60556);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6065] == 190);
    REQUIRE(cpu.ram[7361] == 2);
}

TEST_CASE( "02 03AC", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29533;
    cpu.sp = 43658;
    cpu.reg.a = 24;
    cpu.reg.b = 27;
    cpu.reg.c = 255;
    cpu.reg.d = 22;
    cpu.reg.e = 11;
    cpu.reg.f = 224;
    cpu.reg.h = 238;
    cpu.reg.l = 14;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[7167] = 0;
    cpu.ram[29533] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 24);
    CHECK(cpu.reg.b == 27);
    CHECK(cpu.reg.c == 255);
    CHECK(cpu.reg.d == 22);
    CHECK(cpu.reg.e == 11);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 238);
    CHECK(cpu.reg.l == 14);
    CHECK(cpu.pc == 29534);
    CHECK(cpu.sp == 43658);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7167] == 24);
    REQUIRE(cpu.ram[29533] == 2);
}

TEST_CASE( "02 03AD", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50940;
    cpu.sp = 62854;
    cpu.reg.a = 209;
    cpu.reg.b = 112;
    cpu.reg.c = 21;
    cpu.reg.d = 27;
    cpu.reg.e = 221;
    cpu.reg.f = 80;
    cpu.reg.h = 102;
    cpu.reg.l = 225;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[28693] = 0;
    cpu.ram[50940] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 209);
    CHECK(cpu.reg.b == 112);
    CHECK(cpu.reg.c == 21);
    CHECK(cpu.reg.d == 27);
    CHECK(cpu.reg.e == 221);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 102);
    CHECK(cpu.reg.l == 225);
    CHECK(cpu.pc == 50941);
    CHECK(cpu.sp == 62854);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[28693] == 209);
    REQUIRE(cpu.ram[50940] == 2);
}

TEST_CASE( "02 03AE", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31812;
    cpu.sp = 56195;
    cpu.reg.a = 231;
    cpu.reg.b = 141;
    cpu.reg.c = 80;
    cpu.reg.d = 78;
    cpu.reg.e = 43;
    cpu.reg.f = 208;
    cpu.reg.h = 33;
    cpu.reg.l = 31;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[31812] = 2;
    cpu.ram[36176] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 231);
    CHECK(cpu.reg.b == 141);
    CHECK(cpu.reg.c == 80);
    CHECK(cpu.reg.d == 78);
    CHECK(cpu.reg.e == 43);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 33);
    CHECK(cpu.reg.l == 31);
    CHECK(cpu.pc == 31813);
    CHECK(cpu.sp == 56195);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31812] == 2);
    REQUIRE(cpu.ram[36176] == 231);
}

TEST_CASE( "02 03AF", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9389;
    cpu.sp = 52331;
    cpu.reg.a = 93;
    cpu.reg.b = 32;
    cpu.reg.c = 185;
    cpu.reg.d = 165;
    cpu.reg.e = 235;
    cpu.reg.f = 96;
    cpu.reg.h = 18;
    cpu.reg.l = 81;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[8377] = 0;
    cpu.ram[9389] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 93);
    CHECK(cpu.reg.b == 32);
    CHECK(cpu.reg.c == 185);
    CHECK(cpu.reg.d == 165);
    CHECK(cpu.reg.e == 235);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 18);
    CHECK(cpu.reg.l == 81);
    CHECK(cpu.pc == 9390);
    CHECK(cpu.sp == 52331);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8377] == 93);
    REQUIRE(cpu.ram[9389] == 2);
}

TEST_CASE( "02 03B0", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26452;
    cpu.sp = 64812;
    cpu.reg.a = 121;
    cpu.reg.b = 78;
    cpu.reg.c = 177;
    cpu.reg.d = 238;
    cpu.reg.e = 237;
    cpu.reg.f = 128;
    cpu.reg.h = 195;
    cpu.reg.l = 121;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[20145] = 0;
    cpu.ram[26452] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 121);
    CHECK(cpu.reg.b == 78);
    CHECK(cpu.reg.c == 177);
    CHECK(cpu.reg.d == 238);
    CHECK(cpu.reg.e == 237);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 195);
    CHECK(cpu.reg.l == 121);
    CHECK(cpu.pc == 26453);
    CHECK(cpu.sp == 64812);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20145] == 121);
    REQUIRE(cpu.ram[26452] == 2);
}

TEST_CASE( "02 03B1", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1293;
    cpu.sp = 46496;
    cpu.reg.a = 36;
    cpu.reg.b = 137;
    cpu.reg.c = 201;
    cpu.reg.d = 234;
    cpu.reg.e = 115;
    cpu.reg.f = 32;
    cpu.reg.h = 225;
    cpu.reg.l = 239;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[1293] = 2;
    cpu.ram[35273] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 36);
    CHECK(cpu.reg.b == 137);
    CHECK(cpu.reg.c == 201);
    CHECK(cpu.reg.d == 234);
    CHECK(cpu.reg.e == 115);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 225);
    CHECK(cpu.reg.l == 239);
    CHECK(cpu.pc == 1294);
    CHECK(cpu.sp == 46496);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1293] == 2);
    REQUIRE(cpu.ram[35273] == 36);
}

TEST_CASE( "02 03B2", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26559;
    cpu.sp = 56172;
    cpu.reg.a = 91;
    cpu.reg.b = 69;
    cpu.reg.c = 69;
    cpu.reg.d = 53;
    cpu.reg.e = 95;
    cpu.reg.f = 32;
    cpu.reg.h = 155;
    cpu.reg.l = 212;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[17733] = 0;
    cpu.ram[26559] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 91);
    CHECK(cpu.reg.b == 69);
    CHECK(cpu.reg.c == 69);
    CHECK(cpu.reg.d == 53);
    CHECK(cpu.reg.e == 95);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 155);
    CHECK(cpu.reg.l == 212);
    CHECK(cpu.pc == 26560);
    CHECK(cpu.sp == 56172);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17733] == 91);
    REQUIRE(cpu.ram[26559] == 2);
}

TEST_CASE( "02 03B3", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29634;
    cpu.sp = 2212;
    cpu.reg.a = 14;
    cpu.reg.b = 122;
    cpu.reg.c = 52;
    cpu.reg.d = 234;
    cpu.reg.e = 142;
    cpu.reg.f = 192;
    cpu.reg.h = 49;
    cpu.reg.l = 203;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[29634] = 2;
    cpu.ram[31284] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 14);
    CHECK(cpu.reg.b == 122);
    CHECK(cpu.reg.c == 52);
    CHECK(cpu.reg.d == 234);
    CHECK(cpu.reg.e == 142);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 49);
    CHECK(cpu.reg.l == 203);
    CHECK(cpu.pc == 29635);
    CHECK(cpu.sp == 2212);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29634] == 2);
    REQUIRE(cpu.ram[31284] == 14);
}

TEST_CASE( "02 03B4", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55318;
    cpu.sp = 21233;
    cpu.reg.a = 79;
    cpu.reg.b = 48;
    cpu.reg.c = 115;
    cpu.reg.d = 27;
    cpu.reg.e = 136;
    cpu.reg.f = 112;
    cpu.reg.h = 73;
    cpu.reg.l = 51;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[12403] = 0;
    cpu.ram[55318] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 79);
    CHECK(cpu.reg.b == 48);
    CHECK(cpu.reg.c == 115);
    CHECK(cpu.reg.d == 27);
    CHECK(cpu.reg.e == 136);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 73);
    CHECK(cpu.reg.l == 51);
    CHECK(cpu.pc == 55319);
    CHECK(cpu.sp == 21233);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12403] == 79);
    REQUIRE(cpu.ram[55318] == 2);
}

TEST_CASE( "02 03B5", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47565;
    cpu.sp = 19685;
    cpu.reg.a = 26;
    cpu.reg.b = 178;
    cpu.reg.c = 89;
    cpu.reg.d = 179;
    cpu.reg.e = 137;
    cpu.reg.f = 208;
    cpu.reg.h = 48;
    cpu.reg.l = 97;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[45657] = 0;
    cpu.ram[47565] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 26);
    CHECK(cpu.reg.b == 178);
    CHECK(cpu.reg.c == 89);
    CHECK(cpu.reg.d == 179);
    CHECK(cpu.reg.e == 137);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 48);
    CHECK(cpu.reg.l == 97);
    CHECK(cpu.pc == 47566);
    CHECK(cpu.sp == 19685);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45657] == 26);
    REQUIRE(cpu.ram[47565] == 2);
}

TEST_CASE( "02 03B6", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22990;
    cpu.sp = 36463;
    cpu.reg.a = 248;
    cpu.reg.b = 119;
    cpu.reg.c = 162;
    cpu.reg.d = 99;
    cpu.reg.e = 125;
    cpu.reg.f = 80;
    cpu.reg.h = 32;
    cpu.reg.l = 68;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[22990] = 2;
    cpu.ram[30626] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 248);
    CHECK(cpu.reg.b == 119);
    CHECK(cpu.reg.c == 162);
    CHECK(cpu.reg.d == 99);
    CHECK(cpu.reg.e == 125);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 32);
    CHECK(cpu.reg.l == 68);
    CHECK(cpu.pc == 22991);
    CHECK(cpu.sp == 36463);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22990] == 2);
    REQUIRE(cpu.ram[30626] == 248);
}

TEST_CASE( "02 03B7", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36318;
    cpu.sp = 16296;
    cpu.reg.a = 157;
    cpu.reg.b = 11;
    cpu.reg.c = 194;
    cpu.reg.d = 246;
    cpu.reg.e = 69;
    cpu.reg.f = 144;
    cpu.reg.h = 175;
    cpu.reg.l = 107;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[3010] = 0;
    cpu.ram[36318] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 157);
    CHECK(cpu.reg.b == 11);
    CHECK(cpu.reg.c == 194);
    CHECK(cpu.reg.d == 246);
    CHECK(cpu.reg.e == 69);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 175);
    CHECK(cpu.reg.l == 107);
    CHECK(cpu.pc == 36319);
    CHECK(cpu.sp == 16296);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3010] == 157);
    REQUIRE(cpu.ram[36318] == 2);
}

TEST_CASE( "02 03B8", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11965;
    cpu.sp = 26326;
    cpu.reg.a = 31;
    cpu.reg.b = 68;
    cpu.reg.c = 125;
    cpu.reg.d = 86;
    cpu.reg.e = 177;
    cpu.reg.f = 192;
    cpu.reg.h = 236;
    cpu.reg.l = 124;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[11965] = 2;
    cpu.ram[17533] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 31);
    CHECK(cpu.reg.b == 68);
    CHECK(cpu.reg.c == 125);
    CHECK(cpu.reg.d == 86);
    CHECK(cpu.reg.e == 177);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 236);
    CHECK(cpu.reg.l == 124);
    CHECK(cpu.pc == 11966);
    CHECK(cpu.sp == 26326);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11965] == 2);
    REQUIRE(cpu.ram[17533] == 31);
}

TEST_CASE( "02 03B9", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41527;
    cpu.sp = 4246;
    cpu.reg.a = 59;
    cpu.reg.b = 147;
    cpu.reg.c = 130;
    cpu.reg.d = 80;
    cpu.reg.e = 102;
    cpu.reg.f = 16;
    cpu.reg.h = 73;
    cpu.reg.l = 96;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[37762] = 0;
    cpu.ram[41527] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 59);
    CHECK(cpu.reg.b == 147);
    CHECK(cpu.reg.c == 130);
    CHECK(cpu.reg.d == 80);
    CHECK(cpu.reg.e == 102);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 73);
    CHECK(cpu.reg.l == 96);
    CHECK(cpu.pc == 41528);
    CHECK(cpu.sp == 4246);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[37762] == 59);
    REQUIRE(cpu.ram[41527] == 2);
}

TEST_CASE( "02 03BA", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37262;
    cpu.sp = 46713;
    cpu.reg.a = 137;
    cpu.reg.b = 125;
    cpu.reg.c = 242;
    cpu.reg.d = 23;
    cpu.reg.e = 15;
    cpu.reg.f = 0;
    cpu.reg.h = 173;
    cpu.reg.l = 83;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[32242] = 0;
    cpu.ram[37262] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 137);
    CHECK(cpu.reg.b == 125);
    CHECK(cpu.reg.c == 242);
    CHECK(cpu.reg.d == 23);
    CHECK(cpu.reg.e == 15);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 173);
    CHECK(cpu.reg.l == 83);
    CHECK(cpu.pc == 37263);
    CHECK(cpu.sp == 46713);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32242] == 137);
    REQUIRE(cpu.ram[37262] == 2);
}

TEST_CASE( "02 03BB", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29523;
    cpu.sp = 11154;
    cpu.reg.a = 225;
    cpu.reg.b = 14;
    cpu.reg.c = 253;
    cpu.reg.d = 146;
    cpu.reg.e = 83;
    cpu.reg.f = 176;
    cpu.reg.h = 102;
    cpu.reg.l = 101;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[3837] = 0;
    cpu.ram[29523] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 225);
    CHECK(cpu.reg.b == 14);
    CHECK(cpu.reg.c == 253);
    CHECK(cpu.reg.d == 146);
    CHECK(cpu.reg.e == 83);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 102);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 29524);
    CHECK(cpu.sp == 11154);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3837] == 225);
    REQUIRE(cpu.ram[29523] == 2);
}

TEST_CASE( "02 03BC", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14528;
    cpu.sp = 15437;
    cpu.reg.a = 96;
    cpu.reg.b = 88;
    cpu.reg.c = 25;
    cpu.reg.d = 47;
    cpu.reg.e = 239;
    cpu.reg.f = 80;
    cpu.reg.h = 157;
    cpu.reg.l = 83;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[14528] = 2;
    cpu.ram[22553] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 96);
    CHECK(cpu.reg.b == 88);
    CHECK(cpu.reg.c == 25);
    CHECK(cpu.reg.d == 47);
    CHECK(cpu.reg.e == 239);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 157);
    CHECK(cpu.reg.l == 83);
    CHECK(cpu.pc == 14529);
    CHECK(cpu.sp == 15437);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14528] == 2);
    REQUIRE(cpu.ram[22553] == 96);
}

TEST_CASE( "02 03BD", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6575;
    cpu.sp = 11301;
    cpu.reg.a = 82;
    cpu.reg.b = 147;
    cpu.reg.c = 50;
    cpu.reg.d = 190;
    cpu.reg.e = 65;
    cpu.reg.f = 112;
    cpu.reg.h = 45;
    cpu.reg.l = 1;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[6575] = 2;
    cpu.ram[37682] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 82);
    CHECK(cpu.reg.b == 147);
    CHECK(cpu.reg.c == 50);
    CHECK(cpu.reg.d == 190);
    CHECK(cpu.reg.e == 65);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 45);
    CHECK(cpu.reg.l == 1);
    CHECK(cpu.pc == 6576);
    CHECK(cpu.sp == 11301);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6575] == 2);
    REQUIRE(cpu.ram[37682] == 82);
}

TEST_CASE( "02 03BE", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4167;
    cpu.sp = 32871;
    cpu.reg.a = 49;
    cpu.reg.b = 63;
    cpu.reg.c = 213;
    cpu.reg.d = 79;
    cpu.reg.e = 153;
    cpu.reg.f = 16;
    cpu.reg.h = 39;
    cpu.reg.l = 70;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[4167] = 2;
    cpu.ram[16341] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 49);
    CHECK(cpu.reg.b == 63);
    CHECK(cpu.reg.c == 213);
    CHECK(cpu.reg.d == 79);
    CHECK(cpu.reg.e == 153);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 39);
    CHECK(cpu.reg.l == 70);
    CHECK(cpu.pc == 4168);
    CHECK(cpu.sp == 32871);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4167] == 2);
    REQUIRE(cpu.ram[16341] == 49);
}

TEST_CASE( "02 03BF", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16107;
    cpu.sp = 15458;
    cpu.reg.a = 145;
    cpu.reg.b = 188;
    cpu.reg.c = 136;
    cpu.reg.d = 176;
    cpu.reg.e = 73;
    cpu.reg.f = 192;
    cpu.reg.h = 212;
    cpu.reg.l = 90;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[16107] = 2;
    cpu.ram[48264] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 145);
    CHECK(cpu.reg.b == 188);
    CHECK(cpu.reg.c == 136);
    CHECK(cpu.reg.d == 176);
    CHECK(cpu.reg.e == 73);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 212);
    CHECK(cpu.reg.l == 90);
    CHECK(cpu.pc == 16108);
    CHECK(cpu.sp == 15458);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16107] == 2);
    REQUIRE(cpu.ram[48264] == 145);
}

TEST_CASE( "02 03C0", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49971;
    cpu.sp = 9410;
    cpu.reg.a = 90;
    cpu.reg.b = 52;
    cpu.reg.c = 18;
    cpu.reg.d = 141;
    cpu.reg.e = 194;
    cpu.reg.f = 176;
    cpu.reg.h = 150;
    cpu.reg.l = 43;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[13330] = 0;
    cpu.ram[49971] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 90);
    CHECK(cpu.reg.b == 52);
    CHECK(cpu.reg.c == 18);
    CHECK(cpu.reg.d == 141);
    CHECK(cpu.reg.e == 194);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 150);
    CHECK(cpu.reg.l == 43);
    CHECK(cpu.pc == 49972);
    CHECK(cpu.sp == 9410);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13330] == 90);
    REQUIRE(cpu.ram[49971] == 2);
}

TEST_CASE( "02 03C1", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41468;
    cpu.sp = 39299;
    cpu.reg.a = 243;
    cpu.reg.b = 35;
    cpu.reg.c = 69;
    cpu.reg.d = 204;
    cpu.reg.e = 49;
    cpu.reg.f = 240;
    cpu.reg.h = 209;
    cpu.reg.l = 157;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[9029] = 0;
    cpu.ram[41468] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 243);
    CHECK(cpu.reg.b == 35);
    CHECK(cpu.reg.c == 69);
    CHECK(cpu.reg.d == 204);
    CHECK(cpu.reg.e == 49);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 209);
    CHECK(cpu.reg.l == 157);
    CHECK(cpu.pc == 41469);
    CHECK(cpu.sp == 39299);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9029] == 243);
    REQUIRE(cpu.ram[41468] == 2);
}

TEST_CASE( "02 03C2", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17937;
    cpu.sp = 19448;
    cpu.reg.a = 125;
    cpu.reg.b = 232;
    cpu.reg.c = 177;
    cpu.reg.d = 127;
    cpu.reg.e = 111;
    cpu.reg.f = 0;
    cpu.reg.h = 233;
    cpu.reg.l = 144;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[17937] = 2;
    cpu.ram[59569] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 125);
    CHECK(cpu.reg.b == 232);
    CHECK(cpu.reg.c == 177);
    CHECK(cpu.reg.d == 127);
    CHECK(cpu.reg.e == 111);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 233);
    CHECK(cpu.reg.l == 144);
    CHECK(cpu.pc == 17938);
    CHECK(cpu.sp == 19448);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17937] == 2);
    REQUIRE(cpu.ram[59569] == 125);
}

TEST_CASE( "02 03C3", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50371;
    cpu.sp = 11922;
    cpu.reg.a = 97;
    cpu.reg.b = 221;
    cpu.reg.c = 85;
    cpu.reg.d = 123;
    cpu.reg.e = 213;
    cpu.reg.f = 208;
    cpu.reg.h = 42;
    cpu.reg.l = 60;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[50371] = 2;
    cpu.ram[56661] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 97);
    CHECK(cpu.reg.b == 221);
    CHECK(cpu.reg.c == 85);
    CHECK(cpu.reg.d == 123);
    CHECK(cpu.reg.e == 213);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 42);
    CHECK(cpu.reg.l == 60);
    CHECK(cpu.pc == 50372);
    CHECK(cpu.sp == 11922);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[50371] == 2);
    REQUIRE(cpu.ram[56661] == 97);
}

TEST_CASE( "02 03C4", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37277;
    cpu.sp = 31217;
    cpu.reg.a = 238;
    cpu.reg.b = 165;
    cpu.reg.c = 62;
    cpu.reg.d = 190;
    cpu.reg.e = 202;
    cpu.reg.f = 240;
    cpu.reg.h = 45;
    cpu.reg.l = 27;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[37277] = 2;
    cpu.ram[42302] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 238);
    CHECK(cpu.reg.b == 165);
    CHECK(cpu.reg.c == 62);
    CHECK(cpu.reg.d == 190);
    CHECK(cpu.reg.e == 202);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 45);
    CHECK(cpu.reg.l == 27);
    CHECK(cpu.pc == 37278);
    CHECK(cpu.sp == 31217);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[37277] == 2);
    REQUIRE(cpu.ram[42302] == 238);
}

TEST_CASE( "02 03C5", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14106;
    cpu.sp = 47399;
    cpu.reg.a = 67;
    cpu.reg.b = 232;
    cpu.reg.c = 28;
    cpu.reg.d = 12;
    cpu.reg.e = 131;
    cpu.reg.f = 112;
    cpu.reg.h = 91;
    cpu.reg.l = 34;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[14106] = 2;
    cpu.ram[59420] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 67);
    CHECK(cpu.reg.b == 232);
    CHECK(cpu.reg.c == 28);
    CHECK(cpu.reg.d == 12);
    CHECK(cpu.reg.e == 131);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 91);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 14107);
    CHECK(cpu.sp == 47399);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14106] == 2);
    REQUIRE(cpu.ram[59420] == 67);
}

TEST_CASE( "02 03C6", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4399;
    cpu.sp = 34675;
    cpu.reg.a = 27;
    cpu.reg.b = 56;
    cpu.reg.c = 214;
    cpu.reg.d = 69;
    cpu.reg.e = 138;
    cpu.reg.f = 0;
    cpu.reg.h = 24;
    cpu.reg.l = 34;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4399] = 2;
    cpu.ram[14550] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 27);
    CHECK(cpu.reg.b == 56);
    CHECK(cpu.reg.c == 214);
    CHECK(cpu.reg.d == 69);
    CHECK(cpu.reg.e == 138);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 24);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 4400);
    CHECK(cpu.sp == 34675);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4399] == 2);
    REQUIRE(cpu.ram[14550] == 27);
}

TEST_CASE( "02 03C7", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56314;
    cpu.sp = 57934;
    cpu.reg.a = 136;
    cpu.reg.b = 15;
    cpu.reg.c = 203;
    cpu.reg.d = 78;
    cpu.reg.e = 243;
    cpu.reg.f = 176;
    cpu.reg.h = 46;
    cpu.reg.l = 127;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[4043] = 0;
    cpu.ram[56314] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 136);
    CHECK(cpu.reg.b == 15);
    CHECK(cpu.reg.c == 203);
    CHECK(cpu.reg.d == 78);
    CHECK(cpu.reg.e == 243);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 46);
    CHECK(cpu.reg.l == 127);
    CHECK(cpu.pc == 56315);
    CHECK(cpu.sp == 57934);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4043] == 136);
    REQUIRE(cpu.ram[56314] == 2);
}

TEST_CASE( "02 03C8", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49318;
    cpu.sp = 19039;
    cpu.reg.a = 77;
    cpu.reg.b = 167;
    cpu.reg.c = 109;
    cpu.reg.d = 178;
    cpu.reg.e = 165;
    cpu.reg.f = 16;
    cpu.reg.h = 215;
    cpu.reg.l = 217;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[42861] = 0;
    cpu.ram[49318] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 77);
    CHECK(cpu.reg.b == 167);
    CHECK(cpu.reg.c == 109);
    CHECK(cpu.reg.d == 178);
    CHECK(cpu.reg.e == 165);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 215);
    CHECK(cpu.reg.l == 217);
    CHECK(cpu.pc == 49319);
    CHECK(cpu.sp == 19039);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[42861] == 77);
    REQUIRE(cpu.ram[49318] == 2);
}

TEST_CASE( "02 03C9", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54116;
    cpu.sp = 38857;
    cpu.reg.a = 237;
    cpu.reg.b = 103;
    cpu.reg.c = 47;
    cpu.reg.d = 30;
    cpu.reg.e = 222;
    cpu.reg.f = 48;
    cpu.reg.h = 33;
    cpu.reg.l = 150;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26415] = 0;
    cpu.ram[54116] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 237);
    CHECK(cpu.reg.b == 103);
    CHECK(cpu.reg.c == 47);
    CHECK(cpu.reg.d == 30);
    CHECK(cpu.reg.e == 222);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 33);
    CHECK(cpu.reg.l == 150);
    CHECK(cpu.pc == 54117);
    CHECK(cpu.sp == 38857);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26415] == 237);
    REQUIRE(cpu.ram[54116] == 2);
}

TEST_CASE( "02 03CA", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6853;
    cpu.sp = 59842;
    cpu.reg.a = 1;
    cpu.reg.b = 45;
    cpu.reg.c = 84;
    cpu.reg.d = 254;
    cpu.reg.e = 193;
    cpu.reg.f = 160;
    cpu.reg.h = 74;
    cpu.reg.l = 140;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[6853] = 2;
    cpu.ram[11604] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 1);
    CHECK(cpu.reg.b == 45);
    CHECK(cpu.reg.c == 84);
    CHECK(cpu.reg.d == 254);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 74);
    CHECK(cpu.reg.l == 140);
    CHECK(cpu.pc == 6854);
    CHECK(cpu.sp == 59842);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6853] == 2);
    REQUIRE(cpu.ram[11604] == 1);
}

TEST_CASE( "02 03CB", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61122;
    cpu.sp = 56400;
    cpu.reg.a = 42;
    cpu.reg.b = 198;
    cpu.reg.c = 28;
    cpu.reg.d = 72;
    cpu.reg.e = 101;
    cpu.reg.f = 176;
    cpu.reg.h = 196;
    cpu.reg.l = 93;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[50716] = 0;
    cpu.ram[61122] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 42);
    CHECK(cpu.reg.b == 198);
    CHECK(cpu.reg.c == 28);
    CHECK(cpu.reg.d == 72);
    CHECK(cpu.reg.e == 101);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 196);
    CHECK(cpu.reg.l == 93);
    CHECK(cpu.pc == 61123);
    CHECK(cpu.sp == 56400);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50716] == 42);
    REQUIRE(cpu.ram[61122] == 2);
}

TEST_CASE( "02 03CC", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7062;
    cpu.sp = 35066;
    cpu.reg.a = 113;
    cpu.reg.b = 146;
    cpu.reg.c = 132;
    cpu.reg.d = 85;
    cpu.reg.e = 171;
    cpu.reg.f = 0;
    cpu.reg.h = 52;
    cpu.reg.l = 124;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[7062] = 2;
    cpu.ram[37508] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 113);
    CHECK(cpu.reg.b == 146);
    CHECK(cpu.reg.c == 132);
    CHECK(cpu.reg.d == 85);
    CHECK(cpu.reg.e == 171);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 52);
    CHECK(cpu.reg.l == 124);
    CHECK(cpu.pc == 7063);
    CHECK(cpu.sp == 35066);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7062] == 2);
    REQUIRE(cpu.ram[37508] == 113);
}

TEST_CASE( "02 03CD", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4454;
    cpu.sp = 33468;
    cpu.reg.a = 212;
    cpu.reg.b = 163;
    cpu.reg.c = 5;
    cpu.reg.d = 200;
    cpu.reg.e = 145;
    cpu.reg.f = 192;
    cpu.reg.h = 255;
    cpu.reg.l = 11;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4454] = 2;
    cpu.ram[41733] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 212);
    CHECK(cpu.reg.b == 163);
    CHECK(cpu.reg.c == 5);
    CHECK(cpu.reg.d == 200);
    CHECK(cpu.reg.e == 145);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 255);
    CHECK(cpu.reg.l == 11);
    CHECK(cpu.pc == 4455);
    CHECK(cpu.sp == 33468);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4454] == 2);
    REQUIRE(cpu.ram[41733] == 212);
}

TEST_CASE( "02 03CE", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8877;
    cpu.sp = 29176;
    cpu.reg.a = 173;
    cpu.reg.b = 191;
    cpu.reg.c = 68;
    cpu.reg.d = 170;
    cpu.reg.e = 191;
    cpu.reg.f = 80;
    cpu.reg.h = 130;
    cpu.reg.l = 216;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[8877] = 2;
    cpu.ram[48964] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 173);
    CHECK(cpu.reg.b == 191);
    CHECK(cpu.reg.c == 68);
    CHECK(cpu.reg.d == 170);
    CHECK(cpu.reg.e == 191);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 130);
    CHECK(cpu.reg.l == 216);
    CHECK(cpu.pc == 8878);
    CHECK(cpu.sp == 29176);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8877] == 2);
    REQUIRE(cpu.ram[48964] == 173);
}

TEST_CASE( "02 03CF", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43625;
    cpu.sp = 27373;
    cpu.reg.a = 125;
    cpu.reg.b = 8;
    cpu.reg.c = 93;
    cpu.reg.d = 65;
    cpu.reg.e = 118;
    cpu.reg.f = 16;
    cpu.reg.h = 153;
    cpu.reg.l = 159;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[2141] = 0;
    cpu.ram[43625] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 125);
    CHECK(cpu.reg.b == 8);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 65);
    CHECK(cpu.reg.e == 118);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 153);
    CHECK(cpu.reg.l == 159);
    CHECK(cpu.pc == 43626);
    CHECK(cpu.sp == 27373);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2141] == 125);
    REQUIRE(cpu.ram[43625] == 2);
}

TEST_CASE( "02 03D0", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47359;
    cpu.sp = 33720;
    cpu.reg.a = 241;
    cpu.reg.b = 246;
    cpu.reg.c = 47;
    cpu.reg.d = 6;
    cpu.reg.e = 222;
    cpu.reg.f = 128;
    cpu.reg.h = 110;
    cpu.reg.l = 160;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47359] = 2;
    cpu.ram[63023] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 241);
    CHECK(cpu.reg.b == 246);
    CHECK(cpu.reg.c == 47);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 222);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 110);
    CHECK(cpu.reg.l == 160);
    CHECK(cpu.pc == 47360);
    CHECK(cpu.sp == 33720);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47359] == 2);
    REQUIRE(cpu.ram[63023] == 241);
}

TEST_CASE( "02 03D1", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26126;
    cpu.sp = 34329;
    cpu.reg.a = 183;
    cpu.reg.b = 140;
    cpu.reg.c = 52;
    cpu.reg.d = 102;
    cpu.reg.e = 58;
    cpu.reg.f = 176;
    cpu.reg.h = 169;
    cpu.reg.l = 118;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26126] = 2;
    cpu.ram[35892] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 183);
    CHECK(cpu.reg.b == 140);
    CHECK(cpu.reg.c == 52);
    CHECK(cpu.reg.d == 102);
    CHECK(cpu.reg.e == 58);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 169);
    CHECK(cpu.reg.l == 118);
    CHECK(cpu.pc == 26127);
    CHECK(cpu.sp == 34329);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26126] == 2);
    REQUIRE(cpu.ram[35892] == 183);
}

TEST_CASE( "02 03D2", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3550;
    cpu.sp = 51781;
    cpu.reg.a = 209;
    cpu.reg.b = 231;
    cpu.reg.c = 138;
    cpu.reg.d = 44;
    cpu.reg.e = 88;
    cpu.reg.f = 208;
    cpu.reg.h = 250;
    cpu.reg.l = 197;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[3550] = 2;
    cpu.ram[59274] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 209);
    CHECK(cpu.reg.b == 231);
    CHECK(cpu.reg.c == 138);
    CHECK(cpu.reg.d == 44);
    CHECK(cpu.reg.e == 88);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 250);
    CHECK(cpu.reg.l == 197);
    CHECK(cpu.pc == 3551);
    CHECK(cpu.sp == 51781);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3550] == 2);
    REQUIRE(cpu.ram[59274] == 209);
}

TEST_CASE( "02 03D3", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47072;
    cpu.sp = 55926;
    cpu.reg.a = 11;
    cpu.reg.b = 102;
    cpu.reg.c = 78;
    cpu.reg.d = 255;
    cpu.reg.e = 193;
    cpu.reg.f = 192;
    cpu.reg.h = 147;
    cpu.reg.l = 180;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[26190] = 0;
    cpu.ram[47072] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 11);
    CHECK(cpu.reg.b == 102);
    CHECK(cpu.reg.c == 78);
    CHECK(cpu.reg.d == 255);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 147);
    CHECK(cpu.reg.l == 180);
    CHECK(cpu.pc == 47073);
    CHECK(cpu.sp == 55926);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26190] == 11);
    REQUIRE(cpu.ram[47072] == 2);
}

TEST_CASE( "02 03D4", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57110;
    cpu.sp = 8241;
    cpu.reg.a = 9;
    cpu.reg.b = 175;
    cpu.reg.c = 22;
    cpu.reg.d = 41;
    cpu.reg.e = 125;
    cpu.reg.f = 16;
    cpu.reg.h = 61;
    cpu.reg.l = 173;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[44822] = 0;
    cpu.ram[57110] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 9);
    CHECK(cpu.reg.b == 175);
    CHECK(cpu.reg.c == 22);
    CHECK(cpu.reg.d == 41);
    CHECK(cpu.reg.e == 125);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 61);
    CHECK(cpu.reg.l == 173);
    CHECK(cpu.pc == 57111);
    CHECK(cpu.sp == 8241);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44822] == 9);
    REQUIRE(cpu.ram[57110] == 2);
}

TEST_CASE( "02 03D5", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52857;
    cpu.sp = 34516;
    cpu.reg.a = 216;
    cpu.reg.b = 211;
    cpu.reg.c = 41;
    cpu.reg.d = 241;
    cpu.reg.e = 66;
    cpu.reg.f = 32;
    cpu.reg.h = 224;
    cpu.reg.l = 232;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[52857] = 2;
    cpu.ram[54057] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 211);
    CHECK(cpu.reg.c == 41);
    CHECK(cpu.reg.d == 241);
    CHECK(cpu.reg.e == 66);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 224);
    CHECK(cpu.reg.l == 232);
    CHECK(cpu.pc == 52858);
    CHECK(cpu.sp == 34516);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[52857] == 2);
    REQUIRE(cpu.ram[54057] == 216);
}

TEST_CASE( "02 03D6", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48264;
    cpu.sp = 6515;
    cpu.reg.a = 29;
    cpu.reg.b = 17;
    cpu.reg.c = 135;
    cpu.reg.d = 57;
    cpu.reg.e = 127;
    cpu.reg.f = 64;
    cpu.reg.h = 139;
    cpu.reg.l = 135;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[4487] = 0;
    cpu.ram[48264] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 29);
    CHECK(cpu.reg.b == 17);
    CHECK(cpu.reg.c == 135);
    CHECK(cpu.reg.d == 57);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 139);
    CHECK(cpu.reg.l == 135);
    CHECK(cpu.pc == 48265);
    CHECK(cpu.sp == 6515);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4487] == 29);
    REQUIRE(cpu.ram[48264] == 2);
}

TEST_CASE( "02 03D7", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8327;
    cpu.sp = 8809;
    cpu.reg.a = 187;
    cpu.reg.b = 91;
    cpu.reg.c = 170;
    cpu.reg.d = 92;
    cpu.reg.e = 13;
    cpu.reg.f = 64;
    cpu.reg.h = 188;
    cpu.reg.l = 253;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[8327] = 2;
    cpu.ram[23466] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 187);
    CHECK(cpu.reg.b == 91);
    CHECK(cpu.reg.c == 170);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 188);
    CHECK(cpu.reg.l == 253);
    CHECK(cpu.pc == 8328);
    CHECK(cpu.sp == 8809);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8327] == 2);
    REQUIRE(cpu.ram[23466] == 187);
}

TEST_CASE( "02 03D8", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45430;
    cpu.sp = 15460;
    cpu.reg.a = 158;
    cpu.reg.b = 197;
    cpu.reg.c = 148;
    cpu.reg.d = 69;
    cpu.reg.e = 40;
    cpu.reg.f = 128;
    cpu.reg.h = 146;
    cpu.reg.l = 222;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[45430] = 2;
    cpu.ram[50580] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 158);
    CHECK(cpu.reg.b == 197);
    CHECK(cpu.reg.c == 148);
    CHECK(cpu.reg.d == 69);
    CHECK(cpu.reg.e == 40);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 146);
    CHECK(cpu.reg.l == 222);
    CHECK(cpu.pc == 45431);
    CHECK(cpu.sp == 15460);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45430] == 2);
    REQUIRE(cpu.ram[50580] == 158);
}

TEST_CASE( "02 03D9", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39200;
    cpu.sp = 21212;
    cpu.reg.a = 244;
    cpu.reg.b = 40;
    cpu.reg.c = 13;
    cpu.reg.d = 201;
    cpu.reg.e = 211;
    cpu.reg.f = 16;
    cpu.reg.h = 0;
    cpu.reg.l = 57;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[10253] = 0;
    cpu.ram[39200] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 244);
    CHECK(cpu.reg.b == 40);
    CHECK(cpu.reg.c == 13);
    CHECK(cpu.reg.d == 201);
    CHECK(cpu.reg.e == 211);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 0);
    CHECK(cpu.reg.l == 57);
    CHECK(cpu.pc == 39201);
    CHECK(cpu.sp == 21212);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10253] == 244);
    REQUIRE(cpu.ram[39200] == 2);
}

TEST_CASE( "02 03DA", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56119;
    cpu.sp = 44290;
    cpu.reg.a = 206;
    cpu.reg.b = 127;
    cpu.reg.c = 143;
    cpu.reg.d = 226;
    cpu.reg.e = 94;
    cpu.reg.f = 48;
    cpu.reg.h = 107;
    cpu.reg.l = 74;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[32655] = 0;
    cpu.ram[56119] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 206);
    CHECK(cpu.reg.b == 127);
    CHECK(cpu.reg.c == 143);
    CHECK(cpu.reg.d == 226);
    CHECK(cpu.reg.e == 94);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 107);
    CHECK(cpu.reg.l == 74);
    CHECK(cpu.pc == 56120);
    CHECK(cpu.sp == 44290);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32655] == 206);
    REQUIRE(cpu.ram[56119] == 2);
}

TEST_CASE( "02 03DB", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30682;
    cpu.sp = 28788;
    cpu.reg.a = 210;
    cpu.reg.b = 229;
    cpu.reg.c = 179;
    cpu.reg.d = 94;
    cpu.reg.e = 171;
    cpu.reg.f = 160;
    cpu.reg.h = 129;
    cpu.reg.l = 139;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[30682] = 2;
    cpu.ram[58803] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 210);
    CHECK(cpu.reg.b == 229);
    CHECK(cpu.reg.c == 179);
    CHECK(cpu.reg.d == 94);
    CHECK(cpu.reg.e == 171);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 129);
    CHECK(cpu.reg.l == 139);
    CHECK(cpu.pc == 30683);
    CHECK(cpu.sp == 28788);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30682] == 2);
    REQUIRE(cpu.ram[58803] == 210);
}

TEST_CASE( "02 03DC", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43057;
    cpu.sp = 8809;
    cpu.reg.a = 162;
    cpu.reg.b = 253;
    cpu.reg.c = 86;
    cpu.reg.d = 61;
    cpu.reg.e = 75;
    cpu.reg.f = 0;
    cpu.reg.h = 29;
    cpu.reg.l = 32;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[43057] = 2;
    cpu.ram[64854] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 162);
    CHECK(cpu.reg.b == 253);
    CHECK(cpu.reg.c == 86);
    CHECK(cpu.reg.d == 61);
    CHECK(cpu.reg.e == 75);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 29);
    CHECK(cpu.reg.l == 32);
    CHECK(cpu.pc == 43058);
    CHECK(cpu.sp == 8809);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43057] == 2);
    REQUIRE(cpu.ram[64854] == 162);
}

TEST_CASE( "02 03DD", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2175;
    cpu.sp = 55196;
    cpu.reg.a = 3;
    cpu.reg.b = 145;
    cpu.reg.c = 139;
    cpu.reg.d = 19;
    cpu.reg.e = 50;
    cpu.reg.f = 192;
    cpu.reg.h = 222;
    cpu.reg.l = 122;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[2175] = 2;
    cpu.ram[37259] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 3);
    CHECK(cpu.reg.b == 145);
    CHECK(cpu.reg.c == 139);
    CHECK(cpu.reg.d == 19);
    CHECK(cpu.reg.e == 50);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 222);
    CHECK(cpu.reg.l == 122);
    CHECK(cpu.pc == 2176);
    CHECK(cpu.sp == 55196);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2175] == 2);
    REQUIRE(cpu.ram[37259] == 3);
}

TEST_CASE( "02 03DE", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54360;
    cpu.sp = 24250;
    cpu.reg.a = 252;
    cpu.reg.b = 175;
    cpu.reg.c = 135;
    cpu.reg.d = 102;
    cpu.reg.e = 230;
    cpu.reg.f = 160;
    cpu.reg.h = 69;
    cpu.reg.l = 231;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[44935] = 0;
    cpu.ram[54360] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 252);
    CHECK(cpu.reg.b == 175);
    CHECK(cpu.reg.c == 135);
    CHECK(cpu.reg.d == 102);
    CHECK(cpu.reg.e == 230);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 69);
    CHECK(cpu.reg.l == 231);
    CHECK(cpu.pc == 54361);
    CHECK(cpu.sp == 24250);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44935] == 252);
    REQUIRE(cpu.ram[54360] == 2);
}

TEST_CASE( "02 03DF", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59243;
    cpu.sp = 15907;
    cpu.reg.a = 225;
    cpu.reg.b = 206;
    cpu.reg.c = 163;
    cpu.reg.d = 158;
    cpu.reg.e = 157;
    cpu.reg.f = 208;
    cpu.reg.h = 107;
    cpu.reg.l = 146;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[52899] = 0;
    cpu.ram[59243] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 225);
    CHECK(cpu.reg.b == 206);
    CHECK(cpu.reg.c == 163);
    CHECK(cpu.reg.d == 158);
    CHECK(cpu.reg.e == 157);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 107);
    CHECK(cpu.reg.l == 146);
    CHECK(cpu.pc == 59244);
    CHECK(cpu.sp == 15907);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[52899] == 225);
    REQUIRE(cpu.ram[59243] == 2);
}

TEST_CASE( "02 03E0", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22636;
    cpu.sp = 54375;
    cpu.reg.a = 118;
    cpu.reg.b = 177;
    cpu.reg.c = 237;
    cpu.reg.d = 11;
    cpu.reg.e = 81;
    cpu.reg.f = 32;
    cpu.reg.h = 252;
    cpu.reg.l = 144;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[22636] = 2;
    cpu.ram[45549] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 118);
    CHECK(cpu.reg.b == 177);
    CHECK(cpu.reg.c == 237);
    CHECK(cpu.reg.d == 11);
    CHECK(cpu.reg.e == 81);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 252);
    CHECK(cpu.reg.l == 144);
    CHECK(cpu.pc == 22637);
    CHECK(cpu.sp == 54375);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22636] == 2);
    REQUIRE(cpu.ram[45549] == 118);
}

TEST_CASE( "02 03E1", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46424;
    cpu.sp = 6725;
    cpu.reg.a = 25;
    cpu.reg.b = 117;
    cpu.reg.c = 250;
    cpu.reg.d = 70;
    cpu.reg.e = 142;
    cpu.reg.f = 144;
    cpu.reg.h = 142;
    cpu.reg.l = 234;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[30202] = 0;
    cpu.ram[46424] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 25);
    CHECK(cpu.reg.b == 117);
    CHECK(cpu.reg.c == 250);
    CHECK(cpu.reg.d == 70);
    CHECK(cpu.reg.e == 142);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 142);
    CHECK(cpu.reg.l == 234);
    CHECK(cpu.pc == 46425);
    CHECK(cpu.sp == 6725);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30202] == 25);
    REQUIRE(cpu.ram[46424] == 2);
}

TEST_CASE( "02 03E2", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60593;
    cpu.sp = 2956;
    cpu.reg.a = 86;
    cpu.reg.b = 229;
    cpu.reg.c = 96;
    cpu.reg.d = 52;
    cpu.reg.e = 63;
    cpu.reg.f = 16;
    cpu.reg.h = 143;
    cpu.reg.l = 101;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[58720] = 0;
    cpu.ram[60593] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 86);
    CHECK(cpu.reg.b == 229);
    CHECK(cpu.reg.c == 96);
    CHECK(cpu.reg.d == 52);
    CHECK(cpu.reg.e == 63);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 143);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 60594);
    CHECK(cpu.sp == 2956);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58720] == 86);
    REQUIRE(cpu.ram[60593] == 2);
}

TEST_CASE( "02 03E3", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52067;
    cpu.sp = 29469;
    cpu.reg.a = 221;
    cpu.reg.b = 204;
    cpu.reg.c = 117;
    cpu.reg.d = 236;
    cpu.reg.e = 149;
    cpu.reg.f = 48;
    cpu.reg.h = 90;
    cpu.reg.l = 162;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[52067] = 2;
    cpu.ram[52341] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 221);
    CHECK(cpu.reg.b == 204);
    CHECK(cpu.reg.c == 117);
    CHECK(cpu.reg.d == 236);
    CHECK(cpu.reg.e == 149);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 90);
    CHECK(cpu.reg.l == 162);
    CHECK(cpu.pc == 52068);
    CHECK(cpu.sp == 29469);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[52067] == 2);
    REQUIRE(cpu.ram[52341] == 221);
}

TEST_CASE( "02 03E4", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24619;
    cpu.sp = 60089;
    cpu.reg.a = 12;
    cpu.reg.b = 251;
    cpu.reg.c = 168;
    cpu.reg.d = 199;
    cpu.reg.e = 28;
    cpu.reg.f = 80;
    cpu.reg.h = 214;
    cpu.reg.l = 81;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[24619] = 2;
    cpu.ram[64424] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 12);
    CHECK(cpu.reg.b == 251);
    CHECK(cpu.reg.c == 168);
    CHECK(cpu.reg.d == 199);
    CHECK(cpu.reg.e == 28);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 214);
    CHECK(cpu.reg.l == 81);
    CHECK(cpu.pc == 24620);
    CHECK(cpu.sp == 60089);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24619] == 2);
    REQUIRE(cpu.ram[64424] == 12);
}

TEST_CASE( "02 03E5", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32063;
    cpu.sp = 20397;
    cpu.reg.a = 183;
    cpu.reg.b = 189;
    cpu.reg.c = 43;
    cpu.reg.d = 201;
    cpu.reg.e = 152;
    cpu.reg.f = 64;
    cpu.reg.h = 61;
    cpu.reg.l = 152;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[32063] = 2;
    cpu.ram[48427] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 183);
    CHECK(cpu.reg.b == 189);
    CHECK(cpu.reg.c == 43);
    CHECK(cpu.reg.d == 201);
    CHECK(cpu.reg.e == 152);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 61);
    CHECK(cpu.reg.l == 152);
    CHECK(cpu.pc == 32064);
    CHECK(cpu.sp == 20397);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[32063] == 2);
    REQUIRE(cpu.ram[48427] == 183);
}

TEST_CASE( "02 03E6", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53164;
    cpu.sp = 49798;
    cpu.reg.a = 123;
    cpu.reg.b = 63;
    cpu.reg.c = 55;
    cpu.reg.d = 81;
    cpu.reg.e = 231;
    cpu.reg.f = 32;
    cpu.reg.h = 47;
    cpu.reg.l = 86;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[16183] = 0;
    cpu.ram[53164] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 123);
    CHECK(cpu.reg.b == 63);
    CHECK(cpu.reg.c == 55);
    CHECK(cpu.reg.d == 81);
    CHECK(cpu.reg.e == 231);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 47);
    CHECK(cpu.reg.l == 86);
    CHECK(cpu.pc == 53165);
    CHECK(cpu.sp == 49798);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16183] == 123);
    REQUIRE(cpu.ram[53164] == 2);
}

TEST_CASE( "02 03E7", "02" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3815;
    cpu.sp = 19461;
    cpu.reg.a = 59;
    cpu.reg.b = 219;
    cpu.reg.c = 75;
    cpu.reg.d = 17;
    cpu.reg.e = 91;
    cpu.reg.f = 48;
    cpu.reg.h = 162;
    cpu.reg.l = 93;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[3815] = 2;
    cpu.ram[56139] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 59);
    CHECK(cpu.reg.b == 219);
    CHECK(cpu.reg.c == 75);
    CHECK(cpu.reg.d == 17);
    CHECK(cpu.reg.e == 91);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 162);
    CHECK(cpu.reg.l == 93);
    CHECK(cpu.pc == 3816);
    CHECK(cpu.sp == 19461);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3815] == 2);
    REQUIRE(cpu.ram[56139] == 59);
}
