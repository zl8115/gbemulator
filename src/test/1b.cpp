// AutoGenerated using codegent_tests.py
// Based on https://github.com/SingleStepTests/sm83
// File: 1b.json
#include <catch2/catch_test_macros.hpp>
#include "Cpu.h"

TEST_CASE( "1B 0000", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22983;
    cpu.sp = 19517;
    cpu.reg.a = 58;
    cpu.reg.b = 137;
    cpu.reg.c = 125;
    cpu.reg.d = 21;
    cpu.reg.e = 46;
    cpu.reg.f = 144;
    cpu.reg.h = 245;
    cpu.reg.l = 154;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[22983] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 58);
    CHECK(cpu.reg.b == 137);
    CHECK(cpu.reg.c == 125);
    CHECK(cpu.reg.d == 21);
    CHECK(cpu.reg.e == 45);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 245);
    CHECK(cpu.reg.l == 154);
    CHECK(cpu.pc == 22984);
    CHECK(cpu.sp == 19517);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22983] == 27);
}

TEST_CASE( "1B 0001", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39610;
    cpu.sp = 23757;
    cpu.reg.a = 185;
    cpu.reg.b = 196;
    cpu.reg.c = 67;
    cpu.reg.d = 233;
    cpu.reg.e = 194;
    cpu.reg.f = 176;
    cpu.reg.h = 238;
    cpu.reg.l = 219;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[39610] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 185);
    CHECK(cpu.reg.b == 196);
    CHECK(cpu.reg.c == 67);
    CHECK(cpu.reg.d == 233);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 238);
    CHECK(cpu.reg.l == 219);
    CHECK(cpu.pc == 39611);
    CHECK(cpu.sp == 23757);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39610] == 27);
}

TEST_CASE( "1B 0002", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51686;
    cpu.sp = 29803;
    cpu.reg.a = 49;
    cpu.reg.b = 65;
    cpu.reg.c = 75;
    cpu.reg.d = 153;
    cpu.reg.e = 212;
    cpu.reg.f = 160;
    cpu.reg.h = 175;
    cpu.reg.l = 184;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[51686] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 49);
    CHECK(cpu.reg.b == 65);
    CHECK(cpu.reg.c == 75);
    CHECK(cpu.reg.d == 153);
    CHECK(cpu.reg.e == 211);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 175);
    CHECK(cpu.reg.l == 184);
    CHECK(cpu.pc == 51687);
    CHECK(cpu.sp == 29803);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[51686] == 27);
}

TEST_CASE( "1B 0003", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37762;
    cpu.sp = 17753;
    cpu.reg.a = 75;
    cpu.reg.b = 247;
    cpu.reg.c = 211;
    cpu.reg.d = 61;
    cpu.reg.e = 154;
    cpu.reg.f = 48;
    cpu.reg.h = 170;
    cpu.reg.l = 162;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[37762] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 75);
    CHECK(cpu.reg.b == 247);
    CHECK(cpu.reg.c == 211);
    CHECK(cpu.reg.d == 61);
    CHECK(cpu.reg.e == 153);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 170);
    CHECK(cpu.reg.l == 162);
    CHECK(cpu.pc == 37763);
    CHECK(cpu.sp == 17753);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[37762] == 27);
}

TEST_CASE( "1B 0004", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10552;
    cpu.sp = 56545;
    cpu.reg.a = 128;
    cpu.reg.b = 111;
    cpu.reg.c = 182;
    cpu.reg.d = 219;
    cpu.reg.e = 62;
    cpu.reg.f = 160;
    cpu.reg.h = 129;
    cpu.reg.l = 53;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[10552] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 128);
    CHECK(cpu.reg.b == 111);
    CHECK(cpu.reg.c == 182);
    CHECK(cpu.reg.d == 219);
    CHECK(cpu.reg.e == 61);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 129);
    CHECK(cpu.reg.l == 53);
    CHECK(cpu.pc == 10553);
    CHECK(cpu.sp == 56545);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10552] == 27);
}

TEST_CASE( "1B 0005", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13511;
    cpu.sp = 39307;
    cpu.reg.a = 174;
    cpu.reg.b = 142;
    cpu.reg.c = 85;
    cpu.reg.d = 78;
    cpu.reg.e = 178;
    cpu.reg.f = 64;
    cpu.reg.h = 124;
    cpu.reg.l = 184;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[13511] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 174);
    CHECK(cpu.reg.b == 142);
    CHECK(cpu.reg.c == 85);
    CHECK(cpu.reg.d == 78);
    CHECK(cpu.reg.e == 177);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 124);
    CHECK(cpu.reg.l == 184);
    CHECK(cpu.pc == 13512);
    CHECK(cpu.sp == 39307);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13511] == 27);
}

TEST_CASE( "1B 0006", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24842;
    cpu.sp = 29922;
    cpu.reg.a = 128;
    cpu.reg.b = 233;
    cpu.reg.c = 186;
    cpu.reg.d = 55;
    cpu.reg.e = 235;
    cpu.reg.f = 144;
    cpu.reg.h = 77;
    cpu.reg.l = 246;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[24842] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 128);
    CHECK(cpu.reg.b == 233);
    CHECK(cpu.reg.c == 186);
    CHECK(cpu.reg.d == 55);
    CHECK(cpu.reg.e == 234);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 77);
    CHECK(cpu.reg.l == 246);
    CHECK(cpu.pc == 24843);
    CHECK(cpu.sp == 29922);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24842] == 27);
}

TEST_CASE( "1B 0007", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44337;
    cpu.sp = 59657;
    cpu.reg.a = 28;
    cpu.reg.b = 201;
    cpu.reg.c = 4;
    cpu.reg.d = 227;
    cpu.reg.e = 25;
    cpu.reg.f = 0;
    cpu.reg.h = 238;
    cpu.reg.l = 157;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[44337] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 28);
    CHECK(cpu.reg.b == 201);
    CHECK(cpu.reg.c == 4);
    CHECK(cpu.reg.d == 227);
    CHECK(cpu.reg.e == 24);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 238);
    CHECK(cpu.reg.l == 157);
    CHECK(cpu.pc == 44338);
    CHECK(cpu.sp == 59657);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44337] == 27);
}

TEST_CASE( "1B 0008", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56172;
    cpu.sp = 60438;
    cpu.reg.a = 114;
    cpu.reg.b = 212;
    cpu.reg.c = 50;
    cpu.reg.d = 97;
    cpu.reg.e = 124;
    cpu.reg.f = 128;
    cpu.reg.h = 33;
    cpu.reg.l = 184;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[56172] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 114);
    CHECK(cpu.reg.b == 212);
    CHECK(cpu.reg.c == 50);
    CHECK(cpu.reg.d == 97);
    CHECK(cpu.reg.e == 123);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 33);
    CHECK(cpu.reg.l == 184);
    CHECK(cpu.pc == 56173);
    CHECK(cpu.sp == 60438);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56172] == 27);
}

TEST_CASE( "1B 0009", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2784;
    cpu.sp = 64561;
    cpu.reg.a = 224;
    cpu.reg.b = 52;
    cpu.reg.c = 101;
    cpu.reg.d = 11;
    cpu.reg.e = 224;
    cpu.reg.f = 32;
    cpu.reg.h = 204;
    cpu.reg.l = 41;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[2784] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 52);
    CHECK(cpu.reg.c == 101);
    CHECK(cpu.reg.d == 11);
    CHECK(cpu.reg.e == 223);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 204);
    CHECK(cpu.reg.l == 41);
    CHECK(cpu.pc == 2785);
    CHECK(cpu.sp == 64561);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2784] == 27);
}

TEST_CASE( "1B 000A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38986;
    cpu.sp = 47776;
    cpu.reg.a = 183;
    cpu.reg.b = 229;
    cpu.reg.c = 39;
    cpu.reg.d = 153;
    cpu.reg.e = 209;
    cpu.reg.f = 128;
    cpu.reg.h = 67;
    cpu.reg.l = 70;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[38986] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 183);
    CHECK(cpu.reg.b == 229);
    CHECK(cpu.reg.c == 39);
    CHECK(cpu.reg.d == 153);
    CHECK(cpu.reg.e == 208);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 67);
    CHECK(cpu.reg.l == 70);
    CHECK(cpu.pc == 38987);
    CHECK(cpu.sp == 47776);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38986] == 27);
}

TEST_CASE( "1B 000B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60807;
    cpu.sp = 25610;
    cpu.reg.a = 255;
    cpu.reg.b = 107;
    cpu.reg.c = 93;
    cpu.reg.d = 99;
    cpu.reg.e = 126;
    cpu.reg.f = 192;
    cpu.reg.h = 254;
    cpu.reg.l = 154;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[60807] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 255);
    CHECK(cpu.reg.b == 107);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 99);
    CHECK(cpu.reg.e == 125);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 254);
    CHECK(cpu.reg.l == 154);
    CHECK(cpu.pc == 60808);
    CHECK(cpu.sp == 25610);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[60807] == 27);
}

TEST_CASE( "1B 000C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28450;
    cpu.sp = 14496;
    cpu.reg.a = 231;
    cpu.reg.b = 89;
    cpu.reg.c = 55;
    cpu.reg.d = 51;
    cpu.reg.e = 126;
    cpu.reg.f = 176;
    cpu.reg.h = 134;
    cpu.reg.l = 8;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[28450] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 231);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 55);
    CHECK(cpu.reg.d == 51);
    CHECK(cpu.reg.e == 125);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 134);
    CHECK(cpu.reg.l == 8);
    CHECK(cpu.pc == 28451);
    CHECK(cpu.sp == 14496);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[28450] == 27);
}

TEST_CASE( "1B 000D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17024;
    cpu.sp = 50029;
    cpu.reg.a = 49;
    cpu.reg.b = 154;
    cpu.reg.c = 205;
    cpu.reg.d = 197;
    cpu.reg.e = 125;
    cpu.reg.f = 128;
    cpu.reg.h = 30;
    cpu.reg.l = 16;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[17024] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 49);
    CHECK(cpu.reg.b == 154);
    CHECK(cpu.reg.c == 205);
    CHECK(cpu.reg.d == 197);
    CHECK(cpu.reg.e == 124);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 30);
    CHECK(cpu.reg.l == 16);
    CHECK(cpu.pc == 17025);
    CHECK(cpu.sp == 50029);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17024] == 27);
}

TEST_CASE( "1B 000E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51824;
    cpu.sp = 21897;
    cpu.reg.a = 120;
    cpu.reg.b = 65;
    cpu.reg.c = 132;
    cpu.reg.d = 163;
    cpu.reg.e = 47;
    cpu.reg.f = 240;
    cpu.reg.h = 240;
    cpu.reg.l = 72;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[51824] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 120);
    CHECK(cpu.reg.b == 65);
    CHECK(cpu.reg.c == 132);
    CHECK(cpu.reg.d == 163);
    CHECK(cpu.reg.e == 46);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 240);
    CHECK(cpu.reg.l == 72);
    CHECK(cpu.pc == 51825);
    CHECK(cpu.sp == 21897);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51824] == 27);
}

TEST_CASE( "1B 000F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1535;
    cpu.sp = 46205;
    cpu.reg.a = 221;
    cpu.reg.b = 199;
    cpu.reg.c = 214;
    cpu.reg.d = 88;
    cpu.reg.e = 48;
    cpu.reg.f = 224;
    cpu.reg.h = 168;
    cpu.reg.l = 206;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[1535] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 221);
    CHECK(cpu.reg.b == 199);
    CHECK(cpu.reg.c == 214);
    CHECK(cpu.reg.d == 88);
    CHECK(cpu.reg.e == 47);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 168);
    CHECK(cpu.reg.l == 206);
    CHECK(cpu.pc == 1536);
    CHECK(cpu.sp == 46205);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1535] == 27);
}

TEST_CASE( "1B 0010", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38675;
    cpu.sp = 59776;
    cpu.reg.a = 209;
    cpu.reg.b = 169;
    cpu.reg.c = 16;
    cpu.reg.d = 168;
    cpu.reg.e = 46;
    cpu.reg.f = 32;
    cpu.reg.h = 114;
    cpu.reg.l = 50;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[38675] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 209);
    CHECK(cpu.reg.b == 169);
    CHECK(cpu.reg.c == 16);
    CHECK(cpu.reg.d == 168);
    CHECK(cpu.reg.e == 45);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 114);
    CHECK(cpu.reg.l == 50);
    CHECK(cpu.pc == 38676);
    CHECK(cpu.sp == 59776);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38675] == 27);
}

TEST_CASE( "1B 0011", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10793;
    cpu.sp = 64514;
    cpu.reg.a = 108;
    cpu.reg.b = 28;
    cpu.reg.c = 93;
    cpu.reg.d = 130;
    cpu.reg.e = 11;
    cpu.reg.f = 240;
    cpu.reg.h = 232;
    cpu.reg.l = 100;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[10793] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 108);
    CHECK(cpu.reg.b == 28);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 130);
    CHECK(cpu.reg.e == 10);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 232);
    CHECK(cpu.reg.l == 100);
    CHECK(cpu.pc == 10794);
    CHECK(cpu.sp == 64514);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10793] == 27);
}

TEST_CASE( "1B 0012", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61533;
    cpu.sp = 56419;
    cpu.reg.a = 194;
    cpu.reg.b = 3;
    cpu.reg.c = 37;
    cpu.reg.d = 249;
    cpu.reg.e = 49;
    cpu.reg.f = 64;
    cpu.reg.h = 195;
    cpu.reg.l = 209;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[61533] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 194);
    CHECK(cpu.reg.b == 3);
    CHECK(cpu.reg.c == 37);
    CHECK(cpu.reg.d == 249);
    CHECK(cpu.reg.e == 48);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 195);
    CHECK(cpu.reg.l == 209);
    CHECK(cpu.pc == 61534);
    CHECK(cpu.sp == 56419);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61533] == 27);
}

TEST_CASE( "1B 0013", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46252;
    cpu.sp = 32646;
    cpu.reg.a = 31;
    cpu.reg.b = 163;
    cpu.reg.c = 65;
    cpu.reg.d = 29;
    cpu.reg.e = 37;
    cpu.reg.f = 96;
    cpu.reg.h = 40;
    cpu.reg.l = 147;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[46252] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 31);
    CHECK(cpu.reg.b == 163);
    CHECK(cpu.reg.c == 65);
    CHECK(cpu.reg.d == 29);
    CHECK(cpu.reg.e == 36);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 40);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 46253);
    CHECK(cpu.sp == 32646);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[46252] == 27);
}

TEST_CASE( "1B 0014", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65456;
    cpu.sp = 34790;
    cpu.reg.a = 147;
    cpu.reg.b = 4;
    cpu.reg.c = 90;
    cpu.reg.d = 197;
    cpu.reg.e = 165;
    cpu.reg.f = 32;
    cpu.reg.h = 253;
    cpu.reg.l = 190;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[65456] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 147);
    CHECK(cpu.reg.b == 4);
    CHECK(cpu.reg.c == 90);
    CHECK(cpu.reg.d == 197);
    CHECK(cpu.reg.e == 164);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 253);
    CHECK(cpu.reg.l == 190);
    CHECK(cpu.pc == 65457);
    CHECK(cpu.sp == 34790);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[65456] == 27);
}

TEST_CASE( "1B 0015", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41697;
    cpu.sp = 14507;
    cpu.reg.a = 106;
    cpu.reg.b = 107;
    cpu.reg.c = 0;
    cpu.reg.d = 43;
    cpu.reg.e = 250;
    cpu.reg.f = 80;
    cpu.reg.h = 79;
    cpu.reg.l = 12;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[41697] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 106);
    CHECK(cpu.reg.b == 107);
    CHECK(cpu.reg.c == 0);
    CHECK(cpu.reg.d == 43);
    CHECK(cpu.reg.e == 249);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 79);
    CHECK(cpu.reg.l == 12);
    CHECK(cpu.pc == 41698);
    CHECK(cpu.sp == 14507);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41697] == 27);
}

TEST_CASE( "1B 0016", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10479;
    cpu.sp = 56433;
    cpu.reg.a = 213;
    cpu.reg.b = 53;
    cpu.reg.c = 34;
    cpu.reg.d = 71;
    cpu.reg.e = 254;
    cpu.reg.f = 64;
    cpu.reg.h = 166;
    cpu.reg.l = 206;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[10479] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 213);
    CHECK(cpu.reg.b == 53);
    CHECK(cpu.reg.c == 34);
    CHECK(cpu.reg.d == 71);
    CHECK(cpu.reg.e == 253);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 166);
    CHECK(cpu.reg.l == 206);
    CHECK(cpu.pc == 10480);
    CHECK(cpu.sp == 56433);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10479] == 27);
}

TEST_CASE( "1B 0017", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39271;
    cpu.sp = 53940;
    cpu.reg.a = 169;
    cpu.reg.b = 185;
    cpu.reg.c = 76;
    cpu.reg.d = 236;
    cpu.reg.e = 231;
    cpu.reg.f = 96;
    cpu.reg.h = 143;
    cpu.reg.l = 36;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[39271] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 169);
    CHECK(cpu.reg.b == 185);
    CHECK(cpu.reg.c == 76);
    CHECK(cpu.reg.d == 236);
    CHECK(cpu.reg.e == 230);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 143);
    CHECK(cpu.reg.l == 36);
    CHECK(cpu.pc == 39272);
    CHECK(cpu.sp == 53940);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39271] == 27);
}

TEST_CASE( "1B 0018", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27256;
    cpu.sp = 62997;
    cpu.reg.a = 158;
    cpu.reg.b = 174;
    cpu.reg.c = 252;
    cpu.reg.d = 80;
    cpu.reg.e = 223;
    cpu.reg.f = 48;
    cpu.reg.h = 240;
    cpu.reg.l = 215;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[27256] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 158);
    CHECK(cpu.reg.b == 174);
    CHECK(cpu.reg.c == 252);
    CHECK(cpu.reg.d == 80);
    CHECK(cpu.reg.e == 222);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 240);
    CHECK(cpu.reg.l == 215);
    CHECK(cpu.pc == 27257);
    CHECK(cpu.sp == 62997);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27256] == 27);
}

TEST_CASE( "1B 0019", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35101;
    cpu.sp = 53048;
    cpu.reg.a = 226;
    cpu.reg.b = 62;
    cpu.reg.c = 26;
    cpu.reg.d = 36;
    cpu.reg.e = 135;
    cpu.reg.f = 192;
    cpu.reg.h = 76;
    cpu.reg.l = 223;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[35101] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 226);
    CHECK(cpu.reg.b == 62);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 36);
    CHECK(cpu.reg.e == 134);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 76);
    CHECK(cpu.reg.l == 223);
    CHECK(cpu.pc == 35102);
    CHECK(cpu.sp == 53048);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35101] == 27);
}

TEST_CASE( "1B 001A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19848;
    cpu.sp = 60603;
    cpu.reg.a = 178;
    cpu.reg.b = 252;
    cpu.reg.c = 77;
    cpu.reg.d = 242;
    cpu.reg.e = 149;
    cpu.reg.f = 224;
    cpu.reg.h = 77;
    cpu.reg.l = 99;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[19848] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 178);
    CHECK(cpu.reg.b == 252);
    CHECK(cpu.reg.c == 77);
    CHECK(cpu.reg.d == 242);
    CHECK(cpu.reg.e == 148);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 77);
    CHECK(cpu.reg.l == 99);
    CHECK(cpu.pc == 19849);
    CHECK(cpu.sp == 60603);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19848] == 27);
}

TEST_CASE( "1B 001B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12046;
    cpu.sp = 30392;
    cpu.reg.a = 250;
    cpu.reg.b = 144;
    cpu.reg.c = 199;
    cpu.reg.d = 50;
    cpu.reg.e = 181;
    cpu.reg.f = 32;
    cpu.reg.h = 157;
    cpu.reg.l = 91;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[12046] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 250);
    CHECK(cpu.reg.b == 144);
    CHECK(cpu.reg.c == 199);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 180);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 157);
    CHECK(cpu.reg.l == 91);
    CHECK(cpu.pc == 12047);
    CHECK(cpu.sp == 30392);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12046] == 27);
}

TEST_CASE( "1B 001C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58492;
    cpu.sp = 31751;
    cpu.reg.a = 107;
    cpu.reg.b = 44;
    cpu.reg.c = 167;
    cpu.reg.d = 212;
    cpu.reg.e = 224;
    cpu.reg.f = 160;
    cpu.reg.h = 140;
    cpu.reg.l = 212;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[58492] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 107);
    CHECK(cpu.reg.b == 44);
    CHECK(cpu.reg.c == 167);
    CHECK(cpu.reg.d == 212);
    CHECK(cpu.reg.e == 223);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 140);
    CHECK(cpu.reg.l == 212);
    CHECK(cpu.pc == 58493);
    CHECK(cpu.sp == 31751);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58492] == 27);
}

TEST_CASE( "1B 001D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37;
    cpu.sp = 33784;
    cpu.reg.a = 191;
    cpu.reg.b = 33;
    cpu.reg.c = 79;
    cpu.reg.d = 254;
    cpu.reg.e = 64;
    cpu.reg.f = 48;
    cpu.reg.h = 111;
    cpu.reg.l = 27;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[37] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 191);
    CHECK(cpu.reg.b == 33);
    CHECK(cpu.reg.c == 79);
    CHECK(cpu.reg.d == 254);
    CHECK(cpu.reg.e == 63);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 111);
    CHECK(cpu.reg.l == 27);
    CHECK(cpu.pc == 38);
    CHECK(cpu.sp == 33784);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[37] == 27);
}

TEST_CASE( "1B 001E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15614;
    cpu.sp = 25797;
    cpu.reg.a = 196;
    cpu.reg.b = 80;
    cpu.reg.c = 107;
    cpu.reg.d = 197;
    cpu.reg.e = 165;
    cpu.reg.f = 176;
    cpu.reg.h = 105;
    cpu.reg.l = 211;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[15614] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 196);
    CHECK(cpu.reg.b == 80);
    CHECK(cpu.reg.c == 107);
    CHECK(cpu.reg.d == 197);
    CHECK(cpu.reg.e == 164);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 105);
    CHECK(cpu.reg.l == 211);
    CHECK(cpu.pc == 15615);
    CHECK(cpu.sp == 25797);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15614] == 27);
}

TEST_CASE( "1B 001F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7723;
    cpu.sp = 5608;
    cpu.reg.a = 185;
    cpu.reg.b = 89;
    cpu.reg.c = 42;
    cpu.reg.d = 24;
    cpu.reg.e = 31;
    cpu.reg.f = 160;
    cpu.reg.h = 184;
    cpu.reg.l = 160;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[7723] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 185);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 42);
    CHECK(cpu.reg.d == 24);
    CHECK(cpu.reg.e == 30);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 184);
    CHECK(cpu.reg.l == 160);
    CHECK(cpu.pc == 7724);
    CHECK(cpu.sp == 5608);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7723] == 27);
}

TEST_CASE( "1B 0020", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51855;
    cpu.sp = 48253;
    cpu.reg.a = 50;
    cpu.reg.b = 85;
    cpu.reg.c = 155;
    cpu.reg.d = 213;
    cpu.reg.e = 235;
    cpu.reg.f = 96;
    cpu.reg.h = 105;
    cpu.reg.l = 118;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[51855] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 50);
    CHECK(cpu.reg.b == 85);
    CHECK(cpu.reg.c == 155);
    CHECK(cpu.reg.d == 213);
    CHECK(cpu.reg.e == 234);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 105);
    CHECK(cpu.reg.l == 118);
    CHECK(cpu.pc == 51856);
    CHECK(cpu.sp == 48253);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51855] == 27);
}

TEST_CASE( "1B 0021", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15952;
    cpu.sp = 41775;
    cpu.reg.a = 95;
    cpu.reg.b = 4;
    cpu.reg.c = 79;
    cpu.reg.d = 219;
    cpu.reg.e = 129;
    cpu.reg.f = 192;
    cpu.reg.h = 98;
    cpu.reg.l = 14;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[15952] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 95);
    CHECK(cpu.reg.b == 4);
    CHECK(cpu.reg.c == 79);
    CHECK(cpu.reg.d == 219);
    CHECK(cpu.reg.e == 128);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 98);
    CHECK(cpu.reg.l == 14);
    CHECK(cpu.pc == 15953);
    CHECK(cpu.sp == 41775);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15952] == 27);
}

TEST_CASE( "1B 0022", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30404;
    cpu.sp = 35949;
    cpu.reg.a = 15;
    cpu.reg.b = 26;
    cpu.reg.c = 157;
    cpu.reg.d = 238;
    cpu.reg.e = 32;
    cpu.reg.f = 80;
    cpu.reg.h = 234;
    cpu.reg.l = 2;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[30404] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 15);
    CHECK(cpu.reg.b == 26);
    CHECK(cpu.reg.c == 157);
    CHECK(cpu.reg.d == 238);
    CHECK(cpu.reg.e == 31);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 234);
    CHECK(cpu.reg.l == 2);
    CHECK(cpu.pc == 30405);
    CHECK(cpu.sp == 35949);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30404] == 27);
}

TEST_CASE( "1B 0023", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41917;
    cpu.sp = 25188;
    cpu.reg.a = 144;
    cpu.reg.b = 50;
    cpu.reg.c = 209;
    cpu.reg.d = 252;
    cpu.reg.e = 99;
    cpu.reg.f = 160;
    cpu.reg.h = 105;
    cpu.reg.l = 3;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[41917] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 144);
    CHECK(cpu.reg.b == 50);
    CHECK(cpu.reg.c == 209);
    CHECK(cpu.reg.d == 252);
    CHECK(cpu.reg.e == 98);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 105);
    CHECK(cpu.reg.l == 3);
    CHECK(cpu.pc == 41918);
    CHECK(cpu.sp == 25188);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41917] == 27);
}

TEST_CASE( "1B 0024", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32838;
    cpu.sp = 31563;
    cpu.reg.a = 135;
    cpu.reg.b = 151;
    cpu.reg.c = 207;
    cpu.reg.d = 58;
    cpu.reg.e = 106;
    cpu.reg.f = 16;
    cpu.reg.h = 27;
    cpu.reg.l = 174;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[32838] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 135);
    CHECK(cpu.reg.b == 151);
    CHECK(cpu.reg.c == 207);
    CHECK(cpu.reg.d == 58);
    CHECK(cpu.reg.e == 105);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 27);
    CHECK(cpu.reg.l == 174);
    CHECK(cpu.pc == 32839);
    CHECK(cpu.sp == 31563);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[32838] == 27);
}

TEST_CASE( "1B 0025", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62010;
    cpu.sp = 9114;
    cpu.reg.a = 183;
    cpu.reg.b = 227;
    cpu.reg.c = 71;
    cpu.reg.d = 140;
    cpu.reg.e = 236;
    cpu.reg.f = 128;
    cpu.reg.h = 39;
    cpu.reg.l = 134;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[62010] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 183);
    CHECK(cpu.reg.b == 227);
    CHECK(cpu.reg.c == 71);
    CHECK(cpu.reg.d == 140);
    CHECK(cpu.reg.e == 235);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 39);
    CHECK(cpu.reg.l == 134);
    CHECK(cpu.pc == 62011);
    CHECK(cpu.sp == 9114);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62010] == 27);
}

TEST_CASE( "1B 0026", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59950;
    cpu.sp = 14823;
    cpu.reg.a = 119;
    cpu.reg.b = 91;
    cpu.reg.c = 57;
    cpu.reg.d = 87;
    cpu.reg.e = 30;
    cpu.reg.f = 32;
    cpu.reg.h = 6;
    cpu.reg.l = 212;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[59950] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 119);
    CHECK(cpu.reg.b == 91);
    CHECK(cpu.reg.c == 57);
    CHECK(cpu.reg.d == 87);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 6);
    CHECK(cpu.reg.l == 212);
    CHECK(cpu.pc == 59951);
    CHECK(cpu.sp == 14823);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[59950] == 27);
}

TEST_CASE( "1B 0027", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48060;
    cpu.sp = 26135;
    cpu.reg.a = 190;
    cpu.reg.b = 107;
    cpu.reg.c = 66;
    cpu.reg.d = 152;
    cpu.reg.e = 158;
    cpu.reg.f = 32;
    cpu.reg.h = 145;
    cpu.reg.l = 247;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[48060] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 190);
    CHECK(cpu.reg.b == 107);
    CHECK(cpu.reg.c == 66);
    CHECK(cpu.reg.d == 152);
    CHECK(cpu.reg.e == 157);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 145);
    CHECK(cpu.reg.l == 247);
    CHECK(cpu.pc == 48061);
    CHECK(cpu.sp == 26135);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48060] == 27);
}

TEST_CASE( "1B 0028", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42586;
    cpu.sp = 5114;
    cpu.reg.a = 44;
    cpu.reg.b = 27;
    cpu.reg.c = 215;
    cpu.reg.d = 37;
    cpu.reg.e = 117;
    cpu.reg.f = 16;
    cpu.reg.h = 244;
    cpu.reg.l = 188;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[42586] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 44);
    CHECK(cpu.reg.b == 27);
    CHECK(cpu.reg.c == 215);
    CHECK(cpu.reg.d == 37);
    CHECK(cpu.reg.e == 116);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 244);
    CHECK(cpu.reg.l == 188);
    CHECK(cpu.pc == 42587);
    CHECK(cpu.sp == 5114);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[42586] == 27);
}

TEST_CASE( "1B 0029", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16018;
    cpu.sp = 60904;
    cpu.reg.a = 219;
    cpu.reg.b = 117;
    cpu.reg.c = 138;
    cpu.reg.d = 174;
    cpu.reg.e = 209;
    cpu.reg.f = 112;
    cpu.reg.h = 104;
    cpu.reg.l = 21;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[16018] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 219);
    CHECK(cpu.reg.b == 117);
    CHECK(cpu.reg.c == 138);
    CHECK(cpu.reg.d == 174);
    CHECK(cpu.reg.e == 208);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 104);
    CHECK(cpu.reg.l == 21);
    CHECK(cpu.pc == 16019);
    CHECK(cpu.sp == 60904);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16018] == 27);
}

TEST_CASE( "1B 002A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5960;
    cpu.sp = 53685;
    cpu.reg.a = 86;
    cpu.reg.b = 131;
    cpu.reg.c = 13;
    cpu.reg.d = 54;
    cpu.reg.e = 218;
    cpu.reg.f = 64;
    cpu.reg.h = 255;
    cpu.reg.l = 180;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5960] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 86);
    CHECK(cpu.reg.b == 131);
    CHECK(cpu.reg.c == 13);
    CHECK(cpu.reg.d == 54);
    CHECK(cpu.reg.e == 217);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 255);
    CHECK(cpu.reg.l == 180);
    CHECK(cpu.pc == 5961);
    CHECK(cpu.sp == 53685);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5960] == 27);
}

TEST_CASE( "1B 002B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25407;
    cpu.sp = 57592;
    cpu.reg.a = 206;
    cpu.reg.b = 215;
    cpu.reg.c = 92;
    cpu.reg.d = 47;
    cpu.reg.e = 60;
    cpu.reg.f = 160;
    cpu.reg.h = 213;
    cpu.reg.l = 100;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[25407] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 206);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 92);
    CHECK(cpu.reg.d == 47);
    CHECK(cpu.reg.e == 59);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 213);
    CHECK(cpu.reg.l == 100);
    CHECK(cpu.pc == 25408);
    CHECK(cpu.sp == 57592);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25407] == 27);
}

TEST_CASE( "1B 002C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29921;
    cpu.sp = 50743;
    cpu.reg.a = 48;
    cpu.reg.b = 195;
    cpu.reg.c = 79;
    cpu.reg.d = 210;
    cpu.reg.e = 178;
    cpu.reg.f = 160;
    cpu.reg.h = 22;
    cpu.reg.l = 142;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[29921] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 48);
    CHECK(cpu.reg.b == 195);
    CHECK(cpu.reg.c == 79);
    CHECK(cpu.reg.d == 210);
    CHECK(cpu.reg.e == 177);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 22);
    CHECK(cpu.reg.l == 142);
    CHECK(cpu.pc == 29922);
    CHECK(cpu.sp == 50743);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29921] == 27);
}

TEST_CASE( "1B 002D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58508;
    cpu.sp = 35418;
    cpu.reg.a = 176;
    cpu.reg.b = 195;
    cpu.reg.c = 195;
    cpu.reg.d = 119;
    cpu.reg.e = 105;
    cpu.reg.f = 128;
    cpu.reg.h = 233;
    cpu.reg.l = 233;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[58508] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 176);
    CHECK(cpu.reg.b == 195);
    CHECK(cpu.reg.c == 195);
    CHECK(cpu.reg.d == 119);
    CHECK(cpu.reg.e == 104);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 233);
    CHECK(cpu.reg.l == 233);
    CHECK(cpu.pc == 58509);
    CHECK(cpu.sp == 35418);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[58508] == 27);
}

TEST_CASE( "1B 002E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6789;
    cpu.sp = 22796;
    cpu.reg.a = 52;
    cpu.reg.b = 83;
    cpu.reg.c = 190;
    cpu.reg.d = 190;
    cpu.reg.e = 238;
    cpu.reg.f = 96;
    cpu.reg.h = 204;
    cpu.reg.l = 220;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[6789] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 52);
    CHECK(cpu.reg.b == 83);
    CHECK(cpu.reg.c == 190);
    CHECK(cpu.reg.d == 190);
    CHECK(cpu.reg.e == 237);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 204);
    CHECK(cpu.reg.l == 220);
    CHECK(cpu.pc == 6790);
    CHECK(cpu.sp == 22796);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6789] == 27);
}

TEST_CASE( "1B 002F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60332;
    cpu.sp = 63530;
    cpu.reg.a = 100;
    cpu.reg.b = 250;
    cpu.reg.c = 41;
    cpu.reg.d = 59;
    cpu.reg.e = 144;
    cpu.reg.f = 192;
    cpu.reg.h = 212;
    cpu.reg.l = 21;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[60332] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 100);
    CHECK(cpu.reg.b == 250);
    CHECK(cpu.reg.c == 41);
    CHECK(cpu.reg.d == 59);
    CHECK(cpu.reg.e == 143);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 212);
    CHECK(cpu.reg.l == 21);
    CHECK(cpu.pc == 60333);
    CHECK(cpu.sp == 63530);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60332] == 27);
}

TEST_CASE( "1B 0030", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5453;
    cpu.sp = 56256;
    cpu.reg.a = 113;
    cpu.reg.b = 83;
    cpu.reg.c = 199;
    cpu.reg.d = 204;
    cpu.reg.e = 15;
    cpu.reg.f = 128;
    cpu.reg.h = 136;
    cpu.reg.l = 177;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5453] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 113);
    CHECK(cpu.reg.b == 83);
    CHECK(cpu.reg.c == 199);
    CHECK(cpu.reg.d == 204);
    CHECK(cpu.reg.e == 14);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 136);
    CHECK(cpu.reg.l == 177);
    CHECK(cpu.pc == 5454);
    CHECK(cpu.sp == 56256);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5453] == 27);
}

TEST_CASE( "1B 0031", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4635;
    cpu.sp = 38293;
    cpu.reg.a = 21;
    cpu.reg.b = 252;
    cpu.reg.c = 243;
    cpu.reg.d = 65;
    cpu.reg.e = 144;
    cpu.reg.f = 128;
    cpu.reg.h = 2;
    cpu.reg.l = 225;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4635] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 21);
    CHECK(cpu.reg.b == 252);
    CHECK(cpu.reg.c == 243);
    CHECK(cpu.reg.d == 65);
    CHECK(cpu.reg.e == 143);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 2);
    CHECK(cpu.reg.l == 225);
    CHECK(cpu.pc == 4636);
    CHECK(cpu.sp == 38293);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4635] == 27);
}

TEST_CASE( "1B 0032", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15863;
    cpu.sp = 38792;
    cpu.reg.a = 161;
    cpu.reg.b = 228;
    cpu.reg.c = 82;
    cpu.reg.d = 43;
    cpu.reg.e = 163;
    cpu.reg.f = 16;
    cpu.reg.h = 159;
    cpu.reg.l = 22;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[15863] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 161);
    CHECK(cpu.reg.b == 228);
    CHECK(cpu.reg.c == 82);
    CHECK(cpu.reg.d == 43);
    CHECK(cpu.reg.e == 162);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 159);
    CHECK(cpu.reg.l == 22);
    CHECK(cpu.pc == 15864);
    CHECK(cpu.sp == 38792);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15863] == 27);
}

TEST_CASE( "1B 0033", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4789;
    cpu.sp = 1294;
    cpu.reg.a = 235;
    cpu.reg.b = 150;
    cpu.reg.c = 26;
    cpu.reg.d = 223;
    cpu.reg.e = 169;
    cpu.reg.f = 192;
    cpu.reg.h = 15;
    cpu.reg.l = 21;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[4789] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 235);
    CHECK(cpu.reg.b == 150);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 223);
    CHECK(cpu.reg.e == 168);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 15);
    CHECK(cpu.reg.l == 21);
    CHECK(cpu.pc == 4790);
    CHECK(cpu.sp == 1294);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4789] == 27);
}

TEST_CASE( "1B 0034", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30833;
    cpu.sp = 26730;
    cpu.reg.a = 38;
    cpu.reg.b = 198;
    cpu.reg.c = 244;
    cpu.reg.d = 131;
    cpu.reg.e = 122;
    cpu.reg.f = 96;
    cpu.reg.h = 106;
    cpu.reg.l = 133;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[30833] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 38);
    CHECK(cpu.reg.b == 198);
    CHECK(cpu.reg.c == 244);
    CHECK(cpu.reg.d == 131);
    CHECK(cpu.reg.e == 121);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 106);
    CHECK(cpu.reg.l == 133);
    CHECK(cpu.pc == 30834);
    CHECK(cpu.sp == 26730);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30833] == 27);
}

TEST_CASE( "1B 0035", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13951;
    cpu.sp = 10823;
    cpu.reg.a = 183;
    cpu.reg.b = 52;
    cpu.reg.c = 16;
    cpu.reg.d = 69;
    cpu.reg.e = 83;
    cpu.reg.f = 64;
    cpu.reg.h = 80;
    cpu.reg.l = 171;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[13951] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 183);
    CHECK(cpu.reg.b == 52);
    CHECK(cpu.reg.c == 16);
    CHECK(cpu.reg.d == 69);
    CHECK(cpu.reg.e == 82);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 80);
    CHECK(cpu.reg.l == 171);
    CHECK(cpu.pc == 13952);
    CHECK(cpu.sp == 10823);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13951] == 27);
}

TEST_CASE( "1B 0036", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39165;
    cpu.sp = 19956;
    cpu.reg.a = 117;
    cpu.reg.b = 222;
    cpu.reg.c = 98;
    cpu.reg.d = 121;
    cpu.reg.e = 245;
    cpu.reg.f = 0;
    cpu.reg.h = 232;
    cpu.reg.l = 55;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[39165] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 117);
    CHECK(cpu.reg.b == 222);
    CHECK(cpu.reg.c == 98);
    CHECK(cpu.reg.d == 121);
    CHECK(cpu.reg.e == 244);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 232);
    CHECK(cpu.reg.l == 55);
    CHECK(cpu.pc == 39166);
    CHECK(cpu.sp == 19956);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39165] == 27);
}

TEST_CASE( "1B 0037", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38529;
    cpu.sp = 33107;
    cpu.reg.a = 58;
    cpu.reg.b = 147;
    cpu.reg.c = 202;
    cpu.reg.d = 139;
    cpu.reg.e = 81;
    cpu.reg.f = 240;
    cpu.reg.h = 30;
    cpu.reg.l = 244;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[38529] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 58);
    CHECK(cpu.reg.b == 147);
    CHECK(cpu.reg.c == 202);
    CHECK(cpu.reg.d == 139);
    CHECK(cpu.reg.e == 80);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 30);
    CHECK(cpu.reg.l == 244);
    CHECK(cpu.pc == 38530);
    CHECK(cpu.sp == 33107);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38529] == 27);
}

TEST_CASE( "1B 0038", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26019;
    cpu.sp = 44938;
    cpu.reg.a = 28;
    cpu.reg.b = 107;
    cpu.reg.c = 174;
    cpu.reg.d = 154;
    cpu.reg.e = 201;
    cpu.reg.f = 16;
    cpu.reg.h = 17;
    cpu.reg.l = 89;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26019] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 28);
    CHECK(cpu.reg.b == 107);
    CHECK(cpu.reg.c == 174);
    CHECK(cpu.reg.d == 154);
    CHECK(cpu.reg.e == 200);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 89);
    CHECK(cpu.pc == 26020);
    CHECK(cpu.sp == 44938);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26019] == 27);
}

TEST_CASE( "1B 0039", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8337;
    cpu.sp = 21817;
    cpu.reg.a = 86;
    cpu.reg.b = 60;
    cpu.reg.c = 240;
    cpu.reg.d = 87;
    cpu.reg.e = 219;
    cpu.reg.f = 0;
    cpu.reg.h = 130;
    cpu.reg.l = 100;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[8337] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 86);
    CHECK(cpu.reg.b == 60);
    CHECK(cpu.reg.c == 240);
    CHECK(cpu.reg.d == 87);
    CHECK(cpu.reg.e == 218);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 130);
    CHECK(cpu.reg.l == 100);
    CHECK(cpu.pc == 8338);
    CHECK(cpu.sp == 21817);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8337] == 27);
}

TEST_CASE( "1B 003A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63293;
    cpu.sp = 44766;
    cpu.reg.a = 199;
    cpu.reg.b = 156;
    cpu.reg.c = 156;
    cpu.reg.d = 68;
    cpu.reg.e = 208;
    cpu.reg.f = 192;
    cpu.reg.h = 154;
    cpu.reg.l = 50;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[63293] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 199);
    CHECK(cpu.reg.b == 156);
    CHECK(cpu.reg.c == 156);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 207);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 154);
    CHECK(cpu.reg.l == 50);
    CHECK(cpu.pc == 63294);
    CHECK(cpu.sp == 44766);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[63293] == 27);
}

TEST_CASE( "1B 003B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41749;
    cpu.sp = 47798;
    cpu.reg.a = 189;
    cpu.reg.b = 56;
    cpu.reg.c = 35;
    cpu.reg.d = 19;
    cpu.reg.e = 111;
    cpu.reg.f = 96;
    cpu.reg.h = 116;
    cpu.reg.l = 176;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[41749] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 189);
    CHECK(cpu.reg.b == 56);
    CHECK(cpu.reg.c == 35);
    CHECK(cpu.reg.d == 19);
    CHECK(cpu.reg.e == 110);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 116);
    CHECK(cpu.reg.l == 176);
    CHECK(cpu.pc == 41750);
    CHECK(cpu.sp == 47798);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41749] == 27);
}

TEST_CASE( "1B 003C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1765;
    cpu.sp = 60635;
    cpu.reg.a = 45;
    cpu.reg.b = 120;
    cpu.reg.c = 43;
    cpu.reg.d = 96;
    cpu.reg.e = 206;
    cpu.reg.f = 128;
    cpu.reg.h = 136;
    cpu.reg.l = 189;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1765] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 45);
    CHECK(cpu.reg.b == 120);
    CHECK(cpu.reg.c == 43);
    CHECK(cpu.reg.d == 96);
    CHECK(cpu.reg.e == 205);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 136);
    CHECK(cpu.reg.l == 189);
    CHECK(cpu.pc == 1766);
    CHECK(cpu.sp == 60635);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1765] == 27);
}

TEST_CASE( "1B 003D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41565;
    cpu.sp = 64562;
    cpu.reg.a = 126;
    cpu.reg.b = 240;
    cpu.reg.c = 218;
    cpu.reg.d = 69;
    cpu.reg.e = 49;
    cpu.reg.f = 224;
    cpu.reg.h = 241;
    cpu.reg.l = 110;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[41565] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 126);
    CHECK(cpu.reg.b == 240);
    CHECK(cpu.reg.c == 218);
    CHECK(cpu.reg.d == 69);
    CHECK(cpu.reg.e == 48);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 110);
    CHECK(cpu.pc == 41566);
    CHECK(cpu.sp == 64562);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[41565] == 27);
}

TEST_CASE( "1B 003E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8125;
    cpu.sp = 61291;
    cpu.reg.a = 42;
    cpu.reg.b = 17;
    cpu.reg.c = 110;
    cpu.reg.d = 130;
    cpu.reg.e = 81;
    cpu.reg.f = 128;
    cpu.reg.h = 55;
    cpu.reg.l = 223;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[8125] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 42);
    CHECK(cpu.reg.b == 17);
    CHECK(cpu.reg.c == 110);
    CHECK(cpu.reg.d == 130);
    CHECK(cpu.reg.e == 80);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 55);
    CHECK(cpu.reg.l == 223);
    CHECK(cpu.pc == 8126);
    CHECK(cpu.sp == 61291);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8125] == 27);
}

TEST_CASE( "1B 003F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29453;
    cpu.sp = 56578;
    cpu.reg.a = 159;
    cpu.reg.b = 86;
    cpu.reg.c = 210;
    cpu.reg.d = 214;
    cpu.reg.e = 93;
    cpu.reg.f = 128;
    cpu.reg.h = 125;
    cpu.reg.l = 243;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[29453] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 159);
    CHECK(cpu.reg.b == 86);
    CHECK(cpu.reg.c == 210);
    CHECK(cpu.reg.d == 214);
    CHECK(cpu.reg.e == 92);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 125);
    CHECK(cpu.reg.l == 243);
    CHECK(cpu.pc == 29454);
    CHECK(cpu.sp == 56578);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29453] == 27);
}

TEST_CASE( "1B 0040", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 157;
    cpu.sp = 47106;
    cpu.reg.a = 196;
    cpu.reg.b = 135;
    cpu.reg.c = 101;
    cpu.reg.d = 62;
    cpu.reg.e = 234;
    cpu.reg.f = 96;
    cpu.reg.h = 67;
    cpu.reg.l = 235;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[157] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 196);
    CHECK(cpu.reg.b == 135);
    CHECK(cpu.reg.c == 101);
    CHECK(cpu.reg.d == 62);
    CHECK(cpu.reg.e == 233);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 67);
    CHECK(cpu.reg.l == 235);
    CHECK(cpu.pc == 158);
    CHECK(cpu.sp == 47106);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[157] == 27);
}

TEST_CASE( "1B 0041", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17585;
    cpu.sp = 5736;
    cpu.reg.a = 171;
    cpu.reg.b = 238;
    cpu.reg.c = 27;
    cpu.reg.d = 96;
    cpu.reg.e = 160;
    cpu.reg.f = 224;
    cpu.reg.h = 119;
    cpu.reg.l = 11;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[17585] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 171);
    CHECK(cpu.reg.b == 238);
    CHECK(cpu.reg.c == 27);
    CHECK(cpu.reg.d == 96);
    CHECK(cpu.reg.e == 159);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 119);
    CHECK(cpu.reg.l == 11);
    CHECK(cpu.pc == 17586);
    CHECK(cpu.sp == 5736);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17585] == 27);
}

TEST_CASE( "1B 0042", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16678;
    cpu.sp = 49871;
    cpu.reg.a = 119;
    cpu.reg.b = 238;
    cpu.reg.c = 230;
    cpu.reg.d = 194;
    cpu.reg.e = 122;
    cpu.reg.f = 112;
    cpu.reg.h = 188;
    cpu.reg.l = 33;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[16678] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 119);
    CHECK(cpu.reg.b == 238);
    CHECK(cpu.reg.c == 230);
    CHECK(cpu.reg.d == 194);
    CHECK(cpu.reg.e == 121);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 188);
    CHECK(cpu.reg.l == 33);
    CHECK(cpu.pc == 16679);
    CHECK(cpu.sp == 49871);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16678] == 27);
}

TEST_CASE( "1B 0043", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5390;
    cpu.sp = 57641;
    cpu.reg.a = 248;
    cpu.reg.b = 191;
    cpu.reg.c = 238;
    cpu.reg.d = 87;
    cpu.reg.e = 202;
    cpu.reg.f = 208;
    cpu.reg.h = 246;
    cpu.reg.l = 85;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[5390] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 248);
    CHECK(cpu.reg.b == 191);
    CHECK(cpu.reg.c == 238);
    CHECK(cpu.reg.d == 87);
    CHECK(cpu.reg.e == 201);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 246);
    CHECK(cpu.reg.l == 85);
    CHECK(cpu.pc == 5391);
    CHECK(cpu.sp == 57641);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5390] == 27);
}

TEST_CASE( "1B 0044", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53026;
    cpu.sp = 31349;
    cpu.reg.a = 158;
    cpu.reg.b = 216;
    cpu.reg.c = 208;
    cpu.reg.d = 4;
    cpu.reg.e = 192;
    cpu.reg.f = 208;
    cpu.reg.h = 8;
    cpu.reg.l = 167;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[53026] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 158);
    CHECK(cpu.reg.b == 216);
    CHECK(cpu.reg.c == 208);
    CHECK(cpu.reg.d == 4);
    CHECK(cpu.reg.e == 191);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 8);
    CHECK(cpu.reg.l == 167);
    CHECK(cpu.pc == 53027);
    CHECK(cpu.sp == 31349);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[53026] == 27);
}

TEST_CASE( "1B 0045", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39043;
    cpu.sp = 4414;
    cpu.reg.a = 195;
    cpu.reg.b = 58;
    cpu.reg.c = 242;
    cpu.reg.d = 132;
    cpu.reg.e = 217;
    cpu.reg.f = 224;
    cpu.reg.h = 213;
    cpu.reg.l = 221;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[39043] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 195);
    CHECK(cpu.reg.b == 58);
    CHECK(cpu.reg.c == 242);
    CHECK(cpu.reg.d == 132);
    CHECK(cpu.reg.e == 216);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 213);
    CHECK(cpu.reg.l == 221);
    CHECK(cpu.pc == 39044);
    CHECK(cpu.sp == 4414);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39043] == 27);
}

TEST_CASE( "1B 0046", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22811;
    cpu.sp = 8197;
    cpu.reg.a = 4;
    cpu.reg.b = 179;
    cpu.reg.c = 245;
    cpu.reg.d = 14;
    cpu.reg.e = 118;
    cpu.reg.f = 0;
    cpu.reg.h = 246;
    cpu.reg.l = 7;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[22811] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 4);
    CHECK(cpu.reg.b == 179);
    CHECK(cpu.reg.c == 245);
    CHECK(cpu.reg.d == 14);
    CHECK(cpu.reg.e == 117);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 246);
    CHECK(cpu.reg.l == 7);
    CHECK(cpu.pc == 22812);
    CHECK(cpu.sp == 8197);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22811] == 27);
}

TEST_CASE( "1B 0047", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22537;
    cpu.sp = 23287;
    cpu.reg.a = 246;
    cpu.reg.b = 181;
    cpu.reg.c = 104;
    cpu.reg.d = 155;
    cpu.reg.e = 210;
    cpu.reg.f = 64;
    cpu.reg.h = 109;
    cpu.reg.l = 254;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[22537] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 246);
    CHECK(cpu.reg.b == 181);
    CHECK(cpu.reg.c == 104);
    CHECK(cpu.reg.d == 155);
    CHECK(cpu.reg.e == 209);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 109);
    CHECK(cpu.reg.l == 254);
    CHECK(cpu.pc == 22538);
    CHECK(cpu.sp == 23287);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22537] == 27);
}

TEST_CASE( "1B 0048", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21938;
    cpu.sp = 25357;
    cpu.reg.a = 213;
    cpu.reg.b = 165;
    cpu.reg.c = 132;
    cpu.reg.d = 186;
    cpu.reg.e = 17;
    cpu.reg.f = 128;
    cpu.reg.h = 89;
    cpu.reg.l = 97;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[21938] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 213);
    CHECK(cpu.reg.b == 165);
    CHECK(cpu.reg.c == 132);
    CHECK(cpu.reg.d == 186);
    CHECK(cpu.reg.e == 16);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 89);
    CHECK(cpu.reg.l == 97);
    CHECK(cpu.pc == 21939);
    CHECK(cpu.sp == 25357);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21938] == 27);
}

TEST_CASE( "1B 0049", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13326;
    cpu.sp = 13536;
    cpu.reg.a = 127;
    cpu.reg.b = 41;
    cpu.reg.c = 98;
    cpu.reg.d = 76;
    cpu.reg.e = 65;
    cpu.reg.f = 112;
    cpu.reg.h = 201;
    cpu.reg.l = 108;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[13326] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 127);
    CHECK(cpu.reg.b == 41);
    CHECK(cpu.reg.c == 98);
    CHECK(cpu.reg.d == 76);
    CHECK(cpu.reg.e == 64);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 201);
    CHECK(cpu.reg.l == 108);
    CHECK(cpu.pc == 13327);
    CHECK(cpu.sp == 13536);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13326] == 27);
}

TEST_CASE( "1B 004A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21543;
    cpu.sp = 47537;
    cpu.reg.a = 5;
    cpu.reg.b = 110;
    cpu.reg.c = 124;
    cpu.reg.d = 115;
    cpu.reg.e = 69;
    cpu.reg.f = 144;
    cpu.reg.h = 230;
    cpu.reg.l = 122;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[21543] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 5);
    CHECK(cpu.reg.b == 110);
    CHECK(cpu.reg.c == 124);
    CHECK(cpu.reg.d == 115);
    CHECK(cpu.reg.e == 68);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 230);
    CHECK(cpu.reg.l == 122);
    CHECK(cpu.pc == 21544);
    CHECK(cpu.sp == 47537);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21543] == 27);
}

TEST_CASE( "1B 004B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64007;
    cpu.sp = 45166;
    cpu.reg.a = 117;
    cpu.reg.b = 189;
    cpu.reg.c = 203;
    cpu.reg.d = 68;
    cpu.reg.e = 113;
    cpu.reg.f = 160;
    cpu.reg.h = 77;
    cpu.reg.l = 121;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[64007] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 117);
    CHECK(cpu.reg.b == 189);
    CHECK(cpu.reg.c == 203);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 112);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 77);
    CHECK(cpu.reg.l == 121);
    CHECK(cpu.pc == 64008);
    CHECK(cpu.sp == 45166);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64007] == 27);
}

TEST_CASE( "1B 004C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60836;
    cpu.sp = 48759;
    cpu.reg.a = 31;
    cpu.reg.b = 35;
    cpu.reg.c = 246;
    cpu.reg.d = 181;
    cpu.reg.e = 185;
    cpu.reg.f = 0;
    cpu.reg.h = 53;
    cpu.reg.l = 221;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[60836] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 31);
    CHECK(cpu.reg.b == 35);
    CHECK(cpu.reg.c == 246);
    CHECK(cpu.reg.d == 181);
    CHECK(cpu.reg.e == 184);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 53);
    CHECK(cpu.reg.l == 221);
    CHECK(cpu.pc == 60837);
    CHECK(cpu.sp == 48759);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60836] == 27);
}

TEST_CASE( "1B 004D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18202;
    cpu.sp = 16954;
    cpu.reg.a = 14;
    cpu.reg.b = 34;
    cpu.reg.c = 120;
    cpu.reg.d = 117;
    cpu.reg.e = 71;
    cpu.reg.f = 208;
    cpu.reg.h = 162;
    cpu.reg.l = 13;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[18202] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 14);
    CHECK(cpu.reg.b == 34);
    CHECK(cpu.reg.c == 120);
    CHECK(cpu.reg.d == 117);
    CHECK(cpu.reg.e == 70);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 162);
    CHECK(cpu.reg.l == 13);
    CHECK(cpu.pc == 18203);
    CHECK(cpu.sp == 16954);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[18202] == 27);
}

TEST_CASE( "1B 004E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40503;
    cpu.sp = 61624;
    cpu.reg.a = 111;
    cpu.reg.b = 193;
    cpu.reg.c = 252;
    cpu.reg.d = 132;
    cpu.reg.e = 70;
    cpu.reg.f = 144;
    cpu.reg.h = 51;
    cpu.reg.l = 6;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[40503] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 111);
    CHECK(cpu.reg.b == 193);
    CHECK(cpu.reg.c == 252);
    CHECK(cpu.reg.d == 132);
    CHECK(cpu.reg.e == 69);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 51);
    CHECK(cpu.reg.l == 6);
    CHECK(cpu.pc == 40504);
    CHECK(cpu.sp == 61624);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40503] == 27);
}

TEST_CASE( "1B 004F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40420;
    cpu.sp = 16212;
    cpu.reg.a = 6;
    cpu.reg.b = 79;
    cpu.reg.c = 245;
    cpu.reg.d = 53;
    cpu.reg.e = 41;
    cpu.reg.f = 80;
    cpu.reg.h = 15;
    cpu.reg.l = 161;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[40420] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 6);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 245);
    CHECK(cpu.reg.d == 53);
    CHECK(cpu.reg.e == 40);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 15);
    CHECK(cpu.reg.l == 161);
    CHECK(cpu.pc == 40421);
    CHECK(cpu.sp == 16212);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40420] == 27);
}

TEST_CASE( "1B 0050", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33274;
    cpu.sp = 61832;
    cpu.reg.a = 4;
    cpu.reg.b = 61;
    cpu.reg.c = 196;
    cpu.reg.d = 104;
    cpu.reg.e = 7;
    cpu.reg.f = 0;
    cpu.reg.h = 44;
    cpu.reg.l = 64;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[33274] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 4);
    CHECK(cpu.reg.b == 61);
    CHECK(cpu.reg.c == 196);
    CHECK(cpu.reg.d == 104);
    CHECK(cpu.reg.e == 6);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 44);
    CHECK(cpu.reg.l == 64);
    CHECK(cpu.pc == 33275);
    CHECK(cpu.sp == 61832);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33274] == 27);
}

TEST_CASE( "1B 0051", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6933;
    cpu.sp = 13714;
    cpu.reg.a = 55;
    cpu.reg.b = 183;
    cpu.reg.c = 117;
    cpu.reg.d = 198;
    cpu.reg.e = 110;
    cpu.reg.f = 144;
    cpu.reg.h = 101;
    cpu.reg.l = 12;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[6933] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 55);
    CHECK(cpu.reg.b == 183);
    CHECK(cpu.reg.c == 117);
    CHECK(cpu.reg.d == 198);
    CHECK(cpu.reg.e == 109);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 101);
    CHECK(cpu.reg.l == 12);
    CHECK(cpu.pc == 6934);
    CHECK(cpu.sp == 13714);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6933] == 27);
}

TEST_CASE( "1B 0052", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41670;
    cpu.sp = 38447;
    cpu.reg.a = 92;
    cpu.reg.b = 136;
    cpu.reg.c = 234;
    cpu.reg.d = 247;
    cpu.reg.e = 145;
    cpu.reg.f = 32;
    cpu.reg.h = 141;
    cpu.reg.l = 226;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[41670] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 92);
    CHECK(cpu.reg.b == 136);
    CHECK(cpu.reg.c == 234);
    CHECK(cpu.reg.d == 247);
    CHECK(cpu.reg.e == 144);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 141);
    CHECK(cpu.reg.l == 226);
    CHECK(cpu.pc == 41671);
    CHECK(cpu.sp == 38447);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41670] == 27);
}

TEST_CASE( "1B 0053", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43717;
    cpu.sp = 56300;
    cpu.reg.a = 78;
    cpu.reg.b = 151;
    cpu.reg.c = 21;
    cpu.reg.d = 124;
    cpu.reg.e = 100;
    cpu.reg.f = 208;
    cpu.reg.h = 17;
    cpu.reg.l = 145;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[43717] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 78);
    CHECK(cpu.reg.b == 151);
    CHECK(cpu.reg.c == 21);
    CHECK(cpu.reg.d == 124);
    CHECK(cpu.reg.e == 99);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 145);
    CHECK(cpu.pc == 43718);
    CHECK(cpu.sp == 56300);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43717] == 27);
}

TEST_CASE( "1B 0054", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54657;
    cpu.sp = 8367;
    cpu.reg.a = 185;
    cpu.reg.b = 200;
    cpu.reg.c = 61;
    cpu.reg.d = 57;
    cpu.reg.e = 134;
    cpu.reg.f = 48;
    cpu.reg.h = 7;
    cpu.reg.l = 243;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[54657] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 185);
    CHECK(cpu.reg.b == 200);
    CHECK(cpu.reg.c == 61);
    CHECK(cpu.reg.d == 57);
    CHECK(cpu.reg.e == 133);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 7);
    CHECK(cpu.reg.l == 243);
    CHECK(cpu.pc == 54658);
    CHECK(cpu.sp == 8367);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54657] == 27);
}

TEST_CASE( "1B 0055", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41300;
    cpu.sp = 19237;
    cpu.reg.a = 96;
    cpu.reg.b = 245;
    cpu.reg.c = 0;
    cpu.reg.d = 179;
    cpu.reg.e = 113;
    cpu.reg.f = 160;
    cpu.reg.h = 245;
    cpu.reg.l = 75;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[41300] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 96);
    CHECK(cpu.reg.b == 245);
    CHECK(cpu.reg.c == 0);
    CHECK(cpu.reg.d == 179);
    CHECK(cpu.reg.e == 112);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 245);
    CHECK(cpu.reg.l == 75);
    CHECK(cpu.pc == 41301);
    CHECK(cpu.sp == 19237);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41300] == 27);
}

TEST_CASE( "1B 0056", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62688;
    cpu.sp = 13257;
    cpu.reg.a = 229;
    cpu.reg.b = 59;
    cpu.reg.c = 170;
    cpu.reg.d = 187;
    cpu.reg.e = 178;
    cpu.reg.f = 128;
    cpu.reg.h = 103;
    cpu.reg.l = 235;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[62688] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 229);
    CHECK(cpu.reg.b == 59);
    CHECK(cpu.reg.c == 170);
    CHECK(cpu.reg.d == 187);
    CHECK(cpu.reg.e == 177);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 103);
    CHECK(cpu.reg.l == 235);
    CHECK(cpu.pc == 62689);
    CHECK(cpu.sp == 13257);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[62688] == 27);
}

TEST_CASE( "1B 0057", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6864;
    cpu.sp = 36215;
    cpu.reg.a = 158;
    cpu.reg.b = 167;
    cpu.reg.c = 214;
    cpu.reg.d = 218;
    cpu.reg.e = 22;
    cpu.reg.f = 80;
    cpu.reg.h = 167;
    cpu.reg.l = 14;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[6864] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 158);
    CHECK(cpu.reg.b == 167);
    CHECK(cpu.reg.c == 214);
    CHECK(cpu.reg.d == 218);
    CHECK(cpu.reg.e == 21);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 167);
    CHECK(cpu.reg.l == 14);
    CHECK(cpu.pc == 6865);
    CHECK(cpu.sp == 36215);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6864] == 27);
}

TEST_CASE( "1B 0058", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10714;
    cpu.sp = 59403;
    cpu.reg.a = 236;
    cpu.reg.b = 254;
    cpu.reg.c = 252;
    cpu.reg.d = 58;
    cpu.reg.e = 237;
    cpu.reg.f = 224;
    cpu.reg.h = 11;
    cpu.reg.l = 78;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[10714] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 236);
    CHECK(cpu.reg.b == 254);
    CHECK(cpu.reg.c == 252);
    CHECK(cpu.reg.d == 58);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 11);
    CHECK(cpu.reg.l == 78);
    CHECK(cpu.pc == 10715);
    CHECK(cpu.sp == 59403);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10714] == 27);
}

TEST_CASE( "1B 0059", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9274;
    cpu.sp = 46282;
    cpu.reg.a = 54;
    cpu.reg.b = 139;
    cpu.reg.c = 171;
    cpu.reg.d = 142;
    cpu.reg.e = 178;
    cpu.reg.f = 64;
    cpu.reg.h = 240;
    cpu.reg.l = 125;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[9274] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 54);
    CHECK(cpu.reg.b == 139);
    CHECK(cpu.reg.c == 171);
    CHECK(cpu.reg.d == 142);
    CHECK(cpu.reg.e == 177);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 240);
    CHECK(cpu.reg.l == 125);
    CHECK(cpu.pc == 9275);
    CHECK(cpu.sp == 46282);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9274] == 27);
}

TEST_CASE( "1B 005A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64364;
    cpu.sp = 38775;
    cpu.reg.a = 123;
    cpu.reg.b = 240;
    cpu.reg.c = 1;
    cpu.reg.d = 102;
    cpu.reg.e = 36;
    cpu.reg.f = 96;
    cpu.reg.h = 54;
    cpu.reg.l = 167;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[64364] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 123);
    CHECK(cpu.reg.b == 240);
    CHECK(cpu.reg.c == 1);
    CHECK(cpu.reg.d == 102);
    CHECK(cpu.reg.e == 35);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 54);
    CHECK(cpu.reg.l == 167);
    CHECK(cpu.pc == 64365);
    CHECK(cpu.sp == 38775);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64364] == 27);
}

TEST_CASE( "1B 005B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28081;
    cpu.sp = 53042;
    cpu.reg.a = 96;
    cpu.reg.b = 147;
    cpu.reg.c = 241;
    cpu.reg.d = 147;
    cpu.reg.e = 140;
    cpu.reg.f = 32;
    cpu.reg.h = 20;
    cpu.reg.l = 13;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[28081] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 96);
    CHECK(cpu.reg.b == 147);
    CHECK(cpu.reg.c == 241);
    CHECK(cpu.reg.d == 147);
    CHECK(cpu.reg.e == 139);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 20);
    CHECK(cpu.reg.l == 13);
    CHECK(cpu.pc == 28082);
    CHECK(cpu.sp == 53042);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28081] == 27);
}

TEST_CASE( "1B 005C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16203;
    cpu.sp = 17345;
    cpu.reg.a = 200;
    cpu.reg.b = 220;
    cpu.reg.c = 123;
    cpu.reg.d = 161;
    cpu.reg.e = 132;
    cpu.reg.f = 112;
    cpu.reg.h = 93;
    cpu.reg.l = 108;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[16203] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 200);
    CHECK(cpu.reg.b == 220);
    CHECK(cpu.reg.c == 123);
    CHECK(cpu.reg.d == 161);
    CHECK(cpu.reg.e == 131);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 93);
    CHECK(cpu.reg.l == 108);
    CHECK(cpu.pc == 16204);
    CHECK(cpu.sp == 17345);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16203] == 27);
}

TEST_CASE( "1B 005D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17518;
    cpu.sp = 43625;
    cpu.reg.a = 90;
    cpu.reg.b = 7;
    cpu.reg.c = 92;
    cpu.reg.d = 178;
    cpu.reg.e = 177;
    cpu.reg.f = 32;
    cpu.reg.h = 33;
    cpu.reg.l = 38;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[17518] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 90);
    CHECK(cpu.reg.b == 7);
    CHECK(cpu.reg.c == 92);
    CHECK(cpu.reg.d == 178);
    CHECK(cpu.reg.e == 176);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 33);
    CHECK(cpu.reg.l == 38);
    CHECK(cpu.pc == 17519);
    CHECK(cpu.sp == 43625);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17518] == 27);
}

TEST_CASE( "1B 005E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37210;
    cpu.sp = 21131;
    cpu.reg.a = 29;
    cpu.reg.b = 0;
    cpu.reg.c = 79;
    cpu.reg.d = 80;
    cpu.reg.e = 228;
    cpu.reg.f = 96;
    cpu.reg.h = 77;
    cpu.reg.l = 118;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[37210] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 29);
    CHECK(cpu.reg.b == 0);
    CHECK(cpu.reg.c == 79);
    CHECK(cpu.reg.d == 80);
    CHECK(cpu.reg.e == 227);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 77);
    CHECK(cpu.reg.l == 118);
    CHECK(cpu.pc == 37211);
    CHECK(cpu.sp == 21131);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[37210] == 27);
}

TEST_CASE( "1B 005F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34446;
    cpu.sp = 41335;
    cpu.reg.a = 209;
    cpu.reg.b = 1;
    cpu.reg.c = 189;
    cpu.reg.d = 138;
    cpu.reg.e = 214;
    cpu.reg.f = 160;
    cpu.reg.h = 78;
    cpu.reg.l = 19;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[34446] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 209);
    CHECK(cpu.reg.b == 1);
    CHECK(cpu.reg.c == 189);
    CHECK(cpu.reg.d == 138);
    CHECK(cpu.reg.e == 213);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 78);
    CHECK(cpu.reg.l == 19);
    CHECK(cpu.pc == 34447);
    CHECK(cpu.sp == 41335);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34446] == 27);
}

TEST_CASE( "1B 0060", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24349;
    cpu.sp = 27042;
    cpu.reg.a = 23;
    cpu.reg.b = 71;
    cpu.reg.c = 162;
    cpu.reg.d = 247;
    cpu.reg.e = 207;
    cpu.reg.f = 80;
    cpu.reg.h = 214;
    cpu.reg.l = 50;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[24349] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 23);
    CHECK(cpu.reg.b == 71);
    CHECK(cpu.reg.c == 162);
    CHECK(cpu.reg.d == 247);
    CHECK(cpu.reg.e == 206);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 214);
    CHECK(cpu.reg.l == 50);
    CHECK(cpu.pc == 24350);
    CHECK(cpu.sp == 27042);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24349] == 27);
}

TEST_CASE( "1B 0061", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27405;
    cpu.sp = 22251;
    cpu.reg.a = 207;
    cpu.reg.b = 122;
    cpu.reg.c = 60;
    cpu.reg.d = 75;
    cpu.reg.e = 203;
    cpu.reg.f = 192;
    cpu.reg.h = 58;
    cpu.reg.l = 167;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[27405] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 207);
    CHECK(cpu.reg.b == 122);
    CHECK(cpu.reg.c == 60);
    CHECK(cpu.reg.d == 75);
    CHECK(cpu.reg.e == 202);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 58);
    CHECK(cpu.reg.l == 167);
    CHECK(cpu.pc == 27406);
    CHECK(cpu.sp == 22251);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27405] == 27);
}

TEST_CASE( "1B 0062", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12139;
    cpu.sp = 38393;
    cpu.reg.a = 7;
    cpu.reg.b = 227;
    cpu.reg.c = 78;
    cpu.reg.d = 112;
    cpu.reg.e = 240;
    cpu.reg.f = 16;
    cpu.reg.h = 196;
    cpu.reg.l = 128;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[12139] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 7);
    CHECK(cpu.reg.b == 227);
    CHECK(cpu.reg.c == 78);
    CHECK(cpu.reg.d == 112);
    CHECK(cpu.reg.e == 239);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 196);
    CHECK(cpu.reg.l == 128);
    CHECK(cpu.pc == 12140);
    CHECK(cpu.sp == 38393);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12139] == 27);
}

TEST_CASE( "1B 0063", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64788;
    cpu.sp = 24778;
    cpu.reg.a = 183;
    cpu.reg.b = 51;
    cpu.reg.c = 124;
    cpu.reg.d = 8;
    cpu.reg.e = 177;
    cpu.reg.f = 128;
    cpu.reg.h = 98;
    cpu.reg.l = 61;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[64788] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 183);
    CHECK(cpu.reg.b == 51);
    CHECK(cpu.reg.c == 124);
    CHECK(cpu.reg.d == 8);
    CHECK(cpu.reg.e == 176);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 98);
    CHECK(cpu.reg.l == 61);
    CHECK(cpu.pc == 64789);
    CHECK(cpu.sp == 24778);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64788] == 27);
}

TEST_CASE( "1B 0064", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25855;
    cpu.sp = 49042;
    cpu.reg.a = 73;
    cpu.reg.b = 152;
    cpu.reg.c = 163;
    cpu.reg.d = 15;
    cpu.reg.e = 37;
    cpu.reg.f = 240;
    cpu.reg.h = 154;
    cpu.reg.l = 211;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[25855] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 73);
    CHECK(cpu.reg.b == 152);
    CHECK(cpu.reg.c == 163);
    CHECK(cpu.reg.d == 15);
    CHECK(cpu.reg.e == 36);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 154);
    CHECK(cpu.reg.l == 211);
    CHECK(cpu.pc == 25856);
    CHECK(cpu.sp == 49042);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25855] == 27);
}

TEST_CASE( "1B 0065", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7152;
    cpu.sp = 65124;
    cpu.reg.a = 174;
    cpu.reg.b = 149;
    cpu.reg.c = 222;
    cpu.reg.d = 47;
    cpu.reg.e = 37;
    cpu.reg.f = 208;
    cpu.reg.h = 0;
    cpu.reg.l = 174;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[7152] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 174);
    CHECK(cpu.reg.b == 149);
    CHECK(cpu.reg.c == 222);
    CHECK(cpu.reg.d == 47);
    CHECK(cpu.reg.e == 36);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 0);
    CHECK(cpu.reg.l == 174);
    CHECK(cpu.pc == 7153);
    CHECK(cpu.sp == 65124);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7152] == 27);
}

TEST_CASE( "1B 0066", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64348;
    cpu.sp = 48660;
    cpu.reg.a = 105;
    cpu.reg.b = 154;
    cpu.reg.c = 56;
    cpu.reg.d = 98;
    cpu.reg.e = 215;
    cpu.reg.f = 96;
    cpu.reg.h = 54;
    cpu.reg.l = 184;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[64348] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 105);
    CHECK(cpu.reg.b == 154);
    CHECK(cpu.reg.c == 56);
    CHECK(cpu.reg.d == 98);
    CHECK(cpu.reg.e == 214);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 54);
    CHECK(cpu.reg.l == 184);
    CHECK(cpu.pc == 64349);
    CHECK(cpu.sp == 48660);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[64348] == 27);
}

TEST_CASE( "1B 0067", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6734;
    cpu.sp = 21362;
    cpu.reg.a = 231;
    cpu.reg.b = 45;
    cpu.reg.c = 94;
    cpu.reg.d = 28;
    cpu.reg.e = 167;
    cpu.reg.f = 176;
    cpu.reg.h = 11;
    cpu.reg.l = 135;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[6734] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 231);
    CHECK(cpu.reg.b == 45);
    CHECK(cpu.reg.c == 94);
    CHECK(cpu.reg.d == 28);
    CHECK(cpu.reg.e == 166);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 11);
    CHECK(cpu.reg.l == 135);
    CHECK(cpu.pc == 6735);
    CHECK(cpu.sp == 21362);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6734] == 27);
}

TEST_CASE( "1B 0068", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25624;
    cpu.sp = 13918;
    cpu.reg.a = 158;
    cpu.reg.b = 28;
    cpu.reg.c = 161;
    cpu.reg.d = 141;
    cpu.reg.e = 13;
    cpu.reg.f = 208;
    cpu.reg.h = 227;
    cpu.reg.l = 122;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[25624] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 158);
    CHECK(cpu.reg.b == 28);
    CHECK(cpu.reg.c == 161);
    CHECK(cpu.reg.d == 141);
    CHECK(cpu.reg.e == 12);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 122);
    CHECK(cpu.pc == 25625);
    CHECK(cpu.sp == 13918);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25624] == 27);
}

TEST_CASE( "1B 0069", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22287;
    cpu.sp = 44624;
    cpu.reg.a = 233;
    cpu.reg.b = 123;
    cpu.reg.c = 17;
    cpu.reg.d = 79;
    cpu.reg.e = 21;
    cpu.reg.f = 96;
    cpu.reg.h = 24;
    cpu.reg.l = 234;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[22287] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 233);
    CHECK(cpu.reg.b == 123);
    CHECK(cpu.reg.c == 17);
    CHECK(cpu.reg.d == 79);
    CHECK(cpu.reg.e == 20);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 24);
    CHECK(cpu.reg.l == 234);
    CHECK(cpu.pc == 22288);
    CHECK(cpu.sp == 44624);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22287] == 27);
}

TEST_CASE( "1B 006A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6434;
    cpu.sp = 11749;
    cpu.reg.a = 242;
    cpu.reg.b = 100;
    cpu.reg.c = 147;
    cpu.reg.d = 174;
    cpu.reg.e = 248;
    cpu.reg.f = 96;
    cpu.reg.h = 79;
    cpu.reg.l = 28;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[6434] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 242);
    CHECK(cpu.reg.b == 100);
    CHECK(cpu.reg.c == 147);
    CHECK(cpu.reg.d == 174);
    CHECK(cpu.reg.e == 247);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 79);
    CHECK(cpu.reg.l == 28);
    CHECK(cpu.pc == 6435);
    CHECK(cpu.sp == 11749);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6434] == 27);
}

TEST_CASE( "1B 006B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1017;
    cpu.sp = 550;
    cpu.reg.a = 155;
    cpu.reg.b = 124;
    cpu.reg.c = 202;
    cpu.reg.d = 189;
    cpu.reg.e = 46;
    cpu.reg.f = 144;
    cpu.reg.h = 235;
    cpu.reg.l = 124;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[1017] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 155);
    CHECK(cpu.reg.b == 124);
    CHECK(cpu.reg.c == 202);
    CHECK(cpu.reg.d == 189);
    CHECK(cpu.reg.e == 45);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 235);
    CHECK(cpu.reg.l == 124);
    CHECK(cpu.pc == 1018);
    CHECK(cpu.sp == 550);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1017] == 27);
}

TEST_CASE( "1B 006C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1981;
    cpu.sp = 22673;
    cpu.reg.a = 61;
    cpu.reg.b = 215;
    cpu.reg.c = 247;
    cpu.reg.d = 182;
    cpu.reg.e = 210;
    cpu.reg.f = 64;
    cpu.reg.h = 200;
    cpu.reg.l = 156;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[1981] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 61);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 247);
    CHECK(cpu.reg.d == 182);
    CHECK(cpu.reg.e == 209);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 200);
    CHECK(cpu.reg.l == 156);
    CHECK(cpu.pc == 1982);
    CHECK(cpu.sp == 22673);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1981] == 27);
}

TEST_CASE( "1B 006D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42169;
    cpu.sp = 12768;
    cpu.reg.a = 77;
    cpu.reg.b = 221;
    cpu.reg.c = 32;
    cpu.reg.d = 66;
    cpu.reg.e = 49;
    cpu.reg.f = 144;
    cpu.reg.h = 36;
    cpu.reg.l = 29;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[42169] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 77);
    CHECK(cpu.reg.b == 221);
    CHECK(cpu.reg.c == 32);
    CHECK(cpu.reg.d == 66);
    CHECK(cpu.reg.e == 48);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 36);
    CHECK(cpu.reg.l == 29);
    CHECK(cpu.pc == 42170);
    CHECK(cpu.sp == 12768);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[42169] == 27);
}

TEST_CASE( "1B 006E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11695;
    cpu.sp = 47451;
    cpu.reg.a = 211;
    cpu.reg.b = 174;
    cpu.reg.c = 1;
    cpu.reg.d = 66;
    cpu.reg.e = 98;
    cpu.reg.f = 96;
    cpu.reg.h = 208;
    cpu.reg.l = 109;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[11695] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 211);
    CHECK(cpu.reg.b == 174);
    CHECK(cpu.reg.c == 1);
    CHECK(cpu.reg.d == 66);
    CHECK(cpu.reg.e == 97);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 208);
    CHECK(cpu.reg.l == 109);
    CHECK(cpu.pc == 11696);
    CHECK(cpu.sp == 47451);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11695] == 27);
}

TEST_CASE( "1B 006F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27302;
    cpu.sp = 15422;
    cpu.reg.a = 89;
    cpu.reg.b = 190;
    cpu.reg.c = 225;
    cpu.reg.d = 13;
    cpu.reg.e = 86;
    cpu.reg.f = 160;
    cpu.reg.h = 197;
    cpu.reg.l = 102;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[27302] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 89);
    CHECK(cpu.reg.b == 190);
    CHECK(cpu.reg.c == 225);
    CHECK(cpu.reg.d == 13);
    CHECK(cpu.reg.e == 85);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 197);
    CHECK(cpu.reg.l == 102);
    CHECK(cpu.pc == 27303);
    CHECK(cpu.sp == 15422);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27302] == 27);
}

TEST_CASE( "1B 0070", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38904;
    cpu.sp = 18247;
    cpu.reg.a = 134;
    cpu.reg.b = 9;
    cpu.reg.c = 38;
    cpu.reg.d = 150;
    cpu.reg.e = 171;
    cpu.reg.f = 144;
    cpu.reg.h = 196;
    cpu.reg.l = 7;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[38904] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 134);
    CHECK(cpu.reg.b == 9);
    CHECK(cpu.reg.c == 38);
    CHECK(cpu.reg.d == 150);
    CHECK(cpu.reg.e == 170);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 196);
    CHECK(cpu.reg.l == 7);
    CHECK(cpu.pc == 38905);
    CHECK(cpu.sp == 18247);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38904] == 27);
}

TEST_CASE( "1B 0071", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39773;
    cpu.sp = 3151;
    cpu.reg.a = 63;
    cpu.reg.b = 109;
    cpu.reg.c = 82;
    cpu.reg.d = 77;
    cpu.reg.e = 36;
    cpu.reg.f = 48;
    cpu.reg.h = 173;
    cpu.reg.l = 164;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[39773] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 63);
    CHECK(cpu.reg.b == 109);
    CHECK(cpu.reg.c == 82);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 35);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 173);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 39774);
    CHECK(cpu.sp == 3151);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39773] == 27);
}

TEST_CASE( "1B 0072", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54733;
    cpu.sp = 1474;
    cpu.reg.a = 130;
    cpu.reg.b = 226;
    cpu.reg.c = 141;
    cpu.reg.d = 77;
    cpu.reg.e = 101;
    cpu.reg.f = 96;
    cpu.reg.h = 248;
    cpu.reg.l = 97;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[54733] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 130);
    CHECK(cpu.reg.b == 226);
    CHECK(cpu.reg.c == 141);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 100);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 248);
    CHECK(cpu.reg.l == 97);
    CHECK(cpu.pc == 54734);
    CHECK(cpu.sp == 1474);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[54733] == 27);
}

TEST_CASE( "1B 0073", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43556;
    cpu.sp = 55955;
    cpu.reg.a = 151;
    cpu.reg.b = 87;
    cpu.reg.c = 169;
    cpu.reg.d = 42;
    cpu.reg.e = 107;
    cpu.reg.f = 0;
    cpu.reg.h = 136;
    cpu.reg.l = 29;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[43556] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 151);
    CHECK(cpu.reg.b == 87);
    CHECK(cpu.reg.c == 169);
    CHECK(cpu.reg.d == 42);
    CHECK(cpu.reg.e == 106);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 136);
    CHECK(cpu.reg.l == 29);
    CHECK(cpu.pc == 43557);
    CHECK(cpu.sp == 55955);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[43556] == 27);
}

TEST_CASE( "1B 0074", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7085;
    cpu.sp = 61473;
    cpu.reg.a = 67;
    cpu.reg.b = 129;
    cpu.reg.c = 98;
    cpu.reg.d = 255;
    cpu.reg.e = 241;
    cpu.reg.f = 160;
    cpu.reg.h = 120;
    cpu.reg.l = 179;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[7085] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 67);
    CHECK(cpu.reg.b == 129);
    CHECK(cpu.reg.c == 98);
    CHECK(cpu.reg.d == 255);
    CHECK(cpu.reg.e == 240);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 120);
    CHECK(cpu.reg.l == 179);
    CHECK(cpu.pc == 7086);
    CHECK(cpu.sp == 61473);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7085] == 27);
}

TEST_CASE( "1B 0075", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65236;
    cpu.sp = 55924;
    cpu.reg.a = 73;
    cpu.reg.b = 196;
    cpu.reg.c = 131;
    cpu.reg.d = 209;
    cpu.reg.e = 6;
    cpu.reg.f = 112;
    cpu.reg.h = 17;
    cpu.reg.l = 73;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[65236] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 73);
    CHECK(cpu.reg.b == 196);
    CHECK(cpu.reg.c == 131);
    CHECK(cpu.reg.d == 209);
    CHECK(cpu.reg.e == 5);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 73);
    CHECK(cpu.pc == 65237);
    CHECK(cpu.sp == 55924);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[65236] == 27);
}

TEST_CASE( "1B 0076", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61719;
    cpu.sp = 59247;
    cpu.reg.a = 160;
    cpu.reg.b = 221;
    cpu.reg.c = 20;
    cpu.reg.d = 37;
    cpu.reg.e = 73;
    cpu.reg.f = 192;
    cpu.reg.h = 116;
    cpu.reg.l = 53;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[61719] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 160);
    CHECK(cpu.reg.b == 221);
    CHECK(cpu.reg.c == 20);
    CHECK(cpu.reg.d == 37);
    CHECK(cpu.reg.e == 72);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 116);
    CHECK(cpu.reg.l == 53);
    CHECK(cpu.pc == 61720);
    CHECK(cpu.sp == 59247);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61719] == 27);
}

TEST_CASE( "1B 0077", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31608;
    cpu.sp = 8288;
    cpu.reg.a = 250;
    cpu.reg.b = 23;
    cpu.reg.c = 76;
    cpu.reg.d = 108;
    cpu.reg.e = 220;
    cpu.reg.f = 96;
    cpu.reg.h = 77;
    cpu.reg.l = 49;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[31608] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 250);
    CHECK(cpu.reg.b == 23);
    CHECK(cpu.reg.c == 76);
    CHECK(cpu.reg.d == 108);
    CHECK(cpu.reg.e == 219);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 77);
    CHECK(cpu.reg.l == 49);
    CHECK(cpu.pc == 31609);
    CHECK(cpu.sp == 8288);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31608] == 27);
}

TEST_CASE( "1B 0078", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61670;
    cpu.sp = 17168;
    cpu.reg.a = 221;
    cpu.reg.b = 155;
    cpu.reg.c = 240;
    cpu.reg.d = 56;
    cpu.reg.e = 141;
    cpu.reg.f = 240;
    cpu.reg.h = 38;
    cpu.reg.l = 177;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[61670] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 221);
    CHECK(cpu.reg.b == 155);
    CHECK(cpu.reg.c == 240);
    CHECK(cpu.reg.d == 56);
    CHECK(cpu.reg.e == 140);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 38);
    CHECK(cpu.reg.l == 177);
    CHECK(cpu.pc == 61671);
    CHECK(cpu.sp == 17168);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61670] == 27);
}

TEST_CASE( "1B 0079", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28980;
    cpu.sp = 6802;
    cpu.reg.a = 132;
    cpu.reg.b = 185;
    cpu.reg.c = 62;
    cpu.reg.d = 149;
    cpu.reg.e = 212;
    cpu.reg.f = 144;
    cpu.reg.h = 117;
    cpu.reg.l = 50;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[28980] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 132);
    CHECK(cpu.reg.b == 185);
    CHECK(cpu.reg.c == 62);
    CHECK(cpu.reg.d == 149);
    CHECK(cpu.reg.e == 211);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 117);
    CHECK(cpu.reg.l == 50);
    CHECK(cpu.pc == 28981);
    CHECK(cpu.sp == 6802);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[28980] == 27);
}

TEST_CASE( "1B 007A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47523;
    cpu.sp = 3103;
    cpu.reg.a = 176;
    cpu.reg.b = 105;
    cpu.reg.c = 97;
    cpu.reg.d = 20;
    cpu.reg.e = 12;
    cpu.reg.f = 160;
    cpu.reg.h = 27;
    cpu.reg.l = 199;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47523] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 176);
    CHECK(cpu.reg.b == 105);
    CHECK(cpu.reg.c == 97);
    CHECK(cpu.reg.d == 20);
    CHECK(cpu.reg.e == 11);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 27);
    CHECK(cpu.reg.l == 199);
    CHECK(cpu.pc == 47524);
    CHECK(cpu.sp == 3103);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47523] == 27);
}

TEST_CASE( "1B 007B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58377;
    cpu.sp = 31497;
    cpu.reg.a = 49;
    cpu.reg.b = 157;
    cpu.reg.c = 65;
    cpu.reg.d = 201;
    cpu.reg.e = 216;
    cpu.reg.f = 128;
    cpu.reg.h = 226;
    cpu.reg.l = 166;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[58377] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 49);
    CHECK(cpu.reg.b == 157);
    CHECK(cpu.reg.c == 65);
    CHECK(cpu.reg.d == 201);
    CHECK(cpu.reg.e == 215);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 226);
    CHECK(cpu.reg.l == 166);
    CHECK(cpu.pc == 58378);
    CHECK(cpu.sp == 31497);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58377] == 27);
}

TEST_CASE( "1B 007C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29664;
    cpu.sp = 57231;
    cpu.reg.a = 118;
    cpu.reg.b = 166;
    cpu.reg.c = 235;
    cpu.reg.d = 231;
    cpu.reg.e = 189;
    cpu.reg.f = 0;
    cpu.reg.h = 148;
    cpu.reg.l = 246;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[29664] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 118);
    CHECK(cpu.reg.b == 166);
    CHECK(cpu.reg.c == 235);
    CHECK(cpu.reg.d == 231);
    CHECK(cpu.reg.e == 188);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 148);
    CHECK(cpu.reg.l == 246);
    CHECK(cpu.pc == 29665);
    CHECK(cpu.sp == 57231);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[29664] == 27);
}

TEST_CASE( "1B 007D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42461;
    cpu.sp = 4872;
    cpu.reg.a = 165;
    cpu.reg.b = 9;
    cpu.reg.c = 46;
    cpu.reg.d = 54;
    cpu.reg.e = 184;
    cpu.reg.f = 208;
    cpu.reg.h = 157;
    cpu.reg.l = 254;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[42461] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 165);
    CHECK(cpu.reg.b == 9);
    CHECK(cpu.reg.c == 46);
    CHECK(cpu.reg.d == 54);
    CHECK(cpu.reg.e == 183);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 157);
    CHECK(cpu.reg.l == 254);
    CHECK(cpu.pc == 42462);
    CHECK(cpu.sp == 4872);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[42461] == 27);
}

TEST_CASE( "1B 007E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49922;
    cpu.sp = 15862;
    cpu.reg.a = 8;
    cpu.reg.b = 116;
    cpu.reg.c = 186;
    cpu.reg.d = 2;
    cpu.reg.e = 44;
    cpu.reg.f = 48;
    cpu.reg.h = 75;
    cpu.reg.l = 190;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[49922] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 8);
    CHECK(cpu.reg.b == 116);
    CHECK(cpu.reg.c == 186);
    CHECK(cpu.reg.d == 2);
    CHECK(cpu.reg.e == 43);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 75);
    CHECK(cpu.reg.l == 190);
    CHECK(cpu.pc == 49923);
    CHECK(cpu.sp == 15862);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49922] == 27);
}

TEST_CASE( "1B 007F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45370;
    cpu.sp = 36942;
    cpu.reg.a = 130;
    cpu.reg.b = 184;
    cpu.reg.c = 169;
    cpu.reg.d = 57;
    cpu.reg.e = 74;
    cpu.reg.f = 48;
    cpu.reg.h = 166;
    cpu.reg.l = 65;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[45370] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 130);
    CHECK(cpu.reg.b == 184);
    CHECK(cpu.reg.c == 169);
    CHECK(cpu.reg.d == 57);
    CHECK(cpu.reg.e == 73);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 166);
    CHECK(cpu.reg.l == 65);
    CHECK(cpu.pc == 45371);
    CHECK(cpu.sp == 36942);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45370] == 27);
}

TEST_CASE( "1B 0080", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24525;
    cpu.sp = 31526;
    cpu.reg.a = 191;
    cpu.reg.b = 99;
    cpu.reg.c = 33;
    cpu.reg.d = 89;
    cpu.reg.e = 22;
    cpu.reg.f = 16;
    cpu.reg.h = 10;
    cpu.reg.l = 150;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[24525] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 191);
    CHECK(cpu.reg.b == 99);
    CHECK(cpu.reg.c == 33);
    CHECK(cpu.reg.d == 89);
    CHECK(cpu.reg.e == 21);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 10);
    CHECK(cpu.reg.l == 150);
    CHECK(cpu.pc == 24526);
    CHECK(cpu.sp == 31526);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24525] == 27);
}

TEST_CASE( "1B 0081", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25930;
    cpu.sp = 26139;
    cpu.reg.a = 122;
    cpu.reg.b = 97;
    cpu.reg.c = 126;
    cpu.reg.d = 131;
    cpu.reg.e = 247;
    cpu.reg.f = 16;
    cpu.reg.h = 168;
    cpu.reg.l = 135;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[25930] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 122);
    CHECK(cpu.reg.b == 97);
    CHECK(cpu.reg.c == 126);
    CHECK(cpu.reg.d == 131);
    CHECK(cpu.reg.e == 246);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 168);
    CHECK(cpu.reg.l == 135);
    CHECK(cpu.pc == 25931);
    CHECK(cpu.sp == 26139);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25930] == 27);
}

TEST_CASE( "1B 0082", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45152;
    cpu.sp = 65117;
    cpu.reg.a = 11;
    cpu.reg.b = 52;
    cpu.reg.c = 206;
    cpu.reg.d = 143;
    cpu.reg.e = 146;
    cpu.reg.f = 160;
    cpu.reg.h = 92;
    cpu.reg.l = 167;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[45152] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 11);
    CHECK(cpu.reg.b == 52);
    CHECK(cpu.reg.c == 206);
    CHECK(cpu.reg.d == 143);
    CHECK(cpu.reg.e == 145);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 92);
    CHECK(cpu.reg.l == 167);
    CHECK(cpu.pc == 45153);
    CHECK(cpu.sp == 65117);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45152] == 27);
}

TEST_CASE( "1B 0083", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10149;
    cpu.sp = 40616;
    cpu.reg.a = 198;
    cpu.reg.b = 171;
    cpu.reg.c = 192;
    cpu.reg.d = 235;
    cpu.reg.e = 119;
    cpu.reg.f = 224;
    cpu.reg.h = 50;
    cpu.reg.l = 30;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[10149] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 198);
    CHECK(cpu.reg.b == 171);
    CHECK(cpu.reg.c == 192);
    CHECK(cpu.reg.d == 235);
    CHECK(cpu.reg.e == 118);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 50);
    CHECK(cpu.reg.l == 30);
    CHECK(cpu.pc == 10150);
    CHECK(cpu.sp == 40616);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10149] == 27);
}

TEST_CASE( "1B 0084", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20692;
    cpu.sp = 482;
    cpu.reg.a = 164;
    cpu.reg.b = 246;
    cpu.reg.c = 140;
    cpu.reg.d = 214;
    cpu.reg.e = 128;
    cpu.reg.f = 240;
    cpu.reg.h = 28;
    cpu.reg.l = 223;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[20692] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 164);
    CHECK(cpu.reg.b == 246);
    CHECK(cpu.reg.c == 140);
    CHECK(cpu.reg.d == 214);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 28);
    CHECK(cpu.reg.l == 223);
    CHECK(cpu.pc == 20693);
    CHECK(cpu.sp == 482);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20692] == 27);
}

TEST_CASE( "1B 0085", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3560;
    cpu.sp = 13178;
    cpu.reg.a = 206;
    cpu.reg.b = 221;
    cpu.reg.c = 60;
    cpu.reg.d = 220;
    cpu.reg.e = 11;
    cpu.reg.f = 32;
    cpu.reg.h = 32;
    cpu.reg.l = 179;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[3560] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 206);
    CHECK(cpu.reg.b == 221);
    CHECK(cpu.reg.c == 60);
    CHECK(cpu.reg.d == 220);
    CHECK(cpu.reg.e == 10);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 32);
    CHECK(cpu.reg.l == 179);
    CHECK(cpu.pc == 3561);
    CHECK(cpu.sp == 13178);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3560] == 27);
}

TEST_CASE( "1B 0086", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50032;
    cpu.sp = 5003;
    cpu.reg.a = 79;
    cpu.reg.b = 147;
    cpu.reg.c = 2;
    cpu.reg.d = 64;
    cpu.reg.e = 72;
    cpu.reg.f = 240;
    cpu.reg.h = 37;
    cpu.reg.l = 234;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[50032] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 79);
    CHECK(cpu.reg.b == 147);
    CHECK(cpu.reg.c == 2);
    CHECK(cpu.reg.d == 64);
    CHECK(cpu.reg.e == 71);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 37);
    CHECK(cpu.reg.l == 234);
    CHECK(cpu.pc == 50033);
    CHECK(cpu.sp == 5003);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50032] == 27);
}

TEST_CASE( "1B 0087", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 531;
    cpu.sp = 27940;
    cpu.reg.a = 133;
    cpu.reg.b = 235;
    cpu.reg.c = 199;
    cpu.reg.d = 149;
    cpu.reg.e = 134;
    cpu.reg.f = 240;
    cpu.reg.h = 55;
    cpu.reg.l = 147;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[531] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 133);
    CHECK(cpu.reg.b == 235);
    CHECK(cpu.reg.c == 199);
    CHECK(cpu.reg.d == 149);
    CHECK(cpu.reg.e == 133);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 55);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 532);
    CHECK(cpu.sp == 27940);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[531] == 27);
}

TEST_CASE( "1B 0088", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3057;
    cpu.sp = 17094;
    cpu.reg.a = 52;
    cpu.reg.b = 227;
    cpu.reg.c = 208;
    cpu.reg.d = 115;
    cpu.reg.e = 233;
    cpu.reg.f = 80;
    cpu.reg.h = 208;
    cpu.reg.l = 60;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[3057] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 52);
    CHECK(cpu.reg.b == 227);
    CHECK(cpu.reg.c == 208);
    CHECK(cpu.reg.d == 115);
    CHECK(cpu.reg.e == 232);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 208);
    CHECK(cpu.reg.l == 60);
    CHECK(cpu.pc == 3058);
    CHECK(cpu.sp == 17094);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3057] == 27);
}

TEST_CASE( "1B 0089", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22507;
    cpu.sp = 61769;
    cpu.reg.a = 90;
    cpu.reg.b = 72;
    cpu.reg.c = 152;
    cpu.reg.d = 130;
    cpu.reg.e = 129;
    cpu.reg.f = 0;
    cpu.reg.h = 132;
    cpu.reg.l = 243;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[22507] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 90);
    CHECK(cpu.reg.b == 72);
    CHECK(cpu.reg.c == 152);
    CHECK(cpu.reg.d == 130);
    CHECK(cpu.reg.e == 128);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 132);
    CHECK(cpu.reg.l == 243);
    CHECK(cpu.pc == 22508);
    CHECK(cpu.sp == 61769);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22507] == 27);
}

TEST_CASE( "1B 008A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63279;
    cpu.sp = 62662;
    cpu.reg.a = 134;
    cpu.reg.b = 150;
    cpu.reg.c = 101;
    cpu.reg.d = 127;
    cpu.reg.e = 90;
    cpu.reg.f = 16;
    cpu.reg.h = 188;
    cpu.reg.l = 150;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[63279] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 134);
    CHECK(cpu.reg.b == 150);
    CHECK(cpu.reg.c == 101);
    CHECK(cpu.reg.d == 127);
    CHECK(cpu.reg.e == 89);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 188);
    CHECK(cpu.reg.l == 150);
    CHECK(cpu.pc == 63280);
    CHECK(cpu.sp == 62662);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[63279] == 27);
}

TEST_CASE( "1B 008B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35162;
    cpu.sp = 10705;
    cpu.reg.a = 71;
    cpu.reg.b = 102;
    cpu.reg.c = 97;
    cpu.reg.d = 135;
    cpu.reg.e = 144;
    cpu.reg.f = 80;
    cpu.reg.h = 108;
    cpu.reg.l = 80;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[35162] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 71);
    CHECK(cpu.reg.b == 102);
    CHECK(cpu.reg.c == 97);
    CHECK(cpu.reg.d == 135);
    CHECK(cpu.reg.e == 143);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 108);
    CHECK(cpu.reg.l == 80);
    CHECK(cpu.pc == 35163);
    CHECK(cpu.sp == 10705);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35162] == 27);
}

TEST_CASE( "1B 008C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4914;
    cpu.sp = 54022;
    cpu.reg.a = 48;
    cpu.reg.b = 54;
    cpu.reg.c = 183;
    cpu.reg.d = 180;
    cpu.reg.e = 141;
    cpu.reg.f = 224;
    cpu.reg.h = 122;
    cpu.reg.l = 136;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[4914] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 48);
    CHECK(cpu.reg.b == 54);
    CHECK(cpu.reg.c == 183);
    CHECK(cpu.reg.d == 180);
    CHECK(cpu.reg.e == 140);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 122);
    CHECK(cpu.reg.l == 136);
    CHECK(cpu.pc == 4915);
    CHECK(cpu.sp == 54022);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4914] == 27);
}

TEST_CASE( "1B 008D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56376;
    cpu.sp = 17136;
    cpu.reg.a = 142;
    cpu.reg.b = 0;
    cpu.reg.c = 108;
    cpu.reg.d = 232;
    cpu.reg.e = 219;
    cpu.reg.f = 96;
    cpu.reg.h = 148;
    cpu.reg.l = 93;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[56376] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 142);
    CHECK(cpu.reg.b == 0);
    CHECK(cpu.reg.c == 108);
    CHECK(cpu.reg.d == 232);
    CHECK(cpu.reg.e == 218);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 148);
    CHECK(cpu.reg.l == 93);
    CHECK(cpu.pc == 56377);
    CHECK(cpu.sp == 17136);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56376] == 27);
}

TEST_CASE( "1B 008E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30578;
    cpu.sp = 8983;
    cpu.reg.a = 248;
    cpu.reg.b = 108;
    cpu.reg.c = 111;
    cpu.reg.d = 110;
    cpu.reg.e = 11;
    cpu.reg.f = 16;
    cpu.reg.h = 198;
    cpu.reg.l = 73;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[30578] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 248);
    CHECK(cpu.reg.b == 108);
    CHECK(cpu.reg.c == 111);
    CHECK(cpu.reg.d == 110);
    CHECK(cpu.reg.e == 10);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 198);
    CHECK(cpu.reg.l == 73);
    CHECK(cpu.pc == 30579);
    CHECK(cpu.sp == 8983);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30578] == 27);
}

TEST_CASE( "1B 008F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32724;
    cpu.sp = 49603;
    cpu.reg.a = 138;
    cpu.reg.b = 172;
    cpu.reg.c = 92;
    cpu.reg.d = 87;
    cpu.reg.e = 85;
    cpu.reg.f = 32;
    cpu.reg.h = 125;
    cpu.reg.l = 189;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[32724] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 138);
    CHECK(cpu.reg.b == 172);
    CHECK(cpu.reg.c == 92);
    CHECK(cpu.reg.d == 87);
    CHECK(cpu.reg.e == 84);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 125);
    CHECK(cpu.reg.l == 189);
    CHECK(cpu.pc == 32725);
    CHECK(cpu.sp == 49603);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32724] == 27);
}

TEST_CASE( "1B 0090", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46473;
    cpu.sp = 58439;
    cpu.reg.a = 192;
    cpu.reg.b = 31;
    cpu.reg.c = 159;
    cpu.reg.d = 147;
    cpu.reg.e = 235;
    cpu.reg.f = 0;
    cpu.reg.h = 180;
    cpu.reg.l = 2;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[46473] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 192);
    CHECK(cpu.reg.b == 31);
    CHECK(cpu.reg.c == 159);
    CHECK(cpu.reg.d == 147);
    CHECK(cpu.reg.e == 234);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 180);
    CHECK(cpu.reg.l == 2);
    CHECK(cpu.pc == 46474);
    CHECK(cpu.sp == 58439);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46473] == 27);
}

TEST_CASE( "1B 0091", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47995;
    cpu.sp = 54883;
    cpu.reg.a = 163;
    cpu.reg.b = 97;
    cpu.reg.c = 175;
    cpu.reg.d = 155;
    cpu.reg.e = 83;
    cpu.reg.f = 80;
    cpu.reg.h = 221;
    cpu.reg.l = 112;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47995] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 163);
    CHECK(cpu.reg.b == 97);
    CHECK(cpu.reg.c == 175);
    CHECK(cpu.reg.d == 155);
    CHECK(cpu.reg.e == 82);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 221);
    CHECK(cpu.reg.l == 112);
    CHECK(cpu.pc == 47996);
    CHECK(cpu.sp == 54883);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47995] == 27);
}

TEST_CASE( "1B 0092", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49945;
    cpu.sp = 4014;
    cpu.reg.a = 92;
    cpu.reg.b = 178;
    cpu.reg.c = 47;
    cpu.reg.d = 16;
    cpu.reg.e = 159;
    cpu.reg.f = 112;
    cpu.reg.h = 95;
    cpu.reg.l = 164;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[49945] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 92);
    CHECK(cpu.reg.b == 178);
    CHECK(cpu.reg.c == 47);
    CHECK(cpu.reg.d == 16);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 95);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 49946);
    CHECK(cpu.sp == 4014);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49945] == 27);
}

TEST_CASE( "1B 0093", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45303;
    cpu.sp = 11040;
    cpu.reg.a = 204;
    cpu.reg.b = 229;
    cpu.reg.c = 225;
    cpu.reg.d = 44;
    cpu.reg.e = 22;
    cpu.reg.f = 32;
    cpu.reg.h = 73;
    cpu.reg.l = 46;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[45303] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 204);
    CHECK(cpu.reg.b == 229);
    CHECK(cpu.reg.c == 225);
    CHECK(cpu.reg.d == 44);
    CHECK(cpu.reg.e == 21);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 73);
    CHECK(cpu.reg.l == 46);
    CHECK(cpu.pc == 45304);
    CHECK(cpu.sp == 11040);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45303] == 27);
}

TEST_CASE( "1B 0094", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59894;
    cpu.sp = 34462;
    cpu.reg.a = 6;
    cpu.reg.b = 171;
    cpu.reg.c = 236;
    cpu.reg.d = 19;
    cpu.reg.e = 37;
    cpu.reg.f = 208;
    cpu.reg.h = 236;
    cpu.reg.l = 241;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[59894] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 6);
    CHECK(cpu.reg.b == 171);
    CHECK(cpu.reg.c == 236);
    CHECK(cpu.reg.d == 19);
    CHECK(cpu.reg.e == 36);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 236);
    CHECK(cpu.reg.l == 241);
    CHECK(cpu.pc == 59895);
    CHECK(cpu.sp == 34462);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[59894] == 27);
}

TEST_CASE( "1B 0095", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43657;
    cpu.sp = 47164;
    cpu.reg.a = 161;
    cpu.reg.b = 249;
    cpu.reg.c = 194;
    cpu.reg.d = 131;
    cpu.reg.e = 89;
    cpu.reg.f = 224;
    cpu.reg.h = 49;
    cpu.reg.l = 236;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[43657] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 161);
    CHECK(cpu.reg.b == 249);
    CHECK(cpu.reg.c == 194);
    CHECK(cpu.reg.d == 131);
    CHECK(cpu.reg.e == 88);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 49);
    CHECK(cpu.reg.l == 236);
    CHECK(cpu.pc == 43658);
    CHECK(cpu.sp == 47164);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[43657] == 27);
}

TEST_CASE( "1B 0096", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26242;
    cpu.sp = 35771;
    cpu.reg.a = 137;
    cpu.reg.b = 153;
    cpu.reg.c = 231;
    cpu.reg.d = 2;
    cpu.reg.e = 117;
    cpu.reg.f = 112;
    cpu.reg.h = 206;
    cpu.reg.l = 70;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[26242] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 137);
    CHECK(cpu.reg.b == 153);
    CHECK(cpu.reg.c == 231);
    CHECK(cpu.reg.d == 2);
    CHECK(cpu.reg.e == 116);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 206);
    CHECK(cpu.reg.l == 70);
    CHECK(cpu.pc == 26243);
    CHECK(cpu.sp == 35771);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26242] == 27);
}

TEST_CASE( "1B 0097", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52105;
    cpu.sp = 3361;
    cpu.reg.a = 79;
    cpu.reg.b = 249;
    cpu.reg.c = 72;
    cpu.reg.d = 81;
    cpu.reg.e = 116;
    cpu.reg.f = 32;
    cpu.reg.h = 86;
    cpu.reg.l = 135;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[52105] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 79);
    CHECK(cpu.reg.b == 249);
    CHECK(cpu.reg.c == 72);
    CHECK(cpu.reg.d == 81);
    CHECK(cpu.reg.e == 115);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 86);
    CHECK(cpu.reg.l == 135);
    CHECK(cpu.pc == 52106);
    CHECK(cpu.sp == 3361);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[52105] == 27);
}

TEST_CASE( "1B 0098", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19286;
    cpu.sp = 15406;
    cpu.reg.a = 115;
    cpu.reg.b = 92;
    cpu.reg.c = 217;
    cpu.reg.d = 11;
    cpu.reg.e = 245;
    cpu.reg.f = 192;
    cpu.reg.h = 69;
    cpu.reg.l = 204;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[19286] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 115);
    CHECK(cpu.reg.b == 92);
    CHECK(cpu.reg.c == 217);
    CHECK(cpu.reg.d == 11);
    CHECK(cpu.reg.e == 244);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 69);
    CHECK(cpu.reg.l == 204);
    CHECK(cpu.pc == 19287);
    CHECK(cpu.sp == 15406);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19286] == 27);
}

TEST_CASE( "1B 0099", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12459;
    cpu.sp = 31827;
    cpu.reg.a = 196;
    cpu.reg.b = 158;
    cpu.reg.c = 118;
    cpu.reg.d = 1;
    cpu.reg.e = 56;
    cpu.reg.f = 32;
    cpu.reg.h = 60;
    cpu.reg.l = 171;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[12459] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 196);
    CHECK(cpu.reg.b == 158);
    CHECK(cpu.reg.c == 118);
    CHECK(cpu.reg.d == 1);
    CHECK(cpu.reg.e == 55);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 60);
    CHECK(cpu.reg.l == 171);
    CHECK(cpu.pc == 12460);
    CHECK(cpu.sp == 31827);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12459] == 27);
}

TEST_CASE( "1B 009A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36817;
    cpu.sp = 52173;
    cpu.reg.a = 217;
    cpu.reg.b = 181;
    cpu.reg.c = 14;
    cpu.reg.d = 39;
    cpu.reg.e = 31;
    cpu.reg.f = 16;
    cpu.reg.h = 53;
    cpu.reg.l = 162;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[36817] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 217);
    CHECK(cpu.reg.b == 181);
    CHECK(cpu.reg.c == 14);
    CHECK(cpu.reg.d == 39);
    CHECK(cpu.reg.e == 30);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 53);
    CHECK(cpu.reg.l == 162);
    CHECK(cpu.pc == 36818);
    CHECK(cpu.sp == 52173);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[36817] == 27);
}

TEST_CASE( "1B 009B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38333;
    cpu.sp = 34348;
    cpu.reg.a = 223;
    cpu.reg.b = 65;
    cpu.reg.c = 234;
    cpu.reg.d = 230;
    cpu.reg.e = 123;
    cpu.reg.f = 176;
    cpu.reg.h = 164;
    cpu.reg.l = 138;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[38333] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 223);
    CHECK(cpu.reg.b == 65);
    CHECK(cpu.reg.c == 234);
    CHECK(cpu.reg.d == 230);
    CHECK(cpu.reg.e == 122);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 164);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 38334);
    CHECK(cpu.sp == 34348);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38333] == 27);
}

TEST_CASE( "1B 009C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43451;
    cpu.sp = 40424;
    cpu.reg.a = 86;
    cpu.reg.b = 17;
    cpu.reg.c = 52;
    cpu.reg.d = 104;
    cpu.reg.e = 225;
    cpu.reg.f = 192;
    cpu.reg.h = 217;
    cpu.reg.l = 92;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[43451] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 86);
    CHECK(cpu.reg.b == 17);
    CHECK(cpu.reg.c == 52);
    CHECK(cpu.reg.d == 104);
    CHECK(cpu.reg.e == 224);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 217);
    CHECK(cpu.reg.l == 92);
    CHECK(cpu.pc == 43452);
    CHECK(cpu.sp == 40424);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[43451] == 27);
}

TEST_CASE( "1B 009D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23694;
    cpu.sp = 54232;
    cpu.reg.a = 49;
    cpu.reg.b = 101;
    cpu.reg.c = 83;
    cpu.reg.d = 60;
    cpu.reg.e = 86;
    cpu.reg.f = 48;
    cpu.reg.h = 41;
    cpu.reg.l = 230;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[23694] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 49);
    CHECK(cpu.reg.b == 101);
    CHECK(cpu.reg.c == 83);
    CHECK(cpu.reg.d == 60);
    CHECK(cpu.reg.e == 85);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 41);
    CHECK(cpu.reg.l == 230);
    CHECK(cpu.pc == 23695);
    CHECK(cpu.sp == 54232);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[23694] == 27);
}

TEST_CASE( "1B 009E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26893;
    cpu.sp = 51134;
    cpu.reg.a = 37;
    cpu.reg.b = 105;
    cpu.reg.c = 147;
    cpu.reg.d = 50;
    cpu.reg.e = 169;
    cpu.reg.f = 192;
    cpu.reg.h = 25;
    cpu.reg.l = 80;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[26893] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 37);
    CHECK(cpu.reg.b == 105);
    CHECK(cpu.reg.c == 147);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 168);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 25);
    CHECK(cpu.reg.l == 80);
    CHECK(cpu.pc == 26894);
    CHECK(cpu.sp == 51134);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26893] == 27);
}

TEST_CASE( "1B 009F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19890;
    cpu.sp = 32597;
    cpu.reg.a = 17;
    cpu.reg.b = 28;
    cpu.reg.c = 21;
    cpu.reg.d = 44;
    cpu.reg.e = 47;
    cpu.reg.f = 16;
    cpu.reg.h = 196;
    cpu.reg.l = 201;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[19890] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 17);
    CHECK(cpu.reg.b == 28);
    CHECK(cpu.reg.c == 21);
    CHECK(cpu.reg.d == 44);
    CHECK(cpu.reg.e == 46);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 196);
    CHECK(cpu.reg.l == 201);
    CHECK(cpu.pc == 19891);
    CHECK(cpu.sp == 32597);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19890] == 27);
}

TEST_CASE( "1B 00A0", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17004;
    cpu.sp = 46464;
    cpu.reg.a = 65;
    cpu.reg.b = 109;
    cpu.reg.c = 25;
    cpu.reg.d = 217;
    cpu.reg.e = 194;
    cpu.reg.f = 16;
    cpu.reg.h = 235;
    cpu.reg.l = 30;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[17004] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 65);
    CHECK(cpu.reg.b == 109);
    CHECK(cpu.reg.c == 25);
    CHECK(cpu.reg.d == 217);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 235);
    CHECK(cpu.reg.l == 30);
    CHECK(cpu.pc == 17005);
    CHECK(cpu.sp == 46464);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17004] == 27);
}

TEST_CASE( "1B 00A1", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38104;
    cpu.sp = 34224;
    cpu.reg.a = 123;
    cpu.reg.b = 181;
    cpu.reg.c = 67;
    cpu.reg.d = 172;
    cpu.reg.e = 202;
    cpu.reg.f = 176;
    cpu.reg.h = 175;
    cpu.reg.l = 216;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[38104] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 123);
    CHECK(cpu.reg.b == 181);
    CHECK(cpu.reg.c == 67);
    CHECK(cpu.reg.d == 172);
    CHECK(cpu.reg.e == 201);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 175);
    CHECK(cpu.reg.l == 216);
    CHECK(cpu.pc == 38105);
    CHECK(cpu.sp == 34224);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38104] == 27);
}

TEST_CASE( "1B 00A2", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7353;
    cpu.sp = 32561;
    cpu.reg.a = 131;
    cpu.reg.b = 200;
    cpu.reg.c = 239;
    cpu.reg.d = 169;
    cpu.reg.e = 250;
    cpu.reg.f = 224;
    cpu.reg.h = 124;
    cpu.reg.l = 226;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[7353] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 131);
    CHECK(cpu.reg.b == 200);
    CHECK(cpu.reg.c == 239);
    CHECK(cpu.reg.d == 169);
    CHECK(cpu.reg.e == 249);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 124);
    CHECK(cpu.reg.l == 226);
    CHECK(cpu.pc == 7354);
    CHECK(cpu.sp == 32561);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7353] == 27);
}

TEST_CASE( "1B 00A3", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31403;
    cpu.sp = 5681;
    cpu.reg.a = 248;
    cpu.reg.b = 110;
    cpu.reg.c = 246;
    cpu.reg.d = 175;
    cpu.reg.e = 140;
    cpu.reg.f = 144;
    cpu.reg.h = 48;
    cpu.reg.l = 55;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[31403] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 248);
    CHECK(cpu.reg.b == 110);
    CHECK(cpu.reg.c == 246);
    CHECK(cpu.reg.d == 175);
    CHECK(cpu.reg.e == 139);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 48);
    CHECK(cpu.reg.l == 55);
    CHECK(cpu.pc == 31404);
    CHECK(cpu.sp == 5681);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31403] == 27);
}

TEST_CASE( "1B 00A4", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8086;
    cpu.sp = 6120;
    cpu.reg.a = 188;
    cpu.reg.b = 71;
    cpu.reg.c = 174;
    cpu.reg.d = 181;
    cpu.reg.e = 73;
    cpu.reg.f = 64;
    cpu.reg.h = 149;
    cpu.reg.l = 113;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[8086] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 188);
    CHECK(cpu.reg.b == 71);
    CHECK(cpu.reg.c == 174);
    CHECK(cpu.reg.d == 181);
    CHECK(cpu.reg.e == 72);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 149);
    CHECK(cpu.reg.l == 113);
    CHECK(cpu.pc == 8087);
    CHECK(cpu.sp == 6120);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8086] == 27);
}

TEST_CASE( "1B 00A5", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61675;
    cpu.sp = 20594;
    cpu.reg.a = 38;
    cpu.reg.b = 229;
    cpu.reg.c = 71;
    cpu.reg.d = 6;
    cpu.reg.e = 60;
    cpu.reg.f = 128;
    cpu.reg.h = 163;
    cpu.reg.l = 169;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[61675] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 38);
    CHECK(cpu.reg.b == 229);
    CHECK(cpu.reg.c == 71);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 59);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 163);
    CHECK(cpu.reg.l == 169);
    CHECK(cpu.pc == 61676);
    CHECK(cpu.sp == 20594);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61675] == 27);
}

TEST_CASE( "1B 00A6", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21312;
    cpu.sp = 38121;
    cpu.reg.a = 141;
    cpu.reg.b = 134;
    cpu.reg.c = 48;
    cpu.reg.d = 250;
    cpu.reg.e = 125;
    cpu.reg.f = 0;
    cpu.reg.h = 236;
    cpu.reg.l = 78;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[21312] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 141);
    CHECK(cpu.reg.b == 134);
    CHECK(cpu.reg.c == 48);
    CHECK(cpu.reg.d == 250);
    CHECK(cpu.reg.e == 124);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 236);
    CHECK(cpu.reg.l == 78);
    CHECK(cpu.pc == 21313);
    CHECK(cpu.sp == 38121);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21312] == 27);
}

TEST_CASE( "1B 00A7", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52803;
    cpu.sp = 23022;
    cpu.reg.a = 22;
    cpu.reg.b = 31;
    cpu.reg.c = 209;
    cpu.reg.d = 93;
    cpu.reg.e = 30;
    cpu.reg.f = 80;
    cpu.reg.h = 80;
    cpu.reg.l = 205;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[52803] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 22);
    CHECK(cpu.reg.b == 31);
    CHECK(cpu.reg.c == 209);
    CHECK(cpu.reg.d == 93);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 80);
    CHECK(cpu.reg.l == 205);
    CHECK(cpu.pc == 52804);
    CHECK(cpu.sp == 23022);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[52803] == 27);
}

TEST_CASE( "1B 00A8", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44354;
    cpu.sp = 45295;
    cpu.reg.a = 216;
    cpu.reg.b = 241;
    cpu.reg.c = 18;
    cpu.reg.d = 239;
    cpu.reg.e = 66;
    cpu.reg.f = 192;
    cpu.reg.h = 79;
    cpu.reg.l = 91;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[44354] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 241);
    CHECK(cpu.reg.c == 18);
    CHECK(cpu.reg.d == 239);
    CHECK(cpu.reg.e == 65);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 79);
    CHECK(cpu.reg.l == 91);
    CHECK(cpu.pc == 44355);
    CHECK(cpu.sp == 45295);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44354] == 27);
}

TEST_CASE( "1B 00A9", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15559;
    cpu.sp = 47990;
    cpu.reg.a = 96;
    cpu.reg.b = 49;
    cpu.reg.c = 205;
    cpu.reg.d = 244;
    cpu.reg.e = 30;
    cpu.reg.f = 176;
    cpu.reg.h = 67;
    cpu.reg.l = 201;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[15559] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 96);
    CHECK(cpu.reg.b == 49);
    CHECK(cpu.reg.c == 205);
    CHECK(cpu.reg.d == 244);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 67);
    CHECK(cpu.reg.l == 201);
    CHECK(cpu.pc == 15560);
    CHECK(cpu.sp == 47990);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15559] == 27);
}

TEST_CASE( "1B 00AA", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58910;
    cpu.sp = 5469;
    cpu.reg.a = 72;
    cpu.reg.b = 255;
    cpu.reg.c = 123;
    cpu.reg.d = 39;
    cpu.reg.e = 49;
    cpu.reg.f = 0;
    cpu.reg.h = 235;
    cpu.reg.l = 148;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[58910] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 72);
    CHECK(cpu.reg.b == 255);
    CHECK(cpu.reg.c == 123);
    CHECK(cpu.reg.d == 39);
    CHECK(cpu.reg.e == 48);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 235);
    CHECK(cpu.reg.l == 148);
    CHECK(cpu.pc == 58911);
    CHECK(cpu.sp == 5469);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[58910] == 27);
}

TEST_CASE( "1B 00AB", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31710;
    cpu.sp = 10822;
    cpu.reg.a = 133;
    cpu.reg.b = 149;
    cpu.reg.c = 90;
    cpu.reg.d = 133;
    cpu.reg.e = 225;
    cpu.reg.f = 128;
    cpu.reg.h = 250;
    cpu.reg.l = 95;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[31710] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 133);
    CHECK(cpu.reg.b == 149);
    CHECK(cpu.reg.c == 90);
    CHECK(cpu.reg.d == 133);
    CHECK(cpu.reg.e == 224);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 250);
    CHECK(cpu.reg.l == 95);
    CHECK(cpu.pc == 31711);
    CHECK(cpu.sp == 10822);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31710] == 27);
}

TEST_CASE( "1B 00AC", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13843;
    cpu.sp = 43877;
    cpu.reg.a = 202;
    cpu.reg.b = 38;
    cpu.reg.c = 97;
    cpu.reg.d = 48;
    cpu.reg.e = 155;
    cpu.reg.f = 192;
    cpu.reg.h = 152;
    cpu.reg.l = 152;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[13843] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 202);
    CHECK(cpu.reg.b == 38);
    CHECK(cpu.reg.c == 97);
    CHECK(cpu.reg.d == 48);
    CHECK(cpu.reg.e == 154);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 152);
    CHECK(cpu.reg.l == 152);
    CHECK(cpu.pc == 13844);
    CHECK(cpu.sp == 43877);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13843] == 27);
}

TEST_CASE( "1B 00AD", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61528;
    cpu.sp = 44491;
    cpu.reg.a = 147;
    cpu.reg.b = 132;
    cpu.reg.c = 144;
    cpu.reg.d = 227;
    cpu.reg.e = 116;
    cpu.reg.f = 160;
    cpu.reg.h = 51;
    cpu.reg.l = 237;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[61528] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 147);
    CHECK(cpu.reg.b == 132);
    CHECK(cpu.reg.c == 144);
    CHECK(cpu.reg.d == 227);
    CHECK(cpu.reg.e == 115);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 51);
    CHECK(cpu.reg.l == 237);
    CHECK(cpu.pc == 61529);
    CHECK(cpu.sp == 44491);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61528] == 27);
}

TEST_CASE( "1B 00AE", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41172;
    cpu.sp = 13302;
    cpu.reg.a = 236;
    cpu.reg.b = 92;
    cpu.reg.c = 26;
    cpu.reg.d = 237;
    cpu.reg.e = 246;
    cpu.reg.f = 128;
    cpu.reg.h = 119;
    cpu.reg.l = 101;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[41172] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 236);
    CHECK(cpu.reg.b == 92);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 237);
    CHECK(cpu.reg.e == 245);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 119);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 41173);
    CHECK(cpu.sp == 13302);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[41172] == 27);
}

TEST_CASE( "1B 00AF", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62363;
    cpu.sp = 13590;
    cpu.reg.a = 21;
    cpu.reg.b = 86;
    cpu.reg.c = 222;
    cpu.reg.d = 55;
    cpu.reg.e = 131;
    cpu.reg.f = 208;
    cpu.reg.h = 104;
    cpu.reg.l = 228;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[62363] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 21);
    CHECK(cpu.reg.b == 86);
    CHECK(cpu.reg.c == 222);
    CHECK(cpu.reg.d == 55);
    CHECK(cpu.reg.e == 130);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 104);
    CHECK(cpu.reg.l == 228);
    CHECK(cpu.pc == 62364);
    CHECK(cpu.sp == 13590);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62363] == 27);
}

TEST_CASE( "1B 00B0", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54581;
    cpu.sp = 40561;
    cpu.reg.a = 17;
    cpu.reg.b = 227;
    cpu.reg.c = 210;
    cpu.reg.d = 228;
    cpu.reg.e = 161;
    cpu.reg.f = 0;
    cpu.reg.h = 116;
    cpu.reg.l = 84;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[54581] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 17);
    CHECK(cpu.reg.b == 227);
    CHECK(cpu.reg.c == 210);
    CHECK(cpu.reg.d == 228);
    CHECK(cpu.reg.e == 160);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 116);
    CHECK(cpu.reg.l == 84);
    CHECK(cpu.pc == 54582);
    CHECK(cpu.sp == 40561);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54581] == 27);
}

TEST_CASE( "1B 00B1", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43093;
    cpu.sp = 8400;
    cpu.reg.a = 94;
    cpu.reg.b = 244;
    cpu.reg.c = 22;
    cpu.reg.d = 223;
    cpu.reg.e = 41;
    cpu.reg.f = 144;
    cpu.reg.h = 238;
    cpu.reg.l = 39;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[43093] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 94);
    CHECK(cpu.reg.b == 244);
    CHECK(cpu.reg.c == 22);
    CHECK(cpu.reg.d == 223);
    CHECK(cpu.reg.e == 40);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 238);
    CHECK(cpu.reg.l == 39);
    CHECK(cpu.pc == 43094);
    CHECK(cpu.sp == 8400);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43093] == 27);
}

TEST_CASE( "1B 00B2", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50037;
    cpu.sp = 32022;
    cpu.reg.a = 45;
    cpu.reg.b = 7;
    cpu.reg.c = 247;
    cpu.reg.d = 102;
    cpu.reg.e = 176;
    cpu.reg.f = 160;
    cpu.reg.h = 36;
    cpu.reg.l = 202;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[50037] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 45);
    CHECK(cpu.reg.b == 7);
    CHECK(cpu.reg.c == 247);
    CHECK(cpu.reg.d == 102);
    CHECK(cpu.reg.e == 175);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 36);
    CHECK(cpu.reg.l == 202);
    CHECK(cpu.pc == 50038);
    CHECK(cpu.sp == 32022);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50037] == 27);
}

TEST_CASE( "1B 00B3", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46720;
    cpu.sp = 44364;
    cpu.reg.a = 214;
    cpu.reg.b = 168;
    cpu.reg.c = 174;
    cpu.reg.d = 106;
    cpu.reg.e = 162;
    cpu.reg.f = 16;
    cpu.reg.h = 243;
    cpu.reg.l = 183;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[46720] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 214);
    CHECK(cpu.reg.b == 168);
    CHECK(cpu.reg.c == 174);
    CHECK(cpu.reg.d == 106);
    CHECK(cpu.reg.e == 161);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 243);
    CHECK(cpu.reg.l == 183);
    CHECK(cpu.pc == 46721);
    CHECK(cpu.sp == 44364);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[46720] == 27);
}

TEST_CASE( "1B 00B4", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12352;
    cpu.sp = 2402;
    cpu.reg.a = 215;
    cpu.reg.b = 208;
    cpu.reg.c = 178;
    cpu.reg.d = 100;
    cpu.reg.e = 45;
    cpu.reg.f = 48;
    cpu.reg.h = 218;
    cpu.reg.l = 64;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[12352] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 215);
    CHECK(cpu.reg.b == 208);
    CHECK(cpu.reg.c == 178);
    CHECK(cpu.reg.d == 100);
    CHECK(cpu.reg.e == 44);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 218);
    CHECK(cpu.reg.l == 64);
    CHECK(cpu.pc == 12353);
    CHECK(cpu.sp == 2402);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12352] == 27);
}

TEST_CASE( "1B 00B5", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1459;
    cpu.sp = 14275;
    cpu.reg.a = 104;
    cpu.reg.b = 136;
    cpu.reg.c = 36;
    cpu.reg.d = 251;
    cpu.reg.e = 19;
    cpu.reg.f = 0;
    cpu.reg.h = 15;
    cpu.reg.l = 90;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[1459] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 104);
    CHECK(cpu.reg.b == 136);
    CHECK(cpu.reg.c == 36);
    CHECK(cpu.reg.d == 251);
    CHECK(cpu.reg.e == 18);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 15);
    CHECK(cpu.reg.l == 90);
    CHECK(cpu.pc == 1460);
    CHECK(cpu.sp == 14275);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1459] == 27);
}

TEST_CASE( "1B 00B6", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40183;
    cpu.sp = 59771;
    cpu.reg.a = 63;
    cpu.reg.b = 245;
    cpu.reg.c = 56;
    cpu.reg.d = 122;
    cpu.reg.e = 134;
    cpu.reg.f = 64;
    cpu.reg.h = 51;
    cpu.reg.l = 254;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[40183] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 63);
    CHECK(cpu.reg.b == 245);
    CHECK(cpu.reg.c == 56);
    CHECK(cpu.reg.d == 122);
    CHECK(cpu.reg.e == 133);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 51);
    CHECK(cpu.reg.l == 254);
    CHECK(cpu.pc == 40184);
    CHECK(cpu.sp == 59771);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40183] == 27);
}

TEST_CASE( "1B 00B7", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31485;
    cpu.sp = 62295;
    cpu.reg.a = 54;
    cpu.reg.b = 5;
    cpu.reg.c = 151;
    cpu.reg.d = 95;
    cpu.reg.e = 250;
    cpu.reg.f = 128;
    cpu.reg.h = 190;
    cpu.reg.l = 206;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[31485] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 54);
    CHECK(cpu.reg.b == 5);
    CHECK(cpu.reg.c == 151);
    CHECK(cpu.reg.d == 95);
    CHECK(cpu.reg.e == 249);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 190);
    CHECK(cpu.reg.l == 206);
    CHECK(cpu.pc == 31486);
    CHECK(cpu.sp == 62295);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31485] == 27);
}

TEST_CASE( "1B 00B8", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14641;
    cpu.sp = 26476;
    cpu.reg.a = 77;
    cpu.reg.b = 227;
    cpu.reg.c = 80;
    cpu.reg.d = 191;
    cpu.reg.e = 123;
    cpu.reg.f = 208;
    cpu.reg.h = 149;
    cpu.reg.l = 46;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[14641] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 77);
    CHECK(cpu.reg.b == 227);
    CHECK(cpu.reg.c == 80);
    CHECK(cpu.reg.d == 191);
    CHECK(cpu.reg.e == 122);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 149);
    CHECK(cpu.reg.l == 46);
    CHECK(cpu.pc == 14642);
    CHECK(cpu.sp == 26476);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14641] == 27);
}

TEST_CASE( "1B 00B9", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30365;
    cpu.sp = 25172;
    cpu.reg.a = 191;
    cpu.reg.b = 63;
    cpu.reg.c = 149;
    cpu.reg.d = 63;
    cpu.reg.e = 248;
    cpu.reg.f = 144;
    cpu.reg.h = 170;
    cpu.reg.l = 27;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[30365] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 191);
    CHECK(cpu.reg.b == 63);
    CHECK(cpu.reg.c == 149);
    CHECK(cpu.reg.d == 63);
    CHECK(cpu.reg.e == 247);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 170);
    CHECK(cpu.reg.l == 27);
    CHECK(cpu.pc == 30366);
    CHECK(cpu.sp == 25172);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30365] == 27);
}

TEST_CASE( "1B 00BA", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29588;
    cpu.sp = 39234;
    cpu.reg.a = 164;
    cpu.reg.b = 179;
    cpu.reg.c = 54;
    cpu.reg.d = 200;
    cpu.reg.e = 194;
    cpu.reg.f = 0;
    cpu.reg.h = 127;
    cpu.reg.l = 237;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[29588] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 164);
    CHECK(cpu.reg.b == 179);
    CHECK(cpu.reg.c == 54);
    CHECK(cpu.reg.d == 200);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 127);
    CHECK(cpu.reg.l == 237);
    CHECK(cpu.pc == 29589);
    CHECK(cpu.sp == 39234);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29588] == 27);
}

TEST_CASE( "1B 00BB", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49025;
    cpu.sp = 3021;
    cpu.reg.a = 172;
    cpu.reg.b = 105;
    cpu.reg.c = 131;
    cpu.reg.d = 141;
    cpu.reg.e = 118;
    cpu.reg.f = 208;
    cpu.reg.h = 231;
    cpu.reg.l = 177;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[49025] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 172);
    CHECK(cpu.reg.b == 105);
    CHECK(cpu.reg.c == 131);
    CHECK(cpu.reg.d == 141);
    CHECK(cpu.reg.e == 117);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 231);
    CHECK(cpu.reg.l == 177);
    CHECK(cpu.pc == 49026);
    CHECK(cpu.sp == 3021);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49025] == 27);
}

TEST_CASE( "1B 00BC", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2798;
    cpu.sp = 24451;
    cpu.reg.a = 185;
    cpu.reg.b = 186;
    cpu.reg.c = 231;
    cpu.reg.d = 94;
    cpu.reg.e = 115;
    cpu.reg.f = 64;
    cpu.reg.h = 212;
    cpu.reg.l = 50;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[2798] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 185);
    CHECK(cpu.reg.b == 186);
    CHECK(cpu.reg.c == 231);
    CHECK(cpu.reg.d == 94);
    CHECK(cpu.reg.e == 114);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 212);
    CHECK(cpu.reg.l == 50);
    CHECK(cpu.pc == 2799);
    CHECK(cpu.sp == 24451);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2798] == 27);
}

TEST_CASE( "1B 00BD", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16419;
    cpu.sp = 20275;
    cpu.reg.a = 160;
    cpu.reg.b = 176;
    cpu.reg.c = 113;
    cpu.reg.d = 185;
    cpu.reg.e = 169;
    cpu.reg.f = 0;
    cpu.reg.h = 24;
    cpu.reg.l = 127;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[16419] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 160);
    CHECK(cpu.reg.b == 176);
    CHECK(cpu.reg.c == 113);
    CHECK(cpu.reg.d == 185);
    CHECK(cpu.reg.e == 168);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 24);
    CHECK(cpu.reg.l == 127);
    CHECK(cpu.pc == 16420);
    CHECK(cpu.sp == 20275);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16419] == 27);
}

TEST_CASE( "1B 00BE", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10871;
    cpu.sp = 33413;
    cpu.reg.a = 87;
    cpu.reg.b = 210;
    cpu.reg.c = 163;
    cpu.reg.d = 85;
    cpu.reg.e = 130;
    cpu.reg.f = 144;
    cpu.reg.h = 244;
    cpu.reg.l = 211;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[10871] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 87);
    CHECK(cpu.reg.b == 210);
    CHECK(cpu.reg.c == 163);
    CHECK(cpu.reg.d == 85);
    CHECK(cpu.reg.e == 129);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 244);
    CHECK(cpu.reg.l == 211);
    CHECK(cpu.pc == 10872);
    CHECK(cpu.sp == 33413);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10871] == 27);
}

TEST_CASE( "1B 00BF", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17494;
    cpu.sp = 65263;
    cpu.reg.a = 167;
    cpu.reg.b = 194;
    cpu.reg.c = 13;
    cpu.reg.d = 138;
    cpu.reg.e = 138;
    cpu.reg.f = 32;
    cpu.reg.h = 32;
    cpu.reg.l = 118;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[17494] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 167);
    CHECK(cpu.reg.b == 194);
    CHECK(cpu.reg.c == 13);
    CHECK(cpu.reg.d == 138);
    CHECK(cpu.reg.e == 137);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 32);
    CHECK(cpu.reg.l == 118);
    CHECK(cpu.pc == 17495);
    CHECK(cpu.sp == 65263);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17494] == 27);
}

TEST_CASE( "1B 00C0", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33271;
    cpu.sp = 55264;
    cpu.reg.a = 165;
    cpu.reg.b = 155;
    cpu.reg.c = 56;
    cpu.reg.d = 248;
    cpu.reg.e = 15;
    cpu.reg.f = 96;
    cpu.reg.h = 96;
    cpu.reg.l = 195;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[33271] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 165);
    CHECK(cpu.reg.b == 155);
    CHECK(cpu.reg.c == 56);
    CHECK(cpu.reg.d == 248);
    CHECK(cpu.reg.e == 14);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 96);
    CHECK(cpu.reg.l == 195);
    CHECK(cpu.pc == 33272);
    CHECK(cpu.sp == 55264);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33271] == 27);
}

TEST_CASE( "1B 00C1", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17114;
    cpu.sp = 37955;
    cpu.reg.a = 9;
    cpu.reg.b = 175;
    cpu.reg.c = 90;
    cpu.reg.d = 4;
    cpu.reg.e = 46;
    cpu.reg.f = 160;
    cpu.reg.h = 253;
    cpu.reg.l = 67;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[17114] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 9);
    CHECK(cpu.reg.b == 175);
    CHECK(cpu.reg.c == 90);
    CHECK(cpu.reg.d == 4);
    CHECK(cpu.reg.e == 45);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 253);
    CHECK(cpu.reg.l == 67);
    CHECK(cpu.pc == 17115);
    CHECK(cpu.sp == 37955);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17114] == 27);
}

TEST_CASE( "1B 00C2", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56536;
    cpu.sp = 63110;
    cpu.reg.a = 86;
    cpu.reg.b = 190;
    cpu.reg.c = 146;
    cpu.reg.d = 214;
    cpu.reg.e = 180;
    cpu.reg.f = 240;
    cpu.reg.h = 47;
    cpu.reg.l = 176;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[56536] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 86);
    CHECK(cpu.reg.b == 190);
    CHECK(cpu.reg.c == 146);
    CHECK(cpu.reg.d == 214);
    CHECK(cpu.reg.e == 179);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 47);
    CHECK(cpu.reg.l == 176);
    CHECK(cpu.pc == 56537);
    CHECK(cpu.sp == 63110);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56536] == 27);
}

TEST_CASE( "1B 00C3", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5810;
    cpu.sp = 19884;
    cpu.reg.a = 151;
    cpu.reg.b = 94;
    cpu.reg.c = 119;
    cpu.reg.d = 63;
    cpu.reg.e = 32;
    cpu.reg.f = 48;
    cpu.reg.h = 195;
    cpu.reg.l = 233;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[5810] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 151);
    CHECK(cpu.reg.b == 94);
    CHECK(cpu.reg.c == 119);
    CHECK(cpu.reg.d == 63);
    CHECK(cpu.reg.e == 31);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 195);
    CHECK(cpu.reg.l == 233);
    CHECK(cpu.pc == 5811);
    CHECK(cpu.sp == 19884);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5810] == 27);
}

TEST_CASE( "1B 00C4", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4620;
    cpu.sp = 21521;
    cpu.reg.a = 31;
    cpu.reg.b = 215;
    cpu.reg.c = 113;
    cpu.reg.d = 248;
    cpu.reg.e = 12;
    cpu.reg.f = 192;
    cpu.reg.h = 234;
    cpu.reg.l = 253;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4620] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 31);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 113);
    CHECK(cpu.reg.d == 248);
    CHECK(cpu.reg.e == 11);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 234);
    CHECK(cpu.reg.l == 253);
    CHECK(cpu.pc == 4621);
    CHECK(cpu.sp == 21521);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4620] == 27);
}

TEST_CASE( "1B 00C5", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32702;
    cpu.sp = 50465;
    cpu.reg.a = 242;
    cpu.reg.b = 1;
    cpu.reg.c = 40;
    cpu.reg.d = 178;
    cpu.reg.e = 50;
    cpu.reg.f = 192;
    cpu.reg.h = 68;
    cpu.reg.l = 91;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[32702] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 242);
    CHECK(cpu.reg.b == 1);
    CHECK(cpu.reg.c == 40);
    CHECK(cpu.reg.d == 178);
    CHECK(cpu.reg.e == 49);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 68);
    CHECK(cpu.reg.l == 91);
    CHECK(cpu.pc == 32703);
    CHECK(cpu.sp == 50465);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[32702] == 27);
}

TEST_CASE( "1B 00C6", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9786;
    cpu.sp = 33859;
    cpu.reg.a = 223;
    cpu.reg.b = 233;
    cpu.reg.c = 1;
    cpu.reg.d = 240;
    cpu.reg.e = 130;
    cpu.reg.f = 16;
    cpu.reg.h = 163;
    cpu.reg.l = 22;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[9786] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 223);
    CHECK(cpu.reg.b == 233);
    CHECK(cpu.reg.c == 1);
    CHECK(cpu.reg.d == 240);
    CHECK(cpu.reg.e == 129);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 163);
    CHECK(cpu.reg.l == 22);
    CHECK(cpu.pc == 9787);
    CHECK(cpu.sp == 33859);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9786] == 27);
}

TEST_CASE( "1B 00C7", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37325;
    cpu.sp = 22531;
    cpu.reg.a = 158;
    cpu.reg.b = 115;
    cpu.reg.c = 18;
    cpu.reg.d = 56;
    cpu.reg.e = 51;
    cpu.reg.f = 64;
    cpu.reg.h = 46;
    cpu.reg.l = 158;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[37325] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 158);
    CHECK(cpu.reg.b == 115);
    CHECK(cpu.reg.c == 18);
    CHECK(cpu.reg.d == 56);
    CHECK(cpu.reg.e == 50);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 46);
    CHECK(cpu.reg.l == 158);
    CHECK(cpu.pc == 37326);
    CHECK(cpu.sp == 22531);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[37325] == 27);
}

TEST_CASE( "1B 00C8", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64901;
    cpu.sp = 25565;
    cpu.reg.a = 0;
    cpu.reg.b = 74;
    cpu.reg.c = 0;
    cpu.reg.d = 37;
    cpu.reg.e = 84;
    cpu.reg.f = 16;
    cpu.reg.h = 218;
    cpu.reg.l = 40;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[64901] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 0);
    CHECK(cpu.reg.b == 74);
    CHECK(cpu.reg.c == 0);
    CHECK(cpu.reg.d == 37);
    CHECK(cpu.reg.e == 83);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 218);
    CHECK(cpu.reg.l == 40);
    CHECK(cpu.pc == 64902);
    CHECK(cpu.sp == 25565);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64901] == 27);
}

TEST_CASE( "1B 00C9", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24215;
    cpu.sp = 8523;
    cpu.reg.a = 205;
    cpu.reg.b = 38;
    cpu.reg.c = 0;
    cpu.reg.d = 3;
    cpu.reg.e = 249;
    cpu.reg.f = 16;
    cpu.reg.h = 129;
    cpu.reg.l = 38;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[24215] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 205);
    CHECK(cpu.reg.b == 38);
    CHECK(cpu.reg.c == 0);
    CHECK(cpu.reg.d == 3);
    CHECK(cpu.reg.e == 248);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 129);
    CHECK(cpu.reg.l == 38);
    CHECK(cpu.pc == 24216);
    CHECK(cpu.sp == 8523);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24215] == 27);
}

TEST_CASE( "1B 00CA", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16538;
    cpu.sp = 42072;
    cpu.reg.a = 100;
    cpu.reg.b = 79;
    cpu.reg.c = 77;
    cpu.reg.d = 179;
    cpu.reg.e = 102;
    cpu.reg.f = 112;
    cpu.reg.h = 207;
    cpu.reg.l = 181;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[16538] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 100);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 77);
    CHECK(cpu.reg.d == 179);
    CHECK(cpu.reg.e == 101);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 207);
    CHECK(cpu.reg.l == 181);
    CHECK(cpu.pc == 16539);
    CHECK(cpu.sp == 42072);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16538] == 27);
}

TEST_CASE( "1B 00CB", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56677;
    cpu.sp = 17681;
    cpu.reg.a = 170;
    cpu.reg.b = 166;
    cpu.reg.c = 178;
    cpu.reg.d = 14;
    cpu.reg.e = 144;
    cpu.reg.f = 16;
    cpu.reg.h = 35;
    cpu.reg.l = 89;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[56677] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 170);
    CHECK(cpu.reg.b == 166);
    CHECK(cpu.reg.c == 178);
    CHECK(cpu.reg.d == 14);
    CHECK(cpu.reg.e == 143);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 35);
    CHECK(cpu.reg.l == 89);
    CHECK(cpu.pc == 56678);
    CHECK(cpu.sp == 17681);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56677] == 27);
}

TEST_CASE( "1B 00CC", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44420;
    cpu.sp = 34453;
    cpu.reg.a = 99;
    cpu.reg.b = 220;
    cpu.reg.c = 89;
    cpu.reg.d = 96;
    cpu.reg.e = 128;
    cpu.reg.f = 96;
    cpu.reg.h = 175;
    cpu.reg.l = 69;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[44420] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 99);
    CHECK(cpu.reg.b == 220);
    CHECK(cpu.reg.c == 89);
    CHECK(cpu.reg.d == 96);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 175);
    CHECK(cpu.reg.l == 69);
    CHECK(cpu.pc == 44421);
    CHECK(cpu.sp == 34453);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44420] == 27);
}

TEST_CASE( "1B 00CD", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16197;
    cpu.sp = 34540;
    cpu.reg.a = 67;
    cpu.reg.b = 112;
    cpu.reg.c = 106;
    cpu.reg.d = 37;
    cpu.reg.e = 26;
    cpu.reg.f = 176;
    cpu.reg.h = 0;
    cpu.reg.l = 243;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[16197] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 67);
    CHECK(cpu.reg.b == 112);
    CHECK(cpu.reg.c == 106);
    CHECK(cpu.reg.d == 37);
    CHECK(cpu.reg.e == 25);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 0);
    CHECK(cpu.reg.l == 243);
    CHECK(cpu.pc == 16198);
    CHECK(cpu.sp == 34540);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16197] == 27);
}

TEST_CASE( "1B 00CE", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10626;
    cpu.sp = 8197;
    cpu.reg.a = 226;
    cpu.reg.b = 47;
    cpu.reg.c = 54;
    cpu.reg.d = 110;
    cpu.reg.e = 178;
    cpu.reg.f = 176;
    cpu.reg.h = 172;
    cpu.reg.l = 0;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[10626] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 226);
    CHECK(cpu.reg.b == 47);
    CHECK(cpu.reg.c == 54);
    CHECK(cpu.reg.d == 110);
    CHECK(cpu.reg.e == 177);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 172);
    CHECK(cpu.reg.l == 0);
    CHECK(cpu.pc == 10627);
    CHECK(cpu.sp == 8197);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10626] == 27);
}

TEST_CASE( "1B 00CF", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51008;
    cpu.sp = 37868;
    cpu.reg.a = 2;
    cpu.reg.b = 29;
    cpu.reg.c = 76;
    cpu.reg.d = 206;
    cpu.reg.e = 121;
    cpu.reg.f = 48;
    cpu.reg.h = 57;
    cpu.reg.l = 132;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[51008] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 2);
    CHECK(cpu.reg.b == 29);
    CHECK(cpu.reg.c == 76);
    CHECK(cpu.reg.d == 206);
    CHECK(cpu.reg.e == 120);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 57);
    CHECK(cpu.reg.l == 132);
    CHECK(cpu.pc == 51009);
    CHECK(cpu.sp == 37868);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51008] == 27);
}

TEST_CASE( "1B 00D0", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4222;
    cpu.sp = 53047;
    cpu.reg.a = 210;
    cpu.reg.b = 153;
    cpu.reg.c = 83;
    cpu.reg.d = 252;
    cpu.reg.e = 228;
    cpu.reg.f = 0;
    cpu.reg.h = 0;
    cpu.reg.l = 218;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4222] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 210);
    CHECK(cpu.reg.b == 153);
    CHECK(cpu.reg.c == 83);
    CHECK(cpu.reg.d == 252);
    CHECK(cpu.reg.e == 227);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 0);
    CHECK(cpu.reg.l == 218);
    CHECK(cpu.pc == 4223);
    CHECK(cpu.sp == 53047);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4222] == 27);
}

TEST_CASE( "1B 00D1", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39704;
    cpu.sp = 10301;
    cpu.reg.a = 231;
    cpu.reg.b = 85;
    cpu.reg.c = 56;
    cpu.reg.d = 62;
    cpu.reg.e = 136;
    cpu.reg.f = 208;
    cpu.reg.h = 194;
    cpu.reg.l = 242;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[39704] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 231);
    CHECK(cpu.reg.b == 85);
    CHECK(cpu.reg.c == 56);
    CHECK(cpu.reg.d == 62);
    CHECK(cpu.reg.e == 135);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 194);
    CHECK(cpu.reg.l == 242);
    CHECK(cpu.pc == 39705);
    CHECK(cpu.sp == 10301);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39704] == 27);
}

TEST_CASE( "1B 00D2", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44623;
    cpu.sp = 35646;
    cpu.reg.a = 15;
    cpu.reg.b = 190;
    cpu.reg.c = 191;
    cpu.reg.d = 195;
    cpu.reg.e = 62;
    cpu.reg.f = 192;
    cpu.reg.h = 45;
    cpu.reg.l = 138;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[44623] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 15);
    CHECK(cpu.reg.b == 190);
    CHECK(cpu.reg.c == 191);
    CHECK(cpu.reg.d == 195);
    CHECK(cpu.reg.e == 61);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 45);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 44624);
    CHECK(cpu.sp == 35646);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44623] == 27);
}

TEST_CASE( "1B 00D3", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28092;
    cpu.sp = 38328;
    cpu.reg.a = 255;
    cpu.reg.b = 161;
    cpu.reg.c = 253;
    cpu.reg.d = 0;
    cpu.reg.e = 219;
    cpu.reg.f = 80;
    cpu.reg.h = 124;
    cpu.reg.l = 30;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[28092] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 255);
    CHECK(cpu.reg.b == 161);
    CHECK(cpu.reg.c == 253);
    CHECK(cpu.reg.d == 0);
    CHECK(cpu.reg.e == 218);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 124);
    CHECK(cpu.reg.l == 30);
    CHECK(cpu.pc == 28093);
    CHECK(cpu.sp == 38328);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[28092] == 27);
}

TEST_CASE( "1B 00D4", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27131;
    cpu.sp = 42779;
    cpu.reg.a = 52;
    cpu.reg.b = 164;
    cpu.reg.c = 89;
    cpu.reg.d = 25;
    cpu.reg.e = 230;
    cpu.reg.f = 176;
    cpu.reg.h = 111;
    cpu.reg.l = 126;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[27131] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 52);
    CHECK(cpu.reg.b == 164);
    CHECK(cpu.reg.c == 89);
    CHECK(cpu.reg.d == 25);
    CHECK(cpu.reg.e == 229);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 111);
    CHECK(cpu.reg.l == 126);
    CHECK(cpu.pc == 27132);
    CHECK(cpu.sp == 42779);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27131] == 27);
}

TEST_CASE( "1B 00D5", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7782;
    cpu.sp = 53693;
    cpu.reg.a = 66;
    cpu.reg.b = 154;
    cpu.reg.c = 194;
    cpu.reg.d = 217;
    cpu.reg.e = 9;
    cpu.reg.f = 240;
    cpu.reg.h = 0;
    cpu.reg.l = 253;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[7782] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 66);
    CHECK(cpu.reg.b == 154);
    CHECK(cpu.reg.c == 194);
    CHECK(cpu.reg.d == 217);
    CHECK(cpu.reg.e == 8);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 0);
    CHECK(cpu.reg.l == 253);
    CHECK(cpu.pc == 7783);
    CHECK(cpu.sp == 53693);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7782] == 27);
}

TEST_CASE( "1B 00D6", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50269;
    cpu.sp = 16186;
    cpu.reg.a = 71;
    cpu.reg.b = 87;
    cpu.reg.c = 79;
    cpu.reg.d = 97;
    cpu.reg.e = 81;
    cpu.reg.f = 96;
    cpu.reg.h = 208;
    cpu.reg.l = 240;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[50269] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 71);
    CHECK(cpu.reg.b == 87);
    CHECK(cpu.reg.c == 79);
    CHECK(cpu.reg.d == 97);
    CHECK(cpu.reg.e == 80);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 208);
    CHECK(cpu.reg.l == 240);
    CHECK(cpu.pc == 50270);
    CHECK(cpu.sp == 16186);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50269] == 27);
}

TEST_CASE( "1B 00D7", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27389;
    cpu.sp = 10742;
    cpu.reg.a = 98;
    cpu.reg.b = 254;
    cpu.reg.c = 44;
    cpu.reg.d = 6;
    cpu.reg.e = 233;
    cpu.reg.f = 64;
    cpu.reg.h = 36;
    cpu.reg.l = 78;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[27389] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 98);
    CHECK(cpu.reg.b == 254);
    CHECK(cpu.reg.c == 44);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 232);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 36);
    CHECK(cpu.reg.l == 78);
    CHECK(cpu.pc == 27390);
    CHECK(cpu.sp == 10742);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27389] == 27);
}

TEST_CASE( "1B 00D8", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51759;
    cpu.sp = 9078;
    cpu.reg.a = 70;
    cpu.reg.b = 26;
    cpu.reg.c = 109;
    cpu.reg.d = 80;
    cpu.reg.e = 1;
    cpu.reg.f = 16;
    cpu.reg.h = 51;
    cpu.reg.l = 132;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[51759] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 70);
    CHECK(cpu.reg.b == 26);
    CHECK(cpu.reg.c == 109);
    CHECK(cpu.reg.d == 80);
    CHECK(cpu.reg.e == 0);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 51);
    CHECK(cpu.reg.l == 132);
    CHECK(cpu.pc == 51760);
    CHECK(cpu.sp == 9078);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51759] == 27);
}

TEST_CASE( "1B 00D9", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54411;
    cpu.sp = 58857;
    cpu.reg.a = 173;
    cpu.reg.b = 27;
    cpu.reg.c = 241;
    cpu.reg.d = 113;
    cpu.reg.e = 208;
    cpu.reg.f = 80;
    cpu.reg.h = 25;
    cpu.reg.l = 32;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[54411] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 173);
    CHECK(cpu.reg.b == 27);
    CHECK(cpu.reg.c == 241);
    CHECK(cpu.reg.d == 113);
    CHECK(cpu.reg.e == 207);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 25);
    CHECK(cpu.reg.l == 32);
    CHECK(cpu.pc == 54412);
    CHECK(cpu.sp == 58857);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54411] == 27);
}

TEST_CASE( "1B 00DA", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46689;
    cpu.sp = 15376;
    cpu.reg.a = 129;
    cpu.reg.b = 209;
    cpu.reg.c = 112;
    cpu.reg.d = 128;
    cpu.reg.e = 194;
    cpu.reg.f = 208;
    cpu.reg.h = 65;
    cpu.reg.l = 47;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[46689] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 129);
    CHECK(cpu.reg.b == 209);
    CHECK(cpu.reg.c == 112);
    CHECK(cpu.reg.d == 128);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 65);
    CHECK(cpu.reg.l == 47);
    CHECK(cpu.pc == 46690);
    CHECK(cpu.sp == 15376);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46689] == 27);
}

TEST_CASE( "1B 00DB", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3027;
    cpu.sp = 64881;
    cpu.reg.a = 195;
    cpu.reg.b = 151;
    cpu.reg.c = 204;
    cpu.reg.d = 200;
    cpu.reg.e = 58;
    cpu.reg.f = 144;
    cpu.reg.h = 81;
    cpu.reg.l = 179;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[3027] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 195);
    CHECK(cpu.reg.b == 151);
    CHECK(cpu.reg.c == 204);
    CHECK(cpu.reg.d == 200);
    CHECK(cpu.reg.e == 57);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 81);
    CHECK(cpu.reg.l == 179);
    CHECK(cpu.pc == 3028);
    CHECK(cpu.sp == 64881);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3027] == 27);
}

TEST_CASE( "1B 00DC", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35789;
    cpu.sp = 6369;
    cpu.reg.a = 4;
    cpu.reg.b = 249;
    cpu.reg.c = 117;
    cpu.reg.d = 100;
    cpu.reg.e = 89;
    cpu.reg.f = 112;
    cpu.reg.h = 23;
    cpu.reg.l = 207;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[35789] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 4);
    CHECK(cpu.reg.b == 249);
    CHECK(cpu.reg.c == 117);
    CHECK(cpu.reg.d == 100);
    CHECK(cpu.reg.e == 88);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 23);
    CHECK(cpu.reg.l == 207);
    CHECK(cpu.pc == 35790);
    CHECK(cpu.sp == 6369);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35789] == 27);
}

TEST_CASE( "1B 00DD", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3142;
    cpu.sp = 56133;
    cpu.reg.a = 92;
    cpu.reg.b = 110;
    cpu.reg.c = 130;
    cpu.reg.d = 45;
    cpu.reg.e = 190;
    cpu.reg.f = 128;
    cpu.reg.h = 51;
    cpu.reg.l = 106;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[3142] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 92);
    CHECK(cpu.reg.b == 110);
    CHECK(cpu.reg.c == 130);
    CHECK(cpu.reg.d == 45);
    CHECK(cpu.reg.e == 189);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 51);
    CHECK(cpu.reg.l == 106);
    CHECK(cpu.pc == 3143);
    CHECK(cpu.sp == 56133);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3142] == 27);
}

TEST_CASE( "1B 00DE", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21280;
    cpu.sp = 63050;
    cpu.reg.a = 196;
    cpu.reg.b = 25;
    cpu.reg.c = 188;
    cpu.reg.d = 101;
    cpu.reg.e = 234;
    cpu.reg.f = 128;
    cpu.reg.h = 43;
    cpu.reg.l = 67;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[21280] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 196);
    CHECK(cpu.reg.b == 25);
    CHECK(cpu.reg.c == 188);
    CHECK(cpu.reg.d == 101);
    CHECK(cpu.reg.e == 233);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 43);
    CHECK(cpu.reg.l == 67);
    CHECK(cpu.pc == 21281);
    CHECK(cpu.sp == 63050);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21280] == 27);
}

TEST_CASE( "1B 00DF", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60007;
    cpu.sp = 29452;
    cpu.reg.a = 99;
    cpu.reg.b = 54;
    cpu.reg.c = 14;
    cpu.reg.d = 201;
    cpu.reg.e = 176;
    cpu.reg.f = 48;
    cpu.reg.h = 26;
    cpu.reg.l = 76;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[60007] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 99);
    CHECK(cpu.reg.b == 54);
    CHECK(cpu.reg.c == 14);
    CHECK(cpu.reg.d == 201);
    CHECK(cpu.reg.e == 175);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 26);
    CHECK(cpu.reg.l == 76);
    CHECK(cpu.pc == 60008);
    CHECK(cpu.sp == 29452);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[60007] == 27);
}

TEST_CASE( "1B 00E0", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50910;
    cpu.sp = 14749;
    cpu.reg.a = 101;
    cpu.reg.b = 214;
    cpu.reg.c = 79;
    cpu.reg.d = 45;
    cpu.reg.e = 69;
    cpu.reg.f = 0;
    cpu.reg.h = 153;
    cpu.reg.l = 135;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[50910] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 101);
    CHECK(cpu.reg.b == 214);
    CHECK(cpu.reg.c == 79);
    CHECK(cpu.reg.d == 45);
    CHECK(cpu.reg.e == 68);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 153);
    CHECK(cpu.reg.l == 135);
    CHECK(cpu.pc == 50911);
    CHECK(cpu.sp == 14749);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50910] == 27);
}

TEST_CASE( "1B 00E1", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60401;
    cpu.sp = 7757;
    cpu.reg.a = 20;
    cpu.reg.b = 211;
    cpu.reg.c = 44;
    cpu.reg.d = 174;
    cpu.reg.e = 193;
    cpu.reg.f = 192;
    cpu.reg.h = 179;
    cpu.reg.l = 60;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[60401] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 20);
    CHECK(cpu.reg.b == 211);
    CHECK(cpu.reg.c == 44);
    CHECK(cpu.reg.d == 174);
    CHECK(cpu.reg.e == 192);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 179);
    CHECK(cpu.reg.l == 60);
    CHECK(cpu.pc == 60402);
    CHECK(cpu.sp == 7757);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[60401] == 27);
}

TEST_CASE( "1B 00E2", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49777;
    cpu.sp = 44082;
    cpu.reg.a = 87;
    cpu.reg.b = 16;
    cpu.reg.c = 243;
    cpu.reg.d = 129;
    cpu.reg.e = 34;
    cpu.reg.f = 80;
    cpu.reg.h = 103;
    cpu.reg.l = 93;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[49777] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 87);
    CHECK(cpu.reg.b == 16);
    CHECK(cpu.reg.c == 243);
    CHECK(cpu.reg.d == 129);
    CHECK(cpu.reg.e == 33);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 103);
    CHECK(cpu.reg.l == 93);
    CHECK(cpu.pc == 49778);
    CHECK(cpu.sp == 44082);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49777] == 27);
}

TEST_CASE( "1B 00E3", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14649;
    cpu.sp = 42036;
    cpu.reg.a = 244;
    cpu.reg.b = 110;
    cpu.reg.c = 231;
    cpu.reg.d = 80;
    cpu.reg.e = 11;
    cpu.reg.f = 96;
    cpu.reg.h = 181;
    cpu.reg.l = 153;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[14649] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 244);
    CHECK(cpu.reg.b == 110);
    CHECK(cpu.reg.c == 231);
    CHECK(cpu.reg.d == 80);
    CHECK(cpu.reg.e == 10);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 181);
    CHECK(cpu.reg.l == 153);
    CHECK(cpu.pc == 14650);
    CHECK(cpu.sp == 42036);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14649] == 27);
}

TEST_CASE( "1B 00E4", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15493;
    cpu.sp = 50578;
    cpu.reg.a = 54;
    cpu.reg.b = 1;
    cpu.reg.c = 11;
    cpu.reg.d = 92;
    cpu.reg.e = 70;
    cpu.reg.f = 208;
    cpu.reg.h = 91;
    cpu.reg.l = 61;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[15493] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 54);
    CHECK(cpu.reg.b == 1);
    CHECK(cpu.reg.c == 11);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 69);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 91);
    CHECK(cpu.reg.l == 61);
    CHECK(cpu.pc == 15494);
    CHECK(cpu.sp == 50578);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15493] == 27);
}

TEST_CASE( "1B 00E5", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40497;
    cpu.sp = 55124;
    cpu.reg.a = 180;
    cpu.reg.b = 43;
    cpu.reg.c = 210;
    cpu.reg.d = 189;
    cpu.reg.e = 239;
    cpu.reg.f = 32;
    cpu.reg.h = 218;
    cpu.reg.l = 187;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[40497] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 180);
    CHECK(cpu.reg.b == 43);
    CHECK(cpu.reg.c == 210);
    CHECK(cpu.reg.d == 189);
    CHECK(cpu.reg.e == 238);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 218);
    CHECK(cpu.reg.l == 187);
    CHECK(cpu.pc == 40498);
    CHECK(cpu.sp == 55124);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40497] == 27);
}

TEST_CASE( "1B 00E6", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60561;
    cpu.sp = 58861;
    cpu.reg.a = 98;
    cpu.reg.b = 56;
    cpu.reg.c = 189;
    cpu.reg.d = 175;
    cpu.reg.e = 70;
    cpu.reg.f = 144;
    cpu.reg.h = 216;
    cpu.reg.l = 170;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[60561] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 98);
    CHECK(cpu.reg.b == 56);
    CHECK(cpu.reg.c == 189);
    CHECK(cpu.reg.d == 175);
    CHECK(cpu.reg.e == 69);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 216);
    CHECK(cpu.reg.l == 170);
    CHECK(cpu.pc == 60562);
    CHECK(cpu.sp == 58861);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[60561] == 27);
}

TEST_CASE( "1B 00E7", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62558;
    cpu.sp = 11076;
    cpu.reg.a = 107;
    cpu.reg.b = 16;
    cpu.reg.c = 184;
    cpu.reg.d = 199;
    cpu.reg.e = 231;
    cpu.reg.f = 0;
    cpu.reg.h = 82;
    cpu.reg.l = 226;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[62558] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 107);
    CHECK(cpu.reg.b == 16);
    CHECK(cpu.reg.c == 184);
    CHECK(cpu.reg.d == 199);
    CHECK(cpu.reg.e == 230);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 82);
    CHECK(cpu.reg.l == 226);
    CHECK(cpu.pc == 62559);
    CHECK(cpu.sp == 11076);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62558] == 27);
}

TEST_CASE( "1B 00E8", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52173;
    cpu.sp = 54745;
    cpu.reg.a = 237;
    cpu.reg.b = 253;
    cpu.reg.c = 87;
    cpu.reg.d = 214;
    cpu.reg.e = 125;
    cpu.reg.f = 128;
    cpu.reg.h = 125;
    cpu.reg.l = 32;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[52173] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 237);
    CHECK(cpu.reg.b == 253);
    CHECK(cpu.reg.c == 87);
    CHECK(cpu.reg.d == 214);
    CHECK(cpu.reg.e == 124);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 125);
    CHECK(cpu.reg.l == 32);
    CHECK(cpu.pc == 52174);
    CHECK(cpu.sp == 54745);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[52173] == 27);
}

TEST_CASE( "1B 00E9", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45468;
    cpu.sp = 65282;
    cpu.reg.a = 200;
    cpu.reg.b = 203;
    cpu.reg.c = 223;
    cpu.reg.d = 168;
    cpu.reg.e = 162;
    cpu.reg.f = 16;
    cpu.reg.h = 11;
    cpu.reg.l = 239;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[45468] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 200);
    CHECK(cpu.reg.b == 203);
    CHECK(cpu.reg.c == 223);
    CHECK(cpu.reg.d == 168);
    CHECK(cpu.reg.e == 161);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 11);
    CHECK(cpu.reg.l == 239);
    CHECK(cpu.pc == 45469);
    CHECK(cpu.sp == 65282);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45468] == 27);
}

TEST_CASE( "1B 00EA", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9038;
    cpu.sp = 49714;
    cpu.reg.a = 204;
    cpu.reg.b = 168;
    cpu.reg.c = 68;
    cpu.reg.d = 55;
    cpu.reg.e = 212;
    cpu.reg.f = 96;
    cpu.reg.h = 21;
    cpu.reg.l = 34;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[9038] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 204);
    CHECK(cpu.reg.b == 168);
    CHECK(cpu.reg.c == 68);
    CHECK(cpu.reg.d == 55);
    CHECK(cpu.reg.e == 211);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 21);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 9039);
    CHECK(cpu.sp == 49714);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9038] == 27);
}

TEST_CASE( "1B 00EB", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5333;
    cpu.sp = 18144;
    cpu.reg.a = 2;
    cpu.reg.b = 72;
    cpu.reg.c = 169;
    cpu.reg.d = 47;
    cpu.reg.e = 156;
    cpu.reg.f = 160;
    cpu.reg.h = 218;
    cpu.reg.l = 147;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[5333] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 2);
    CHECK(cpu.reg.b == 72);
    CHECK(cpu.reg.c == 169);
    CHECK(cpu.reg.d == 47);
    CHECK(cpu.reg.e == 155);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 218);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 5334);
    CHECK(cpu.sp == 18144);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5333] == 27);
}

TEST_CASE( "1B 00EC", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49712;
    cpu.sp = 18098;
    cpu.reg.a = 140;
    cpu.reg.b = 78;
    cpu.reg.c = 237;
    cpu.reg.d = 80;
    cpu.reg.e = 119;
    cpu.reg.f = 64;
    cpu.reg.h = 48;
    cpu.reg.l = 228;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[49712] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 140);
    CHECK(cpu.reg.b == 78);
    CHECK(cpu.reg.c == 237);
    CHECK(cpu.reg.d == 80);
    CHECK(cpu.reg.e == 118);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 48);
    CHECK(cpu.reg.l == 228);
    CHECK(cpu.pc == 49713);
    CHECK(cpu.sp == 18098);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49712] == 27);
}

TEST_CASE( "1B 00ED", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48772;
    cpu.sp = 63003;
    cpu.reg.a = 54;
    cpu.reg.b = 194;
    cpu.reg.c = 88;
    cpu.reg.d = 59;
    cpu.reg.e = 237;
    cpu.reg.f = 160;
    cpu.reg.h = 133;
    cpu.reg.l = 174;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[48772] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 54);
    CHECK(cpu.reg.b == 194);
    CHECK(cpu.reg.c == 88);
    CHECK(cpu.reg.d == 59);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 133);
    CHECK(cpu.reg.l == 174);
    CHECK(cpu.pc == 48773);
    CHECK(cpu.sp == 63003);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48772] == 27);
}

TEST_CASE( "1B 00EE", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25221;
    cpu.sp = 41500;
    cpu.reg.a = 39;
    cpu.reg.b = 37;
    cpu.reg.c = 253;
    cpu.reg.d = 72;
    cpu.reg.e = 158;
    cpu.reg.f = 192;
    cpu.reg.h = 46;
    cpu.reg.l = 146;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[25221] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 39);
    CHECK(cpu.reg.b == 37);
    CHECK(cpu.reg.c == 253);
    CHECK(cpu.reg.d == 72);
    CHECK(cpu.reg.e == 157);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 46);
    CHECK(cpu.reg.l == 146);
    CHECK(cpu.pc == 25222);
    CHECK(cpu.sp == 41500);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25221] == 27);
}

TEST_CASE( "1B 00EF", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37615;
    cpu.sp = 670;
    cpu.reg.a = 205;
    cpu.reg.b = 254;
    cpu.reg.c = 140;
    cpu.reg.d = 166;
    cpu.reg.e = 247;
    cpu.reg.f = 96;
    cpu.reg.h = 12;
    cpu.reg.l = 210;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[37615] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 205);
    CHECK(cpu.reg.b == 254);
    CHECK(cpu.reg.c == 140);
    CHECK(cpu.reg.d == 166);
    CHECK(cpu.reg.e == 246);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 12);
    CHECK(cpu.reg.l == 210);
    CHECK(cpu.pc == 37616);
    CHECK(cpu.sp == 670);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[37615] == 27);
}

TEST_CASE( "1B 00F0", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 177;
    cpu.sp = 30012;
    cpu.reg.a = 192;
    cpu.reg.b = 226;
    cpu.reg.c = 157;
    cpu.reg.d = 220;
    cpu.reg.e = 36;
    cpu.reg.f = 144;
    cpu.reg.h = 114;
    cpu.reg.l = 77;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[177] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 192);
    CHECK(cpu.reg.b == 226);
    CHECK(cpu.reg.c == 157);
    CHECK(cpu.reg.d == 220);
    CHECK(cpu.reg.e == 35);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 114);
    CHECK(cpu.reg.l == 77);
    CHECK(cpu.pc == 178);
    CHECK(cpu.sp == 30012);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[177] == 27);
}

TEST_CASE( "1B 00F1", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58772;
    cpu.sp = 49152;
    cpu.reg.a = 40;
    cpu.reg.b = 26;
    cpu.reg.c = 19;
    cpu.reg.d = 45;
    cpu.reg.e = 32;
    cpu.reg.f = 112;
    cpu.reg.h = 186;
    cpu.reg.l = 98;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[58772] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 40);
    CHECK(cpu.reg.b == 26);
    CHECK(cpu.reg.c == 19);
    CHECK(cpu.reg.d == 45);
    CHECK(cpu.reg.e == 31);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 186);
    CHECK(cpu.reg.l == 98);
    CHECK(cpu.pc == 58773);
    CHECK(cpu.sp == 49152);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[58772] == 27);
}

TEST_CASE( "1B 00F2", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46641;
    cpu.sp = 60344;
    cpu.reg.a = 50;
    cpu.reg.b = 242;
    cpu.reg.c = 189;
    cpu.reg.d = 255;
    cpu.reg.e = 212;
    cpu.reg.f = 32;
    cpu.reg.h = 152;
    cpu.reg.l = 34;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[46641] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 50);
    CHECK(cpu.reg.b == 242);
    CHECK(cpu.reg.c == 189);
    CHECK(cpu.reg.d == 255);
    CHECK(cpu.reg.e == 211);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 152);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 46642);
    CHECK(cpu.sp == 60344);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[46641] == 27);
}

TEST_CASE( "1B 00F3", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14220;
    cpu.sp = 32117;
    cpu.reg.a = 32;
    cpu.reg.b = 151;
    cpu.reg.c = 4;
    cpu.reg.d = 22;
    cpu.reg.e = 181;
    cpu.reg.f = 192;
    cpu.reg.h = 232;
    cpu.reg.l = 127;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[14220] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 32);
    CHECK(cpu.reg.b == 151);
    CHECK(cpu.reg.c == 4);
    CHECK(cpu.reg.d == 22);
    CHECK(cpu.reg.e == 180);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 232);
    CHECK(cpu.reg.l == 127);
    CHECK(cpu.pc == 14221);
    CHECK(cpu.sp == 32117);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14220] == 27);
}

TEST_CASE( "1B 00F4", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2767;
    cpu.sp = 39054;
    cpu.reg.a = 185;
    cpu.reg.b = 93;
    cpu.reg.c = 39;
    cpu.reg.d = 154;
    cpu.reg.e = 125;
    cpu.reg.f = 16;
    cpu.reg.h = 152;
    cpu.reg.l = 20;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[2767] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 185);
    CHECK(cpu.reg.b == 93);
    CHECK(cpu.reg.c == 39);
    CHECK(cpu.reg.d == 154);
    CHECK(cpu.reg.e == 124);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 152);
    CHECK(cpu.reg.l == 20);
    CHECK(cpu.pc == 2768);
    CHECK(cpu.sp == 39054);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2767] == 27);
}

TEST_CASE( "1B 00F5", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39589;
    cpu.sp = 40183;
    cpu.reg.a = 165;
    cpu.reg.b = 186;
    cpu.reg.c = 67;
    cpu.reg.d = 191;
    cpu.reg.e = 138;
    cpu.reg.f = 16;
    cpu.reg.h = 212;
    cpu.reg.l = 185;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[39589] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 165);
    CHECK(cpu.reg.b == 186);
    CHECK(cpu.reg.c == 67);
    CHECK(cpu.reg.d == 191);
    CHECK(cpu.reg.e == 137);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 212);
    CHECK(cpu.reg.l == 185);
    CHECK(cpu.pc == 39590);
    CHECK(cpu.sp == 40183);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39589] == 27);
}

TEST_CASE( "1B 00F6", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52136;
    cpu.sp = 34114;
    cpu.reg.a = 22;
    cpu.reg.b = 222;
    cpu.reg.c = 55;
    cpu.reg.d = 151;
    cpu.reg.e = 62;
    cpu.reg.f = 240;
    cpu.reg.h = 3;
    cpu.reg.l = 12;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[52136] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 22);
    CHECK(cpu.reg.b == 222);
    CHECK(cpu.reg.c == 55);
    CHECK(cpu.reg.d == 151);
    CHECK(cpu.reg.e == 61);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 3);
    CHECK(cpu.reg.l == 12);
    CHECK(cpu.pc == 52137);
    CHECK(cpu.sp == 34114);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[52136] == 27);
}

TEST_CASE( "1B 00F7", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60902;
    cpu.sp = 26950;
    cpu.reg.a = 25;
    cpu.reg.b = 86;
    cpu.reg.c = 16;
    cpu.reg.d = 191;
    cpu.reg.e = 254;
    cpu.reg.f = 128;
    cpu.reg.h = 156;
    cpu.reg.l = 172;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[60902] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 25);
    CHECK(cpu.reg.b == 86);
    CHECK(cpu.reg.c == 16);
    CHECK(cpu.reg.d == 191);
    CHECK(cpu.reg.e == 253);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 156);
    CHECK(cpu.reg.l == 172);
    CHECK(cpu.pc == 60903);
    CHECK(cpu.sp == 26950);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[60902] == 27);
}

TEST_CASE( "1B 00F8", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20424;
    cpu.sp = 25802;
    cpu.reg.a = 255;
    cpu.reg.b = 220;
    cpu.reg.c = 189;
    cpu.reg.d = 207;
    cpu.reg.e = 10;
    cpu.reg.f = 16;
    cpu.reg.h = 188;
    cpu.reg.l = 239;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[20424] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 255);
    CHECK(cpu.reg.b == 220);
    CHECK(cpu.reg.c == 189);
    CHECK(cpu.reg.d == 207);
    CHECK(cpu.reg.e == 9);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 188);
    CHECK(cpu.reg.l == 239);
    CHECK(cpu.pc == 20425);
    CHECK(cpu.sp == 25802);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[20424] == 27);
}

TEST_CASE( "1B 00F9", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25806;
    cpu.sp = 43218;
    cpu.reg.a = 19;
    cpu.reg.b = 214;
    cpu.reg.c = 122;
    cpu.reg.d = 240;
    cpu.reg.e = 39;
    cpu.reg.f = 144;
    cpu.reg.h = 163;
    cpu.reg.l = 201;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[25806] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 19);
    CHECK(cpu.reg.b == 214);
    CHECK(cpu.reg.c == 122);
    CHECK(cpu.reg.d == 240);
    CHECK(cpu.reg.e == 38);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 163);
    CHECK(cpu.reg.l == 201);
    CHECK(cpu.pc == 25807);
    CHECK(cpu.sp == 43218);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25806] == 27);
}

TEST_CASE( "1B 00FA", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47006;
    cpu.sp = 6464;
    cpu.reg.a = 62;
    cpu.reg.b = 124;
    cpu.reg.c = 239;
    cpu.reg.d = 13;
    cpu.reg.e = 25;
    cpu.reg.f = 224;
    cpu.reg.h = 49;
    cpu.reg.l = 230;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47006] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 62);
    CHECK(cpu.reg.b == 124);
    CHECK(cpu.reg.c == 239);
    CHECK(cpu.reg.d == 13);
    CHECK(cpu.reg.e == 24);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 49);
    CHECK(cpu.reg.l == 230);
    CHECK(cpu.pc == 47007);
    CHECK(cpu.sp == 6464);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47006] == 27);
}

TEST_CASE( "1B 00FB", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61683;
    cpu.sp = 34434;
    cpu.reg.a = 78;
    cpu.reg.b = 38;
    cpu.reg.c = 137;
    cpu.reg.d = 204;
    cpu.reg.e = 118;
    cpu.reg.f = 16;
    cpu.reg.h = 152;
    cpu.reg.l = 165;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[61683] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 78);
    CHECK(cpu.reg.b == 38);
    CHECK(cpu.reg.c == 137);
    CHECK(cpu.reg.d == 204);
    CHECK(cpu.reg.e == 117);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 152);
    CHECK(cpu.reg.l == 165);
    CHECK(cpu.pc == 61684);
    CHECK(cpu.sp == 34434);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61683] == 27);
}

TEST_CASE( "1B 00FC", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45402;
    cpu.sp = 59080;
    cpu.reg.a = 155;
    cpu.reg.b = 194;
    cpu.reg.c = 23;
    cpu.reg.d = 49;
    cpu.reg.e = 0;
    cpu.reg.f = 176;
    cpu.reg.h = 225;
    cpu.reg.l = 129;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[45402] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 155);
    CHECK(cpu.reg.b == 194);
    CHECK(cpu.reg.c == 23);
    CHECK(cpu.reg.d == 48);
    CHECK(cpu.reg.e == 255);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 225);
    CHECK(cpu.reg.l == 129);
    CHECK(cpu.pc == 45403);
    CHECK(cpu.sp == 59080);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45402] == 27);
}

TEST_CASE( "1B 00FD", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30381;
    cpu.sp = 35312;
    cpu.reg.a = 46;
    cpu.reg.b = 107;
    cpu.reg.c = 43;
    cpu.reg.d = 121;
    cpu.reg.e = 14;
    cpu.reg.f = 80;
    cpu.reg.h = 187;
    cpu.reg.l = 43;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[30381] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 46);
    CHECK(cpu.reg.b == 107);
    CHECK(cpu.reg.c == 43);
    CHECK(cpu.reg.d == 121);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 187);
    CHECK(cpu.reg.l == 43);
    CHECK(cpu.pc == 30382);
    CHECK(cpu.sp == 35312);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30381] == 27);
}

TEST_CASE( "1B 00FE", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32461;
    cpu.sp = 54386;
    cpu.reg.a = 52;
    cpu.reg.b = 180;
    cpu.reg.c = 199;
    cpu.reg.d = 70;
    cpu.reg.e = 226;
    cpu.reg.f = 224;
    cpu.reg.h = 172;
    cpu.reg.l = 100;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[32461] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 52);
    CHECK(cpu.reg.b == 180);
    CHECK(cpu.reg.c == 199);
    CHECK(cpu.reg.d == 70);
    CHECK(cpu.reg.e == 225);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 172);
    CHECK(cpu.reg.l == 100);
    CHECK(cpu.pc == 32462);
    CHECK(cpu.sp == 54386);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[32461] == 27);
}

TEST_CASE( "1B 00FF", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22869;
    cpu.sp = 39955;
    cpu.reg.a = 97;
    cpu.reg.b = 219;
    cpu.reg.c = 217;
    cpu.reg.d = 97;
    cpu.reg.e = 29;
    cpu.reg.f = 80;
    cpu.reg.h = 40;
    cpu.reg.l = 213;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[22869] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 97);
    CHECK(cpu.reg.b == 219);
    CHECK(cpu.reg.c == 217);
    CHECK(cpu.reg.d == 97);
    CHECK(cpu.reg.e == 28);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 40);
    CHECK(cpu.reg.l == 213);
    CHECK(cpu.pc == 22870);
    CHECK(cpu.sp == 39955);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22869] == 27);
}

TEST_CASE( "1B 0100", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34322;
    cpu.sp = 15812;
    cpu.reg.a = 181;
    cpu.reg.b = 133;
    cpu.reg.c = 43;
    cpu.reg.d = 96;
    cpu.reg.e = 122;
    cpu.reg.f = 128;
    cpu.reg.h = 181;
    cpu.reg.l = 183;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[34322] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 181);
    CHECK(cpu.reg.b == 133);
    CHECK(cpu.reg.c == 43);
    CHECK(cpu.reg.d == 96);
    CHECK(cpu.reg.e == 121);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 181);
    CHECK(cpu.reg.l == 183);
    CHECK(cpu.pc == 34323);
    CHECK(cpu.sp == 15812);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[34322] == 27);
}

TEST_CASE( "1B 0101", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 165;
    cpu.sp = 27319;
    cpu.reg.a = 53;
    cpu.reg.b = 94;
    cpu.reg.c = 222;
    cpu.reg.d = 29;
    cpu.reg.e = 236;
    cpu.reg.f = 144;
    cpu.reg.h = 118;
    cpu.reg.l = 0;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[165] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 53);
    CHECK(cpu.reg.b == 94);
    CHECK(cpu.reg.c == 222);
    CHECK(cpu.reg.d == 29);
    CHECK(cpu.reg.e == 235);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 118);
    CHECK(cpu.reg.l == 0);
    CHECK(cpu.pc == 166);
    CHECK(cpu.sp == 27319);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[165] == 27);
}

TEST_CASE( "1B 0102", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19084;
    cpu.sp = 32149;
    cpu.reg.a = 246;
    cpu.reg.b = 13;
    cpu.reg.c = 36;
    cpu.reg.d = 192;
    cpu.reg.e = 115;
    cpu.reg.f = 32;
    cpu.reg.h = 7;
    cpu.reg.l = 71;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[19084] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 246);
    CHECK(cpu.reg.b == 13);
    CHECK(cpu.reg.c == 36);
    CHECK(cpu.reg.d == 192);
    CHECK(cpu.reg.e == 114);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 7);
    CHECK(cpu.reg.l == 71);
    CHECK(cpu.pc == 19085);
    CHECK(cpu.sp == 32149);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19084] == 27);
}

TEST_CASE( "1B 0103", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38887;
    cpu.sp = 56023;
    cpu.reg.a = 173;
    cpu.reg.b = 198;
    cpu.reg.c = 77;
    cpu.reg.d = 170;
    cpu.reg.e = 253;
    cpu.reg.f = 144;
    cpu.reg.h = 144;
    cpu.reg.l = 171;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[38887] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 173);
    CHECK(cpu.reg.b == 198);
    CHECK(cpu.reg.c == 77);
    CHECK(cpu.reg.d == 170);
    CHECK(cpu.reg.e == 252);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 144);
    CHECK(cpu.reg.l == 171);
    CHECK(cpu.pc == 38888);
    CHECK(cpu.sp == 56023);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38887] == 27);
}

TEST_CASE( "1B 0104", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44855;
    cpu.sp = 65155;
    cpu.reg.a = 46;
    cpu.reg.b = 201;
    cpu.reg.c = 165;
    cpu.reg.d = 167;
    cpu.reg.e = 88;
    cpu.reg.f = 48;
    cpu.reg.h = 115;
    cpu.reg.l = 238;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[44855] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 46);
    CHECK(cpu.reg.b == 201);
    CHECK(cpu.reg.c == 165);
    CHECK(cpu.reg.d == 167);
    CHECK(cpu.reg.e == 87);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 115);
    CHECK(cpu.reg.l == 238);
    CHECK(cpu.pc == 44856);
    CHECK(cpu.sp == 65155);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44855] == 27);
}

TEST_CASE( "1B 0105", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24718;
    cpu.sp = 42897;
    cpu.reg.a = 75;
    cpu.reg.b = 174;
    cpu.reg.c = 89;
    cpu.reg.d = 118;
    cpu.reg.e = 206;
    cpu.reg.f = 128;
    cpu.reg.h = 33;
    cpu.reg.l = 166;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[24718] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 75);
    CHECK(cpu.reg.b == 174);
    CHECK(cpu.reg.c == 89);
    CHECK(cpu.reg.d == 118);
    CHECK(cpu.reg.e == 205);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 33);
    CHECK(cpu.reg.l == 166);
    CHECK(cpu.pc == 24719);
    CHECK(cpu.sp == 42897);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24718] == 27);
}

TEST_CASE( "1B 0106", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29333;
    cpu.sp = 16233;
    cpu.reg.a = 234;
    cpu.reg.b = 203;
    cpu.reg.c = 117;
    cpu.reg.d = 38;
    cpu.reg.e = 0;
    cpu.reg.f = 80;
    cpu.reg.h = 161;
    cpu.reg.l = 252;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[29333] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 234);
    CHECK(cpu.reg.b == 203);
    CHECK(cpu.reg.c == 117);
    CHECK(cpu.reg.d == 37);
    CHECK(cpu.reg.e == 255);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 161);
    CHECK(cpu.reg.l == 252);
    CHECK(cpu.pc == 29334);
    CHECK(cpu.sp == 16233);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[29333] == 27);
}

TEST_CASE( "1B 0107", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59263;
    cpu.sp = 23178;
    cpu.reg.a = 103;
    cpu.reg.b = 232;
    cpu.reg.c = 189;
    cpu.reg.d = 57;
    cpu.reg.e = 241;
    cpu.reg.f = 176;
    cpu.reg.h = 33;
    cpu.reg.l = 22;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[59263] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 103);
    CHECK(cpu.reg.b == 232);
    CHECK(cpu.reg.c == 189);
    CHECK(cpu.reg.d == 57);
    CHECK(cpu.reg.e == 240);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 33);
    CHECK(cpu.reg.l == 22);
    CHECK(cpu.pc == 59264);
    CHECK(cpu.sp == 23178);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[59263] == 27);
}

TEST_CASE( "1B 0108", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18984;
    cpu.sp = 34645;
    cpu.reg.a = 52;
    cpu.reg.b = 26;
    cpu.reg.c = 139;
    cpu.reg.d = 105;
    cpu.reg.e = 115;
    cpu.reg.f = 176;
    cpu.reg.h = 182;
    cpu.reg.l = 90;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[18984] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 52);
    CHECK(cpu.reg.b == 26);
    CHECK(cpu.reg.c == 139);
    CHECK(cpu.reg.d == 105);
    CHECK(cpu.reg.e == 114);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 182);
    CHECK(cpu.reg.l == 90);
    CHECK(cpu.pc == 18985);
    CHECK(cpu.sp == 34645);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18984] == 27);
}

TEST_CASE( "1B 0109", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52082;
    cpu.sp = 57392;
    cpu.reg.a = 65;
    cpu.reg.b = 1;
    cpu.reg.c = 192;
    cpu.reg.d = 120;
    cpu.reg.e = 235;
    cpu.reg.f = 0;
    cpu.reg.h = 92;
    cpu.reg.l = 178;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[52082] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 65);
    CHECK(cpu.reg.b == 1);
    CHECK(cpu.reg.c == 192);
    CHECK(cpu.reg.d == 120);
    CHECK(cpu.reg.e == 234);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 92);
    CHECK(cpu.reg.l == 178);
    CHECK(cpu.pc == 52083);
    CHECK(cpu.sp == 57392);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[52082] == 27);
}

TEST_CASE( "1B 010A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19759;
    cpu.sp = 52793;
    cpu.reg.a = 73;
    cpu.reg.b = 181;
    cpu.reg.c = 233;
    cpu.reg.d = 122;
    cpu.reg.e = 40;
    cpu.reg.f = 80;
    cpu.reg.h = 186;
    cpu.reg.l = 214;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[19759] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 73);
    CHECK(cpu.reg.b == 181);
    CHECK(cpu.reg.c == 233);
    CHECK(cpu.reg.d == 122);
    CHECK(cpu.reg.e == 39);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 186);
    CHECK(cpu.reg.l == 214);
    CHECK(cpu.pc == 19760);
    CHECK(cpu.sp == 52793);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19759] == 27);
}

TEST_CASE( "1B 010B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42799;
    cpu.sp = 16338;
    cpu.reg.a = 253;
    cpu.reg.b = 191;
    cpu.reg.c = 8;
    cpu.reg.d = 114;
    cpu.reg.e = 14;
    cpu.reg.f = 0;
    cpu.reg.h = 2;
    cpu.reg.l = 224;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[42799] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 253);
    CHECK(cpu.reg.b == 191);
    CHECK(cpu.reg.c == 8);
    CHECK(cpu.reg.d == 114);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 2);
    CHECK(cpu.reg.l == 224);
    CHECK(cpu.pc == 42800);
    CHECK(cpu.sp == 16338);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[42799] == 27);
}

TEST_CASE( "1B 010C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3559;
    cpu.sp = 16688;
    cpu.reg.a = 14;
    cpu.reg.b = 188;
    cpu.reg.c = 211;
    cpu.reg.d = 126;
    cpu.reg.e = 50;
    cpu.reg.f = 160;
    cpu.reg.h = 160;
    cpu.reg.l = 119;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[3559] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 14);
    CHECK(cpu.reg.b == 188);
    CHECK(cpu.reg.c == 211);
    CHECK(cpu.reg.d == 126);
    CHECK(cpu.reg.e == 49);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 160);
    CHECK(cpu.reg.l == 119);
    CHECK(cpu.pc == 3560);
    CHECK(cpu.sp == 16688);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3559] == 27);
}

TEST_CASE( "1B 010D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26796;
    cpu.sp = 16725;
    cpu.reg.a = 216;
    cpu.reg.b = 33;
    cpu.reg.c = 167;
    cpu.reg.d = 154;
    cpu.reg.e = 65;
    cpu.reg.f = 176;
    cpu.reg.h = 28;
    cpu.reg.l = 56;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[26796] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 33);
    CHECK(cpu.reg.c == 167);
    CHECK(cpu.reg.d == 154);
    CHECK(cpu.reg.e == 64);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 28);
    CHECK(cpu.reg.l == 56);
    CHECK(cpu.pc == 26797);
    CHECK(cpu.sp == 16725);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26796] == 27);
}

TEST_CASE( "1B 010E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35762;
    cpu.sp = 10698;
    cpu.reg.a = 251;
    cpu.reg.b = 198;
    cpu.reg.c = 47;
    cpu.reg.d = 74;
    cpu.reg.e = 238;
    cpu.reg.f = 160;
    cpu.reg.h = 184;
    cpu.reg.l = 168;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[35762] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 251);
    CHECK(cpu.reg.b == 198);
    CHECK(cpu.reg.c == 47);
    CHECK(cpu.reg.d == 74);
    CHECK(cpu.reg.e == 237);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 184);
    CHECK(cpu.reg.l == 168);
    CHECK(cpu.pc == 35763);
    CHECK(cpu.sp == 10698);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35762] == 27);
}

TEST_CASE( "1B 010F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48194;
    cpu.sp = 57409;
    cpu.reg.a = 159;
    cpu.reg.b = 35;
    cpu.reg.c = 71;
    cpu.reg.d = 135;
    cpu.reg.e = 21;
    cpu.reg.f = 80;
    cpu.reg.h = 98;
    cpu.reg.l = 66;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[48194] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 159);
    CHECK(cpu.reg.b == 35);
    CHECK(cpu.reg.c == 71);
    CHECK(cpu.reg.d == 135);
    CHECK(cpu.reg.e == 20);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 98);
    CHECK(cpu.reg.l == 66);
    CHECK(cpu.pc == 48195);
    CHECK(cpu.sp == 57409);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[48194] == 27);
}

TEST_CASE( "1B 0110", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35616;
    cpu.sp = 38445;
    cpu.reg.a = 59;
    cpu.reg.b = 148;
    cpu.reg.c = 195;
    cpu.reg.d = 25;
    cpu.reg.e = 153;
    cpu.reg.f = 0;
    cpu.reg.h = 129;
    cpu.reg.l = 97;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[35616] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 59);
    CHECK(cpu.reg.b == 148);
    CHECK(cpu.reg.c == 195);
    CHECK(cpu.reg.d == 25);
    CHECK(cpu.reg.e == 152);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 129);
    CHECK(cpu.reg.l == 97);
    CHECK(cpu.pc == 35617);
    CHECK(cpu.sp == 38445);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35616] == 27);
}

TEST_CASE( "1B 0111", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27142;
    cpu.sp = 9016;
    cpu.reg.a = 92;
    cpu.reg.b = 206;
    cpu.reg.c = 244;
    cpu.reg.d = 120;
    cpu.reg.e = 224;
    cpu.reg.f = 176;
    cpu.reg.h = 70;
    cpu.reg.l = 107;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[27142] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 92);
    CHECK(cpu.reg.b == 206);
    CHECK(cpu.reg.c == 244);
    CHECK(cpu.reg.d == 120);
    CHECK(cpu.reg.e == 223);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 70);
    CHECK(cpu.reg.l == 107);
    CHECK(cpu.pc == 27143);
    CHECK(cpu.sp == 9016);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27142] == 27);
}

TEST_CASE( "1B 0112", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7277;
    cpu.sp = 49894;
    cpu.reg.a = 234;
    cpu.reg.b = 72;
    cpu.reg.c = 55;
    cpu.reg.d = 212;
    cpu.reg.e = 70;
    cpu.reg.f = 80;
    cpu.reg.h = 121;
    cpu.reg.l = 187;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[7277] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 234);
    CHECK(cpu.reg.b == 72);
    CHECK(cpu.reg.c == 55);
    CHECK(cpu.reg.d == 212);
    CHECK(cpu.reg.e == 69);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 121);
    CHECK(cpu.reg.l == 187);
    CHECK(cpu.pc == 7278);
    CHECK(cpu.sp == 49894);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7277] == 27);
}

TEST_CASE( "1B 0113", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49308;
    cpu.sp = 12643;
    cpu.reg.a = 232;
    cpu.reg.b = 23;
    cpu.reg.c = 33;
    cpu.reg.d = 223;
    cpu.reg.e = 217;
    cpu.reg.f = 0;
    cpu.reg.h = 184;
    cpu.reg.l = 154;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[49308] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 232);
    CHECK(cpu.reg.b == 23);
    CHECK(cpu.reg.c == 33);
    CHECK(cpu.reg.d == 223);
    CHECK(cpu.reg.e == 216);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 184);
    CHECK(cpu.reg.l == 154);
    CHECK(cpu.pc == 49309);
    CHECK(cpu.sp == 12643);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49308] == 27);
}

TEST_CASE( "1B 0114", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10944;
    cpu.sp = 60747;
    cpu.reg.a = 148;
    cpu.reg.b = 206;
    cpu.reg.c = 255;
    cpu.reg.d = 202;
    cpu.reg.e = 44;
    cpu.reg.f = 176;
    cpu.reg.h = 244;
    cpu.reg.l = 172;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[10944] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 148);
    CHECK(cpu.reg.b == 206);
    CHECK(cpu.reg.c == 255);
    CHECK(cpu.reg.d == 202);
    CHECK(cpu.reg.e == 43);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 244);
    CHECK(cpu.reg.l == 172);
    CHECK(cpu.pc == 10945);
    CHECK(cpu.sp == 60747);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10944] == 27);
}

TEST_CASE( "1B 0115", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22608;
    cpu.sp = 45323;
    cpu.reg.a = 185;
    cpu.reg.b = 241;
    cpu.reg.c = 38;
    cpu.reg.d = 126;
    cpu.reg.e = 0;
    cpu.reg.f = 32;
    cpu.reg.h = 80;
    cpu.reg.l = 163;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[22608] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 185);
    CHECK(cpu.reg.b == 241);
    CHECK(cpu.reg.c == 38);
    CHECK(cpu.reg.d == 125);
    CHECK(cpu.reg.e == 255);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 80);
    CHECK(cpu.reg.l == 163);
    CHECK(cpu.pc == 22609);
    CHECK(cpu.sp == 45323);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22608] == 27);
}

TEST_CASE( "1B 0116", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28573;
    cpu.sp = 4072;
    cpu.reg.a = 44;
    cpu.reg.b = 137;
    cpu.reg.c = 146;
    cpu.reg.d = 162;
    cpu.reg.e = 11;
    cpu.reg.f = 0;
    cpu.reg.h = 16;
    cpu.reg.l = 155;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[28573] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 44);
    CHECK(cpu.reg.b == 137);
    CHECK(cpu.reg.c == 146);
    CHECK(cpu.reg.d == 162);
    CHECK(cpu.reg.e == 10);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 16);
    CHECK(cpu.reg.l == 155);
    CHECK(cpu.pc == 28574);
    CHECK(cpu.sp == 4072);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[28573] == 27);
}

TEST_CASE( "1B 0117", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35883;
    cpu.sp = 39523;
    cpu.reg.a = 230;
    cpu.reg.b = 201;
    cpu.reg.c = 104;
    cpu.reg.d = 33;
    cpu.reg.e = 134;
    cpu.reg.f = 144;
    cpu.reg.h = 17;
    cpu.reg.l = 1;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[35883] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 230);
    CHECK(cpu.reg.b == 201);
    CHECK(cpu.reg.c == 104);
    CHECK(cpu.reg.d == 33);
    CHECK(cpu.reg.e == 133);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 1);
    CHECK(cpu.pc == 35884);
    CHECK(cpu.sp == 39523);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35883] == 27);
}

TEST_CASE( "1B 0118", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30322;
    cpu.sp = 3199;
    cpu.reg.a = 237;
    cpu.reg.b = 229;
    cpu.reg.c = 24;
    cpu.reg.d = 68;
    cpu.reg.e = 108;
    cpu.reg.f = 48;
    cpu.reg.h = 29;
    cpu.reg.l = 250;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[30322] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 237);
    CHECK(cpu.reg.b == 229);
    CHECK(cpu.reg.c == 24);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 107);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 29);
    CHECK(cpu.reg.l == 250);
    CHECK(cpu.pc == 30323);
    CHECK(cpu.sp == 3199);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30322] == 27);
}

TEST_CASE( "1B 0119", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53276;
    cpu.sp = 42367;
    cpu.reg.a = 15;
    cpu.reg.b = 12;
    cpu.reg.c = 71;
    cpu.reg.d = 92;
    cpu.reg.e = 134;
    cpu.reg.f = 176;
    cpu.reg.h = 132;
    cpu.reg.l = 44;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[53276] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 15);
    CHECK(cpu.reg.b == 12);
    CHECK(cpu.reg.c == 71);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 133);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 132);
    CHECK(cpu.reg.l == 44);
    CHECK(cpu.pc == 53277);
    CHECK(cpu.sp == 42367);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[53276] == 27);
}

TEST_CASE( "1B 011A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59036;
    cpu.sp = 59498;
    cpu.reg.a = 233;
    cpu.reg.b = 216;
    cpu.reg.c = 134;
    cpu.reg.d = 59;
    cpu.reg.e = 159;
    cpu.reg.f = 240;
    cpu.reg.h = 73;
    cpu.reg.l = 44;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[59036] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 233);
    CHECK(cpu.reg.b == 216);
    CHECK(cpu.reg.c == 134);
    CHECK(cpu.reg.d == 59);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 73);
    CHECK(cpu.reg.l == 44);
    CHECK(cpu.pc == 59037);
    CHECK(cpu.sp == 59498);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[59036] == 27);
}

TEST_CASE( "1B 011B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58946;
    cpu.sp = 6384;
    cpu.reg.a = 69;
    cpu.reg.b = 208;
    cpu.reg.c = 5;
    cpu.reg.d = 129;
    cpu.reg.e = 232;
    cpu.reg.f = 112;
    cpu.reg.h = 165;
    cpu.reg.l = 139;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[58946] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 69);
    CHECK(cpu.reg.b == 208);
    CHECK(cpu.reg.c == 5);
    CHECK(cpu.reg.d == 129);
    CHECK(cpu.reg.e == 231);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 165);
    CHECK(cpu.reg.l == 139);
    CHECK(cpu.pc == 58947);
    CHECK(cpu.sp == 6384);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58946] == 27);
}

TEST_CASE( "1B 011C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46692;
    cpu.sp = 43550;
    cpu.reg.a = 199;
    cpu.reg.b = 229;
    cpu.reg.c = 246;
    cpu.reg.d = 169;
    cpu.reg.e = 106;
    cpu.reg.f = 32;
    cpu.reg.h = 152;
    cpu.reg.l = 0;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[46692] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 199);
    CHECK(cpu.reg.b == 229);
    CHECK(cpu.reg.c == 246);
    CHECK(cpu.reg.d == 169);
    CHECK(cpu.reg.e == 105);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 152);
    CHECK(cpu.reg.l == 0);
    CHECK(cpu.pc == 46693);
    CHECK(cpu.sp == 43550);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46692] == 27);
}

TEST_CASE( "1B 011D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39661;
    cpu.sp = 27777;
    cpu.reg.a = 112;
    cpu.reg.b = 151;
    cpu.reg.c = 133;
    cpu.reg.d = 6;
    cpu.reg.e = 210;
    cpu.reg.f = 32;
    cpu.reg.h = 197;
    cpu.reg.l = 219;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[39661] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 112);
    CHECK(cpu.reg.b == 151);
    CHECK(cpu.reg.c == 133);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 209);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 197);
    CHECK(cpu.reg.l == 219);
    CHECK(cpu.pc == 39662);
    CHECK(cpu.sp == 27777);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39661] == 27);
}

TEST_CASE( "1B 011E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1228;
    cpu.sp = 36894;
    cpu.reg.a = 55;
    cpu.reg.b = 138;
    cpu.reg.c = 199;
    cpu.reg.d = 185;
    cpu.reg.e = 147;
    cpu.reg.f = 208;
    cpu.reg.h = 46;
    cpu.reg.l = 149;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[1228] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 55);
    CHECK(cpu.reg.b == 138);
    CHECK(cpu.reg.c == 199);
    CHECK(cpu.reg.d == 185);
    CHECK(cpu.reg.e == 146);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 46);
    CHECK(cpu.reg.l == 149);
    CHECK(cpu.pc == 1229);
    CHECK(cpu.sp == 36894);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1228] == 27);
}

TEST_CASE( "1B 011F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1470;
    cpu.sp = 36070;
    cpu.reg.a = 193;
    cpu.reg.b = 114;
    cpu.reg.c = 51;
    cpu.reg.d = 76;
    cpu.reg.e = 184;
    cpu.reg.f = 144;
    cpu.reg.h = 138;
    cpu.reg.l = 170;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[1470] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 193);
    CHECK(cpu.reg.b == 114);
    CHECK(cpu.reg.c == 51);
    CHECK(cpu.reg.d == 76);
    CHECK(cpu.reg.e == 183);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 138);
    CHECK(cpu.reg.l == 170);
    CHECK(cpu.pc == 1471);
    CHECK(cpu.sp == 36070);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1470] == 27);
}

TEST_CASE( "1B 0120", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17321;
    cpu.sp = 63112;
    cpu.reg.a = 44;
    cpu.reg.b = 196;
    cpu.reg.c = 203;
    cpu.reg.d = 126;
    cpu.reg.e = 115;
    cpu.reg.f = 240;
    cpu.reg.h = 43;
    cpu.reg.l = 167;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[17321] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 44);
    CHECK(cpu.reg.b == 196);
    CHECK(cpu.reg.c == 203);
    CHECK(cpu.reg.d == 126);
    CHECK(cpu.reg.e == 114);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 43);
    CHECK(cpu.reg.l == 167);
    CHECK(cpu.pc == 17322);
    CHECK(cpu.sp == 63112);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17321] == 27);
}

TEST_CASE( "1B 0121", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8053;
    cpu.sp = 9994;
    cpu.reg.a = 167;
    cpu.reg.b = 73;
    cpu.reg.c = 129;
    cpu.reg.d = 78;
    cpu.reg.e = 118;
    cpu.reg.f = 128;
    cpu.reg.h = 70;
    cpu.reg.l = 7;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[8053] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 167);
    CHECK(cpu.reg.b == 73);
    CHECK(cpu.reg.c == 129);
    CHECK(cpu.reg.d == 78);
    CHECK(cpu.reg.e == 117);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 70);
    CHECK(cpu.reg.l == 7);
    CHECK(cpu.pc == 8054);
    CHECK(cpu.sp == 9994);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8053] == 27);
}

TEST_CASE( "1B 0122", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19095;
    cpu.sp = 46618;
    cpu.reg.a = 159;
    cpu.reg.b = 197;
    cpu.reg.c = 225;
    cpu.reg.d = 82;
    cpu.reg.e = 51;
    cpu.reg.f = 240;
    cpu.reg.h = 220;
    cpu.reg.l = 51;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[19095] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 159);
    CHECK(cpu.reg.b == 197);
    CHECK(cpu.reg.c == 225);
    CHECK(cpu.reg.d == 82);
    CHECK(cpu.reg.e == 50);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 220);
    CHECK(cpu.reg.l == 51);
    CHECK(cpu.pc == 19096);
    CHECK(cpu.sp == 46618);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19095] == 27);
}

TEST_CASE( "1B 0123", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39037;
    cpu.sp = 38474;
    cpu.reg.a = 212;
    cpu.reg.b = 43;
    cpu.reg.c = 162;
    cpu.reg.d = 200;
    cpu.reg.e = 162;
    cpu.reg.f = 64;
    cpu.reg.h = 42;
    cpu.reg.l = 252;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[39037] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 212);
    CHECK(cpu.reg.b == 43);
    CHECK(cpu.reg.c == 162);
    CHECK(cpu.reg.d == 200);
    CHECK(cpu.reg.e == 161);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 42);
    CHECK(cpu.reg.l == 252);
    CHECK(cpu.pc == 39038);
    CHECK(cpu.sp == 38474);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39037] == 27);
}

TEST_CASE( "1B 0124", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33974;
    cpu.sp = 35298;
    cpu.reg.a = 48;
    cpu.reg.b = 45;
    cpu.reg.c = 114;
    cpu.reg.d = 66;
    cpu.reg.e = 227;
    cpu.reg.f = 208;
    cpu.reg.h = 143;
    cpu.reg.l = 0;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[33974] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 48);
    CHECK(cpu.reg.b == 45);
    CHECK(cpu.reg.c == 114);
    CHECK(cpu.reg.d == 66);
    CHECK(cpu.reg.e == 226);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 143);
    CHECK(cpu.reg.l == 0);
    CHECK(cpu.pc == 33975);
    CHECK(cpu.sp == 35298);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33974] == 27);
}

TEST_CASE( "1B 0125", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46033;
    cpu.sp = 36816;
    cpu.reg.a = 19;
    cpu.reg.b = 84;
    cpu.reg.c = 122;
    cpu.reg.d = 135;
    cpu.reg.e = 214;
    cpu.reg.f = 32;
    cpu.reg.h = 240;
    cpu.reg.l = 200;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[46033] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 19);
    CHECK(cpu.reg.b == 84);
    CHECK(cpu.reg.c == 122);
    CHECK(cpu.reg.d == 135);
    CHECK(cpu.reg.e == 213);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 240);
    CHECK(cpu.reg.l == 200);
    CHECK(cpu.pc == 46034);
    CHECK(cpu.sp == 36816);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46033] == 27);
}

TEST_CASE( "1B 0126", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7613;
    cpu.sp = 38673;
    cpu.reg.a = 15;
    cpu.reg.b = 64;
    cpu.reg.c = 12;
    cpu.reg.d = 194;
    cpu.reg.e = 239;
    cpu.reg.f = 80;
    cpu.reg.h = 109;
    cpu.reg.l = 77;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[7613] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 15);
    CHECK(cpu.reg.b == 64);
    CHECK(cpu.reg.c == 12);
    CHECK(cpu.reg.d == 194);
    CHECK(cpu.reg.e == 238);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 109);
    CHECK(cpu.reg.l == 77);
    CHECK(cpu.pc == 7614);
    CHECK(cpu.sp == 38673);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7613] == 27);
}

TEST_CASE( "1B 0127", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34607;
    cpu.sp = 53776;
    cpu.reg.a = 191;
    cpu.reg.b = 11;
    cpu.reg.c = 138;
    cpu.reg.d = 73;
    cpu.reg.e = 66;
    cpu.reg.f = 96;
    cpu.reg.h = 213;
    cpu.reg.l = 218;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[34607] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 191);
    CHECK(cpu.reg.b == 11);
    CHECK(cpu.reg.c == 138);
    CHECK(cpu.reg.d == 73);
    CHECK(cpu.reg.e == 65);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 213);
    CHECK(cpu.reg.l == 218);
    CHECK(cpu.pc == 34608);
    CHECK(cpu.sp == 53776);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34607] == 27);
}

TEST_CASE( "1B 0128", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11986;
    cpu.sp = 15685;
    cpu.reg.a = 37;
    cpu.reg.b = 211;
    cpu.reg.c = 135;
    cpu.reg.d = 101;
    cpu.reg.e = 138;
    cpu.reg.f = 128;
    cpu.reg.h = 212;
    cpu.reg.l = 151;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[11986] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 37);
    CHECK(cpu.reg.b == 211);
    CHECK(cpu.reg.c == 135);
    CHECK(cpu.reg.d == 101);
    CHECK(cpu.reg.e == 137);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 212);
    CHECK(cpu.reg.l == 151);
    CHECK(cpu.pc == 11987);
    CHECK(cpu.sp == 15685);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11986] == 27);
}

TEST_CASE( "1B 0129", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65458;
    cpu.sp = 51253;
    cpu.reg.a = 74;
    cpu.reg.b = 71;
    cpu.reg.c = 37;
    cpu.reg.d = 199;
    cpu.reg.e = 27;
    cpu.reg.f = 16;
    cpu.reg.h = 244;
    cpu.reg.l = 129;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[65458] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 74);
    CHECK(cpu.reg.b == 71);
    CHECK(cpu.reg.c == 37);
    CHECK(cpu.reg.d == 199);
    CHECK(cpu.reg.e == 26);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 244);
    CHECK(cpu.reg.l == 129);
    CHECK(cpu.pc == 65459);
    CHECK(cpu.sp == 51253);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[65458] == 27);
}

TEST_CASE( "1B 012A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36675;
    cpu.sp = 13708;
    cpu.reg.a = 62;
    cpu.reg.b = 62;
    cpu.reg.c = 75;
    cpu.reg.d = 218;
    cpu.reg.e = 77;
    cpu.reg.f = 160;
    cpu.reg.h = 61;
    cpu.reg.l = 161;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[36675] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 62);
    CHECK(cpu.reg.b == 62);
    CHECK(cpu.reg.c == 75);
    CHECK(cpu.reg.d == 218);
    CHECK(cpu.reg.e == 76);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 61);
    CHECK(cpu.reg.l == 161);
    CHECK(cpu.pc == 36676);
    CHECK(cpu.sp == 13708);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[36675] == 27);
}

TEST_CASE( "1B 012B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27001;
    cpu.sp = 21724;
    cpu.reg.a = 105;
    cpu.reg.b = 107;
    cpu.reg.c = 188;
    cpu.reg.d = 123;
    cpu.reg.e = 32;
    cpu.reg.f = 208;
    cpu.reg.h = 242;
    cpu.reg.l = 206;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[27001] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 105);
    CHECK(cpu.reg.b == 107);
    CHECK(cpu.reg.c == 188);
    CHECK(cpu.reg.d == 123);
    CHECK(cpu.reg.e == 31);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 206);
    CHECK(cpu.pc == 27002);
    CHECK(cpu.sp == 21724);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27001] == 27);
}

TEST_CASE( "1B 012C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34312;
    cpu.sp = 26722;
    cpu.reg.a = 131;
    cpu.reg.b = 157;
    cpu.reg.c = 188;
    cpu.reg.d = 129;
    cpu.reg.e = 246;
    cpu.reg.f = 192;
    cpu.reg.h = 41;
    cpu.reg.l = 57;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[34312] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 131);
    CHECK(cpu.reg.b == 157);
    CHECK(cpu.reg.c == 188);
    CHECK(cpu.reg.d == 129);
    CHECK(cpu.reg.e == 245);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 41);
    CHECK(cpu.reg.l == 57);
    CHECK(cpu.pc == 34313);
    CHECK(cpu.sp == 26722);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34312] == 27);
}

TEST_CASE( "1B 012D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6797;
    cpu.sp = 44689;
    cpu.reg.a = 174;
    cpu.reg.b = 98;
    cpu.reg.c = 124;
    cpu.reg.d = 5;
    cpu.reg.e = 54;
    cpu.reg.f = 160;
    cpu.reg.h = 84;
    cpu.reg.l = 174;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[6797] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 174);
    CHECK(cpu.reg.b == 98);
    CHECK(cpu.reg.c == 124);
    CHECK(cpu.reg.d == 5);
    CHECK(cpu.reg.e == 53);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 84);
    CHECK(cpu.reg.l == 174);
    CHECK(cpu.pc == 6798);
    CHECK(cpu.sp == 44689);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6797] == 27);
}

TEST_CASE( "1B 012E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18906;
    cpu.sp = 60393;
    cpu.reg.a = 28;
    cpu.reg.b = 161;
    cpu.reg.c = 140;
    cpu.reg.d = 120;
    cpu.reg.e = 74;
    cpu.reg.f = 80;
    cpu.reg.h = 205;
    cpu.reg.l = 134;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[18906] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 28);
    CHECK(cpu.reg.b == 161);
    CHECK(cpu.reg.c == 140);
    CHECK(cpu.reg.d == 120);
    CHECK(cpu.reg.e == 73);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 205);
    CHECK(cpu.reg.l == 134);
    CHECK(cpu.pc == 18907);
    CHECK(cpu.sp == 60393);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[18906] == 27);
}

TEST_CASE( "1B 012F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29896;
    cpu.sp = 41022;
    cpu.reg.a = 182;
    cpu.reg.b = 110;
    cpu.reg.c = 117;
    cpu.reg.d = 120;
    cpu.reg.e = 194;
    cpu.reg.f = 144;
    cpu.reg.h = 45;
    cpu.reg.l = 209;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[29896] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 182);
    CHECK(cpu.reg.b == 110);
    CHECK(cpu.reg.c == 117);
    CHECK(cpu.reg.d == 120);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 45);
    CHECK(cpu.reg.l == 209);
    CHECK(cpu.pc == 29897);
    CHECK(cpu.sp == 41022);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[29896] == 27);
}

TEST_CASE( "1B 0130", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57844;
    cpu.sp = 8689;
    cpu.reg.a = 182;
    cpu.reg.b = 252;
    cpu.reg.c = 165;
    cpu.reg.d = 202;
    cpu.reg.e = 21;
    cpu.reg.f = 240;
    cpu.reg.h = 70;
    cpu.reg.l = 196;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[57844] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 182);
    CHECK(cpu.reg.b == 252);
    CHECK(cpu.reg.c == 165);
    CHECK(cpu.reg.d == 202);
    CHECK(cpu.reg.e == 20);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 70);
    CHECK(cpu.reg.l == 196);
    CHECK(cpu.pc == 57845);
    CHECK(cpu.sp == 8689);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[57844] == 27);
}

TEST_CASE( "1B 0131", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58038;
    cpu.sp = 42833;
    cpu.reg.a = 11;
    cpu.reg.b = 98;
    cpu.reg.c = 245;
    cpu.reg.d = 69;
    cpu.reg.e = 13;
    cpu.reg.f = 48;
    cpu.reg.h = 26;
    cpu.reg.l = 185;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[58038] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 11);
    CHECK(cpu.reg.b == 98);
    CHECK(cpu.reg.c == 245);
    CHECK(cpu.reg.d == 69);
    CHECK(cpu.reg.e == 12);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 26);
    CHECK(cpu.reg.l == 185);
    CHECK(cpu.pc == 58039);
    CHECK(cpu.sp == 42833);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[58038] == 27);
}

TEST_CASE( "1B 0132", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47736;
    cpu.sp = 34061;
    cpu.reg.a = 157;
    cpu.reg.b = 152;
    cpu.reg.c = 161;
    cpu.reg.d = 165;
    cpu.reg.e = 31;
    cpu.reg.f = 32;
    cpu.reg.h = 5;
    cpu.reg.l = 0;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[47736] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 157);
    CHECK(cpu.reg.b == 152);
    CHECK(cpu.reg.c == 161);
    CHECK(cpu.reg.d == 165);
    CHECK(cpu.reg.e == 30);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 5);
    CHECK(cpu.reg.l == 0);
    CHECK(cpu.pc == 47737);
    CHECK(cpu.sp == 34061);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47736] == 27);
}

TEST_CASE( "1B 0133", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24031;
    cpu.sp = 38181;
    cpu.reg.a = 164;
    cpu.reg.b = 7;
    cpu.reg.c = 163;
    cpu.reg.d = 162;
    cpu.reg.e = 107;
    cpu.reg.f = 144;
    cpu.reg.h = 219;
    cpu.reg.l = 161;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[24031] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 164);
    CHECK(cpu.reg.b == 7);
    CHECK(cpu.reg.c == 163);
    CHECK(cpu.reg.d == 162);
    CHECK(cpu.reg.e == 106);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 219);
    CHECK(cpu.reg.l == 161);
    CHECK(cpu.pc == 24032);
    CHECK(cpu.sp == 38181);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24031] == 27);
}

TEST_CASE( "1B 0134", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44237;
    cpu.sp = 19198;
    cpu.reg.a = 122;
    cpu.reg.b = 116;
    cpu.reg.c = 231;
    cpu.reg.d = 177;
    cpu.reg.e = 187;
    cpu.reg.f = 224;
    cpu.reg.h = 61;
    cpu.reg.l = 0;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[44237] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 122);
    CHECK(cpu.reg.b == 116);
    CHECK(cpu.reg.c == 231);
    CHECK(cpu.reg.d == 177);
    CHECK(cpu.reg.e == 186);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 61);
    CHECK(cpu.reg.l == 0);
    CHECK(cpu.pc == 44238);
    CHECK(cpu.sp == 19198);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44237] == 27);
}

TEST_CASE( "1B 0135", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29305;
    cpu.sp = 27448;
    cpu.reg.a = 70;
    cpu.reg.b = 65;
    cpu.reg.c = 201;
    cpu.reg.d = 255;
    cpu.reg.e = 49;
    cpu.reg.f = 64;
    cpu.reg.h = 190;
    cpu.reg.l = 180;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[29305] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 70);
    CHECK(cpu.reg.b == 65);
    CHECK(cpu.reg.c == 201);
    CHECK(cpu.reg.d == 255);
    CHECK(cpu.reg.e == 48);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 190);
    CHECK(cpu.reg.l == 180);
    CHECK(cpu.pc == 29306);
    CHECK(cpu.sp == 27448);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[29305] == 27);
}

TEST_CASE( "1B 0136", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45541;
    cpu.sp = 55853;
    cpu.reg.a = 126;
    cpu.reg.b = 111;
    cpu.reg.c = 172;
    cpu.reg.d = 212;
    cpu.reg.e = 132;
    cpu.reg.f = 192;
    cpu.reg.h = 195;
    cpu.reg.l = 160;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[45541] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 126);
    CHECK(cpu.reg.b == 111);
    CHECK(cpu.reg.c == 172);
    CHECK(cpu.reg.d == 212);
    CHECK(cpu.reg.e == 131);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 195);
    CHECK(cpu.reg.l == 160);
    CHECK(cpu.pc == 45542);
    CHECK(cpu.sp == 55853);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45541] == 27);
}

TEST_CASE( "1B 0137", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60620;
    cpu.sp = 43077;
    cpu.reg.a = 137;
    cpu.reg.b = 112;
    cpu.reg.c = 21;
    cpu.reg.d = 81;
    cpu.reg.e = 214;
    cpu.reg.f = 0;
    cpu.reg.h = 204;
    cpu.reg.l = 74;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[60620] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 137);
    CHECK(cpu.reg.b == 112);
    CHECK(cpu.reg.c == 21);
    CHECK(cpu.reg.d == 81);
    CHECK(cpu.reg.e == 213);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 204);
    CHECK(cpu.reg.l == 74);
    CHECK(cpu.pc == 60621);
    CHECK(cpu.sp == 43077);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60620] == 27);
}

TEST_CASE( "1B 0138", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1318;
    cpu.sp = 53689;
    cpu.reg.a = 4;
    cpu.reg.b = 151;
    cpu.reg.c = 167;
    cpu.reg.d = 177;
    cpu.reg.e = 191;
    cpu.reg.f = 240;
    cpu.reg.h = 31;
    cpu.reg.l = 11;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1318] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 4);
    CHECK(cpu.reg.b == 151);
    CHECK(cpu.reg.c == 167);
    CHECK(cpu.reg.d == 177);
    CHECK(cpu.reg.e == 190);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 31);
    CHECK(cpu.reg.l == 11);
    CHECK(cpu.pc == 1319);
    CHECK(cpu.sp == 53689);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1318] == 27);
}

TEST_CASE( "1B 0139", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34647;
    cpu.sp = 21192;
    cpu.reg.a = 253;
    cpu.reg.b = 234;
    cpu.reg.c = 86;
    cpu.reg.d = 66;
    cpu.reg.e = 154;
    cpu.reg.f = 144;
    cpu.reg.h = 8;
    cpu.reg.l = 212;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[34647] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 253);
    CHECK(cpu.reg.b == 234);
    CHECK(cpu.reg.c == 86);
    CHECK(cpu.reg.d == 66);
    CHECK(cpu.reg.e == 153);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 8);
    CHECK(cpu.reg.l == 212);
    CHECK(cpu.pc == 34648);
    CHECK(cpu.sp == 21192);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34647] == 27);
}

TEST_CASE( "1B 013A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30590;
    cpu.sp = 39218;
    cpu.reg.a = 151;
    cpu.reg.b = 207;
    cpu.reg.c = 124;
    cpu.reg.d = 195;
    cpu.reg.e = 97;
    cpu.reg.f = 80;
    cpu.reg.h = 244;
    cpu.reg.l = 30;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[30590] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 151);
    CHECK(cpu.reg.b == 207);
    CHECK(cpu.reg.c == 124);
    CHECK(cpu.reg.d == 195);
    CHECK(cpu.reg.e == 96);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 244);
    CHECK(cpu.reg.l == 30);
    CHECK(cpu.pc == 30591);
    CHECK(cpu.sp == 39218);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30590] == 27);
}

TEST_CASE( "1B 013B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53818;
    cpu.sp = 60905;
    cpu.reg.a = 159;
    cpu.reg.b = 167;
    cpu.reg.c = 26;
    cpu.reg.d = 7;
    cpu.reg.e = 215;
    cpu.reg.f = 176;
    cpu.reg.h = 140;
    cpu.reg.l = 191;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[53818] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 159);
    CHECK(cpu.reg.b == 167);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 7);
    CHECK(cpu.reg.e == 214);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 140);
    CHECK(cpu.reg.l == 191);
    CHECK(cpu.pc == 53819);
    CHECK(cpu.sp == 60905);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[53818] == 27);
}

TEST_CASE( "1B 013C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39437;
    cpu.sp = 9148;
    cpu.reg.a = 186;
    cpu.reg.b = 18;
    cpu.reg.c = 4;
    cpu.reg.d = 165;
    cpu.reg.e = 193;
    cpu.reg.f = 64;
    cpu.reg.h = 145;
    cpu.reg.l = 134;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[39437] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 186);
    CHECK(cpu.reg.b == 18);
    CHECK(cpu.reg.c == 4);
    CHECK(cpu.reg.d == 165);
    CHECK(cpu.reg.e == 192);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 145);
    CHECK(cpu.reg.l == 134);
    CHECK(cpu.pc == 39438);
    CHECK(cpu.sp == 9148);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39437] == 27);
}

TEST_CASE( "1B 013D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27734;
    cpu.sp = 28035;
    cpu.reg.a = 202;
    cpu.reg.b = 60;
    cpu.reg.c = 22;
    cpu.reg.d = 28;
    cpu.reg.e = 3;
    cpu.reg.f = 240;
    cpu.reg.h = 46;
    cpu.reg.l = 8;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[27734] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 202);
    CHECK(cpu.reg.b == 60);
    CHECK(cpu.reg.c == 22);
    CHECK(cpu.reg.d == 28);
    CHECK(cpu.reg.e == 2);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 46);
    CHECK(cpu.reg.l == 8);
    CHECK(cpu.pc == 27735);
    CHECK(cpu.sp == 28035);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27734] == 27);
}

TEST_CASE( "1B 013E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60306;
    cpu.sp = 50587;
    cpu.reg.a = 254;
    cpu.reg.b = 75;
    cpu.reg.c = 157;
    cpu.reg.d = 87;
    cpu.reg.e = 163;
    cpu.reg.f = 240;
    cpu.reg.h = 167;
    cpu.reg.l = 70;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[60306] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 75);
    CHECK(cpu.reg.c == 157);
    CHECK(cpu.reg.d == 87);
    CHECK(cpu.reg.e == 162);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 167);
    CHECK(cpu.reg.l == 70);
    CHECK(cpu.pc == 60307);
    CHECK(cpu.sp == 50587);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60306] == 27);
}

TEST_CASE( "1B 013F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14142;
    cpu.sp = 49325;
    cpu.reg.a = 67;
    cpu.reg.b = 82;
    cpu.reg.c = 132;
    cpu.reg.d = 63;
    cpu.reg.e = 171;
    cpu.reg.f = 176;
    cpu.reg.h = 12;
    cpu.reg.l = 227;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[14142] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 67);
    CHECK(cpu.reg.b == 82);
    CHECK(cpu.reg.c == 132);
    CHECK(cpu.reg.d == 63);
    CHECK(cpu.reg.e == 170);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 12);
    CHECK(cpu.reg.l == 227);
    CHECK(cpu.pc == 14143);
    CHECK(cpu.sp == 49325);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14142] == 27);
}

TEST_CASE( "1B 0140", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18703;
    cpu.sp = 3264;
    cpu.reg.a = 156;
    cpu.reg.b = 247;
    cpu.reg.c = 216;
    cpu.reg.d = 202;
    cpu.reg.e = 45;
    cpu.reg.f = 16;
    cpu.reg.h = 109;
    cpu.reg.l = 6;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[18703] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 156);
    CHECK(cpu.reg.b == 247);
    CHECK(cpu.reg.c == 216);
    CHECK(cpu.reg.d == 202);
    CHECK(cpu.reg.e == 44);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 109);
    CHECK(cpu.reg.l == 6);
    CHECK(cpu.pc == 18704);
    CHECK(cpu.sp == 3264);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18703] == 27);
}

TEST_CASE( "1B 0141", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 877;
    cpu.sp = 58228;
    cpu.reg.a = 55;
    cpu.reg.b = 220;
    cpu.reg.c = 1;
    cpu.reg.d = 79;
    cpu.reg.e = 185;
    cpu.reg.f = 64;
    cpu.reg.h = 77;
    cpu.reg.l = 135;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[877] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 55);
    CHECK(cpu.reg.b == 220);
    CHECK(cpu.reg.c == 1);
    CHECK(cpu.reg.d == 79);
    CHECK(cpu.reg.e == 184);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 77);
    CHECK(cpu.reg.l == 135);
    CHECK(cpu.pc == 878);
    CHECK(cpu.sp == 58228);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[877] == 27);
}

TEST_CASE( "1B 0142", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4096;
    cpu.sp = 42673;
    cpu.reg.a = 104;
    cpu.reg.b = 86;
    cpu.reg.c = 20;
    cpu.reg.d = 229;
    cpu.reg.e = 146;
    cpu.reg.f = 160;
    cpu.reg.h = 38;
    cpu.reg.l = 223;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4096] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 104);
    CHECK(cpu.reg.b == 86);
    CHECK(cpu.reg.c == 20);
    CHECK(cpu.reg.d == 229);
    CHECK(cpu.reg.e == 145);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 38);
    CHECK(cpu.reg.l == 223);
    CHECK(cpu.pc == 4097);
    CHECK(cpu.sp == 42673);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4096] == 27);
}

TEST_CASE( "1B 0143", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58936;
    cpu.sp = 17801;
    cpu.reg.a = 91;
    cpu.reg.b = 121;
    cpu.reg.c = 180;
    cpu.reg.d = 254;
    cpu.reg.e = 238;
    cpu.reg.f = 224;
    cpu.reg.h = 65;
    cpu.reg.l = 224;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[58936] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 91);
    CHECK(cpu.reg.b == 121);
    CHECK(cpu.reg.c == 180);
    CHECK(cpu.reg.d == 254);
    CHECK(cpu.reg.e == 237);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 65);
    CHECK(cpu.reg.l == 224);
    CHECK(cpu.pc == 58937);
    CHECK(cpu.sp == 17801);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[58936] == 27);
}

TEST_CASE( "1B 0144", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17487;
    cpu.sp = 50808;
    cpu.reg.a = 9;
    cpu.reg.b = 7;
    cpu.reg.c = 210;
    cpu.reg.d = 112;
    cpu.reg.e = 174;
    cpu.reg.f = 240;
    cpu.reg.h = 173;
    cpu.reg.l = 244;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[17487] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 9);
    CHECK(cpu.reg.b == 7);
    CHECK(cpu.reg.c == 210);
    CHECK(cpu.reg.d == 112);
    CHECK(cpu.reg.e == 173);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 173);
    CHECK(cpu.reg.l == 244);
    CHECK(cpu.pc == 17488);
    CHECK(cpu.sp == 50808);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17487] == 27);
}

TEST_CASE( "1B 0145", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28814;
    cpu.sp = 63737;
    cpu.reg.a = 248;
    cpu.reg.b = 54;
    cpu.reg.c = 231;
    cpu.reg.d = 51;
    cpu.reg.e = 195;
    cpu.reg.f = 48;
    cpu.reg.h = 9;
    cpu.reg.l = 136;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[28814] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 248);
    CHECK(cpu.reg.b == 54);
    CHECK(cpu.reg.c == 231);
    CHECK(cpu.reg.d == 51);
    CHECK(cpu.reg.e == 194);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 9);
    CHECK(cpu.reg.l == 136);
    CHECK(cpu.pc == 28815);
    CHECK(cpu.sp == 63737);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28814] == 27);
}

TEST_CASE( "1B 0146", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4951;
    cpu.sp = 44528;
    cpu.reg.a = 35;
    cpu.reg.b = 164;
    cpu.reg.c = 16;
    cpu.reg.d = 164;
    cpu.reg.e = 77;
    cpu.reg.f = 128;
    cpu.reg.h = 209;
    cpu.reg.l = 215;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[4951] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 35);
    CHECK(cpu.reg.b == 164);
    CHECK(cpu.reg.c == 16);
    CHECK(cpu.reg.d == 164);
    CHECK(cpu.reg.e == 76);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 209);
    CHECK(cpu.reg.l == 215);
    CHECK(cpu.pc == 4952);
    CHECK(cpu.sp == 44528);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4951] == 27);
}

TEST_CASE( "1B 0147", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63299;
    cpu.sp = 51421;
    cpu.reg.a = 40;
    cpu.reg.b = 61;
    cpu.reg.c = 79;
    cpu.reg.d = 171;
    cpu.reg.e = 35;
    cpu.reg.f = 160;
    cpu.reg.h = 31;
    cpu.reg.l = 9;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[63299] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 40);
    CHECK(cpu.reg.b == 61);
    CHECK(cpu.reg.c == 79);
    CHECK(cpu.reg.d == 171);
    CHECK(cpu.reg.e == 34);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 31);
    CHECK(cpu.reg.l == 9);
    CHECK(cpu.pc == 63300);
    CHECK(cpu.sp == 51421);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[63299] == 27);
}

TEST_CASE( "1B 0148", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29830;
    cpu.sp = 22021;
    cpu.reg.a = 0;
    cpu.reg.b = 98;
    cpu.reg.c = 88;
    cpu.reg.d = 227;
    cpu.reg.e = 61;
    cpu.reg.f = 160;
    cpu.reg.h = 20;
    cpu.reg.l = 4;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[29830] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 0);
    CHECK(cpu.reg.b == 98);
    CHECK(cpu.reg.c == 88);
    CHECK(cpu.reg.d == 227);
    CHECK(cpu.reg.e == 60);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 20);
    CHECK(cpu.reg.l == 4);
    CHECK(cpu.pc == 29831);
    CHECK(cpu.sp == 22021);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29830] == 27);
}

TEST_CASE( "1B 0149", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45347;
    cpu.sp = 33017;
    cpu.reg.a = 190;
    cpu.reg.b = 49;
    cpu.reg.c = 185;
    cpu.reg.d = 146;
    cpu.reg.e = 89;
    cpu.reg.f = 224;
    cpu.reg.h = 142;
    cpu.reg.l = 237;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[45347] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 190);
    CHECK(cpu.reg.b == 49);
    CHECK(cpu.reg.c == 185);
    CHECK(cpu.reg.d == 146);
    CHECK(cpu.reg.e == 88);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 142);
    CHECK(cpu.reg.l == 237);
    CHECK(cpu.pc == 45348);
    CHECK(cpu.sp == 33017);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45347] == 27);
}

TEST_CASE( "1B 014A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38397;
    cpu.sp = 13340;
    cpu.reg.a = 33;
    cpu.reg.b = 117;
    cpu.reg.c = 46;
    cpu.reg.d = 195;
    cpu.reg.e = 251;
    cpu.reg.f = 224;
    cpu.reg.h = 149;
    cpu.reg.l = 66;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[38397] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 33);
    CHECK(cpu.reg.b == 117);
    CHECK(cpu.reg.c == 46);
    CHECK(cpu.reg.d == 195);
    CHECK(cpu.reg.e == 250);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 149);
    CHECK(cpu.reg.l == 66);
    CHECK(cpu.pc == 38398);
    CHECK(cpu.sp == 13340);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38397] == 27);
}

TEST_CASE( "1B 014B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38368;
    cpu.sp = 22618;
    cpu.reg.a = 181;
    cpu.reg.b = 185;
    cpu.reg.c = 68;
    cpu.reg.d = 21;
    cpu.reg.e = 33;
    cpu.reg.f = 96;
    cpu.reg.h = 150;
    cpu.reg.l = 219;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[38368] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 181);
    CHECK(cpu.reg.b == 185);
    CHECK(cpu.reg.c == 68);
    CHECK(cpu.reg.d == 21);
    CHECK(cpu.reg.e == 32);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 150);
    CHECK(cpu.reg.l == 219);
    CHECK(cpu.pc == 38369);
    CHECK(cpu.sp == 22618);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38368] == 27);
}

TEST_CASE( "1B 014C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 187;
    cpu.sp = 9814;
    cpu.reg.a = 162;
    cpu.reg.b = 0;
    cpu.reg.c = 40;
    cpu.reg.d = 11;
    cpu.reg.e = 229;
    cpu.reg.f = 128;
    cpu.reg.h = 172;
    cpu.reg.l = 119;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[187] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 162);
    CHECK(cpu.reg.b == 0);
    CHECK(cpu.reg.c == 40);
    CHECK(cpu.reg.d == 11);
    CHECK(cpu.reg.e == 228);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 172);
    CHECK(cpu.reg.l == 119);
    CHECK(cpu.pc == 188);
    CHECK(cpu.sp == 9814);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[187] == 27);
}

TEST_CASE( "1B 014D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11635;
    cpu.sp = 60475;
    cpu.reg.a = 18;
    cpu.reg.b = 140;
    cpu.reg.c = 211;
    cpu.reg.d = 6;
    cpu.reg.e = 150;
    cpu.reg.f = 64;
    cpu.reg.h = 29;
    cpu.reg.l = 196;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[11635] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 18);
    CHECK(cpu.reg.b == 140);
    CHECK(cpu.reg.c == 211);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 149);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 29);
    CHECK(cpu.reg.l == 196);
    CHECK(cpu.pc == 11636);
    CHECK(cpu.sp == 60475);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11635] == 27);
}

TEST_CASE( "1B 014E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34217;
    cpu.sp = 30239;
    cpu.reg.a = 105;
    cpu.reg.b = 114;
    cpu.reg.c = 109;
    cpu.reg.d = 158;
    cpu.reg.e = 36;
    cpu.reg.f = 80;
    cpu.reg.h = 137;
    cpu.reg.l = 16;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[34217] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 105);
    CHECK(cpu.reg.b == 114);
    CHECK(cpu.reg.c == 109);
    CHECK(cpu.reg.d == 158);
    CHECK(cpu.reg.e == 35);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 137);
    CHECK(cpu.reg.l == 16);
    CHECK(cpu.pc == 34218);
    CHECK(cpu.sp == 30239);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34217] == 27);
}

TEST_CASE( "1B 014F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4849;
    cpu.sp = 6714;
    cpu.reg.a = 39;
    cpu.reg.b = 209;
    cpu.reg.c = 240;
    cpu.reg.d = 89;
    cpu.reg.e = 174;
    cpu.reg.f = 80;
    cpu.reg.h = 218;
    cpu.reg.l = 50;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4849] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 39);
    CHECK(cpu.reg.b == 209);
    CHECK(cpu.reg.c == 240);
    CHECK(cpu.reg.d == 89);
    CHECK(cpu.reg.e == 173);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 218);
    CHECK(cpu.reg.l == 50);
    CHECK(cpu.pc == 4850);
    CHECK(cpu.sp == 6714);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4849] == 27);
}

TEST_CASE( "1B 0150", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22314;
    cpu.sp = 5468;
    cpu.reg.a = 98;
    cpu.reg.b = 79;
    cpu.reg.c = 106;
    cpu.reg.d = 63;
    cpu.reg.e = 143;
    cpu.reg.f = 64;
    cpu.reg.h = 186;
    cpu.reg.l = 207;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[22314] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 98);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 106);
    CHECK(cpu.reg.d == 63);
    CHECK(cpu.reg.e == 142);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 186);
    CHECK(cpu.reg.l == 207);
    CHECK(cpu.pc == 22315);
    CHECK(cpu.sp == 5468);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22314] == 27);
}

TEST_CASE( "1B 0151", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55258;
    cpu.sp = 10204;
    cpu.reg.a = 175;
    cpu.reg.b = 151;
    cpu.reg.c = 234;
    cpu.reg.d = 19;
    cpu.reg.e = 221;
    cpu.reg.f = 96;
    cpu.reg.h = 97;
    cpu.reg.l = 133;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[55258] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 175);
    CHECK(cpu.reg.b == 151);
    CHECK(cpu.reg.c == 234);
    CHECK(cpu.reg.d == 19);
    CHECK(cpu.reg.e == 220);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 97);
    CHECK(cpu.reg.l == 133);
    CHECK(cpu.pc == 55259);
    CHECK(cpu.sp == 10204);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55258] == 27);
}

TEST_CASE( "1B 0152", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40772;
    cpu.sp = 3111;
    cpu.reg.a = 166;
    cpu.reg.b = 222;
    cpu.reg.c = 34;
    cpu.reg.d = 48;
    cpu.reg.e = 3;
    cpu.reg.f = 96;
    cpu.reg.h = 90;
    cpu.reg.l = 234;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[40772] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 166);
    CHECK(cpu.reg.b == 222);
    CHECK(cpu.reg.c == 34);
    CHECK(cpu.reg.d == 48);
    CHECK(cpu.reg.e == 2);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 90);
    CHECK(cpu.reg.l == 234);
    CHECK(cpu.pc == 40773);
    CHECK(cpu.sp == 3111);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40772] == 27);
}

TEST_CASE( "1B 0153", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60502;
    cpu.sp = 36597;
    cpu.reg.a = 125;
    cpu.reg.b = 126;
    cpu.reg.c = 189;
    cpu.reg.d = 224;
    cpu.reg.e = 54;
    cpu.reg.f = 208;
    cpu.reg.h = 132;
    cpu.reg.l = 229;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[60502] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 125);
    CHECK(cpu.reg.b == 126);
    CHECK(cpu.reg.c == 189);
    CHECK(cpu.reg.d == 224);
    CHECK(cpu.reg.e == 53);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 132);
    CHECK(cpu.reg.l == 229);
    CHECK(cpu.pc == 60503);
    CHECK(cpu.sp == 36597);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[60502] == 27);
}

TEST_CASE( "1B 0154", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34449;
    cpu.sp = 27153;
    cpu.reg.a = 246;
    cpu.reg.b = 1;
    cpu.reg.c = 228;
    cpu.reg.d = 154;
    cpu.reg.e = 232;
    cpu.reg.f = 192;
    cpu.reg.h = 34;
    cpu.reg.l = 90;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[34449] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 246);
    CHECK(cpu.reg.b == 1);
    CHECK(cpu.reg.c == 228);
    CHECK(cpu.reg.d == 154);
    CHECK(cpu.reg.e == 231);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 34);
    CHECK(cpu.reg.l == 90);
    CHECK(cpu.pc == 34450);
    CHECK(cpu.sp == 27153);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34449] == 27);
}

TEST_CASE( "1B 0155", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23746;
    cpu.sp = 29834;
    cpu.reg.a = 197;
    cpu.reg.b = 120;
    cpu.reg.c = 254;
    cpu.reg.d = 58;
    cpu.reg.e = 159;
    cpu.reg.f = 32;
    cpu.reg.h = 143;
    cpu.reg.l = 110;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[23746] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 197);
    CHECK(cpu.reg.b == 120);
    CHECK(cpu.reg.c == 254);
    CHECK(cpu.reg.d == 58);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 143);
    CHECK(cpu.reg.l == 110);
    CHECK(cpu.pc == 23747);
    CHECK(cpu.sp == 29834);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23746] == 27);
}

TEST_CASE( "1B 0156", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56225;
    cpu.sp = 14503;
    cpu.reg.a = 12;
    cpu.reg.b = 226;
    cpu.reg.c = 222;
    cpu.reg.d = 46;
    cpu.reg.e = 2;
    cpu.reg.f = 48;
    cpu.reg.h = 27;
    cpu.reg.l = 2;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[56225] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 12);
    CHECK(cpu.reg.b == 226);
    CHECK(cpu.reg.c == 222);
    CHECK(cpu.reg.d == 46);
    CHECK(cpu.reg.e == 1);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 27);
    CHECK(cpu.reg.l == 2);
    CHECK(cpu.pc == 56226);
    CHECK(cpu.sp == 14503);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56225] == 27);
}

TEST_CASE( "1B 0157", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61002;
    cpu.sp = 46926;
    cpu.reg.a = 93;
    cpu.reg.b = 133;
    cpu.reg.c = 155;
    cpu.reg.d = 144;
    cpu.reg.e = 30;
    cpu.reg.f = 80;
    cpu.reg.h = 52;
    cpu.reg.l = 131;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[61002] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 93);
    CHECK(cpu.reg.b == 133);
    CHECK(cpu.reg.c == 155);
    CHECK(cpu.reg.d == 144);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 52);
    CHECK(cpu.reg.l == 131);
    CHECK(cpu.pc == 61003);
    CHECK(cpu.sp == 46926);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61002] == 27);
}

TEST_CASE( "1B 0158", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49597;
    cpu.sp = 2876;
    cpu.reg.a = 123;
    cpu.reg.b = 130;
    cpu.reg.c = 181;
    cpu.reg.d = 9;
    cpu.reg.e = 152;
    cpu.reg.f = 144;
    cpu.reg.h = 92;
    cpu.reg.l = 3;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[49597] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 123);
    CHECK(cpu.reg.b == 130);
    CHECK(cpu.reg.c == 181);
    CHECK(cpu.reg.d == 9);
    CHECK(cpu.reg.e == 151);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 92);
    CHECK(cpu.reg.l == 3);
    CHECK(cpu.pc == 49598);
    CHECK(cpu.sp == 2876);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49597] == 27);
}

TEST_CASE( "1B 0159", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32565;
    cpu.sp = 46527;
    cpu.reg.a = 120;
    cpu.reg.b = 89;
    cpu.reg.c = 206;
    cpu.reg.d = 141;
    cpu.reg.e = 14;
    cpu.reg.f = 32;
    cpu.reg.h = 181;
    cpu.reg.l = 10;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[32565] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 120);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 206);
    CHECK(cpu.reg.d == 141);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 181);
    CHECK(cpu.reg.l == 10);
    CHECK(cpu.pc == 32566);
    CHECK(cpu.sp == 46527);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[32565] == 27);
}

TEST_CASE( "1B 015A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47231;
    cpu.sp = 15728;
    cpu.reg.a = 227;
    cpu.reg.b = 163;
    cpu.reg.c = 75;
    cpu.reg.d = 253;
    cpu.reg.e = 23;
    cpu.reg.f = 128;
    cpu.reg.h = 164;
    cpu.reg.l = 133;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[47231] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 227);
    CHECK(cpu.reg.b == 163);
    CHECK(cpu.reg.c == 75);
    CHECK(cpu.reg.d == 253);
    CHECK(cpu.reg.e == 22);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 164);
    CHECK(cpu.reg.l == 133);
    CHECK(cpu.pc == 47232);
    CHECK(cpu.sp == 15728);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[47231] == 27);
}

TEST_CASE( "1B 015B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33285;
    cpu.sp = 13929;
    cpu.reg.a = 119;
    cpu.reg.b = 204;
    cpu.reg.c = 62;
    cpu.reg.d = 212;
    cpu.reg.e = 94;
    cpu.reg.f = 64;
    cpu.reg.h = 78;
    cpu.reg.l = 190;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[33285] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 119);
    CHECK(cpu.reg.b == 204);
    CHECK(cpu.reg.c == 62);
    CHECK(cpu.reg.d == 212);
    CHECK(cpu.reg.e == 93);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 78);
    CHECK(cpu.reg.l == 190);
    CHECK(cpu.pc == 33286);
    CHECK(cpu.sp == 13929);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33285] == 27);
}

TEST_CASE( "1B 015C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40122;
    cpu.sp = 12462;
    cpu.reg.a = 121;
    cpu.reg.b = 180;
    cpu.reg.c = 33;
    cpu.reg.d = 181;
    cpu.reg.e = 158;
    cpu.reg.f = 48;
    cpu.reg.h = 10;
    cpu.reg.l = 169;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[40122] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 121);
    CHECK(cpu.reg.b == 180);
    CHECK(cpu.reg.c == 33);
    CHECK(cpu.reg.d == 181);
    CHECK(cpu.reg.e == 157);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 10);
    CHECK(cpu.reg.l == 169);
    CHECK(cpu.pc == 40123);
    CHECK(cpu.sp == 12462);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40122] == 27);
}

TEST_CASE( "1B 015D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1509;
    cpu.sp = 10782;
    cpu.reg.a = 149;
    cpu.reg.b = 92;
    cpu.reg.c = 188;
    cpu.reg.d = 84;
    cpu.reg.e = 83;
    cpu.reg.f = 96;
    cpu.reg.h = 16;
    cpu.reg.l = 159;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[1509] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 149);
    CHECK(cpu.reg.b == 92);
    CHECK(cpu.reg.c == 188);
    CHECK(cpu.reg.d == 84);
    CHECK(cpu.reg.e == 82);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 16);
    CHECK(cpu.reg.l == 159);
    CHECK(cpu.pc == 1510);
    CHECK(cpu.sp == 10782);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1509] == 27);
}

TEST_CASE( "1B 015E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55882;
    cpu.sp = 63896;
    cpu.reg.a = 254;
    cpu.reg.b = 53;
    cpu.reg.c = 203;
    cpu.reg.d = 24;
    cpu.reg.e = 102;
    cpu.reg.f = 224;
    cpu.reg.h = 138;
    cpu.reg.l = 107;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[55882] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 53);
    CHECK(cpu.reg.c == 203);
    CHECK(cpu.reg.d == 24);
    CHECK(cpu.reg.e == 101);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 138);
    CHECK(cpu.reg.l == 107);
    CHECK(cpu.pc == 55883);
    CHECK(cpu.sp == 63896);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[55882] == 27);
}

TEST_CASE( "1B 015F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49713;
    cpu.sp = 58154;
    cpu.reg.a = 192;
    cpu.reg.b = 101;
    cpu.reg.c = 57;
    cpu.reg.d = 216;
    cpu.reg.e = 41;
    cpu.reg.f = 16;
    cpu.reg.h = 93;
    cpu.reg.l = 197;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[49713] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 192);
    CHECK(cpu.reg.b == 101);
    CHECK(cpu.reg.c == 57);
    CHECK(cpu.reg.d == 216);
    CHECK(cpu.reg.e == 40);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 93);
    CHECK(cpu.reg.l == 197);
    CHECK(cpu.pc == 49714);
    CHECK(cpu.sp == 58154);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49713] == 27);
}

TEST_CASE( "1B 0160", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20105;
    cpu.sp = 51884;
    cpu.reg.a = 77;
    cpu.reg.b = 175;
    cpu.reg.c = 241;
    cpu.reg.d = 152;
    cpu.reg.e = 116;
    cpu.reg.f = 112;
    cpu.reg.h = 44;
    cpu.reg.l = 213;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[20105] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 77);
    CHECK(cpu.reg.b == 175);
    CHECK(cpu.reg.c == 241);
    CHECK(cpu.reg.d == 152);
    CHECK(cpu.reg.e == 115);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 44);
    CHECK(cpu.reg.l == 213);
    CHECK(cpu.pc == 20106);
    CHECK(cpu.sp == 51884);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20105] == 27);
}

TEST_CASE( "1B 0161", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46226;
    cpu.sp = 11489;
    cpu.reg.a = 22;
    cpu.reg.b = 183;
    cpu.reg.c = 127;
    cpu.reg.d = 163;
    cpu.reg.e = 122;
    cpu.reg.f = 48;
    cpu.reg.h = 142;
    cpu.reg.l = 67;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[46226] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 22);
    CHECK(cpu.reg.b == 183);
    CHECK(cpu.reg.c == 127);
    CHECK(cpu.reg.d == 163);
    CHECK(cpu.reg.e == 121);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 142);
    CHECK(cpu.reg.l == 67);
    CHECK(cpu.pc == 46227);
    CHECK(cpu.sp == 11489);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46226] == 27);
}

TEST_CASE( "1B 0162", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30507;
    cpu.sp = 5728;
    cpu.reg.a = 133;
    cpu.reg.b = 129;
    cpu.reg.c = 203;
    cpu.reg.d = 206;
    cpu.reg.e = 60;
    cpu.reg.f = 32;
    cpu.reg.h = 205;
    cpu.reg.l = 221;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[30507] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 133);
    CHECK(cpu.reg.b == 129);
    CHECK(cpu.reg.c == 203);
    CHECK(cpu.reg.d == 206);
    CHECK(cpu.reg.e == 59);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 205);
    CHECK(cpu.reg.l == 221);
    CHECK(cpu.pc == 30508);
    CHECK(cpu.sp == 5728);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30507] == 27);
}

TEST_CASE( "1B 0163", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48081;
    cpu.sp = 58659;
    cpu.reg.a = 176;
    cpu.reg.b = 96;
    cpu.reg.c = 176;
    cpu.reg.d = 7;
    cpu.reg.e = 3;
    cpu.reg.f = 16;
    cpu.reg.h = 153;
    cpu.reg.l = 98;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[48081] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 176);
    CHECK(cpu.reg.b == 96);
    CHECK(cpu.reg.c == 176);
    CHECK(cpu.reg.d == 7);
    CHECK(cpu.reg.e == 2);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 153);
    CHECK(cpu.reg.l == 98);
    CHECK(cpu.pc == 48082);
    CHECK(cpu.sp == 58659);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48081] == 27);
}

TEST_CASE( "1B 0164", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45592;
    cpu.sp = 34739;
    cpu.reg.a = 65;
    cpu.reg.b = 57;
    cpu.reg.c = 118;
    cpu.reg.d = 25;
    cpu.reg.e = 121;
    cpu.reg.f = 224;
    cpu.reg.h = 25;
    cpu.reg.l = 175;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[45592] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 65);
    CHECK(cpu.reg.b == 57);
    CHECK(cpu.reg.c == 118);
    CHECK(cpu.reg.d == 25);
    CHECK(cpu.reg.e == 120);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 25);
    CHECK(cpu.reg.l == 175);
    CHECK(cpu.pc == 45593);
    CHECK(cpu.sp == 34739);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45592] == 27);
}

TEST_CASE( "1B 0165", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38930;
    cpu.sp = 42679;
    cpu.reg.a = 74;
    cpu.reg.b = 243;
    cpu.reg.c = 130;
    cpu.reg.d = 199;
    cpu.reg.e = 69;
    cpu.reg.f = 224;
    cpu.reg.h = 19;
    cpu.reg.l = 254;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[38930] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 74);
    CHECK(cpu.reg.b == 243);
    CHECK(cpu.reg.c == 130);
    CHECK(cpu.reg.d == 199);
    CHECK(cpu.reg.e == 68);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 19);
    CHECK(cpu.reg.l == 254);
    CHECK(cpu.pc == 38931);
    CHECK(cpu.sp == 42679);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38930] == 27);
}

TEST_CASE( "1B 0166", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50906;
    cpu.sp = 36829;
    cpu.reg.a = 82;
    cpu.reg.b = 202;
    cpu.reg.c = 191;
    cpu.reg.d = 73;
    cpu.reg.e = 7;
    cpu.reg.f = 144;
    cpu.reg.h = 38;
    cpu.reg.l = 154;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[50906] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 82);
    CHECK(cpu.reg.b == 202);
    CHECK(cpu.reg.c == 191);
    CHECK(cpu.reg.d == 73);
    CHECK(cpu.reg.e == 6);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 38);
    CHECK(cpu.reg.l == 154);
    CHECK(cpu.pc == 50907);
    CHECK(cpu.sp == 36829);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50906] == 27);
}

TEST_CASE( "1B 0167", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11811;
    cpu.sp = 8851;
    cpu.reg.a = 68;
    cpu.reg.b = 236;
    cpu.reg.c = 72;
    cpu.reg.d = 251;
    cpu.reg.e = 237;
    cpu.reg.f = 112;
    cpu.reg.h = 214;
    cpu.reg.l = 70;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[11811] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 68);
    CHECK(cpu.reg.b == 236);
    CHECK(cpu.reg.c == 72);
    CHECK(cpu.reg.d == 251);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 214);
    CHECK(cpu.reg.l == 70);
    CHECK(cpu.pc == 11812);
    CHECK(cpu.sp == 8851);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11811] == 27);
}

TEST_CASE( "1B 0168", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3599;
    cpu.sp = 37252;
    cpu.reg.a = 236;
    cpu.reg.b = 65;
    cpu.reg.c = 208;
    cpu.reg.d = 146;
    cpu.reg.e = 12;
    cpu.reg.f = 112;
    cpu.reg.h = 194;
    cpu.reg.l = 58;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[3599] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 236);
    CHECK(cpu.reg.b == 65);
    CHECK(cpu.reg.c == 208);
    CHECK(cpu.reg.d == 146);
    CHECK(cpu.reg.e == 11);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 194);
    CHECK(cpu.reg.l == 58);
    CHECK(cpu.pc == 3600);
    CHECK(cpu.sp == 37252);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3599] == 27);
}

TEST_CASE( "1B 0169", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48918;
    cpu.sp = 18395;
    cpu.reg.a = 192;
    cpu.reg.b = 166;
    cpu.reg.c = 56;
    cpu.reg.d = 228;
    cpu.reg.e = 68;
    cpu.reg.f = 176;
    cpu.reg.h = 151;
    cpu.reg.l = 24;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[48918] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 192);
    CHECK(cpu.reg.b == 166);
    CHECK(cpu.reg.c == 56);
    CHECK(cpu.reg.d == 228);
    CHECK(cpu.reg.e == 67);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 151);
    CHECK(cpu.reg.l == 24);
    CHECK(cpu.pc == 48919);
    CHECK(cpu.sp == 18395);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48918] == 27);
}

TEST_CASE( "1B 016A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55543;
    cpu.sp = 7777;
    cpu.reg.a = 144;
    cpu.reg.b = 156;
    cpu.reg.c = 132;
    cpu.reg.d = 87;
    cpu.reg.e = 27;
    cpu.reg.f = 192;
    cpu.reg.h = 22;
    cpu.reg.l = 19;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[55543] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 144);
    CHECK(cpu.reg.b == 156);
    CHECK(cpu.reg.c == 132);
    CHECK(cpu.reg.d == 87);
    CHECK(cpu.reg.e == 26);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 22);
    CHECK(cpu.reg.l == 19);
    CHECK(cpu.pc == 55544);
    CHECK(cpu.sp == 7777);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55543] == 27);
}

TEST_CASE( "1B 016B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34914;
    cpu.sp = 36210;
    cpu.reg.a = 112;
    cpu.reg.b = 166;
    cpu.reg.c = 29;
    cpu.reg.d = 78;
    cpu.reg.e = 17;
    cpu.reg.f = 80;
    cpu.reg.h = 175;
    cpu.reg.l = 143;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[34914] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 112);
    CHECK(cpu.reg.b == 166);
    CHECK(cpu.reg.c == 29);
    CHECK(cpu.reg.d == 78);
    CHECK(cpu.reg.e == 16);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 175);
    CHECK(cpu.reg.l == 143);
    CHECK(cpu.pc == 34915);
    CHECK(cpu.sp == 36210);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34914] == 27);
}

TEST_CASE( "1B 016C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34374;
    cpu.sp = 37977;
    cpu.reg.a = 58;
    cpu.reg.b = 144;
    cpu.reg.c = 243;
    cpu.reg.d = 135;
    cpu.reg.e = 71;
    cpu.reg.f = 112;
    cpu.reg.h = 22;
    cpu.reg.l = 7;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[34374] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 58);
    CHECK(cpu.reg.b == 144);
    CHECK(cpu.reg.c == 243);
    CHECK(cpu.reg.d == 135);
    CHECK(cpu.reg.e == 70);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 22);
    CHECK(cpu.reg.l == 7);
    CHECK(cpu.pc == 34375);
    CHECK(cpu.sp == 37977);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34374] == 27);
}

TEST_CASE( "1B 016D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4180;
    cpu.sp = 21194;
    cpu.reg.a = 137;
    cpu.reg.b = 199;
    cpu.reg.c = 132;
    cpu.reg.d = 99;
    cpu.reg.e = 87;
    cpu.reg.f = 80;
    cpu.reg.h = 200;
    cpu.reg.l = 253;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[4180] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 137);
    CHECK(cpu.reg.b == 199);
    CHECK(cpu.reg.c == 132);
    CHECK(cpu.reg.d == 99);
    CHECK(cpu.reg.e == 86);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 200);
    CHECK(cpu.reg.l == 253);
    CHECK(cpu.pc == 4181);
    CHECK(cpu.sp == 21194);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4180] == 27);
}

TEST_CASE( "1B 016E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6170;
    cpu.sp = 11492;
    cpu.reg.a = 48;
    cpu.reg.b = 254;
    cpu.reg.c = 110;
    cpu.reg.d = 92;
    cpu.reg.e = 216;
    cpu.reg.f = 32;
    cpu.reg.h = 133;
    cpu.reg.l = 199;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[6170] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 48);
    CHECK(cpu.reg.b == 254);
    CHECK(cpu.reg.c == 110);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 215);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 133);
    CHECK(cpu.reg.l == 199);
    CHECK(cpu.pc == 6171);
    CHECK(cpu.sp == 11492);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6170] == 27);
}

TEST_CASE( "1B 016F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1426;
    cpu.sp = 8065;
    cpu.reg.a = 173;
    cpu.reg.b = 251;
    cpu.reg.c = 239;
    cpu.reg.d = 145;
    cpu.reg.e = 120;
    cpu.reg.f = 96;
    cpu.reg.h = 198;
    cpu.reg.l = 213;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1426] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 173);
    CHECK(cpu.reg.b == 251);
    CHECK(cpu.reg.c == 239);
    CHECK(cpu.reg.d == 145);
    CHECK(cpu.reg.e == 119);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 198);
    CHECK(cpu.reg.l == 213);
    CHECK(cpu.pc == 1427);
    CHECK(cpu.sp == 8065);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1426] == 27);
}

TEST_CASE( "1B 0170", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18444;
    cpu.sp = 25766;
    cpu.reg.a = 26;
    cpu.reg.b = 214;
    cpu.reg.c = 11;
    cpu.reg.d = 173;
    cpu.reg.e = 216;
    cpu.reg.f = 128;
    cpu.reg.h = 145;
    cpu.reg.l = 192;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[18444] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 26);
    CHECK(cpu.reg.b == 214);
    CHECK(cpu.reg.c == 11);
    CHECK(cpu.reg.d == 173);
    CHECK(cpu.reg.e == 215);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 145);
    CHECK(cpu.reg.l == 192);
    CHECK(cpu.pc == 18445);
    CHECK(cpu.sp == 25766);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18444] == 27);
}

TEST_CASE( "1B 0171", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21336;
    cpu.sp = 60029;
    cpu.reg.a = 202;
    cpu.reg.b = 40;
    cpu.reg.c = 145;
    cpu.reg.d = 23;
    cpu.reg.e = 7;
    cpu.reg.f = 192;
    cpu.reg.h = 192;
    cpu.reg.l = 145;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[21336] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 202);
    CHECK(cpu.reg.b == 40);
    CHECK(cpu.reg.c == 145);
    CHECK(cpu.reg.d == 23);
    CHECK(cpu.reg.e == 6);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 192);
    CHECK(cpu.reg.l == 145);
    CHECK(cpu.pc == 21337);
    CHECK(cpu.sp == 60029);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21336] == 27);
}

TEST_CASE( "1B 0172", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26777;
    cpu.sp = 33534;
    cpu.reg.a = 224;
    cpu.reg.b = 5;
    cpu.reg.c = 61;
    cpu.reg.d = 76;
    cpu.reg.e = 107;
    cpu.reg.f = 240;
    cpu.reg.h = 211;
    cpu.reg.l = 123;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[26777] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 5);
    CHECK(cpu.reg.c == 61);
    CHECK(cpu.reg.d == 76);
    CHECK(cpu.reg.e == 106);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 211);
    CHECK(cpu.reg.l == 123);
    CHECK(cpu.pc == 26778);
    CHECK(cpu.sp == 33534);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26777] == 27);
}

TEST_CASE( "1B 0173", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64736;
    cpu.sp = 35860;
    cpu.reg.a = 152;
    cpu.reg.b = 127;
    cpu.reg.c = 16;
    cpu.reg.d = 211;
    cpu.reg.e = 129;
    cpu.reg.f = 112;
    cpu.reg.h = 242;
    cpu.reg.l = 83;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[64736] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 152);
    CHECK(cpu.reg.b == 127);
    CHECK(cpu.reg.c == 16);
    CHECK(cpu.reg.d == 211);
    CHECK(cpu.reg.e == 128);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 83);
    CHECK(cpu.pc == 64737);
    CHECK(cpu.sp == 35860);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[64736] == 27);
}

TEST_CASE( "1B 0174", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21865;
    cpu.sp = 64249;
    cpu.reg.a = 202;
    cpu.reg.b = 234;
    cpu.reg.c = 246;
    cpu.reg.d = 127;
    cpu.reg.e = 58;
    cpu.reg.f = 0;
    cpu.reg.h = 36;
    cpu.reg.l = 116;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[21865] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 202);
    CHECK(cpu.reg.b == 234);
    CHECK(cpu.reg.c == 246);
    CHECK(cpu.reg.d == 127);
    CHECK(cpu.reg.e == 57);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 36);
    CHECK(cpu.reg.l == 116);
    CHECK(cpu.pc == 21866);
    CHECK(cpu.sp == 64249);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21865] == 27);
}

TEST_CASE( "1B 0175", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14006;
    cpu.sp = 48503;
    cpu.reg.a = 43;
    cpu.reg.b = 30;
    cpu.reg.c = 166;
    cpu.reg.d = 141;
    cpu.reg.e = 145;
    cpu.reg.f = 64;
    cpu.reg.h = 27;
    cpu.reg.l = 11;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[14006] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 43);
    CHECK(cpu.reg.b == 30);
    CHECK(cpu.reg.c == 166);
    CHECK(cpu.reg.d == 141);
    CHECK(cpu.reg.e == 144);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 27);
    CHECK(cpu.reg.l == 11);
    CHECK(cpu.pc == 14007);
    CHECK(cpu.sp == 48503);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14006] == 27);
}

TEST_CASE( "1B 0176", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24230;
    cpu.sp = 37232;
    cpu.reg.a = 134;
    cpu.reg.b = 96;
    cpu.reg.c = 52;
    cpu.reg.d = 214;
    cpu.reg.e = 71;
    cpu.reg.f = 80;
    cpu.reg.h = 34;
    cpu.reg.l = 146;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[24230] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 134);
    CHECK(cpu.reg.b == 96);
    CHECK(cpu.reg.c == 52);
    CHECK(cpu.reg.d == 214);
    CHECK(cpu.reg.e == 70);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 34);
    CHECK(cpu.reg.l == 146);
    CHECK(cpu.pc == 24231);
    CHECK(cpu.sp == 37232);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24230] == 27);
}

TEST_CASE( "1B 0177", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10054;
    cpu.sp = 56593;
    cpu.reg.a = 129;
    cpu.reg.b = 3;
    cpu.reg.c = 95;
    cpu.reg.d = 207;
    cpu.reg.e = 171;
    cpu.reg.f = 240;
    cpu.reg.h = 231;
    cpu.reg.l = 11;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[10054] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 129);
    CHECK(cpu.reg.b == 3);
    CHECK(cpu.reg.c == 95);
    CHECK(cpu.reg.d == 207);
    CHECK(cpu.reg.e == 170);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 231);
    CHECK(cpu.reg.l == 11);
    CHECK(cpu.pc == 10055);
    CHECK(cpu.sp == 56593);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10054] == 27);
}

TEST_CASE( "1B 0178", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1794;
    cpu.sp = 14198;
    cpu.reg.a = 172;
    cpu.reg.b = 36;
    cpu.reg.c = 20;
    cpu.reg.d = 84;
    cpu.reg.e = 55;
    cpu.reg.f = 80;
    cpu.reg.h = 37;
    cpu.reg.l = 254;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[1794] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 172);
    CHECK(cpu.reg.b == 36);
    CHECK(cpu.reg.c == 20);
    CHECK(cpu.reg.d == 84);
    CHECK(cpu.reg.e == 54);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 37);
    CHECK(cpu.reg.l == 254);
    CHECK(cpu.pc == 1795);
    CHECK(cpu.sp == 14198);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1794] == 27);
}

TEST_CASE( "1B 0179", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51751;
    cpu.sp = 37642;
    cpu.reg.a = 132;
    cpu.reg.b = 147;
    cpu.reg.c = 74;
    cpu.reg.d = 85;
    cpu.reg.e = 79;
    cpu.reg.f = 176;
    cpu.reg.h = 193;
    cpu.reg.l = 24;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[51751] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 132);
    CHECK(cpu.reg.b == 147);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 85);
    CHECK(cpu.reg.e == 78);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 193);
    CHECK(cpu.reg.l == 24);
    CHECK(cpu.pc == 51752);
    CHECK(cpu.sp == 37642);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51751] == 27);
}

TEST_CASE( "1B 017A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33130;
    cpu.sp = 54105;
    cpu.reg.a = 253;
    cpu.reg.b = 215;
    cpu.reg.c = 83;
    cpu.reg.d = 227;
    cpu.reg.e = 160;
    cpu.reg.f = 96;
    cpu.reg.h = 54;
    cpu.reg.l = 27;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[33130] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 253);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 83);
    CHECK(cpu.reg.d == 227);
    CHECK(cpu.reg.e == 159);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 54);
    CHECK(cpu.reg.l == 27);
    CHECK(cpu.pc == 33131);
    CHECK(cpu.sp == 54105);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33130] == 27);
}

TEST_CASE( "1B 017B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56493;
    cpu.sp = 20632;
    cpu.reg.a = 94;
    cpu.reg.b = 241;
    cpu.reg.c = 254;
    cpu.reg.d = 44;
    cpu.reg.e = 78;
    cpu.reg.f = 48;
    cpu.reg.h = 227;
    cpu.reg.l = 133;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[56493] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 94);
    CHECK(cpu.reg.b == 241);
    CHECK(cpu.reg.c == 254);
    CHECK(cpu.reg.d == 44);
    CHECK(cpu.reg.e == 77);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 133);
    CHECK(cpu.pc == 56494);
    CHECK(cpu.sp == 20632);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56493] == 27);
}

TEST_CASE( "1B 017C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41348;
    cpu.sp = 53928;
    cpu.reg.a = 155;
    cpu.reg.b = 170;
    cpu.reg.c = 143;
    cpu.reg.d = 27;
    cpu.reg.e = 195;
    cpu.reg.f = 224;
    cpu.reg.h = 255;
    cpu.reg.l = 2;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[41348] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 155);
    CHECK(cpu.reg.b == 170);
    CHECK(cpu.reg.c == 143);
    CHECK(cpu.reg.d == 27);
    CHECK(cpu.reg.e == 194);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 255);
    CHECK(cpu.reg.l == 2);
    CHECK(cpu.pc == 41349);
    CHECK(cpu.sp == 53928);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41348] == 27);
}

TEST_CASE( "1B 017D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9060;
    cpu.sp = 37636;
    cpu.reg.a = 248;
    cpu.reg.b = 54;
    cpu.reg.c = 246;
    cpu.reg.d = 191;
    cpu.reg.e = 30;
    cpu.reg.f = 128;
    cpu.reg.h = 227;
    cpu.reg.l = 14;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[9060] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 248);
    CHECK(cpu.reg.b == 54);
    CHECK(cpu.reg.c == 246);
    CHECK(cpu.reg.d == 191);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 14);
    CHECK(cpu.pc == 9061);
    CHECK(cpu.sp == 37636);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9060] == 27);
}

TEST_CASE( "1B 017E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33887;
    cpu.sp = 41920;
    cpu.reg.a = 142;
    cpu.reg.b = 47;
    cpu.reg.c = 133;
    cpu.reg.d = 161;
    cpu.reg.e = 173;
    cpu.reg.f = 16;
    cpu.reg.h = 75;
    cpu.reg.l = 215;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[33887] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 142);
    CHECK(cpu.reg.b == 47);
    CHECK(cpu.reg.c == 133);
    CHECK(cpu.reg.d == 161);
    CHECK(cpu.reg.e == 172);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 75);
    CHECK(cpu.reg.l == 215);
    CHECK(cpu.pc == 33888);
    CHECK(cpu.sp == 41920);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33887] == 27);
}

TEST_CASE( "1B 017F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41092;
    cpu.sp = 9615;
    cpu.reg.a = 225;
    cpu.reg.b = 89;
    cpu.reg.c = 124;
    cpu.reg.d = 33;
    cpu.reg.e = 118;
    cpu.reg.f = 96;
    cpu.reg.h = 95;
    cpu.reg.l = 163;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[41092] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 225);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 124);
    CHECK(cpu.reg.d == 33);
    CHECK(cpu.reg.e == 117);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 95);
    CHECK(cpu.reg.l == 163);
    CHECK(cpu.pc == 41093);
    CHECK(cpu.sp == 9615);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41092] == 27);
}

TEST_CASE( "1B 0180", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10041;
    cpu.sp = 37076;
    cpu.reg.a = 69;
    cpu.reg.b = 171;
    cpu.reg.c = 77;
    cpu.reg.d = 67;
    cpu.reg.e = 118;
    cpu.reg.f = 208;
    cpu.reg.h = 172;
    cpu.reg.l = 89;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[10041] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 69);
    CHECK(cpu.reg.b == 171);
    CHECK(cpu.reg.c == 77);
    CHECK(cpu.reg.d == 67);
    CHECK(cpu.reg.e == 117);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 172);
    CHECK(cpu.reg.l == 89);
    CHECK(cpu.pc == 10042);
    CHECK(cpu.sp == 37076);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10041] == 27);
}

TEST_CASE( "1B 0181", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26687;
    cpu.sp = 22513;
    cpu.reg.a = 144;
    cpu.reg.b = 181;
    cpu.reg.c = 95;
    cpu.reg.d = 242;
    cpu.reg.e = 21;
    cpu.reg.f = 144;
    cpu.reg.h = 176;
    cpu.reg.l = 172;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[26687] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 144);
    CHECK(cpu.reg.b == 181);
    CHECK(cpu.reg.c == 95);
    CHECK(cpu.reg.d == 242);
    CHECK(cpu.reg.e == 20);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 176);
    CHECK(cpu.reg.l == 172);
    CHECK(cpu.pc == 26688);
    CHECK(cpu.sp == 22513);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26687] == 27);
}

TEST_CASE( "1B 0182", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46675;
    cpu.sp = 46939;
    cpu.reg.a = 23;
    cpu.reg.b = 154;
    cpu.reg.c = 10;
    cpu.reg.d = 248;
    cpu.reg.e = 89;
    cpu.reg.f = 64;
    cpu.reg.h = 237;
    cpu.reg.l = 196;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[46675] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 23);
    CHECK(cpu.reg.b == 154);
    CHECK(cpu.reg.c == 10);
    CHECK(cpu.reg.d == 248);
    CHECK(cpu.reg.e == 88);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 237);
    CHECK(cpu.reg.l == 196);
    CHECK(cpu.pc == 46676);
    CHECK(cpu.sp == 46939);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46675] == 27);
}

TEST_CASE( "1B 0183", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1480;
    cpu.sp = 13661;
    cpu.reg.a = 100;
    cpu.reg.b = 108;
    cpu.reg.c = 179;
    cpu.reg.d = 33;
    cpu.reg.e = 90;
    cpu.reg.f = 96;
    cpu.reg.h = 186;
    cpu.reg.l = 235;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[1480] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 100);
    CHECK(cpu.reg.b == 108);
    CHECK(cpu.reg.c == 179);
    CHECK(cpu.reg.d == 33);
    CHECK(cpu.reg.e == 89);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 186);
    CHECK(cpu.reg.l == 235);
    CHECK(cpu.pc == 1481);
    CHECK(cpu.sp == 13661);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1480] == 27);
}

TEST_CASE( "1B 0184", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47300;
    cpu.sp = 33078;
    cpu.reg.a = 72;
    cpu.reg.b = 205;
    cpu.reg.c = 13;
    cpu.reg.d = 88;
    cpu.reg.e = 109;
    cpu.reg.f = 32;
    cpu.reg.h = 198;
    cpu.reg.l = 236;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[47300] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 72);
    CHECK(cpu.reg.b == 205);
    CHECK(cpu.reg.c == 13);
    CHECK(cpu.reg.d == 88);
    CHECK(cpu.reg.e == 108);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 198);
    CHECK(cpu.reg.l == 236);
    CHECK(cpu.pc == 47301);
    CHECK(cpu.sp == 33078);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[47300] == 27);
}

TEST_CASE( "1B 0185", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47816;
    cpu.sp = 940;
    cpu.reg.a = 208;
    cpu.reg.b = 133;
    cpu.reg.c = 181;
    cpu.reg.d = 47;
    cpu.reg.e = 114;
    cpu.reg.f = 128;
    cpu.reg.h = 47;
    cpu.reg.l = 86;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[47816] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 208);
    CHECK(cpu.reg.b == 133);
    CHECK(cpu.reg.c == 181);
    CHECK(cpu.reg.d == 47);
    CHECK(cpu.reg.e == 113);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 47);
    CHECK(cpu.reg.l == 86);
    CHECK(cpu.pc == 47817);
    CHECK(cpu.sp == 940);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[47816] == 27);
}

TEST_CASE( "1B 0186", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19138;
    cpu.sp = 15320;
    cpu.reg.a = 156;
    cpu.reg.b = 124;
    cpu.reg.c = 23;
    cpu.reg.d = 178;
    cpu.reg.e = 164;
    cpu.reg.f = 224;
    cpu.reg.h = 81;
    cpu.reg.l = 3;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[19138] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 156);
    CHECK(cpu.reg.b == 124);
    CHECK(cpu.reg.c == 23);
    CHECK(cpu.reg.d == 178);
    CHECK(cpu.reg.e == 163);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 81);
    CHECK(cpu.reg.l == 3);
    CHECK(cpu.pc == 19139);
    CHECK(cpu.sp == 15320);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19138] == 27);
}

TEST_CASE( "1B 0187", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20649;
    cpu.sp = 60110;
    cpu.reg.a = 87;
    cpu.reg.b = 62;
    cpu.reg.c = 89;
    cpu.reg.d = 26;
    cpu.reg.e = 198;
    cpu.reg.f = 192;
    cpu.reg.h = 135;
    cpu.reg.l = 14;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[20649] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 87);
    CHECK(cpu.reg.b == 62);
    CHECK(cpu.reg.c == 89);
    CHECK(cpu.reg.d == 26);
    CHECK(cpu.reg.e == 197);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 135);
    CHECK(cpu.reg.l == 14);
    CHECK(cpu.pc == 20650);
    CHECK(cpu.sp == 60110);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20649] == 27);
}

TEST_CASE( "1B 0188", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33873;
    cpu.sp = 54521;
    cpu.reg.a = 211;
    cpu.reg.b = 214;
    cpu.reg.c = 45;
    cpu.reg.d = 156;
    cpu.reg.e = 200;
    cpu.reg.f = 224;
    cpu.reg.h = 215;
    cpu.reg.l = 38;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[33873] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 211);
    CHECK(cpu.reg.b == 214);
    CHECK(cpu.reg.c == 45);
    CHECK(cpu.reg.d == 156);
    CHECK(cpu.reg.e == 199);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 215);
    CHECK(cpu.reg.l == 38);
    CHECK(cpu.pc == 33874);
    CHECK(cpu.sp == 54521);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33873] == 27);
}

TEST_CASE( "1B 0189", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5916;
    cpu.sp = 17833;
    cpu.reg.a = 55;
    cpu.reg.b = 67;
    cpu.reg.c = 128;
    cpu.reg.d = 230;
    cpu.reg.e = 204;
    cpu.reg.f = 128;
    cpu.reg.h = 129;
    cpu.reg.l = 139;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[5916] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 55);
    CHECK(cpu.reg.b == 67);
    CHECK(cpu.reg.c == 128);
    CHECK(cpu.reg.d == 230);
    CHECK(cpu.reg.e == 203);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 129);
    CHECK(cpu.reg.l == 139);
    CHECK(cpu.pc == 5917);
    CHECK(cpu.sp == 17833);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5916] == 27);
}

TEST_CASE( "1B 018A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21746;
    cpu.sp = 29768;
    cpu.reg.a = 192;
    cpu.reg.b = 54;
    cpu.reg.c = 13;
    cpu.reg.d = 220;
    cpu.reg.e = 94;
    cpu.reg.f = 0;
    cpu.reg.h = 61;
    cpu.reg.l = 211;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[21746] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 192);
    CHECK(cpu.reg.b == 54);
    CHECK(cpu.reg.c == 13);
    CHECK(cpu.reg.d == 220);
    CHECK(cpu.reg.e == 93);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 61);
    CHECK(cpu.reg.l == 211);
    CHECK(cpu.pc == 21747);
    CHECK(cpu.sp == 29768);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21746] == 27);
}

TEST_CASE( "1B 018B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63816;
    cpu.sp = 64840;
    cpu.reg.a = 129;
    cpu.reg.b = 11;
    cpu.reg.c = 70;
    cpu.reg.d = 8;
    cpu.reg.e = 60;
    cpu.reg.f = 144;
    cpu.reg.h = 87;
    cpu.reg.l = 163;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[63816] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 129);
    CHECK(cpu.reg.b == 11);
    CHECK(cpu.reg.c == 70);
    CHECK(cpu.reg.d == 8);
    CHECK(cpu.reg.e == 59);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 87);
    CHECK(cpu.reg.l == 163);
    CHECK(cpu.pc == 63817);
    CHECK(cpu.sp == 64840);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[63816] == 27);
}

TEST_CASE( "1B 018C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63709;
    cpu.sp = 50225;
    cpu.reg.a = 186;
    cpu.reg.b = 143;
    cpu.reg.c = 232;
    cpu.reg.d = 230;
    cpu.reg.e = 206;
    cpu.reg.f = 128;
    cpu.reg.h = 169;
    cpu.reg.l = 188;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[63709] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 186);
    CHECK(cpu.reg.b == 143);
    CHECK(cpu.reg.c == 232);
    CHECK(cpu.reg.d == 230);
    CHECK(cpu.reg.e == 205);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 169);
    CHECK(cpu.reg.l == 188);
    CHECK(cpu.pc == 63710);
    CHECK(cpu.sp == 50225);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[63709] == 27);
}

TEST_CASE( "1B 018D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60408;
    cpu.sp = 23412;
    cpu.reg.a = 14;
    cpu.reg.b = 80;
    cpu.reg.c = 76;
    cpu.reg.d = 30;
    cpu.reg.e = 157;
    cpu.reg.f = 192;
    cpu.reg.h = 236;
    cpu.reg.l = 189;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[60408] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 14);
    CHECK(cpu.reg.b == 80);
    CHECK(cpu.reg.c == 76);
    CHECK(cpu.reg.d == 30);
    CHECK(cpu.reg.e == 156);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 236);
    CHECK(cpu.reg.l == 189);
    CHECK(cpu.pc == 60409);
    CHECK(cpu.sp == 23412);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60408] == 27);
}

TEST_CASE( "1B 018E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2603;
    cpu.sp = 22983;
    cpu.reg.a = 148;
    cpu.reg.b = 47;
    cpu.reg.c = 13;
    cpu.reg.d = 25;
    cpu.reg.e = 207;
    cpu.reg.f = 224;
    cpu.reg.h = 5;
    cpu.reg.l = 206;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[2603] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 148);
    CHECK(cpu.reg.b == 47);
    CHECK(cpu.reg.c == 13);
    CHECK(cpu.reg.d == 25);
    CHECK(cpu.reg.e == 206);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 5);
    CHECK(cpu.reg.l == 206);
    CHECK(cpu.pc == 2604);
    CHECK(cpu.sp == 22983);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2603] == 27);
}

TEST_CASE( "1B 018F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22139;
    cpu.sp = 45367;
    cpu.reg.a = 203;
    cpu.reg.b = 115;
    cpu.reg.c = 47;
    cpu.reg.d = 15;
    cpu.reg.e = 222;
    cpu.reg.f = 240;
    cpu.reg.h = 25;
    cpu.reg.l = 29;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[22139] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 203);
    CHECK(cpu.reg.b == 115);
    CHECK(cpu.reg.c == 47);
    CHECK(cpu.reg.d == 15);
    CHECK(cpu.reg.e == 221);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 25);
    CHECK(cpu.reg.l == 29);
    CHECK(cpu.pc == 22140);
    CHECK(cpu.sp == 45367);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22139] == 27);
}

TEST_CASE( "1B 0190", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59844;
    cpu.sp = 34323;
    cpu.reg.a = 200;
    cpu.reg.b = 43;
    cpu.reg.c = 118;
    cpu.reg.d = 131;
    cpu.reg.e = 206;
    cpu.reg.f = 64;
    cpu.reg.h = 183;
    cpu.reg.l = 190;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[59844] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 200);
    CHECK(cpu.reg.b == 43);
    CHECK(cpu.reg.c == 118);
    CHECK(cpu.reg.d == 131);
    CHECK(cpu.reg.e == 205);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 183);
    CHECK(cpu.reg.l == 190);
    CHECK(cpu.pc == 59845);
    CHECK(cpu.sp == 34323);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[59844] == 27);
}

TEST_CASE( "1B 0191", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47328;
    cpu.sp = 7868;
    cpu.reg.a = 99;
    cpu.reg.b = 226;
    cpu.reg.c = 159;
    cpu.reg.d = 146;
    cpu.reg.e = 43;
    cpu.reg.f = 240;
    cpu.reg.h = 39;
    cpu.reg.l = 233;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[47328] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 99);
    CHECK(cpu.reg.b == 226);
    CHECK(cpu.reg.c == 159);
    CHECK(cpu.reg.d == 146);
    CHECK(cpu.reg.e == 42);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 39);
    CHECK(cpu.reg.l == 233);
    CHECK(cpu.pc == 47329);
    CHECK(cpu.sp == 7868);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[47328] == 27);
}

TEST_CASE( "1B 0192", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2846;
    cpu.sp = 41825;
    cpu.reg.a = 251;
    cpu.reg.b = 254;
    cpu.reg.c = 180;
    cpu.reg.d = 112;
    cpu.reg.e = 170;
    cpu.reg.f = 208;
    cpu.reg.h = 24;
    cpu.reg.l = 179;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[2846] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 251);
    CHECK(cpu.reg.b == 254);
    CHECK(cpu.reg.c == 180);
    CHECK(cpu.reg.d == 112);
    CHECK(cpu.reg.e == 169);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 24);
    CHECK(cpu.reg.l == 179);
    CHECK(cpu.pc == 2847);
    CHECK(cpu.sp == 41825);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2846] == 27);
}

TEST_CASE( "1B 0193", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6843;
    cpu.sp = 40607;
    cpu.reg.a = 188;
    cpu.reg.b = 131;
    cpu.reg.c = 31;
    cpu.reg.d = 208;
    cpu.reg.e = 243;
    cpu.reg.f = 64;
    cpu.reg.h = 49;
    cpu.reg.l = 209;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[6843] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 188);
    CHECK(cpu.reg.b == 131);
    CHECK(cpu.reg.c == 31);
    CHECK(cpu.reg.d == 208);
    CHECK(cpu.reg.e == 242);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 49);
    CHECK(cpu.reg.l == 209);
    CHECK(cpu.pc == 6844);
    CHECK(cpu.sp == 40607);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6843] == 27);
}

TEST_CASE( "1B 0194", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31123;
    cpu.sp = 18323;
    cpu.reg.a = 2;
    cpu.reg.b = 192;
    cpu.reg.c = 85;
    cpu.reg.d = 162;
    cpu.reg.e = 130;
    cpu.reg.f = 128;
    cpu.reg.h = 6;
    cpu.reg.l = 7;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[31123] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 2);
    CHECK(cpu.reg.b == 192);
    CHECK(cpu.reg.c == 85);
    CHECK(cpu.reg.d == 162);
    CHECK(cpu.reg.e == 129);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 6);
    CHECK(cpu.reg.l == 7);
    CHECK(cpu.pc == 31124);
    CHECK(cpu.sp == 18323);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31123] == 27);
}

TEST_CASE( "1B 0195", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52886;
    cpu.sp = 57713;
    cpu.reg.a = 57;
    cpu.reg.b = 47;
    cpu.reg.c = 171;
    cpu.reg.d = 37;
    cpu.reg.e = 29;
    cpu.reg.f = 0;
    cpu.reg.h = 38;
    cpu.reg.l = 199;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[52886] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 57);
    CHECK(cpu.reg.b == 47);
    CHECK(cpu.reg.c == 171);
    CHECK(cpu.reg.d == 37);
    CHECK(cpu.reg.e == 28);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 38);
    CHECK(cpu.reg.l == 199);
    CHECK(cpu.pc == 52887);
    CHECK(cpu.sp == 57713);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[52886] == 27);
}

TEST_CASE( "1B 0196", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 703;
    cpu.sp = 19090;
    cpu.reg.a = 229;
    cpu.reg.b = 48;
    cpu.reg.c = 127;
    cpu.reg.d = 167;
    cpu.reg.e = 225;
    cpu.reg.f = 32;
    cpu.reg.h = 117;
    cpu.reg.l = 82;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[703] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 229);
    CHECK(cpu.reg.b == 48);
    CHECK(cpu.reg.c == 127);
    CHECK(cpu.reg.d == 167);
    CHECK(cpu.reg.e == 224);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 117);
    CHECK(cpu.reg.l == 82);
    CHECK(cpu.pc == 704);
    CHECK(cpu.sp == 19090);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[703] == 27);
}

TEST_CASE( "1B 0197", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44842;
    cpu.sp = 51657;
    cpu.reg.a = 123;
    cpu.reg.b = 111;
    cpu.reg.c = 39;
    cpu.reg.d = 16;
    cpu.reg.e = 32;
    cpu.reg.f = 176;
    cpu.reg.h = 220;
    cpu.reg.l = 27;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[44842] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 123);
    CHECK(cpu.reg.b == 111);
    CHECK(cpu.reg.c == 39);
    CHECK(cpu.reg.d == 16);
    CHECK(cpu.reg.e == 31);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 220);
    CHECK(cpu.reg.l == 27);
    CHECK(cpu.pc == 44843);
    CHECK(cpu.sp == 51657);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44842] == 27);
}

TEST_CASE( "1B 0198", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39469;
    cpu.sp = 5871;
    cpu.reg.a = 92;
    cpu.reg.b = 13;
    cpu.reg.c = 253;
    cpu.reg.d = 226;
    cpu.reg.e = 68;
    cpu.reg.f = 16;
    cpu.reg.h = 118;
    cpu.reg.l = 159;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[39469] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 92);
    CHECK(cpu.reg.b == 13);
    CHECK(cpu.reg.c == 253);
    CHECK(cpu.reg.d == 226);
    CHECK(cpu.reg.e == 67);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 118);
    CHECK(cpu.reg.l == 159);
    CHECK(cpu.pc == 39470);
    CHECK(cpu.sp == 5871);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39469] == 27);
}

TEST_CASE( "1B 0199", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38114;
    cpu.sp = 56078;
    cpu.reg.a = 45;
    cpu.reg.b = 77;
    cpu.reg.c = 30;
    cpu.reg.d = 40;
    cpu.reg.e = 28;
    cpu.reg.f = 64;
    cpu.reg.h = 244;
    cpu.reg.l = 23;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[38114] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 45);
    CHECK(cpu.reg.b == 77);
    CHECK(cpu.reg.c == 30);
    CHECK(cpu.reg.d == 40);
    CHECK(cpu.reg.e == 27);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 244);
    CHECK(cpu.reg.l == 23);
    CHECK(cpu.pc == 38115);
    CHECK(cpu.sp == 56078);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38114] == 27);
}

TEST_CASE( "1B 019A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21480;
    cpu.sp = 21112;
    cpu.reg.a = 107;
    cpu.reg.b = 134;
    cpu.reg.c = 65;
    cpu.reg.d = 43;
    cpu.reg.e = 108;
    cpu.reg.f = 160;
    cpu.reg.h = 0;
    cpu.reg.l = 61;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[21480] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 107);
    CHECK(cpu.reg.b == 134);
    CHECK(cpu.reg.c == 65);
    CHECK(cpu.reg.d == 43);
    CHECK(cpu.reg.e == 107);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 0);
    CHECK(cpu.reg.l == 61);
    CHECK(cpu.pc == 21481);
    CHECK(cpu.sp == 21112);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21480] == 27);
}

TEST_CASE( "1B 019B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65262;
    cpu.sp = 31175;
    cpu.reg.a = 127;
    cpu.reg.b = 38;
    cpu.reg.c = 97;
    cpu.reg.d = 109;
    cpu.reg.e = 90;
    cpu.reg.f = 240;
    cpu.reg.h = 153;
    cpu.reg.l = 150;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[65262] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 127);
    CHECK(cpu.reg.b == 38);
    CHECK(cpu.reg.c == 97);
    CHECK(cpu.reg.d == 109);
    CHECK(cpu.reg.e == 89);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 153);
    CHECK(cpu.reg.l == 150);
    CHECK(cpu.pc == 65263);
    CHECK(cpu.sp == 31175);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[65262] == 27);
}

TEST_CASE( "1B 019C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7229;
    cpu.sp = 43574;
    cpu.reg.a = 197;
    cpu.reg.b = 255;
    cpu.reg.c = 254;
    cpu.reg.d = 178;
    cpu.reg.e = 1;
    cpu.reg.f = 112;
    cpu.reg.h = 41;
    cpu.reg.l = 69;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[7229] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 197);
    CHECK(cpu.reg.b == 255);
    CHECK(cpu.reg.c == 254);
    CHECK(cpu.reg.d == 178);
    CHECK(cpu.reg.e == 0);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 41);
    CHECK(cpu.reg.l == 69);
    CHECK(cpu.pc == 7230);
    CHECK(cpu.sp == 43574);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7229] == 27);
}

TEST_CASE( "1B 019D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59715;
    cpu.sp = 43322;
    cpu.reg.a = 64;
    cpu.reg.b = 89;
    cpu.reg.c = 191;
    cpu.reg.d = 236;
    cpu.reg.e = 71;
    cpu.reg.f = 240;
    cpu.reg.h = 91;
    cpu.reg.l = 65;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[59715] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 191);
    CHECK(cpu.reg.d == 236);
    CHECK(cpu.reg.e == 70);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 91);
    CHECK(cpu.reg.l == 65);
    CHECK(cpu.pc == 59716);
    CHECK(cpu.sp == 43322);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[59715] == 27);
}

TEST_CASE( "1B 019E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41700;
    cpu.sp = 3452;
    cpu.reg.a = 102;
    cpu.reg.b = 137;
    cpu.reg.c = 241;
    cpu.reg.d = 226;
    cpu.reg.e = 150;
    cpu.reg.f = 80;
    cpu.reg.h = 73;
    cpu.reg.l = 219;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[41700] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 102);
    CHECK(cpu.reg.b == 137);
    CHECK(cpu.reg.c == 241);
    CHECK(cpu.reg.d == 226);
    CHECK(cpu.reg.e == 149);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 73);
    CHECK(cpu.reg.l == 219);
    CHECK(cpu.pc == 41701);
    CHECK(cpu.sp == 3452);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[41700] == 27);
}

TEST_CASE( "1B 019F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13593;
    cpu.sp = 13739;
    cpu.reg.a = 227;
    cpu.reg.b = 164;
    cpu.reg.c = 26;
    cpu.reg.d = 45;
    cpu.reg.e = 142;
    cpu.reg.f = 192;
    cpu.reg.h = 37;
    cpu.reg.l = 38;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[13593] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 227);
    CHECK(cpu.reg.b == 164);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 45);
    CHECK(cpu.reg.e == 141);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 37);
    CHECK(cpu.reg.l == 38);
    CHECK(cpu.pc == 13594);
    CHECK(cpu.sp == 13739);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13593] == 27);
}

TEST_CASE( "1B 01A0", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12410;
    cpu.sp = 9975;
    cpu.reg.a = 176;
    cpu.reg.b = 192;
    cpu.reg.c = 99;
    cpu.reg.d = 209;
    cpu.reg.e = 98;
    cpu.reg.f = 0;
    cpu.reg.h = 108;
    cpu.reg.l = 21;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[12410] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 176);
    CHECK(cpu.reg.b == 192);
    CHECK(cpu.reg.c == 99);
    CHECK(cpu.reg.d == 209);
    CHECK(cpu.reg.e == 97);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 108);
    CHECK(cpu.reg.l == 21);
    CHECK(cpu.pc == 12411);
    CHECK(cpu.sp == 9975);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12410] == 27);
}

TEST_CASE( "1B 01A1", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36672;
    cpu.sp = 55981;
    cpu.reg.a = 95;
    cpu.reg.b = 8;
    cpu.reg.c = 225;
    cpu.reg.d = 128;
    cpu.reg.e = 152;
    cpu.reg.f = 32;
    cpu.reg.h = 104;
    cpu.reg.l = 244;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[36672] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 95);
    CHECK(cpu.reg.b == 8);
    CHECK(cpu.reg.c == 225);
    CHECK(cpu.reg.d == 128);
    CHECK(cpu.reg.e == 151);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 104);
    CHECK(cpu.reg.l == 244);
    CHECK(cpu.pc == 36673);
    CHECK(cpu.sp == 55981);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36672] == 27);
}

TEST_CASE( "1B 01A2", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50081;
    cpu.sp = 50440;
    cpu.reg.a = 243;
    cpu.reg.b = 105;
    cpu.reg.c = 233;
    cpu.reg.d = 134;
    cpu.reg.e = 116;
    cpu.reg.f = 80;
    cpu.reg.h = 102;
    cpu.reg.l = 18;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[50081] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 243);
    CHECK(cpu.reg.b == 105);
    CHECK(cpu.reg.c == 233);
    CHECK(cpu.reg.d == 134);
    CHECK(cpu.reg.e == 115);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 102);
    CHECK(cpu.reg.l == 18);
    CHECK(cpu.pc == 50082);
    CHECK(cpu.sp == 50440);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50081] == 27);
}

TEST_CASE( "1B 01A3", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65200;
    cpu.sp = 28427;
    cpu.reg.a = 132;
    cpu.reg.b = 254;
    cpu.reg.c = 240;
    cpu.reg.d = 83;
    cpu.reg.e = 96;
    cpu.reg.f = 208;
    cpu.reg.h = 209;
    cpu.reg.l = 217;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[65200] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 132);
    CHECK(cpu.reg.b == 254);
    CHECK(cpu.reg.c == 240);
    CHECK(cpu.reg.d == 83);
    CHECK(cpu.reg.e == 95);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 209);
    CHECK(cpu.reg.l == 217);
    CHECK(cpu.pc == 65201);
    CHECK(cpu.sp == 28427);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[65200] == 27);
}

TEST_CASE( "1B 01A4", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54623;
    cpu.sp = 64733;
    cpu.reg.a = 136;
    cpu.reg.b = 9;
    cpu.reg.c = 111;
    cpu.reg.d = 50;
    cpu.reg.e = 244;
    cpu.reg.f = 0;
    cpu.reg.h = 15;
    cpu.reg.l = 94;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[54623] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 136);
    CHECK(cpu.reg.b == 9);
    CHECK(cpu.reg.c == 111);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 243);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 15);
    CHECK(cpu.reg.l == 94);
    CHECK(cpu.pc == 54624);
    CHECK(cpu.sp == 64733);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[54623] == 27);
}

TEST_CASE( "1B 01A5", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35576;
    cpu.sp = 35223;
    cpu.reg.a = 193;
    cpu.reg.b = 76;
    cpu.reg.c = 125;
    cpu.reg.d = 79;
    cpu.reg.e = 173;
    cpu.reg.f = 16;
    cpu.reg.h = 225;
    cpu.reg.l = 123;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[35576] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 193);
    CHECK(cpu.reg.b == 76);
    CHECK(cpu.reg.c == 125);
    CHECK(cpu.reg.d == 79);
    CHECK(cpu.reg.e == 172);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 225);
    CHECK(cpu.reg.l == 123);
    CHECK(cpu.pc == 35577);
    CHECK(cpu.sp == 35223);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35576] == 27);
}

TEST_CASE( "1B 01A6", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45873;
    cpu.sp = 16482;
    cpu.reg.a = 37;
    cpu.reg.b = 246;
    cpu.reg.c = 13;
    cpu.reg.d = 11;
    cpu.reg.e = 249;
    cpu.reg.f = 208;
    cpu.reg.h = 211;
    cpu.reg.l = 28;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[45873] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 37);
    CHECK(cpu.reg.b == 246);
    CHECK(cpu.reg.c == 13);
    CHECK(cpu.reg.d == 11);
    CHECK(cpu.reg.e == 248);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 211);
    CHECK(cpu.reg.l == 28);
    CHECK(cpu.pc == 45874);
    CHECK(cpu.sp == 16482);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45873] == 27);
}

TEST_CASE( "1B 01A7", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30275;
    cpu.sp = 26238;
    cpu.reg.a = 36;
    cpu.reg.b = 130;
    cpu.reg.c = 235;
    cpu.reg.d = 5;
    cpu.reg.e = 197;
    cpu.reg.f = 224;
    cpu.reg.h = 54;
    cpu.reg.l = 244;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[30275] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 36);
    CHECK(cpu.reg.b == 130);
    CHECK(cpu.reg.c == 235);
    CHECK(cpu.reg.d == 5);
    CHECK(cpu.reg.e == 196);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 54);
    CHECK(cpu.reg.l == 244);
    CHECK(cpu.pc == 30276);
    CHECK(cpu.sp == 26238);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30275] == 27);
}

TEST_CASE( "1B 01A8", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43083;
    cpu.sp = 50398;
    cpu.reg.a = 232;
    cpu.reg.b = 29;
    cpu.reg.c = 65;
    cpu.reg.d = 219;
    cpu.reg.e = 202;
    cpu.reg.f = 160;
    cpu.reg.h = 89;
    cpu.reg.l = 189;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[43083] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 232);
    CHECK(cpu.reg.b == 29);
    CHECK(cpu.reg.c == 65);
    CHECK(cpu.reg.d == 219);
    CHECK(cpu.reg.e == 201);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 89);
    CHECK(cpu.reg.l == 189);
    CHECK(cpu.pc == 43084);
    CHECK(cpu.sp == 50398);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43083] == 27);
}

TEST_CASE( "1B 01A9", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14615;
    cpu.sp = 20445;
    cpu.reg.a = 72;
    cpu.reg.b = 212;
    cpu.reg.c = 48;
    cpu.reg.d = 15;
    cpu.reg.e = 38;
    cpu.reg.f = 192;
    cpu.reg.h = 76;
    cpu.reg.l = 147;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[14615] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 72);
    CHECK(cpu.reg.b == 212);
    CHECK(cpu.reg.c == 48);
    CHECK(cpu.reg.d == 15);
    CHECK(cpu.reg.e == 37);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 76);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 14616);
    CHECK(cpu.sp == 20445);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14615] == 27);
}

TEST_CASE( "1B 01AA", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48876;
    cpu.sp = 55062;
    cpu.reg.a = 83;
    cpu.reg.b = 76;
    cpu.reg.c = 169;
    cpu.reg.d = 143;
    cpu.reg.e = 184;
    cpu.reg.f = 0;
    cpu.reg.h = 163;
    cpu.reg.l = 86;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[48876] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 83);
    CHECK(cpu.reg.b == 76);
    CHECK(cpu.reg.c == 169);
    CHECK(cpu.reg.d == 143);
    CHECK(cpu.reg.e == 183);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 163);
    CHECK(cpu.reg.l == 86);
    CHECK(cpu.pc == 48877);
    CHECK(cpu.sp == 55062);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[48876] == 27);
}

TEST_CASE( "1B 01AB", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64380;
    cpu.sp = 21483;
    cpu.reg.a = 105;
    cpu.reg.b = 15;
    cpu.reg.c = 66;
    cpu.reg.d = 29;
    cpu.reg.e = 208;
    cpu.reg.f = 240;
    cpu.reg.h = 169;
    cpu.reg.l = 108;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[64380] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 105);
    CHECK(cpu.reg.b == 15);
    CHECK(cpu.reg.c == 66);
    CHECK(cpu.reg.d == 29);
    CHECK(cpu.reg.e == 207);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 169);
    CHECK(cpu.reg.l == 108);
    CHECK(cpu.pc == 64381);
    CHECK(cpu.sp == 21483);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64380] == 27);
}

TEST_CASE( "1B 01AC", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10132;
    cpu.sp = 5093;
    cpu.reg.a = 31;
    cpu.reg.b = 238;
    cpu.reg.c = 250;
    cpu.reg.d = 83;
    cpu.reg.e = 82;
    cpu.reg.f = 0;
    cpu.reg.h = 52;
    cpu.reg.l = 138;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[10132] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 31);
    CHECK(cpu.reg.b == 238);
    CHECK(cpu.reg.c == 250);
    CHECK(cpu.reg.d == 83);
    CHECK(cpu.reg.e == 81);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 52);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 10133);
    CHECK(cpu.sp == 5093);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10132] == 27);
}

TEST_CASE( "1B 01AD", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60952;
    cpu.sp = 23927;
    cpu.reg.a = 194;
    cpu.reg.b = 80;
    cpu.reg.c = 60;
    cpu.reg.d = 252;
    cpu.reg.e = 247;
    cpu.reg.f = 144;
    cpu.reg.h = 111;
    cpu.reg.l = 244;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[60952] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 194);
    CHECK(cpu.reg.b == 80);
    CHECK(cpu.reg.c == 60);
    CHECK(cpu.reg.d == 252);
    CHECK(cpu.reg.e == 246);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 111);
    CHECK(cpu.reg.l == 244);
    CHECK(cpu.pc == 60953);
    CHECK(cpu.sp == 23927);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[60952] == 27);
}

TEST_CASE( "1B 01AE", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18910;
    cpu.sp = 55978;
    cpu.reg.a = 59;
    cpu.reg.b = 136;
    cpu.reg.c = 113;
    cpu.reg.d = 70;
    cpu.reg.e = 34;
    cpu.reg.f = 16;
    cpu.reg.h = 122;
    cpu.reg.l = 201;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[18910] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 59);
    CHECK(cpu.reg.b == 136);
    CHECK(cpu.reg.c == 113);
    CHECK(cpu.reg.d == 70);
    CHECK(cpu.reg.e == 33);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 122);
    CHECK(cpu.reg.l == 201);
    CHECK(cpu.pc == 18911);
    CHECK(cpu.sp == 55978);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18910] == 27);
}

TEST_CASE( "1B 01AF", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36867;
    cpu.sp = 26428;
    cpu.reg.a = 74;
    cpu.reg.b = 145;
    cpu.reg.c = 113;
    cpu.reg.d = 188;
    cpu.reg.e = 88;
    cpu.reg.f = 48;
    cpu.reg.h = 178;
    cpu.reg.l = 225;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[36867] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 74);
    CHECK(cpu.reg.b == 145);
    CHECK(cpu.reg.c == 113);
    CHECK(cpu.reg.d == 188);
    CHECK(cpu.reg.e == 87);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 178);
    CHECK(cpu.reg.l == 225);
    CHECK(cpu.pc == 36868);
    CHECK(cpu.sp == 26428);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36867] == 27);
}

TEST_CASE( "1B 01B0", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64702;
    cpu.sp = 42854;
    cpu.reg.a = 115;
    cpu.reg.b = 242;
    cpu.reg.c = 244;
    cpu.reg.d = 201;
    cpu.reg.e = 56;
    cpu.reg.f = 32;
    cpu.reg.h = 28;
    cpu.reg.l = 123;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[64702] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 115);
    CHECK(cpu.reg.b == 242);
    CHECK(cpu.reg.c == 244);
    CHECK(cpu.reg.d == 201);
    CHECK(cpu.reg.e == 55);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 28);
    CHECK(cpu.reg.l == 123);
    CHECK(cpu.pc == 64703);
    CHECK(cpu.sp == 42854);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[64702] == 27);
}

TEST_CASE( "1B 01B1", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14658;
    cpu.sp = 62147;
    cpu.reg.a = 204;
    cpu.reg.b = 14;
    cpu.reg.c = 68;
    cpu.reg.d = 19;
    cpu.reg.e = 128;
    cpu.reg.f = 96;
    cpu.reg.h = 40;
    cpu.reg.l = 242;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[14658] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 204);
    CHECK(cpu.reg.b == 14);
    CHECK(cpu.reg.c == 68);
    CHECK(cpu.reg.d == 19);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 40);
    CHECK(cpu.reg.l == 242);
    CHECK(cpu.pc == 14659);
    CHECK(cpu.sp == 62147);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14658] == 27);
}

TEST_CASE( "1B 01B2", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20905;
    cpu.sp = 20017;
    cpu.reg.a = 39;
    cpu.reg.b = 255;
    cpu.reg.c = 18;
    cpu.reg.d = 213;
    cpu.reg.e = 253;
    cpu.reg.f = 80;
    cpu.reg.h = 74;
    cpu.reg.l = 8;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[20905] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 39);
    CHECK(cpu.reg.b == 255);
    CHECK(cpu.reg.c == 18);
    CHECK(cpu.reg.d == 213);
    CHECK(cpu.reg.e == 252);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 74);
    CHECK(cpu.reg.l == 8);
    CHECK(cpu.pc == 20906);
    CHECK(cpu.sp == 20017);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20905] == 27);
}

TEST_CASE( "1B 01B3", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51001;
    cpu.sp = 1863;
    cpu.reg.a = 251;
    cpu.reg.b = 178;
    cpu.reg.c = 165;
    cpu.reg.d = 224;
    cpu.reg.e = 28;
    cpu.reg.f = 112;
    cpu.reg.h = 9;
    cpu.reg.l = 174;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[51001] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 251);
    CHECK(cpu.reg.b == 178);
    CHECK(cpu.reg.c == 165);
    CHECK(cpu.reg.d == 224);
    CHECK(cpu.reg.e == 27);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 9);
    CHECK(cpu.reg.l == 174);
    CHECK(cpu.pc == 51002);
    CHECK(cpu.sp == 1863);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[51001] == 27);
}

TEST_CASE( "1B 01B4", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7445;
    cpu.sp = 13854;
    cpu.reg.a = 177;
    cpu.reg.b = 247;
    cpu.reg.c = 232;
    cpu.reg.d = 59;
    cpu.reg.e = 55;
    cpu.reg.f = 240;
    cpu.reg.h = 31;
    cpu.reg.l = 211;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[7445] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 177);
    CHECK(cpu.reg.b == 247);
    CHECK(cpu.reg.c == 232);
    CHECK(cpu.reg.d == 59);
    CHECK(cpu.reg.e == 54);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 31);
    CHECK(cpu.reg.l == 211);
    CHECK(cpu.pc == 7446);
    CHECK(cpu.sp == 13854);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7445] == 27);
}

TEST_CASE( "1B 01B5", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59627;
    cpu.sp = 47918;
    cpu.reg.a = 229;
    cpu.reg.b = 74;
    cpu.reg.c = 33;
    cpu.reg.d = 41;
    cpu.reg.e = 235;
    cpu.reg.f = 64;
    cpu.reg.h = 222;
    cpu.reg.l = 207;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[59627] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 229);
    CHECK(cpu.reg.b == 74);
    CHECK(cpu.reg.c == 33);
    CHECK(cpu.reg.d == 41);
    CHECK(cpu.reg.e == 234);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 222);
    CHECK(cpu.reg.l == 207);
    CHECK(cpu.pc == 59628);
    CHECK(cpu.sp == 47918);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[59627] == 27);
}

TEST_CASE( "1B 01B6", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45149;
    cpu.sp = 44884;
    cpu.reg.a = 74;
    cpu.reg.b = 151;
    cpu.reg.c = 77;
    cpu.reg.d = 249;
    cpu.reg.e = 140;
    cpu.reg.f = 128;
    cpu.reg.h = 209;
    cpu.reg.l = 68;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[45149] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 74);
    CHECK(cpu.reg.b == 151);
    CHECK(cpu.reg.c == 77);
    CHECK(cpu.reg.d == 249);
    CHECK(cpu.reg.e == 139);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 209);
    CHECK(cpu.reg.l == 68);
    CHECK(cpu.pc == 45150);
    CHECK(cpu.sp == 44884);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45149] == 27);
}

TEST_CASE( "1B 01B7", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40283;
    cpu.sp = 19092;
    cpu.reg.a = 232;
    cpu.reg.b = 39;
    cpu.reg.c = 18;
    cpu.reg.d = 1;
    cpu.reg.e = 139;
    cpu.reg.f = 160;
    cpu.reg.h = 137;
    cpu.reg.l = 142;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[40283] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 232);
    CHECK(cpu.reg.b == 39);
    CHECK(cpu.reg.c == 18);
    CHECK(cpu.reg.d == 1);
    CHECK(cpu.reg.e == 138);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 137);
    CHECK(cpu.reg.l == 142);
    CHECK(cpu.pc == 40284);
    CHECK(cpu.sp == 19092);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40283] == 27);
}

TEST_CASE( "1B 01B8", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32159;
    cpu.sp = 47657;
    cpu.reg.a = 50;
    cpu.reg.b = 244;
    cpu.reg.c = 28;
    cpu.reg.d = 181;
    cpu.reg.e = 42;
    cpu.reg.f = 224;
    cpu.reg.h = 73;
    cpu.reg.l = 7;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[32159] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 50);
    CHECK(cpu.reg.b == 244);
    CHECK(cpu.reg.c == 28);
    CHECK(cpu.reg.d == 181);
    CHECK(cpu.reg.e == 41);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 73);
    CHECK(cpu.reg.l == 7);
    CHECK(cpu.pc == 32160);
    CHECK(cpu.sp == 47657);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32159] == 27);
}

TEST_CASE( "1B 01B9", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36062;
    cpu.sp = 5353;
    cpu.reg.a = 77;
    cpu.reg.b = 118;
    cpu.reg.c = 119;
    cpu.reg.d = 27;
    cpu.reg.e = 207;
    cpu.reg.f = 160;
    cpu.reg.h = 151;
    cpu.reg.l = 176;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[36062] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 77);
    CHECK(cpu.reg.b == 118);
    CHECK(cpu.reg.c == 119);
    CHECK(cpu.reg.d == 27);
    CHECK(cpu.reg.e == 206);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 151);
    CHECK(cpu.reg.l == 176);
    CHECK(cpu.pc == 36063);
    CHECK(cpu.sp == 5353);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36062] == 27);
}

TEST_CASE( "1B 01BA", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60639;
    cpu.sp = 48528;
    cpu.reg.a = 42;
    cpu.reg.b = 209;
    cpu.reg.c = 109;
    cpu.reg.d = 164;
    cpu.reg.e = 35;
    cpu.reg.f = 208;
    cpu.reg.h = 167;
    cpu.reg.l = 148;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[60639] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 42);
    CHECK(cpu.reg.b == 209);
    CHECK(cpu.reg.c == 109);
    CHECK(cpu.reg.d == 164);
    CHECK(cpu.reg.e == 34);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 167);
    CHECK(cpu.reg.l == 148);
    CHECK(cpu.pc == 60640);
    CHECK(cpu.sp == 48528);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[60639] == 27);
}

TEST_CASE( "1B 01BB", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60952;
    cpu.sp = 48784;
    cpu.reg.a = 251;
    cpu.reg.b = 144;
    cpu.reg.c = 201;
    cpu.reg.d = 147;
    cpu.reg.e = 12;
    cpu.reg.f = 128;
    cpu.reg.h = 89;
    cpu.reg.l = 201;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[60952] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 251);
    CHECK(cpu.reg.b == 144);
    CHECK(cpu.reg.c == 201);
    CHECK(cpu.reg.d == 147);
    CHECK(cpu.reg.e == 11);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 89);
    CHECK(cpu.reg.l == 201);
    CHECK(cpu.pc == 60953);
    CHECK(cpu.sp == 48784);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60952] == 27);
}

TEST_CASE( "1B 01BC", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26083;
    cpu.sp = 23642;
    cpu.reg.a = 227;
    cpu.reg.b = 225;
    cpu.reg.c = 20;
    cpu.reg.d = 153;
    cpu.reg.e = 72;
    cpu.reg.f = 144;
    cpu.reg.h = 36;
    cpu.reg.l = 100;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[26083] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 227);
    CHECK(cpu.reg.b == 225);
    CHECK(cpu.reg.c == 20);
    CHECK(cpu.reg.d == 153);
    CHECK(cpu.reg.e == 71);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 36);
    CHECK(cpu.reg.l == 100);
    CHECK(cpu.pc == 26084);
    CHECK(cpu.sp == 23642);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26083] == 27);
}

TEST_CASE( "1B 01BD", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5724;
    cpu.sp = 40515;
    cpu.reg.a = 43;
    cpu.reg.b = 67;
    cpu.reg.c = 155;
    cpu.reg.d = 237;
    cpu.reg.e = 103;
    cpu.reg.f = 192;
    cpu.reg.h = 123;
    cpu.reg.l = 234;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5724] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 43);
    CHECK(cpu.reg.b == 67);
    CHECK(cpu.reg.c == 155);
    CHECK(cpu.reg.d == 237);
    CHECK(cpu.reg.e == 102);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 123);
    CHECK(cpu.reg.l == 234);
    CHECK(cpu.pc == 5725);
    CHECK(cpu.sp == 40515);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5724] == 27);
}

TEST_CASE( "1B 01BE", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49579;
    cpu.sp = 42243;
    cpu.reg.a = 85;
    cpu.reg.b = 249;
    cpu.reg.c = 9;
    cpu.reg.d = 47;
    cpu.reg.e = 187;
    cpu.reg.f = 192;
    cpu.reg.h = 99;
    cpu.reg.l = 8;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[49579] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 85);
    CHECK(cpu.reg.b == 249);
    CHECK(cpu.reg.c == 9);
    CHECK(cpu.reg.d == 47);
    CHECK(cpu.reg.e == 186);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 99);
    CHECK(cpu.reg.l == 8);
    CHECK(cpu.pc == 49580);
    CHECK(cpu.sp == 42243);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49579] == 27);
}

TEST_CASE( "1B 01BF", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13836;
    cpu.sp = 979;
    cpu.reg.a = 238;
    cpu.reg.b = 124;
    cpu.reg.c = 250;
    cpu.reg.d = 111;
    cpu.reg.e = 51;
    cpu.reg.f = 48;
    cpu.reg.h = 97;
    cpu.reg.l = 101;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[13836] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 238);
    CHECK(cpu.reg.b == 124);
    CHECK(cpu.reg.c == 250);
    CHECK(cpu.reg.d == 111);
    CHECK(cpu.reg.e == 50);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 97);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 13837);
    CHECK(cpu.sp == 979);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13836] == 27);
}

TEST_CASE( "1B 01C0", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63627;
    cpu.sp = 62200;
    cpu.reg.a = 233;
    cpu.reg.b = 209;
    cpu.reg.c = 104;
    cpu.reg.d = 8;
    cpu.reg.e = 45;
    cpu.reg.f = 144;
    cpu.reg.h = 153;
    cpu.reg.l = 49;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[63627] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 233);
    CHECK(cpu.reg.b == 209);
    CHECK(cpu.reg.c == 104);
    CHECK(cpu.reg.d == 8);
    CHECK(cpu.reg.e == 44);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 153);
    CHECK(cpu.reg.l == 49);
    CHECK(cpu.pc == 63628);
    CHECK(cpu.sp == 62200);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[63627] == 27);
}

TEST_CASE( "1B 01C1", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55379;
    cpu.sp = 36210;
    cpu.reg.a = 185;
    cpu.reg.b = 141;
    cpu.reg.c = 202;
    cpu.reg.d = 158;
    cpu.reg.e = 246;
    cpu.reg.f = 80;
    cpu.reg.h = 19;
    cpu.reg.l = 147;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[55379] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 185);
    CHECK(cpu.reg.b == 141);
    CHECK(cpu.reg.c == 202);
    CHECK(cpu.reg.d == 158);
    CHECK(cpu.reg.e == 245);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 19);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 55380);
    CHECK(cpu.sp == 36210);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55379] == 27);
}

TEST_CASE( "1B 01C2", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49621;
    cpu.sp = 19499;
    cpu.reg.a = 71;
    cpu.reg.b = 9;
    cpu.reg.c = 29;
    cpu.reg.d = 194;
    cpu.reg.e = 197;
    cpu.reg.f = 32;
    cpu.reg.h = 179;
    cpu.reg.l = 44;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[49621] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 71);
    CHECK(cpu.reg.b == 9);
    CHECK(cpu.reg.c == 29);
    CHECK(cpu.reg.d == 194);
    CHECK(cpu.reg.e == 196);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 179);
    CHECK(cpu.reg.l == 44);
    CHECK(cpu.pc == 49622);
    CHECK(cpu.sp == 19499);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49621] == 27);
}

TEST_CASE( "1B 01C3", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21264;
    cpu.sp = 44154;
    cpu.reg.a = 231;
    cpu.reg.b = 174;
    cpu.reg.c = 159;
    cpu.reg.d = 40;
    cpu.reg.e = 194;
    cpu.reg.f = 160;
    cpu.reg.h = 106;
    cpu.reg.l = 213;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[21264] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 231);
    CHECK(cpu.reg.b == 174);
    CHECK(cpu.reg.c == 159);
    CHECK(cpu.reg.d == 40);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 106);
    CHECK(cpu.reg.l == 213);
    CHECK(cpu.pc == 21265);
    CHECK(cpu.sp == 44154);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21264] == 27);
}

TEST_CASE( "1B 01C4", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52848;
    cpu.sp = 8655;
    cpu.reg.a = 193;
    cpu.reg.b = 178;
    cpu.reg.c = 106;
    cpu.reg.d = 175;
    cpu.reg.e = 114;
    cpu.reg.f = 176;
    cpu.reg.h = 166;
    cpu.reg.l = 4;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[52848] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 193);
    CHECK(cpu.reg.b == 178);
    CHECK(cpu.reg.c == 106);
    CHECK(cpu.reg.d == 175);
    CHECK(cpu.reg.e == 113);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 166);
    CHECK(cpu.reg.l == 4);
    CHECK(cpu.pc == 52849);
    CHECK(cpu.sp == 8655);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[52848] == 27);
}

TEST_CASE( "1B 01C5", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43363;
    cpu.sp = 1632;
    cpu.reg.a = 66;
    cpu.reg.b = 187;
    cpu.reg.c = 237;
    cpu.reg.d = 61;
    cpu.reg.e = 228;
    cpu.reg.f = 96;
    cpu.reg.h = 230;
    cpu.reg.l = 106;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[43363] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 66);
    CHECK(cpu.reg.b == 187);
    CHECK(cpu.reg.c == 237);
    CHECK(cpu.reg.d == 61);
    CHECK(cpu.reg.e == 227);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 230);
    CHECK(cpu.reg.l == 106);
    CHECK(cpu.pc == 43364);
    CHECK(cpu.sp == 1632);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43363] == 27);
}

TEST_CASE( "1B 01C6", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15414;
    cpu.sp = 46647;
    cpu.reg.a = 237;
    cpu.reg.b = 143;
    cpu.reg.c = 102;
    cpu.reg.d = 201;
    cpu.reg.e = 75;
    cpu.reg.f = 144;
    cpu.reg.h = 204;
    cpu.reg.l = 67;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[15414] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 237);
    CHECK(cpu.reg.b == 143);
    CHECK(cpu.reg.c == 102);
    CHECK(cpu.reg.d == 201);
    CHECK(cpu.reg.e == 74);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 204);
    CHECK(cpu.reg.l == 67);
    CHECK(cpu.pc == 15415);
    CHECK(cpu.sp == 46647);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15414] == 27);
}

TEST_CASE( "1B 01C7", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38918;
    cpu.sp = 7554;
    cpu.reg.a = 148;
    cpu.reg.b = 84;
    cpu.reg.c = 82;
    cpu.reg.d = 12;
    cpu.reg.e = 31;
    cpu.reg.f = 32;
    cpu.reg.h = 201;
    cpu.reg.l = 89;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[38918] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 148);
    CHECK(cpu.reg.b == 84);
    CHECK(cpu.reg.c == 82);
    CHECK(cpu.reg.d == 12);
    CHECK(cpu.reg.e == 30);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 201);
    CHECK(cpu.reg.l == 89);
    CHECK(cpu.pc == 38919);
    CHECK(cpu.sp == 7554);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38918] == 27);
}

TEST_CASE( "1B 01C8", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28486;
    cpu.sp = 15664;
    cpu.reg.a = 124;
    cpu.reg.b = 201;
    cpu.reg.c = 30;
    cpu.reg.d = 216;
    cpu.reg.e = 39;
    cpu.reg.f = 128;
    cpu.reg.h = 141;
    cpu.reg.l = 249;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[28486] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 124);
    CHECK(cpu.reg.b == 201);
    CHECK(cpu.reg.c == 30);
    CHECK(cpu.reg.d == 216);
    CHECK(cpu.reg.e == 38);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 141);
    CHECK(cpu.reg.l == 249);
    CHECK(cpu.pc == 28487);
    CHECK(cpu.sp == 15664);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[28486] == 27);
}

TEST_CASE( "1B 01C9", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8681;
    cpu.sp = 6923;
    cpu.reg.a = 188;
    cpu.reg.b = 66;
    cpu.reg.c = 126;
    cpu.reg.d = 225;
    cpu.reg.e = 27;
    cpu.reg.f = 192;
    cpu.reg.h = 9;
    cpu.reg.l = 65;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[8681] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 188);
    CHECK(cpu.reg.b == 66);
    CHECK(cpu.reg.c == 126);
    CHECK(cpu.reg.d == 225);
    CHECK(cpu.reg.e == 26);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 9);
    CHECK(cpu.reg.l == 65);
    CHECK(cpu.pc == 8682);
    CHECK(cpu.sp == 6923);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8681] == 27);
}

TEST_CASE( "1B 01CA", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31050;
    cpu.sp = 29720;
    cpu.reg.a = 150;
    cpu.reg.b = 180;
    cpu.reg.c = 59;
    cpu.reg.d = 62;
    cpu.reg.e = 30;
    cpu.reg.f = 0;
    cpu.reg.h = 179;
    cpu.reg.l = 186;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[31050] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 150);
    CHECK(cpu.reg.b == 180);
    CHECK(cpu.reg.c == 59);
    CHECK(cpu.reg.d == 62);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 179);
    CHECK(cpu.reg.l == 186);
    CHECK(cpu.pc == 31051);
    CHECK(cpu.sp == 29720);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31050] == 27);
}

TEST_CASE( "1B 01CB", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55268;
    cpu.sp = 61120;
    cpu.reg.a = 34;
    cpu.reg.b = 56;
    cpu.reg.c = 144;
    cpu.reg.d = 142;
    cpu.reg.e = 176;
    cpu.reg.f = 32;
    cpu.reg.h = 255;
    cpu.reg.l = 195;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[55268] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 34);
    CHECK(cpu.reg.b == 56);
    CHECK(cpu.reg.c == 144);
    CHECK(cpu.reg.d == 142);
    CHECK(cpu.reg.e == 175);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 255);
    CHECK(cpu.reg.l == 195);
    CHECK(cpu.pc == 55269);
    CHECK(cpu.sp == 61120);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[55268] == 27);
}

TEST_CASE( "1B 01CC", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38175;
    cpu.sp = 50579;
    cpu.reg.a = 73;
    cpu.reg.b = 172;
    cpu.reg.c = 3;
    cpu.reg.d = 17;
    cpu.reg.e = 37;
    cpu.reg.f = 80;
    cpu.reg.h = 230;
    cpu.reg.l = 195;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[38175] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 73);
    CHECK(cpu.reg.b == 172);
    CHECK(cpu.reg.c == 3);
    CHECK(cpu.reg.d == 17);
    CHECK(cpu.reg.e == 36);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 230);
    CHECK(cpu.reg.l == 195);
    CHECK(cpu.pc == 38176);
    CHECK(cpu.sp == 50579);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38175] == 27);
}

TEST_CASE( "1B 01CD", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1103;
    cpu.sp = 60816;
    cpu.reg.a = 246;
    cpu.reg.b = 200;
    cpu.reg.c = 184;
    cpu.reg.d = 247;
    cpu.reg.e = 186;
    cpu.reg.f = 32;
    cpu.reg.h = 171;
    cpu.reg.l = 176;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[1103] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 246);
    CHECK(cpu.reg.b == 200);
    CHECK(cpu.reg.c == 184);
    CHECK(cpu.reg.d == 247);
    CHECK(cpu.reg.e == 185);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 171);
    CHECK(cpu.reg.l == 176);
    CHECK(cpu.pc == 1104);
    CHECK(cpu.sp == 60816);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1103] == 27);
}

TEST_CASE( "1B 01CE", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34944;
    cpu.sp = 53015;
    cpu.reg.a = 153;
    cpu.reg.b = 29;
    cpu.reg.c = 221;
    cpu.reg.d = 29;
    cpu.reg.e = 35;
    cpu.reg.f = 32;
    cpu.reg.h = 70;
    cpu.reg.l = 76;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[34944] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 153);
    CHECK(cpu.reg.b == 29);
    CHECK(cpu.reg.c == 221);
    CHECK(cpu.reg.d == 29);
    CHECK(cpu.reg.e == 34);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 70);
    CHECK(cpu.reg.l == 76);
    CHECK(cpu.pc == 34945);
    CHECK(cpu.sp == 53015);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[34944] == 27);
}

TEST_CASE( "1B 01CF", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64921;
    cpu.sp = 37814;
    cpu.reg.a = 185;
    cpu.reg.b = 199;
    cpu.reg.c = 13;
    cpu.reg.d = 171;
    cpu.reg.e = 68;
    cpu.reg.f = 48;
    cpu.reg.h = 94;
    cpu.reg.l = 85;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[64921] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 185);
    CHECK(cpu.reg.b == 199);
    CHECK(cpu.reg.c == 13);
    CHECK(cpu.reg.d == 171);
    CHECK(cpu.reg.e == 67);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 94);
    CHECK(cpu.reg.l == 85);
    CHECK(cpu.pc == 64922);
    CHECK(cpu.sp == 37814);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64921] == 27);
}

TEST_CASE( "1B 01D0", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17649;
    cpu.sp = 51578;
    cpu.reg.a = 48;
    cpu.reg.b = 16;
    cpu.reg.c = 133;
    cpu.reg.d = 255;
    cpu.reg.e = 7;
    cpu.reg.f = 112;
    cpu.reg.h = 191;
    cpu.reg.l = 76;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[17649] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 48);
    CHECK(cpu.reg.b == 16);
    CHECK(cpu.reg.c == 133);
    CHECK(cpu.reg.d == 255);
    CHECK(cpu.reg.e == 6);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 191);
    CHECK(cpu.reg.l == 76);
    CHECK(cpu.pc == 17650);
    CHECK(cpu.sp == 51578);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17649] == 27);
}

TEST_CASE( "1B 01D1", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61873;
    cpu.sp = 33770;
    cpu.reg.a = 89;
    cpu.reg.b = 112;
    cpu.reg.c = 47;
    cpu.reg.d = 27;
    cpu.reg.e = 146;
    cpu.reg.f = 96;
    cpu.reg.h = 126;
    cpu.reg.l = 217;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[61873] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 89);
    CHECK(cpu.reg.b == 112);
    CHECK(cpu.reg.c == 47);
    CHECK(cpu.reg.d == 27);
    CHECK(cpu.reg.e == 145);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 126);
    CHECK(cpu.reg.l == 217);
    CHECK(cpu.pc == 61874);
    CHECK(cpu.sp == 33770);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61873] == 27);
}

TEST_CASE( "1B 01D2", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14976;
    cpu.sp = 25045;
    cpu.reg.a = 58;
    cpu.reg.b = 180;
    cpu.reg.c = 38;
    cpu.reg.d = 119;
    cpu.reg.e = 138;
    cpu.reg.f = 48;
    cpu.reg.h = 238;
    cpu.reg.l = 245;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[14976] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 58);
    CHECK(cpu.reg.b == 180);
    CHECK(cpu.reg.c == 38);
    CHECK(cpu.reg.d == 119);
    CHECK(cpu.reg.e == 137);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 238);
    CHECK(cpu.reg.l == 245);
    CHECK(cpu.pc == 14977);
    CHECK(cpu.sp == 25045);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14976] == 27);
}

TEST_CASE( "1B 01D3", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61989;
    cpu.sp = 56989;
    cpu.reg.a = 134;
    cpu.reg.b = 208;
    cpu.reg.c = 180;
    cpu.reg.d = 67;
    cpu.reg.e = 216;
    cpu.reg.f = 16;
    cpu.reg.h = 251;
    cpu.reg.l = 200;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[61989] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 134);
    CHECK(cpu.reg.b == 208);
    CHECK(cpu.reg.c == 180);
    CHECK(cpu.reg.d == 67);
    CHECK(cpu.reg.e == 215);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 251);
    CHECK(cpu.reg.l == 200);
    CHECK(cpu.pc == 61990);
    CHECK(cpu.sp == 56989);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61989] == 27);
}

TEST_CASE( "1B 01D4", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8887;
    cpu.sp = 23724;
    cpu.reg.a = 59;
    cpu.reg.b = 218;
    cpu.reg.c = 122;
    cpu.reg.d = 31;
    cpu.reg.e = 9;
    cpu.reg.f = 64;
    cpu.reg.h = 3;
    cpu.reg.l = 89;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[8887] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 59);
    CHECK(cpu.reg.b == 218);
    CHECK(cpu.reg.c == 122);
    CHECK(cpu.reg.d == 31);
    CHECK(cpu.reg.e == 8);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 3);
    CHECK(cpu.reg.l == 89);
    CHECK(cpu.pc == 8888);
    CHECK(cpu.sp == 23724);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8887] == 27);
}

TEST_CASE( "1B 01D5", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37639;
    cpu.sp = 32401;
    cpu.reg.a = 52;
    cpu.reg.b = 183;
    cpu.reg.c = 204;
    cpu.reg.d = 32;
    cpu.reg.e = 23;
    cpu.reg.f = 96;
    cpu.reg.h = 53;
    cpu.reg.l = 31;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[37639] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 52);
    CHECK(cpu.reg.b == 183);
    CHECK(cpu.reg.c == 204);
    CHECK(cpu.reg.d == 32);
    CHECK(cpu.reg.e == 22);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 53);
    CHECK(cpu.reg.l == 31);
    CHECK(cpu.pc == 37640);
    CHECK(cpu.sp == 32401);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[37639] == 27);
}

TEST_CASE( "1B 01D6", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39740;
    cpu.sp = 64763;
    cpu.reg.a = 251;
    cpu.reg.b = 243;
    cpu.reg.c = 133;
    cpu.reg.d = 124;
    cpu.reg.e = 94;
    cpu.reg.f = 64;
    cpu.reg.h = 7;
    cpu.reg.l = 229;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[39740] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 251);
    CHECK(cpu.reg.b == 243);
    CHECK(cpu.reg.c == 133);
    CHECK(cpu.reg.d == 124);
    CHECK(cpu.reg.e == 93);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 7);
    CHECK(cpu.reg.l == 229);
    CHECK(cpu.pc == 39741);
    CHECK(cpu.sp == 64763);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39740] == 27);
}

TEST_CASE( "1B 01D7", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13422;
    cpu.sp = 1029;
    cpu.reg.a = 223;
    cpu.reg.b = 195;
    cpu.reg.c = 93;
    cpu.reg.d = 169;
    cpu.reg.e = 70;
    cpu.reg.f = 176;
    cpu.reg.h = 76;
    cpu.reg.l = 31;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[13422] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 223);
    CHECK(cpu.reg.b == 195);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 169);
    CHECK(cpu.reg.e == 69);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 76);
    CHECK(cpu.reg.l == 31);
    CHECK(cpu.pc == 13423);
    CHECK(cpu.sp == 1029);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13422] == 27);
}

TEST_CASE( "1B 01D8", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65055;
    cpu.sp = 44335;
    cpu.reg.a = 26;
    cpu.reg.b = 132;
    cpu.reg.c = 189;
    cpu.reg.d = 18;
    cpu.reg.e = 167;
    cpu.reg.f = 64;
    cpu.reg.h = 136;
    cpu.reg.l = 61;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[65055] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 26);
    CHECK(cpu.reg.b == 132);
    CHECK(cpu.reg.c == 189);
    CHECK(cpu.reg.d == 18);
    CHECK(cpu.reg.e == 166);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 136);
    CHECK(cpu.reg.l == 61);
    CHECK(cpu.pc == 65056);
    CHECK(cpu.sp == 44335);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[65055] == 27);
}

TEST_CASE( "1B 01D9", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16451;
    cpu.sp = 53435;
    cpu.reg.a = 143;
    cpu.reg.b = 189;
    cpu.reg.c = 31;
    cpu.reg.d = 114;
    cpu.reg.e = 166;
    cpu.reg.f = 64;
    cpu.reg.h = 254;
    cpu.reg.l = 117;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[16451] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 143);
    CHECK(cpu.reg.b == 189);
    CHECK(cpu.reg.c == 31);
    CHECK(cpu.reg.d == 114);
    CHECK(cpu.reg.e == 165);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 254);
    CHECK(cpu.reg.l == 117);
    CHECK(cpu.pc == 16452);
    CHECK(cpu.sp == 53435);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16451] == 27);
}

TEST_CASE( "1B 01DA", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32515;
    cpu.sp = 11353;
    cpu.reg.a = 24;
    cpu.reg.b = 22;
    cpu.reg.c = 33;
    cpu.reg.d = 40;
    cpu.reg.e = 209;
    cpu.reg.f = 224;
    cpu.reg.h = 171;
    cpu.reg.l = 139;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[32515] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 24);
    CHECK(cpu.reg.b == 22);
    CHECK(cpu.reg.c == 33);
    CHECK(cpu.reg.d == 40);
    CHECK(cpu.reg.e == 208);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 171);
    CHECK(cpu.reg.l == 139);
    CHECK(cpu.pc == 32516);
    CHECK(cpu.sp == 11353);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[32515] == 27);
}

TEST_CASE( "1B 01DB", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33741;
    cpu.sp = 32414;
    cpu.reg.a = 54;
    cpu.reg.b = 136;
    cpu.reg.c = 211;
    cpu.reg.d = 215;
    cpu.reg.e = 255;
    cpu.reg.f = 224;
    cpu.reg.h = 192;
    cpu.reg.l = 146;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[33741] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 54);
    CHECK(cpu.reg.b == 136);
    CHECK(cpu.reg.c == 211);
    CHECK(cpu.reg.d == 215);
    CHECK(cpu.reg.e == 254);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 192);
    CHECK(cpu.reg.l == 146);
    CHECK(cpu.pc == 33742);
    CHECK(cpu.sp == 32414);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33741] == 27);
}

TEST_CASE( "1B 01DC", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3923;
    cpu.sp = 11375;
    cpu.reg.a = 51;
    cpu.reg.b = 140;
    cpu.reg.c = 110;
    cpu.reg.d = 215;
    cpu.reg.e = 178;
    cpu.reg.f = 224;
    cpu.reg.h = 76;
    cpu.reg.l = 155;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[3923] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 51);
    CHECK(cpu.reg.b == 140);
    CHECK(cpu.reg.c == 110);
    CHECK(cpu.reg.d == 215);
    CHECK(cpu.reg.e == 177);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 76);
    CHECK(cpu.reg.l == 155);
    CHECK(cpu.pc == 3924);
    CHECK(cpu.sp == 11375);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3923] == 27);
}

TEST_CASE( "1B 01DD", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40380;
    cpu.sp = 107;
    cpu.reg.a = 63;
    cpu.reg.b = 74;
    cpu.reg.c = 100;
    cpu.reg.d = 160;
    cpu.reg.e = 108;
    cpu.reg.f = 80;
    cpu.reg.h = 78;
    cpu.reg.l = 208;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[40380] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 63);
    CHECK(cpu.reg.b == 74);
    CHECK(cpu.reg.c == 100);
    CHECK(cpu.reg.d == 160);
    CHECK(cpu.reg.e == 107);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 78);
    CHECK(cpu.reg.l == 208);
    CHECK(cpu.pc == 40381);
    CHECK(cpu.sp == 107);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40380] == 27);
}

TEST_CASE( "1B 01DE", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47674;
    cpu.sp = 47023;
    cpu.reg.a = 46;
    cpu.reg.b = 122;
    cpu.reg.c = 27;
    cpu.reg.d = 239;
    cpu.reg.e = 169;
    cpu.reg.f = 176;
    cpu.reg.h = 93;
    cpu.reg.l = 118;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[47674] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 46);
    CHECK(cpu.reg.b == 122);
    CHECK(cpu.reg.c == 27);
    CHECK(cpu.reg.d == 239);
    CHECK(cpu.reg.e == 168);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 93);
    CHECK(cpu.reg.l == 118);
    CHECK(cpu.pc == 47675);
    CHECK(cpu.sp == 47023);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[47674] == 27);
}

TEST_CASE( "1B 01DF", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13927;
    cpu.sp = 16898;
    cpu.reg.a = 44;
    cpu.reg.b = 215;
    cpu.reg.c = 44;
    cpu.reg.d = 0;
    cpu.reg.e = 207;
    cpu.reg.f = 32;
    cpu.reg.h = 112;
    cpu.reg.l = 11;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[13927] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 44);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 44);
    CHECK(cpu.reg.d == 0);
    CHECK(cpu.reg.e == 206);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 112);
    CHECK(cpu.reg.l == 11);
    CHECK(cpu.pc == 13928);
    CHECK(cpu.sp == 16898);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13927] == 27);
}

TEST_CASE( "1B 01E0", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41450;
    cpu.sp = 48134;
    cpu.reg.a = 35;
    cpu.reg.b = 50;
    cpu.reg.c = 47;
    cpu.reg.d = 229;
    cpu.reg.e = 49;
    cpu.reg.f = 0;
    cpu.reg.h = 180;
    cpu.reg.l = 200;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[41450] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 35);
    CHECK(cpu.reg.b == 50);
    CHECK(cpu.reg.c == 47);
    CHECK(cpu.reg.d == 229);
    CHECK(cpu.reg.e == 48);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 180);
    CHECK(cpu.reg.l == 200);
    CHECK(cpu.pc == 41451);
    CHECK(cpu.sp == 48134);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41450] == 27);
}

TEST_CASE( "1B 01E1", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63237;
    cpu.sp = 5933;
    cpu.reg.a = 38;
    cpu.reg.b = 128;
    cpu.reg.c = 162;
    cpu.reg.d = 184;
    cpu.reg.e = 228;
    cpu.reg.f = 112;
    cpu.reg.h = 44;
    cpu.reg.l = 232;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[63237] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 38);
    CHECK(cpu.reg.b == 128);
    CHECK(cpu.reg.c == 162);
    CHECK(cpu.reg.d == 184);
    CHECK(cpu.reg.e == 227);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 44);
    CHECK(cpu.reg.l == 232);
    CHECK(cpu.pc == 63238);
    CHECK(cpu.sp == 5933);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[63237] == 27);
}

TEST_CASE( "1B 01E2", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44401;
    cpu.sp = 62089;
    cpu.reg.a = 126;
    cpu.reg.b = 26;
    cpu.reg.c = 160;
    cpu.reg.d = 36;
    cpu.reg.e = 41;
    cpu.reg.f = 160;
    cpu.reg.h = 129;
    cpu.reg.l = 4;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[44401] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 126);
    CHECK(cpu.reg.b == 26);
    CHECK(cpu.reg.c == 160);
    CHECK(cpu.reg.d == 36);
    CHECK(cpu.reg.e == 40);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 129);
    CHECK(cpu.reg.l == 4);
    CHECK(cpu.pc == 44402);
    CHECK(cpu.sp == 62089);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44401] == 27);
}

TEST_CASE( "1B 01E3", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61518;
    cpu.sp = 4737;
    cpu.reg.a = 216;
    cpu.reg.b = 133;
    cpu.reg.c = 80;
    cpu.reg.d = 16;
    cpu.reg.e = 47;
    cpu.reg.f = 0;
    cpu.reg.h = 106;
    cpu.reg.l = 11;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[61518] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 133);
    CHECK(cpu.reg.c == 80);
    CHECK(cpu.reg.d == 16);
    CHECK(cpu.reg.e == 46);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 106);
    CHECK(cpu.reg.l == 11);
    CHECK(cpu.pc == 61519);
    CHECK(cpu.sp == 4737);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61518] == 27);
}

TEST_CASE( "1B 01E4", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16660;
    cpu.sp = 55045;
    cpu.reg.a = 222;
    cpu.reg.b = 166;
    cpu.reg.c = 41;
    cpu.reg.d = 122;
    cpu.reg.e = 165;
    cpu.reg.f = 224;
    cpu.reg.h = 255;
    cpu.reg.l = 181;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[16660] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 222);
    CHECK(cpu.reg.b == 166);
    CHECK(cpu.reg.c == 41);
    CHECK(cpu.reg.d == 122);
    CHECK(cpu.reg.e == 164);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 255);
    CHECK(cpu.reg.l == 181);
    CHECK(cpu.pc == 16661);
    CHECK(cpu.sp == 55045);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16660] == 27);
}

TEST_CASE( "1B 01E5", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52029;
    cpu.sp = 53227;
    cpu.reg.a = 127;
    cpu.reg.b = 204;
    cpu.reg.c = 190;
    cpu.reg.d = 77;
    cpu.reg.e = 222;
    cpu.reg.f = 112;
    cpu.reg.h = 100;
    cpu.reg.l = 237;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[52029] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 127);
    CHECK(cpu.reg.b == 204);
    CHECK(cpu.reg.c == 190);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 221);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 100);
    CHECK(cpu.reg.l == 237);
    CHECK(cpu.pc == 52030);
    CHECK(cpu.sp == 53227);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[52029] == 27);
}

TEST_CASE( "1B 01E6", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19711;
    cpu.sp = 43052;
    cpu.reg.a = 83;
    cpu.reg.b = 15;
    cpu.reg.c = 178;
    cpu.reg.d = 42;
    cpu.reg.e = 204;
    cpu.reg.f = 176;
    cpu.reg.h = 246;
    cpu.reg.l = 248;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[19711] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 83);
    CHECK(cpu.reg.b == 15);
    CHECK(cpu.reg.c == 178);
    CHECK(cpu.reg.d == 42);
    CHECK(cpu.reg.e == 203);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 246);
    CHECK(cpu.reg.l == 248);
    CHECK(cpu.pc == 19712);
    CHECK(cpu.sp == 43052);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19711] == 27);
}

TEST_CASE( "1B 01E7", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7926;
    cpu.sp = 14656;
    cpu.reg.a = 110;
    cpu.reg.b = 154;
    cpu.reg.c = 87;
    cpu.reg.d = 187;
    cpu.reg.e = 174;
    cpu.reg.f = 96;
    cpu.reg.h = 72;
    cpu.reg.l = 155;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[7926] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 110);
    CHECK(cpu.reg.b == 154);
    CHECK(cpu.reg.c == 87);
    CHECK(cpu.reg.d == 187);
    CHECK(cpu.reg.e == 173);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 72);
    CHECK(cpu.reg.l == 155);
    CHECK(cpu.pc == 7927);
    CHECK(cpu.sp == 14656);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7926] == 27);
}

TEST_CASE( "1B 01E8", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34700;
    cpu.sp = 19538;
    cpu.reg.a = 71;
    cpu.reg.b = 237;
    cpu.reg.c = 108;
    cpu.reg.d = 242;
    cpu.reg.e = 33;
    cpu.reg.f = 240;
    cpu.reg.h = 61;
    cpu.reg.l = 95;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[34700] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 71);
    CHECK(cpu.reg.b == 237);
    CHECK(cpu.reg.c == 108);
    CHECK(cpu.reg.d == 242);
    CHECK(cpu.reg.e == 32);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 61);
    CHECK(cpu.reg.l == 95);
    CHECK(cpu.pc == 34701);
    CHECK(cpu.sp == 19538);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[34700] == 27);
}

TEST_CASE( "1B 01E9", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11801;
    cpu.sp = 21854;
    cpu.reg.a = 166;
    cpu.reg.b = 75;
    cpu.reg.c = 101;
    cpu.reg.d = 175;
    cpu.reg.e = 88;
    cpu.reg.f = 96;
    cpu.reg.h = 170;
    cpu.reg.l = 14;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[11801] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 166);
    CHECK(cpu.reg.b == 75);
    CHECK(cpu.reg.c == 101);
    CHECK(cpu.reg.d == 175);
    CHECK(cpu.reg.e == 87);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 170);
    CHECK(cpu.reg.l == 14);
    CHECK(cpu.pc == 11802);
    CHECK(cpu.sp == 21854);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11801] == 27);
}

TEST_CASE( "1B 01EA", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30316;
    cpu.sp = 31894;
    cpu.reg.a = 154;
    cpu.reg.b = 151;
    cpu.reg.c = 45;
    cpu.reg.d = 248;
    cpu.reg.e = 139;
    cpu.reg.f = 32;
    cpu.reg.h = 132;
    cpu.reg.l = 230;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[30316] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 154);
    CHECK(cpu.reg.b == 151);
    CHECK(cpu.reg.c == 45);
    CHECK(cpu.reg.d == 248);
    CHECK(cpu.reg.e == 138);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 132);
    CHECK(cpu.reg.l == 230);
    CHECK(cpu.pc == 30317);
    CHECK(cpu.sp == 31894);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30316] == 27);
}

TEST_CASE( "1B 01EB", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38323;
    cpu.sp = 21540;
    cpu.reg.a = 49;
    cpu.reg.b = 111;
    cpu.reg.c = 39;
    cpu.reg.d = 170;
    cpu.reg.e = 125;
    cpu.reg.f = 224;
    cpu.reg.h = 116;
    cpu.reg.l = 10;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[38323] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 49);
    CHECK(cpu.reg.b == 111);
    CHECK(cpu.reg.c == 39);
    CHECK(cpu.reg.d == 170);
    CHECK(cpu.reg.e == 124);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 116);
    CHECK(cpu.reg.l == 10);
    CHECK(cpu.pc == 38324);
    CHECK(cpu.sp == 21540);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38323] == 27);
}

TEST_CASE( "1B 01EC", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25627;
    cpu.sp = 34950;
    cpu.reg.a = 11;
    cpu.reg.b = 192;
    cpu.reg.c = 154;
    cpu.reg.d = 152;
    cpu.reg.e = 68;
    cpu.reg.f = 128;
    cpu.reg.h = 68;
    cpu.reg.l = 191;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[25627] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 11);
    CHECK(cpu.reg.b == 192);
    CHECK(cpu.reg.c == 154);
    CHECK(cpu.reg.d == 152);
    CHECK(cpu.reg.e == 67);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 68);
    CHECK(cpu.reg.l == 191);
    CHECK(cpu.pc == 25628);
    CHECK(cpu.sp == 34950);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25627] == 27);
}

TEST_CASE( "1B 01ED", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39809;
    cpu.sp = 11298;
    cpu.reg.a = 205;
    cpu.reg.b = 115;
    cpu.reg.c = 161;
    cpu.reg.d = 80;
    cpu.reg.e = 79;
    cpu.reg.f = 96;
    cpu.reg.h = 202;
    cpu.reg.l = 25;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[39809] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 205);
    CHECK(cpu.reg.b == 115);
    CHECK(cpu.reg.c == 161);
    CHECK(cpu.reg.d == 80);
    CHECK(cpu.reg.e == 78);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 202);
    CHECK(cpu.reg.l == 25);
    CHECK(cpu.pc == 39810);
    CHECK(cpu.sp == 11298);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39809] == 27);
}

TEST_CASE( "1B 01EE", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2935;
    cpu.sp = 60256;
    cpu.reg.a = 34;
    cpu.reg.b = 154;
    cpu.reg.c = 114;
    cpu.reg.d = 126;
    cpu.reg.e = 14;
    cpu.reg.f = 208;
    cpu.reg.h = 91;
    cpu.reg.l = 220;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[2935] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 34);
    CHECK(cpu.reg.b == 154);
    CHECK(cpu.reg.c == 114);
    CHECK(cpu.reg.d == 126);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 91);
    CHECK(cpu.reg.l == 220);
    CHECK(cpu.pc == 2936);
    CHECK(cpu.sp == 60256);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2935] == 27);
}

TEST_CASE( "1B 01EF", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26867;
    cpu.sp = 29993;
    cpu.reg.a = 216;
    cpu.reg.b = 73;
    cpu.reg.c = 247;
    cpu.reg.d = 138;
    cpu.reg.e = 251;
    cpu.reg.f = 176;
    cpu.reg.h = 220;
    cpu.reg.l = 210;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[26867] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 73);
    CHECK(cpu.reg.c == 247);
    CHECK(cpu.reg.d == 138);
    CHECK(cpu.reg.e == 250);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 220);
    CHECK(cpu.reg.l == 210);
    CHECK(cpu.pc == 26868);
    CHECK(cpu.sp == 29993);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26867] == 27);
}

TEST_CASE( "1B 01F0", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59396;
    cpu.sp = 42396;
    cpu.reg.a = 190;
    cpu.reg.b = 113;
    cpu.reg.c = 17;
    cpu.reg.d = 170;
    cpu.reg.e = 220;
    cpu.reg.f = 192;
    cpu.reg.h = 172;
    cpu.reg.l = 194;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[59396] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 190);
    CHECK(cpu.reg.b == 113);
    CHECK(cpu.reg.c == 17);
    CHECK(cpu.reg.d == 170);
    CHECK(cpu.reg.e == 219);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 172);
    CHECK(cpu.reg.l == 194);
    CHECK(cpu.pc == 59397);
    CHECK(cpu.sp == 42396);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[59396] == 27);
}

TEST_CASE( "1B 01F1", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7671;
    cpu.sp = 12825;
    cpu.reg.a = 136;
    cpu.reg.b = 135;
    cpu.reg.c = 33;
    cpu.reg.d = 126;
    cpu.reg.e = 107;
    cpu.reg.f = 80;
    cpu.reg.h = 34;
    cpu.reg.l = 14;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[7671] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 136);
    CHECK(cpu.reg.b == 135);
    CHECK(cpu.reg.c == 33);
    CHECK(cpu.reg.d == 126);
    CHECK(cpu.reg.e == 106);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 34);
    CHECK(cpu.reg.l == 14);
    CHECK(cpu.pc == 7672);
    CHECK(cpu.sp == 12825);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7671] == 27);
}

TEST_CASE( "1B 01F2", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17549;
    cpu.sp = 16560;
    cpu.reg.a = 135;
    cpu.reg.b = 124;
    cpu.reg.c = 246;
    cpu.reg.d = 144;
    cpu.reg.e = 141;
    cpu.reg.f = 48;
    cpu.reg.h = 34;
    cpu.reg.l = 79;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[17549] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 135);
    CHECK(cpu.reg.b == 124);
    CHECK(cpu.reg.c == 246);
    CHECK(cpu.reg.d == 144);
    CHECK(cpu.reg.e == 140);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 34);
    CHECK(cpu.reg.l == 79);
    CHECK(cpu.pc == 17550);
    CHECK(cpu.sp == 16560);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17549] == 27);
}

TEST_CASE( "1B 01F3", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11364;
    cpu.sp = 6943;
    cpu.reg.a = 183;
    cpu.reg.b = 81;
    cpu.reg.c = 2;
    cpu.reg.d = 81;
    cpu.reg.e = 73;
    cpu.reg.f = 32;
    cpu.reg.h = 56;
    cpu.reg.l = 180;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[11364] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 183);
    CHECK(cpu.reg.b == 81);
    CHECK(cpu.reg.c == 2);
    CHECK(cpu.reg.d == 81);
    CHECK(cpu.reg.e == 72);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 56);
    CHECK(cpu.reg.l == 180);
    CHECK(cpu.pc == 11365);
    CHECK(cpu.sp == 6943);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11364] == 27);
}

TEST_CASE( "1B 01F4", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48373;
    cpu.sp = 15339;
    cpu.reg.a = 255;
    cpu.reg.b = 147;
    cpu.reg.c = 173;
    cpu.reg.d = 177;
    cpu.reg.e = 180;
    cpu.reg.f = 16;
    cpu.reg.h = 198;
    cpu.reg.l = 255;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[48373] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 255);
    CHECK(cpu.reg.b == 147);
    CHECK(cpu.reg.c == 173);
    CHECK(cpu.reg.d == 177);
    CHECK(cpu.reg.e == 179);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 198);
    CHECK(cpu.reg.l == 255);
    CHECK(cpu.pc == 48374);
    CHECK(cpu.sp == 15339);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48373] == 27);
}

TEST_CASE( "1B 01F5", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59568;
    cpu.sp = 43114;
    cpu.reg.a = 64;
    cpu.reg.b = 166;
    cpu.reg.c = 235;
    cpu.reg.d = 26;
    cpu.reg.e = 73;
    cpu.reg.f = 144;
    cpu.reg.h = 162;
    cpu.reg.l = 53;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[59568] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 166);
    CHECK(cpu.reg.c == 235);
    CHECK(cpu.reg.d == 26);
    CHECK(cpu.reg.e == 72);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 162);
    CHECK(cpu.reg.l == 53);
    CHECK(cpu.pc == 59569);
    CHECK(cpu.sp == 43114);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[59568] == 27);
}

TEST_CASE( "1B 01F6", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23630;
    cpu.sp = 63666;
    cpu.reg.a = 139;
    cpu.reg.b = 39;
    cpu.reg.c = 198;
    cpu.reg.d = 160;
    cpu.reg.e = 115;
    cpu.reg.f = 64;
    cpu.reg.h = 211;
    cpu.reg.l = 93;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[23630] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 139);
    CHECK(cpu.reg.b == 39);
    CHECK(cpu.reg.c == 198);
    CHECK(cpu.reg.d == 160);
    CHECK(cpu.reg.e == 114);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 211);
    CHECK(cpu.reg.l == 93);
    CHECK(cpu.pc == 23631);
    CHECK(cpu.sp == 63666);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[23630] == 27);
}

TEST_CASE( "1B 01F7", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39675;
    cpu.sp = 58177;
    cpu.reg.a = 14;
    cpu.reg.b = 27;
    cpu.reg.c = 107;
    cpu.reg.d = 202;
    cpu.reg.e = 226;
    cpu.reg.f = 64;
    cpu.reg.h = 248;
    cpu.reg.l = 123;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[39675] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 14);
    CHECK(cpu.reg.b == 27);
    CHECK(cpu.reg.c == 107);
    CHECK(cpu.reg.d == 202);
    CHECK(cpu.reg.e == 225);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 248);
    CHECK(cpu.reg.l == 123);
    CHECK(cpu.pc == 39676);
    CHECK(cpu.sp == 58177);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39675] == 27);
}

TEST_CASE( "1B 01F8", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60451;
    cpu.sp = 48304;
    cpu.reg.a = 33;
    cpu.reg.b = 48;
    cpu.reg.c = 87;
    cpu.reg.d = 21;
    cpu.reg.e = 10;
    cpu.reg.f = 240;
    cpu.reg.h = 249;
    cpu.reg.l = 128;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[60451] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 33);
    CHECK(cpu.reg.b == 48);
    CHECK(cpu.reg.c == 87);
    CHECK(cpu.reg.d == 21);
    CHECK(cpu.reg.e == 9);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 249);
    CHECK(cpu.reg.l == 128);
    CHECK(cpu.pc == 60452);
    CHECK(cpu.sp == 48304);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60451] == 27);
}

TEST_CASE( "1B 01F9", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31722;
    cpu.sp = 49342;
    cpu.reg.a = 173;
    cpu.reg.b = 10;
    cpu.reg.c = 152;
    cpu.reg.d = 122;
    cpu.reg.e = 163;
    cpu.reg.f = 48;
    cpu.reg.h = 231;
    cpu.reg.l = 70;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[31722] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 173);
    CHECK(cpu.reg.b == 10);
    CHECK(cpu.reg.c == 152);
    CHECK(cpu.reg.d == 122);
    CHECK(cpu.reg.e == 162);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 231);
    CHECK(cpu.reg.l == 70);
    CHECK(cpu.pc == 31723);
    CHECK(cpu.sp == 49342);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31722] == 27);
}

TEST_CASE( "1B 01FA", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56847;
    cpu.sp = 40002;
    cpu.reg.a = 232;
    cpu.reg.b = 19;
    cpu.reg.c = 225;
    cpu.reg.d = 189;
    cpu.reg.e = 172;
    cpu.reg.f = 64;
    cpu.reg.h = 84;
    cpu.reg.l = 45;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[56847] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 232);
    CHECK(cpu.reg.b == 19);
    CHECK(cpu.reg.c == 225);
    CHECK(cpu.reg.d == 189);
    CHECK(cpu.reg.e == 171);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 84);
    CHECK(cpu.reg.l == 45);
    CHECK(cpu.pc == 56848);
    CHECK(cpu.sp == 40002);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56847] == 27);
}

TEST_CASE( "1B 01FB", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42710;
    cpu.sp = 30665;
    cpu.reg.a = 111;
    cpu.reg.b = 49;
    cpu.reg.c = 48;
    cpu.reg.d = 238;
    cpu.reg.e = 76;
    cpu.reg.f = 16;
    cpu.reg.h = 211;
    cpu.reg.l = 245;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[42710] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 111);
    CHECK(cpu.reg.b == 49);
    CHECK(cpu.reg.c == 48);
    CHECK(cpu.reg.d == 238);
    CHECK(cpu.reg.e == 75);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 211);
    CHECK(cpu.reg.l == 245);
    CHECK(cpu.pc == 42711);
    CHECK(cpu.sp == 30665);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[42710] == 27);
}

TEST_CASE( "1B 01FC", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21314;
    cpu.sp = 36042;
    cpu.reg.a = 74;
    cpu.reg.b = 48;
    cpu.reg.c = 170;
    cpu.reg.d = 239;
    cpu.reg.e = 83;
    cpu.reg.f = 208;
    cpu.reg.h = 16;
    cpu.reg.l = 211;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[21314] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 74);
    CHECK(cpu.reg.b == 48);
    CHECK(cpu.reg.c == 170);
    CHECK(cpu.reg.d == 239);
    CHECK(cpu.reg.e == 82);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 16);
    CHECK(cpu.reg.l == 211);
    CHECK(cpu.pc == 21315);
    CHECK(cpu.sp == 36042);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21314] == 27);
}

TEST_CASE( "1B 01FD", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56501;
    cpu.sp = 6146;
    cpu.reg.a = 20;
    cpu.reg.b = 104;
    cpu.reg.c = 242;
    cpu.reg.d = 162;
    cpu.reg.e = 175;
    cpu.reg.f = 128;
    cpu.reg.h = 21;
    cpu.reg.l = 122;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[56501] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 20);
    CHECK(cpu.reg.b == 104);
    CHECK(cpu.reg.c == 242);
    CHECK(cpu.reg.d == 162);
    CHECK(cpu.reg.e == 174);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 21);
    CHECK(cpu.reg.l == 122);
    CHECK(cpu.pc == 56502);
    CHECK(cpu.sp == 6146);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56501] == 27);
}

TEST_CASE( "1B 01FE", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65429;
    cpu.sp = 34332;
    cpu.reg.a = 20;
    cpu.reg.b = 29;
    cpu.reg.c = 158;
    cpu.reg.d = 99;
    cpu.reg.e = 50;
    cpu.reg.f = 176;
    cpu.reg.h = 230;
    cpu.reg.l = 216;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[65429] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 20);
    CHECK(cpu.reg.b == 29);
    CHECK(cpu.reg.c == 158);
    CHECK(cpu.reg.d == 99);
    CHECK(cpu.reg.e == 49);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 230);
    CHECK(cpu.reg.l == 216);
    CHECK(cpu.pc == 65430);
    CHECK(cpu.sp == 34332);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[65429] == 27);
}

TEST_CASE( "1B 01FF", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56673;
    cpu.sp = 41116;
    cpu.reg.a = 25;
    cpu.reg.b = 47;
    cpu.reg.c = 247;
    cpu.reg.d = 180;
    cpu.reg.e = 12;
    cpu.reg.f = 144;
    cpu.reg.h = 85;
    cpu.reg.l = 47;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[56673] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 25);
    CHECK(cpu.reg.b == 47);
    CHECK(cpu.reg.c == 247);
    CHECK(cpu.reg.d == 180);
    CHECK(cpu.reg.e == 11);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 85);
    CHECK(cpu.reg.l == 47);
    CHECK(cpu.pc == 56674);
    CHECK(cpu.sp == 41116);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56673] == 27);
}

TEST_CASE( "1B 0200", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29136;
    cpu.sp = 53178;
    cpu.reg.a = 71;
    cpu.reg.b = 178;
    cpu.reg.c = 130;
    cpu.reg.d = 87;
    cpu.reg.e = 190;
    cpu.reg.f = 64;
    cpu.reg.h = 128;
    cpu.reg.l = 101;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[29136] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 71);
    CHECK(cpu.reg.b == 178);
    CHECK(cpu.reg.c == 130);
    CHECK(cpu.reg.d == 87);
    CHECK(cpu.reg.e == 189);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 128);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 29137);
    CHECK(cpu.sp == 53178);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[29136] == 27);
}

TEST_CASE( "1B 0201", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8527;
    cpu.sp = 47455;
    cpu.reg.a = 57;
    cpu.reg.b = 82;
    cpu.reg.c = 107;
    cpu.reg.d = 215;
    cpu.reg.e = 160;
    cpu.reg.f = 80;
    cpu.reg.h = 146;
    cpu.reg.l = 164;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[8527] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 57);
    CHECK(cpu.reg.b == 82);
    CHECK(cpu.reg.c == 107);
    CHECK(cpu.reg.d == 215);
    CHECK(cpu.reg.e == 159);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 146);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 8528);
    CHECK(cpu.sp == 47455);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8527] == 27);
}

TEST_CASE( "1B 0202", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57621;
    cpu.sp = 1578;
    cpu.reg.a = 128;
    cpu.reg.b = 15;
    cpu.reg.c = 162;
    cpu.reg.d = 37;
    cpu.reg.e = 242;
    cpu.reg.f = 48;
    cpu.reg.h = 15;
    cpu.reg.l = 209;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[57621] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 128);
    CHECK(cpu.reg.b == 15);
    CHECK(cpu.reg.c == 162);
    CHECK(cpu.reg.d == 37);
    CHECK(cpu.reg.e == 241);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 15);
    CHECK(cpu.reg.l == 209);
    CHECK(cpu.pc == 57622);
    CHECK(cpu.sp == 1578);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[57621] == 27);
}

TEST_CASE( "1B 0203", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45062;
    cpu.sp = 37310;
    cpu.reg.a = 104;
    cpu.reg.b = 42;
    cpu.reg.c = 42;
    cpu.reg.d = 143;
    cpu.reg.e = 199;
    cpu.reg.f = 32;
    cpu.reg.h = 75;
    cpu.reg.l = 70;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[45062] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 104);
    CHECK(cpu.reg.b == 42);
    CHECK(cpu.reg.c == 42);
    CHECK(cpu.reg.d == 143);
    CHECK(cpu.reg.e == 198);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 75);
    CHECK(cpu.reg.l == 70);
    CHECK(cpu.pc == 45063);
    CHECK(cpu.sp == 37310);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45062] == 27);
}

TEST_CASE( "1B 0204", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18560;
    cpu.sp = 15545;
    cpu.reg.a = 131;
    cpu.reg.b = 164;
    cpu.reg.c = 183;
    cpu.reg.d = 90;
    cpu.reg.e = 27;
    cpu.reg.f = 192;
    cpu.reg.h = 124;
    cpu.reg.l = 109;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[18560] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 131);
    CHECK(cpu.reg.b == 164);
    CHECK(cpu.reg.c == 183);
    CHECK(cpu.reg.d == 90);
    CHECK(cpu.reg.e == 26);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 124);
    CHECK(cpu.reg.l == 109);
    CHECK(cpu.pc == 18561);
    CHECK(cpu.sp == 15545);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[18560] == 27);
}

TEST_CASE( "1B 0205", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24257;
    cpu.sp = 32253;
    cpu.reg.a = 250;
    cpu.reg.b = 189;
    cpu.reg.c = 14;
    cpu.reg.d = 96;
    cpu.reg.e = 235;
    cpu.reg.f = 48;
    cpu.reg.h = 150;
    cpu.reg.l = 45;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[24257] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 250);
    CHECK(cpu.reg.b == 189);
    CHECK(cpu.reg.c == 14);
    CHECK(cpu.reg.d == 96);
    CHECK(cpu.reg.e == 234);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 150);
    CHECK(cpu.reg.l == 45);
    CHECK(cpu.pc == 24258);
    CHECK(cpu.sp == 32253);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24257] == 27);
}

TEST_CASE( "1B 0206", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44831;
    cpu.sp = 11117;
    cpu.reg.a = 194;
    cpu.reg.b = 35;
    cpu.reg.c = 205;
    cpu.reg.d = 41;
    cpu.reg.e = 188;
    cpu.reg.f = 80;
    cpu.reg.h = 157;
    cpu.reg.l = 195;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[44831] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 194);
    CHECK(cpu.reg.b == 35);
    CHECK(cpu.reg.c == 205);
    CHECK(cpu.reg.d == 41);
    CHECK(cpu.reg.e == 187);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 157);
    CHECK(cpu.reg.l == 195);
    CHECK(cpu.pc == 44832);
    CHECK(cpu.sp == 11117);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44831] == 27);
}

TEST_CASE( "1B 0207", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25842;
    cpu.sp = 59748;
    cpu.reg.a = 100;
    cpu.reg.b = 63;
    cpu.reg.c = 190;
    cpu.reg.d = 38;
    cpu.reg.e = 252;
    cpu.reg.f = 176;
    cpu.reg.h = 74;
    cpu.reg.l = 210;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[25842] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 100);
    CHECK(cpu.reg.b == 63);
    CHECK(cpu.reg.c == 190);
    CHECK(cpu.reg.d == 38);
    CHECK(cpu.reg.e == 251);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 74);
    CHECK(cpu.reg.l == 210);
    CHECK(cpu.pc == 25843);
    CHECK(cpu.sp == 59748);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25842] == 27);
}

TEST_CASE( "1B 0208", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58588;
    cpu.sp = 1969;
    cpu.reg.a = 231;
    cpu.reg.b = 73;
    cpu.reg.c = 61;
    cpu.reg.d = 198;
    cpu.reg.e = 231;
    cpu.reg.f = 112;
    cpu.reg.h = 35;
    cpu.reg.l = 196;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[58588] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 231);
    CHECK(cpu.reg.b == 73);
    CHECK(cpu.reg.c == 61);
    CHECK(cpu.reg.d == 198);
    CHECK(cpu.reg.e == 230);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 35);
    CHECK(cpu.reg.l == 196);
    CHECK(cpu.pc == 58589);
    CHECK(cpu.sp == 1969);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[58588] == 27);
}

TEST_CASE( "1B 0209", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27568;
    cpu.sp = 34337;
    cpu.reg.a = 217;
    cpu.reg.b = 25;
    cpu.reg.c = 17;
    cpu.reg.d = 49;
    cpu.reg.e = 116;
    cpu.reg.f = 160;
    cpu.reg.h = 23;
    cpu.reg.l = 138;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[27568] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 217);
    CHECK(cpu.reg.b == 25);
    CHECK(cpu.reg.c == 17);
    CHECK(cpu.reg.d == 49);
    CHECK(cpu.reg.e == 115);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 23);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 27569);
    CHECK(cpu.sp == 34337);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27568] == 27);
}

TEST_CASE( "1B 020A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44552;
    cpu.sp = 40034;
    cpu.reg.a = 77;
    cpu.reg.b = 41;
    cpu.reg.c = 192;
    cpu.reg.d = 34;
    cpu.reg.e = 9;
    cpu.reg.f = 160;
    cpu.reg.h = 121;
    cpu.reg.l = 224;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[44552] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 77);
    CHECK(cpu.reg.b == 41);
    CHECK(cpu.reg.c == 192);
    CHECK(cpu.reg.d == 34);
    CHECK(cpu.reg.e == 8);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 121);
    CHECK(cpu.reg.l == 224);
    CHECK(cpu.pc == 44553);
    CHECK(cpu.sp == 40034);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44552] == 27);
}

TEST_CASE( "1B 020B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1740;
    cpu.sp = 8927;
    cpu.reg.a = 131;
    cpu.reg.b = 62;
    cpu.reg.c = 26;
    cpu.reg.d = 141;
    cpu.reg.e = 226;
    cpu.reg.f = 240;
    cpu.reg.h = 253;
    cpu.reg.l = 62;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[1740] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 131);
    CHECK(cpu.reg.b == 62);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 141);
    CHECK(cpu.reg.e == 225);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 253);
    CHECK(cpu.reg.l == 62);
    CHECK(cpu.pc == 1741);
    CHECK(cpu.sp == 8927);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1740] == 27);
}

TEST_CASE( "1B 020C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47528;
    cpu.sp = 64104;
    cpu.reg.a = 90;
    cpu.reg.b = 170;
    cpu.reg.c = 234;
    cpu.reg.d = 247;
    cpu.reg.e = 90;
    cpu.reg.f = 96;
    cpu.reg.h = 175;
    cpu.reg.l = 45;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47528] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 90);
    CHECK(cpu.reg.b == 170);
    CHECK(cpu.reg.c == 234);
    CHECK(cpu.reg.d == 247);
    CHECK(cpu.reg.e == 89);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 175);
    CHECK(cpu.reg.l == 45);
    CHECK(cpu.pc == 47529);
    CHECK(cpu.sp == 64104);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47528] == 27);
}

TEST_CASE( "1B 020D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35181;
    cpu.sp = 28357;
    cpu.reg.a = 144;
    cpu.reg.b = 46;
    cpu.reg.c = 177;
    cpu.reg.d = 146;
    cpu.reg.e = 69;
    cpu.reg.f = 144;
    cpu.reg.h = 122;
    cpu.reg.l = 90;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[35181] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 144);
    CHECK(cpu.reg.b == 46);
    CHECK(cpu.reg.c == 177);
    CHECK(cpu.reg.d == 146);
    CHECK(cpu.reg.e == 68);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 122);
    CHECK(cpu.reg.l == 90);
    CHECK(cpu.pc == 35182);
    CHECK(cpu.sp == 28357);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35181] == 27);
}

TEST_CASE( "1B 020E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61934;
    cpu.sp = 16342;
    cpu.reg.a = 243;
    cpu.reg.b = 163;
    cpu.reg.c = 140;
    cpu.reg.d = 231;
    cpu.reg.e = 157;
    cpu.reg.f = 208;
    cpu.reg.h = 112;
    cpu.reg.l = 70;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[61934] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 243);
    CHECK(cpu.reg.b == 163);
    CHECK(cpu.reg.c == 140);
    CHECK(cpu.reg.d == 231);
    CHECK(cpu.reg.e == 156);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 112);
    CHECK(cpu.reg.l == 70);
    CHECK(cpu.pc == 61935);
    CHECK(cpu.sp == 16342);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61934] == 27);
}

TEST_CASE( "1B 020F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52452;
    cpu.sp = 33054;
    cpu.reg.a = 242;
    cpu.reg.b = 206;
    cpu.reg.c = 55;
    cpu.reg.d = 18;
    cpu.reg.e = 57;
    cpu.reg.f = 32;
    cpu.reg.h = 255;
    cpu.reg.l = 19;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[52452] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 242);
    CHECK(cpu.reg.b == 206);
    CHECK(cpu.reg.c == 55);
    CHECK(cpu.reg.d == 18);
    CHECK(cpu.reg.e == 56);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 255);
    CHECK(cpu.reg.l == 19);
    CHECK(cpu.pc == 52453);
    CHECK(cpu.sp == 33054);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[52452] == 27);
}

TEST_CASE( "1B 0210", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22861;
    cpu.sp = 6309;
    cpu.reg.a = 202;
    cpu.reg.b = 191;
    cpu.reg.c = 154;
    cpu.reg.d = 117;
    cpu.reg.e = 44;
    cpu.reg.f = 16;
    cpu.reg.h = 217;
    cpu.reg.l = 133;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[22861] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 202);
    CHECK(cpu.reg.b == 191);
    CHECK(cpu.reg.c == 154);
    CHECK(cpu.reg.d == 117);
    CHECK(cpu.reg.e == 43);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 217);
    CHECK(cpu.reg.l == 133);
    CHECK(cpu.pc == 22862);
    CHECK(cpu.sp == 6309);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22861] == 27);
}

TEST_CASE( "1B 0211", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18553;
    cpu.sp = 59428;
    cpu.reg.a = 109;
    cpu.reg.b = 132;
    cpu.reg.c = 143;
    cpu.reg.d = 203;
    cpu.reg.e = 241;
    cpu.reg.f = 0;
    cpu.reg.h = 138;
    cpu.reg.l = 39;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[18553] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 109);
    CHECK(cpu.reg.b == 132);
    CHECK(cpu.reg.c == 143);
    CHECK(cpu.reg.d == 203);
    CHECK(cpu.reg.e == 240);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 138);
    CHECK(cpu.reg.l == 39);
    CHECK(cpu.pc == 18554);
    CHECK(cpu.sp == 59428);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18553] == 27);
}

TEST_CASE( "1B 0212", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54888;
    cpu.sp = 60914;
    cpu.reg.a = 118;
    cpu.reg.b = 217;
    cpu.reg.c = 74;
    cpu.reg.d = 69;
    cpu.reg.e = 60;
    cpu.reg.f = 144;
    cpu.reg.h = 61;
    cpu.reg.l = 177;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[54888] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 118);
    CHECK(cpu.reg.b == 217);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 69);
    CHECK(cpu.reg.e == 59);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 61);
    CHECK(cpu.reg.l == 177);
    CHECK(cpu.pc == 54889);
    CHECK(cpu.sp == 60914);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54888] == 27);
}

TEST_CASE( "1B 0213", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22184;
    cpu.sp = 64825;
    cpu.reg.a = 185;
    cpu.reg.b = 17;
    cpu.reg.c = 131;
    cpu.reg.d = 114;
    cpu.reg.e = 100;
    cpu.reg.f = 112;
    cpu.reg.h = 99;
    cpu.reg.l = 25;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[22184] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 185);
    CHECK(cpu.reg.b == 17);
    CHECK(cpu.reg.c == 131);
    CHECK(cpu.reg.d == 114);
    CHECK(cpu.reg.e == 99);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 99);
    CHECK(cpu.reg.l == 25);
    CHECK(cpu.pc == 22185);
    CHECK(cpu.sp == 64825);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22184] == 27);
}

TEST_CASE( "1B 0214", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11763;
    cpu.sp = 55985;
    cpu.reg.a = 37;
    cpu.reg.b = 29;
    cpu.reg.c = 7;
    cpu.reg.d = 77;
    cpu.reg.e = 30;
    cpu.reg.f = 224;
    cpu.reg.h = 13;
    cpu.reg.l = 99;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[11763] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 37);
    CHECK(cpu.reg.b == 29);
    CHECK(cpu.reg.c == 7);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 13);
    CHECK(cpu.reg.l == 99);
    CHECK(cpu.pc == 11764);
    CHECK(cpu.sp == 55985);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11763] == 27);
}

TEST_CASE( "1B 0215", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2049;
    cpu.sp = 11681;
    cpu.reg.a = 46;
    cpu.reg.b = 25;
    cpu.reg.c = 85;
    cpu.reg.d = 44;
    cpu.reg.e = 188;
    cpu.reg.f = 64;
    cpu.reg.h = 104;
    cpu.reg.l = 49;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[2049] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 46);
    CHECK(cpu.reg.b == 25);
    CHECK(cpu.reg.c == 85);
    CHECK(cpu.reg.d == 44);
    CHECK(cpu.reg.e == 187);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 104);
    CHECK(cpu.reg.l == 49);
    CHECK(cpu.pc == 2050);
    CHECK(cpu.sp == 11681);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2049] == 27);
}

TEST_CASE( "1B 0216", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7034;
    cpu.sp = 20290;
    cpu.reg.a = 207;
    cpu.reg.b = 137;
    cpu.reg.c = 49;
    cpu.reg.d = 28;
    cpu.reg.e = 114;
    cpu.reg.f = 0;
    cpu.reg.h = 114;
    cpu.reg.l = 181;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[7034] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 207);
    CHECK(cpu.reg.b == 137);
    CHECK(cpu.reg.c == 49);
    CHECK(cpu.reg.d == 28);
    CHECK(cpu.reg.e == 113);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 114);
    CHECK(cpu.reg.l == 181);
    CHECK(cpu.pc == 7035);
    CHECK(cpu.sp == 20290);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7034] == 27);
}

TEST_CASE( "1B 0217", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12791;
    cpu.sp = 52848;
    cpu.reg.a = 91;
    cpu.reg.b = 213;
    cpu.reg.c = 9;
    cpu.reg.d = 10;
    cpu.reg.e = 72;
    cpu.reg.f = 112;
    cpu.reg.h = 246;
    cpu.reg.l = 124;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[12791] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 91);
    CHECK(cpu.reg.b == 213);
    CHECK(cpu.reg.c == 9);
    CHECK(cpu.reg.d == 10);
    CHECK(cpu.reg.e == 71);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 246);
    CHECK(cpu.reg.l == 124);
    CHECK(cpu.pc == 12792);
    CHECK(cpu.sp == 52848);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12791] == 27);
}

TEST_CASE( "1B 0218", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9331;
    cpu.sp = 53730;
    cpu.reg.a = 16;
    cpu.reg.b = 119;
    cpu.reg.c = 163;
    cpu.reg.d = 153;
    cpu.reg.e = 171;
    cpu.reg.f = 96;
    cpu.reg.h = 41;
    cpu.reg.l = 18;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[9331] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 16);
    CHECK(cpu.reg.b == 119);
    CHECK(cpu.reg.c == 163);
    CHECK(cpu.reg.d == 153);
    CHECK(cpu.reg.e == 170);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 41);
    CHECK(cpu.reg.l == 18);
    CHECK(cpu.pc == 9332);
    CHECK(cpu.sp == 53730);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9331] == 27);
}

TEST_CASE( "1B 0219", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16262;
    cpu.sp = 38558;
    cpu.reg.a = 43;
    cpu.reg.b = 3;
    cpu.reg.c = 191;
    cpu.reg.d = 208;
    cpu.reg.e = 15;
    cpu.reg.f = 128;
    cpu.reg.h = 114;
    cpu.reg.l = 125;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[16262] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 43);
    CHECK(cpu.reg.b == 3);
    CHECK(cpu.reg.c == 191);
    CHECK(cpu.reg.d == 208);
    CHECK(cpu.reg.e == 14);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 114);
    CHECK(cpu.reg.l == 125);
    CHECK(cpu.pc == 16263);
    CHECK(cpu.sp == 38558);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16262] == 27);
}

TEST_CASE( "1B 021A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47074;
    cpu.sp = 53226;
    cpu.reg.a = 209;
    cpu.reg.b = 50;
    cpu.reg.c = 182;
    cpu.reg.d = 11;
    cpu.reg.e = 107;
    cpu.reg.f = 16;
    cpu.reg.h = 142;
    cpu.reg.l = 137;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47074] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 209);
    CHECK(cpu.reg.b == 50);
    CHECK(cpu.reg.c == 182);
    CHECK(cpu.reg.d == 11);
    CHECK(cpu.reg.e == 106);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 142);
    CHECK(cpu.reg.l == 137);
    CHECK(cpu.pc == 47075);
    CHECK(cpu.sp == 53226);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47074] == 27);
}

TEST_CASE( "1B 021B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29027;
    cpu.sp = 39084;
    cpu.reg.a = 117;
    cpu.reg.b = 188;
    cpu.reg.c = 30;
    cpu.reg.d = 235;
    cpu.reg.e = 105;
    cpu.reg.f = 160;
    cpu.reg.h = 233;
    cpu.reg.l = 95;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[29027] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 117);
    CHECK(cpu.reg.b == 188);
    CHECK(cpu.reg.c == 30);
    CHECK(cpu.reg.d == 235);
    CHECK(cpu.reg.e == 104);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 233);
    CHECK(cpu.reg.l == 95);
    CHECK(cpu.pc == 29028);
    CHECK(cpu.sp == 39084);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29027] == 27);
}

TEST_CASE( "1B 021C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34207;
    cpu.sp = 16768;
    cpu.reg.a = 254;
    cpu.reg.b = 182;
    cpu.reg.c = 57;
    cpu.reg.d = 243;
    cpu.reg.e = 221;
    cpu.reg.f = 240;
    cpu.reg.h = 46;
    cpu.reg.l = 144;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[34207] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 182);
    CHECK(cpu.reg.c == 57);
    CHECK(cpu.reg.d == 243);
    CHECK(cpu.reg.e == 220);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 46);
    CHECK(cpu.reg.l == 144);
    CHECK(cpu.pc == 34208);
    CHECK(cpu.sp == 16768);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[34207] == 27);
}

TEST_CASE( "1B 021D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51532;
    cpu.sp = 6623;
    cpu.reg.a = 195;
    cpu.reg.b = 145;
    cpu.reg.c = 154;
    cpu.reg.d = 85;
    cpu.reg.e = 3;
    cpu.reg.f = 192;
    cpu.reg.h = 14;
    cpu.reg.l = 147;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[51532] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 195);
    CHECK(cpu.reg.b == 145);
    CHECK(cpu.reg.c == 154);
    CHECK(cpu.reg.d == 85);
    CHECK(cpu.reg.e == 2);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 14);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 51533);
    CHECK(cpu.sp == 6623);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51532] == 27);
}

TEST_CASE( "1B 021E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47063;
    cpu.sp = 43811;
    cpu.reg.a = 5;
    cpu.reg.b = 37;
    cpu.reg.c = 176;
    cpu.reg.d = 78;
    cpu.reg.e = 51;
    cpu.reg.f = 96;
    cpu.reg.h = 180;
    cpu.reg.l = 193;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47063] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 5);
    CHECK(cpu.reg.b == 37);
    CHECK(cpu.reg.c == 176);
    CHECK(cpu.reg.d == 78);
    CHECK(cpu.reg.e == 50);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 180);
    CHECK(cpu.reg.l == 193);
    CHECK(cpu.pc == 47064);
    CHECK(cpu.sp == 43811);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47063] == 27);
}

TEST_CASE( "1B 021F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44403;
    cpu.sp = 34355;
    cpu.reg.a = 246;
    cpu.reg.b = 26;
    cpu.reg.c = 16;
    cpu.reg.d = 83;
    cpu.reg.e = 251;
    cpu.reg.f = 0;
    cpu.reg.h = 31;
    cpu.reg.l = 196;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[44403] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 246);
    CHECK(cpu.reg.b == 26);
    CHECK(cpu.reg.c == 16);
    CHECK(cpu.reg.d == 83);
    CHECK(cpu.reg.e == 250);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 31);
    CHECK(cpu.reg.l == 196);
    CHECK(cpu.pc == 44404);
    CHECK(cpu.sp == 34355);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44403] == 27);
}

TEST_CASE( "1B 0220", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57853;
    cpu.sp = 30626;
    cpu.reg.a = 224;
    cpu.reg.b = 129;
    cpu.reg.c = 165;
    cpu.reg.d = 234;
    cpu.reg.e = 251;
    cpu.reg.f = 208;
    cpu.reg.h = 218;
    cpu.reg.l = 63;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[57853] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 129);
    CHECK(cpu.reg.c == 165);
    CHECK(cpu.reg.d == 234);
    CHECK(cpu.reg.e == 250);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 218);
    CHECK(cpu.reg.l == 63);
    CHECK(cpu.pc == 57854);
    CHECK(cpu.sp == 30626);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[57853] == 27);
}

TEST_CASE( "1B 0221", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53488;
    cpu.sp = 49855;
    cpu.reg.a = 227;
    cpu.reg.b = 158;
    cpu.reg.c = 84;
    cpu.reg.d = 252;
    cpu.reg.e = 47;
    cpu.reg.f = 144;
    cpu.reg.h = 10;
    cpu.reg.l = 144;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[53488] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 227);
    CHECK(cpu.reg.b == 158);
    CHECK(cpu.reg.c == 84);
    CHECK(cpu.reg.d == 252);
    CHECK(cpu.reg.e == 46);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 10);
    CHECK(cpu.reg.l == 144);
    CHECK(cpu.pc == 53489);
    CHECK(cpu.sp == 49855);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[53488] == 27);
}

TEST_CASE( "1B 0222", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54773;
    cpu.sp = 40333;
    cpu.reg.a = 215;
    cpu.reg.b = 111;
    cpu.reg.c = 45;
    cpu.reg.d = 96;
    cpu.reg.e = 125;
    cpu.reg.f = 96;
    cpu.reg.h = 57;
    cpu.reg.l = 162;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[54773] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 215);
    CHECK(cpu.reg.b == 111);
    CHECK(cpu.reg.c == 45);
    CHECK(cpu.reg.d == 96);
    CHECK(cpu.reg.e == 124);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 57);
    CHECK(cpu.reg.l == 162);
    CHECK(cpu.pc == 54774);
    CHECK(cpu.sp == 40333);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[54773] == 27);
}

TEST_CASE( "1B 0223", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24985;
    cpu.sp = 33878;
    cpu.reg.a = 137;
    cpu.reg.b = 163;
    cpu.reg.c = 135;
    cpu.reg.d = 132;
    cpu.reg.e = 72;
    cpu.reg.f = 160;
    cpu.reg.h = 26;
    cpu.reg.l = 148;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[24985] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 137);
    CHECK(cpu.reg.b == 163);
    CHECK(cpu.reg.c == 135);
    CHECK(cpu.reg.d == 132);
    CHECK(cpu.reg.e == 71);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 26);
    CHECK(cpu.reg.l == 148);
    CHECK(cpu.pc == 24986);
    CHECK(cpu.sp == 33878);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24985] == 27);
}

TEST_CASE( "1B 0224", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45255;
    cpu.sp = 10737;
    cpu.reg.a = 49;
    cpu.reg.b = 161;
    cpu.reg.c = 230;
    cpu.reg.d = 187;
    cpu.reg.e = 124;
    cpu.reg.f = 0;
    cpu.reg.h = 211;
    cpu.reg.l = 86;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[45255] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 49);
    CHECK(cpu.reg.b == 161);
    CHECK(cpu.reg.c == 230);
    CHECK(cpu.reg.d == 187);
    CHECK(cpu.reg.e == 123);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 211);
    CHECK(cpu.reg.l == 86);
    CHECK(cpu.pc == 45256);
    CHECK(cpu.sp == 10737);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45255] == 27);
}

TEST_CASE( "1B 0225", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22492;
    cpu.sp = 57684;
    cpu.reg.a = 23;
    cpu.reg.b = 121;
    cpu.reg.c = 77;
    cpu.reg.d = 114;
    cpu.reg.e = 46;
    cpu.reg.f = 0;
    cpu.reg.h = 245;
    cpu.reg.l = 109;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[22492] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 23);
    CHECK(cpu.reg.b == 121);
    CHECK(cpu.reg.c == 77);
    CHECK(cpu.reg.d == 114);
    CHECK(cpu.reg.e == 45);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 245);
    CHECK(cpu.reg.l == 109);
    CHECK(cpu.pc == 22493);
    CHECK(cpu.sp == 57684);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22492] == 27);
}

TEST_CASE( "1B 0226", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54835;
    cpu.sp = 37773;
    cpu.reg.a = 246;
    cpu.reg.b = 193;
    cpu.reg.c = 172;
    cpu.reg.d = 172;
    cpu.reg.e = 241;
    cpu.reg.f = 176;
    cpu.reg.h = 166;
    cpu.reg.l = 44;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[54835] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 246);
    CHECK(cpu.reg.b == 193);
    CHECK(cpu.reg.c == 172);
    CHECK(cpu.reg.d == 172);
    CHECK(cpu.reg.e == 240);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 166);
    CHECK(cpu.reg.l == 44);
    CHECK(cpu.pc == 54836);
    CHECK(cpu.sp == 37773);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54835] == 27);
}

TEST_CASE( "1B 0227", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42585;
    cpu.sp = 25086;
    cpu.reg.a = 242;
    cpu.reg.b = 190;
    cpu.reg.c = 228;
    cpu.reg.d = 231;
    cpu.reg.e = 6;
    cpu.reg.f = 16;
    cpu.reg.h = 79;
    cpu.reg.l = 34;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[42585] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 242);
    CHECK(cpu.reg.b == 190);
    CHECK(cpu.reg.c == 228);
    CHECK(cpu.reg.d == 231);
    CHECK(cpu.reg.e == 5);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 79);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 42586);
    CHECK(cpu.sp == 25086);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[42585] == 27);
}

TEST_CASE( "1B 0228", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12260;
    cpu.sp = 41811;
    cpu.reg.a = 217;
    cpu.reg.b = 202;
    cpu.reg.c = 224;
    cpu.reg.d = 222;
    cpu.reg.e = 50;
    cpu.reg.f = 0;
    cpu.reg.h = 58;
    cpu.reg.l = 205;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[12260] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 217);
    CHECK(cpu.reg.b == 202);
    CHECK(cpu.reg.c == 224);
    CHECK(cpu.reg.d == 222);
    CHECK(cpu.reg.e == 49);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 58);
    CHECK(cpu.reg.l == 205);
    CHECK(cpu.pc == 12261);
    CHECK(cpu.sp == 41811);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12260] == 27);
}

TEST_CASE( "1B 0229", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59228;
    cpu.sp = 34822;
    cpu.reg.a = 152;
    cpu.reg.b = 237;
    cpu.reg.c = 201;
    cpu.reg.d = 46;
    cpu.reg.e = 66;
    cpu.reg.f = 240;
    cpu.reg.h = 207;
    cpu.reg.l = 185;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[59228] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 152);
    CHECK(cpu.reg.b == 237);
    CHECK(cpu.reg.c == 201);
    CHECK(cpu.reg.d == 46);
    CHECK(cpu.reg.e == 65);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 207);
    CHECK(cpu.reg.l == 185);
    CHECK(cpu.pc == 59229);
    CHECK(cpu.sp == 34822);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[59228] == 27);
}

TEST_CASE( "1B 022A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3970;
    cpu.sp = 51694;
    cpu.reg.a = 13;
    cpu.reg.b = 138;
    cpu.reg.c = 110;
    cpu.reg.d = 247;
    cpu.reg.e = 101;
    cpu.reg.f = 48;
    cpu.reg.h = 22;
    cpu.reg.l = 178;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[3970] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 13);
    CHECK(cpu.reg.b == 138);
    CHECK(cpu.reg.c == 110);
    CHECK(cpu.reg.d == 247);
    CHECK(cpu.reg.e == 100);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 22);
    CHECK(cpu.reg.l == 178);
    CHECK(cpu.pc == 3971);
    CHECK(cpu.sp == 51694);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3970] == 27);
}

TEST_CASE( "1B 022B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59066;
    cpu.sp = 2974;
    cpu.reg.a = 50;
    cpu.reg.b = 252;
    cpu.reg.c = 96;
    cpu.reg.d = 101;
    cpu.reg.e = 168;
    cpu.reg.f = 176;
    cpu.reg.h = 229;
    cpu.reg.l = 174;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[59066] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 50);
    CHECK(cpu.reg.b == 252);
    CHECK(cpu.reg.c == 96);
    CHECK(cpu.reg.d == 101);
    CHECK(cpu.reg.e == 167);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 229);
    CHECK(cpu.reg.l == 174);
    CHECK(cpu.pc == 59067);
    CHECK(cpu.sp == 2974);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[59066] == 27);
}

TEST_CASE( "1B 022C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5862;
    cpu.sp = 27157;
    cpu.reg.a = 113;
    cpu.reg.b = 27;
    cpu.reg.c = 211;
    cpu.reg.d = 168;
    cpu.reg.e = 9;
    cpu.reg.f = 224;
    cpu.reg.h = 19;
    cpu.reg.l = 48;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[5862] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 113);
    CHECK(cpu.reg.b == 27);
    CHECK(cpu.reg.c == 211);
    CHECK(cpu.reg.d == 168);
    CHECK(cpu.reg.e == 8);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 19);
    CHECK(cpu.reg.l == 48);
    CHECK(cpu.pc == 5863);
    CHECK(cpu.sp == 27157);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5862] == 27);
}

TEST_CASE( "1B 022D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52368;
    cpu.sp = 58495;
    cpu.reg.a = 249;
    cpu.reg.b = 63;
    cpu.reg.c = 165;
    cpu.reg.d = 79;
    cpu.reg.e = 141;
    cpu.reg.f = 16;
    cpu.reg.h = 133;
    cpu.reg.l = 144;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[52368] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 249);
    CHECK(cpu.reg.b == 63);
    CHECK(cpu.reg.c == 165);
    CHECK(cpu.reg.d == 79);
    CHECK(cpu.reg.e == 140);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 133);
    CHECK(cpu.reg.l == 144);
    CHECK(cpu.pc == 52369);
    CHECK(cpu.sp == 58495);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[52368] == 27);
}

TEST_CASE( "1B 022E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56219;
    cpu.sp = 3298;
    cpu.reg.a = 80;
    cpu.reg.b = 133;
    cpu.reg.c = 170;
    cpu.reg.d = 112;
    cpu.reg.e = 0;
    cpu.reg.f = 16;
    cpu.reg.h = 59;
    cpu.reg.l = 61;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[56219] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 80);
    CHECK(cpu.reg.b == 133);
    CHECK(cpu.reg.c == 170);
    CHECK(cpu.reg.d == 111);
    CHECK(cpu.reg.e == 255);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 59);
    CHECK(cpu.reg.l == 61);
    CHECK(cpu.pc == 56220);
    CHECK(cpu.sp == 3298);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56219] == 27);
}

TEST_CASE( "1B 022F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29097;
    cpu.sp = 75;
    cpu.reg.a = 59;
    cpu.reg.b = 90;
    cpu.reg.c = 215;
    cpu.reg.d = 91;
    cpu.reg.e = 30;
    cpu.reg.f = 96;
    cpu.reg.h = 147;
    cpu.reg.l = 243;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[29097] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 59);
    CHECK(cpu.reg.b == 90);
    CHECK(cpu.reg.c == 215);
    CHECK(cpu.reg.d == 91);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 147);
    CHECK(cpu.reg.l == 243);
    CHECK(cpu.pc == 29098);
    CHECK(cpu.sp == 75);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29097] == 27);
}

TEST_CASE( "1B 0230", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11418;
    cpu.sp = 43330;
    cpu.reg.a = 232;
    cpu.reg.b = 50;
    cpu.reg.c = 104;
    cpu.reg.d = 15;
    cpu.reg.e = 56;
    cpu.reg.f = 192;
    cpu.reg.h = 239;
    cpu.reg.l = 142;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[11418] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 232);
    CHECK(cpu.reg.b == 50);
    CHECK(cpu.reg.c == 104);
    CHECK(cpu.reg.d == 15);
    CHECK(cpu.reg.e == 55);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 239);
    CHECK(cpu.reg.l == 142);
    CHECK(cpu.pc == 11419);
    CHECK(cpu.sp == 43330);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11418] == 27);
}

TEST_CASE( "1B 0231", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9732;
    cpu.sp = 13424;
    cpu.reg.a = 153;
    cpu.reg.b = 85;
    cpu.reg.c = 17;
    cpu.reg.d = 20;
    cpu.reg.e = 242;
    cpu.reg.f = 80;
    cpu.reg.h = 123;
    cpu.reg.l = 236;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[9732] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 153);
    CHECK(cpu.reg.b == 85);
    CHECK(cpu.reg.c == 17);
    CHECK(cpu.reg.d == 20);
    CHECK(cpu.reg.e == 241);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 123);
    CHECK(cpu.reg.l == 236);
    CHECK(cpu.pc == 9733);
    CHECK(cpu.sp == 13424);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9732] == 27);
}

TEST_CASE( "1B 0232", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56755;
    cpu.sp = 6151;
    cpu.reg.a = 178;
    cpu.reg.b = 156;
    cpu.reg.c = 178;
    cpu.reg.d = 14;
    cpu.reg.e = 232;
    cpu.reg.f = 16;
    cpu.reg.h = 59;
    cpu.reg.l = 57;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[56755] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 178);
    CHECK(cpu.reg.b == 156);
    CHECK(cpu.reg.c == 178);
    CHECK(cpu.reg.d == 14);
    CHECK(cpu.reg.e == 231);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 59);
    CHECK(cpu.reg.l == 57);
    CHECK(cpu.pc == 56756);
    CHECK(cpu.sp == 6151);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56755] == 27);
}

TEST_CASE( "1B 0233", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6196;
    cpu.sp = 56000;
    cpu.reg.a = 129;
    cpu.reg.b = 242;
    cpu.reg.c = 0;
    cpu.reg.d = 6;
    cpu.reg.e = 14;
    cpu.reg.f = 16;
    cpu.reg.h = 13;
    cpu.reg.l = 165;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[6196] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 129);
    CHECK(cpu.reg.b == 242);
    CHECK(cpu.reg.c == 0);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 13);
    CHECK(cpu.reg.l == 165);
    CHECK(cpu.pc == 6197);
    CHECK(cpu.sp == 56000);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6196] == 27);
}

TEST_CASE( "1B 0234", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32067;
    cpu.sp = 7193;
    cpu.reg.a = 57;
    cpu.reg.b = 82;
    cpu.reg.c = 173;
    cpu.reg.d = 36;
    cpu.reg.e = 205;
    cpu.reg.f = 32;
    cpu.reg.h = 220;
    cpu.reg.l = 217;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[32067] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 57);
    CHECK(cpu.reg.b == 82);
    CHECK(cpu.reg.c == 173);
    CHECK(cpu.reg.d == 36);
    CHECK(cpu.reg.e == 204);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 220);
    CHECK(cpu.reg.l == 217);
    CHECK(cpu.pc == 32068);
    CHECK(cpu.sp == 7193);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32067] == 27);
}

TEST_CASE( "1B 0235", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59001;
    cpu.sp = 32876;
    cpu.reg.a = 151;
    cpu.reg.b = 5;
    cpu.reg.c = 80;
    cpu.reg.d = 67;
    cpu.reg.e = 233;
    cpu.reg.f = 48;
    cpu.reg.h = 79;
    cpu.reg.l = 72;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[59001] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 151);
    CHECK(cpu.reg.b == 5);
    CHECK(cpu.reg.c == 80);
    CHECK(cpu.reg.d == 67);
    CHECK(cpu.reg.e == 232);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 79);
    CHECK(cpu.reg.l == 72);
    CHECK(cpu.pc == 59002);
    CHECK(cpu.sp == 32876);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[59001] == 27);
}

TEST_CASE( "1B 0236", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44458;
    cpu.sp = 11769;
    cpu.reg.a = 83;
    cpu.reg.b = 52;
    cpu.reg.c = 175;
    cpu.reg.d = 190;
    cpu.reg.e = 58;
    cpu.reg.f = 176;
    cpu.reg.h = 91;
    cpu.reg.l = 126;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[44458] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 83);
    CHECK(cpu.reg.b == 52);
    CHECK(cpu.reg.c == 175);
    CHECK(cpu.reg.d == 190);
    CHECK(cpu.reg.e == 57);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 91);
    CHECK(cpu.reg.l == 126);
    CHECK(cpu.pc == 44459);
    CHECK(cpu.sp == 11769);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44458] == 27);
}

TEST_CASE( "1B 0237", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45357;
    cpu.sp = 52282;
    cpu.reg.a = 170;
    cpu.reg.b = 139;
    cpu.reg.c = 4;
    cpu.reg.d = 238;
    cpu.reg.e = 77;
    cpu.reg.f = 208;
    cpu.reg.h = 26;
    cpu.reg.l = 236;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[45357] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 170);
    CHECK(cpu.reg.b == 139);
    CHECK(cpu.reg.c == 4);
    CHECK(cpu.reg.d == 238);
    CHECK(cpu.reg.e == 76);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 26);
    CHECK(cpu.reg.l == 236);
    CHECK(cpu.pc == 45358);
    CHECK(cpu.sp == 52282);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45357] == 27);
}

TEST_CASE( "1B 0238", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64696;
    cpu.sp = 17809;
    cpu.reg.a = 232;
    cpu.reg.b = 74;
    cpu.reg.c = 171;
    cpu.reg.d = 177;
    cpu.reg.e = 4;
    cpu.reg.f = 208;
    cpu.reg.h = 99;
    cpu.reg.l = 20;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[64696] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 232);
    CHECK(cpu.reg.b == 74);
    CHECK(cpu.reg.c == 171);
    CHECK(cpu.reg.d == 177);
    CHECK(cpu.reg.e == 3);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 99);
    CHECK(cpu.reg.l == 20);
    CHECK(cpu.pc == 64697);
    CHECK(cpu.sp == 17809);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[64696] == 27);
}

TEST_CASE( "1B 0239", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55492;
    cpu.sp = 47098;
    cpu.reg.a = 48;
    cpu.reg.b = 55;
    cpu.reg.c = 2;
    cpu.reg.d = 243;
    cpu.reg.e = 212;
    cpu.reg.f = 208;
    cpu.reg.h = 110;
    cpu.reg.l = 208;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[55492] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 48);
    CHECK(cpu.reg.b == 55);
    CHECK(cpu.reg.c == 2);
    CHECK(cpu.reg.d == 243);
    CHECK(cpu.reg.e == 211);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 110);
    CHECK(cpu.reg.l == 208);
    CHECK(cpu.pc == 55493);
    CHECK(cpu.sp == 47098);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55492] == 27);
}

TEST_CASE( "1B 023A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48195;
    cpu.sp = 10678;
    cpu.reg.a = 13;
    cpu.reg.b = 73;
    cpu.reg.c = 39;
    cpu.reg.d = 62;
    cpu.reg.e = 248;
    cpu.reg.f = 240;
    cpu.reg.h = 194;
    cpu.reg.l = 223;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[48195] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 13);
    CHECK(cpu.reg.b == 73);
    CHECK(cpu.reg.c == 39);
    CHECK(cpu.reg.d == 62);
    CHECK(cpu.reg.e == 247);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 194);
    CHECK(cpu.reg.l == 223);
    CHECK(cpu.pc == 48196);
    CHECK(cpu.sp == 10678);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[48195] == 27);
}

TEST_CASE( "1B 023B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5540;
    cpu.sp = 63632;
    cpu.reg.a = 44;
    cpu.reg.b = 19;
    cpu.reg.c = 31;
    cpu.reg.d = 93;
    cpu.reg.e = 88;
    cpu.reg.f = 112;
    cpu.reg.h = 176;
    cpu.reg.l = 226;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5540] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 44);
    CHECK(cpu.reg.b == 19);
    CHECK(cpu.reg.c == 31);
    CHECK(cpu.reg.d == 93);
    CHECK(cpu.reg.e == 87);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 176);
    CHECK(cpu.reg.l == 226);
    CHECK(cpu.pc == 5541);
    CHECK(cpu.sp == 63632);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5540] == 27);
}

TEST_CASE( "1B 023C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21299;
    cpu.sp = 21873;
    cpu.reg.a = 235;
    cpu.reg.b = 38;
    cpu.reg.c = 50;
    cpu.reg.d = 227;
    cpu.reg.e = 20;
    cpu.reg.f = 96;
    cpu.reg.h = 86;
    cpu.reg.l = 226;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[21299] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 235);
    CHECK(cpu.reg.b == 38);
    CHECK(cpu.reg.c == 50);
    CHECK(cpu.reg.d == 227);
    CHECK(cpu.reg.e == 19);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 86);
    CHECK(cpu.reg.l == 226);
    CHECK(cpu.pc == 21300);
    CHECK(cpu.sp == 21873);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21299] == 27);
}

TEST_CASE( "1B 023D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33239;
    cpu.sp = 31619;
    cpu.reg.a = 221;
    cpu.reg.b = 52;
    cpu.reg.c = 61;
    cpu.reg.d = 3;
    cpu.reg.e = 98;
    cpu.reg.f = 80;
    cpu.reg.h = 159;
    cpu.reg.l = 182;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[33239] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 221);
    CHECK(cpu.reg.b == 52);
    CHECK(cpu.reg.c == 61);
    CHECK(cpu.reg.d == 3);
    CHECK(cpu.reg.e == 97);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 159);
    CHECK(cpu.reg.l == 182);
    CHECK(cpu.pc == 33240);
    CHECK(cpu.sp == 31619);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33239] == 27);
}

TEST_CASE( "1B 023E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12085;
    cpu.sp = 5286;
    cpu.reg.a = 131;
    cpu.reg.b = 55;
    cpu.reg.c = 136;
    cpu.reg.d = 79;
    cpu.reg.e = 17;
    cpu.reg.f = 144;
    cpu.reg.h = 194;
    cpu.reg.l = 229;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[12085] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 131);
    CHECK(cpu.reg.b == 55);
    CHECK(cpu.reg.c == 136);
    CHECK(cpu.reg.d == 79);
    CHECK(cpu.reg.e == 16);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 194);
    CHECK(cpu.reg.l == 229);
    CHECK(cpu.pc == 12086);
    CHECK(cpu.sp == 5286);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12085] == 27);
}

TEST_CASE( "1B 023F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63692;
    cpu.sp = 39612;
    cpu.reg.a = 5;
    cpu.reg.b = 31;
    cpu.reg.c = 203;
    cpu.reg.d = 197;
    cpu.reg.e = 237;
    cpu.reg.f = 208;
    cpu.reg.h = 89;
    cpu.reg.l = 119;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[63692] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 5);
    CHECK(cpu.reg.b == 31);
    CHECK(cpu.reg.c == 203);
    CHECK(cpu.reg.d == 197);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 89);
    CHECK(cpu.reg.l == 119);
    CHECK(cpu.pc == 63693);
    CHECK(cpu.sp == 39612);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[63692] == 27);
}

TEST_CASE( "1B 0240", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30769;
    cpu.sp = 39695;
    cpu.reg.a = 110;
    cpu.reg.b = 134;
    cpu.reg.c = 92;
    cpu.reg.d = 51;
    cpu.reg.e = 44;
    cpu.reg.f = 64;
    cpu.reg.h = 172;
    cpu.reg.l = 16;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[30769] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 110);
    CHECK(cpu.reg.b == 134);
    CHECK(cpu.reg.c == 92);
    CHECK(cpu.reg.d == 51);
    CHECK(cpu.reg.e == 43);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 172);
    CHECK(cpu.reg.l == 16);
    CHECK(cpu.pc == 30770);
    CHECK(cpu.sp == 39695);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30769] == 27);
}

TEST_CASE( "1B 0241", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34007;
    cpu.sp = 29855;
    cpu.reg.a = 90;
    cpu.reg.b = 155;
    cpu.reg.c = 74;
    cpu.reg.d = 113;
    cpu.reg.e = 138;
    cpu.reg.f = 224;
    cpu.reg.h = 210;
    cpu.reg.l = 40;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[34007] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 90);
    CHECK(cpu.reg.b == 155);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 113);
    CHECK(cpu.reg.e == 137);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 210);
    CHECK(cpu.reg.l == 40);
    CHECK(cpu.pc == 34008);
    CHECK(cpu.sp == 29855);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[34007] == 27);
}

TEST_CASE( "1B 0242", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35469;
    cpu.sp = 49041;
    cpu.reg.a = 23;
    cpu.reg.b = 181;
    cpu.reg.c = 97;
    cpu.reg.d = 3;
    cpu.reg.e = 175;
    cpu.reg.f = 64;
    cpu.reg.h = 115;
    cpu.reg.l = 8;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[35469] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 23);
    CHECK(cpu.reg.b == 181);
    CHECK(cpu.reg.c == 97);
    CHECK(cpu.reg.d == 3);
    CHECK(cpu.reg.e == 174);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 115);
    CHECK(cpu.reg.l == 8);
    CHECK(cpu.pc == 35470);
    CHECK(cpu.sp == 49041);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35469] == 27);
}

TEST_CASE( "1B 0243", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27705;
    cpu.sp = 40363;
    cpu.reg.a = 157;
    cpu.reg.b = 43;
    cpu.reg.c = 46;
    cpu.reg.d = 77;
    cpu.reg.e = 96;
    cpu.reg.f = 128;
    cpu.reg.h = 82;
    cpu.reg.l = 244;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[27705] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 157);
    CHECK(cpu.reg.b == 43);
    CHECK(cpu.reg.c == 46);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 95);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 82);
    CHECK(cpu.reg.l == 244);
    CHECK(cpu.pc == 27706);
    CHECK(cpu.sp == 40363);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27705] == 27);
}

TEST_CASE( "1B 0244", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18519;
    cpu.sp = 64021;
    cpu.reg.a = 0;
    cpu.reg.b = 241;
    cpu.reg.c = 180;
    cpu.reg.d = 17;
    cpu.reg.e = 185;
    cpu.reg.f = 240;
    cpu.reg.h = 202;
    cpu.reg.l = 244;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[18519] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 0);
    CHECK(cpu.reg.b == 241);
    CHECK(cpu.reg.c == 180);
    CHECK(cpu.reg.d == 17);
    CHECK(cpu.reg.e == 184);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 202);
    CHECK(cpu.reg.l == 244);
    CHECK(cpu.pc == 18520);
    CHECK(cpu.sp == 64021);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[18519] == 27);
}

TEST_CASE( "1B 0245", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24612;
    cpu.sp = 54772;
    cpu.reg.a = 72;
    cpu.reg.b = 100;
    cpu.reg.c = 172;
    cpu.reg.d = 152;
    cpu.reg.e = 216;
    cpu.reg.f = 176;
    cpu.reg.h = 127;
    cpu.reg.l = 204;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[24612] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 72);
    CHECK(cpu.reg.b == 100);
    CHECK(cpu.reg.c == 172);
    CHECK(cpu.reg.d == 152);
    CHECK(cpu.reg.e == 215);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 127);
    CHECK(cpu.reg.l == 204);
    CHECK(cpu.pc == 24613);
    CHECK(cpu.sp == 54772);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24612] == 27);
}

TEST_CASE( "1B 0246", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9012;
    cpu.sp = 44204;
    cpu.reg.a = 118;
    cpu.reg.b = 51;
    cpu.reg.c = 67;
    cpu.reg.d = 247;
    cpu.reg.e = 102;
    cpu.reg.f = 160;
    cpu.reg.h = 183;
    cpu.reg.l = 97;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[9012] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 118);
    CHECK(cpu.reg.b == 51);
    CHECK(cpu.reg.c == 67);
    CHECK(cpu.reg.d == 247);
    CHECK(cpu.reg.e == 101);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 183);
    CHECK(cpu.reg.l == 97);
    CHECK(cpu.pc == 9013);
    CHECK(cpu.sp == 44204);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9012] == 27);
}

TEST_CASE( "1B 0247", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27030;
    cpu.sp = 25567;
    cpu.reg.a = 104;
    cpu.reg.b = 121;
    cpu.reg.c = 127;
    cpu.reg.d = 11;
    cpu.reg.e = 119;
    cpu.reg.f = 80;
    cpu.reg.h = 221;
    cpu.reg.l = 182;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[27030] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 104);
    CHECK(cpu.reg.b == 121);
    CHECK(cpu.reg.c == 127);
    CHECK(cpu.reg.d == 11);
    CHECK(cpu.reg.e == 118);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 221);
    CHECK(cpu.reg.l == 182);
    CHECK(cpu.pc == 27031);
    CHECK(cpu.sp == 25567);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27030] == 27);
}

TEST_CASE( "1B 0248", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60710;
    cpu.sp = 31224;
    cpu.reg.a = 231;
    cpu.reg.b = 72;
    cpu.reg.c = 10;
    cpu.reg.d = 244;
    cpu.reg.e = 75;
    cpu.reg.f = 176;
    cpu.reg.h = 206;
    cpu.reg.l = 245;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[60710] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 231);
    CHECK(cpu.reg.b == 72);
    CHECK(cpu.reg.c == 10);
    CHECK(cpu.reg.d == 244);
    CHECK(cpu.reg.e == 74);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 206);
    CHECK(cpu.reg.l == 245);
    CHECK(cpu.pc == 60711);
    CHECK(cpu.sp == 31224);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60710] == 27);
}

TEST_CASE( "1B 0249", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63764;
    cpu.sp = 59224;
    cpu.reg.a = 173;
    cpu.reg.b = 99;
    cpu.reg.c = 26;
    cpu.reg.d = 199;
    cpu.reg.e = 14;
    cpu.reg.f = 208;
    cpu.reg.h = 207;
    cpu.reg.l = 84;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[63764] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 173);
    CHECK(cpu.reg.b == 99);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 199);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 207);
    CHECK(cpu.reg.l == 84);
    CHECK(cpu.pc == 63765);
    CHECK(cpu.sp == 59224);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[63764] == 27);
}

TEST_CASE( "1B 024A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 980;
    cpu.sp = 50869;
    cpu.reg.a = 89;
    cpu.reg.b = 208;
    cpu.reg.c = 147;
    cpu.reg.d = 122;
    cpu.reg.e = 197;
    cpu.reg.f = 96;
    cpu.reg.h = 50;
    cpu.reg.l = 93;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[980] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 89);
    CHECK(cpu.reg.b == 208);
    CHECK(cpu.reg.c == 147);
    CHECK(cpu.reg.d == 122);
    CHECK(cpu.reg.e == 196);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 50);
    CHECK(cpu.reg.l == 93);
    CHECK(cpu.pc == 981);
    CHECK(cpu.sp == 50869);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[980] == 27);
}

TEST_CASE( "1B 024B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37974;
    cpu.sp = 2463;
    cpu.reg.a = 109;
    cpu.reg.b = 77;
    cpu.reg.c = 88;
    cpu.reg.d = 194;
    cpu.reg.e = 105;
    cpu.reg.f = 0;
    cpu.reg.h = 17;
    cpu.reg.l = 52;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[37974] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 109);
    CHECK(cpu.reg.b == 77);
    CHECK(cpu.reg.c == 88);
    CHECK(cpu.reg.d == 194);
    CHECK(cpu.reg.e == 104);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 52);
    CHECK(cpu.pc == 37975);
    CHECK(cpu.sp == 2463);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[37974] == 27);
}

TEST_CASE( "1B 024C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60699;
    cpu.sp = 61468;
    cpu.reg.a = 90;
    cpu.reg.b = 163;
    cpu.reg.c = 234;
    cpu.reg.d = 44;
    cpu.reg.e = 36;
    cpu.reg.f = 64;
    cpu.reg.h = 36;
    cpu.reg.l = 59;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[60699] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 90);
    CHECK(cpu.reg.b == 163);
    CHECK(cpu.reg.c == 234);
    CHECK(cpu.reg.d == 44);
    CHECK(cpu.reg.e == 35);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 36);
    CHECK(cpu.reg.l == 59);
    CHECK(cpu.pc == 60700);
    CHECK(cpu.sp == 61468);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60699] == 27);
}

TEST_CASE( "1B 024D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48518;
    cpu.sp = 58256;
    cpu.reg.a = 224;
    cpu.reg.b = 78;
    cpu.reg.c = 14;
    cpu.reg.d = 223;
    cpu.reg.e = 10;
    cpu.reg.f = 48;
    cpu.reg.h = 182;
    cpu.reg.l = 102;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[48518] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 78);
    CHECK(cpu.reg.c == 14);
    CHECK(cpu.reg.d == 223);
    CHECK(cpu.reg.e == 9);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 182);
    CHECK(cpu.reg.l == 102);
    CHECK(cpu.pc == 48519);
    CHECK(cpu.sp == 58256);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48518] == 27);
}

TEST_CASE( "1B 024E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43935;
    cpu.sp = 22030;
    cpu.reg.a = 150;
    cpu.reg.b = 148;
    cpu.reg.c = 57;
    cpu.reg.d = 39;
    cpu.reg.e = 27;
    cpu.reg.f = 112;
    cpu.reg.h = 113;
    cpu.reg.l = 220;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[43935] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 150);
    CHECK(cpu.reg.b == 148);
    CHECK(cpu.reg.c == 57);
    CHECK(cpu.reg.d == 39);
    CHECK(cpu.reg.e == 26);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 113);
    CHECK(cpu.reg.l == 220);
    CHECK(cpu.pc == 43936);
    CHECK(cpu.sp == 22030);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[43935] == 27);
}

TEST_CASE( "1B 024F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9479;
    cpu.sp = 36664;
    cpu.reg.a = 156;
    cpu.reg.b = 60;
    cpu.reg.c = 117;
    cpu.reg.d = 127;
    cpu.reg.e = 136;
    cpu.reg.f = 160;
    cpu.reg.h = 71;
    cpu.reg.l = 32;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[9479] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 156);
    CHECK(cpu.reg.b == 60);
    CHECK(cpu.reg.c == 117);
    CHECK(cpu.reg.d == 127);
    CHECK(cpu.reg.e == 135);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 71);
    CHECK(cpu.reg.l == 32);
    CHECK(cpu.pc == 9480);
    CHECK(cpu.sp == 36664);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9479] == 27);
}

TEST_CASE( "1B 0250", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47206;
    cpu.sp = 27272;
    cpu.reg.a = 232;
    cpu.reg.b = 115;
    cpu.reg.c = 203;
    cpu.reg.d = 83;
    cpu.reg.e = 80;
    cpu.reg.f = 16;
    cpu.reg.h = 4;
    cpu.reg.l = 145;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47206] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 232);
    CHECK(cpu.reg.b == 115);
    CHECK(cpu.reg.c == 203);
    CHECK(cpu.reg.d == 83);
    CHECK(cpu.reg.e == 79);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 4);
    CHECK(cpu.reg.l == 145);
    CHECK(cpu.pc == 47207);
    CHECK(cpu.sp == 27272);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47206] == 27);
}

TEST_CASE( "1B 0251", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30105;
    cpu.sp = 57440;
    cpu.reg.a = 238;
    cpu.reg.b = 237;
    cpu.reg.c = 234;
    cpu.reg.d = 92;
    cpu.reg.e = 235;
    cpu.reg.f = 128;
    cpu.reg.h = 122;
    cpu.reg.l = 23;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[30105] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 238);
    CHECK(cpu.reg.b == 237);
    CHECK(cpu.reg.c == 234);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 234);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 122);
    CHECK(cpu.reg.l == 23);
    CHECK(cpu.pc == 30106);
    CHECK(cpu.sp == 57440);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30105] == 27);
}

TEST_CASE( "1B 0252", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8852;
    cpu.sp = 37631;
    cpu.reg.a = 32;
    cpu.reg.b = 174;
    cpu.reg.c = 6;
    cpu.reg.d = 199;
    cpu.reg.e = 234;
    cpu.reg.f = 224;
    cpu.reg.h = 148;
    cpu.reg.l = 69;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[8852] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 32);
    CHECK(cpu.reg.b == 174);
    CHECK(cpu.reg.c == 6);
    CHECK(cpu.reg.d == 199);
    CHECK(cpu.reg.e == 233);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 148);
    CHECK(cpu.reg.l == 69);
    CHECK(cpu.pc == 8853);
    CHECK(cpu.sp == 37631);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8852] == 27);
}

TEST_CASE( "1B 0253", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13793;
    cpu.sp = 25450;
    cpu.reg.a = 35;
    cpu.reg.b = 89;
    cpu.reg.c = 64;
    cpu.reg.d = 60;
    cpu.reg.e = 42;
    cpu.reg.f = 112;
    cpu.reg.h = 123;
    cpu.reg.l = 138;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[13793] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 35);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 64);
    CHECK(cpu.reg.d == 60);
    CHECK(cpu.reg.e == 41);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 123);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 13794);
    CHECK(cpu.sp == 25450);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13793] == 27);
}

TEST_CASE( "1B 0254", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7686;
    cpu.sp = 45724;
    cpu.reg.a = 221;
    cpu.reg.b = 81;
    cpu.reg.c = 223;
    cpu.reg.d = 108;
    cpu.reg.e = 7;
    cpu.reg.f = 176;
    cpu.reg.h = 113;
    cpu.reg.l = 5;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[7686] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 221);
    CHECK(cpu.reg.b == 81);
    CHECK(cpu.reg.c == 223);
    CHECK(cpu.reg.d == 108);
    CHECK(cpu.reg.e == 6);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 113);
    CHECK(cpu.reg.l == 5);
    CHECK(cpu.pc == 7687);
    CHECK(cpu.sp == 45724);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7686] == 27);
}

TEST_CASE( "1B 0255", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40645;
    cpu.sp = 42420;
    cpu.reg.a = 182;
    cpu.reg.b = 118;
    cpu.reg.c = 227;
    cpu.reg.d = 96;
    cpu.reg.e = 165;
    cpu.reg.f = 240;
    cpu.reg.h = 189;
    cpu.reg.l = 205;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[40645] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 182);
    CHECK(cpu.reg.b == 118);
    CHECK(cpu.reg.c == 227);
    CHECK(cpu.reg.d == 96);
    CHECK(cpu.reg.e == 164);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 189);
    CHECK(cpu.reg.l == 205);
    CHECK(cpu.pc == 40646);
    CHECK(cpu.sp == 42420);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40645] == 27);
}

TEST_CASE( "1B 0256", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51924;
    cpu.sp = 21743;
    cpu.reg.a = 223;
    cpu.reg.b = 228;
    cpu.reg.c = 194;
    cpu.reg.d = 0;
    cpu.reg.e = 4;
    cpu.reg.f = 64;
    cpu.reg.h = 127;
    cpu.reg.l = 96;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[51924] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 223);
    CHECK(cpu.reg.b == 228);
    CHECK(cpu.reg.c == 194);
    CHECK(cpu.reg.d == 0);
    CHECK(cpu.reg.e == 3);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 127);
    CHECK(cpu.reg.l == 96);
    CHECK(cpu.pc == 51925);
    CHECK(cpu.sp == 21743);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51924] == 27);
}

TEST_CASE( "1B 0257", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40007;
    cpu.sp = 53266;
    cpu.reg.a = 42;
    cpu.reg.b = 243;
    cpu.reg.c = 38;
    cpu.reg.d = 212;
    cpu.reg.e = 225;
    cpu.reg.f = 128;
    cpu.reg.h = 213;
    cpu.reg.l = 96;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[40007] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 42);
    CHECK(cpu.reg.b == 243);
    CHECK(cpu.reg.c == 38);
    CHECK(cpu.reg.d == 212);
    CHECK(cpu.reg.e == 224);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 213);
    CHECK(cpu.reg.l == 96);
    CHECK(cpu.pc == 40008);
    CHECK(cpu.sp == 53266);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40007] == 27);
}

TEST_CASE( "1B 0258", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31729;
    cpu.sp = 20926;
    cpu.reg.a = 214;
    cpu.reg.b = 121;
    cpu.reg.c = 6;
    cpu.reg.d = 127;
    cpu.reg.e = 237;
    cpu.reg.f = 192;
    cpu.reg.h = 32;
    cpu.reg.l = 184;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[31729] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 214);
    CHECK(cpu.reg.b == 121);
    CHECK(cpu.reg.c == 6);
    CHECK(cpu.reg.d == 127);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 32);
    CHECK(cpu.reg.l == 184);
    CHECK(cpu.pc == 31730);
    CHECK(cpu.sp == 20926);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31729] == 27);
}

TEST_CASE( "1B 0259", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5472;
    cpu.sp = 15551;
    cpu.reg.a = 40;
    cpu.reg.b = 29;
    cpu.reg.c = 54;
    cpu.reg.d = 51;
    cpu.reg.e = 184;
    cpu.reg.f = 160;
    cpu.reg.h = 12;
    cpu.reg.l = 204;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5472] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 40);
    CHECK(cpu.reg.b == 29);
    CHECK(cpu.reg.c == 54);
    CHECK(cpu.reg.d == 51);
    CHECK(cpu.reg.e == 183);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 12);
    CHECK(cpu.reg.l == 204);
    CHECK(cpu.pc == 5473);
    CHECK(cpu.sp == 15551);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5472] == 27);
}

TEST_CASE( "1B 025A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49293;
    cpu.sp = 58929;
    cpu.reg.a = 232;
    cpu.reg.b = 200;
    cpu.reg.c = 111;
    cpu.reg.d = 124;
    cpu.reg.e = 69;
    cpu.reg.f = 64;
    cpu.reg.h = 44;
    cpu.reg.l = 25;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[49293] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 232);
    CHECK(cpu.reg.b == 200);
    CHECK(cpu.reg.c == 111);
    CHECK(cpu.reg.d == 124);
    CHECK(cpu.reg.e == 68);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 44);
    CHECK(cpu.reg.l == 25);
    CHECK(cpu.pc == 49294);
    CHECK(cpu.sp == 58929);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49293] == 27);
}

TEST_CASE( "1B 025B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7140;
    cpu.sp = 22692;
    cpu.reg.a = 17;
    cpu.reg.b = 81;
    cpu.reg.c = 49;
    cpu.reg.d = 124;
    cpu.reg.e = 27;
    cpu.reg.f = 80;
    cpu.reg.h = 104;
    cpu.reg.l = 123;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[7140] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 17);
    CHECK(cpu.reg.b == 81);
    CHECK(cpu.reg.c == 49);
    CHECK(cpu.reg.d == 124);
    CHECK(cpu.reg.e == 26);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 104);
    CHECK(cpu.reg.l == 123);
    CHECK(cpu.pc == 7141);
    CHECK(cpu.sp == 22692);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7140] == 27);
}

TEST_CASE( "1B 025C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9147;
    cpu.sp = 54651;
    cpu.reg.a = 176;
    cpu.reg.b = 86;
    cpu.reg.c = 93;
    cpu.reg.d = 172;
    cpu.reg.e = 192;
    cpu.reg.f = 32;
    cpu.reg.h = 79;
    cpu.reg.l = 72;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[9147] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 176);
    CHECK(cpu.reg.b == 86);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 172);
    CHECK(cpu.reg.e == 191);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 79);
    CHECK(cpu.reg.l == 72);
    CHECK(cpu.pc == 9148);
    CHECK(cpu.sp == 54651);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9147] == 27);
}

TEST_CASE( "1B 025D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35930;
    cpu.sp = 62754;
    cpu.reg.a = 164;
    cpu.reg.b = 30;
    cpu.reg.c = 17;
    cpu.reg.d = 148;
    cpu.reg.e = 189;
    cpu.reg.f = 0;
    cpu.reg.h = 68;
    cpu.reg.l = 227;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[35930] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 164);
    CHECK(cpu.reg.b == 30);
    CHECK(cpu.reg.c == 17);
    CHECK(cpu.reg.d == 148);
    CHECK(cpu.reg.e == 188);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 68);
    CHECK(cpu.reg.l == 227);
    CHECK(cpu.pc == 35931);
    CHECK(cpu.sp == 62754);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35930] == 27);
}

TEST_CASE( "1B 025E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35481;
    cpu.sp = 38343;
    cpu.reg.a = 157;
    cpu.reg.b = 70;
    cpu.reg.c = 244;
    cpu.reg.d = 13;
    cpu.reg.e = 236;
    cpu.reg.f = 64;
    cpu.reg.h = 207;
    cpu.reg.l = 34;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[35481] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 157);
    CHECK(cpu.reg.b == 70);
    CHECK(cpu.reg.c == 244);
    CHECK(cpu.reg.d == 13);
    CHECK(cpu.reg.e == 235);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 207);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 35482);
    CHECK(cpu.sp == 38343);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35481] == 27);
}

TEST_CASE( "1B 025F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12935;
    cpu.sp = 31462;
    cpu.reg.a = 19;
    cpu.reg.b = 99;
    cpu.reg.c = 120;
    cpu.reg.d = 123;
    cpu.reg.e = 35;
    cpu.reg.f = 32;
    cpu.reg.h = 11;
    cpu.reg.l = 193;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[12935] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 19);
    CHECK(cpu.reg.b == 99);
    CHECK(cpu.reg.c == 120);
    CHECK(cpu.reg.d == 123);
    CHECK(cpu.reg.e == 34);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 11);
    CHECK(cpu.reg.l == 193);
    CHECK(cpu.pc == 12936);
    CHECK(cpu.sp == 31462);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12935] == 27);
}

TEST_CASE( "1B 0260", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38621;
    cpu.sp = 28462;
    cpu.reg.a = 170;
    cpu.reg.b = 85;
    cpu.reg.c = 201;
    cpu.reg.d = 72;
    cpu.reg.e = 233;
    cpu.reg.f = 64;
    cpu.reg.h = 215;
    cpu.reg.l = 69;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[38621] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 170);
    CHECK(cpu.reg.b == 85);
    CHECK(cpu.reg.c == 201);
    CHECK(cpu.reg.d == 72);
    CHECK(cpu.reg.e == 232);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 215);
    CHECK(cpu.reg.l == 69);
    CHECK(cpu.pc == 38622);
    CHECK(cpu.sp == 28462);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38621] == 27);
}

TEST_CASE( "1B 0261", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 101;
    cpu.sp = 36136;
    cpu.reg.a = 58;
    cpu.reg.b = 20;
    cpu.reg.c = 152;
    cpu.reg.d = 77;
    cpu.reg.e = 194;
    cpu.reg.f = 128;
    cpu.reg.h = 149;
    cpu.reg.l = 86;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[101] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 58);
    CHECK(cpu.reg.b == 20);
    CHECK(cpu.reg.c == 152);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 149);
    CHECK(cpu.reg.l == 86);
    CHECK(cpu.pc == 102);
    CHECK(cpu.sp == 36136);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[101] == 27);
}

TEST_CASE( "1B 0262", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48248;
    cpu.sp = 34666;
    cpu.reg.a = 126;
    cpu.reg.b = 183;
    cpu.reg.c = 148;
    cpu.reg.d = 108;
    cpu.reg.e = 235;
    cpu.reg.f = 144;
    cpu.reg.h = 246;
    cpu.reg.l = 31;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[48248] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 126);
    CHECK(cpu.reg.b == 183);
    CHECK(cpu.reg.c == 148);
    CHECK(cpu.reg.d == 108);
    CHECK(cpu.reg.e == 234);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 246);
    CHECK(cpu.reg.l == 31);
    CHECK(cpu.pc == 48249);
    CHECK(cpu.sp == 34666);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48248] == 27);
}

TEST_CASE( "1B 0263", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7121;
    cpu.sp = 54259;
    cpu.reg.a = 198;
    cpu.reg.b = 213;
    cpu.reg.c = 93;
    cpu.reg.d = 145;
    cpu.reg.e = 214;
    cpu.reg.f = 224;
    cpu.reg.h = 141;
    cpu.reg.l = 35;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[7121] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 198);
    CHECK(cpu.reg.b == 213);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 145);
    CHECK(cpu.reg.e == 213);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 141);
    CHECK(cpu.reg.l == 35);
    CHECK(cpu.pc == 7122);
    CHECK(cpu.sp == 54259);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7121] == 27);
}

TEST_CASE( "1B 0264", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23319;
    cpu.sp = 47135;
    cpu.reg.a = 56;
    cpu.reg.b = 145;
    cpu.reg.c = 102;
    cpu.reg.d = 176;
    cpu.reg.e = 16;
    cpu.reg.f = 176;
    cpu.reg.h = 208;
    cpu.reg.l = 213;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[23319] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 56);
    CHECK(cpu.reg.b == 145);
    CHECK(cpu.reg.c == 102);
    CHECK(cpu.reg.d == 176);
    CHECK(cpu.reg.e == 15);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 208);
    CHECK(cpu.reg.l == 213);
    CHECK(cpu.pc == 23320);
    CHECK(cpu.sp == 47135);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23319] == 27);
}

TEST_CASE( "1B 0265", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4223;
    cpu.sp = 34430;
    cpu.reg.a = 57;
    cpu.reg.b = 151;
    cpu.reg.c = 63;
    cpu.reg.d = 107;
    cpu.reg.e = 25;
    cpu.reg.f = 0;
    cpu.reg.h = 124;
    cpu.reg.l = 122;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[4223] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 57);
    CHECK(cpu.reg.b == 151);
    CHECK(cpu.reg.c == 63);
    CHECK(cpu.reg.d == 107);
    CHECK(cpu.reg.e == 24);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 124);
    CHECK(cpu.reg.l == 122);
    CHECK(cpu.pc == 4224);
    CHECK(cpu.sp == 34430);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4223] == 27);
}

TEST_CASE( "1B 0266", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9505;
    cpu.sp = 48983;
    cpu.reg.a = 203;
    cpu.reg.b = 106;
    cpu.reg.c = 111;
    cpu.reg.d = 159;
    cpu.reg.e = 62;
    cpu.reg.f = 128;
    cpu.reg.h = 36;
    cpu.reg.l = 101;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[9505] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 203);
    CHECK(cpu.reg.b == 106);
    CHECK(cpu.reg.c == 111);
    CHECK(cpu.reg.d == 159);
    CHECK(cpu.reg.e == 61);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 36);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 9506);
    CHECK(cpu.sp == 48983);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9505] == 27);
}

TEST_CASE( "1B 0267", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39682;
    cpu.sp = 20991;
    cpu.reg.a = 134;
    cpu.reg.b = 160;
    cpu.reg.c = 174;
    cpu.reg.d = 139;
    cpu.reg.e = 131;
    cpu.reg.f = 240;
    cpu.reg.h = 40;
    cpu.reg.l = 63;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[39682] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 134);
    CHECK(cpu.reg.b == 160);
    CHECK(cpu.reg.c == 174);
    CHECK(cpu.reg.d == 139);
    CHECK(cpu.reg.e == 130);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 40);
    CHECK(cpu.reg.l == 63);
    CHECK(cpu.pc == 39683);
    CHECK(cpu.sp == 20991);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39682] == 27);
}

TEST_CASE( "1B 0268", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7618;
    cpu.sp = 57420;
    cpu.reg.a = 232;
    cpu.reg.b = 244;
    cpu.reg.c = 120;
    cpu.reg.d = 163;
    cpu.reg.e = 45;
    cpu.reg.f = 224;
    cpu.reg.h = 164;
    cpu.reg.l = 192;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[7618] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 232);
    CHECK(cpu.reg.b == 244);
    CHECK(cpu.reg.c == 120);
    CHECK(cpu.reg.d == 163);
    CHECK(cpu.reg.e == 44);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 164);
    CHECK(cpu.reg.l == 192);
    CHECK(cpu.pc == 7619);
    CHECK(cpu.sp == 57420);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7618] == 27);
}

TEST_CASE( "1B 0269", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35044;
    cpu.sp = 56185;
    cpu.reg.a = 82;
    cpu.reg.b = 15;
    cpu.reg.c = 224;
    cpu.reg.d = 55;
    cpu.reg.e = 58;
    cpu.reg.f = 208;
    cpu.reg.h = 1;
    cpu.reg.l = 228;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[35044] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 82);
    CHECK(cpu.reg.b == 15);
    CHECK(cpu.reg.c == 224);
    CHECK(cpu.reg.d == 55);
    CHECK(cpu.reg.e == 57);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 1);
    CHECK(cpu.reg.l == 228);
    CHECK(cpu.pc == 35045);
    CHECK(cpu.sp == 56185);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35044] == 27);
}

TEST_CASE( "1B 026A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15181;
    cpu.sp = 10618;
    cpu.reg.a = 251;
    cpu.reg.b = 146;
    cpu.reg.c = 191;
    cpu.reg.d = 240;
    cpu.reg.e = 67;
    cpu.reg.f = 0;
    cpu.reg.h = 70;
    cpu.reg.l = 198;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[15181] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 251);
    CHECK(cpu.reg.b == 146);
    CHECK(cpu.reg.c == 191);
    CHECK(cpu.reg.d == 240);
    CHECK(cpu.reg.e == 66);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 70);
    CHECK(cpu.reg.l == 198);
    CHECK(cpu.pc == 15182);
    CHECK(cpu.sp == 10618);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15181] == 27);
}

TEST_CASE( "1B 026B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25280;
    cpu.sp = 7292;
    cpu.reg.a = 173;
    cpu.reg.b = 167;
    cpu.reg.c = 119;
    cpu.reg.d = 249;
    cpu.reg.e = 4;
    cpu.reg.f = 144;
    cpu.reg.h = 87;
    cpu.reg.l = 30;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[25280] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 173);
    CHECK(cpu.reg.b == 167);
    CHECK(cpu.reg.c == 119);
    CHECK(cpu.reg.d == 249);
    CHECK(cpu.reg.e == 3);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 87);
    CHECK(cpu.reg.l == 30);
    CHECK(cpu.pc == 25281);
    CHECK(cpu.sp == 7292);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25280] == 27);
}

TEST_CASE( "1B 026C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63178;
    cpu.sp = 24578;
    cpu.reg.a = 47;
    cpu.reg.b = 24;
    cpu.reg.c = 151;
    cpu.reg.d = 248;
    cpu.reg.e = 138;
    cpu.reg.f = 80;
    cpu.reg.h = 166;
    cpu.reg.l = 154;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[63178] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 47);
    CHECK(cpu.reg.b == 24);
    CHECK(cpu.reg.c == 151);
    CHECK(cpu.reg.d == 248);
    CHECK(cpu.reg.e == 137);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 166);
    CHECK(cpu.reg.l == 154);
    CHECK(cpu.pc == 63179);
    CHECK(cpu.sp == 24578);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[63178] == 27);
}

TEST_CASE( "1B 026D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51429;
    cpu.sp = 17569;
    cpu.reg.a = 230;
    cpu.reg.b = 29;
    cpu.reg.c = 88;
    cpu.reg.d = 104;
    cpu.reg.e = 134;
    cpu.reg.f = 160;
    cpu.reg.h = 173;
    cpu.reg.l = 98;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[51429] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 230);
    CHECK(cpu.reg.b == 29);
    CHECK(cpu.reg.c == 88);
    CHECK(cpu.reg.d == 104);
    CHECK(cpu.reg.e == 133);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 173);
    CHECK(cpu.reg.l == 98);
    CHECK(cpu.pc == 51430);
    CHECK(cpu.sp == 17569);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51429] == 27);
}

TEST_CASE( "1B 026E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43889;
    cpu.sp = 3509;
    cpu.reg.a = 149;
    cpu.reg.b = 129;
    cpu.reg.c = 214;
    cpu.reg.d = 250;
    cpu.reg.e = 242;
    cpu.reg.f = 112;
    cpu.reg.h = 136;
    cpu.reg.l = 214;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[43889] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 149);
    CHECK(cpu.reg.b == 129);
    CHECK(cpu.reg.c == 214);
    CHECK(cpu.reg.d == 250);
    CHECK(cpu.reg.e == 241);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 136);
    CHECK(cpu.reg.l == 214);
    CHECK(cpu.pc == 43890);
    CHECK(cpu.sp == 3509);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43889] == 27);
}

TEST_CASE( "1B 026F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9358;
    cpu.sp = 50406;
    cpu.reg.a = 71;
    cpu.reg.b = 124;
    cpu.reg.c = 140;
    cpu.reg.d = 158;
    cpu.reg.e = 133;
    cpu.reg.f = 96;
    cpu.reg.h = 133;
    cpu.reg.l = 13;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[9358] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 71);
    CHECK(cpu.reg.b == 124);
    CHECK(cpu.reg.c == 140);
    CHECK(cpu.reg.d == 158);
    CHECK(cpu.reg.e == 132);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 133);
    CHECK(cpu.reg.l == 13);
    CHECK(cpu.pc == 9359);
    CHECK(cpu.sp == 50406);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9358] == 27);
}

TEST_CASE( "1B 0270", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50998;
    cpu.sp = 34122;
    cpu.reg.a = 190;
    cpu.reg.b = 86;
    cpu.reg.c = 195;
    cpu.reg.d = 98;
    cpu.reg.e = 220;
    cpu.reg.f = 96;
    cpu.reg.h = 148;
    cpu.reg.l = 123;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[50998] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 190);
    CHECK(cpu.reg.b == 86);
    CHECK(cpu.reg.c == 195);
    CHECK(cpu.reg.d == 98);
    CHECK(cpu.reg.e == 219);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 148);
    CHECK(cpu.reg.l == 123);
    CHECK(cpu.pc == 50999);
    CHECK(cpu.sp == 34122);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50998] == 27);
}

TEST_CASE( "1B 0271", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4106;
    cpu.sp = 41405;
    cpu.reg.a = 233;
    cpu.reg.b = 194;
    cpu.reg.c = 17;
    cpu.reg.d = 108;
    cpu.reg.e = 15;
    cpu.reg.f = 144;
    cpu.reg.h = 196;
    cpu.reg.l = 30;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[4106] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 233);
    CHECK(cpu.reg.b == 194);
    CHECK(cpu.reg.c == 17);
    CHECK(cpu.reg.d == 108);
    CHECK(cpu.reg.e == 14);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 196);
    CHECK(cpu.reg.l == 30);
    CHECK(cpu.pc == 4107);
    CHECK(cpu.sp == 41405);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4106] == 27);
}

TEST_CASE( "1B 0272", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35211;
    cpu.sp = 32894;
    cpu.reg.a = 117;
    cpu.reg.b = 216;
    cpu.reg.c = 106;
    cpu.reg.d = 25;
    cpu.reg.e = 37;
    cpu.reg.f = 176;
    cpu.reg.h = 112;
    cpu.reg.l = 65;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[35211] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 117);
    CHECK(cpu.reg.b == 216);
    CHECK(cpu.reg.c == 106);
    CHECK(cpu.reg.d == 25);
    CHECK(cpu.reg.e == 36);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 112);
    CHECK(cpu.reg.l == 65);
    CHECK(cpu.pc == 35212);
    CHECK(cpu.sp == 32894);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35211] == 27);
}

TEST_CASE( "1B 0273", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2890;
    cpu.sp = 30184;
    cpu.reg.a = 8;
    cpu.reg.b = 66;
    cpu.reg.c = 168;
    cpu.reg.d = 87;
    cpu.reg.e = 40;
    cpu.reg.f = 64;
    cpu.reg.h = 188;
    cpu.reg.l = 29;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[2890] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 8);
    CHECK(cpu.reg.b == 66);
    CHECK(cpu.reg.c == 168);
    CHECK(cpu.reg.d == 87);
    CHECK(cpu.reg.e == 39);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 188);
    CHECK(cpu.reg.l == 29);
    CHECK(cpu.pc == 2891);
    CHECK(cpu.sp == 30184);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2890] == 27);
}

TEST_CASE( "1B 0274", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34791;
    cpu.sp = 11536;
    cpu.reg.a = 96;
    cpu.reg.b = 88;
    cpu.reg.c = 129;
    cpu.reg.d = 235;
    cpu.reg.e = 61;
    cpu.reg.f = 112;
    cpu.reg.h = 50;
    cpu.reg.l = 63;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[34791] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 96);
    CHECK(cpu.reg.b == 88);
    CHECK(cpu.reg.c == 129);
    CHECK(cpu.reg.d == 235);
    CHECK(cpu.reg.e == 60);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 50);
    CHECK(cpu.reg.l == 63);
    CHECK(cpu.pc == 34792);
    CHECK(cpu.sp == 11536);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34791] == 27);
}

TEST_CASE( "1B 0275", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48498;
    cpu.sp = 59766;
    cpu.reg.a = 67;
    cpu.reg.b = 235;
    cpu.reg.c = 213;
    cpu.reg.d = 82;
    cpu.reg.e = 20;
    cpu.reg.f = 192;
    cpu.reg.h = 80;
    cpu.reg.l = 0;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[48498] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 67);
    CHECK(cpu.reg.b == 235);
    CHECK(cpu.reg.c == 213);
    CHECK(cpu.reg.d == 82);
    CHECK(cpu.reg.e == 19);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 80);
    CHECK(cpu.reg.l == 0);
    CHECK(cpu.pc == 48499);
    CHECK(cpu.sp == 59766);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[48498] == 27);
}

TEST_CASE( "1B 0276", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32451;
    cpu.sp = 51958;
    cpu.reg.a = 204;
    cpu.reg.b = 81;
    cpu.reg.c = 114;
    cpu.reg.d = 40;
    cpu.reg.e = 197;
    cpu.reg.f = 192;
    cpu.reg.h = 151;
    cpu.reg.l = 215;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[32451] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 204);
    CHECK(cpu.reg.b == 81);
    CHECK(cpu.reg.c == 114);
    CHECK(cpu.reg.d == 40);
    CHECK(cpu.reg.e == 196);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 151);
    CHECK(cpu.reg.l == 215);
    CHECK(cpu.pc == 32452);
    CHECK(cpu.sp == 51958);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32451] == 27);
}

TEST_CASE( "1B 0277", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19161;
    cpu.sp = 11195;
    cpu.reg.a = 159;
    cpu.reg.b = 73;
    cpu.reg.c = 197;
    cpu.reg.d = 191;
    cpu.reg.e = 133;
    cpu.reg.f = 16;
    cpu.reg.h = 210;
    cpu.reg.l = 251;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[19161] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 159);
    CHECK(cpu.reg.b == 73);
    CHECK(cpu.reg.c == 197);
    CHECK(cpu.reg.d == 191);
    CHECK(cpu.reg.e == 132);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 210);
    CHECK(cpu.reg.l == 251);
    CHECK(cpu.pc == 19162);
    CHECK(cpu.sp == 11195);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19161] == 27);
}

TEST_CASE( "1B 0278", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47879;
    cpu.sp = 1318;
    cpu.reg.a = 188;
    cpu.reg.b = 105;
    cpu.reg.c = 241;
    cpu.reg.d = 60;
    cpu.reg.e = 44;
    cpu.reg.f = 64;
    cpu.reg.h = 151;
    cpu.reg.l = 172;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[47879] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 188);
    CHECK(cpu.reg.b == 105);
    CHECK(cpu.reg.c == 241);
    CHECK(cpu.reg.d == 60);
    CHECK(cpu.reg.e == 43);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 151);
    CHECK(cpu.reg.l == 172);
    CHECK(cpu.pc == 47880);
    CHECK(cpu.sp == 1318);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[47879] == 27);
}

TEST_CASE( "1B 0279", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3955;
    cpu.sp = 15141;
    cpu.reg.a = 62;
    cpu.reg.b = 32;
    cpu.reg.c = 85;
    cpu.reg.d = 107;
    cpu.reg.e = 196;
    cpu.reg.f = 0;
    cpu.reg.h = 142;
    cpu.reg.l = 34;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[3955] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 62);
    CHECK(cpu.reg.b == 32);
    CHECK(cpu.reg.c == 85);
    CHECK(cpu.reg.d == 107);
    CHECK(cpu.reg.e == 195);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 142);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 3956);
    CHECK(cpu.sp == 15141);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3955] == 27);
}

TEST_CASE( "1B 027A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4000;
    cpu.sp = 20227;
    cpu.reg.a = 147;
    cpu.reg.b = 18;
    cpu.reg.c = 239;
    cpu.reg.d = 168;
    cpu.reg.e = 109;
    cpu.reg.f = 96;
    cpu.reg.h = 142;
    cpu.reg.l = 105;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4000] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 147);
    CHECK(cpu.reg.b == 18);
    CHECK(cpu.reg.c == 239);
    CHECK(cpu.reg.d == 168);
    CHECK(cpu.reg.e == 108);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 142);
    CHECK(cpu.reg.l == 105);
    CHECK(cpu.pc == 4001);
    CHECK(cpu.sp == 20227);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4000] == 27);
}

TEST_CASE( "1B 027B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7721;
    cpu.sp = 1583;
    cpu.reg.a = 234;
    cpu.reg.b = 227;
    cpu.reg.c = 9;
    cpu.reg.d = 206;
    cpu.reg.e = 124;
    cpu.reg.f = 64;
    cpu.reg.h = 77;
    cpu.reg.l = 0;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[7721] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 234);
    CHECK(cpu.reg.b == 227);
    CHECK(cpu.reg.c == 9);
    CHECK(cpu.reg.d == 206);
    CHECK(cpu.reg.e == 123);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 77);
    CHECK(cpu.reg.l == 0);
    CHECK(cpu.pc == 7722);
    CHECK(cpu.sp == 1583);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7721] == 27);
}

TEST_CASE( "1B 027C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55774;
    cpu.sp = 30238;
    cpu.reg.a = 181;
    cpu.reg.b = 175;
    cpu.reg.c = 247;
    cpu.reg.d = 202;
    cpu.reg.e = 29;
    cpu.reg.f = 96;
    cpu.reg.h = 156;
    cpu.reg.l = 164;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[55774] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 181);
    CHECK(cpu.reg.b == 175);
    CHECK(cpu.reg.c == 247);
    CHECK(cpu.reg.d == 202);
    CHECK(cpu.reg.e == 28);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 156);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 55775);
    CHECK(cpu.sp == 30238);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55774] == 27);
}

TEST_CASE( "1B 027D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13259;
    cpu.sp = 23704;
    cpu.reg.a = 48;
    cpu.reg.b = 247;
    cpu.reg.c = 115;
    cpu.reg.d = 174;
    cpu.reg.e = 183;
    cpu.reg.f = 144;
    cpu.reg.h = 183;
    cpu.reg.l = 183;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[13259] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 48);
    CHECK(cpu.reg.b == 247);
    CHECK(cpu.reg.c == 115);
    CHECK(cpu.reg.d == 174);
    CHECK(cpu.reg.e == 182);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 183);
    CHECK(cpu.reg.l == 183);
    CHECK(cpu.pc == 13260);
    CHECK(cpu.sp == 23704);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13259] == 27);
}

TEST_CASE( "1B 027E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22000;
    cpu.sp = 30617;
    cpu.reg.a = 113;
    cpu.reg.b = 59;
    cpu.reg.c = 171;
    cpu.reg.d = 30;
    cpu.reg.e = 148;
    cpu.reg.f = 176;
    cpu.reg.h = 238;
    cpu.reg.l = 215;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[22000] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 113);
    CHECK(cpu.reg.b == 59);
    CHECK(cpu.reg.c == 171);
    CHECK(cpu.reg.d == 30);
    CHECK(cpu.reg.e == 147);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 238);
    CHECK(cpu.reg.l == 215);
    CHECK(cpu.pc == 22001);
    CHECK(cpu.sp == 30617);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22000] == 27);
}

TEST_CASE( "1B 027F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19550;
    cpu.sp = 38694;
    cpu.reg.a = 4;
    cpu.reg.b = 188;
    cpu.reg.c = 176;
    cpu.reg.d = 114;
    cpu.reg.e = 50;
    cpu.reg.f = 64;
    cpu.reg.h = 226;
    cpu.reg.l = 243;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[19550] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 4);
    CHECK(cpu.reg.b == 188);
    CHECK(cpu.reg.c == 176);
    CHECK(cpu.reg.d == 114);
    CHECK(cpu.reg.e == 49);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 226);
    CHECK(cpu.reg.l == 243);
    CHECK(cpu.pc == 19551);
    CHECK(cpu.sp == 38694);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19550] == 27);
}

TEST_CASE( "1B 0280", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21025;
    cpu.sp = 42757;
    cpu.reg.a = 16;
    cpu.reg.b = 165;
    cpu.reg.c = 122;
    cpu.reg.d = 33;
    cpu.reg.e = 191;
    cpu.reg.f = 112;
    cpu.reg.h = 96;
    cpu.reg.l = 23;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[21025] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 16);
    CHECK(cpu.reg.b == 165);
    CHECK(cpu.reg.c == 122);
    CHECK(cpu.reg.d == 33);
    CHECK(cpu.reg.e == 190);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 96);
    CHECK(cpu.reg.l == 23);
    CHECK(cpu.pc == 21026);
    CHECK(cpu.sp == 42757);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21025] == 27);
}

TEST_CASE( "1B 0281", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34004;
    cpu.sp = 60808;
    cpu.reg.a = 41;
    cpu.reg.b = 167;
    cpu.reg.c = 146;
    cpu.reg.d = 76;
    cpu.reg.e = 238;
    cpu.reg.f = 144;
    cpu.reg.h = 213;
    cpu.reg.l = 171;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[34004] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 41);
    CHECK(cpu.reg.b == 167);
    CHECK(cpu.reg.c == 146);
    CHECK(cpu.reg.d == 76);
    CHECK(cpu.reg.e == 237);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 213);
    CHECK(cpu.reg.l == 171);
    CHECK(cpu.pc == 34005);
    CHECK(cpu.sp == 60808);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34004] == 27);
}

TEST_CASE( "1B 0282", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7319;
    cpu.sp = 54441;
    cpu.reg.a = 230;
    cpu.reg.b = 99;
    cpu.reg.c = 144;
    cpu.reg.d = 227;
    cpu.reg.e = 89;
    cpu.reg.f = 192;
    cpu.reg.h = 20;
    cpu.reg.l = 169;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[7319] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 230);
    CHECK(cpu.reg.b == 99);
    CHECK(cpu.reg.c == 144);
    CHECK(cpu.reg.d == 227);
    CHECK(cpu.reg.e == 88);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 20);
    CHECK(cpu.reg.l == 169);
    CHECK(cpu.pc == 7320);
    CHECK(cpu.sp == 54441);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7319] == 27);
}

TEST_CASE( "1B 0283", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47248;
    cpu.sp = 48469;
    cpu.reg.a = 41;
    cpu.reg.b = 5;
    cpu.reg.c = 102;
    cpu.reg.d = 135;
    cpu.reg.e = 36;
    cpu.reg.f = 32;
    cpu.reg.h = 177;
    cpu.reg.l = 247;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47248] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 41);
    CHECK(cpu.reg.b == 5);
    CHECK(cpu.reg.c == 102);
    CHECK(cpu.reg.d == 135);
    CHECK(cpu.reg.e == 35);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 177);
    CHECK(cpu.reg.l == 247);
    CHECK(cpu.pc == 47249);
    CHECK(cpu.sp == 48469);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47248] == 27);
}

TEST_CASE( "1B 0284", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49089;
    cpu.sp = 2331;
    cpu.reg.a = 150;
    cpu.reg.b = 234;
    cpu.reg.c = 147;
    cpu.reg.d = 27;
    cpu.reg.e = 199;
    cpu.reg.f = 48;
    cpu.reg.h = 226;
    cpu.reg.l = 24;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[49089] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 150);
    CHECK(cpu.reg.b == 234);
    CHECK(cpu.reg.c == 147);
    CHECK(cpu.reg.d == 27);
    CHECK(cpu.reg.e == 198);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 226);
    CHECK(cpu.reg.l == 24);
    CHECK(cpu.pc == 49090);
    CHECK(cpu.sp == 2331);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49089] == 27);
}

TEST_CASE( "1B 0285", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59738;
    cpu.sp = 4507;
    cpu.reg.a = 37;
    cpu.reg.b = 191;
    cpu.reg.c = 186;
    cpu.reg.d = 164;
    cpu.reg.e = 71;
    cpu.reg.f = 144;
    cpu.reg.h = 216;
    cpu.reg.l = 166;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[59738] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 37);
    CHECK(cpu.reg.b == 191);
    CHECK(cpu.reg.c == 186);
    CHECK(cpu.reg.d == 164);
    CHECK(cpu.reg.e == 70);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 216);
    CHECK(cpu.reg.l == 166);
    CHECK(cpu.pc == 59739);
    CHECK(cpu.sp == 4507);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[59738] == 27);
}

TEST_CASE( "1B 0286", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23345;
    cpu.sp = 9177;
    cpu.reg.a = 56;
    cpu.reg.b = 211;
    cpu.reg.c = 199;
    cpu.reg.d = 78;
    cpu.reg.e = 125;
    cpu.reg.f = 48;
    cpu.reg.h = 60;
    cpu.reg.l = 17;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[23345] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 56);
    CHECK(cpu.reg.b == 211);
    CHECK(cpu.reg.c == 199);
    CHECK(cpu.reg.d == 78);
    CHECK(cpu.reg.e == 124);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 60);
    CHECK(cpu.reg.l == 17);
    CHECK(cpu.pc == 23346);
    CHECK(cpu.sp == 9177);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23345] == 27);
}

TEST_CASE( "1B 0287", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48330;
    cpu.sp = 37355;
    cpu.reg.a = 254;
    cpu.reg.b = 214;
    cpu.reg.c = 82;
    cpu.reg.d = 20;
    cpu.reg.e = 161;
    cpu.reg.f = 16;
    cpu.reg.h = 233;
    cpu.reg.l = 159;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[48330] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 214);
    CHECK(cpu.reg.c == 82);
    CHECK(cpu.reg.d == 20);
    CHECK(cpu.reg.e == 160);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 233);
    CHECK(cpu.reg.l == 159);
    CHECK(cpu.pc == 48331);
    CHECK(cpu.sp == 37355);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[48330] == 27);
}

TEST_CASE( "1B 0288", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47676;
    cpu.sp = 37289;
    cpu.reg.a = 98;
    cpu.reg.b = 201;
    cpu.reg.c = 204;
    cpu.reg.d = 59;
    cpu.reg.e = 218;
    cpu.reg.f = 208;
    cpu.reg.h = 177;
    cpu.reg.l = 12;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[47676] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 98);
    CHECK(cpu.reg.b == 201);
    CHECK(cpu.reg.c == 204);
    CHECK(cpu.reg.d == 59);
    CHECK(cpu.reg.e == 217);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 177);
    CHECK(cpu.reg.l == 12);
    CHECK(cpu.pc == 47677);
    CHECK(cpu.sp == 37289);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47676] == 27);
}

TEST_CASE( "1B 0289", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45615;
    cpu.sp = 23600;
    cpu.reg.a = 47;
    cpu.reg.b = 32;
    cpu.reg.c = 9;
    cpu.reg.d = 110;
    cpu.reg.e = 42;
    cpu.reg.f = 64;
    cpu.reg.h = 171;
    cpu.reg.l = 106;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[45615] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 47);
    CHECK(cpu.reg.b == 32);
    CHECK(cpu.reg.c == 9);
    CHECK(cpu.reg.d == 110);
    CHECK(cpu.reg.e == 41);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 171);
    CHECK(cpu.reg.l == 106);
    CHECK(cpu.pc == 45616);
    CHECK(cpu.sp == 23600);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45615] == 27);
}

TEST_CASE( "1B 028A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40859;
    cpu.sp = 49724;
    cpu.reg.a = 171;
    cpu.reg.b = 214;
    cpu.reg.c = 98;
    cpu.reg.d = 248;
    cpu.reg.e = 110;
    cpu.reg.f = 160;
    cpu.reg.h = 32;
    cpu.reg.l = 252;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[40859] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 171);
    CHECK(cpu.reg.b == 214);
    CHECK(cpu.reg.c == 98);
    CHECK(cpu.reg.d == 248);
    CHECK(cpu.reg.e == 109);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 32);
    CHECK(cpu.reg.l == 252);
    CHECK(cpu.pc == 40860);
    CHECK(cpu.sp == 49724);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40859] == 27);
}

TEST_CASE( "1B 028B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42888;
    cpu.sp = 27589;
    cpu.reg.a = 255;
    cpu.reg.b = 199;
    cpu.reg.c = 39;
    cpu.reg.d = 138;
    cpu.reg.e = 130;
    cpu.reg.f = 192;
    cpu.reg.h = 247;
    cpu.reg.l = 229;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[42888] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 255);
    CHECK(cpu.reg.b == 199);
    CHECK(cpu.reg.c == 39);
    CHECK(cpu.reg.d == 138);
    CHECK(cpu.reg.e == 129);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 247);
    CHECK(cpu.reg.l == 229);
    CHECK(cpu.pc == 42889);
    CHECK(cpu.sp == 27589);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[42888] == 27);
}

TEST_CASE( "1B 028C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45790;
    cpu.sp = 5590;
    cpu.reg.a = 236;
    cpu.reg.b = 115;
    cpu.reg.c = 167;
    cpu.reg.d = 170;
    cpu.reg.e = 200;
    cpu.reg.f = 192;
    cpu.reg.h = 173;
    cpu.reg.l = 226;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[45790] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 236);
    CHECK(cpu.reg.b == 115);
    CHECK(cpu.reg.c == 167);
    CHECK(cpu.reg.d == 170);
    CHECK(cpu.reg.e == 199);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 173);
    CHECK(cpu.reg.l == 226);
    CHECK(cpu.pc == 45791);
    CHECK(cpu.sp == 5590);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45790] == 27);
}

TEST_CASE( "1B 028D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45957;
    cpu.sp = 3390;
    cpu.reg.a = 204;
    cpu.reg.b = 212;
    cpu.reg.c = 194;
    cpu.reg.d = 229;
    cpu.reg.e = 126;
    cpu.reg.f = 96;
    cpu.reg.h = 127;
    cpu.reg.l = 111;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[45957] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 204);
    CHECK(cpu.reg.b == 212);
    CHECK(cpu.reg.c == 194);
    CHECK(cpu.reg.d == 229);
    CHECK(cpu.reg.e == 125);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 127);
    CHECK(cpu.reg.l == 111);
    CHECK(cpu.pc == 45958);
    CHECK(cpu.sp == 3390);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45957] == 27);
}

TEST_CASE( "1B 028E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48913;
    cpu.sp = 31829;
    cpu.reg.a = 22;
    cpu.reg.b = 85;
    cpu.reg.c = 100;
    cpu.reg.d = 22;
    cpu.reg.e = 245;
    cpu.reg.f = 224;
    cpu.reg.h = 2;
    cpu.reg.l = 100;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[48913] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 22);
    CHECK(cpu.reg.b == 85);
    CHECK(cpu.reg.c == 100);
    CHECK(cpu.reg.d == 22);
    CHECK(cpu.reg.e == 244);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 2);
    CHECK(cpu.reg.l == 100);
    CHECK(cpu.pc == 48914);
    CHECK(cpu.sp == 31829);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[48913] == 27);
}

TEST_CASE( "1B 028F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62547;
    cpu.sp = 57584;
    cpu.reg.a = 249;
    cpu.reg.b = 33;
    cpu.reg.c = 232;
    cpu.reg.d = 167;
    cpu.reg.e = 180;
    cpu.reg.f = 240;
    cpu.reg.h = 1;
    cpu.reg.l = 95;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[62547] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 249);
    CHECK(cpu.reg.b == 33);
    CHECK(cpu.reg.c == 232);
    CHECK(cpu.reg.d == 167);
    CHECK(cpu.reg.e == 179);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 1);
    CHECK(cpu.reg.l == 95);
    CHECK(cpu.pc == 62548);
    CHECK(cpu.sp == 57584);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[62547] == 27);
}

TEST_CASE( "1B 0290", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49415;
    cpu.sp = 49907;
    cpu.reg.a = 164;
    cpu.reg.b = 130;
    cpu.reg.c = 9;
    cpu.reg.d = 106;
    cpu.reg.e = 217;
    cpu.reg.f = 192;
    cpu.reg.h = 60;
    cpu.reg.l = 130;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[49415] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 164);
    CHECK(cpu.reg.b == 130);
    CHECK(cpu.reg.c == 9);
    CHECK(cpu.reg.d == 106);
    CHECK(cpu.reg.e == 216);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 60);
    CHECK(cpu.reg.l == 130);
    CHECK(cpu.pc == 49416);
    CHECK(cpu.sp == 49907);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49415] == 27);
}

TEST_CASE( "1B 0291", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28554;
    cpu.sp = 7353;
    cpu.reg.a = 219;
    cpu.reg.b = 79;
    cpu.reg.c = 165;
    cpu.reg.d = 179;
    cpu.reg.e = 66;
    cpu.reg.f = 16;
    cpu.reg.h = 17;
    cpu.reg.l = 97;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[28554] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 219);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 165);
    CHECK(cpu.reg.d == 179);
    CHECK(cpu.reg.e == 65);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 97);
    CHECK(cpu.pc == 28555);
    CHECK(cpu.sp == 7353);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28554] == 27);
}

TEST_CASE( "1B 0292", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3526;
    cpu.sp = 36850;
    cpu.reg.a = 146;
    cpu.reg.b = 38;
    cpu.reg.c = 67;
    cpu.reg.d = 227;
    cpu.reg.e = 189;
    cpu.reg.f = 16;
    cpu.reg.h = 8;
    cpu.reg.l = 6;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[3526] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 146);
    CHECK(cpu.reg.b == 38);
    CHECK(cpu.reg.c == 67);
    CHECK(cpu.reg.d == 227);
    CHECK(cpu.reg.e == 188);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 8);
    CHECK(cpu.reg.l == 6);
    CHECK(cpu.pc == 3527);
    CHECK(cpu.sp == 36850);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3526] == 27);
}

TEST_CASE( "1B 0293", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24362;
    cpu.sp = 35143;
    cpu.reg.a = 149;
    cpu.reg.b = 133;
    cpu.reg.c = 190;
    cpu.reg.d = 236;
    cpu.reg.e = 93;
    cpu.reg.f = 128;
    cpu.reg.h = 157;
    cpu.reg.l = 199;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[24362] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 149);
    CHECK(cpu.reg.b == 133);
    CHECK(cpu.reg.c == 190);
    CHECK(cpu.reg.d == 236);
    CHECK(cpu.reg.e == 92);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 157);
    CHECK(cpu.reg.l == 199);
    CHECK(cpu.pc == 24363);
    CHECK(cpu.sp == 35143);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24362] == 27);
}

TEST_CASE( "1B 0294", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26250;
    cpu.sp = 20502;
    cpu.reg.a = 117;
    cpu.reg.b = 206;
    cpu.reg.c = 55;
    cpu.reg.d = 251;
    cpu.reg.e = 90;
    cpu.reg.f = 176;
    cpu.reg.h = 244;
    cpu.reg.l = 142;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26250] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 117);
    CHECK(cpu.reg.b == 206);
    CHECK(cpu.reg.c == 55);
    CHECK(cpu.reg.d == 251);
    CHECK(cpu.reg.e == 89);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 244);
    CHECK(cpu.reg.l == 142);
    CHECK(cpu.pc == 26251);
    CHECK(cpu.sp == 20502);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26250] == 27);
}

TEST_CASE( "1B 0295", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28768;
    cpu.sp = 65389;
    cpu.reg.a = 31;
    cpu.reg.b = 252;
    cpu.reg.c = 219;
    cpu.reg.d = 41;
    cpu.reg.e = 157;
    cpu.reg.f = 144;
    cpu.reg.h = 5;
    cpu.reg.l = 149;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[28768] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 31);
    CHECK(cpu.reg.b == 252);
    CHECK(cpu.reg.c == 219);
    CHECK(cpu.reg.d == 41);
    CHECK(cpu.reg.e == 156);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 5);
    CHECK(cpu.reg.l == 149);
    CHECK(cpu.pc == 28769);
    CHECK(cpu.sp == 65389);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[28768] == 27);
}

TEST_CASE( "1B 0296", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45851;
    cpu.sp = 1822;
    cpu.reg.a = 216;
    cpu.reg.b = 113;
    cpu.reg.c = 113;
    cpu.reg.d = 121;
    cpu.reg.e = 160;
    cpu.reg.f = 0;
    cpu.reg.h = 218;
    cpu.reg.l = 35;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[45851] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 113);
    CHECK(cpu.reg.c == 113);
    CHECK(cpu.reg.d == 121);
    CHECK(cpu.reg.e == 159);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 218);
    CHECK(cpu.reg.l == 35);
    CHECK(cpu.pc == 45852);
    CHECK(cpu.sp == 1822);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45851] == 27);
}

TEST_CASE( "1B 0297", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21401;
    cpu.sp = 53447;
    cpu.reg.a = 126;
    cpu.reg.b = 208;
    cpu.reg.c = 43;
    cpu.reg.d = 104;
    cpu.reg.e = 124;
    cpu.reg.f = 112;
    cpu.reg.h = 84;
    cpu.reg.l = 104;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[21401] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 126);
    CHECK(cpu.reg.b == 208);
    CHECK(cpu.reg.c == 43);
    CHECK(cpu.reg.d == 104);
    CHECK(cpu.reg.e == 123);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 84);
    CHECK(cpu.reg.l == 104);
    CHECK(cpu.pc == 21402);
    CHECK(cpu.sp == 53447);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21401] == 27);
}

TEST_CASE( "1B 0298", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38749;
    cpu.sp = 46804;
    cpu.reg.a = 66;
    cpu.reg.b = 85;
    cpu.reg.c = 185;
    cpu.reg.d = 223;
    cpu.reg.e = 5;
    cpu.reg.f = 144;
    cpu.reg.h = 61;
    cpu.reg.l = 237;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[38749] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 66);
    CHECK(cpu.reg.b == 85);
    CHECK(cpu.reg.c == 185);
    CHECK(cpu.reg.d == 223);
    CHECK(cpu.reg.e == 4);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 61);
    CHECK(cpu.reg.l == 237);
    CHECK(cpu.pc == 38750);
    CHECK(cpu.sp == 46804);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38749] == 27);
}

TEST_CASE( "1B 0299", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49956;
    cpu.sp = 17564;
    cpu.reg.a = 38;
    cpu.reg.b = 122;
    cpu.reg.c = 229;
    cpu.reg.d = 243;
    cpu.reg.e = 25;
    cpu.reg.f = 80;
    cpu.reg.h = 205;
    cpu.reg.l = 77;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[49956] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 38);
    CHECK(cpu.reg.b == 122);
    CHECK(cpu.reg.c == 229);
    CHECK(cpu.reg.d == 243);
    CHECK(cpu.reg.e == 24);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 205);
    CHECK(cpu.reg.l == 77);
    CHECK(cpu.pc == 49957);
    CHECK(cpu.sp == 17564);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49956] == 27);
}

TEST_CASE( "1B 029A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63895;
    cpu.sp = 22904;
    cpu.reg.a = 111;
    cpu.reg.b = 108;
    cpu.reg.c = 1;
    cpu.reg.d = 225;
    cpu.reg.e = 79;
    cpu.reg.f = 176;
    cpu.reg.h = 41;
    cpu.reg.l = 226;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[63895] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 111);
    CHECK(cpu.reg.b == 108);
    CHECK(cpu.reg.c == 1);
    CHECK(cpu.reg.d == 225);
    CHECK(cpu.reg.e == 78);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 41);
    CHECK(cpu.reg.l == 226);
    CHECK(cpu.pc == 63896);
    CHECK(cpu.sp == 22904);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[63895] == 27);
}

TEST_CASE( "1B 029B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47788;
    cpu.sp = 967;
    cpu.reg.a = 214;
    cpu.reg.b = 195;
    cpu.reg.c = 84;
    cpu.reg.d = 236;
    cpu.reg.e = 46;
    cpu.reg.f = 224;
    cpu.reg.h = 69;
    cpu.reg.l = 124;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[47788] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 214);
    CHECK(cpu.reg.b == 195);
    CHECK(cpu.reg.c == 84);
    CHECK(cpu.reg.d == 236);
    CHECK(cpu.reg.e == 45);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 69);
    CHECK(cpu.reg.l == 124);
    CHECK(cpu.pc == 47789);
    CHECK(cpu.sp == 967);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47788] == 27);
}

TEST_CASE( "1B 029C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15183;
    cpu.sp = 39163;
    cpu.reg.a = 110;
    cpu.reg.b = 98;
    cpu.reg.c = 164;
    cpu.reg.d = 19;
    cpu.reg.e = 58;
    cpu.reg.f = 128;
    cpu.reg.h = 110;
    cpu.reg.l = 171;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[15183] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 110);
    CHECK(cpu.reg.b == 98);
    CHECK(cpu.reg.c == 164);
    CHECK(cpu.reg.d == 19);
    CHECK(cpu.reg.e == 57);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 110);
    CHECK(cpu.reg.l == 171);
    CHECK(cpu.pc == 15184);
    CHECK(cpu.sp == 39163);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15183] == 27);
}

TEST_CASE( "1B 029D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35409;
    cpu.sp = 24574;
    cpu.reg.a = 128;
    cpu.reg.b = 173;
    cpu.reg.c = 120;
    cpu.reg.d = 15;
    cpu.reg.e = 53;
    cpu.reg.f = 16;
    cpu.reg.h = 114;
    cpu.reg.l = 253;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[35409] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 128);
    CHECK(cpu.reg.b == 173);
    CHECK(cpu.reg.c == 120);
    CHECK(cpu.reg.d == 15);
    CHECK(cpu.reg.e == 52);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 114);
    CHECK(cpu.reg.l == 253);
    CHECK(cpu.pc == 35410);
    CHECK(cpu.sp == 24574);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35409] == 27);
}

TEST_CASE( "1B 029E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3896;
    cpu.sp = 35381;
    cpu.reg.a = 159;
    cpu.reg.b = 146;
    cpu.reg.c = 6;
    cpu.reg.d = 166;
    cpu.reg.e = 169;
    cpu.reg.f = 16;
    cpu.reg.h = 2;
    cpu.reg.l = 37;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[3896] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 159);
    CHECK(cpu.reg.b == 146);
    CHECK(cpu.reg.c == 6);
    CHECK(cpu.reg.d == 166);
    CHECK(cpu.reg.e == 168);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 2);
    CHECK(cpu.reg.l == 37);
    CHECK(cpu.pc == 3897);
    CHECK(cpu.sp == 35381);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3896] == 27);
}

TEST_CASE( "1B 029F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22964;
    cpu.sp = 24607;
    cpu.reg.a = 217;
    cpu.reg.b = 203;
    cpu.reg.c = 96;
    cpu.reg.d = 107;
    cpu.reg.e = 92;
    cpu.reg.f = 128;
    cpu.reg.h = 188;
    cpu.reg.l = 72;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[22964] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 217);
    CHECK(cpu.reg.b == 203);
    CHECK(cpu.reg.c == 96);
    CHECK(cpu.reg.d == 107);
    CHECK(cpu.reg.e == 91);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 188);
    CHECK(cpu.reg.l == 72);
    CHECK(cpu.pc == 22965);
    CHECK(cpu.sp == 24607);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22964] == 27);
}

TEST_CASE( "1B 02A0", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44296;
    cpu.sp = 7690;
    cpu.reg.a = 62;
    cpu.reg.b = 30;
    cpu.reg.c = 163;
    cpu.reg.d = 15;
    cpu.reg.e = 37;
    cpu.reg.f = 16;
    cpu.reg.h = 85;
    cpu.reg.l = 122;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[44296] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 62);
    CHECK(cpu.reg.b == 30);
    CHECK(cpu.reg.c == 163);
    CHECK(cpu.reg.d == 15);
    CHECK(cpu.reg.e == 36);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 85);
    CHECK(cpu.reg.l == 122);
    CHECK(cpu.pc == 44297);
    CHECK(cpu.sp == 7690);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44296] == 27);
}

TEST_CASE( "1B 02A1", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12895;
    cpu.sp = 60932;
    cpu.reg.a = 74;
    cpu.reg.b = 7;
    cpu.reg.c = 218;
    cpu.reg.d = 170;
    cpu.reg.e = 123;
    cpu.reg.f = 224;
    cpu.reg.h = 187;
    cpu.reg.l = 25;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[12895] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 74);
    CHECK(cpu.reg.b == 7);
    CHECK(cpu.reg.c == 218);
    CHECK(cpu.reg.d == 170);
    CHECK(cpu.reg.e == 122);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 187);
    CHECK(cpu.reg.l == 25);
    CHECK(cpu.pc == 12896);
    CHECK(cpu.sp == 60932);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12895] == 27);
}

TEST_CASE( "1B 02A2", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28003;
    cpu.sp = 50327;
    cpu.reg.a = 8;
    cpu.reg.b = 148;
    cpu.reg.c = 175;
    cpu.reg.d = 206;
    cpu.reg.e = 194;
    cpu.reg.f = 16;
    cpu.reg.h = 122;
    cpu.reg.l = 48;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[28003] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 8);
    CHECK(cpu.reg.b == 148);
    CHECK(cpu.reg.c == 175);
    CHECK(cpu.reg.d == 206);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 122);
    CHECK(cpu.reg.l == 48);
    CHECK(cpu.pc == 28004);
    CHECK(cpu.sp == 50327);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28003] == 27);
}

TEST_CASE( "1B 02A3", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2673;
    cpu.sp = 56154;
    cpu.reg.a = 4;
    cpu.reg.b = 54;
    cpu.reg.c = 218;
    cpu.reg.d = 155;
    cpu.reg.e = 198;
    cpu.reg.f = 0;
    cpu.reg.h = 186;
    cpu.reg.l = 8;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[2673] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 4);
    CHECK(cpu.reg.b == 54);
    CHECK(cpu.reg.c == 218);
    CHECK(cpu.reg.d == 155);
    CHECK(cpu.reg.e == 197);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 186);
    CHECK(cpu.reg.l == 8);
    CHECK(cpu.pc == 2674);
    CHECK(cpu.sp == 56154);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2673] == 27);
}

TEST_CASE( "1B 02A4", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32746;
    cpu.sp = 47302;
    cpu.reg.a = 203;
    cpu.reg.b = 201;
    cpu.reg.c = 224;
    cpu.reg.d = 174;
    cpu.reg.e = 222;
    cpu.reg.f = 176;
    cpu.reg.h = 71;
    cpu.reg.l = 119;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[32746] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 203);
    CHECK(cpu.reg.b == 201);
    CHECK(cpu.reg.c == 224);
    CHECK(cpu.reg.d == 174);
    CHECK(cpu.reg.e == 221);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 71);
    CHECK(cpu.reg.l == 119);
    CHECK(cpu.pc == 32747);
    CHECK(cpu.sp == 47302);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32746] == 27);
}

TEST_CASE( "1B 02A5", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50748;
    cpu.sp = 19149;
    cpu.reg.a = 224;
    cpu.reg.b = 229;
    cpu.reg.c = 254;
    cpu.reg.d = 113;
    cpu.reg.e = 1;
    cpu.reg.f = 64;
    cpu.reg.h = 182;
    cpu.reg.l = 226;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[50748] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 229);
    CHECK(cpu.reg.c == 254);
    CHECK(cpu.reg.d == 113);
    CHECK(cpu.reg.e == 0);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 182);
    CHECK(cpu.reg.l == 226);
    CHECK(cpu.pc == 50749);
    CHECK(cpu.sp == 19149);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[50748] == 27);
}

TEST_CASE( "1B 02A6", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15788;
    cpu.sp = 10560;
    cpu.reg.a = 46;
    cpu.reg.b = 137;
    cpu.reg.c = 65;
    cpu.reg.d = 209;
    cpu.reg.e = 197;
    cpu.reg.f = 80;
    cpu.reg.h = 168;
    cpu.reg.l = 69;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[15788] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 46);
    CHECK(cpu.reg.b == 137);
    CHECK(cpu.reg.c == 65);
    CHECK(cpu.reg.d == 209);
    CHECK(cpu.reg.e == 196);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 168);
    CHECK(cpu.reg.l == 69);
    CHECK(cpu.pc == 15789);
    CHECK(cpu.sp == 10560);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15788] == 27);
}

TEST_CASE( "1B 02A7", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8834;
    cpu.sp = 26376;
    cpu.reg.a = 125;
    cpu.reg.b = 155;
    cpu.reg.c = 20;
    cpu.reg.d = 201;
    cpu.reg.e = 91;
    cpu.reg.f = 208;
    cpu.reg.h = 213;
    cpu.reg.l = 53;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[8834] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 125);
    CHECK(cpu.reg.b == 155);
    CHECK(cpu.reg.c == 20);
    CHECK(cpu.reg.d == 201);
    CHECK(cpu.reg.e == 90);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 213);
    CHECK(cpu.reg.l == 53);
    CHECK(cpu.pc == 8835);
    CHECK(cpu.sp == 26376);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8834] == 27);
}

TEST_CASE( "1B 02A8", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4271;
    cpu.sp = 62417;
    cpu.reg.a = 98;
    cpu.reg.b = 239;
    cpu.reg.c = 61;
    cpu.reg.d = 182;
    cpu.reg.e = 90;
    cpu.reg.f = 176;
    cpu.reg.h = 210;
    cpu.reg.l = 251;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[4271] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 98);
    CHECK(cpu.reg.b == 239);
    CHECK(cpu.reg.c == 61);
    CHECK(cpu.reg.d == 182);
    CHECK(cpu.reg.e == 89);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 210);
    CHECK(cpu.reg.l == 251);
    CHECK(cpu.pc == 4272);
    CHECK(cpu.sp == 62417);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4271] == 27);
}

TEST_CASE( "1B 02A9", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32907;
    cpu.sp = 54034;
    cpu.reg.a = 224;
    cpu.reg.b = 7;
    cpu.reg.c = 105;
    cpu.reg.d = 90;
    cpu.reg.e = 112;
    cpu.reg.f = 224;
    cpu.reg.h = 66;
    cpu.reg.l = 113;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[32907] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 7);
    CHECK(cpu.reg.c == 105);
    CHECK(cpu.reg.d == 90);
    CHECK(cpu.reg.e == 111);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 66);
    CHECK(cpu.reg.l == 113);
    CHECK(cpu.pc == 32908);
    CHECK(cpu.sp == 54034);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32907] == 27);
}

TEST_CASE( "1B 02AA", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25008;
    cpu.sp = 5087;
    cpu.reg.a = 184;
    cpu.reg.b = 20;
    cpu.reg.c = 145;
    cpu.reg.d = 215;
    cpu.reg.e = 102;
    cpu.reg.f = 160;
    cpu.reg.h = 169;
    cpu.reg.l = 111;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[25008] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 184);
    CHECK(cpu.reg.b == 20);
    CHECK(cpu.reg.c == 145);
    CHECK(cpu.reg.d == 215);
    CHECK(cpu.reg.e == 101);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 169);
    CHECK(cpu.reg.l == 111);
    CHECK(cpu.pc == 25009);
    CHECK(cpu.sp == 5087);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25008] == 27);
}

TEST_CASE( "1B 02AB", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12300;
    cpu.sp = 3672;
    cpu.reg.a = 239;
    cpu.reg.b = 73;
    cpu.reg.c = 130;
    cpu.reg.d = 74;
    cpu.reg.e = 220;
    cpu.reg.f = 112;
    cpu.reg.h = 197;
    cpu.reg.l = 203;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[12300] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 239);
    CHECK(cpu.reg.b == 73);
    CHECK(cpu.reg.c == 130);
    CHECK(cpu.reg.d == 74);
    CHECK(cpu.reg.e == 219);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 197);
    CHECK(cpu.reg.l == 203);
    CHECK(cpu.pc == 12301);
    CHECK(cpu.sp == 3672);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12300] == 27);
}

TEST_CASE( "1B 02AC", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18384;
    cpu.sp = 53443;
    cpu.reg.a = 191;
    cpu.reg.b = 177;
    cpu.reg.c = 123;
    cpu.reg.d = 154;
    cpu.reg.e = 152;
    cpu.reg.f = 0;
    cpu.reg.h = 128;
    cpu.reg.l = 168;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[18384] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 191);
    CHECK(cpu.reg.b == 177);
    CHECK(cpu.reg.c == 123);
    CHECK(cpu.reg.d == 154);
    CHECK(cpu.reg.e == 151);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 128);
    CHECK(cpu.reg.l == 168);
    CHECK(cpu.pc == 18385);
    CHECK(cpu.sp == 53443);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18384] == 27);
}

TEST_CASE( "1B 02AD", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19343;
    cpu.sp = 59642;
    cpu.reg.a = 165;
    cpu.reg.b = 58;
    cpu.reg.c = 23;
    cpu.reg.d = 162;
    cpu.reg.e = 20;
    cpu.reg.f = 208;
    cpu.reg.h = 121;
    cpu.reg.l = 219;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[19343] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 165);
    CHECK(cpu.reg.b == 58);
    CHECK(cpu.reg.c == 23);
    CHECK(cpu.reg.d == 162);
    CHECK(cpu.reg.e == 19);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 121);
    CHECK(cpu.reg.l == 219);
    CHECK(cpu.pc == 19344);
    CHECK(cpu.sp == 59642);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19343] == 27);
}

TEST_CASE( "1B 02AE", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1980;
    cpu.sp = 10224;
    cpu.reg.a = 161;
    cpu.reg.b = 103;
    cpu.reg.c = 170;
    cpu.reg.d = 47;
    cpu.reg.e = 170;
    cpu.reg.f = 48;
    cpu.reg.h = 195;
    cpu.reg.l = 0;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[1980] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 161);
    CHECK(cpu.reg.b == 103);
    CHECK(cpu.reg.c == 170);
    CHECK(cpu.reg.d == 47);
    CHECK(cpu.reg.e == 169);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 195);
    CHECK(cpu.reg.l == 0);
    CHECK(cpu.pc == 1981);
    CHECK(cpu.sp == 10224);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1980] == 27);
}

TEST_CASE( "1B 02AF", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47179;
    cpu.sp = 8763;
    cpu.reg.a = 142;
    cpu.reg.b = 197;
    cpu.reg.c = 127;
    cpu.reg.d = 14;
    cpu.reg.e = 211;
    cpu.reg.f = 16;
    cpu.reg.h = 183;
    cpu.reg.l = 118;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47179] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 142);
    CHECK(cpu.reg.b == 197);
    CHECK(cpu.reg.c == 127);
    CHECK(cpu.reg.d == 14);
    CHECK(cpu.reg.e == 210);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 183);
    CHECK(cpu.reg.l == 118);
    CHECK(cpu.pc == 47180);
    CHECK(cpu.sp == 8763);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47179] == 27);
}

TEST_CASE( "1B 02B0", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29843;
    cpu.sp = 14750;
    cpu.reg.a = 130;
    cpu.reg.b = 28;
    cpu.reg.c = 72;
    cpu.reg.d = 223;
    cpu.reg.e = 82;
    cpu.reg.f = 96;
    cpu.reg.h = 36;
    cpu.reg.l = 107;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[29843] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 130);
    CHECK(cpu.reg.b == 28);
    CHECK(cpu.reg.c == 72);
    CHECK(cpu.reg.d == 223);
    CHECK(cpu.reg.e == 81);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 36);
    CHECK(cpu.reg.l == 107);
    CHECK(cpu.pc == 29844);
    CHECK(cpu.sp == 14750);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[29843] == 27);
}

TEST_CASE( "1B 02B1", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36343;
    cpu.sp = 29393;
    cpu.reg.a = 227;
    cpu.reg.b = 153;
    cpu.reg.c = 8;
    cpu.reg.d = 38;
    cpu.reg.e = 202;
    cpu.reg.f = 16;
    cpu.reg.h = 201;
    cpu.reg.l = 155;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[36343] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 227);
    CHECK(cpu.reg.b == 153);
    CHECK(cpu.reg.c == 8);
    CHECK(cpu.reg.d == 38);
    CHECK(cpu.reg.e == 201);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 201);
    CHECK(cpu.reg.l == 155);
    CHECK(cpu.pc == 36344);
    CHECK(cpu.sp == 29393);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36343] == 27);
}

TEST_CASE( "1B 02B2", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6255;
    cpu.sp = 11613;
    cpu.reg.a = 24;
    cpu.reg.b = 224;
    cpu.reg.c = 228;
    cpu.reg.d = 107;
    cpu.reg.e = 49;
    cpu.reg.f = 0;
    cpu.reg.h = 198;
    cpu.reg.l = 131;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[6255] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 24);
    CHECK(cpu.reg.b == 224);
    CHECK(cpu.reg.c == 228);
    CHECK(cpu.reg.d == 107);
    CHECK(cpu.reg.e == 48);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 198);
    CHECK(cpu.reg.l == 131);
    CHECK(cpu.pc == 6256);
    CHECK(cpu.sp == 11613);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6255] == 27);
}

TEST_CASE( "1B 02B3", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37114;
    cpu.sp = 57839;
    cpu.reg.a = 218;
    cpu.reg.b = 115;
    cpu.reg.c = 144;
    cpu.reg.d = 37;
    cpu.reg.e = 183;
    cpu.reg.f = 80;
    cpu.reg.h = 102;
    cpu.reg.l = 136;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[37114] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 218);
    CHECK(cpu.reg.b == 115);
    CHECK(cpu.reg.c == 144);
    CHECK(cpu.reg.d == 37);
    CHECK(cpu.reg.e == 182);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 102);
    CHECK(cpu.reg.l == 136);
    CHECK(cpu.pc == 37115);
    CHECK(cpu.sp == 57839);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[37114] == 27);
}

TEST_CASE( "1B 02B4", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15288;
    cpu.sp = 58372;
    cpu.reg.a = 93;
    cpu.reg.b = 88;
    cpu.reg.c = 77;
    cpu.reg.d = 73;
    cpu.reg.e = 12;
    cpu.reg.f = 80;
    cpu.reg.h = 23;
    cpu.reg.l = 91;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[15288] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 93);
    CHECK(cpu.reg.b == 88);
    CHECK(cpu.reg.c == 77);
    CHECK(cpu.reg.d == 73);
    CHECK(cpu.reg.e == 11);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 23);
    CHECK(cpu.reg.l == 91);
    CHECK(cpu.pc == 15289);
    CHECK(cpu.sp == 58372);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15288] == 27);
}

TEST_CASE( "1B 02B5", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62884;
    cpu.sp = 56753;
    cpu.reg.a = 236;
    cpu.reg.b = 28;
    cpu.reg.c = 90;
    cpu.reg.d = 241;
    cpu.reg.e = 50;
    cpu.reg.f = 144;
    cpu.reg.h = 191;
    cpu.reg.l = 146;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[62884] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 236);
    CHECK(cpu.reg.b == 28);
    CHECK(cpu.reg.c == 90);
    CHECK(cpu.reg.d == 241);
    CHECK(cpu.reg.e == 49);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 191);
    CHECK(cpu.reg.l == 146);
    CHECK(cpu.pc == 62885);
    CHECK(cpu.sp == 56753);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[62884] == 27);
}

TEST_CASE( "1B 02B6", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47796;
    cpu.sp = 1221;
    cpu.reg.a = 139;
    cpu.reg.b = 89;
    cpu.reg.c = 114;
    cpu.reg.d = 206;
    cpu.reg.e = 59;
    cpu.reg.f = 80;
    cpu.reg.h = 152;
    cpu.reg.l = 158;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47796] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 139);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 114);
    CHECK(cpu.reg.d == 206);
    CHECK(cpu.reg.e == 58);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 152);
    CHECK(cpu.reg.l == 158);
    CHECK(cpu.pc == 47797);
    CHECK(cpu.sp == 1221);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47796] == 27);
}

TEST_CASE( "1B 02B7", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13279;
    cpu.sp = 16082;
    cpu.reg.a = 64;
    cpu.reg.b = 179;
    cpu.reg.c = 27;
    cpu.reg.d = 141;
    cpu.reg.e = 219;
    cpu.reg.f = 144;
    cpu.reg.h = 62;
    cpu.reg.l = 238;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[13279] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 179);
    CHECK(cpu.reg.c == 27);
    CHECK(cpu.reg.d == 141);
    CHECK(cpu.reg.e == 218);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 62);
    CHECK(cpu.reg.l == 238);
    CHECK(cpu.pc == 13280);
    CHECK(cpu.sp == 16082);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13279] == 27);
}

TEST_CASE( "1B 02B8", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35362;
    cpu.sp = 33768;
    cpu.reg.a = 235;
    cpu.reg.b = 131;
    cpu.reg.c = 25;
    cpu.reg.d = 224;
    cpu.reg.e = 61;
    cpu.reg.f = 80;
    cpu.reg.h = 103;
    cpu.reg.l = 59;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[35362] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 235);
    CHECK(cpu.reg.b == 131);
    CHECK(cpu.reg.c == 25);
    CHECK(cpu.reg.d == 224);
    CHECK(cpu.reg.e == 60);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 103);
    CHECK(cpu.reg.l == 59);
    CHECK(cpu.pc == 35363);
    CHECK(cpu.sp == 33768);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35362] == 27);
}

TEST_CASE( "1B 02B9", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60006;
    cpu.sp = 36690;
    cpu.reg.a = 226;
    cpu.reg.b = 73;
    cpu.reg.c = 226;
    cpu.reg.d = 82;
    cpu.reg.e = 48;
    cpu.reg.f = 96;
    cpu.reg.h = 164;
    cpu.reg.l = 134;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[60006] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 226);
    CHECK(cpu.reg.b == 73);
    CHECK(cpu.reg.c == 226);
    CHECK(cpu.reg.d == 82);
    CHECK(cpu.reg.e == 47);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 164);
    CHECK(cpu.reg.l == 134);
    CHECK(cpu.pc == 60007);
    CHECK(cpu.sp == 36690);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[60006] == 27);
}

TEST_CASE( "1B 02BA", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21832;
    cpu.sp = 3400;
    cpu.reg.a = 121;
    cpu.reg.b = 219;
    cpu.reg.c = 22;
    cpu.reg.d = 129;
    cpu.reg.e = 30;
    cpu.reg.f = 16;
    cpu.reg.h = 41;
    cpu.reg.l = 172;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[21832] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 121);
    CHECK(cpu.reg.b == 219);
    CHECK(cpu.reg.c == 22);
    CHECK(cpu.reg.d == 129);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 41);
    CHECK(cpu.reg.l == 172);
    CHECK(cpu.pc == 21833);
    CHECK(cpu.sp == 3400);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21832] == 27);
}

TEST_CASE( "1B 02BB", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51756;
    cpu.sp = 28271;
    cpu.reg.a = 40;
    cpu.reg.b = 80;
    cpu.reg.c = 164;
    cpu.reg.d = 198;
    cpu.reg.e = 230;
    cpu.reg.f = 160;
    cpu.reg.h = 7;
    cpu.reg.l = 221;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[51756] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 40);
    CHECK(cpu.reg.b == 80);
    CHECK(cpu.reg.c == 164);
    CHECK(cpu.reg.d == 198);
    CHECK(cpu.reg.e == 229);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 7);
    CHECK(cpu.reg.l == 221);
    CHECK(cpu.pc == 51757);
    CHECK(cpu.sp == 28271);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51756] == 27);
}

TEST_CASE( "1B 02BC", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29075;
    cpu.sp = 34808;
    cpu.reg.a = 105;
    cpu.reg.b = 113;
    cpu.reg.c = 142;
    cpu.reg.d = 67;
    cpu.reg.e = 89;
    cpu.reg.f = 0;
    cpu.reg.h = 170;
    cpu.reg.l = 239;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[29075] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 105);
    CHECK(cpu.reg.b == 113);
    CHECK(cpu.reg.c == 142);
    CHECK(cpu.reg.d == 67);
    CHECK(cpu.reg.e == 88);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 170);
    CHECK(cpu.reg.l == 239);
    CHECK(cpu.pc == 29076);
    CHECK(cpu.sp == 34808);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[29075] == 27);
}

TEST_CASE( "1B 02BD", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 124;
    cpu.sp = 38963;
    cpu.reg.a = 37;
    cpu.reg.b = 22;
    cpu.reg.c = 198;
    cpu.reg.d = 163;
    cpu.reg.e = 254;
    cpu.reg.f = 144;
    cpu.reg.h = 35;
    cpu.reg.l = 178;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[124] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 37);
    CHECK(cpu.reg.b == 22);
    CHECK(cpu.reg.c == 198);
    CHECK(cpu.reg.d == 163);
    CHECK(cpu.reg.e == 253);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 35);
    CHECK(cpu.reg.l == 178);
    CHECK(cpu.pc == 125);
    CHECK(cpu.sp == 38963);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[124] == 27);
}

TEST_CASE( "1B 02BE", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39831;
    cpu.sp = 36010;
    cpu.reg.a = 239;
    cpu.reg.b = 171;
    cpu.reg.c = 49;
    cpu.reg.d = 248;
    cpu.reg.e = 237;
    cpu.reg.f = 0;
    cpu.reg.h = 164;
    cpu.reg.l = 189;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[39831] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 239);
    CHECK(cpu.reg.b == 171);
    CHECK(cpu.reg.c == 49);
    CHECK(cpu.reg.d == 248);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 164);
    CHECK(cpu.reg.l == 189);
    CHECK(cpu.pc == 39832);
    CHECK(cpu.sp == 36010);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39831] == 27);
}

TEST_CASE( "1B 02BF", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65298;
    cpu.sp = 34016;
    cpu.reg.a = 76;
    cpu.reg.b = 32;
    cpu.reg.c = 219;
    cpu.reg.d = 17;
    cpu.reg.e = 226;
    cpu.reg.f = 16;
    cpu.reg.h = 141;
    cpu.reg.l = 194;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[65298] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 76);
    CHECK(cpu.reg.b == 32);
    CHECK(cpu.reg.c == 219);
    CHECK(cpu.reg.d == 17);
    CHECK(cpu.reg.e == 225);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 141);
    CHECK(cpu.reg.l == 194);
    CHECK(cpu.pc == 65299);
    CHECK(cpu.sp == 34016);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[65298] == 27);
}

TEST_CASE( "1B 02C0", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31075;
    cpu.sp = 52026;
    cpu.reg.a = 25;
    cpu.reg.b = 128;
    cpu.reg.c = 44;
    cpu.reg.d = 92;
    cpu.reg.e = 157;
    cpu.reg.f = 128;
    cpu.reg.h = 103;
    cpu.reg.l = 30;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[31075] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 25);
    CHECK(cpu.reg.b == 128);
    CHECK(cpu.reg.c == 44);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 156);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 103);
    CHECK(cpu.reg.l == 30);
    CHECK(cpu.pc == 31076);
    CHECK(cpu.sp == 52026);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31075] == 27);
}

TEST_CASE( "1B 02C1", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8071;
    cpu.sp = 57413;
    cpu.reg.a = 149;
    cpu.reg.b = 8;
    cpu.reg.c = 53;
    cpu.reg.d = 239;
    cpu.reg.e = 89;
    cpu.reg.f = 192;
    cpu.reg.h = 102;
    cpu.reg.l = 173;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[8071] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 149);
    CHECK(cpu.reg.b == 8);
    CHECK(cpu.reg.c == 53);
    CHECK(cpu.reg.d == 239);
    CHECK(cpu.reg.e == 88);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 102);
    CHECK(cpu.reg.l == 173);
    CHECK(cpu.pc == 8072);
    CHECK(cpu.sp == 57413);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8071] == 27);
}

TEST_CASE( "1B 02C2", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3268;
    cpu.sp = 31838;
    cpu.reg.a = 82;
    cpu.reg.b = 153;
    cpu.reg.c = 107;
    cpu.reg.d = 246;
    cpu.reg.e = 200;
    cpu.reg.f = 0;
    cpu.reg.h = 153;
    cpu.reg.l = 134;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[3268] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 82);
    CHECK(cpu.reg.b == 153);
    CHECK(cpu.reg.c == 107);
    CHECK(cpu.reg.d == 246);
    CHECK(cpu.reg.e == 199);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 153);
    CHECK(cpu.reg.l == 134);
    CHECK(cpu.pc == 3269);
    CHECK(cpu.sp == 31838);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3268] == 27);
}

TEST_CASE( "1B 02C3", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61247;
    cpu.sp = 18318;
    cpu.reg.a = 81;
    cpu.reg.b = 84;
    cpu.reg.c = 48;
    cpu.reg.d = 104;
    cpu.reg.e = 15;
    cpu.reg.f = 32;
    cpu.reg.h = 197;
    cpu.reg.l = 133;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[61247] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 81);
    CHECK(cpu.reg.b == 84);
    CHECK(cpu.reg.c == 48);
    CHECK(cpu.reg.d == 104);
    CHECK(cpu.reg.e == 14);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 197);
    CHECK(cpu.reg.l == 133);
    CHECK(cpu.pc == 61248);
    CHECK(cpu.sp == 18318);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61247] == 27);
}

TEST_CASE( "1B 02C4", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8316;
    cpu.sp = 62644;
    cpu.reg.a = 74;
    cpu.reg.b = 79;
    cpu.reg.c = 225;
    cpu.reg.d = 78;
    cpu.reg.e = 221;
    cpu.reg.f = 224;
    cpu.reg.h = 200;
    cpu.reg.l = 60;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[8316] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 74);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 225);
    CHECK(cpu.reg.d == 78);
    CHECK(cpu.reg.e == 220);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 200);
    CHECK(cpu.reg.l == 60);
    CHECK(cpu.pc == 8317);
    CHECK(cpu.sp == 62644);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8316] == 27);
}

TEST_CASE( "1B 02C5", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15300;
    cpu.sp = 31;
    cpu.reg.a = 131;
    cpu.reg.b = 188;
    cpu.reg.c = 201;
    cpu.reg.d = 196;
    cpu.reg.e = 24;
    cpu.reg.f = 144;
    cpu.reg.h = 233;
    cpu.reg.l = 36;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[15300] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 131);
    CHECK(cpu.reg.b == 188);
    CHECK(cpu.reg.c == 201);
    CHECK(cpu.reg.d == 196);
    CHECK(cpu.reg.e == 23);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 233);
    CHECK(cpu.reg.l == 36);
    CHECK(cpu.pc == 15301);
    CHECK(cpu.sp == 31);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15300] == 27);
}

TEST_CASE( "1B 02C6", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61721;
    cpu.sp = 30237;
    cpu.reg.a = 57;
    cpu.reg.b = 51;
    cpu.reg.c = 175;
    cpu.reg.d = 183;
    cpu.reg.e = 139;
    cpu.reg.f = 208;
    cpu.reg.h = 70;
    cpu.reg.l = 126;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[61721] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 57);
    CHECK(cpu.reg.b == 51);
    CHECK(cpu.reg.c == 175);
    CHECK(cpu.reg.d == 183);
    CHECK(cpu.reg.e == 138);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 70);
    CHECK(cpu.reg.l == 126);
    CHECK(cpu.pc == 61722);
    CHECK(cpu.sp == 30237);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61721] == 27);
}

TEST_CASE( "1B 02C7", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 200;
    cpu.sp = 15306;
    cpu.reg.a = 254;
    cpu.reg.b = 46;
    cpu.reg.c = 122;
    cpu.reg.d = 226;
    cpu.reg.e = 34;
    cpu.reg.f = 160;
    cpu.reg.h = 242;
    cpu.reg.l = 29;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[200] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 46);
    CHECK(cpu.reg.c == 122);
    CHECK(cpu.reg.d == 226);
    CHECK(cpu.reg.e == 33);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 29);
    CHECK(cpu.pc == 201);
    CHECK(cpu.sp == 15306);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[200] == 27);
}

TEST_CASE( "1B 02C8", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29686;
    cpu.sp = 23261;
    cpu.reg.a = 243;
    cpu.reg.b = 156;
    cpu.reg.c = 227;
    cpu.reg.d = 129;
    cpu.reg.e = 34;
    cpu.reg.f = 128;
    cpu.reg.h = 19;
    cpu.reg.l = 107;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[29686] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 243);
    CHECK(cpu.reg.b == 156);
    CHECK(cpu.reg.c == 227);
    CHECK(cpu.reg.d == 129);
    CHECK(cpu.reg.e == 33);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 19);
    CHECK(cpu.reg.l == 107);
    CHECK(cpu.pc == 29687);
    CHECK(cpu.sp == 23261);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29686] == 27);
}

TEST_CASE( "1B 02C9", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5859;
    cpu.sp = 53447;
    cpu.reg.a = 148;
    cpu.reg.b = 203;
    cpu.reg.c = 52;
    cpu.reg.d = 198;
    cpu.reg.e = 154;
    cpu.reg.f = 32;
    cpu.reg.h = 131;
    cpu.reg.l = 76;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[5859] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 148);
    CHECK(cpu.reg.b == 203);
    CHECK(cpu.reg.c == 52);
    CHECK(cpu.reg.d == 198);
    CHECK(cpu.reg.e == 153);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 131);
    CHECK(cpu.reg.l == 76);
    CHECK(cpu.pc == 5860);
    CHECK(cpu.sp == 53447);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5859] == 27);
}

TEST_CASE( "1B 02CA", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38281;
    cpu.sp = 27902;
    cpu.reg.a = 65;
    cpu.reg.b = 147;
    cpu.reg.c = 253;
    cpu.reg.d = 149;
    cpu.reg.e = 41;
    cpu.reg.f = 160;
    cpu.reg.h = 121;
    cpu.reg.l = 195;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[38281] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 65);
    CHECK(cpu.reg.b == 147);
    CHECK(cpu.reg.c == 253);
    CHECK(cpu.reg.d == 149);
    CHECK(cpu.reg.e == 40);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 121);
    CHECK(cpu.reg.l == 195);
    CHECK(cpu.pc == 38282);
    CHECK(cpu.sp == 27902);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38281] == 27);
}

TEST_CASE( "1B 02CB", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40423;
    cpu.sp = 41572;
    cpu.reg.a = 218;
    cpu.reg.b = 43;
    cpu.reg.c = 14;
    cpu.reg.d = 74;
    cpu.reg.e = 8;
    cpu.reg.f = 64;
    cpu.reg.h = 254;
    cpu.reg.l = 0;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[40423] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 218);
    CHECK(cpu.reg.b == 43);
    CHECK(cpu.reg.c == 14);
    CHECK(cpu.reg.d == 74);
    CHECK(cpu.reg.e == 7);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 254);
    CHECK(cpu.reg.l == 0);
    CHECK(cpu.pc == 40424);
    CHECK(cpu.sp == 41572);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40423] == 27);
}

TEST_CASE( "1B 02CC", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32367;
    cpu.sp = 8802;
    cpu.reg.a = 89;
    cpu.reg.b = 14;
    cpu.reg.c = 231;
    cpu.reg.d = 203;
    cpu.reg.e = 154;
    cpu.reg.f = 192;
    cpu.reg.h = 131;
    cpu.reg.l = 201;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[32367] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 89);
    CHECK(cpu.reg.b == 14);
    CHECK(cpu.reg.c == 231);
    CHECK(cpu.reg.d == 203);
    CHECK(cpu.reg.e == 153);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 131);
    CHECK(cpu.reg.l == 201);
    CHECK(cpu.pc == 32368);
    CHECK(cpu.sp == 8802);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[32367] == 27);
}

TEST_CASE( "1B 02CD", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26219;
    cpu.sp = 61179;
    cpu.reg.a = 60;
    cpu.reg.b = 192;
    cpu.reg.c = 15;
    cpu.reg.d = 16;
    cpu.reg.e = 218;
    cpu.reg.f = 0;
    cpu.reg.h = 130;
    cpu.reg.l = 179;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26219] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 60);
    CHECK(cpu.reg.b == 192);
    CHECK(cpu.reg.c == 15);
    CHECK(cpu.reg.d == 16);
    CHECK(cpu.reg.e == 217);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 130);
    CHECK(cpu.reg.l == 179);
    CHECK(cpu.pc == 26220);
    CHECK(cpu.sp == 61179);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26219] == 27);
}

TEST_CASE( "1B 02CE", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15026;
    cpu.sp = 24639;
    cpu.reg.a = 251;
    cpu.reg.b = 120;
    cpu.reg.c = 72;
    cpu.reg.d = 5;
    cpu.reg.e = 143;
    cpu.reg.f = 0;
    cpu.reg.h = 229;
    cpu.reg.l = 173;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[15026] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 251);
    CHECK(cpu.reg.b == 120);
    CHECK(cpu.reg.c == 72);
    CHECK(cpu.reg.d == 5);
    CHECK(cpu.reg.e == 142);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 229);
    CHECK(cpu.reg.l == 173);
    CHECK(cpu.pc == 15027);
    CHECK(cpu.sp == 24639);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15026] == 27);
}

TEST_CASE( "1B 02CF", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30405;
    cpu.sp = 65531;
    cpu.reg.a = 25;
    cpu.reg.b = 67;
    cpu.reg.c = 133;
    cpu.reg.d = 40;
    cpu.reg.e = 230;
    cpu.reg.f = 112;
    cpu.reg.h = 137;
    cpu.reg.l = 162;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[30405] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 25);
    CHECK(cpu.reg.b == 67);
    CHECK(cpu.reg.c == 133);
    CHECK(cpu.reg.d == 40);
    CHECK(cpu.reg.e == 229);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 137);
    CHECK(cpu.reg.l == 162);
    CHECK(cpu.pc == 30406);
    CHECK(cpu.sp == 65531);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30405] == 27);
}

TEST_CASE( "1B 02D0", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32503;
    cpu.sp = 24436;
    cpu.reg.a = 144;
    cpu.reg.b = 29;
    cpu.reg.c = 101;
    cpu.reg.d = 174;
    cpu.reg.e = 105;
    cpu.reg.f = 128;
    cpu.reg.h = 100;
    cpu.reg.l = 11;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[32503] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 144);
    CHECK(cpu.reg.b == 29);
    CHECK(cpu.reg.c == 101);
    CHECK(cpu.reg.d == 174);
    CHECK(cpu.reg.e == 104);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 100);
    CHECK(cpu.reg.l == 11);
    CHECK(cpu.pc == 32504);
    CHECK(cpu.sp == 24436);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[32503] == 27);
}

TEST_CASE( "1B 02D1", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4707;
    cpu.sp = 39268;
    cpu.reg.a = 144;
    cpu.reg.b = 165;
    cpu.reg.c = 161;
    cpu.reg.d = 92;
    cpu.reg.e = 37;
    cpu.reg.f = 16;
    cpu.reg.h = 43;
    cpu.reg.l = 61;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4707] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 144);
    CHECK(cpu.reg.b == 165);
    CHECK(cpu.reg.c == 161);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 36);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 43);
    CHECK(cpu.reg.l == 61);
    CHECK(cpu.pc == 4708);
    CHECK(cpu.sp == 39268);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4707] == 27);
}

TEST_CASE( "1B 02D2", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35298;
    cpu.sp = 40468;
    cpu.reg.a = 155;
    cpu.reg.b = 116;
    cpu.reg.c = 238;
    cpu.reg.d = 204;
    cpu.reg.e = 113;
    cpu.reg.f = 208;
    cpu.reg.h = 5;
    cpu.reg.l = 104;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[35298] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 155);
    CHECK(cpu.reg.b == 116);
    CHECK(cpu.reg.c == 238);
    CHECK(cpu.reg.d == 204);
    CHECK(cpu.reg.e == 112);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 5);
    CHECK(cpu.reg.l == 104);
    CHECK(cpu.pc == 35299);
    CHECK(cpu.sp == 40468);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35298] == 27);
}

TEST_CASE( "1B 02D3", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62136;
    cpu.sp = 40126;
    cpu.reg.a = 95;
    cpu.reg.b = 137;
    cpu.reg.c = 209;
    cpu.reg.d = 73;
    cpu.reg.e = 200;
    cpu.reg.f = 96;
    cpu.reg.h = 116;
    cpu.reg.l = 157;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[62136] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 95);
    CHECK(cpu.reg.b == 137);
    CHECK(cpu.reg.c == 209);
    CHECK(cpu.reg.d == 73);
    CHECK(cpu.reg.e == 199);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 116);
    CHECK(cpu.reg.l == 157);
    CHECK(cpu.pc == 62137);
    CHECK(cpu.sp == 40126);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62136] == 27);
}

TEST_CASE( "1B 02D4", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33514;
    cpu.sp = 14641;
    cpu.reg.a = 105;
    cpu.reg.b = 186;
    cpu.reg.c = 20;
    cpu.reg.d = 218;
    cpu.reg.e = 239;
    cpu.reg.f = 112;
    cpu.reg.h = 253;
    cpu.reg.l = 188;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[33514] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 105);
    CHECK(cpu.reg.b == 186);
    CHECK(cpu.reg.c == 20);
    CHECK(cpu.reg.d == 218);
    CHECK(cpu.reg.e == 238);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 253);
    CHECK(cpu.reg.l == 188);
    CHECK(cpu.pc == 33515);
    CHECK(cpu.sp == 14641);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33514] == 27);
}

TEST_CASE( "1B 02D5", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30210;
    cpu.sp = 16431;
    cpu.reg.a = 221;
    cpu.reg.b = 221;
    cpu.reg.c = 210;
    cpu.reg.d = 130;
    cpu.reg.e = 220;
    cpu.reg.f = 16;
    cpu.reg.h = 159;
    cpu.reg.l = 29;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[30210] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 221);
    CHECK(cpu.reg.b == 221);
    CHECK(cpu.reg.c == 210);
    CHECK(cpu.reg.d == 130);
    CHECK(cpu.reg.e == 219);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 159);
    CHECK(cpu.reg.l == 29);
    CHECK(cpu.pc == 30211);
    CHECK(cpu.sp == 16431);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30210] == 27);
}

TEST_CASE( "1B 02D6", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58121;
    cpu.sp = 84;
    cpu.reg.a = 108;
    cpu.reg.b = 110;
    cpu.reg.c = 211;
    cpu.reg.d = 27;
    cpu.reg.e = 214;
    cpu.reg.f = 112;
    cpu.reg.h = 61;
    cpu.reg.l = 175;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[58121] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 108);
    CHECK(cpu.reg.b == 110);
    CHECK(cpu.reg.c == 211);
    CHECK(cpu.reg.d == 27);
    CHECK(cpu.reg.e == 213);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 61);
    CHECK(cpu.reg.l == 175);
    CHECK(cpu.pc == 58122);
    CHECK(cpu.sp == 84);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[58121] == 27);
}

TEST_CASE( "1B 02D7", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42728;
    cpu.sp = 36885;
    cpu.reg.a = 45;
    cpu.reg.b = 48;
    cpu.reg.c = 144;
    cpu.reg.d = 183;
    cpu.reg.e = 190;
    cpu.reg.f = 16;
    cpu.reg.h = 15;
    cpu.reg.l = 217;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[42728] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 45);
    CHECK(cpu.reg.b == 48);
    CHECK(cpu.reg.c == 144);
    CHECK(cpu.reg.d == 183);
    CHECK(cpu.reg.e == 189);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 15);
    CHECK(cpu.reg.l == 217);
    CHECK(cpu.pc == 42729);
    CHECK(cpu.sp == 36885);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[42728] == 27);
}

TEST_CASE( "1B 02D8", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58745;
    cpu.sp = 36672;
    cpu.reg.a = 86;
    cpu.reg.b = 151;
    cpu.reg.c = 120;
    cpu.reg.d = 194;
    cpu.reg.e = 165;
    cpu.reg.f = 48;
    cpu.reg.h = 71;
    cpu.reg.l = 79;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[58745] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 86);
    CHECK(cpu.reg.b == 151);
    CHECK(cpu.reg.c == 120);
    CHECK(cpu.reg.d == 194);
    CHECK(cpu.reg.e == 164);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 71);
    CHECK(cpu.reg.l == 79);
    CHECK(cpu.pc == 58746);
    CHECK(cpu.sp == 36672);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58745] == 27);
}

TEST_CASE( "1B 02D9", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45090;
    cpu.sp = 51277;
    cpu.reg.a = 48;
    cpu.reg.b = 187;
    cpu.reg.c = 8;
    cpu.reg.d = 233;
    cpu.reg.e = 177;
    cpu.reg.f = 240;
    cpu.reg.h = 82;
    cpu.reg.l = 65;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[45090] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 48);
    CHECK(cpu.reg.b == 187);
    CHECK(cpu.reg.c == 8);
    CHECK(cpu.reg.d == 233);
    CHECK(cpu.reg.e == 176);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 82);
    CHECK(cpu.reg.l == 65);
    CHECK(cpu.pc == 45091);
    CHECK(cpu.sp == 51277);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45090] == 27);
}

TEST_CASE( "1B 02DA", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47507;
    cpu.sp = 64385;
    cpu.reg.a = 107;
    cpu.reg.b = 97;
    cpu.reg.c = 96;
    cpu.reg.d = 226;
    cpu.reg.e = 212;
    cpu.reg.f = 64;
    cpu.reg.h = 160;
    cpu.reg.l = 246;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47507] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 107);
    CHECK(cpu.reg.b == 97);
    CHECK(cpu.reg.c == 96);
    CHECK(cpu.reg.d == 226);
    CHECK(cpu.reg.e == 211);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 160);
    CHECK(cpu.reg.l == 246);
    CHECK(cpu.pc == 47508);
    CHECK(cpu.sp == 64385);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47507] == 27);
}

TEST_CASE( "1B 02DB", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11489;
    cpu.sp = 31577;
    cpu.reg.a = 72;
    cpu.reg.b = 25;
    cpu.reg.c = 113;
    cpu.reg.d = 79;
    cpu.reg.e = 153;
    cpu.reg.f = 112;
    cpu.reg.h = 196;
    cpu.reg.l = 195;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[11489] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 72);
    CHECK(cpu.reg.b == 25);
    CHECK(cpu.reg.c == 113);
    CHECK(cpu.reg.d == 79);
    CHECK(cpu.reg.e == 152);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 196);
    CHECK(cpu.reg.l == 195);
    CHECK(cpu.pc == 11490);
    CHECK(cpu.sp == 31577);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11489] == 27);
}

TEST_CASE( "1B 02DC", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49256;
    cpu.sp = 5147;
    cpu.reg.a = 164;
    cpu.reg.b = 192;
    cpu.reg.c = 44;
    cpu.reg.d = 18;
    cpu.reg.e = 58;
    cpu.reg.f = 112;
    cpu.reg.h = 218;
    cpu.reg.l = 183;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[49256] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 164);
    CHECK(cpu.reg.b == 192);
    CHECK(cpu.reg.c == 44);
    CHECK(cpu.reg.d == 18);
    CHECK(cpu.reg.e == 57);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 218);
    CHECK(cpu.reg.l == 183);
    CHECK(cpu.pc == 49257);
    CHECK(cpu.sp == 5147);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49256] == 27);
}

TEST_CASE( "1B 02DD", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13823;
    cpu.sp = 52087;
    cpu.reg.a = 184;
    cpu.reg.b = 248;
    cpu.reg.c = 155;
    cpu.reg.d = 96;
    cpu.reg.e = 56;
    cpu.reg.f = 80;
    cpu.reg.h = 243;
    cpu.reg.l = 164;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[13823] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 184);
    CHECK(cpu.reg.b == 248);
    CHECK(cpu.reg.c == 155);
    CHECK(cpu.reg.d == 96);
    CHECK(cpu.reg.e == 55);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 243);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 13824);
    CHECK(cpu.sp == 52087);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13823] == 27);
}

TEST_CASE( "1B 02DE", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20013;
    cpu.sp = 47843;
    cpu.reg.a = 151;
    cpu.reg.b = 162;
    cpu.reg.c = 142;
    cpu.reg.d = 36;
    cpu.reg.e = 7;
    cpu.reg.f = 128;
    cpu.reg.h = 224;
    cpu.reg.l = 147;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[20013] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 151);
    CHECK(cpu.reg.b == 162);
    CHECK(cpu.reg.c == 142);
    CHECK(cpu.reg.d == 36);
    CHECK(cpu.reg.e == 6);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 224);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 20014);
    CHECK(cpu.sp == 47843);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[20013] == 27);
}

TEST_CASE( "1B 02DF", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43281;
    cpu.sp = 45616;
    cpu.reg.a = 232;
    cpu.reg.b = 203;
    cpu.reg.c = 27;
    cpu.reg.d = 10;
    cpu.reg.e = 148;
    cpu.reg.f = 208;
    cpu.reg.h = 255;
    cpu.reg.l = 25;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[43281] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 232);
    CHECK(cpu.reg.b == 203);
    CHECK(cpu.reg.c == 27);
    CHECK(cpu.reg.d == 10);
    CHECK(cpu.reg.e == 147);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 255);
    CHECK(cpu.reg.l == 25);
    CHECK(cpu.pc == 43282);
    CHECK(cpu.sp == 45616);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43281] == 27);
}

TEST_CASE( "1B 02E0", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64952;
    cpu.sp = 5319;
    cpu.reg.a = 163;
    cpu.reg.b = 76;
    cpu.reg.c = 26;
    cpu.reg.d = 191;
    cpu.reg.e = 79;
    cpu.reg.f = 96;
    cpu.reg.h = 58;
    cpu.reg.l = 2;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[64952] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 163);
    CHECK(cpu.reg.b == 76);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 191);
    CHECK(cpu.reg.e == 78);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 58);
    CHECK(cpu.reg.l == 2);
    CHECK(cpu.pc == 64953);
    CHECK(cpu.sp == 5319);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[64952] == 27);
}

TEST_CASE( "1B 02E1", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36844;
    cpu.sp = 41471;
    cpu.reg.a = 78;
    cpu.reg.b = 122;
    cpu.reg.c = 147;
    cpu.reg.d = 177;
    cpu.reg.e = 185;
    cpu.reg.f = 64;
    cpu.reg.h = 118;
    cpu.reg.l = 56;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[36844] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 78);
    CHECK(cpu.reg.b == 122);
    CHECK(cpu.reg.c == 147);
    CHECK(cpu.reg.d == 177);
    CHECK(cpu.reg.e == 184);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 118);
    CHECK(cpu.reg.l == 56);
    CHECK(cpu.pc == 36845);
    CHECK(cpu.sp == 41471);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[36844] == 27);
}

TEST_CASE( "1B 02E2", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41178;
    cpu.sp = 63008;
    cpu.reg.a = 224;
    cpu.reg.b = 143;
    cpu.reg.c = 120;
    cpu.reg.d = 238;
    cpu.reg.e = 197;
    cpu.reg.f = 128;
    cpu.reg.h = 208;
    cpu.reg.l = 114;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[41178] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 143);
    CHECK(cpu.reg.c == 120);
    CHECK(cpu.reg.d == 238);
    CHECK(cpu.reg.e == 196);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 208);
    CHECK(cpu.reg.l == 114);
    CHECK(cpu.pc == 41179);
    CHECK(cpu.sp == 63008);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41178] == 27);
}

TEST_CASE( "1B 02E3", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65199;
    cpu.sp = 48943;
    cpu.reg.a = 200;
    cpu.reg.b = 196;
    cpu.reg.c = 237;
    cpu.reg.d = 87;
    cpu.reg.e = 186;
    cpu.reg.f = 144;
    cpu.reg.h = 185;
    cpu.reg.l = 242;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[65199] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 200);
    CHECK(cpu.reg.b == 196);
    CHECK(cpu.reg.c == 237);
    CHECK(cpu.reg.d == 87);
    CHECK(cpu.reg.e == 185);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 185);
    CHECK(cpu.reg.l == 242);
    CHECK(cpu.pc == 65200);
    CHECK(cpu.sp == 48943);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[65199] == 27);
}

TEST_CASE( "1B 02E4", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28061;
    cpu.sp = 46157;
    cpu.reg.a = 100;
    cpu.reg.b = 207;
    cpu.reg.c = 178;
    cpu.reg.d = 32;
    cpu.reg.e = 173;
    cpu.reg.f = 144;
    cpu.reg.h = 139;
    cpu.reg.l = 147;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[28061] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 100);
    CHECK(cpu.reg.b == 207);
    CHECK(cpu.reg.c == 178);
    CHECK(cpu.reg.d == 32);
    CHECK(cpu.reg.e == 172);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 139);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 28062);
    CHECK(cpu.sp == 46157);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[28061] == 27);
}

TEST_CASE( "1B 02E5", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55438;
    cpu.sp = 17776;
    cpu.reg.a = 140;
    cpu.reg.b = 238;
    cpu.reg.c = 182;
    cpu.reg.d = 104;
    cpu.reg.e = 111;
    cpu.reg.f = 144;
    cpu.reg.h = 146;
    cpu.reg.l = 168;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[55438] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 140);
    CHECK(cpu.reg.b == 238);
    CHECK(cpu.reg.c == 182);
    CHECK(cpu.reg.d == 104);
    CHECK(cpu.reg.e == 110);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 146);
    CHECK(cpu.reg.l == 168);
    CHECK(cpu.pc == 55439);
    CHECK(cpu.sp == 17776);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55438] == 27);
}

TEST_CASE( "1B 02E6", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5657;
    cpu.sp = 3962;
    cpu.reg.a = 211;
    cpu.reg.b = 140;
    cpu.reg.c = 20;
    cpu.reg.d = 107;
    cpu.reg.e = 61;
    cpu.reg.f = 176;
    cpu.reg.h = 2;
    cpu.reg.l = 245;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[5657] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 211);
    CHECK(cpu.reg.b == 140);
    CHECK(cpu.reg.c == 20);
    CHECK(cpu.reg.d == 107);
    CHECK(cpu.reg.e == 60);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 2);
    CHECK(cpu.reg.l == 245);
    CHECK(cpu.pc == 5658);
    CHECK(cpu.sp == 3962);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5657] == 27);
}

TEST_CASE( "1B 02E7", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25366;
    cpu.sp = 35024;
    cpu.reg.a = 89;
    cpu.reg.b = 141;
    cpu.reg.c = 171;
    cpu.reg.d = 104;
    cpu.reg.e = 248;
    cpu.reg.f = 224;
    cpu.reg.h = 119;
    cpu.reg.l = 153;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[25366] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 89);
    CHECK(cpu.reg.b == 141);
    CHECK(cpu.reg.c == 171);
    CHECK(cpu.reg.d == 104);
    CHECK(cpu.reg.e == 247);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 119);
    CHECK(cpu.reg.l == 153);
    CHECK(cpu.pc == 25367);
    CHECK(cpu.sp == 35024);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25366] == 27);
}

TEST_CASE( "1B 02E8", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19520;
    cpu.sp = 28640;
    cpu.reg.a = 38;
    cpu.reg.b = 181;
    cpu.reg.c = 93;
    cpu.reg.d = 76;
    cpu.reg.e = 50;
    cpu.reg.f = 96;
    cpu.reg.h = 243;
    cpu.reg.l = 7;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[19520] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 38);
    CHECK(cpu.reg.b == 181);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 76);
    CHECK(cpu.reg.e == 49);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 243);
    CHECK(cpu.reg.l == 7);
    CHECK(cpu.pc == 19521);
    CHECK(cpu.sp == 28640);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19520] == 27);
}

TEST_CASE( "1B 02E9", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42657;
    cpu.sp = 35759;
    cpu.reg.a = 16;
    cpu.reg.b = 47;
    cpu.reg.c = 9;
    cpu.reg.d = 169;
    cpu.reg.e = 81;
    cpu.reg.f = 160;
    cpu.reg.h = 212;
    cpu.reg.l = 91;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[42657] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 16);
    CHECK(cpu.reg.b == 47);
    CHECK(cpu.reg.c == 9);
    CHECK(cpu.reg.d == 169);
    CHECK(cpu.reg.e == 80);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 212);
    CHECK(cpu.reg.l == 91);
    CHECK(cpu.pc == 42658);
    CHECK(cpu.sp == 35759);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[42657] == 27);
}

TEST_CASE( "1B 02EA", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24448;
    cpu.sp = 31764;
    cpu.reg.a = 77;
    cpu.reg.b = 204;
    cpu.reg.c = 80;
    cpu.reg.d = 208;
    cpu.reg.e = 42;
    cpu.reg.f = 112;
    cpu.reg.h = 7;
    cpu.reg.l = 199;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[24448] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 77);
    CHECK(cpu.reg.b == 204);
    CHECK(cpu.reg.c == 80);
    CHECK(cpu.reg.d == 208);
    CHECK(cpu.reg.e == 41);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 7);
    CHECK(cpu.reg.l == 199);
    CHECK(cpu.pc == 24449);
    CHECK(cpu.sp == 31764);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24448] == 27);
}

TEST_CASE( "1B 02EB", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54292;
    cpu.sp = 328;
    cpu.reg.a = 186;
    cpu.reg.b = 245;
    cpu.reg.c = 219;
    cpu.reg.d = 101;
    cpu.reg.e = 64;
    cpu.reg.f = 240;
    cpu.reg.h = 244;
    cpu.reg.l = 204;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[54292] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 186);
    CHECK(cpu.reg.b == 245);
    CHECK(cpu.reg.c == 219);
    CHECK(cpu.reg.d == 101);
    CHECK(cpu.reg.e == 63);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 244);
    CHECK(cpu.reg.l == 204);
    CHECK(cpu.pc == 54293);
    CHECK(cpu.sp == 328);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54292] == 27);
}

TEST_CASE( "1B 02EC", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58462;
    cpu.sp = 17946;
    cpu.reg.a = 36;
    cpu.reg.b = 14;
    cpu.reg.c = 34;
    cpu.reg.d = 22;
    cpu.reg.e = 65;
    cpu.reg.f = 176;
    cpu.reg.h = 116;
    cpu.reg.l = 78;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[58462] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 36);
    CHECK(cpu.reg.b == 14);
    CHECK(cpu.reg.c == 34);
    CHECK(cpu.reg.d == 22);
    CHECK(cpu.reg.e == 64);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 116);
    CHECK(cpu.reg.l == 78);
    CHECK(cpu.pc == 58463);
    CHECK(cpu.sp == 17946);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[58462] == 27);
}

TEST_CASE( "1B 02ED", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12069;
    cpu.sp = 1807;
    cpu.reg.a = 151;
    cpu.reg.b = 235;
    cpu.reg.c = 53;
    cpu.reg.d = 42;
    cpu.reg.e = 96;
    cpu.reg.f = 144;
    cpu.reg.h = 77;
    cpu.reg.l = 150;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[12069] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 151);
    CHECK(cpu.reg.b == 235);
    CHECK(cpu.reg.c == 53);
    CHECK(cpu.reg.d == 42);
    CHECK(cpu.reg.e == 95);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 77);
    CHECK(cpu.reg.l == 150);
    CHECK(cpu.pc == 12070);
    CHECK(cpu.sp == 1807);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12069] == 27);
}

TEST_CASE( "1B 02EE", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39618;
    cpu.sp = 40462;
    cpu.reg.a = 107;
    cpu.reg.b = 237;
    cpu.reg.c = 26;
    cpu.reg.d = 103;
    cpu.reg.e = 199;
    cpu.reg.f = 176;
    cpu.reg.h = 174;
    cpu.reg.l = 68;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[39618] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 107);
    CHECK(cpu.reg.b == 237);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 103);
    CHECK(cpu.reg.e == 198);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 174);
    CHECK(cpu.reg.l == 68);
    CHECK(cpu.pc == 39619);
    CHECK(cpu.sp == 40462);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39618] == 27);
}

TEST_CASE( "1B 02EF", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32712;
    cpu.sp = 41571;
    cpu.reg.a = 48;
    cpu.reg.b = 80;
    cpu.reg.c = 238;
    cpu.reg.d = 134;
    cpu.reg.e = 64;
    cpu.reg.f = 160;
    cpu.reg.h = 131;
    cpu.reg.l = 13;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[32712] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 48);
    CHECK(cpu.reg.b == 80);
    CHECK(cpu.reg.c == 238);
    CHECK(cpu.reg.d == 134);
    CHECK(cpu.reg.e == 63);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 131);
    CHECK(cpu.reg.l == 13);
    CHECK(cpu.pc == 32713);
    CHECK(cpu.sp == 41571);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[32712] == 27);
}

TEST_CASE( "1B 02F0", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52747;
    cpu.sp = 12083;
    cpu.reg.a = 14;
    cpu.reg.b = 77;
    cpu.reg.c = 3;
    cpu.reg.d = 213;
    cpu.reg.e = 116;
    cpu.reg.f = 128;
    cpu.reg.h = 64;
    cpu.reg.l = 230;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[52747] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 14);
    CHECK(cpu.reg.b == 77);
    CHECK(cpu.reg.c == 3);
    CHECK(cpu.reg.d == 213);
    CHECK(cpu.reg.e == 115);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 64);
    CHECK(cpu.reg.l == 230);
    CHECK(cpu.pc == 52748);
    CHECK(cpu.sp == 12083);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[52747] == 27);
}

TEST_CASE( "1B 02F1", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20223;
    cpu.sp = 65111;
    cpu.reg.a = 192;
    cpu.reg.b = 73;
    cpu.reg.c = 205;
    cpu.reg.d = 189;
    cpu.reg.e = 4;
    cpu.reg.f = 224;
    cpu.reg.h = 79;
    cpu.reg.l = 79;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[20223] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 192);
    CHECK(cpu.reg.b == 73);
    CHECK(cpu.reg.c == 205);
    CHECK(cpu.reg.d == 189);
    CHECK(cpu.reg.e == 3);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 79);
    CHECK(cpu.reg.l == 79);
    CHECK(cpu.pc == 20224);
    CHECK(cpu.sp == 65111);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20223] == 27);
}

TEST_CASE( "1B 02F2", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23054;
    cpu.sp = 31913;
    cpu.reg.a = 104;
    cpu.reg.b = 139;
    cpu.reg.c = 51;
    cpu.reg.d = 155;
    cpu.reg.e = 114;
    cpu.reg.f = 16;
    cpu.reg.h = 120;
    cpu.reg.l = 8;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[23054] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 104);
    CHECK(cpu.reg.b == 139);
    CHECK(cpu.reg.c == 51);
    CHECK(cpu.reg.d == 155);
    CHECK(cpu.reg.e == 113);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 120);
    CHECK(cpu.reg.l == 8);
    CHECK(cpu.pc == 23055);
    CHECK(cpu.sp == 31913);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23054] == 27);
}

TEST_CASE( "1B 02F3", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15689;
    cpu.sp = 50250;
    cpu.reg.a = 5;
    cpu.reg.b = 12;
    cpu.reg.c = 159;
    cpu.reg.d = 132;
    cpu.reg.e = 64;
    cpu.reg.f = 96;
    cpu.reg.h = 8;
    cpu.reg.l = 83;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[15689] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 5);
    CHECK(cpu.reg.b == 12);
    CHECK(cpu.reg.c == 159);
    CHECK(cpu.reg.d == 132);
    CHECK(cpu.reg.e == 63);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 8);
    CHECK(cpu.reg.l == 83);
    CHECK(cpu.pc == 15690);
    CHECK(cpu.sp == 50250);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15689] == 27);
}

TEST_CASE( "1B 02F4", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35353;
    cpu.sp = 5472;
    cpu.reg.a = 118;
    cpu.reg.b = 201;
    cpu.reg.c = 86;
    cpu.reg.d = 85;
    cpu.reg.e = 213;
    cpu.reg.f = 16;
    cpu.reg.h = 225;
    cpu.reg.l = 234;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[35353] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 118);
    CHECK(cpu.reg.b == 201);
    CHECK(cpu.reg.c == 86);
    CHECK(cpu.reg.d == 85);
    CHECK(cpu.reg.e == 212);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 225);
    CHECK(cpu.reg.l == 234);
    CHECK(cpu.pc == 35354);
    CHECK(cpu.sp == 5472);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35353] == 27);
}

TEST_CASE( "1B 02F5", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56625;
    cpu.sp = 1898;
    cpu.reg.a = 146;
    cpu.reg.b = 197;
    cpu.reg.c = 103;
    cpu.reg.d = 174;
    cpu.reg.e = 62;
    cpu.reg.f = 160;
    cpu.reg.h = 193;
    cpu.reg.l = 253;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[56625] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 146);
    CHECK(cpu.reg.b == 197);
    CHECK(cpu.reg.c == 103);
    CHECK(cpu.reg.d == 174);
    CHECK(cpu.reg.e == 61);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 193);
    CHECK(cpu.reg.l == 253);
    CHECK(cpu.pc == 56626);
    CHECK(cpu.sp == 1898);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56625] == 27);
}

TEST_CASE( "1B 02F6", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16895;
    cpu.sp = 22116;
    cpu.reg.a = 106;
    cpu.reg.b = 69;
    cpu.reg.c = 250;
    cpu.reg.d = 205;
    cpu.reg.e = 235;
    cpu.reg.f = 224;
    cpu.reg.h = 87;
    cpu.reg.l = 66;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[16895] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 106);
    CHECK(cpu.reg.b == 69);
    CHECK(cpu.reg.c == 250);
    CHECK(cpu.reg.d == 205);
    CHECK(cpu.reg.e == 234);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 87);
    CHECK(cpu.reg.l == 66);
    CHECK(cpu.pc == 16896);
    CHECK(cpu.sp == 22116);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16895] == 27);
}

TEST_CASE( "1B 02F7", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45875;
    cpu.sp = 44450;
    cpu.reg.a = 5;
    cpu.reg.b = 184;
    cpu.reg.c = 28;
    cpu.reg.d = 134;
    cpu.reg.e = 128;
    cpu.reg.f = 96;
    cpu.reg.h = 91;
    cpu.reg.l = 251;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[45875] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 5);
    CHECK(cpu.reg.b == 184);
    CHECK(cpu.reg.c == 28);
    CHECK(cpu.reg.d == 134);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 91);
    CHECK(cpu.reg.l == 251);
    CHECK(cpu.pc == 45876);
    CHECK(cpu.sp == 44450);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45875] == 27);
}

TEST_CASE( "1B 02F8", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64934;
    cpu.sp = 48741;
    cpu.reg.a = 103;
    cpu.reg.b = 193;
    cpu.reg.c = 147;
    cpu.reg.d = 89;
    cpu.reg.e = 0;
    cpu.reg.f = 48;
    cpu.reg.h = 163;
    cpu.reg.l = 68;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[64934] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 103);
    CHECK(cpu.reg.b == 193);
    CHECK(cpu.reg.c == 147);
    CHECK(cpu.reg.d == 88);
    CHECK(cpu.reg.e == 255);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 163);
    CHECK(cpu.reg.l == 68);
    CHECK(cpu.pc == 64935);
    CHECK(cpu.sp == 48741);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64934] == 27);
}

TEST_CASE( "1B 02F9", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46678;
    cpu.sp = 59231;
    cpu.reg.a = 146;
    cpu.reg.b = 188;
    cpu.reg.c = 244;
    cpu.reg.d = 208;
    cpu.reg.e = 30;
    cpu.reg.f = 0;
    cpu.reg.h = 22;
    cpu.reg.l = 153;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[46678] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 146);
    CHECK(cpu.reg.b == 188);
    CHECK(cpu.reg.c == 244);
    CHECK(cpu.reg.d == 208);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 22);
    CHECK(cpu.reg.l == 153);
    CHECK(cpu.pc == 46679);
    CHECK(cpu.sp == 59231);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46678] == 27);
}

TEST_CASE( "1B 02FA", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18787;
    cpu.sp = 48000;
    cpu.reg.a = 185;
    cpu.reg.b = 146;
    cpu.reg.c = 41;
    cpu.reg.d = 62;
    cpu.reg.e = 240;
    cpu.reg.f = 0;
    cpu.reg.h = 202;
    cpu.reg.l = 134;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[18787] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 185);
    CHECK(cpu.reg.b == 146);
    CHECK(cpu.reg.c == 41);
    CHECK(cpu.reg.d == 62);
    CHECK(cpu.reg.e == 239);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 202);
    CHECK(cpu.reg.l == 134);
    CHECK(cpu.pc == 18788);
    CHECK(cpu.sp == 48000);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18787] == 27);
}

TEST_CASE( "1B 02FB", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44624;
    cpu.sp = 26211;
    cpu.reg.a = 167;
    cpu.reg.b = 142;
    cpu.reg.c = 158;
    cpu.reg.d = 79;
    cpu.reg.e = 198;
    cpu.reg.f = 160;
    cpu.reg.h = 186;
    cpu.reg.l = 71;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[44624] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 167);
    CHECK(cpu.reg.b == 142);
    CHECK(cpu.reg.c == 158);
    CHECK(cpu.reg.d == 79);
    CHECK(cpu.reg.e == 197);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 186);
    CHECK(cpu.reg.l == 71);
    CHECK(cpu.pc == 44625);
    CHECK(cpu.sp == 26211);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44624] == 27);
}

TEST_CASE( "1B 02FC", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37463;
    cpu.sp = 4841;
    cpu.reg.a = 117;
    cpu.reg.b = 227;
    cpu.reg.c = 83;
    cpu.reg.d = 129;
    cpu.reg.e = 41;
    cpu.reg.f = 80;
    cpu.reg.h = 26;
    cpu.reg.l = 113;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[37463] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 117);
    CHECK(cpu.reg.b == 227);
    CHECK(cpu.reg.c == 83);
    CHECK(cpu.reg.d == 129);
    CHECK(cpu.reg.e == 40);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 26);
    CHECK(cpu.reg.l == 113);
    CHECK(cpu.pc == 37464);
    CHECK(cpu.sp == 4841);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[37463] == 27);
}

TEST_CASE( "1B 02FD", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4689;
    cpu.sp = 4375;
    cpu.reg.a = 172;
    cpu.reg.b = 184;
    cpu.reg.c = 52;
    cpu.reg.d = 64;
    cpu.reg.e = 129;
    cpu.reg.f = 48;
    cpu.reg.h = 178;
    cpu.reg.l = 46;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[4689] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 172);
    CHECK(cpu.reg.b == 184);
    CHECK(cpu.reg.c == 52);
    CHECK(cpu.reg.d == 64);
    CHECK(cpu.reg.e == 128);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 178);
    CHECK(cpu.reg.l == 46);
    CHECK(cpu.pc == 4690);
    CHECK(cpu.sp == 4375);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4689] == 27);
}

TEST_CASE( "1B 02FE", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25594;
    cpu.sp = 47384;
    cpu.reg.a = 241;
    cpu.reg.b = 28;
    cpu.reg.c = 60;
    cpu.reg.d = 147;
    cpu.reg.e = 19;
    cpu.reg.f = 160;
    cpu.reg.h = 69;
    cpu.reg.l = 145;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[25594] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 241);
    CHECK(cpu.reg.b == 28);
    CHECK(cpu.reg.c == 60);
    CHECK(cpu.reg.d == 147);
    CHECK(cpu.reg.e == 18);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 69);
    CHECK(cpu.reg.l == 145);
    CHECK(cpu.pc == 25595);
    CHECK(cpu.sp == 47384);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25594] == 27);
}

TEST_CASE( "1B 02FF", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52716;
    cpu.sp = 59702;
    cpu.reg.a = 119;
    cpu.reg.b = 175;
    cpu.reg.c = 87;
    cpu.reg.d = 26;
    cpu.reg.e = 110;
    cpu.reg.f = 16;
    cpu.reg.h = 214;
    cpu.reg.l = 105;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[52716] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 119);
    CHECK(cpu.reg.b == 175);
    CHECK(cpu.reg.c == 87);
    CHECK(cpu.reg.d == 26);
    CHECK(cpu.reg.e == 109);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 214);
    CHECK(cpu.reg.l == 105);
    CHECK(cpu.pc == 52717);
    CHECK(cpu.sp == 59702);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[52716] == 27);
}

TEST_CASE( "1B 0300", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 763;
    cpu.sp = 15136;
    cpu.reg.a = 77;
    cpu.reg.b = 80;
    cpu.reg.c = 228;
    cpu.reg.d = 203;
    cpu.reg.e = 187;
    cpu.reg.f = 112;
    cpu.reg.h = 217;
    cpu.reg.l = 185;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[763] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 77);
    CHECK(cpu.reg.b == 80);
    CHECK(cpu.reg.c == 228);
    CHECK(cpu.reg.d == 203);
    CHECK(cpu.reg.e == 186);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 217);
    CHECK(cpu.reg.l == 185);
    CHECK(cpu.pc == 764);
    CHECK(cpu.sp == 15136);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[763] == 27);
}

TEST_CASE( "1B 0301", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9330;
    cpu.sp = 17124;
    cpu.reg.a = 120;
    cpu.reg.b = 83;
    cpu.reg.c = 73;
    cpu.reg.d = 144;
    cpu.reg.e = 235;
    cpu.reg.f = 64;
    cpu.reg.h = 125;
    cpu.reg.l = 221;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[9330] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 120);
    CHECK(cpu.reg.b == 83);
    CHECK(cpu.reg.c == 73);
    CHECK(cpu.reg.d == 144);
    CHECK(cpu.reg.e == 234);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 125);
    CHECK(cpu.reg.l == 221);
    CHECK(cpu.pc == 9331);
    CHECK(cpu.sp == 17124);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9330] == 27);
}

TEST_CASE( "1B 0302", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36924;
    cpu.sp = 58425;
    cpu.reg.a = 151;
    cpu.reg.b = 177;
    cpu.reg.c = 71;
    cpu.reg.d = 77;
    cpu.reg.e = 56;
    cpu.reg.f = 192;
    cpu.reg.h = 168;
    cpu.reg.l = 161;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[36924] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 151);
    CHECK(cpu.reg.b == 177);
    CHECK(cpu.reg.c == 71);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 55);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 168);
    CHECK(cpu.reg.l == 161);
    CHECK(cpu.pc == 36925);
    CHECK(cpu.sp == 58425);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[36924] == 27);
}

TEST_CASE( "1B 0303", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35260;
    cpu.sp = 3632;
    cpu.reg.a = 227;
    cpu.reg.b = 59;
    cpu.reg.c = 25;
    cpu.reg.d = 160;
    cpu.reg.e = 17;
    cpu.reg.f = 48;
    cpu.reg.h = 146;
    cpu.reg.l = 245;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[35260] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 227);
    CHECK(cpu.reg.b == 59);
    CHECK(cpu.reg.c == 25);
    CHECK(cpu.reg.d == 160);
    CHECK(cpu.reg.e == 16);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 146);
    CHECK(cpu.reg.l == 245);
    CHECK(cpu.pc == 35261);
    CHECK(cpu.sp == 3632);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35260] == 27);
}

TEST_CASE( "1B 0304", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40300;
    cpu.sp = 12953;
    cpu.reg.a = 242;
    cpu.reg.b = 223;
    cpu.reg.c = 192;
    cpu.reg.d = 118;
    cpu.reg.e = 77;
    cpu.reg.f = 160;
    cpu.reg.h = 143;
    cpu.reg.l = 162;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[40300] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 242);
    CHECK(cpu.reg.b == 223);
    CHECK(cpu.reg.c == 192);
    CHECK(cpu.reg.d == 118);
    CHECK(cpu.reg.e == 76);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 143);
    CHECK(cpu.reg.l == 162);
    CHECK(cpu.pc == 40301);
    CHECK(cpu.sp == 12953);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40300] == 27);
}

TEST_CASE( "1B 0305", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 439;
    cpu.sp = 47924;
    cpu.reg.a = 9;
    cpu.reg.b = 174;
    cpu.reg.c = 31;
    cpu.reg.d = 246;
    cpu.reg.e = 202;
    cpu.reg.f = 160;
    cpu.reg.h = 67;
    cpu.reg.l = 129;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[439] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 9);
    CHECK(cpu.reg.b == 174);
    CHECK(cpu.reg.c == 31);
    CHECK(cpu.reg.d == 246);
    CHECK(cpu.reg.e == 201);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 67);
    CHECK(cpu.reg.l == 129);
    CHECK(cpu.pc == 440);
    CHECK(cpu.sp == 47924);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[439] == 27);
}

TEST_CASE( "1B 0306", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49581;
    cpu.sp = 15178;
    cpu.reg.a = 69;
    cpu.reg.b = 142;
    cpu.reg.c = 112;
    cpu.reg.d = 33;
    cpu.reg.e = 15;
    cpu.reg.f = 80;
    cpu.reg.h = 139;
    cpu.reg.l = 61;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[49581] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 69);
    CHECK(cpu.reg.b == 142);
    CHECK(cpu.reg.c == 112);
    CHECK(cpu.reg.d == 33);
    CHECK(cpu.reg.e == 14);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 139);
    CHECK(cpu.reg.l == 61);
    CHECK(cpu.pc == 49582);
    CHECK(cpu.sp == 15178);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49581] == 27);
}

TEST_CASE( "1B 0307", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5983;
    cpu.sp = 45429;
    cpu.reg.a = 214;
    cpu.reg.b = 251;
    cpu.reg.c = 84;
    cpu.reg.d = 50;
    cpu.reg.e = 85;
    cpu.reg.f = 160;
    cpu.reg.h = 146;
    cpu.reg.l = 236;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[5983] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 214);
    CHECK(cpu.reg.b == 251);
    CHECK(cpu.reg.c == 84);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 84);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 146);
    CHECK(cpu.reg.l == 236);
    CHECK(cpu.pc == 5984);
    CHECK(cpu.sp == 45429);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5983] == 27);
}

TEST_CASE( "1B 0308", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3990;
    cpu.sp = 8688;
    cpu.reg.a = 171;
    cpu.reg.b = 172;
    cpu.reg.c = 208;
    cpu.reg.d = 205;
    cpu.reg.e = 179;
    cpu.reg.f = 48;
    cpu.reg.h = 201;
    cpu.reg.l = 198;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[3990] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 171);
    CHECK(cpu.reg.b == 172);
    CHECK(cpu.reg.c == 208);
    CHECK(cpu.reg.d == 205);
    CHECK(cpu.reg.e == 178);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 201);
    CHECK(cpu.reg.l == 198);
    CHECK(cpu.pc == 3991);
    CHECK(cpu.sp == 8688);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3990] == 27);
}

TEST_CASE( "1B 0309", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10446;
    cpu.sp = 62624;
    cpu.reg.a = 165;
    cpu.reg.b = 136;
    cpu.reg.c = 214;
    cpu.reg.d = 246;
    cpu.reg.e = 187;
    cpu.reg.f = 0;
    cpu.reg.h = 36;
    cpu.reg.l = 75;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[10446] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 165);
    CHECK(cpu.reg.b == 136);
    CHECK(cpu.reg.c == 214);
    CHECK(cpu.reg.d == 246);
    CHECK(cpu.reg.e == 186);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 36);
    CHECK(cpu.reg.l == 75);
    CHECK(cpu.pc == 10447);
    CHECK(cpu.sp == 62624);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10446] == 27);
}

TEST_CASE( "1B 030A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39575;
    cpu.sp = 36342;
    cpu.reg.a = 230;
    cpu.reg.b = 141;
    cpu.reg.c = 15;
    cpu.reg.d = 233;
    cpu.reg.e = 68;
    cpu.reg.f = 96;
    cpu.reg.h = 175;
    cpu.reg.l = 82;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[39575] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 230);
    CHECK(cpu.reg.b == 141);
    CHECK(cpu.reg.c == 15);
    CHECK(cpu.reg.d == 233);
    CHECK(cpu.reg.e == 67);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 175);
    CHECK(cpu.reg.l == 82);
    CHECK(cpu.pc == 39576);
    CHECK(cpu.sp == 36342);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39575] == 27);
}

TEST_CASE( "1B 030B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62551;
    cpu.sp = 47473;
    cpu.reg.a = 188;
    cpu.reg.b = 171;
    cpu.reg.c = 172;
    cpu.reg.d = 77;
    cpu.reg.e = 131;
    cpu.reg.f = 80;
    cpu.reg.h = 217;
    cpu.reg.l = 166;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[62551] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 188);
    CHECK(cpu.reg.b == 171);
    CHECK(cpu.reg.c == 172);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 130);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 217);
    CHECK(cpu.reg.l == 166);
    CHECK(cpu.pc == 62552);
    CHECK(cpu.sp == 47473);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[62551] == 27);
}

TEST_CASE( "1B 030C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25853;
    cpu.sp = 10663;
    cpu.reg.a = 175;
    cpu.reg.b = 45;
    cpu.reg.c = 148;
    cpu.reg.d = 146;
    cpu.reg.e = 221;
    cpu.reg.f = 96;
    cpu.reg.h = 221;
    cpu.reg.l = 7;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[25853] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 175);
    CHECK(cpu.reg.b == 45);
    CHECK(cpu.reg.c == 148);
    CHECK(cpu.reg.d == 146);
    CHECK(cpu.reg.e == 220);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 221);
    CHECK(cpu.reg.l == 7);
    CHECK(cpu.pc == 25854);
    CHECK(cpu.sp == 10663);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25853] == 27);
}

TEST_CASE( "1B 030D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57603;
    cpu.sp = 14254;
    cpu.reg.a = 5;
    cpu.reg.b = 21;
    cpu.reg.c = 72;
    cpu.reg.d = 113;
    cpu.reg.e = 164;
    cpu.reg.f = 64;
    cpu.reg.h = 160;
    cpu.reg.l = 42;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[57603] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 5);
    CHECK(cpu.reg.b == 21);
    CHECK(cpu.reg.c == 72);
    CHECK(cpu.reg.d == 113);
    CHECK(cpu.reg.e == 163);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 160);
    CHECK(cpu.reg.l == 42);
    CHECK(cpu.pc == 57604);
    CHECK(cpu.sp == 14254);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[57603] == 27);
}

TEST_CASE( "1B 030E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41811;
    cpu.sp = 8996;
    cpu.reg.a = 69;
    cpu.reg.b = 119;
    cpu.reg.c = 2;
    cpu.reg.d = 77;
    cpu.reg.e = 242;
    cpu.reg.f = 0;
    cpu.reg.h = 102;
    cpu.reg.l = 207;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[41811] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 69);
    CHECK(cpu.reg.b == 119);
    CHECK(cpu.reg.c == 2);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 241);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 102);
    CHECK(cpu.reg.l == 207);
    CHECK(cpu.pc == 41812);
    CHECK(cpu.sp == 8996);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41811] == 27);
}

TEST_CASE( "1B 030F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59813;
    cpu.sp = 15569;
    cpu.reg.a = 138;
    cpu.reg.b = 154;
    cpu.reg.c = 69;
    cpu.reg.d = 28;
    cpu.reg.e = 201;
    cpu.reg.f = 80;
    cpu.reg.h = 195;
    cpu.reg.l = 85;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[59813] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 138);
    CHECK(cpu.reg.b == 154);
    CHECK(cpu.reg.c == 69);
    CHECK(cpu.reg.d == 28);
    CHECK(cpu.reg.e == 200);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 195);
    CHECK(cpu.reg.l == 85);
    CHECK(cpu.pc == 59814);
    CHECK(cpu.sp == 15569);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[59813] == 27);
}

TEST_CASE( "1B 0310", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18772;
    cpu.sp = 1359;
    cpu.reg.a = 223;
    cpu.reg.b = 153;
    cpu.reg.c = 74;
    cpu.reg.d = 64;
    cpu.reg.e = 4;
    cpu.reg.f = 0;
    cpu.reg.h = 226;
    cpu.reg.l = 71;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[18772] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 223);
    CHECK(cpu.reg.b == 153);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 64);
    CHECK(cpu.reg.e == 3);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 226);
    CHECK(cpu.reg.l == 71);
    CHECK(cpu.pc == 18773);
    CHECK(cpu.sp == 1359);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18772] == 27);
}

TEST_CASE( "1B 0311", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34431;
    cpu.sp = 51124;
    cpu.reg.a = 219;
    cpu.reg.b = 137;
    cpu.reg.c = 189;
    cpu.reg.d = 141;
    cpu.reg.e = 22;
    cpu.reg.f = 192;
    cpu.reg.h = 6;
    cpu.reg.l = 77;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[34431] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 219);
    CHECK(cpu.reg.b == 137);
    CHECK(cpu.reg.c == 189);
    CHECK(cpu.reg.d == 141);
    CHECK(cpu.reg.e == 21);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 6);
    CHECK(cpu.reg.l == 77);
    CHECK(cpu.pc == 34432);
    CHECK(cpu.sp == 51124);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[34431] == 27);
}

TEST_CASE( "1B 0312", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2648;
    cpu.sp = 41097;
    cpu.reg.a = 198;
    cpu.reg.b = 146;
    cpu.reg.c = 198;
    cpu.reg.d = 71;
    cpu.reg.e = 200;
    cpu.reg.f = 176;
    cpu.reg.h = 232;
    cpu.reg.l = 202;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[2648] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 198);
    CHECK(cpu.reg.b == 146);
    CHECK(cpu.reg.c == 198);
    CHECK(cpu.reg.d == 71);
    CHECK(cpu.reg.e == 199);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 232);
    CHECK(cpu.reg.l == 202);
    CHECK(cpu.pc == 2649);
    CHECK(cpu.sp == 41097);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2648] == 27);
}

TEST_CASE( "1B 0313", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18185;
    cpu.sp = 25836;
    cpu.reg.a = 36;
    cpu.reg.b = 178;
    cpu.reg.c = 174;
    cpu.reg.d = 188;
    cpu.reg.e = 59;
    cpu.reg.f = 192;
    cpu.reg.h = 84;
    cpu.reg.l = 72;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[18185] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 36);
    CHECK(cpu.reg.b == 178);
    CHECK(cpu.reg.c == 174);
    CHECK(cpu.reg.d == 188);
    CHECK(cpu.reg.e == 58);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 84);
    CHECK(cpu.reg.l == 72);
    CHECK(cpu.pc == 18186);
    CHECK(cpu.sp == 25836);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18185] == 27);
}

TEST_CASE( "1B 0314", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30743;
    cpu.sp = 7951;
    cpu.reg.a = 253;
    cpu.reg.b = 13;
    cpu.reg.c = 36;
    cpu.reg.d = 13;
    cpu.reg.e = 27;
    cpu.reg.f = 144;
    cpu.reg.h = 136;
    cpu.reg.l = 15;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[30743] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 253);
    CHECK(cpu.reg.b == 13);
    CHECK(cpu.reg.c == 36);
    CHECK(cpu.reg.d == 13);
    CHECK(cpu.reg.e == 26);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 136);
    CHECK(cpu.reg.l == 15);
    CHECK(cpu.pc == 30744);
    CHECK(cpu.sp == 7951);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30743] == 27);
}

TEST_CASE( "1B 0315", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19857;
    cpu.sp = 15086;
    cpu.reg.a = 214;
    cpu.reg.b = 49;
    cpu.reg.c = 136;
    cpu.reg.d = 42;
    cpu.reg.e = 30;
    cpu.reg.f = 160;
    cpu.reg.h = 28;
    cpu.reg.l = 240;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[19857] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 214);
    CHECK(cpu.reg.b == 49);
    CHECK(cpu.reg.c == 136);
    CHECK(cpu.reg.d == 42);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 28);
    CHECK(cpu.reg.l == 240);
    CHECK(cpu.pc == 19858);
    CHECK(cpu.sp == 15086);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19857] == 27);
}

TEST_CASE( "1B 0316", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25542;
    cpu.sp = 42566;
    cpu.reg.a = 110;
    cpu.reg.b = 143;
    cpu.reg.c = 21;
    cpu.reg.d = 226;
    cpu.reg.e = 237;
    cpu.reg.f = 192;
    cpu.reg.h = 11;
    cpu.reg.l = 230;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[25542] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 110);
    CHECK(cpu.reg.b == 143);
    CHECK(cpu.reg.c == 21);
    CHECK(cpu.reg.d == 226);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 11);
    CHECK(cpu.reg.l == 230);
    CHECK(cpu.pc == 25543);
    CHECK(cpu.sp == 42566);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25542] == 27);
}

TEST_CASE( "1B 0317", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45745;
    cpu.sp = 39229;
    cpu.reg.a = 168;
    cpu.reg.b = 72;
    cpu.reg.c = 191;
    cpu.reg.d = 219;
    cpu.reg.e = 63;
    cpu.reg.f = 128;
    cpu.reg.h = 13;
    cpu.reg.l = 215;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[45745] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 168);
    CHECK(cpu.reg.b == 72);
    CHECK(cpu.reg.c == 191);
    CHECK(cpu.reg.d == 219);
    CHECK(cpu.reg.e == 62);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 13);
    CHECK(cpu.reg.l == 215);
    CHECK(cpu.pc == 45746);
    CHECK(cpu.sp == 39229);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45745] == 27);
}

TEST_CASE( "1B 0318", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49772;
    cpu.sp = 23166;
    cpu.reg.a = 231;
    cpu.reg.b = 23;
    cpu.reg.c = 4;
    cpu.reg.d = 23;
    cpu.reg.e = 255;
    cpu.reg.f = 16;
    cpu.reg.h = 41;
    cpu.reg.l = 163;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[49772] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 231);
    CHECK(cpu.reg.b == 23);
    CHECK(cpu.reg.c == 4);
    CHECK(cpu.reg.d == 23);
    CHECK(cpu.reg.e == 254);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 41);
    CHECK(cpu.reg.l == 163);
    CHECK(cpu.pc == 49773);
    CHECK(cpu.sp == 23166);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49772] == 27);
}

TEST_CASE( "1B 0319", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14990;
    cpu.sp = 36394;
    cpu.reg.a = 54;
    cpu.reg.b = 80;
    cpu.reg.c = 208;
    cpu.reg.d = 234;
    cpu.reg.e = 252;
    cpu.reg.f = 192;
    cpu.reg.h = 85;
    cpu.reg.l = 55;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[14990] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 54);
    CHECK(cpu.reg.b == 80);
    CHECK(cpu.reg.c == 208);
    CHECK(cpu.reg.d == 234);
    CHECK(cpu.reg.e == 251);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 85);
    CHECK(cpu.reg.l == 55);
    CHECK(cpu.pc == 14991);
    CHECK(cpu.sp == 36394);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14990] == 27);
}

TEST_CASE( "1B 031A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18750;
    cpu.sp = 34184;
    cpu.reg.a = 2;
    cpu.reg.b = 19;
    cpu.reg.c = 141;
    cpu.reg.d = 77;
    cpu.reg.e = 173;
    cpu.reg.f = 208;
    cpu.reg.h = 5;
    cpu.reg.l = 81;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[18750] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 2);
    CHECK(cpu.reg.b == 19);
    CHECK(cpu.reg.c == 141);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 172);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 5);
    CHECK(cpu.reg.l == 81);
    CHECK(cpu.pc == 18751);
    CHECK(cpu.sp == 34184);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[18750] == 27);
}

TEST_CASE( "1B 031B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47685;
    cpu.sp = 24101;
    cpu.reg.a = 136;
    cpu.reg.b = 168;
    cpu.reg.c = 118;
    cpu.reg.d = 197;
    cpu.reg.e = 236;
    cpu.reg.f = 160;
    cpu.reg.h = 10;
    cpu.reg.l = 141;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[47685] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 136);
    CHECK(cpu.reg.b == 168);
    CHECK(cpu.reg.c == 118);
    CHECK(cpu.reg.d == 197);
    CHECK(cpu.reg.e == 235);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 10);
    CHECK(cpu.reg.l == 141);
    CHECK(cpu.pc == 47686);
    CHECK(cpu.sp == 24101);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47685] == 27);
}

TEST_CASE( "1B 031C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53198;
    cpu.sp = 39785;
    cpu.reg.a = 119;
    cpu.reg.b = 15;
    cpu.reg.c = 206;
    cpu.reg.d = 80;
    cpu.reg.e = 194;
    cpu.reg.f = 0;
    cpu.reg.h = 226;
    cpu.reg.l = 78;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[53198] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 119);
    CHECK(cpu.reg.b == 15);
    CHECK(cpu.reg.c == 206);
    CHECK(cpu.reg.d == 80);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 226);
    CHECK(cpu.reg.l == 78);
    CHECK(cpu.pc == 53199);
    CHECK(cpu.sp == 39785);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[53198] == 27);
}

TEST_CASE( "1B 031D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5715;
    cpu.sp = 3821;
    cpu.reg.a = 1;
    cpu.reg.b = 210;
    cpu.reg.c = 68;
    cpu.reg.d = 32;
    cpu.reg.e = 13;
    cpu.reg.f = 80;
    cpu.reg.h = 31;
    cpu.reg.l = 136;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[5715] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 1);
    CHECK(cpu.reg.b == 210);
    CHECK(cpu.reg.c == 68);
    CHECK(cpu.reg.d == 32);
    CHECK(cpu.reg.e == 12);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 31);
    CHECK(cpu.reg.l == 136);
    CHECK(cpu.pc == 5716);
    CHECK(cpu.sp == 3821);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5715] == 27);
}

TEST_CASE( "1B 031E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28984;
    cpu.sp = 21185;
    cpu.reg.a = 234;
    cpu.reg.b = 159;
    cpu.reg.c = 66;
    cpu.reg.d = 144;
    cpu.reg.e = 142;
    cpu.reg.f = 32;
    cpu.reg.h = 125;
    cpu.reg.l = 40;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[28984] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 234);
    CHECK(cpu.reg.b == 159);
    CHECK(cpu.reg.c == 66);
    CHECK(cpu.reg.d == 144);
    CHECK(cpu.reg.e == 141);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 125);
    CHECK(cpu.reg.l == 40);
    CHECK(cpu.pc == 28985);
    CHECK(cpu.sp == 21185);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28984] == 27);
}

TEST_CASE( "1B 031F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51624;
    cpu.sp = 64610;
    cpu.reg.a = 0;
    cpu.reg.b = 151;
    cpu.reg.c = 150;
    cpu.reg.d = 132;
    cpu.reg.e = 91;
    cpu.reg.f = 208;
    cpu.reg.h = 153;
    cpu.reg.l = 60;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[51624] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 0);
    CHECK(cpu.reg.b == 151);
    CHECK(cpu.reg.c == 150);
    CHECK(cpu.reg.d == 132);
    CHECK(cpu.reg.e == 90);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 153);
    CHECK(cpu.reg.l == 60);
    CHECK(cpu.pc == 51625);
    CHECK(cpu.sp == 64610);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[51624] == 27);
}

TEST_CASE( "1B 0320", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2355;
    cpu.sp = 49749;
    cpu.reg.a = 242;
    cpu.reg.b = 163;
    cpu.reg.c = 13;
    cpu.reg.d = 11;
    cpu.reg.e = 69;
    cpu.reg.f = 160;
    cpu.reg.h = 78;
    cpu.reg.l = 66;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[2355] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 242);
    CHECK(cpu.reg.b == 163);
    CHECK(cpu.reg.c == 13);
    CHECK(cpu.reg.d == 11);
    CHECK(cpu.reg.e == 68);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 78);
    CHECK(cpu.reg.l == 66);
    CHECK(cpu.pc == 2356);
    CHECK(cpu.sp == 49749);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2355] == 27);
}

TEST_CASE( "1B 0321", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24761;
    cpu.sp = 25482;
    cpu.reg.a = 3;
    cpu.reg.b = 209;
    cpu.reg.c = 93;
    cpu.reg.d = 76;
    cpu.reg.e = 124;
    cpu.reg.f = 64;
    cpu.reg.h = 129;
    cpu.reg.l = 159;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[24761] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 3);
    CHECK(cpu.reg.b == 209);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 76);
    CHECK(cpu.reg.e == 123);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 129);
    CHECK(cpu.reg.l == 159);
    CHECK(cpu.pc == 24762);
    CHECK(cpu.sp == 25482);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24761] == 27);
}

TEST_CASE( "1B 0322", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30314;
    cpu.sp = 8995;
    cpu.reg.a = 34;
    cpu.reg.b = 2;
    cpu.reg.c = 246;
    cpu.reg.d = 17;
    cpu.reg.e = 61;
    cpu.reg.f = 32;
    cpu.reg.h = 38;
    cpu.reg.l = 132;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[30314] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 34);
    CHECK(cpu.reg.b == 2);
    CHECK(cpu.reg.c == 246);
    CHECK(cpu.reg.d == 17);
    CHECK(cpu.reg.e == 60);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 38);
    CHECK(cpu.reg.l == 132);
    CHECK(cpu.pc == 30315);
    CHECK(cpu.sp == 8995);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30314] == 27);
}

TEST_CASE( "1B 0323", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26542;
    cpu.sp = 51059;
    cpu.reg.a = 36;
    cpu.reg.b = 89;
    cpu.reg.c = 20;
    cpu.reg.d = 210;
    cpu.reg.e = 211;
    cpu.reg.f = 144;
    cpu.reg.h = 226;
    cpu.reg.l = 218;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26542] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 36);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 20);
    CHECK(cpu.reg.d == 210);
    CHECK(cpu.reg.e == 210);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 226);
    CHECK(cpu.reg.l == 218);
    CHECK(cpu.pc == 26543);
    CHECK(cpu.sp == 51059);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26542] == 27);
}

TEST_CASE( "1B 0324", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63007;
    cpu.sp = 9006;
    cpu.reg.a = 194;
    cpu.reg.b = 162;
    cpu.reg.c = 182;
    cpu.reg.d = 103;
    cpu.reg.e = 242;
    cpu.reg.f = 64;
    cpu.reg.h = 144;
    cpu.reg.l = 230;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[63007] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 194);
    CHECK(cpu.reg.b == 162);
    CHECK(cpu.reg.c == 182);
    CHECK(cpu.reg.d == 103);
    CHECK(cpu.reg.e == 241);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 144);
    CHECK(cpu.reg.l == 230);
    CHECK(cpu.pc == 63008);
    CHECK(cpu.sp == 9006);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[63007] == 27);
}

TEST_CASE( "1B 0325", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22955;
    cpu.sp = 30411;
    cpu.reg.a = 90;
    cpu.reg.b = 62;
    cpu.reg.c = 6;
    cpu.reg.d = 88;
    cpu.reg.e = 136;
    cpu.reg.f = 64;
    cpu.reg.h = 44;
    cpu.reg.l = 146;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[22955] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 90);
    CHECK(cpu.reg.b == 62);
    CHECK(cpu.reg.c == 6);
    CHECK(cpu.reg.d == 88);
    CHECK(cpu.reg.e == 135);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 44);
    CHECK(cpu.reg.l == 146);
    CHECK(cpu.pc == 22956);
    CHECK(cpu.sp == 30411);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22955] == 27);
}

TEST_CASE( "1B 0326", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17648;
    cpu.sp = 60964;
    cpu.reg.a = 64;
    cpu.reg.b = 149;
    cpu.reg.c = 13;
    cpu.reg.d = 98;
    cpu.reg.e = 187;
    cpu.reg.f = 0;
    cpu.reg.h = 246;
    cpu.reg.l = 151;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[17648] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 149);
    CHECK(cpu.reg.c == 13);
    CHECK(cpu.reg.d == 98);
    CHECK(cpu.reg.e == 186);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 246);
    CHECK(cpu.reg.l == 151);
    CHECK(cpu.pc == 17649);
    CHECK(cpu.sp == 60964);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17648] == 27);
}

TEST_CASE( "1B 0327", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15619;
    cpu.sp = 29150;
    cpu.reg.a = 122;
    cpu.reg.b = 10;
    cpu.reg.c = 22;
    cpu.reg.d = 104;
    cpu.reg.e = 201;
    cpu.reg.f = 160;
    cpu.reg.h = 220;
    cpu.reg.l = 81;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[15619] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 122);
    CHECK(cpu.reg.b == 10);
    CHECK(cpu.reg.c == 22);
    CHECK(cpu.reg.d == 104);
    CHECK(cpu.reg.e == 200);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 220);
    CHECK(cpu.reg.l == 81);
    CHECK(cpu.pc == 15620);
    CHECK(cpu.sp == 29150);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15619] == 27);
}

TEST_CASE( "1B 0328", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33830;
    cpu.sp = 56644;
    cpu.reg.a = 94;
    cpu.reg.b = 78;
    cpu.reg.c = 250;
    cpu.reg.d = 1;
    cpu.reg.e = 119;
    cpu.reg.f = 16;
    cpu.reg.h = 231;
    cpu.reg.l = 117;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[33830] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 94);
    CHECK(cpu.reg.b == 78);
    CHECK(cpu.reg.c == 250);
    CHECK(cpu.reg.d == 1);
    CHECK(cpu.reg.e == 118);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 231);
    CHECK(cpu.reg.l == 117);
    CHECK(cpu.pc == 33831);
    CHECK(cpu.sp == 56644);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33830] == 27);
}

TEST_CASE( "1B 0329", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18267;
    cpu.sp = 7937;
    cpu.reg.a = 59;
    cpu.reg.b = 105;
    cpu.reg.c = 165;
    cpu.reg.d = 38;
    cpu.reg.e = 82;
    cpu.reg.f = 128;
    cpu.reg.h = 7;
    cpu.reg.l = 71;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[18267] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 59);
    CHECK(cpu.reg.b == 105);
    CHECK(cpu.reg.c == 165);
    CHECK(cpu.reg.d == 38);
    CHECK(cpu.reg.e == 81);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 7);
    CHECK(cpu.reg.l == 71);
    CHECK(cpu.pc == 18268);
    CHECK(cpu.sp == 7937);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18267] == 27);
}

TEST_CASE( "1B 032A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27412;
    cpu.sp = 64691;
    cpu.reg.a = 191;
    cpu.reg.b = 188;
    cpu.reg.c = 104;
    cpu.reg.d = 119;
    cpu.reg.e = 20;
    cpu.reg.f = 80;
    cpu.reg.h = 235;
    cpu.reg.l = 151;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[27412] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 191);
    CHECK(cpu.reg.b == 188);
    CHECK(cpu.reg.c == 104);
    CHECK(cpu.reg.d == 119);
    CHECK(cpu.reg.e == 19);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 235);
    CHECK(cpu.reg.l == 151);
    CHECK(cpu.pc == 27413);
    CHECK(cpu.sp == 64691);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27412] == 27);
}

TEST_CASE( "1B 032B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43140;
    cpu.sp = 7690;
    cpu.reg.a = 204;
    cpu.reg.b = 218;
    cpu.reg.c = 66;
    cpu.reg.d = 164;
    cpu.reg.e = 11;
    cpu.reg.f = 64;
    cpu.reg.h = 207;
    cpu.reg.l = 172;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[43140] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 204);
    CHECK(cpu.reg.b == 218);
    CHECK(cpu.reg.c == 66);
    CHECK(cpu.reg.d == 164);
    CHECK(cpu.reg.e == 10);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 207);
    CHECK(cpu.reg.l == 172);
    CHECK(cpu.pc == 43141);
    CHECK(cpu.sp == 7690);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43140] == 27);
}

TEST_CASE( "1B 032C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38534;
    cpu.sp = 8584;
    cpu.reg.a = 111;
    cpu.reg.b = 91;
    cpu.reg.c = 175;
    cpu.reg.d = 73;
    cpu.reg.e = 104;
    cpu.reg.f = 128;
    cpu.reg.h = 202;
    cpu.reg.l = 41;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[38534] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 111);
    CHECK(cpu.reg.b == 91);
    CHECK(cpu.reg.c == 175);
    CHECK(cpu.reg.d == 73);
    CHECK(cpu.reg.e == 103);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 202);
    CHECK(cpu.reg.l == 41);
    CHECK(cpu.pc == 38535);
    CHECK(cpu.sp == 8584);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38534] == 27);
}

TEST_CASE( "1B 032D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 970;
    cpu.sp = 49813;
    cpu.reg.a = 185;
    cpu.reg.b = 58;
    cpu.reg.c = 76;
    cpu.reg.d = 4;
    cpu.reg.e = 243;
    cpu.reg.f = 32;
    cpu.reg.h = 134;
    cpu.reg.l = 189;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[970] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 185);
    CHECK(cpu.reg.b == 58);
    CHECK(cpu.reg.c == 76);
    CHECK(cpu.reg.d == 4);
    CHECK(cpu.reg.e == 242);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 134);
    CHECK(cpu.reg.l == 189);
    CHECK(cpu.pc == 971);
    CHECK(cpu.sp == 49813);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[970] == 27);
}

TEST_CASE( "1B 032E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59492;
    cpu.sp = 62428;
    cpu.reg.a = 166;
    cpu.reg.b = 81;
    cpu.reg.c = 46;
    cpu.reg.d = 64;
    cpu.reg.e = 214;
    cpu.reg.f = 176;
    cpu.reg.h = 37;
    cpu.reg.l = 101;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[59492] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 166);
    CHECK(cpu.reg.b == 81);
    CHECK(cpu.reg.c == 46);
    CHECK(cpu.reg.d == 64);
    CHECK(cpu.reg.e == 213);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 37);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 59493);
    CHECK(cpu.sp == 62428);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[59492] == 27);
}

TEST_CASE( "1B 032F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10575;
    cpu.sp = 25651;
    cpu.reg.a = 68;
    cpu.reg.b = 180;
    cpu.reg.c = 1;
    cpu.reg.d = 17;
    cpu.reg.e = 237;
    cpu.reg.f = 192;
    cpu.reg.h = 224;
    cpu.reg.l = 233;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[10575] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 68);
    CHECK(cpu.reg.b == 180);
    CHECK(cpu.reg.c == 1);
    CHECK(cpu.reg.d == 17);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 224);
    CHECK(cpu.reg.l == 233);
    CHECK(cpu.pc == 10576);
    CHECK(cpu.sp == 25651);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10575] == 27);
}

TEST_CASE( "1B 0330", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46334;
    cpu.sp = 19216;
    cpu.reg.a = 99;
    cpu.reg.b = 79;
    cpu.reg.c = 94;
    cpu.reg.d = 38;
    cpu.reg.e = 145;
    cpu.reg.f = 224;
    cpu.reg.h = 0;
    cpu.reg.l = 196;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[46334] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 99);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 94);
    CHECK(cpu.reg.d == 38);
    CHECK(cpu.reg.e == 144);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 0);
    CHECK(cpu.reg.l == 196);
    CHECK(cpu.pc == 46335);
    CHECK(cpu.sp == 19216);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46334] == 27);
}

TEST_CASE( "1B 0331", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29342;
    cpu.sp = 42851;
    cpu.reg.a = 140;
    cpu.reg.b = 0;
    cpu.reg.c = 197;
    cpu.reg.d = 148;
    cpu.reg.e = 110;
    cpu.reg.f = 64;
    cpu.reg.h = 138;
    cpu.reg.l = 242;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[29342] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 140);
    CHECK(cpu.reg.b == 0);
    CHECK(cpu.reg.c == 197);
    CHECK(cpu.reg.d == 148);
    CHECK(cpu.reg.e == 109);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 138);
    CHECK(cpu.reg.l == 242);
    CHECK(cpu.pc == 29343);
    CHECK(cpu.sp == 42851);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29342] == 27);
}

TEST_CASE( "1B 0332", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23316;
    cpu.sp = 30849;
    cpu.reg.a = 158;
    cpu.reg.b = 106;
    cpu.reg.c = 48;
    cpu.reg.d = 209;
    cpu.reg.e = 76;
    cpu.reg.f = 32;
    cpu.reg.h = 108;
    cpu.reg.l = 17;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[23316] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 158);
    CHECK(cpu.reg.b == 106);
    CHECK(cpu.reg.c == 48);
    CHECK(cpu.reg.d == 209);
    CHECK(cpu.reg.e == 75);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 108);
    CHECK(cpu.reg.l == 17);
    CHECK(cpu.pc == 23317);
    CHECK(cpu.sp == 30849);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[23316] == 27);
}

TEST_CASE( "1B 0333", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58245;
    cpu.sp = 20968;
    cpu.reg.a = 229;
    cpu.reg.b = 224;
    cpu.reg.c = 90;
    cpu.reg.d = 116;
    cpu.reg.e = 133;
    cpu.reg.f = 240;
    cpu.reg.h = 179;
    cpu.reg.l = 13;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[58245] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 229);
    CHECK(cpu.reg.b == 224);
    CHECK(cpu.reg.c == 90);
    CHECK(cpu.reg.d == 116);
    CHECK(cpu.reg.e == 132);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 179);
    CHECK(cpu.reg.l == 13);
    CHECK(cpu.pc == 58246);
    CHECK(cpu.sp == 20968);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[58245] == 27);
}

TEST_CASE( "1B 0334", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61222;
    cpu.sp = 13930;
    cpu.reg.a = 89;
    cpu.reg.b = 221;
    cpu.reg.c = 30;
    cpu.reg.d = 208;
    cpu.reg.e = 167;
    cpu.reg.f = 128;
    cpu.reg.h = 95;
    cpu.reg.l = 31;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[61222] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 89);
    CHECK(cpu.reg.b == 221);
    CHECK(cpu.reg.c == 30);
    CHECK(cpu.reg.d == 208);
    CHECK(cpu.reg.e == 166);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 95);
    CHECK(cpu.reg.l == 31);
    CHECK(cpu.pc == 61223);
    CHECK(cpu.sp == 13930);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61222] == 27);
}

TEST_CASE( "1B 0335", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31849;
    cpu.sp = 3567;
    cpu.reg.a = 82;
    cpu.reg.b = 173;
    cpu.reg.c = 108;
    cpu.reg.d = 159;
    cpu.reg.e = 225;
    cpu.reg.f = 176;
    cpu.reg.h = 10;
    cpu.reg.l = 252;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[31849] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 82);
    CHECK(cpu.reg.b == 173);
    CHECK(cpu.reg.c == 108);
    CHECK(cpu.reg.d == 159);
    CHECK(cpu.reg.e == 224);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 10);
    CHECK(cpu.reg.l == 252);
    CHECK(cpu.pc == 31850);
    CHECK(cpu.sp == 3567);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31849] == 27);
}

TEST_CASE( "1B 0336", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47887;
    cpu.sp = 9081;
    cpu.reg.a = 204;
    cpu.reg.b = 217;
    cpu.reg.c = 46;
    cpu.reg.d = 53;
    cpu.reg.e = 192;
    cpu.reg.f = 224;
    cpu.reg.h = 162;
    cpu.reg.l = 176;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47887] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 204);
    CHECK(cpu.reg.b == 217);
    CHECK(cpu.reg.c == 46);
    CHECK(cpu.reg.d == 53);
    CHECK(cpu.reg.e == 191);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 162);
    CHECK(cpu.reg.l == 176);
    CHECK(cpu.pc == 47888);
    CHECK(cpu.sp == 9081);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47887] == 27);
}

TEST_CASE( "1B 0337", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27632;
    cpu.sp = 47425;
    cpu.reg.a = 167;
    cpu.reg.b = 236;
    cpu.reg.c = 37;
    cpu.reg.d = 165;
    cpu.reg.e = 6;
    cpu.reg.f = 96;
    cpu.reg.h = 199;
    cpu.reg.l = 208;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[27632] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 167);
    CHECK(cpu.reg.b == 236);
    CHECK(cpu.reg.c == 37);
    CHECK(cpu.reg.d == 165);
    CHECK(cpu.reg.e == 5);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 199);
    CHECK(cpu.reg.l == 208);
    CHECK(cpu.pc == 27633);
    CHECK(cpu.sp == 47425);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27632] == 27);
}

TEST_CASE( "1B 0338", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57749;
    cpu.sp = 40543;
    cpu.reg.a = 45;
    cpu.reg.b = 235;
    cpu.reg.c = 153;
    cpu.reg.d = 216;
    cpu.reg.e = 214;
    cpu.reg.f = 192;
    cpu.reg.h = 67;
    cpu.reg.l = 76;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[57749] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 45);
    CHECK(cpu.reg.b == 235);
    CHECK(cpu.reg.c == 153);
    CHECK(cpu.reg.d == 216);
    CHECK(cpu.reg.e == 213);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 67);
    CHECK(cpu.reg.l == 76);
    CHECK(cpu.pc == 57750);
    CHECK(cpu.sp == 40543);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[57749] == 27);
}

TEST_CASE( "1B 0339", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51161;
    cpu.sp = 54535;
    cpu.reg.a = 118;
    cpu.reg.b = 48;
    cpu.reg.c = 107;
    cpu.reg.d = 86;
    cpu.reg.e = 58;
    cpu.reg.f = 192;
    cpu.reg.h = 57;
    cpu.reg.l = 210;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[51161] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 118);
    CHECK(cpu.reg.b == 48);
    CHECK(cpu.reg.c == 107);
    CHECK(cpu.reg.d == 86);
    CHECK(cpu.reg.e == 57);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 57);
    CHECK(cpu.reg.l == 210);
    CHECK(cpu.pc == 51162);
    CHECK(cpu.sp == 54535);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51161] == 27);
}

TEST_CASE( "1B 033A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62014;
    cpu.sp = 2188;
    cpu.reg.a = 89;
    cpu.reg.b = 21;
    cpu.reg.c = 136;
    cpu.reg.d = 247;
    cpu.reg.e = 171;
    cpu.reg.f = 240;
    cpu.reg.h = 78;
    cpu.reg.l = 124;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[62014] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 89);
    CHECK(cpu.reg.b == 21);
    CHECK(cpu.reg.c == 136);
    CHECK(cpu.reg.d == 247);
    CHECK(cpu.reg.e == 170);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 78);
    CHECK(cpu.reg.l == 124);
    CHECK(cpu.pc == 62015);
    CHECK(cpu.sp == 2188);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[62014] == 27);
}

TEST_CASE( "1B 033B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10353;
    cpu.sp = 61474;
    cpu.reg.a = 185;
    cpu.reg.b = 164;
    cpu.reg.c = 80;
    cpu.reg.d = 175;
    cpu.reg.e = 243;
    cpu.reg.f = 64;
    cpu.reg.h = 98;
    cpu.reg.l = 90;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[10353] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 185);
    CHECK(cpu.reg.b == 164);
    CHECK(cpu.reg.c == 80);
    CHECK(cpu.reg.d == 175);
    CHECK(cpu.reg.e == 242);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 98);
    CHECK(cpu.reg.l == 90);
    CHECK(cpu.pc == 10354);
    CHECK(cpu.sp == 61474);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10353] == 27);
}

TEST_CASE( "1B 033C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39552;
    cpu.sp = 41803;
    cpu.reg.a = 0;
    cpu.reg.b = 65;
    cpu.reg.c = 34;
    cpu.reg.d = 105;
    cpu.reg.e = 33;
    cpu.reg.f = 176;
    cpu.reg.h = 181;
    cpu.reg.l = 26;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[39552] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 0);
    CHECK(cpu.reg.b == 65);
    CHECK(cpu.reg.c == 34);
    CHECK(cpu.reg.d == 105);
    CHECK(cpu.reg.e == 32);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 181);
    CHECK(cpu.reg.l == 26);
    CHECK(cpu.pc == 39553);
    CHECK(cpu.sp == 41803);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39552] == 27);
}

TEST_CASE( "1B 033D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61969;
    cpu.sp = 39576;
    cpu.reg.a = 108;
    cpu.reg.b = 38;
    cpu.reg.c = 206;
    cpu.reg.d = 248;
    cpu.reg.e = 137;
    cpu.reg.f = 208;
    cpu.reg.h = 164;
    cpu.reg.l = 60;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[61969] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 108);
    CHECK(cpu.reg.b == 38);
    CHECK(cpu.reg.c == 206);
    CHECK(cpu.reg.d == 248);
    CHECK(cpu.reg.e == 136);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 164);
    CHECK(cpu.reg.l == 60);
    CHECK(cpu.pc == 61970);
    CHECK(cpu.sp == 39576);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61969] == 27);
}

TEST_CASE( "1B 033E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60155;
    cpu.sp = 40853;
    cpu.reg.a = 155;
    cpu.reg.b = 160;
    cpu.reg.c = 197;
    cpu.reg.d = 123;
    cpu.reg.e = 247;
    cpu.reg.f = 144;
    cpu.reg.h = 159;
    cpu.reg.l = 11;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[60155] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 155);
    CHECK(cpu.reg.b == 160);
    CHECK(cpu.reg.c == 197);
    CHECK(cpu.reg.d == 123);
    CHECK(cpu.reg.e == 246);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 159);
    CHECK(cpu.reg.l == 11);
    CHECK(cpu.pc == 60156);
    CHECK(cpu.sp == 40853);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60155] == 27);
}

TEST_CASE( "1B 033F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48608;
    cpu.sp = 63595;
    cpu.reg.a = 85;
    cpu.reg.b = 40;
    cpu.reg.c = 196;
    cpu.reg.d = 137;
    cpu.reg.e = 7;
    cpu.reg.f = 160;
    cpu.reg.h = 142;
    cpu.reg.l = 118;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[48608] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 85);
    CHECK(cpu.reg.b == 40);
    CHECK(cpu.reg.c == 196);
    CHECK(cpu.reg.d == 137);
    CHECK(cpu.reg.e == 6);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 142);
    CHECK(cpu.reg.l == 118);
    CHECK(cpu.pc == 48609);
    CHECK(cpu.sp == 63595);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48608] == 27);
}

TEST_CASE( "1B 0340", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15381;
    cpu.sp = 27782;
    cpu.reg.a = 234;
    cpu.reg.b = 211;
    cpu.reg.c = 77;
    cpu.reg.d = 49;
    cpu.reg.e = 161;
    cpu.reg.f = 64;
    cpu.reg.h = 21;
    cpu.reg.l = 51;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[15381] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 234);
    CHECK(cpu.reg.b == 211);
    CHECK(cpu.reg.c == 77);
    CHECK(cpu.reg.d == 49);
    CHECK(cpu.reg.e == 160);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 21);
    CHECK(cpu.reg.l == 51);
    CHECK(cpu.pc == 15382);
    CHECK(cpu.sp == 27782);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15381] == 27);
}

TEST_CASE( "1B 0341", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24444;
    cpu.sp = 55833;
    cpu.reg.a = 20;
    cpu.reg.b = 47;
    cpu.reg.c = 2;
    cpu.reg.d = 233;
    cpu.reg.e = 209;
    cpu.reg.f = 0;
    cpu.reg.h = 223;
    cpu.reg.l = 105;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[24444] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 20);
    CHECK(cpu.reg.b == 47);
    CHECK(cpu.reg.c == 2);
    CHECK(cpu.reg.d == 233);
    CHECK(cpu.reg.e == 208);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 223);
    CHECK(cpu.reg.l == 105);
    CHECK(cpu.pc == 24445);
    CHECK(cpu.sp == 55833);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24444] == 27);
}

TEST_CASE( "1B 0342", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50927;
    cpu.sp = 28527;
    cpu.reg.a = 113;
    cpu.reg.b = 165;
    cpu.reg.c = 172;
    cpu.reg.d = 183;
    cpu.reg.e = 188;
    cpu.reg.f = 64;
    cpu.reg.h = 96;
    cpu.reg.l = 197;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[50927] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 113);
    CHECK(cpu.reg.b == 165);
    CHECK(cpu.reg.c == 172);
    CHECK(cpu.reg.d == 183);
    CHECK(cpu.reg.e == 187);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 96);
    CHECK(cpu.reg.l == 197);
    CHECK(cpu.pc == 50928);
    CHECK(cpu.sp == 28527);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[50927] == 27);
}

TEST_CASE( "1B 0343", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7038;
    cpu.sp = 10010;
    cpu.reg.a = 88;
    cpu.reg.b = 65;
    cpu.reg.c = 125;
    cpu.reg.d = 132;
    cpu.reg.e = 187;
    cpu.reg.f = 240;
    cpu.reg.h = 6;
    cpu.reg.l = 97;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[7038] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 88);
    CHECK(cpu.reg.b == 65);
    CHECK(cpu.reg.c == 125);
    CHECK(cpu.reg.d == 132);
    CHECK(cpu.reg.e == 186);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 6);
    CHECK(cpu.reg.l == 97);
    CHECK(cpu.pc == 7039);
    CHECK(cpu.sp == 10010);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7038] == 27);
}

TEST_CASE( "1B 0344", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5321;
    cpu.sp = 27235;
    cpu.reg.a = 32;
    cpu.reg.b = 255;
    cpu.reg.c = 158;
    cpu.reg.d = 181;
    cpu.reg.e = 212;
    cpu.reg.f = 64;
    cpu.reg.h = 246;
    cpu.reg.l = 48;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[5321] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 32);
    CHECK(cpu.reg.b == 255);
    CHECK(cpu.reg.c == 158);
    CHECK(cpu.reg.d == 181);
    CHECK(cpu.reg.e == 211);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 246);
    CHECK(cpu.reg.l == 48);
    CHECK(cpu.pc == 5322);
    CHECK(cpu.sp == 27235);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5321] == 27);
}

TEST_CASE( "1B 0345", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42819;
    cpu.sp = 15377;
    cpu.reg.a = 63;
    cpu.reg.b = 77;
    cpu.reg.c = 235;
    cpu.reg.d = 47;
    cpu.reg.e = 239;
    cpu.reg.f = 32;
    cpu.reg.h = 19;
    cpu.reg.l = 227;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[42819] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 63);
    CHECK(cpu.reg.b == 77);
    CHECK(cpu.reg.c == 235);
    CHECK(cpu.reg.d == 47);
    CHECK(cpu.reg.e == 238);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 19);
    CHECK(cpu.reg.l == 227);
    CHECK(cpu.pc == 42820);
    CHECK(cpu.sp == 15377);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[42819] == 27);
}

TEST_CASE( "1B 0346", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50338;
    cpu.sp = 24990;
    cpu.reg.a = 94;
    cpu.reg.b = 134;
    cpu.reg.c = 84;
    cpu.reg.d = 170;
    cpu.reg.e = 16;
    cpu.reg.f = 144;
    cpu.reg.h = 185;
    cpu.reg.l = 239;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[50338] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 94);
    CHECK(cpu.reg.b == 134);
    CHECK(cpu.reg.c == 84);
    CHECK(cpu.reg.d == 170);
    CHECK(cpu.reg.e == 15);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 185);
    CHECK(cpu.reg.l == 239);
    CHECK(cpu.pc == 50339);
    CHECK(cpu.sp == 24990);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[50338] == 27);
}

TEST_CASE( "1B 0347", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3107;
    cpu.sp = 56408;
    cpu.reg.a = 39;
    cpu.reg.b = 242;
    cpu.reg.c = 58;
    cpu.reg.d = 153;
    cpu.reg.e = 29;
    cpu.reg.f = 112;
    cpu.reg.h = 128;
    cpu.reg.l = 154;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[3107] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 39);
    CHECK(cpu.reg.b == 242);
    CHECK(cpu.reg.c == 58);
    CHECK(cpu.reg.d == 153);
    CHECK(cpu.reg.e == 28);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 128);
    CHECK(cpu.reg.l == 154);
    CHECK(cpu.pc == 3108);
    CHECK(cpu.sp == 56408);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3107] == 27);
}

TEST_CASE( "1B 0348", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23277;
    cpu.sp = 28182;
    cpu.reg.a = 215;
    cpu.reg.b = 138;
    cpu.reg.c = 154;
    cpu.reg.d = 104;
    cpu.reg.e = 31;
    cpu.reg.f = 224;
    cpu.reg.h = 236;
    cpu.reg.l = 64;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[23277] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 215);
    CHECK(cpu.reg.b == 138);
    CHECK(cpu.reg.c == 154);
    CHECK(cpu.reg.d == 104);
    CHECK(cpu.reg.e == 30);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 236);
    CHECK(cpu.reg.l == 64);
    CHECK(cpu.pc == 23278);
    CHECK(cpu.sp == 28182);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23277] == 27);
}

TEST_CASE( "1B 0349", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50928;
    cpu.sp = 21262;
    cpu.reg.a = 72;
    cpu.reg.b = 96;
    cpu.reg.c = 37;
    cpu.reg.d = 44;
    cpu.reg.e = 216;
    cpu.reg.f = 0;
    cpu.reg.h = 88;
    cpu.reg.l = 213;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[50928] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 72);
    CHECK(cpu.reg.b == 96);
    CHECK(cpu.reg.c == 37);
    CHECK(cpu.reg.d == 44);
    CHECK(cpu.reg.e == 215);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 88);
    CHECK(cpu.reg.l == 213);
    CHECK(cpu.pc == 50929);
    CHECK(cpu.sp == 21262);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[50928] == 27);
}

TEST_CASE( "1B 034A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28465;
    cpu.sp = 42670;
    cpu.reg.a = 34;
    cpu.reg.b = 154;
    cpu.reg.c = 68;
    cpu.reg.d = 112;
    cpu.reg.e = 75;
    cpu.reg.f = 224;
    cpu.reg.h = 177;
    cpu.reg.l = 15;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[28465] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 34);
    CHECK(cpu.reg.b == 154);
    CHECK(cpu.reg.c == 68);
    CHECK(cpu.reg.d == 112);
    CHECK(cpu.reg.e == 74);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 177);
    CHECK(cpu.reg.l == 15);
    CHECK(cpu.pc == 28466);
    CHECK(cpu.sp == 42670);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28465] == 27);
}

TEST_CASE( "1B 034B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57136;
    cpu.sp = 38556;
    cpu.reg.a = 228;
    cpu.reg.b = 204;
    cpu.reg.c = 143;
    cpu.reg.d = 45;
    cpu.reg.e = 117;
    cpu.reg.f = 192;
    cpu.reg.h = 30;
    cpu.reg.l = 5;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[57136] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 228);
    CHECK(cpu.reg.b == 204);
    CHECK(cpu.reg.c == 143);
    CHECK(cpu.reg.d == 45);
    CHECK(cpu.reg.e == 116);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 30);
    CHECK(cpu.reg.l == 5);
    CHECK(cpu.pc == 57137);
    CHECK(cpu.sp == 38556);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[57136] == 27);
}

TEST_CASE( "1B 034C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46826;
    cpu.sp = 32133;
    cpu.reg.a = 240;
    cpu.reg.b = 23;
    cpu.reg.c = 6;
    cpu.reg.d = 208;
    cpu.reg.e = 242;
    cpu.reg.f = 224;
    cpu.reg.h = 112;
    cpu.reg.l = 4;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[46826] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 240);
    CHECK(cpu.reg.b == 23);
    CHECK(cpu.reg.c == 6);
    CHECK(cpu.reg.d == 208);
    CHECK(cpu.reg.e == 241);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 112);
    CHECK(cpu.reg.l == 4);
    CHECK(cpu.pc == 46827);
    CHECK(cpu.sp == 32133);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[46826] == 27);
}

TEST_CASE( "1B 034D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20300;
    cpu.sp = 26112;
    cpu.reg.a = 255;
    cpu.reg.b = 163;
    cpu.reg.c = 28;
    cpu.reg.d = 136;
    cpu.reg.e = 222;
    cpu.reg.f = 176;
    cpu.reg.h = 40;
    cpu.reg.l = 206;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[20300] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 255);
    CHECK(cpu.reg.b == 163);
    CHECK(cpu.reg.c == 28);
    CHECK(cpu.reg.d == 136);
    CHECK(cpu.reg.e == 221);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 40);
    CHECK(cpu.reg.l == 206);
    CHECK(cpu.pc == 20301);
    CHECK(cpu.sp == 26112);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[20300] == 27);
}

TEST_CASE( "1B 034E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24264;
    cpu.sp = 39726;
    cpu.reg.a = 213;
    cpu.reg.b = 134;
    cpu.reg.c = 218;
    cpu.reg.d = 199;
    cpu.reg.e = 245;
    cpu.reg.f = 96;
    cpu.reg.h = 221;
    cpu.reg.l = 161;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[24264] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 213);
    CHECK(cpu.reg.b == 134);
    CHECK(cpu.reg.c == 218);
    CHECK(cpu.reg.d == 199);
    CHECK(cpu.reg.e == 244);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 221);
    CHECK(cpu.reg.l == 161);
    CHECK(cpu.pc == 24265);
    CHECK(cpu.sp == 39726);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24264] == 27);
}

TEST_CASE( "1B 034F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1423;
    cpu.sp = 50921;
    cpu.reg.a = 62;
    cpu.reg.b = 118;
    cpu.reg.c = 192;
    cpu.reg.d = 207;
    cpu.reg.e = 182;
    cpu.reg.f = 16;
    cpu.reg.h = 52;
    cpu.reg.l = 244;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[1423] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 62);
    CHECK(cpu.reg.b == 118);
    CHECK(cpu.reg.c == 192);
    CHECK(cpu.reg.d == 207);
    CHECK(cpu.reg.e == 181);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 52);
    CHECK(cpu.reg.l == 244);
    CHECK(cpu.pc == 1424);
    CHECK(cpu.sp == 50921);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1423] == 27);
}

TEST_CASE( "1B 0350", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30946;
    cpu.sp = 64487;
    cpu.reg.a = 216;
    cpu.reg.b = 53;
    cpu.reg.c = 5;
    cpu.reg.d = 77;
    cpu.reg.e = 246;
    cpu.reg.f = 208;
    cpu.reg.h = 191;
    cpu.reg.l = 128;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[30946] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 53);
    CHECK(cpu.reg.c == 5);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 245);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 191);
    CHECK(cpu.reg.l == 128);
    CHECK(cpu.pc == 30947);
    CHECK(cpu.sp == 64487);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30946] == 27);
}

TEST_CASE( "1B 0351", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10366;
    cpu.sp = 47414;
    cpu.reg.a = 131;
    cpu.reg.b = 127;
    cpu.reg.c = 117;
    cpu.reg.d = 89;
    cpu.reg.e = 88;
    cpu.reg.f = 160;
    cpu.reg.h = 168;
    cpu.reg.l = 97;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[10366] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 131);
    CHECK(cpu.reg.b == 127);
    CHECK(cpu.reg.c == 117);
    CHECK(cpu.reg.d == 89);
    CHECK(cpu.reg.e == 87);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 168);
    CHECK(cpu.reg.l == 97);
    CHECK(cpu.pc == 10367);
    CHECK(cpu.sp == 47414);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10366] == 27);
}

TEST_CASE( "1B 0352", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21440;
    cpu.sp = 27990;
    cpu.reg.a = 194;
    cpu.reg.b = 202;
    cpu.reg.c = 249;
    cpu.reg.d = 193;
    cpu.reg.e = 255;
    cpu.reg.f = 112;
    cpu.reg.h = 216;
    cpu.reg.l = 177;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[21440] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 194);
    CHECK(cpu.reg.b == 202);
    CHECK(cpu.reg.c == 249);
    CHECK(cpu.reg.d == 193);
    CHECK(cpu.reg.e == 254);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 216);
    CHECK(cpu.reg.l == 177);
    CHECK(cpu.pc == 21441);
    CHECK(cpu.sp == 27990);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21440] == 27);
}

TEST_CASE( "1B 0353", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65433;
    cpu.sp = 50676;
    cpu.reg.a = 94;
    cpu.reg.b = 198;
    cpu.reg.c = 66;
    cpu.reg.d = 69;
    cpu.reg.e = 86;
    cpu.reg.f = 96;
    cpu.reg.h = 160;
    cpu.reg.l = 19;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[65433] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 94);
    CHECK(cpu.reg.b == 198);
    CHECK(cpu.reg.c == 66);
    CHECK(cpu.reg.d == 69);
    CHECK(cpu.reg.e == 85);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 160);
    CHECK(cpu.reg.l == 19);
    CHECK(cpu.pc == 65434);
    CHECK(cpu.sp == 50676);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[65433] == 27);
}

TEST_CASE( "1B 0354", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61563;
    cpu.sp = 4154;
    cpu.reg.a = 131;
    cpu.reg.b = 144;
    cpu.reg.c = 223;
    cpu.reg.d = 46;
    cpu.reg.e = 111;
    cpu.reg.f = 80;
    cpu.reg.h = 234;
    cpu.reg.l = 14;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[61563] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 131);
    CHECK(cpu.reg.b == 144);
    CHECK(cpu.reg.c == 223);
    CHECK(cpu.reg.d == 46);
    CHECK(cpu.reg.e == 110);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 234);
    CHECK(cpu.reg.l == 14);
    CHECK(cpu.pc == 61564);
    CHECK(cpu.sp == 4154);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61563] == 27);
}

TEST_CASE( "1B 0355", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2122;
    cpu.sp = 12657;
    cpu.reg.a = 44;
    cpu.reg.b = 207;
    cpu.reg.c = 34;
    cpu.reg.d = 86;
    cpu.reg.e = 240;
    cpu.reg.f = 96;
    cpu.reg.h = 249;
    cpu.reg.l = 122;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[2122] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 44);
    CHECK(cpu.reg.b == 207);
    CHECK(cpu.reg.c == 34);
    CHECK(cpu.reg.d == 86);
    CHECK(cpu.reg.e == 239);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 249);
    CHECK(cpu.reg.l == 122);
    CHECK(cpu.pc == 2123);
    CHECK(cpu.sp == 12657);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2122] == 27);
}

TEST_CASE( "1B 0356", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52649;
    cpu.sp = 22575;
    cpu.reg.a = 195;
    cpu.reg.b = 30;
    cpu.reg.c = 60;
    cpu.reg.d = 7;
    cpu.reg.e = 20;
    cpu.reg.f = 240;
    cpu.reg.h = 38;
    cpu.reg.l = 34;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[52649] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 195);
    CHECK(cpu.reg.b == 30);
    CHECK(cpu.reg.c == 60);
    CHECK(cpu.reg.d == 7);
    CHECK(cpu.reg.e == 19);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 38);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 52650);
    CHECK(cpu.sp == 22575);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[52649] == 27);
}

TEST_CASE( "1B 0357", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48636;
    cpu.sp = 3759;
    cpu.reg.a = 163;
    cpu.reg.b = 67;
    cpu.reg.c = 236;
    cpu.reg.d = 81;
    cpu.reg.e = 211;
    cpu.reg.f = 224;
    cpu.reg.h = 205;
    cpu.reg.l = 87;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[48636] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 163);
    CHECK(cpu.reg.b == 67);
    CHECK(cpu.reg.c == 236);
    CHECK(cpu.reg.d == 81);
    CHECK(cpu.reg.e == 210);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 205);
    CHECK(cpu.reg.l == 87);
    CHECK(cpu.pc == 48637);
    CHECK(cpu.sp == 3759);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[48636] == 27);
}

TEST_CASE( "1B 0358", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63070;
    cpu.sp = 51654;
    cpu.reg.a = 131;
    cpu.reg.b = 230;
    cpu.reg.c = 65;
    cpu.reg.d = 49;
    cpu.reg.e = 218;
    cpu.reg.f = 48;
    cpu.reg.h = 163;
    cpu.reg.l = 141;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[63070] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 131);
    CHECK(cpu.reg.b == 230);
    CHECK(cpu.reg.c == 65);
    CHECK(cpu.reg.d == 49);
    CHECK(cpu.reg.e == 217);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 163);
    CHECK(cpu.reg.l == 141);
    CHECK(cpu.pc == 63071);
    CHECK(cpu.sp == 51654);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[63070] == 27);
}

TEST_CASE( "1B 0359", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52184;
    cpu.sp = 50232;
    cpu.reg.a = 129;
    cpu.reg.b = 200;
    cpu.reg.c = 209;
    cpu.reg.d = 233;
    cpu.reg.e = 62;
    cpu.reg.f = 32;
    cpu.reg.h = 180;
    cpu.reg.l = 179;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[52184] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 129);
    CHECK(cpu.reg.b == 200);
    CHECK(cpu.reg.c == 209);
    CHECK(cpu.reg.d == 233);
    CHECK(cpu.reg.e == 61);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 180);
    CHECK(cpu.reg.l == 179);
    CHECK(cpu.pc == 52185);
    CHECK(cpu.sp == 50232);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[52184] == 27);
}

TEST_CASE( "1B 035A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40609;
    cpu.sp = 7199;
    cpu.reg.a = 226;
    cpu.reg.b = 93;
    cpu.reg.c = 246;
    cpu.reg.d = 123;
    cpu.reg.e = 107;
    cpu.reg.f = 192;
    cpu.reg.h = 156;
    cpu.reg.l = 92;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[40609] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 226);
    CHECK(cpu.reg.b == 93);
    CHECK(cpu.reg.c == 246);
    CHECK(cpu.reg.d == 123);
    CHECK(cpu.reg.e == 106);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 156);
    CHECK(cpu.reg.l == 92);
    CHECK(cpu.pc == 40610);
    CHECK(cpu.sp == 7199);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40609] == 27);
}

TEST_CASE( "1B 035B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38663;
    cpu.sp = 48003;
    cpu.reg.a = 227;
    cpu.reg.b = 243;
    cpu.reg.c = 158;
    cpu.reg.d = 98;
    cpu.reg.e = 3;
    cpu.reg.f = 192;
    cpu.reg.h = 241;
    cpu.reg.l = 174;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[38663] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 227);
    CHECK(cpu.reg.b == 243);
    CHECK(cpu.reg.c == 158);
    CHECK(cpu.reg.d == 98);
    CHECK(cpu.reg.e == 2);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 174);
    CHECK(cpu.pc == 38664);
    CHECK(cpu.sp == 48003);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38663] == 27);
}

TEST_CASE( "1B 035C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55696;
    cpu.sp = 45848;
    cpu.reg.a = 171;
    cpu.reg.b = 232;
    cpu.reg.c = 123;
    cpu.reg.d = 181;
    cpu.reg.e = 240;
    cpu.reg.f = 80;
    cpu.reg.h = 141;
    cpu.reg.l = 103;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[55696] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 171);
    CHECK(cpu.reg.b == 232);
    CHECK(cpu.reg.c == 123);
    CHECK(cpu.reg.d == 181);
    CHECK(cpu.reg.e == 239);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 141);
    CHECK(cpu.reg.l == 103);
    CHECK(cpu.pc == 55697);
    CHECK(cpu.sp == 45848);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[55696] == 27);
}

TEST_CASE( "1B 035D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4305;
    cpu.sp = 14326;
    cpu.reg.a = 126;
    cpu.reg.b = 63;
    cpu.reg.c = 199;
    cpu.reg.d = 240;
    cpu.reg.e = 201;
    cpu.reg.f = 224;
    cpu.reg.h = 6;
    cpu.reg.l = 21;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4305] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 126);
    CHECK(cpu.reg.b == 63);
    CHECK(cpu.reg.c == 199);
    CHECK(cpu.reg.d == 240);
    CHECK(cpu.reg.e == 200);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 6);
    CHECK(cpu.reg.l == 21);
    CHECK(cpu.pc == 4306);
    CHECK(cpu.sp == 14326);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4305] == 27);
}

TEST_CASE( "1B 035E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32031;
    cpu.sp = 24514;
    cpu.reg.a = 220;
    cpu.reg.b = 43;
    cpu.reg.c = 98;
    cpu.reg.d = 1;
    cpu.reg.e = 246;
    cpu.reg.f = 0;
    cpu.reg.h = 112;
    cpu.reg.l = 133;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[32031] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 220);
    CHECK(cpu.reg.b == 43);
    CHECK(cpu.reg.c == 98);
    CHECK(cpu.reg.d == 1);
    CHECK(cpu.reg.e == 245);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 112);
    CHECK(cpu.reg.l == 133);
    CHECK(cpu.pc == 32032);
    CHECK(cpu.sp == 24514);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32031] == 27);
}

TEST_CASE( "1B 035F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36084;
    cpu.sp = 50482;
    cpu.reg.a = 83;
    cpu.reg.b = 7;
    cpu.reg.c = 46;
    cpu.reg.d = 232;
    cpu.reg.e = 16;
    cpu.reg.f = 192;
    cpu.reg.h = 120;
    cpu.reg.l = 184;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[36084] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 83);
    CHECK(cpu.reg.b == 7);
    CHECK(cpu.reg.c == 46);
    CHECK(cpu.reg.d == 232);
    CHECK(cpu.reg.e == 15);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 120);
    CHECK(cpu.reg.l == 184);
    CHECK(cpu.pc == 36085);
    CHECK(cpu.sp == 50482);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36084] == 27);
}

TEST_CASE( "1B 0360", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33723;
    cpu.sp = 62712;
    cpu.reg.a = 205;
    cpu.reg.b = 20;
    cpu.reg.c = 198;
    cpu.reg.d = 112;
    cpu.reg.e = 96;
    cpu.reg.f = 208;
    cpu.reg.h = 74;
    cpu.reg.l = 29;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[33723] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 205);
    CHECK(cpu.reg.b == 20);
    CHECK(cpu.reg.c == 198);
    CHECK(cpu.reg.d == 112);
    CHECK(cpu.reg.e == 95);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 74);
    CHECK(cpu.reg.l == 29);
    CHECK(cpu.pc == 33724);
    CHECK(cpu.sp == 62712);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33723] == 27);
}

TEST_CASE( "1B 0361", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27132;
    cpu.sp = 50763;
    cpu.reg.a = 113;
    cpu.reg.b = 43;
    cpu.reg.c = 2;
    cpu.reg.d = 245;
    cpu.reg.e = 152;
    cpu.reg.f = 16;
    cpu.reg.h = 238;
    cpu.reg.l = 65;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[27132] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 113);
    CHECK(cpu.reg.b == 43);
    CHECK(cpu.reg.c == 2);
    CHECK(cpu.reg.d == 245);
    CHECK(cpu.reg.e == 151);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 238);
    CHECK(cpu.reg.l == 65);
    CHECK(cpu.pc == 27133);
    CHECK(cpu.sp == 50763);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27132] == 27);
}

TEST_CASE( "1B 0362", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40973;
    cpu.sp = 54165;
    cpu.reg.a = 232;
    cpu.reg.b = 15;
    cpu.reg.c = 43;
    cpu.reg.d = 132;
    cpu.reg.e = 14;
    cpu.reg.f = 208;
    cpu.reg.h = 207;
    cpu.reg.l = 82;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[40973] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 232);
    CHECK(cpu.reg.b == 15);
    CHECK(cpu.reg.c == 43);
    CHECK(cpu.reg.d == 132);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 207);
    CHECK(cpu.reg.l == 82);
    CHECK(cpu.pc == 40974);
    CHECK(cpu.sp == 54165);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40973] == 27);
}

TEST_CASE( "1B 0363", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22926;
    cpu.sp = 36349;
    cpu.reg.a = 180;
    cpu.reg.b = 21;
    cpu.reg.c = 118;
    cpu.reg.d = 201;
    cpu.reg.e = 230;
    cpu.reg.f = 112;
    cpu.reg.h = 22;
    cpu.reg.l = 85;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[22926] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 180);
    CHECK(cpu.reg.b == 21);
    CHECK(cpu.reg.c == 118);
    CHECK(cpu.reg.d == 201);
    CHECK(cpu.reg.e == 229);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 22);
    CHECK(cpu.reg.l == 85);
    CHECK(cpu.pc == 22927);
    CHECK(cpu.sp == 36349);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22926] == 27);
}

TEST_CASE( "1B 0364", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9954;
    cpu.sp = 55196;
    cpu.reg.a = 158;
    cpu.reg.b = 212;
    cpu.reg.c = 249;
    cpu.reg.d = 92;
    cpu.reg.e = 191;
    cpu.reg.f = 160;
    cpu.reg.h = 192;
    cpu.reg.l = 170;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[9954] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 158);
    CHECK(cpu.reg.b == 212);
    CHECK(cpu.reg.c == 249);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 190);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 192);
    CHECK(cpu.reg.l == 170);
    CHECK(cpu.pc == 9955);
    CHECK(cpu.sp == 55196);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9954] == 27);
}

TEST_CASE( "1B 0365", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7037;
    cpu.sp = 60647;
    cpu.reg.a = 216;
    cpu.reg.b = 182;
    cpu.reg.c = 18;
    cpu.reg.d = 51;
    cpu.reg.e = 171;
    cpu.reg.f = 128;
    cpu.reg.h = 46;
    cpu.reg.l = 239;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[7037] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 182);
    CHECK(cpu.reg.c == 18);
    CHECK(cpu.reg.d == 51);
    CHECK(cpu.reg.e == 170);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 46);
    CHECK(cpu.reg.l == 239);
    CHECK(cpu.pc == 7038);
    CHECK(cpu.sp == 60647);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7037] == 27);
}

TEST_CASE( "1B 0366", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29061;
    cpu.sp = 54473;
    cpu.reg.a = 117;
    cpu.reg.b = 213;
    cpu.reg.c = 174;
    cpu.reg.d = 89;
    cpu.reg.e = 222;
    cpu.reg.f = 32;
    cpu.reg.h = 148;
    cpu.reg.l = 123;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[29061] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 117);
    CHECK(cpu.reg.b == 213);
    CHECK(cpu.reg.c == 174);
    CHECK(cpu.reg.d == 89);
    CHECK(cpu.reg.e == 221);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 148);
    CHECK(cpu.reg.l == 123);
    CHECK(cpu.pc == 29062);
    CHECK(cpu.sp == 54473);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29061] == 27);
}

TEST_CASE( "1B 0367", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1365;
    cpu.sp = 64697;
    cpu.reg.a = 216;
    cpu.reg.b = 132;
    cpu.reg.c = 3;
    cpu.reg.d = 75;
    cpu.reg.e = 172;
    cpu.reg.f = 240;
    cpu.reg.h = 34;
    cpu.reg.l = 233;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[1365] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 132);
    CHECK(cpu.reg.c == 3);
    CHECK(cpu.reg.d == 75);
    CHECK(cpu.reg.e == 171);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 34);
    CHECK(cpu.reg.l == 233);
    CHECK(cpu.pc == 1366);
    CHECK(cpu.sp == 64697);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1365] == 27);
}

TEST_CASE( "1B 0368", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22342;
    cpu.sp = 17073;
    cpu.reg.a = 9;
    cpu.reg.b = 225;
    cpu.reg.c = 79;
    cpu.reg.d = 11;
    cpu.reg.e = 122;
    cpu.reg.f = 176;
    cpu.reg.h = 144;
    cpu.reg.l = 234;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[22342] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 9);
    CHECK(cpu.reg.b == 225);
    CHECK(cpu.reg.c == 79);
    CHECK(cpu.reg.d == 11);
    CHECK(cpu.reg.e == 121);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 144);
    CHECK(cpu.reg.l == 234);
    CHECK(cpu.pc == 22343);
    CHECK(cpu.sp == 17073);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22342] == 27);
}

TEST_CASE( "1B 0369", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50933;
    cpu.sp = 36310;
    cpu.reg.a = 190;
    cpu.reg.b = 55;
    cpu.reg.c = 187;
    cpu.reg.d = 231;
    cpu.reg.e = 100;
    cpu.reg.f = 240;
    cpu.reg.h = 218;
    cpu.reg.l = 222;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[50933] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 190);
    CHECK(cpu.reg.b == 55);
    CHECK(cpu.reg.c == 187);
    CHECK(cpu.reg.d == 231);
    CHECK(cpu.reg.e == 99);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 218);
    CHECK(cpu.reg.l == 222);
    CHECK(cpu.pc == 50934);
    CHECK(cpu.sp == 36310);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50933] == 27);
}

TEST_CASE( "1B 036A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40099;
    cpu.sp = 9791;
    cpu.reg.a = 51;
    cpu.reg.b = 137;
    cpu.reg.c = 167;
    cpu.reg.d = 71;
    cpu.reg.e = 102;
    cpu.reg.f = 192;
    cpu.reg.h = 247;
    cpu.reg.l = 116;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[40099] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 51);
    CHECK(cpu.reg.b == 137);
    CHECK(cpu.reg.c == 167);
    CHECK(cpu.reg.d == 71);
    CHECK(cpu.reg.e == 101);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 247);
    CHECK(cpu.reg.l == 116);
    CHECK(cpu.pc == 40100);
    CHECK(cpu.sp == 9791);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40099] == 27);
}

TEST_CASE( "1B 036B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57974;
    cpu.sp = 53916;
    cpu.reg.a = 58;
    cpu.reg.b = 33;
    cpu.reg.c = 210;
    cpu.reg.d = 200;
    cpu.reg.e = 95;
    cpu.reg.f = 32;
    cpu.reg.h = 122;
    cpu.reg.l = 18;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[57974] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 58);
    CHECK(cpu.reg.b == 33);
    CHECK(cpu.reg.c == 210);
    CHECK(cpu.reg.d == 200);
    CHECK(cpu.reg.e == 94);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 122);
    CHECK(cpu.reg.l == 18);
    CHECK(cpu.pc == 57975);
    CHECK(cpu.sp == 53916);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[57974] == 27);
}

TEST_CASE( "1B 036C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38129;
    cpu.sp = 1492;
    cpu.reg.a = 43;
    cpu.reg.b = 72;
    cpu.reg.c = 18;
    cpu.reg.d = 100;
    cpu.reg.e = 200;
    cpu.reg.f = 128;
    cpu.reg.h = 230;
    cpu.reg.l = 163;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[38129] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 43);
    CHECK(cpu.reg.b == 72);
    CHECK(cpu.reg.c == 18);
    CHECK(cpu.reg.d == 100);
    CHECK(cpu.reg.e == 199);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 230);
    CHECK(cpu.reg.l == 163);
    CHECK(cpu.pc == 38130);
    CHECK(cpu.sp == 1492);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38129] == 27);
}

TEST_CASE( "1B 036D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44656;
    cpu.sp = 43333;
    cpu.reg.a = 148;
    cpu.reg.b = 19;
    cpu.reg.c = 255;
    cpu.reg.d = 76;
    cpu.reg.e = 57;
    cpu.reg.f = 144;
    cpu.reg.h = 102;
    cpu.reg.l = 71;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[44656] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 148);
    CHECK(cpu.reg.b == 19);
    CHECK(cpu.reg.c == 255);
    CHECK(cpu.reg.d == 76);
    CHECK(cpu.reg.e == 56);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 102);
    CHECK(cpu.reg.l == 71);
    CHECK(cpu.pc == 44657);
    CHECK(cpu.sp == 43333);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44656] == 27);
}

TEST_CASE( "1B 036E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48164;
    cpu.sp = 7425;
    cpu.reg.a = 129;
    cpu.reg.b = 255;
    cpu.reg.c = 231;
    cpu.reg.d = 242;
    cpu.reg.e = 38;
    cpu.reg.f = 64;
    cpu.reg.h = 2;
    cpu.reg.l = 148;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[48164] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 129);
    CHECK(cpu.reg.b == 255);
    CHECK(cpu.reg.c == 231);
    CHECK(cpu.reg.d == 242);
    CHECK(cpu.reg.e == 37);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 2);
    CHECK(cpu.reg.l == 148);
    CHECK(cpu.pc == 48165);
    CHECK(cpu.sp == 7425);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48164] == 27);
}

TEST_CASE( "1B 036F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8852;
    cpu.sp = 49974;
    cpu.reg.a = 238;
    cpu.reg.b = 162;
    cpu.reg.c = 118;
    cpu.reg.d = 71;
    cpu.reg.e = 66;
    cpu.reg.f = 48;
    cpu.reg.h = 2;
    cpu.reg.l = 202;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[8852] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 238);
    CHECK(cpu.reg.b == 162);
    CHECK(cpu.reg.c == 118);
    CHECK(cpu.reg.d == 71);
    CHECK(cpu.reg.e == 65);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 2);
    CHECK(cpu.reg.l == 202);
    CHECK(cpu.pc == 8853);
    CHECK(cpu.sp == 49974);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8852] == 27);
}

TEST_CASE( "1B 0370", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5272;
    cpu.sp = 6166;
    cpu.reg.a = 160;
    cpu.reg.b = 137;
    cpu.reg.c = 252;
    cpu.reg.d = 97;
    cpu.reg.e = 39;
    cpu.reg.f = 48;
    cpu.reg.h = 45;
    cpu.reg.l = 83;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[5272] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 160);
    CHECK(cpu.reg.b == 137);
    CHECK(cpu.reg.c == 252);
    CHECK(cpu.reg.d == 97);
    CHECK(cpu.reg.e == 38);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 45);
    CHECK(cpu.reg.l == 83);
    CHECK(cpu.pc == 5273);
    CHECK(cpu.sp == 6166);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5272] == 27);
}

TEST_CASE( "1B 0371", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40233;
    cpu.sp = 58551;
    cpu.reg.a = 66;
    cpu.reg.b = 122;
    cpu.reg.c = 20;
    cpu.reg.d = 17;
    cpu.reg.e = 199;
    cpu.reg.f = 32;
    cpu.reg.h = 87;
    cpu.reg.l = 209;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[40233] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 66);
    CHECK(cpu.reg.b == 122);
    CHECK(cpu.reg.c == 20);
    CHECK(cpu.reg.d == 17);
    CHECK(cpu.reg.e == 198);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 87);
    CHECK(cpu.reg.l == 209);
    CHECK(cpu.pc == 40234);
    CHECK(cpu.sp == 58551);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40233] == 27);
}

TEST_CASE( "1B 0372", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3132;
    cpu.sp = 6038;
    cpu.reg.a = 218;
    cpu.reg.b = 185;
    cpu.reg.c = 213;
    cpu.reg.d = 179;
    cpu.reg.e = 3;
    cpu.reg.f = 208;
    cpu.reg.h = 140;
    cpu.reg.l = 34;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[3132] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 218);
    CHECK(cpu.reg.b == 185);
    CHECK(cpu.reg.c == 213);
    CHECK(cpu.reg.d == 179);
    CHECK(cpu.reg.e == 2);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 140);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 3133);
    CHECK(cpu.sp == 6038);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3132] == 27);
}

TEST_CASE( "1B 0373", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35807;
    cpu.sp = 18289;
    cpu.reg.a = 206;
    cpu.reg.b = 182;
    cpu.reg.c = 124;
    cpu.reg.d = 241;
    cpu.reg.e = 210;
    cpu.reg.f = 176;
    cpu.reg.h = 29;
    cpu.reg.l = 225;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[35807] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 206);
    CHECK(cpu.reg.b == 182);
    CHECK(cpu.reg.c == 124);
    CHECK(cpu.reg.d == 241);
    CHECK(cpu.reg.e == 209);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 29);
    CHECK(cpu.reg.l == 225);
    CHECK(cpu.pc == 35808);
    CHECK(cpu.sp == 18289);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35807] == 27);
}

TEST_CASE( "1B 0374", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53276;
    cpu.sp = 58937;
    cpu.reg.a = 112;
    cpu.reg.b = 49;
    cpu.reg.c = 123;
    cpu.reg.d = 23;
    cpu.reg.e = 76;
    cpu.reg.f = 160;
    cpu.reg.h = 110;
    cpu.reg.l = 164;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[53276] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 112);
    CHECK(cpu.reg.b == 49);
    CHECK(cpu.reg.c == 123);
    CHECK(cpu.reg.d == 23);
    CHECK(cpu.reg.e == 75);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 110);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 53277);
    CHECK(cpu.sp == 58937);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[53276] == 27);
}

TEST_CASE( "1B 0375", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22551;
    cpu.sp = 20973;
    cpu.reg.a = 194;
    cpu.reg.b = 226;
    cpu.reg.c = 20;
    cpu.reg.d = 65;
    cpu.reg.e = 174;
    cpu.reg.f = 240;
    cpu.reg.h = 78;
    cpu.reg.l = 63;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[22551] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 194);
    CHECK(cpu.reg.b == 226);
    CHECK(cpu.reg.c == 20);
    CHECK(cpu.reg.d == 65);
    CHECK(cpu.reg.e == 173);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 78);
    CHECK(cpu.reg.l == 63);
    CHECK(cpu.pc == 22552);
    CHECK(cpu.sp == 20973);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22551] == 27);
}

TEST_CASE( "1B 0376", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48622;
    cpu.sp = 43607;
    cpu.reg.a = 28;
    cpu.reg.b = 192;
    cpu.reg.c = 24;
    cpu.reg.d = 232;
    cpu.reg.e = 69;
    cpu.reg.f = 128;
    cpu.reg.h = 215;
    cpu.reg.l = 129;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[48622] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 28);
    CHECK(cpu.reg.b == 192);
    CHECK(cpu.reg.c == 24);
    CHECK(cpu.reg.d == 232);
    CHECK(cpu.reg.e == 68);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 215);
    CHECK(cpu.reg.l == 129);
    CHECK(cpu.pc == 48623);
    CHECK(cpu.sp == 43607);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48622] == 27);
}

TEST_CASE( "1B 0377", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41187;
    cpu.sp = 2336;
    cpu.reg.a = 116;
    cpu.reg.b = 138;
    cpu.reg.c = 143;
    cpu.reg.d = 72;
    cpu.reg.e = 219;
    cpu.reg.f = 176;
    cpu.reg.h = 129;
    cpu.reg.l = 156;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[41187] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 116);
    CHECK(cpu.reg.b == 138);
    CHECK(cpu.reg.c == 143);
    CHECK(cpu.reg.d == 72);
    CHECK(cpu.reg.e == 218);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 129);
    CHECK(cpu.reg.l == 156);
    CHECK(cpu.pc == 41188);
    CHECK(cpu.sp == 2336);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41187] == 27);
}

TEST_CASE( "1B 0378", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60238;
    cpu.sp = 7259;
    cpu.reg.a = 86;
    cpu.reg.b = 162;
    cpu.reg.c = 206;
    cpu.reg.d = 139;
    cpu.reg.e = 190;
    cpu.reg.f = 0;
    cpu.reg.h = 198;
    cpu.reg.l = 12;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[60238] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 86);
    CHECK(cpu.reg.b == 162);
    CHECK(cpu.reg.c == 206);
    CHECK(cpu.reg.d == 139);
    CHECK(cpu.reg.e == 189);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 198);
    CHECK(cpu.reg.l == 12);
    CHECK(cpu.pc == 60239);
    CHECK(cpu.sp == 7259);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[60238] == 27);
}

TEST_CASE( "1B 0379", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10881;
    cpu.sp = 63757;
    cpu.reg.a = 129;
    cpu.reg.b = 62;
    cpu.reg.c = 234;
    cpu.reg.d = 197;
    cpu.reg.e = 52;
    cpu.reg.f = 64;
    cpu.reg.h = 42;
    cpu.reg.l = 26;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[10881] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 129);
    CHECK(cpu.reg.b == 62);
    CHECK(cpu.reg.c == 234);
    CHECK(cpu.reg.d == 197);
    CHECK(cpu.reg.e == 51);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 42);
    CHECK(cpu.reg.l == 26);
    CHECK(cpu.pc == 10882);
    CHECK(cpu.sp == 63757);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10881] == 27);
}

TEST_CASE( "1B 037A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35273;
    cpu.sp = 40110;
    cpu.reg.a = 142;
    cpu.reg.b = 98;
    cpu.reg.c = 191;
    cpu.reg.d = 39;
    cpu.reg.e = 183;
    cpu.reg.f = 240;
    cpu.reg.h = 120;
    cpu.reg.l = 90;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[35273] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 142);
    CHECK(cpu.reg.b == 98);
    CHECK(cpu.reg.c == 191);
    CHECK(cpu.reg.d == 39);
    CHECK(cpu.reg.e == 182);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 120);
    CHECK(cpu.reg.l == 90);
    CHECK(cpu.pc == 35274);
    CHECK(cpu.sp == 40110);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35273] == 27);
}

TEST_CASE( "1B 037B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49915;
    cpu.sp = 48150;
    cpu.reg.a = 94;
    cpu.reg.b = 108;
    cpu.reg.c = 244;
    cpu.reg.d = 69;
    cpu.reg.e = 23;
    cpu.reg.f = 0;
    cpu.reg.h = 158;
    cpu.reg.l = 182;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[49915] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 94);
    CHECK(cpu.reg.b == 108);
    CHECK(cpu.reg.c == 244);
    CHECK(cpu.reg.d == 69);
    CHECK(cpu.reg.e == 22);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 158);
    CHECK(cpu.reg.l == 182);
    CHECK(cpu.pc == 49916);
    CHECK(cpu.sp == 48150);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49915] == 27);
}

TEST_CASE( "1B 037C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38033;
    cpu.sp = 62008;
    cpu.reg.a = 219;
    cpu.reg.b = 40;
    cpu.reg.c = 79;
    cpu.reg.d = 171;
    cpu.reg.e = 188;
    cpu.reg.f = 144;
    cpu.reg.h = 140;
    cpu.reg.l = 64;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[38033] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 219);
    CHECK(cpu.reg.b == 40);
    CHECK(cpu.reg.c == 79);
    CHECK(cpu.reg.d == 171);
    CHECK(cpu.reg.e == 187);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 140);
    CHECK(cpu.reg.l == 64);
    CHECK(cpu.pc == 38034);
    CHECK(cpu.sp == 62008);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38033] == 27);
}

TEST_CASE( "1B 037D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6136;
    cpu.sp = 10191;
    cpu.reg.a = 187;
    cpu.reg.b = 102;
    cpu.reg.c = 93;
    cpu.reg.d = 165;
    cpu.reg.e = 184;
    cpu.reg.f = 112;
    cpu.reg.h = 205;
    cpu.reg.l = 101;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[6136] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 187);
    CHECK(cpu.reg.b == 102);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 165);
    CHECK(cpu.reg.e == 183);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 205);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 6137);
    CHECK(cpu.sp == 10191);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6136] == 27);
}

TEST_CASE( "1B 037E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38694;
    cpu.sp = 38109;
    cpu.reg.a = 57;
    cpu.reg.b = 115;
    cpu.reg.c = 131;
    cpu.reg.d = 247;
    cpu.reg.e = 54;
    cpu.reg.f = 224;
    cpu.reg.h = 201;
    cpu.reg.l = 160;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[38694] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 57);
    CHECK(cpu.reg.b == 115);
    CHECK(cpu.reg.c == 131);
    CHECK(cpu.reg.d == 247);
    CHECK(cpu.reg.e == 53);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 201);
    CHECK(cpu.reg.l == 160);
    CHECK(cpu.pc == 38695);
    CHECK(cpu.sp == 38109);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38694] == 27);
}

TEST_CASE( "1B 037F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5881;
    cpu.sp = 15139;
    cpu.reg.a = 179;
    cpu.reg.b = 163;
    cpu.reg.c = 54;
    cpu.reg.d = 239;
    cpu.reg.e = 182;
    cpu.reg.f = 32;
    cpu.reg.h = 53;
    cpu.reg.l = 26;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[5881] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 179);
    CHECK(cpu.reg.b == 163);
    CHECK(cpu.reg.c == 54);
    CHECK(cpu.reg.d == 239);
    CHECK(cpu.reg.e == 181);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 53);
    CHECK(cpu.reg.l == 26);
    CHECK(cpu.pc == 5882);
    CHECK(cpu.sp == 15139);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5881] == 27);
}

TEST_CASE( "1B 0380", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39486;
    cpu.sp = 6032;
    cpu.reg.a = 196;
    cpu.reg.b = 180;
    cpu.reg.c = 51;
    cpu.reg.d = 232;
    cpu.reg.e = 149;
    cpu.reg.f = 192;
    cpu.reg.h = 201;
    cpu.reg.l = 49;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[39486] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 196);
    CHECK(cpu.reg.b == 180);
    CHECK(cpu.reg.c == 51);
    CHECK(cpu.reg.d == 232);
    CHECK(cpu.reg.e == 148);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 201);
    CHECK(cpu.reg.l == 49);
    CHECK(cpu.pc == 39487);
    CHECK(cpu.sp == 6032);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39486] == 27);
}

TEST_CASE( "1B 0381", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60815;
    cpu.sp = 37141;
    cpu.reg.a = 145;
    cpu.reg.b = 63;
    cpu.reg.c = 24;
    cpu.reg.d = 89;
    cpu.reg.e = 252;
    cpu.reg.f = 160;
    cpu.reg.h = 37;
    cpu.reg.l = 114;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[60815] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 145);
    CHECK(cpu.reg.b == 63);
    CHECK(cpu.reg.c == 24);
    CHECK(cpu.reg.d == 89);
    CHECK(cpu.reg.e == 251);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 37);
    CHECK(cpu.reg.l == 114);
    CHECK(cpu.pc == 60816);
    CHECK(cpu.sp == 37141);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60815] == 27);
}

TEST_CASE( "1B 0382", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27912;
    cpu.sp = 8554;
    cpu.reg.a = 185;
    cpu.reg.b = 71;
    cpu.reg.c = 230;
    cpu.reg.d = 34;
    cpu.reg.e = 55;
    cpu.reg.f = 144;
    cpu.reg.h = 184;
    cpu.reg.l = 118;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[27912] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 185);
    CHECK(cpu.reg.b == 71);
    CHECK(cpu.reg.c == 230);
    CHECK(cpu.reg.d == 34);
    CHECK(cpu.reg.e == 54);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 184);
    CHECK(cpu.reg.l == 118);
    CHECK(cpu.pc == 27913);
    CHECK(cpu.sp == 8554);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27912] == 27);
}

TEST_CASE( "1B 0383", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18704;
    cpu.sp = 11748;
    cpu.reg.a = 175;
    cpu.reg.b = 54;
    cpu.reg.c = 19;
    cpu.reg.d = 58;
    cpu.reg.e = 150;
    cpu.reg.f = 240;
    cpu.reg.h = 50;
    cpu.reg.l = 123;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[18704] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 175);
    CHECK(cpu.reg.b == 54);
    CHECK(cpu.reg.c == 19);
    CHECK(cpu.reg.d == 58);
    CHECK(cpu.reg.e == 149);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 50);
    CHECK(cpu.reg.l == 123);
    CHECK(cpu.pc == 18705);
    CHECK(cpu.sp == 11748);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18704] == 27);
}

TEST_CASE( "1B 0384", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3845;
    cpu.sp = 61282;
    cpu.reg.a = 174;
    cpu.reg.b = 133;
    cpu.reg.c = 76;
    cpu.reg.d = 219;
    cpu.reg.e = 2;
    cpu.reg.f = 64;
    cpu.reg.h = 207;
    cpu.reg.l = 78;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[3845] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 174);
    CHECK(cpu.reg.b == 133);
    CHECK(cpu.reg.c == 76);
    CHECK(cpu.reg.d == 219);
    CHECK(cpu.reg.e == 1);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 207);
    CHECK(cpu.reg.l == 78);
    CHECK(cpu.pc == 3846);
    CHECK(cpu.sp == 61282);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3845] == 27);
}

TEST_CASE( "1B 0385", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10875;
    cpu.sp = 8056;
    cpu.reg.a = 32;
    cpu.reg.b = 173;
    cpu.reg.c = 154;
    cpu.reg.d = 218;
    cpu.reg.e = 28;
    cpu.reg.f = 80;
    cpu.reg.h = 107;
    cpu.reg.l = 131;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[10875] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 32);
    CHECK(cpu.reg.b == 173);
    CHECK(cpu.reg.c == 154);
    CHECK(cpu.reg.d == 218);
    CHECK(cpu.reg.e == 27);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 107);
    CHECK(cpu.reg.l == 131);
    CHECK(cpu.pc == 10876);
    CHECK(cpu.sp == 8056);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10875] == 27);
}

TEST_CASE( "1B 0386", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42120;
    cpu.sp = 54874;
    cpu.reg.a = 51;
    cpu.reg.b = 30;
    cpu.reg.c = 17;
    cpu.reg.d = 202;
    cpu.reg.e = 159;
    cpu.reg.f = 192;
    cpu.reg.h = 46;
    cpu.reg.l = 26;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[42120] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 51);
    CHECK(cpu.reg.b == 30);
    CHECK(cpu.reg.c == 17);
    CHECK(cpu.reg.d == 202);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 46);
    CHECK(cpu.reg.l == 26);
    CHECK(cpu.pc == 42121);
    CHECK(cpu.sp == 54874);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[42120] == 27);
}

TEST_CASE( "1B 0387", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54515;
    cpu.sp = 30354;
    cpu.reg.a = 149;
    cpu.reg.b = 13;
    cpu.reg.c = 138;
    cpu.reg.d = 229;
    cpu.reg.e = 126;
    cpu.reg.f = 192;
    cpu.reg.h = 3;
    cpu.reg.l = 185;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[54515] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 149);
    CHECK(cpu.reg.b == 13);
    CHECK(cpu.reg.c == 138);
    CHECK(cpu.reg.d == 229);
    CHECK(cpu.reg.e == 125);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 3);
    CHECK(cpu.reg.l == 185);
    CHECK(cpu.pc == 54516);
    CHECK(cpu.sp == 30354);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[54515] == 27);
}

TEST_CASE( "1B 0388", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27543;
    cpu.sp = 42505;
    cpu.reg.a = 96;
    cpu.reg.b = 89;
    cpu.reg.c = 10;
    cpu.reg.d = 127;
    cpu.reg.e = 222;
    cpu.reg.f = 96;
    cpu.reg.h = 149;
    cpu.reg.l = 161;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[27543] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 96);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 10);
    CHECK(cpu.reg.d == 127);
    CHECK(cpu.reg.e == 221);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 149);
    CHECK(cpu.reg.l == 161);
    CHECK(cpu.pc == 27544);
    CHECK(cpu.sp == 42505);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27543] == 27);
}

TEST_CASE( "1B 0389", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35069;
    cpu.sp = 38730;
    cpu.reg.a = 132;
    cpu.reg.b = 84;
    cpu.reg.c = 241;
    cpu.reg.d = 157;
    cpu.reg.e = 147;
    cpu.reg.f = 112;
    cpu.reg.h = 119;
    cpu.reg.l = 213;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[35069] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 132);
    CHECK(cpu.reg.b == 84);
    CHECK(cpu.reg.c == 241);
    CHECK(cpu.reg.d == 157);
    CHECK(cpu.reg.e == 146);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 119);
    CHECK(cpu.reg.l == 213);
    CHECK(cpu.pc == 35070);
    CHECK(cpu.sp == 38730);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35069] == 27);
}

TEST_CASE( "1B 038A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51393;
    cpu.sp = 62319;
    cpu.reg.a = 243;
    cpu.reg.b = 181;
    cpu.reg.c = 113;
    cpu.reg.d = 203;
    cpu.reg.e = 97;
    cpu.reg.f = 48;
    cpu.reg.h = 221;
    cpu.reg.l = 237;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[51393] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 243);
    CHECK(cpu.reg.b == 181);
    CHECK(cpu.reg.c == 113);
    CHECK(cpu.reg.d == 203);
    CHECK(cpu.reg.e == 96);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 221);
    CHECK(cpu.reg.l == 237);
    CHECK(cpu.pc == 51394);
    CHECK(cpu.sp == 62319);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51393] == 27);
}

TEST_CASE( "1B 038B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63033;
    cpu.sp = 31628;
    cpu.reg.a = 36;
    cpu.reg.b = 225;
    cpu.reg.c = 113;
    cpu.reg.d = 21;
    cpu.reg.e = 218;
    cpu.reg.f = 16;
    cpu.reg.h = 44;
    cpu.reg.l = 94;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[63033] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 36);
    CHECK(cpu.reg.b == 225);
    CHECK(cpu.reg.c == 113);
    CHECK(cpu.reg.d == 21);
    CHECK(cpu.reg.e == 217);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 44);
    CHECK(cpu.reg.l == 94);
    CHECK(cpu.pc == 63034);
    CHECK(cpu.sp == 31628);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[63033] == 27);
}

TEST_CASE( "1B 038C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46049;
    cpu.sp = 52372;
    cpu.reg.a = 36;
    cpu.reg.b = 114;
    cpu.reg.c = 136;
    cpu.reg.d = 173;
    cpu.reg.e = 234;
    cpu.reg.f = 128;
    cpu.reg.h = 218;
    cpu.reg.l = 159;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[46049] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 36);
    CHECK(cpu.reg.b == 114);
    CHECK(cpu.reg.c == 136);
    CHECK(cpu.reg.d == 173);
    CHECK(cpu.reg.e == 233);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 218);
    CHECK(cpu.reg.l == 159);
    CHECK(cpu.pc == 46050);
    CHECK(cpu.sp == 52372);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46049] == 27);
}

TEST_CASE( "1B 038D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13879;
    cpu.sp = 30150;
    cpu.reg.a = 19;
    cpu.reg.b = 246;
    cpu.reg.c = 157;
    cpu.reg.d = 180;
    cpu.reg.e = 145;
    cpu.reg.f = 224;
    cpu.reg.h = 154;
    cpu.reg.l = 113;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[13879] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 19);
    CHECK(cpu.reg.b == 246);
    CHECK(cpu.reg.c == 157);
    CHECK(cpu.reg.d == 180);
    CHECK(cpu.reg.e == 144);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 154);
    CHECK(cpu.reg.l == 113);
    CHECK(cpu.pc == 13880);
    CHECK(cpu.sp == 30150);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13879] == 27);
}

TEST_CASE( "1B 038E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27781;
    cpu.sp = 40275;
    cpu.reg.a = 140;
    cpu.reg.b = 85;
    cpu.reg.c = 195;
    cpu.reg.d = 46;
    cpu.reg.e = 77;
    cpu.reg.f = 80;
    cpu.reg.h = 102;
    cpu.reg.l = 240;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[27781] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 140);
    CHECK(cpu.reg.b == 85);
    CHECK(cpu.reg.c == 195);
    CHECK(cpu.reg.d == 46);
    CHECK(cpu.reg.e == 76);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 102);
    CHECK(cpu.reg.l == 240);
    CHECK(cpu.pc == 27782);
    CHECK(cpu.sp == 40275);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27781] == 27);
}

TEST_CASE( "1B 038F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7964;
    cpu.sp = 61706;
    cpu.reg.a = 216;
    cpu.reg.b = 13;
    cpu.reg.c = 157;
    cpu.reg.d = 233;
    cpu.reg.e = 118;
    cpu.reg.f = 144;
    cpu.reg.h = 2;
    cpu.reg.l = 59;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[7964] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 13);
    CHECK(cpu.reg.c == 157);
    CHECK(cpu.reg.d == 233);
    CHECK(cpu.reg.e == 117);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 2);
    CHECK(cpu.reg.l == 59);
    CHECK(cpu.pc == 7965);
    CHECK(cpu.sp == 61706);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7964] == 27);
}

TEST_CASE( "1B 0390", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13606;
    cpu.sp = 39008;
    cpu.reg.a = 173;
    cpu.reg.b = 22;
    cpu.reg.c = 112;
    cpu.reg.d = 211;
    cpu.reg.e = 9;
    cpu.reg.f = 176;
    cpu.reg.h = 166;
    cpu.reg.l = 113;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[13606] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 173);
    CHECK(cpu.reg.b == 22);
    CHECK(cpu.reg.c == 112);
    CHECK(cpu.reg.d == 211);
    CHECK(cpu.reg.e == 8);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 166);
    CHECK(cpu.reg.l == 113);
    CHECK(cpu.pc == 13607);
    CHECK(cpu.sp == 39008);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13606] == 27);
}

TEST_CASE( "1B 0391", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42116;
    cpu.sp = 6573;
    cpu.reg.a = 182;
    cpu.reg.b = 11;
    cpu.reg.c = 189;
    cpu.reg.d = 47;
    cpu.reg.e = 238;
    cpu.reg.f = 80;
    cpu.reg.h = 160;
    cpu.reg.l = 57;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[42116] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 182);
    CHECK(cpu.reg.b == 11);
    CHECK(cpu.reg.c == 189);
    CHECK(cpu.reg.d == 47);
    CHECK(cpu.reg.e == 237);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 160);
    CHECK(cpu.reg.l == 57);
    CHECK(cpu.pc == 42117);
    CHECK(cpu.sp == 6573);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[42116] == 27);
}

TEST_CASE( "1B 0392", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39783;
    cpu.sp = 2226;
    cpu.reg.a = 139;
    cpu.reg.b = 49;
    cpu.reg.c = 177;
    cpu.reg.d = 201;
    cpu.reg.e = 78;
    cpu.reg.f = 16;
    cpu.reg.h = 139;
    cpu.reg.l = 113;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[39783] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 139);
    CHECK(cpu.reg.b == 49);
    CHECK(cpu.reg.c == 177);
    CHECK(cpu.reg.d == 201);
    CHECK(cpu.reg.e == 77);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 139);
    CHECK(cpu.reg.l == 113);
    CHECK(cpu.pc == 39784);
    CHECK(cpu.sp == 2226);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39783] == 27);
}

TEST_CASE( "1B 0393", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60659;
    cpu.sp = 44129;
    cpu.reg.a = 233;
    cpu.reg.b = 230;
    cpu.reg.c = 132;
    cpu.reg.d = 168;
    cpu.reg.e = 230;
    cpu.reg.f = 96;
    cpu.reg.h = 243;
    cpu.reg.l = 61;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[60659] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 233);
    CHECK(cpu.reg.b == 230);
    CHECK(cpu.reg.c == 132);
    CHECK(cpu.reg.d == 168);
    CHECK(cpu.reg.e == 229);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 243);
    CHECK(cpu.reg.l == 61);
    CHECK(cpu.pc == 60660);
    CHECK(cpu.sp == 44129);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[60659] == 27);
}

TEST_CASE( "1B 0394", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65466;
    cpu.sp = 51495;
    cpu.reg.a = 208;
    cpu.reg.b = 213;
    cpu.reg.c = 208;
    cpu.reg.d = 29;
    cpu.reg.e = 187;
    cpu.reg.f = 144;
    cpu.reg.h = 89;
    cpu.reg.l = 163;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[65466] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 208);
    CHECK(cpu.reg.b == 213);
    CHECK(cpu.reg.c == 208);
    CHECK(cpu.reg.d == 29);
    CHECK(cpu.reg.e == 186);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 89);
    CHECK(cpu.reg.l == 163);
    CHECK(cpu.pc == 65467);
    CHECK(cpu.sp == 51495);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[65466] == 27);
}

TEST_CASE( "1B 0395", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25226;
    cpu.sp = 41001;
    cpu.reg.a = 237;
    cpu.reg.b = 147;
    cpu.reg.c = 76;
    cpu.reg.d = 251;
    cpu.reg.e = 126;
    cpu.reg.f = 192;
    cpu.reg.h = 254;
    cpu.reg.l = 39;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[25226] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 237);
    CHECK(cpu.reg.b == 147);
    CHECK(cpu.reg.c == 76);
    CHECK(cpu.reg.d == 251);
    CHECK(cpu.reg.e == 125);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 254);
    CHECK(cpu.reg.l == 39);
    CHECK(cpu.pc == 25227);
    CHECK(cpu.sp == 41001);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25226] == 27);
}

TEST_CASE( "1B 0396", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48367;
    cpu.sp = 13419;
    cpu.reg.a = 172;
    cpu.reg.b = 41;
    cpu.reg.c = 225;
    cpu.reg.d = 189;
    cpu.reg.e = 54;
    cpu.reg.f = 208;
    cpu.reg.h = 70;
    cpu.reg.l = 97;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[48367] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 172);
    CHECK(cpu.reg.b == 41);
    CHECK(cpu.reg.c == 225);
    CHECK(cpu.reg.d == 189);
    CHECK(cpu.reg.e == 53);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 70);
    CHECK(cpu.reg.l == 97);
    CHECK(cpu.pc == 48368);
    CHECK(cpu.sp == 13419);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[48367] == 27);
}

TEST_CASE( "1B 0397", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11124;
    cpu.sp = 49314;
    cpu.reg.a = 201;
    cpu.reg.b = 250;
    cpu.reg.c = 252;
    cpu.reg.d = 206;
    cpu.reg.e = 9;
    cpu.reg.f = 112;
    cpu.reg.h = 73;
    cpu.reg.l = 92;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[11124] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 201);
    CHECK(cpu.reg.b == 250);
    CHECK(cpu.reg.c == 252);
    CHECK(cpu.reg.d == 206);
    CHECK(cpu.reg.e == 8);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 73);
    CHECK(cpu.reg.l == 92);
    CHECK(cpu.pc == 11125);
    CHECK(cpu.sp == 49314);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11124] == 27);
}

TEST_CASE( "1B 0398", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10998;
    cpu.sp = 46509;
    cpu.reg.a = 189;
    cpu.reg.b = 242;
    cpu.reg.c = 73;
    cpu.reg.d = 196;
    cpu.reg.e = 188;
    cpu.reg.f = 192;
    cpu.reg.h = 98;
    cpu.reg.l = 146;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[10998] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 189);
    CHECK(cpu.reg.b == 242);
    CHECK(cpu.reg.c == 73);
    CHECK(cpu.reg.d == 196);
    CHECK(cpu.reg.e == 187);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 98);
    CHECK(cpu.reg.l == 146);
    CHECK(cpu.pc == 10999);
    CHECK(cpu.sp == 46509);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10998] == 27);
}

TEST_CASE( "1B 0399", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50271;
    cpu.sp = 13131;
    cpu.reg.a = 149;
    cpu.reg.b = 18;
    cpu.reg.c = 156;
    cpu.reg.d = 69;
    cpu.reg.e = 67;
    cpu.reg.f = 48;
    cpu.reg.h = 155;
    cpu.reg.l = 158;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[50271] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 149);
    CHECK(cpu.reg.b == 18);
    CHECK(cpu.reg.c == 156);
    CHECK(cpu.reg.d == 69);
    CHECK(cpu.reg.e == 66);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 155);
    CHECK(cpu.reg.l == 158);
    CHECK(cpu.pc == 50272);
    CHECK(cpu.sp == 13131);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50271] == 27);
}

TEST_CASE( "1B 039A", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50951;
    cpu.sp = 51209;
    cpu.reg.a = 102;
    cpu.reg.b = 183;
    cpu.reg.c = 11;
    cpu.reg.d = 118;
    cpu.reg.e = 194;
    cpu.reg.f = 208;
    cpu.reg.h = 74;
    cpu.reg.l = 5;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[50951] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 102);
    CHECK(cpu.reg.b == 183);
    CHECK(cpu.reg.c == 11);
    CHECK(cpu.reg.d == 118);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 74);
    CHECK(cpu.reg.l == 5);
    CHECK(cpu.pc == 50952);
    CHECK(cpu.sp == 51209);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50951] == 27);
}

TEST_CASE( "1B 039B", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61345;
    cpu.sp = 29676;
    cpu.reg.a = 170;
    cpu.reg.b = 233;
    cpu.reg.c = 207;
    cpu.reg.d = 219;
    cpu.reg.e = 243;
    cpu.reg.f = 208;
    cpu.reg.h = 91;
    cpu.reg.l = 186;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[61345] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 170);
    CHECK(cpu.reg.b == 233);
    CHECK(cpu.reg.c == 207);
    CHECK(cpu.reg.d == 219);
    CHECK(cpu.reg.e == 242);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 91);
    CHECK(cpu.reg.l == 186);
    CHECK(cpu.pc == 61346);
    CHECK(cpu.sp == 29676);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61345] == 27);
}

TEST_CASE( "1B 039C", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47786;
    cpu.sp = 32019;
    cpu.reg.a = 198;
    cpu.reg.b = 245;
    cpu.reg.c = 9;
    cpu.reg.d = 109;
    cpu.reg.e = 63;
    cpu.reg.f = 224;
    cpu.reg.h = 49;
    cpu.reg.l = 204;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[47786] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 198);
    CHECK(cpu.reg.b == 245);
    CHECK(cpu.reg.c == 9);
    CHECK(cpu.reg.d == 109);
    CHECK(cpu.reg.e == 62);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 49);
    CHECK(cpu.reg.l == 204);
    CHECK(cpu.pc == 47787);
    CHECK(cpu.sp == 32019);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47786] == 27);
}

TEST_CASE( "1B 039D", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47609;
    cpu.sp = 28693;
    cpu.reg.a = 216;
    cpu.reg.b = 106;
    cpu.reg.c = 228;
    cpu.reg.d = 165;
    cpu.reg.e = 48;
    cpu.reg.f = 144;
    cpu.reg.h = 163;
    cpu.reg.l = 60;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[47609] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 106);
    CHECK(cpu.reg.c == 228);
    CHECK(cpu.reg.d == 165);
    CHECK(cpu.reg.e == 47);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 163);
    CHECK(cpu.reg.l == 60);
    CHECK(cpu.pc == 47610);
    CHECK(cpu.sp == 28693);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47609] == 27);
}

TEST_CASE( "1B 039E", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54170;
    cpu.sp = 54320;
    cpu.reg.a = 112;
    cpu.reg.b = 85;
    cpu.reg.c = 249;
    cpu.reg.d = 7;
    cpu.reg.e = 190;
    cpu.reg.f = 32;
    cpu.reg.h = 221;
    cpu.reg.l = 100;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[54170] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 112);
    CHECK(cpu.reg.b == 85);
    CHECK(cpu.reg.c == 249);
    CHECK(cpu.reg.d == 7);
    CHECK(cpu.reg.e == 189);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 221);
    CHECK(cpu.reg.l == 100);
    CHECK(cpu.pc == 54171);
    CHECK(cpu.sp == 54320);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[54170] == 27);
}

TEST_CASE( "1B 039F", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45995;
    cpu.sp = 1991;
    cpu.reg.a = 170;
    cpu.reg.b = 10;
    cpu.reg.c = 33;
    cpu.reg.d = 44;
    cpu.reg.e = 254;
    cpu.reg.f = 208;
    cpu.reg.h = 215;
    cpu.reg.l = 123;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[45995] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 170);
    CHECK(cpu.reg.b == 10);
    CHECK(cpu.reg.c == 33);
    CHECK(cpu.reg.d == 44);
    CHECK(cpu.reg.e == 253);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 215);
    CHECK(cpu.reg.l == 123);
    CHECK(cpu.pc == 45996);
    CHECK(cpu.sp == 1991);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45995] == 27);
}

TEST_CASE( "1B 03A0", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25387;
    cpu.sp = 33704;
    cpu.reg.a = 218;
    cpu.reg.b = 136;
    cpu.reg.c = 159;
    cpu.reg.d = 157;
    cpu.reg.e = 101;
    cpu.reg.f = 240;
    cpu.reg.h = 17;
    cpu.reg.l = 253;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[25387] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 218);
    CHECK(cpu.reg.b == 136);
    CHECK(cpu.reg.c == 159);
    CHECK(cpu.reg.d == 157);
    CHECK(cpu.reg.e == 100);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 253);
    CHECK(cpu.pc == 25388);
    CHECK(cpu.sp == 33704);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25387] == 27);
}

TEST_CASE( "1B 03A1", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56129;
    cpu.sp = 47035;
    cpu.reg.a = 142;
    cpu.reg.b = 209;
    cpu.reg.c = 66;
    cpu.reg.d = 93;
    cpu.reg.e = 70;
    cpu.reg.f = 64;
    cpu.reg.h = 96;
    cpu.reg.l = 119;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[56129] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 142);
    CHECK(cpu.reg.b == 209);
    CHECK(cpu.reg.c == 66);
    CHECK(cpu.reg.d == 93);
    CHECK(cpu.reg.e == 69);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 96);
    CHECK(cpu.reg.l == 119);
    CHECK(cpu.pc == 56130);
    CHECK(cpu.sp == 47035);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56129] == 27);
}

TEST_CASE( "1B 03A2", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 358;
    cpu.sp = 2105;
    cpu.reg.a = 95;
    cpu.reg.b = 99;
    cpu.reg.c = 189;
    cpu.reg.d = 210;
    cpu.reg.e = 11;
    cpu.reg.f = 96;
    cpu.reg.h = 242;
    cpu.reg.l = 81;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[358] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 95);
    CHECK(cpu.reg.b == 99);
    CHECK(cpu.reg.c == 189);
    CHECK(cpu.reg.d == 210);
    CHECK(cpu.reg.e == 10);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 81);
    CHECK(cpu.pc == 359);
    CHECK(cpu.sp == 2105);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[358] == 27);
}

TEST_CASE( "1B 03A3", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4492;
    cpu.sp = 33975;
    cpu.reg.a = 133;
    cpu.reg.b = 64;
    cpu.reg.c = 95;
    cpu.reg.d = 225;
    cpu.reg.e = 173;
    cpu.reg.f = 192;
    cpu.reg.h = 101;
    cpu.reg.l = 179;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[4492] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 133);
    CHECK(cpu.reg.b == 64);
    CHECK(cpu.reg.c == 95);
    CHECK(cpu.reg.d == 225);
    CHECK(cpu.reg.e == 172);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 101);
    CHECK(cpu.reg.l == 179);
    CHECK(cpu.pc == 4493);
    CHECK(cpu.sp == 33975);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4492] == 27);
}

TEST_CASE( "1B 03A4", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32978;
    cpu.sp = 11395;
    cpu.reg.a = 97;
    cpu.reg.b = 215;
    cpu.reg.c = 11;
    cpu.reg.d = 60;
    cpu.reg.e = 205;
    cpu.reg.f = 48;
    cpu.reg.h = 177;
    cpu.reg.l = 169;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[32978] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 97);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 11);
    CHECK(cpu.reg.d == 60);
    CHECK(cpu.reg.e == 204);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 177);
    CHECK(cpu.reg.l == 169);
    CHECK(cpu.pc == 32979);
    CHECK(cpu.sp == 11395);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[32978] == 27);
}

TEST_CASE( "1B 03A5", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4119;
    cpu.sp = 6649;
    cpu.reg.a = 37;
    cpu.reg.b = 48;
    cpu.reg.c = 110;
    cpu.reg.d = 69;
    cpu.reg.e = 147;
    cpu.reg.f = 192;
    cpu.reg.h = 180;
    cpu.reg.l = 82;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4119] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 37);
    CHECK(cpu.reg.b == 48);
    CHECK(cpu.reg.c == 110);
    CHECK(cpu.reg.d == 69);
    CHECK(cpu.reg.e == 146);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 180);
    CHECK(cpu.reg.l == 82);
    CHECK(cpu.pc == 4120);
    CHECK(cpu.sp == 6649);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4119] == 27);
}

TEST_CASE( "1B 03A6", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19614;
    cpu.sp = 48960;
    cpu.reg.a = 164;
    cpu.reg.b = 205;
    cpu.reg.c = 130;
    cpu.reg.d = 238;
    cpu.reg.e = 249;
    cpu.reg.f = 32;
    cpu.reg.h = 234;
    cpu.reg.l = 112;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[19614] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 164);
    CHECK(cpu.reg.b == 205);
    CHECK(cpu.reg.c == 130);
    CHECK(cpu.reg.d == 238);
    CHECK(cpu.reg.e == 248);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 234);
    CHECK(cpu.reg.l == 112);
    CHECK(cpu.pc == 19615);
    CHECK(cpu.sp == 48960);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19614] == 27);
}

TEST_CASE( "1B 03A7", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18452;
    cpu.sp = 51000;
    cpu.reg.a = 200;
    cpu.reg.b = 112;
    cpu.reg.c = 58;
    cpu.reg.d = 66;
    cpu.reg.e = 163;
    cpu.reg.f = 48;
    cpu.reg.h = 82;
    cpu.reg.l = 142;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[18452] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 200);
    CHECK(cpu.reg.b == 112);
    CHECK(cpu.reg.c == 58);
    CHECK(cpu.reg.d == 66);
    CHECK(cpu.reg.e == 162);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 82);
    CHECK(cpu.reg.l == 142);
    CHECK(cpu.pc == 18453);
    CHECK(cpu.sp == 51000);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18452] == 27);
}

TEST_CASE( "1B 03A8", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54186;
    cpu.sp = 10416;
    cpu.reg.a = 110;
    cpu.reg.b = 88;
    cpu.reg.c = 105;
    cpu.reg.d = 210;
    cpu.reg.e = 2;
    cpu.reg.f = 0;
    cpu.reg.h = 1;
    cpu.reg.l = 169;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[54186] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 110);
    CHECK(cpu.reg.b == 88);
    CHECK(cpu.reg.c == 105);
    CHECK(cpu.reg.d == 210);
    CHECK(cpu.reg.e == 1);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 1);
    CHECK(cpu.reg.l == 169);
    CHECK(cpu.pc == 54187);
    CHECK(cpu.sp == 10416);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54186] == 27);
}

TEST_CASE( "1B 03A9", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5390;
    cpu.sp = 37290;
    cpu.reg.a = 3;
    cpu.reg.b = 94;
    cpu.reg.c = 151;
    cpu.reg.d = 181;
    cpu.reg.e = 128;
    cpu.reg.f = 128;
    cpu.reg.h = 99;
    cpu.reg.l = 102;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[5390] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 3);
    CHECK(cpu.reg.b == 94);
    CHECK(cpu.reg.c == 151);
    CHECK(cpu.reg.d == 181);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 99);
    CHECK(cpu.reg.l == 102);
    CHECK(cpu.pc == 5391);
    CHECK(cpu.sp == 37290);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5390] == 27);
}

TEST_CASE( "1B 03AA", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58437;
    cpu.sp = 308;
    cpu.reg.a = 22;
    cpu.reg.b = 215;
    cpu.reg.c = 237;
    cpu.reg.d = 207;
    cpu.reg.e = 194;
    cpu.reg.f = 176;
    cpu.reg.h = 224;
    cpu.reg.l = 205;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[58437] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 22);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 237);
    CHECK(cpu.reg.d == 207);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 224);
    CHECK(cpu.reg.l == 205);
    CHECK(cpu.pc == 58438);
    CHECK(cpu.sp == 308);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58437] == 27);
}

TEST_CASE( "1B 03AB", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41333;
    cpu.sp = 21948;
    cpu.reg.a = 242;
    cpu.reg.b = 17;
    cpu.reg.c = 102;
    cpu.reg.d = 212;
    cpu.reg.e = 58;
    cpu.reg.f = 224;
    cpu.reg.h = 152;
    cpu.reg.l = 173;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[41333] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 242);
    CHECK(cpu.reg.b == 17);
    CHECK(cpu.reg.c == 102);
    CHECK(cpu.reg.d == 212);
    CHECK(cpu.reg.e == 57);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 152);
    CHECK(cpu.reg.l == 173);
    CHECK(cpu.pc == 41334);
    CHECK(cpu.sp == 21948);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[41333] == 27);
}

TEST_CASE( "1B 03AC", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10709;
    cpu.sp = 42504;
    cpu.reg.a = 174;
    cpu.reg.b = 243;
    cpu.reg.c = 237;
    cpu.reg.d = 215;
    cpu.reg.e = 249;
    cpu.reg.f = 96;
    cpu.reg.h = 173;
    cpu.reg.l = 207;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[10709] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 174);
    CHECK(cpu.reg.b == 243);
    CHECK(cpu.reg.c == 237);
    CHECK(cpu.reg.d == 215);
    CHECK(cpu.reg.e == 248);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 173);
    CHECK(cpu.reg.l == 207);
    CHECK(cpu.pc == 10710);
    CHECK(cpu.sp == 42504);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10709] == 27);
}

TEST_CASE( "1B 03AD", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22471;
    cpu.sp = 54474;
    cpu.reg.a = 253;
    cpu.reg.b = 238;
    cpu.reg.c = 253;
    cpu.reg.d = 156;
    cpu.reg.e = 237;
    cpu.reg.f = 240;
    cpu.reg.h = 254;
    cpu.reg.l = 105;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[22471] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 253);
    CHECK(cpu.reg.b == 238);
    CHECK(cpu.reg.c == 253);
    CHECK(cpu.reg.d == 156);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 254);
    CHECK(cpu.reg.l == 105);
    CHECK(cpu.pc == 22472);
    CHECK(cpu.sp == 54474);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22471] == 27);
}

TEST_CASE( "1B 03AE", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18499;
    cpu.sp = 21954;
    cpu.reg.a = 252;
    cpu.reg.b = 226;
    cpu.reg.c = 70;
    cpu.reg.d = 217;
    cpu.reg.e = 100;
    cpu.reg.f = 32;
    cpu.reg.h = 156;
    cpu.reg.l = 25;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[18499] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 252);
    CHECK(cpu.reg.b == 226);
    CHECK(cpu.reg.c == 70);
    CHECK(cpu.reg.d == 217);
    CHECK(cpu.reg.e == 99);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 156);
    CHECK(cpu.reg.l == 25);
    CHECK(cpu.pc == 18500);
    CHECK(cpu.sp == 21954);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18499] == 27);
}

TEST_CASE( "1B 03AF", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34276;
    cpu.sp = 25891;
    cpu.reg.a = 115;
    cpu.reg.b = 109;
    cpu.reg.c = 175;
    cpu.reg.d = 19;
    cpu.reg.e = 190;
    cpu.reg.f = 176;
    cpu.reg.h = 16;
    cpu.reg.l = 91;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[34276] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 115);
    CHECK(cpu.reg.b == 109);
    CHECK(cpu.reg.c == 175);
    CHECK(cpu.reg.d == 19);
    CHECK(cpu.reg.e == 189);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 16);
    CHECK(cpu.reg.l == 91);
    CHECK(cpu.pc == 34277);
    CHECK(cpu.sp == 25891);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34276] == 27);
}

TEST_CASE( "1B 03B0", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26902;
    cpu.sp = 4605;
    cpu.reg.a = 61;
    cpu.reg.b = 144;
    cpu.reg.c = 200;
    cpu.reg.d = 88;
    cpu.reg.e = 232;
    cpu.reg.f = 240;
    cpu.reg.h = 225;
    cpu.reg.l = 141;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[26902] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 61);
    CHECK(cpu.reg.b == 144);
    CHECK(cpu.reg.c == 200);
    CHECK(cpu.reg.d == 88);
    CHECK(cpu.reg.e == 231);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 225);
    CHECK(cpu.reg.l == 141);
    CHECK(cpu.pc == 26903);
    CHECK(cpu.sp == 4605);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26902] == 27);
}

TEST_CASE( "1B 03B1", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30911;
    cpu.sp = 39915;
    cpu.reg.a = 202;
    cpu.reg.b = 6;
    cpu.reg.c = 127;
    cpu.reg.d = 142;
    cpu.reg.e = 37;
    cpu.reg.f = 80;
    cpu.reg.h = 90;
    cpu.reg.l = 222;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[30911] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 202);
    CHECK(cpu.reg.b == 6);
    CHECK(cpu.reg.c == 127);
    CHECK(cpu.reg.d == 142);
    CHECK(cpu.reg.e == 36);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 90);
    CHECK(cpu.reg.l == 222);
    CHECK(cpu.pc == 30912);
    CHECK(cpu.sp == 39915);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30911] == 27);
}

TEST_CASE( "1B 03B2", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41943;
    cpu.sp = 24474;
    cpu.reg.a = 250;
    cpu.reg.b = 186;
    cpu.reg.c = 159;
    cpu.reg.d = 88;
    cpu.reg.e = 103;
    cpu.reg.f = 224;
    cpu.reg.h = 177;
    cpu.reg.l = 100;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[41943] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 250);
    CHECK(cpu.reg.b == 186);
    CHECK(cpu.reg.c == 159);
    CHECK(cpu.reg.d == 88);
    CHECK(cpu.reg.e == 102);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 177);
    CHECK(cpu.reg.l == 100);
    CHECK(cpu.pc == 41944);
    CHECK(cpu.sp == 24474);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[41943] == 27);
}

TEST_CASE( "1B 03B3", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 627;
    cpu.sp = 45276;
    cpu.reg.a = 216;
    cpu.reg.b = 183;
    cpu.reg.c = 64;
    cpu.reg.d = 68;
    cpu.reg.e = 70;
    cpu.reg.f = 144;
    cpu.reg.h = 114;
    cpu.reg.l = 250;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[627] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 183);
    CHECK(cpu.reg.c == 64);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 69);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 114);
    CHECK(cpu.reg.l == 250);
    CHECK(cpu.pc == 628);
    CHECK(cpu.sp == 45276);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[627] == 27);
}

TEST_CASE( "1B 03B4", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14113;
    cpu.sp = 12589;
    cpu.reg.a = 49;
    cpu.reg.b = 197;
    cpu.reg.c = 159;
    cpu.reg.d = 6;
    cpu.reg.e = 139;
    cpu.reg.f = 176;
    cpu.reg.h = 242;
    cpu.reg.l = 102;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[14113] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 49);
    CHECK(cpu.reg.b == 197);
    CHECK(cpu.reg.c == 159);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 138);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 102);
    CHECK(cpu.pc == 14114);
    CHECK(cpu.sp == 12589);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14113] == 27);
}

TEST_CASE( "1B 03B5", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2594;
    cpu.sp = 8919;
    cpu.reg.a = 232;
    cpu.reg.b = 150;
    cpu.reg.c = 152;
    cpu.reg.d = 29;
    cpu.reg.e = 220;
    cpu.reg.f = 176;
    cpu.reg.h = 124;
    cpu.reg.l = 145;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[2594] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 232);
    CHECK(cpu.reg.b == 150);
    CHECK(cpu.reg.c == 152);
    CHECK(cpu.reg.d == 29);
    CHECK(cpu.reg.e == 219);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 124);
    CHECK(cpu.reg.l == 145);
    CHECK(cpu.pc == 2595);
    CHECK(cpu.sp == 8919);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2594] == 27);
}

TEST_CASE( "1B 03B6", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40723;
    cpu.sp = 19891;
    cpu.reg.a = 225;
    cpu.reg.b = 154;
    cpu.reg.c = 44;
    cpu.reg.d = 24;
    cpu.reg.e = 75;
    cpu.reg.f = 0;
    cpu.reg.h = 149;
    cpu.reg.l = 167;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[40723] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 225);
    CHECK(cpu.reg.b == 154);
    CHECK(cpu.reg.c == 44);
    CHECK(cpu.reg.d == 24);
    CHECK(cpu.reg.e == 74);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 149);
    CHECK(cpu.reg.l == 167);
    CHECK(cpu.pc == 40724);
    CHECK(cpu.sp == 19891);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40723] == 27);
}

TEST_CASE( "1B 03B7", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8686;
    cpu.sp = 53932;
    cpu.reg.a = 225;
    cpu.reg.b = 190;
    cpu.reg.c = 235;
    cpu.reg.d = 109;
    cpu.reg.e = 74;
    cpu.reg.f = 80;
    cpu.reg.h = 90;
    cpu.reg.l = 56;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[8686] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 225);
    CHECK(cpu.reg.b == 190);
    CHECK(cpu.reg.c == 235);
    CHECK(cpu.reg.d == 109);
    CHECK(cpu.reg.e == 73);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 90);
    CHECK(cpu.reg.l == 56);
    CHECK(cpu.pc == 8687);
    CHECK(cpu.sp == 53932);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8686] == 27);
}

TEST_CASE( "1B 03B8", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3274;
    cpu.sp = 64482;
    cpu.reg.a = 85;
    cpu.reg.b = 81;
    cpu.reg.c = 48;
    cpu.reg.d = 233;
    cpu.reg.e = 237;
    cpu.reg.f = 128;
    cpu.reg.h = 108;
    cpu.reg.l = 146;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[3274] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 85);
    CHECK(cpu.reg.b == 81);
    CHECK(cpu.reg.c == 48);
    CHECK(cpu.reg.d == 233);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 108);
    CHECK(cpu.reg.l == 146);
    CHECK(cpu.pc == 3275);
    CHECK(cpu.sp == 64482);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3274] == 27);
}

TEST_CASE( "1B 03B9", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16967;
    cpu.sp = 63531;
    cpu.reg.a = 216;
    cpu.reg.b = 153;
    cpu.reg.c = 144;
    cpu.reg.d = 219;
    cpu.reg.e = 81;
    cpu.reg.f = 160;
    cpu.reg.h = 125;
    cpu.reg.l = 29;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[16967] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 153);
    CHECK(cpu.reg.c == 144);
    CHECK(cpu.reg.d == 219);
    CHECK(cpu.reg.e == 80);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 125);
    CHECK(cpu.reg.l == 29);
    CHECK(cpu.pc == 16968);
    CHECK(cpu.sp == 63531);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16967] == 27);
}

TEST_CASE( "1B 03BA", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2208;
    cpu.sp = 21450;
    cpu.reg.a = 241;
    cpu.reg.b = 157;
    cpu.reg.c = 150;
    cpu.reg.d = 14;
    cpu.reg.e = 27;
    cpu.reg.f = 192;
    cpu.reg.h = 53;
    cpu.reg.l = 14;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[2208] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 241);
    CHECK(cpu.reg.b == 157);
    CHECK(cpu.reg.c == 150);
    CHECK(cpu.reg.d == 14);
    CHECK(cpu.reg.e == 26);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 53);
    CHECK(cpu.reg.l == 14);
    CHECK(cpu.pc == 2209);
    CHECK(cpu.sp == 21450);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2208] == 27);
}

TEST_CASE( "1B 03BB", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16397;
    cpu.sp = 2752;
    cpu.reg.a = 117;
    cpu.reg.b = 215;
    cpu.reg.c = 201;
    cpu.reg.d = 39;
    cpu.reg.e = 190;
    cpu.reg.f = 48;
    cpu.reg.h = 172;
    cpu.reg.l = 25;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[16397] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 117);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 201);
    CHECK(cpu.reg.d == 39);
    CHECK(cpu.reg.e == 189);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 172);
    CHECK(cpu.reg.l == 25);
    CHECK(cpu.pc == 16398);
    CHECK(cpu.sp == 2752);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16397] == 27);
}

TEST_CASE( "1B 03BC", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33172;
    cpu.sp = 12611;
    cpu.reg.a = 79;
    cpu.reg.b = 67;
    cpu.reg.c = 84;
    cpu.reg.d = 121;
    cpu.reg.e = 156;
    cpu.reg.f = 240;
    cpu.reg.h = 81;
    cpu.reg.l = 124;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[33172] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 79);
    CHECK(cpu.reg.b == 67);
    CHECK(cpu.reg.c == 84);
    CHECK(cpu.reg.d == 121);
    CHECK(cpu.reg.e == 155);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 81);
    CHECK(cpu.reg.l == 124);
    CHECK(cpu.pc == 33173);
    CHECK(cpu.sp == 12611);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33172] == 27);
}

TEST_CASE( "1B 03BD", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49759;
    cpu.sp = 22805;
    cpu.reg.a = 165;
    cpu.reg.b = 131;
    cpu.reg.c = 6;
    cpu.reg.d = 224;
    cpu.reg.e = 14;
    cpu.reg.f = 32;
    cpu.reg.h = 227;
    cpu.reg.l = 132;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[49759] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 165);
    CHECK(cpu.reg.b == 131);
    CHECK(cpu.reg.c == 6);
    CHECK(cpu.reg.d == 224);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 132);
    CHECK(cpu.pc == 49760);
    CHECK(cpu.sp == 22805);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49759] == 27);
}

TEST_CASE( "1B 03BE", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53955;
    cpu.sp = 25644;
    cpu.reg.a = 156;
    cpu.reg.b = 224;
    cpu.reg.c = 18;
    cpu.reg.d = 129;
    cpu.reg.e = 188;
    cpu.reg.f = 96;
    cpu.reg.h = 102;
    cpu.reg.l = 127;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[53955] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 156);
    CHECK(cpu.reg.b == 224);
    CHECK(cpu.reg.c == 18);
    CHECK(cpu.reg.d == 129);
    CHECK(cpu.reg.e == 187);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 102);
    CHECK(cpu.reg.l == 127);
    CHECK(cpu.pc == 53956);
    CHECK(cpu.sp == 25644);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[53955] == 27);
}

TEST_CASE( "1B 03BF", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26802;
    cpu.sp = 20673;
    cpu.reg.a = 97;
    cpu.reg.b = 195;
    cpu.reg.c = 175;
    cpu.reg.d = 204;
    cpu.reg.e = 197;
    cpu.reg.f = 112;
    cpu.reg.h = 246;
    cpu.reg.l = 46;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[26802] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 97);
    CHECK(cpu.reg.b == 195);
    CHECK(cpu.reg.c == 175);
    CHECK(cpu.reg.d == 204);
    CHECK(cpu.reg.e == 196);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 246);
    CHECK(cpu.reg.l == 46);
    CHECK(cpu.pc == 26803);
    CHECK(cpu.sp == 20673);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26802] == 27);
}

TEST_CASE( "1B 03C0", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9794;
    cpu.sp = 37107;
    cpu.reg.a = 246;
    cpu.reg.b = 24;
    cpu.reg.c = 250;
    cpu.reg.d = 1;
    cpu.reg.e = 147;
    cpu.reg.f = 160;
    cpu.reg.h = 214;
    cpu.reg.l = 165;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[9794] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 246);
    CHECK(cpu.reg.b == 24);
    CHECK(cpu.reg.c == 250);
    CHECK(cpu.reg.d == 1);
    CHECK(cpu.reg.e == 146);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 214);
    CHECK(cpu.reg.l == 165);
    CHECK(cpu.pc == 9795);
    CHECK(cpu.sp == 37107);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9794] == 27);
}

TEST_CASE( "1B 03C1", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47319;
    cpu.sp = 53072;
    cpu.reg.a = 118;
    cpu.reg.b = 255;
    cpu.reg.c = 178;
    cpu.reg.d = 249;
    cpu.reg.e = 135;
    cpu.reg.f = 192;
    cpu.reg.h = 197;
    cpu.reg.l = 125;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47319] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 118);
    CHECK(cpu.reg.b == 255);
    CHECK(cpu.reg.c == 178);
    CHECK(cpu.reg.d == 249);
    CHECK(cpu.reg.e == 134);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 197);
    CHECK(cpu.reg.l == 125);
    CHECK(cpu.pc == 47320);
    CHECK(cpu.sp == 53072);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47319] == 27);
}

TEST_CASE( "1B 03C2", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8547;
    cpu.sp = 6602;
    cpu.reg.a = 35;
    cpu.reg.b = 139;
    cpu.reg.c = 194;
    cpu.reg.d = 159;
    cpu.reg.e = 150;
    cpu.reg.f = 48;
    cpu.reg.h = 169;
    cpu.reg.l = 15;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[8547] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 35);
    CHECK(cpu.reg.b == 139);
    CHECK(cpu.reg.c == 194);
    CHECK(cpu.reg.d == 159);
    CHECK(cpu.reg.e == 149);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 169);
    CHECK(cpu.reg.l == 15);
    CHECK(cpu.pc == 8548);
    CHECK(cpu.sp == 6602);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8547] == 27);
}

TEST_CASE( "1B 03C3", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43850;
    cpu.sp = 51800;
    cpu.reg.a = 235;
    cpu.reg.b = 50;
    cpu.reg.c = 121;
    cpu.reg.d = 175;
    cpu.reg.e = 9;
    cpu.reg.f = 112;
    cpu.reg.h = 112;
    cpu.reg.l = 197;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[43850] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 235);
    CHECK(cpu.reg.b == 50);
    CHECK(cpu.reg.c == 121);
    CHECK(cpu.reg.d == 175);
    CHECK(cpu.reg.e == 8);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 112);
    CHECK(cpu.reg.l == 197);
    CHECK(cpu.pc == 43851);
    CHECK(cpu.sp == 51800);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[43850] == 27);
}

TEST_CASE( "1B 03C4", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61630;
    cpu.sp = 37309;
    cpu.reg.a = 21;
    cpu.reg.b = 62;
    cpu.reg.c = 200;
    cpu.reg.d = 226;
    cpu.reg.e = 172;
    cpu.reg.f = 64;
    cpu.reg.h = 241;
    cpu.reg.l = 81;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[61630] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 21);
    CHECK(cpu.reg.b == 62);
    CHECK(cpu.reg.c == 200);
    CHECK(cpu.reg.d == 226);
    CHECK(cpu.reg.e == 171);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 81);
    CHECK(cpu.pc == 61631);
    CHECK(cpu.sp == 37309);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61630] == 27);
}

TEST_CASE( "1B 03C5", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10859;
    cpu.sp = 42921;
    cpu.reg.a = 64;
    cpu.reg.b = 172;
    cpu.reg.c = 220;
    cpu.reg.d = 249;
    cpu.reg.e = 24;
    cpu.reg.f = 0;
    cpu.reg.h = 134;
    cpu.reg.l = 157;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[10859] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 172);
    CHECK(cpu.reg.c == 220);
    CHECK(cpu.reg.d == 249);
    CHECK(cpu.reg.e == 23);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 134);
    CHECK(cpu.reg.l == 157);
    CHECK(cpu.pc == 10860);
    CHECK(cpu.sp == 42921);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10859] == 27);
}

TEST_CASE( "1B 03C6", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41417;
    cpu.sp = 11270;
    cpu.reg.a = 214;
    cpu.reg.b = 21;
    cpu.reg.c = 8;
    cpu.reg.d = 6;
    cpu.reg.e = 133;
    cpu.reg.f = 160;
    cpu.reg.h = 209;
    cpu.reg.l = 145;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[41417] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 214);
    CHECK(cpu.reg.b == 21);
    CHECK(cpu.reg.c == 8);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 132);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 209);
    CHECK(cpu.reg.l == 145);
    CHECK(cpu.pc == 41418);
    CHECK(cpu.sp == 11270);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[41417] == 27);
}

TEST_CASE( "1B 03C7", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62704;
    cpu.sp = 41640;
    cpu.reg.a = 231;
    cpu.reg.b = 5;
    cpu.reg.c = 34;
    cpu.reg.d = 132;
    cpu.reg.e = 83;
    cpu.reg.f = 64;
    cpu.reg.h = 45;
    cpu.reg.l = 230;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[62704] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 231);
    CHECK(cpu.reg.b == 5);
    CHECK(cpu.reg.c == 34);
    CHECK(cpu.reg.d == 132);
    CHECK(cpu.reg.e == 82);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 45);
    CHECK(cpu.reg.l == 230);
    CHECK(cpu.pc == 62705);
    CHECK(cpu.sp == 41640);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[62704] == 27);
}

TEST_CASE( "1B 03C8", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26884;
    cpu.sp = 53520;
    cpu.reg.a = 108;
    cpu.reg.b = 58;
    cpu.reg.c = 6;
    cpu.reg.d = 174;
    cpu.reg.e = 127;
    cpu.reg.f = 240;
    cpu.reg.h = 16;
    cpu.reg.l = 238;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26884] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 108);
    CHECK(cpu.reg.b == 58);
    CHECK(cpu.reg.c == 6);
    CHECK(cpu.reg.d == 174);
    CHECK(cpu.reg.e == 126);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 16);
    CHECK(cpu.reg.l == 238);
    CHECK(cpu.pc == 26885);
    CHECK(cpu.sp == 53520);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26884] == 27);
}

TEST_CASE( "1B 03C9", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40190;
    cpu.sp = 28945;
    cpu.reg.a = 241;
    cpu.reg.b = 226;
    cpu.reg.c = 173;
    cpu.reg.d = 0;
    cpu.reg.e = 155;
    cpu.reg.f = 80;
    cpu.reg.h = 39;
    cpu.reg.l = 103;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[40190] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 241);
    CHECK(cpu.reg.b == 226);
    CHECK(cpu.reg.c == 173);
    CHECK(cpu.reg.d == 0);
    CHECK(cpu.reg.e == 154);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 39);
    CHECK(cpu.reg.l == 103);
    CHECK(cpu.pc == 40191);
    CHECK(cpu.sp == 28945);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40190] == 27);
}

TEST_CASE( "1B 03CA", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22479;
    cpu.sp = 5189;
    cpu.reg.a = 156;
    cpu.reg.b = 3;
    cpu.reg.c = 217;
    cpu.reg.d = 119;
    cpu.reg.e = 65;
    cpu.reg.f = 240;
    cpu.reg.h = 5;
    cpu.reg.l = 184;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[22479] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 156);
    CHECK(cpu.reg.b == 3);
    CHECK(cpu.reg.c == 217);
    CHECK(cpu.reg.d == 119);
    CHECK(cpu.reg.e == 64);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 5);
    CHECK(cpu.reg.l == 184);
    CHECK(cpu.pc == 22480);
    CHECK(cpu.sp == 5189);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22479] == 27);
}

TEST_CASE( "1B 03CB", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29861;
    cpu.sp = 15092;
    cpu.reg.a = 181;
    cpu.reg.b = 124;
    cpu.reg.c = 83;
    cpu.reg.d = 207;
    cpu.reg.e = 66;
    cpu.reg.f = 224;
    cpu.reg.h = 216;
    cpu.reg.l = 17;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[29861] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 181);
    CHECK(cpu.reg.b == 124);
    CHECK(cpu.reg.c == 83);
    CHECK(cpu.reg.d == 207);
    CHECK(cpu.reg.e == 65);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 216);
    CHECK(cpu.reg.l == 17);
    CHECK(cpu.pc == 29862);
    CHECK(cpu.sp == 15092);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[29861] == 27);
}

TEST_CASE( "1B 03CC", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28500;
    cpu.sp = 20386;
    cpu.reg.a = 124;
    cpu.reg.b = 168;
    cpu.reg.c = 93;
    cpu.reg.d = 177;
    cpu.reg.e = 33;
    cpu.reg.f = 176;
    cpu.reg.h = 116;
    cpu.reg.l = 222;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[28500] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 124);
    CHECK(cpu.reg.b == 168);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 177);
    CHECK(cpu.reg.e == 32);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 116);
    CHECK(cpu.reg.l == 222);
    CHECK(cpu.pc == 28501);
    CHECK(cpu.sp == 20386);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28500] == 27);
}

TEST_CASE( "1B 03CD", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6449;
    cpu.sp = 60309;
    cpu.reg.a = 111;
    cpu.reg.b = 42;
    cpu.reg.c = 49;
    cpu.reg.d = 43;
    cpu.reg.e = 66;
    cpu.reg.f = 192;
    cpu.reg.h = 140;
    cpu.reg.l = 100;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[6449] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 111);
    CHECK(cpu.reg.b == 42);
    CHECK(cpu.reg.c == 49);
    CHECK(cpu.reg.d == 43);
    CHECK(cpu.reg.e == 65);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 140);
    CHECK(cpu.reg.l == 100);
    CHECK(cpu.pc == 6450);
    CHECK(cpu.sp == 60309);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6449] == 27);
}

TEST_CASE( "1B 03CE", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22328;
    cpu.sp = 49556;
    cpu.reg.a = 32;
    cpu.reg.b = 39;
    cpu.reg.c = 212;
    cpu.reg.d = 210;
    cpu.reg.e = 5;
    cpu.reg.f = 48;
    cpu.reg.h = 65;
    cpu.reg.l = 134;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[22328] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 32);
    CHECK(cpu.reg.b == 39);
    CHECK(cpu.reg.c == 212);
    CHECK(cpu.reg.d == 210);
    CHECK(cpu.reg.e == 4);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 65);
    CHECK(cpu.reg.l == 134);
    CHECK(cpu.pc == 22329);
    CHECK(cpu.sp == 49556);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22328] == 27);
}

TEST_CASE( "1B 03CF", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47043;
    cpu.sp = 33799;
    cpu.reg.a = 15;
    cpu.reg.b = 107;
    cpu.reg.c = 232;
    cpu.reg.d = 159;
    cpu.reg.e = 165;
    cpu.reg.f = 176;
    cpu.reg.h = 239;
    cpu.reg.l = 210;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[47043] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 15);
    CHECK(cpu.reg.b == 107);
    CHECK(cpu.reg.c == 232);
    CHECK(cpu.reg.d == 159);
    CHECK(cpu.reg.e == 164);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 239);
    CHECK(cpu.reg.l == 210);
    CHECK(cpu.pc == 47044);
    CHECK(cpu.sp == 33799);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47043] == 27);
}

TEST_CASE( "1B 03D0", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59803;
    cpu.sp = 34499;
    cpu.reg.a = 102;
    cpu.reg.b = 68;
    cpu.reg.c = 92;
    cpu.reg.d = 234;
    cpu.reg.e = 253;
    cpu.reg.f = 144;
    cpu.reg.h = 39;
    cpu.reg.l = 242;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[59803] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 102);
    CHECK(cpu.reg.b == 68);
    CHECK(cpu.reg.c == 92);
    CHECK(cpu.reg.d == 234);
    CHECK(cpu.reg.e == 252);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 39);
    CHECK(cpu.reg.l == 242);
    CHECK(cpu.pc == 59804);
    CHECK(cpu.sp == 34499);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[59803] == 27);
}

TEST_CASE( "1B 03D1", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38065;
    cpu.sp = 56216;
    cpu.reg.a = 24;
    cpu.reg.b = 242;
    cpu.reg.c = 131;
    cpu.reg.d = 238;
    cpu.reg.e = 238;
    cpu.reg.f = 144;
    cpu.reg.h = 112;
    cpu.reg.l = 171;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[38065] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 24);
    CHECK(cpu.reg.b == 242);
    CHECK(cpu.reg.c == 131);
    CHECK(cpu.reg.d == 238);
    CHECK(cpu.reg.e == 237);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 112);
    CHECK(cpu.reg.l == 171);
    CHECK(cpu.pc == 38066);
    CHECK(cpu.sp == 56216);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38065] == 27);
}

TEST_CASE( "1B 03D2", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13983;
    cpu.sp = 34747;
    cpu.reg.a = 242;
    cpu.reg.b = 141;
    cpu.reg.c = 122;
    cpu.reg.d = 210;
    cpu.reg.e = 203;
    cpu.reg.f = 0;
    cpu.reg.h = 222;
    cpu.reg.l = 37;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[13983] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 242);
    CHECK(cpu.reg.b == 141);
    CHECK(cpu.reg.c == 122);
    CHECK(cpu.reg.d == 210);
    CHECK(cpu.reg.e == 202);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 222);
    CHECK(cpu.reg.l == 37);
    CHECK(cpu.pc == 13984);
    CHECK(cpu.sp == 34747);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13983] == 27);
}

TEST_CASE( "1B 03D3", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5587;
    cpu.sp = 1982;
    cpu.reg.a = 254;
    cpu.reg.b = 43;
    cpu.reg.c = 199;
    cpu.reg.d = 181;
    cpu.reg.e = 223;
    cpu.reg.f = 208;
    cpu.reg.h = 215;
    cpu.reg.l = 83;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[5587] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 43);
    CHECK(cpu.reg.c == 199);
    CHECK(cpu.reg.d == 181);
    CHECK(cpu.reg.e == 222);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 215);
    CHECK(cpu.reg.l == 83);
    CHECK(cpu.pc == 5588);
    CHECK(cpu.sp == 1982);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5587] == 27);
}

TEST_CASE( "1B 03D4", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38458;
    cpu.sp = 55611;
    cpu.reg.a = 71;
    cpu.reg.b = 12;
    cpu.reg.c = 101;
    cpu.reg.d = 220;
    cpu.reg.e = 164;
    cpu.reg.f = 176;
    cpu.reg.h = 169;
    cpu.reg.l = 253;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[38458] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 71);
    CHECK(cpu.reg.b == 12);
    CHECK(cpu.reg.c == 101);
    CHECK(cpu.reg.d == 220);
    CHECK(cpu.reg.e == 163);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 169);
    CHECK(cpu.reg.l == 253);
    CHECK(cpu.pc == 38459);
    CHECK(cpu.sp == 55611);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38458] == 27);
}

TEST_CASE( "1B 03D5", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7309;
    cpu.sp = 36492;
    cpu.reg.a = 180;
    cpu.reg.b = 51;
    cpu.reg.c = 163;
    cpu.reg.d = 239;
    cpu.reg.e = 211;
    cpu.reg.f = 240;
    cpu.reg.h = 124;
    cpu.reg.l = 155;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[7309] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 180);
    CHECK(cpu.reg.b == 51);
    CHECK(cpu.reg.c == 163);
    CHECK(cpu.reg.d == 239);
    CHECK(cpu.reg.e == 210);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 124);
    CHECK(cpu.reg.l == 155);
    CHECK(cpu.pc == 7310);
    CHECK(cpu.sp == 36492);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7309] == 27);
}

TEST_CASE( "1B 03D6", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26804;
    cpu.sp = 30049;
    cpu.reg.a = 44;
    cpu.reg.b = 223;
    cpu.reg.c = 202;
    cpu.reg.d = 233;
    cpu.reg.e = 122;
    cpu.reg.f = 0;
    cpu.reg.h = 227;
    cpu.reg.l = 220;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26804] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 44);
    CHECK(cpu.reg.b == 223);
    CHECK(cpu.reg.c == 202);
    CHECK(cpu.reg.d == 233);
    CHECK(cpu.reg.e == 121);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 220);
    CHECK(cpu.pc == 26805);
    CHECK(cpu.sp == 30049);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26804] == 27);
}

TEST_CASE( "1B 03D7", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61261;
    cpu.sp = 21294;
    cpu.reg.a = 236;
    cpu.reg.b = 187;
    cpu.reg.c = 212;
    cpu.reg.d = 254;
    cpu.reg.e = 69;
    cpu.reg.f = 32;
    cpu.reg.h = 48;
    cpu.reg.l = 153;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[61261] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 236);
    CHECK(cpu.reg.b == 187);
    CHECK(cpu.reg.c == 212);
    CHECK(cpu.reg.d == 254);
    CHECK(cpu.reg.e == 68);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 48);
    CHECK(cpu.reg.l == 153);
    CHECK(cpu.pc == 61262);
    CHECK(cpu.sp == 21294);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61261] == 27);
}

TEST_CASE( "1B 03D8", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47973;
    cpu.sp = 58661;
    cpu.reg.a = 238;
    cpu.reg.b = 67;
    cpu.reg.c = 149;
    cpu.reg.d = 31;
    cpu.reg.e = 213;
    cpu.reg.f = 16;
    cpu.reg.h = 237;
    cpu.reg.l = 58;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[47973] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 238);
    CHECK(cpu.reg.b == 67);
    CHECK(cpu.reg.c == 149);
    CHECK(cpu.reg.d == 31);
    CHECK(cpu.reg.e == 212);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 237);
    CHECK(cpu.reg.l == 58);
    CHECK(cpu.pc == 47974);
    CHECK(cpu.sp == 58661);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47973] == 27);
}

TEST_CASE( "1B 03D9", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60962;
    cpu.sp = 8988;
    cpu.reg.a = 236;
    cpu.reg.b = 251;
    cpu.reg.c = 165;
    cpu.reg.d = 22;
    cpu.reg.e = 92;
    cpu.reg.f = 144;
    cpu.reg.h = 183;
    cpu.reg.l = 214;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[60962] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 236);
    CHECK(cpu.reg.b == 251);
    CHECK(cpu.reg.c == 165);
    CHECK(cpu.reg.d == 22);
    CHECK(cpu.reg.e == 91);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 183);
    CHECK(cpu.reg.l == 214);
    CHECK(cpu.pc == 60963);
    CHECK(cpu.sp == 8988);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60962] == 27);
}

TEST_CASE( "1B 03DA", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63703;
    cpu.sp = 35202;
    cpu.reg.a = 29;
    cpu.reg.b = 169;
    cpu.reg.c = 70;
    cpu.reg.d = 78;
    cpu.reg.e = 75;
    cpu.reg.f = 112;
    cpu.reg.h = 198;
    cpu.reg.l = 97;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[63703] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 29);
    CHECK(cpu.reg.b == 169);
    CHECK(cpu.reg.c == 70);
    CHECK(cpu.reg.d == 78);
    CHECK(cpu.reg.e == 74);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 198);
    CHECK(cpu.reg.l == 97);
    CHECK(cpu.pc == 63704);
    CHECK(cpu.sp == 35202);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[63703] == 27);
}

TEST_CASE( "1B 03DB", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58617;
    cpu.sp = 57329;
    cpu.reg.a = 159;
    cpu.reg.b = 98;
    cpu.reg.c = 51;
    cpu.reg.d = 194;
    cpu.reg.e = 246;
    cpu.reg.f = 32;
    cpu.reg.h = 23;
    cpu.reg.l = 55;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[58617] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 159);
    CHECK(cpu.reg.b == 98);
    CHECK(cpu.reg.c == 51);
    CHECK(cpu.reg.d == 194);
    CHECK(cpu.reg.e == 245);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 23);
    CHECK(cpu.reg.l == 55);
    CHECK(cpu.pc == 58618);
    CHECK(cpu.sp == 57329);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[58617] == 27);
}

TEST_CASE( "1B 03DC", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39754;
    cpu.sp = 64315;
    cpu.reg.a = 204;
    cpu.reg.b = 237;
    cpu.reg.c = 229;
    cpu.reg.d = 116;
    cpu.reg.e = 134;
    cpu.reg.f = 144;
    cpu.reg.h = 135;
    cpu.reg.l = 112;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[39754] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 204);
    CHECK(cpu.reg.b == 237);
    CHECK(cpu.reg.c == 229);
    CHECK(cpu.reg.d == 116);
    CHECK(cpu.reg.e == 133);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 135);
    CHECK(cpu.reg.l == 112);
    CHECK(cpu.pc == 39755);
    CHECK(cpu.sp == 64315);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39754] == 27);
}

TEST_CASE( "1B 03DD", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36851;
    cpu.sp = 35516;
    cpu.reg.a = 88;
    cpu.reg.b = 13;
    cpu.reg.c = 21;
    cpu.reg.d = 146;
    cpu.reg.e = 149;
    cpu.reg.f = 80;
    cpu.reg.h = 230;
    cpu.reg.l = 14;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[36851] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 88);
    CHECK(cpu.reg.b == 13);
    CHECK(cpu.reg.c == 21);
    CHECK(cpu.reg.d == 146);
    CHECK(cpu.reg.e == 148);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 230);
    CHECK(cpu.reg.l == 14);
    CHECK(cpu.pc == 36852);
    CHECK(cpu.sp == 35516);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[36851] == 27);
}

TEST_CASE( "1B 03DE", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50930;
    cpu.sp = 27680;
    cpu.reg.a = 126;
    cpu.reg.b = 233;
    cpu.reg.c = 222;
    cpu.reg.d = 92;
    cpu.reg.e = 24;
    cpu.reg.f = 128;
    cpu.reg.h = 196;
    cpu.reg.l = 253;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[50930] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 126);
    CHECK(cpu.reg.b == 233);
    CHECK(cpu.reg.c == 222);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 23);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 196);
    CHECK(cpu.reg.l == 253);
    CHECK(cpu.pc == 50931);
    CHECK(cpu.sp == 27680);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50930] == 27);
}

TEST_CASE( "1B 03DF", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24347;
    cpu.sp = 42314;
    cpu.reg.a = 197;
    cpu.reg.b = 195;
    cpu.reg.c = 81;
    cpu.reg.d = 233;
    cpu.reg.e = 6;
    cpu.reg.f = 16;
    cpu.reg.h = 124;
    cpu.reg.l = 218;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[24347] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 197);
    CHECK(cpu.reg.b == 195);
    CHECK(cpu.reg.c == 81);
    CHECK(cpu.reg.d == 233);
    CHECK(cpu.reg.e == 5);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 124);
    CHECK(cpu.reg.l == 218);
    CHECK(cpu.pc == 24348);
    CHECK(cpu.sp == 42314);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24347] == 27);
}

TEST_CASE( "1B 03E0", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28669;
    cpu.sp = 51586;
    cpu.reg.a = 7;
    cpu.reg.b = 159;
    cpu.reg.c = 124;
    cpu.reg.d = 74;
    cpu.reg.e = 243;
    cpu.reg.f = 112;
    cpu.reg.h = 206;
    cpu.reg.l = 87;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[28669] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 7);
    CHECK(cpu.reg.b == 159);
    CHECK(cpu.reg.c == 124);
    CHECK(cpu.reg.d == 74);
    CHECK(cpu.reg.e == 242);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 206);
    CHECK(cpu.reg.l == 87);
    CHECK(cpu.pc == 28670);
    CHECK(cpu.sp == 51586);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28669] == 27);
}

TEST_CASE( "1B 03E1", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7685;
    cpu.sp = 20814;
    cpu.reg.a = 55;
    cpu.reg.b = 155;
    cpu.reg.c = 65;
    cpu.reg.d = 71;
    cpu.reg.e = 246;
    cpu.reg.f = 64;
    cpu.reg.h = 208;
    cpu.reg.l = 195;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[7685] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 55);
    CHECK(cpu.reg.b == 155);
    CHECK(cpu.reg.c == 65);
    CHECK(cpu.reg.d == 71);
    CHECK(cpu.reg.e == 245);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 208);
    CHECK(cpu.reg.l == 195);
    CHECK(cpu.pc == 7686);
    CHECK(cpu.sp == 20814);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7685] == 27);
}

TEST_CASE( "1B 03E2", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53995;
    cpu.sp = 27688;
    cpu.reg.a = 208;
    cpu.reg.b = 148;
    cpu.reg.c = 130;
    cpu.reg.d = 47;
    cpu.reg.e = 60;
    cpu.reg.f = 192;
    cpu.reg.h = 214;
    cpu.reg.l = 46;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[53995] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 208);
    CHECK(cpu.reg.b == 148);
    CHECK(cpu.reg.c == 130);
    CHECK(cpu.reg.d == 47);
    CHECK(cpu.reg.e == 59);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 214);
    CHECK(cpu.reg.l == 46);
    CHECK(cpu.pc == 53996);
    CHECK(cpu.sp == 27688);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[53995] == 27);
}

TEST_CASE( "1B 03E3", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58150;
    cpu.sp = 27322;
    cpu.reg.a = 221;
    cpu.reg.b = 222;
    cpu.reg.c = 194;
    cpu.reg.d = 185;
    cpu.reg.e = 193;
    cpu.reg.f = 192;
    cpu.reg.h = 21;
    cpu.reg.l = 86;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[58150] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 221);
    CHECK(cpu.reg.b == 222);
    CHECK(cpu.reg.c == 194);
    CHECK(cpu.reg.d == 185);
    CHECK(cpu.reg.e == 192);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 21);
    CHECK(cpu.reg.l == 86);
    CHECK(cpu.pc == 58151);
    CHECK(cpu.sp == 27322);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58150] == 27);
}

TEST_CASE( "1B 03E4", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6142;
    cpu.sp = 44727;
    cpu.reg.a = 93;
    cpu.reg.b = 127;
    cpu.reg.c = 226;
    cpu.reg.d = 149;
    cpu.reg.e = 66;
    cpu.reg.f = 240;
    cpu.reg.h = 125;
    cpu.reg.l = 43;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[6142] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 93);
    CHECK(cpu.reg.b == 127);
    CHECK(cpu.reg.c == 226);
    CHECK(cpu.reg.d == 149);
    CHECK(cpu.reg.e == 65);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 125);
    CHECK(cpu.reg.l == 43);
    CHECK(cpu.pc == 6143);
    CHECK(cpu.sp == 44727);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6142] == 27);
}

TEST_CASE( "1B 03E5", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35283;
    cpu.sp = 62528;
    cpu.reg.a = 2;
    cpu.reg.b = 164;
    cpu.reg.c = 173;
    cpu.reg.d = 48;
    cpu.reg.e = 206;
    cpu.reg.f = 80;
    cpu.reg.h = 177;
    cpu.reg.l = 195;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[35283] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 2);
    CHECK(cpu.reg.b == 164);
    CHECK(cpu.reg.c == 173);
    CHECK(cpu.reg.d == 48);
    CHECK(cpu.reg.e == 205);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 177);
    CHECK(cpu.reg.l == 195);
    CHECK(cpu.pc == 35284);
    CHECK(cpu.sp == 62528);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35283] == 27);
}

TEST_CASE( "1B 03E6", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5904;
    cpu.sp = 29362;
    cpu.reg.a = 27;
    cpu.reg.b = 155;
    cpu.reg.c = 28;
    cpu.reg.d = 134;
    cpu.reg.e = 156;
    cpu.reg.f = 240;
    cpu.reg.h = 80;
    cpu.reg.l = 188;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5904] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 27);
    CHECK(cpu.reg.b == 155);
    CHECK(cpu.reg.c == 28);
    CHECK(cpu.reg.d == 134);
    CHECK(cpu.reg.e == 155);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 80);
    CHECK(cpu.reg.l == 188);
    CHECK(cpu.pc == 5905);
    CHECK(cpu.sp == 29362);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5904] == 27);
}

TEST_CASE( "1B 03E7", "1b" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25358;
    cpu.sp = 46267;
    cpu.reg.a = 52;
    cpu.reg.b = 25;
    cpu.reg.c = 233;
    cpu.reg.d = 17;
    cpu.reg.e = 125;
    cpu.reg.f = 144;
    cpu.reg.h = 117;
    cpu.reg.l = 121;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[25358] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 52);
    CHECK(cpu.reg.b == 25);
    CHECK(cpu.reg.c == 233);
    CHECK(cpu.reg.d == 17);
    CHECK(cpu.reg.e == 124);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 117);
    CHECK(cpu.reg.l == 121);
    CHECK(cpu.pc == 25359);
    CHECK(cpu.sp == 46267);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25358] == 27);
}
