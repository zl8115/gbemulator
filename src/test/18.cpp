// AutoGenerated using codegent_tests.py
// Based on https://github.com/SingleStepTests/sm83
// File: 18.json
#include <catch2/catch_test_macros.hpp>
#include "Cpu.h"

TEST_CASE( "18 0000", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24335;
    cpu.sp = 62307;
    cpu.reg.a = 55;
    cpu.reg.b = 96;
    cpu.reg.c = 251;
    cpu.reg.d = 252;
    cpu.reg.e = 147;
    cpu.reg.f = 96;
    cpu.reg.h = 160;
    cpu.reg.l = 108;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[24335] = 24;
    cpu.ram[24336] = 60;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 55);
    CHECK(cpu.reg.b == 96);
    CHECK(cpu.reg.c == 251);
    CHECK(cpu.reg.d == 252);
    CHECK(cpu.reg.e == 147);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 160);
    CHECK(cpu.reg.l == 108);
    CHECK(cpu.pc == 24397);
    CHECK(cpu.sp == 62307);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24335] == 24);
    REQUIRE(cpu.ram[24336] == 60);
}

TEST_CASE( "18 0001", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3863;
    cpu.sp = 43426;
    cpu.reg.a = 229;
    cpu.reg.b = 245;
    cpu.reg.c = 26;
    cpu.reg.d = 59;
    cpu.reg.e = 172;
    cpu.reg.f = 80;
    cpu.reg.h = 193;
    cpu.reg.l = 34;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[3863] = 24;
    cpu.ram[3864] = 153;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 229);
    CHECK(cpu.reg.b == 245);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 59);
    CHECK(cpu.reg.e == 172);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 193);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 3762);
    CHECK(cpu.sp == 43426);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3863] == 24);
    REQUIRE(cpu.ram[3864] == 153);
}

TEST_CASE( "18 0002", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34189;
    cpu.sp = 42683;
    cpu.reg.a = 154;
    cpu.reg.b = 251;
    cpu.reg.c = 123;
    cpu.reg.d = 234;
    cpu.reg.e = 198;
    cpu.reg.f = 160;
    cpu.reg.h = 145;
    cpu.reg.l = 203;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[34189] = 24;
    cpu.ram[34190] = 41;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 154);
    CHECK(cpu.reg.b == 251);
    CHECK(cpu.reg.c == 123);
    CHECK(cpu.reg.d == 234);
    CHECK(cpu.reg.e == 198);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 145);
    CHECK(cpu.reg.l == 203);
    CHECK(cpu.pc == 34232);
    CHECK(cpu.sp == 42683);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34189] == 24);
    REQUIRE(cpu.ram[34190] == 41);
}

TEST_CASE( "18 0003", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23662;
    cpu.sp = 33456;
    cpu.reg.a = 198;
    cpu.reg.b = 113;
    cpu.reg.c = 34;
    cpu.reg.d = 118;
    cpu.reg.e = 196;
    cpu.reg.f = 0;
    cpu.reg.h = 210;
    cpu.reg.l = 76;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[23662] = 24;
    cpu.ram[23663] = 195;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 198);
    CHECK(cpu.reg.b == 113);
    CHECK(cpu.reg.c == 34);
    CHECK(cpu.reg.d == 118);
    CHECK(cpu.reg.e == 196);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 210);
    CHECK(cpu.reg.l == 76);
    CHECK(cpu.pc == 23603);
    CHECK(cpu.sp == 33456);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23662] == 24);
    REQUIRE(cpu.ram[23663] == 195);
}

TEST_CASE( "18 0004", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23786;
    cpu.sp = 30104;
    cpu.reg.a = 202;
    cpu.reg.b = 152;
    cpu.reg.c = 62;
    cpu.reg.d = 17;
    cpu.reg.e = 194;
    cpu.reg.f = 80;
    cpu.reg.h = 159;
    cpu.reg.l = 143;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[23786] = 24;
    cpu.ram[23787] = 123;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 202);
    CHECK(cpu.reg.b == 152);
    CHECK(cpu.reg.c == 62);
    CHECK(cpu.reg.d == 17);
    CHECK(cpu.reg.e == 194);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 159);
    CHECK(cpu.reg.l == 143);
    CHECK(cpu.pc == 23911);
    CHECK(cpu.sp == 30104);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[23786] == 24);
    REQUIRE(cpu.ram[23787] == 123);
}

TEST_CASE( "18 0005", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2525;
    cpu.sp = 41236;
    cpu.reg.a = 1;
    cpu.reg.b = 89;
    cpu.reg.c = 115;
    cpu.reg.d = 171;
    cpu.reg.e = 37;
    cpu.reg.f = 128;
    cpu.reg.h = 101;
    cpu.reg.l = 210;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[2525] = 24;
    cpu.ram[2526] = 129;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 1);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 115);
    CHECK(cpu.reg.d == 171);
    CHECK(cpu.reg.e == 37);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 101);
    CHECK(cpu.reg.l == 210);
    CHECK(cpu.pc == 2400);
    CHECK(cpu.sp == 41236);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2525] == 24);
    REQUIRE(cpu.ram[2526] == 129);
}

TEST_CASE( "18 0006", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8993;
    cpu.sp = 57638;
    cpu.reg.a = 94;
    cpu.reg.b = 108;
    cpu.reg.c = 26;
    cpu.reg.d = 210;
    cpu.reg.e = 183;
    cpu.reg.f = 224;
    cpu.reg.h = 64;
    cpu.reg.l = 220;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[8993] = 24;
    cpu.ram[8994] = 120;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 94);
    CHECK(cpu.reg.b == 108);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 210);
    CHECK(cpu.reg.e == 183);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 64);
    CHECK(cpu.reg.l == 220);
    CHECK(cpu.pc == 9115);
    CHECK(cpu.sp == 57638);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8993] == 24);
    REQUIRE(cpu.ram[8994] == 120);
}

TEST_CASE( "18 0007", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35527;
    cpu.sp = 21451;
    cpu.reg.a = 23;
    cpu.reg.b = 128;
    cpu.reg.c = 199;
    cpu.reg.d = 136;
    cpu.reg.e = 171;
    cpu.reg.f = 208;
    cpu.reg.h = 145;
    cpu.reg.l = 20;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[35527] = 24;
    cpu.ram[35528] = 238;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 23);
    CHECK(cpu.reg.b == 128);
    CHECK(cpu.reg.c == 199);
    CHECK(cpu.reg.d == 136);
    CHECK(cpu.reg.e == 171);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 145);
    CHECK(cpu.reg.l == 20);
    CHECK(cpu.pc == 35511);
    CHECK(cpu.sp == 21451);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35527] == 24);
    REQUIRE(cpu.ram[35528] == 238);
}

TEST_CASE( "18 0008", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39740;
    cpu.sp = 22188;
    cpu.reg.a = 101;
    cpu.reg.b = 9;
    cpu.reg.c = 242;
    cpu.reg.d = 192;
    cpu.reg.e = 45;
    cpu.reg.f = 128;
    cpu.reg.h = 113;
    cpu.reg.l = 251;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[39740] = 24;
    cpu.ram[39741] = 98;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 101);
    CHECK(cpu.reg.b == 9);
    CHECK(cpu.reg.c == 242);
    CHECK(cpu.reg.d == 192);
    CHECK(cpu.reg.e == 45);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 113);
    CHECK(cpu.reg.l == 251);
    CHECK(cpu.pc == 39840);
    CHECK(cpu.sp == 22188);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39740] == 24);
    REQUIRE(cpu.ram[39741] == 98);
}

TEST_CASE( "18 0009", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59852;
    cpu.sp = 9721;
    cpu.reg.a = 49;
    cpu.reg.b = 143;
    cpu.reg.c = 96;
    cpu.reg.d = 231;
    cpu.reg.e = 9;
    cpu.reg.f = 48;
    cpu.reg.h = 180;
    cpu.reg.l = 166;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[59852] = 24;
    cpu.ram[59853] = 13;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 49);
    CHECK(cpu.reg.b == 143);
    CHECK(cpu.reg.c == 96);
    CHECK(cpu.reg.d == 231);
    CHECK(cpu.reg.e == 9);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 180);
    CHECK(cpu.reg.l == 166);
    CHECK(cpu.pc == 59867);
    CHECK(cpu.sp == 9721);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[59852] == 24);
    REQUIRE(cpu.ram[59853] == 13);
}

TEST_CASE( "18 000A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31327;
    cpu.sp = 32025;
    cpu.reg.a = 132;
    cpu.reg.b = 47;
    cpu.reg.c = 204;
    cpu.reg.d = 227;
    cpu.reg.e = 108;
    cpu.reg.f = 176;
    cpu.reg.h = 99;
    cpu.reg.l = 188;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[31327] = 24;
    cpu.ram[31328] = 192;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 132);
    CHECK(cpu.reg.b == 47);
    CHECK(cpu.reg.c == 204);
    CHECK(cpu.reg.d == 227);
    CHECK(cpu.reg.e == 108);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 99);
    CHECK(cpu.reg.l == 188);
    CHECK(cpu.pc == 31265);
    CHECK(cpu.sp == 32025);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31327] == 24);
    REQUIRE(cpu.ram[31328] == 192);
}

TEST_CASE( "18 000B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27239;
    cpu.sp = 44214;
    cpu.reg.a = 217;
    cpu.reg.b = 101;
    cpu.reg.c = 227;
    cpu.reg.d = 204;
    cpu.reg.e = 120;
    cpu.reg.f = 240;
    cpu.reg.h = 220;
    cpu.reg.l = 65;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[27239] = 24;
    cpu.ram[27240] = 22;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 217);
    CHECK(cpu.reg.b == 101);
    CHECK(cpu.reg.c == 227);
    CHECK(cpu.reg.d == 204);
    CHECK(cpu.reg.e == 120);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 220);
    CHECK(cpu.reg.l == 65);
    CHECK(cpu.pc == 27263);
    CHECK(cpu.sp == 44214);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27239] == 24);
    REQUIRE(cpu.ram[27240] == 22);
}

TEST_CASE( "18 000C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46879;
    cpu.sp = 29843;
    cpu.reg.a = 228;
    cpu.reg.b = 30;
    cpu.reg.c = 187;
    cpu.reg.d = 98;
    cpu.reg.e = 178;
    cpu.reg.f = 64;
    cpu.reg.h = 68;
    cpu.reg.l = 183;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[46879] = 24;
    cpu.ram[46880] = 212;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 228);
    CHECK(cpu.reg.b == 30);
    CHECK(cpu.reg.c == 187);
    CHECK(cpu.reg.d == 98);
    CHECK(cpu.reg.e == 178);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 68);
    CHECK(cpu.reg.l == 183);
    CHECK(cpu.pc == 46837);
    CHECK(cpu.sp == 29843);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46879] == 24);
    REQUIRE(cpu.ram[46880] == 212);
}

TEST_CASE( "18 000D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54576;
    cpu.sp = 8407;
    cpu.reg.a = 172;
    cpu.reg.b = 238;
    cpu.reg.c = 77;
    cpu.reg.d = 161;
    cpu.reg.e = 169;
    cpu.reg.f = 192;
    cpu.reg.h = 124;
    cpu.reg.l = 28;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[54576] = 24;
    cpu.ram[54577] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 172);
    CHECK(cpu.reg.b == 238);
    CHECK(cpu.reg.c == 77);
    CHECK(cpu.reg.d == 161);
    CHECK(cpu.reg.e == 169);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 124);
    CHECK(cpu.reg.l == 28);
    CHECK(cpu.pc == 54582);
    CHECK(cpu.sp == 8407);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54576] == 24);
    REQUIRE(cpu.ram[54577] == 4);
}

TEST_CASE( "18 000E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62961;
    cpu.sp = 28572;
    cpu.reg.a = 105;
    cpu.reg.b = 157;
    cpu.reg.c = 221;
    cpu.reg.d = 19;
    cpu.reg.e = 191;
    cpu.reg.f = 48;
    cpu.reg.h = 141;
    cpu.reg.l = 192;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[62961] = 24;
    cpu.ram[62962] = 120;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 105);
    CHECK(cpu.reg.b == 157);
    CHECK(cpu.reg.c == 221);
    CHECK(cpu.reg.d == 19);
    CHECK(cpu.reg.e == 191);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 141);
    CHECK(cpu.reg.l == 192);
    CHECK(cpu.pc == 63083);
    CHECK(cpu.sp == 28572);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62961] == 24);
    REQUIRE(cpu.ram[62962] == 120);
}

TEST_CASE( "18 000F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 955;
    cpu.sp = 17313;
    cpu.reg.a = 81;
    cpu.reg.b = 210;
    cpu.reg.c = 218;
    cpu.reg.d = 244;
    cpu.reg.e = 150;
    cpu.reg.f = 96;
    cpu.reg.h = 134;
    cpu.reg.l = 43;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[955] = 24;
    cpu.ram[956] = 202;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 81);
    CHECK(cpu.reg.b == 210);
    CHECK(cpu.reg.c == 218);
    CHECK(cpu.reg.d == 244);
    CHECK(cpu.reg.e == 150);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 134);
    CHECK(cpu.reg.l == 43);
    CHECK(cpu.pc == 903);
    CHECK(cpu.sp == 17313);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[955] == 24);
    REQUIRE(cpu.ram[956] == 202);
}

TEST_CASE( "18 0010", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15702;
    cpu.sp = 59634;
    cpu.reg.a = 181;
    cpu.reg.b = 106;
    cpu.reg.c = 115;
    cpu.reg.d = 178;
    cpu.reg.e = 49;
    cpu.reg.f = 48;
    cpu.reg.h = 68;
    cpu.reg.l = 188;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[15702] = 24;
    cpu.ram[15703] = 239;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 181);
    CHECK(cpu.reg.b == 106);
    CHECK(cpu.reg.c == 115);
    CHECK(cpu.reg.d == 178);
    CHECK(cpu.reg.e == 49);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 68);
    CHECK(cpu.reg.l == 188);
    CHECK(cpu.pc == 15687);
    CHECK(cpu.sp == 59634);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15702] == 24);
    REQUIRE(cpu.ram[15703] == 239);
}

TEST_CASE( "18 0011", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50541;
    cpu.sp = 13994;
    cpu.reg.a = 45;
    cpu.reg.b = 112;
    cpu.reg.c = 90;
    cpu.reg.d = 215;
    cpu.reg.e = 63;
    cpu.reg.f = 208;
    cpu.reg.h = 81;
    cpu.reg.l = 155;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[50541] = 24;
    cpu.ram[50542] = 209;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 45);
    CHECK(cpu.reg.b == 112);
    CHECK(cpu.reg.c == 90);
    CHECK(cpu.reg.d == 215);
    CHECK(cpu.reg.e == 63);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 81);
    CHECK(cpu.reg.l == 155);
    CHECK(cpu.pc == 50496);
    CHECK(cpu.sp == 13994);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50541] == 24);
    REQUIRE(cpu.ram[50542] == 209);
}

TEST_CASE( "18 0012", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63118;
    cpu.sp = 10113;
    cpu.reg.a = 233;
    cpu.reg.b = 92;
    cpu.reg.c = 11;
    cpu.reg.d = 142;
    cpu.reg.e = 103;
    cpu.reg.f = 176;
    cpu.reg.h = 238;
    cpu.reg.l = 172;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[63118] = 24;
    cpu.ram[63119] = 136;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 233);
    CHECK(cpu.reg.b == 92);
    CHECK(cpu.reg.c == 11);
    CHECK(cpu.reg.d == 142);
    CHECK(cpu.reg.e == 103);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 238);
    CHECK(cpu.reg.l == 172);
    CHECK(cpu.pc == 63000);
    CHECK(cpu.sp == 10113);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[63118] == 24);
    REQUIRE(cpu.ram[63119] == 136);
}

TEST_CASE( "18 0013", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38915;
    cpu.sp = 34353;
    cpu.reg.a = 241;
    cpu.reg.b = 33;
    cpu.reg.c = 131;
    cpu.reg.d = 56;
    cpu.reg.e = 224;
    cpu.reg.f = 96;
    cpu.reg.h = 195;
    cpu.reg.l = 62;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[38915] = 24;
    cpu.ram[38916] = 77;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 241);
    CHECK(cpu.reg.b == 33);
    CHECK(cpu.reg.c == 131);
    CHECK(cpu.reg.d == 56);
    CHECK(cpu.reg.e == 224);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 195);
    CHECK(cpu.reg.l == 62);
    CHECK(cpu.pc == 38994);
    CHECK(cpu.sp == 34353);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38915] == 24);
    REQUIRE(cpu.ram[38916] == 77);
}

TEST_CASE( "18 0014", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3170;
    cpu.sp = 53046;
    cpu.reg.a = 183;
    cpu.reg.b = 25;
    cpu.reg.c = 174;
    cpu.reg.d = 197;
    cpu.reg.e = 64;
    cpu.reg.f = 32;
    cpu.reg.h = 237;
    cpu.reg.l = 197;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[3170] = 24;
    cpu.ram[3171] = 59;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 183);
    CHECK(cpu.reg.b == 25);
    CHECK(cpu.reg.c == 174);
    CHECK(cpu.reg.d == 197);
    CHECK(cpu.reg.e == 64);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 237);
    CHECK(cpu.reg.l == 197);
    CHECK(cpu.pc == 3231);
    CHECK(cpu.sp == 53046);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3170] == 24);
    REQUIRE(cpu.ram[3171] == 59);
}

TEST_CASE( "18 0015", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36062;
    cpu.sp = 9186;
    cpu.reg.a = 191;
    cpu.reg.b = 72;
    cpu.reg.c = 54;
    cpu.reg.d = 127;
    cpu.reg.e = 20;
    cpu.reg.f = 144;
    cpu.reg.h = 174;
    cpu.reg.l = 244;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[36062] = 24;
    cpu.ram[36063] = 86;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 191);
    CHECK(cpu.reg.b == 72);
    CHECK(cpu.reg.c == 54);
    CHECK(cpu.reg.d == 127);
    CHECK(cpu.reg.e == 20);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 174);
    CHECK(cpu.reg.l == 244);
    CHECK(cpu.pc == 36150);
    CHECK(cpu.sp == 9186);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[36062] == 24);
    REQUIRE(cpu.ram[36063] == 86);
}

TEST_CASE( "18 0016", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62111;
    cpu.sp = 34425;
    cpu.reg.a = 235;
    cpu.reg.b = 134;
    cpu.reg.c = 137;
    cpu.reg.d = 11;
    cpu.reg.e = 15;
    cpu.reg.f = 240;
    cpu.reg.h = 213;
    cpu.reg.l = 46;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[62111] = 24;
    cpu.ram[62112] = 123;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 235);
    CHECK(cpu.reg.b == 134);
    CHECK(cpu.reg.c == 137);
    CHECK(cpu.reg.d == 11);
    CHECK(cpu.reg.e == 15);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 213);
    CHECK(cpu.reg.l == 46);
    CHECK(cpu.pc == 62236);
    CHECK(cpu.sp == 34425);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[62111] == 24);
    REQUIRE(cpu.ram[62112] == 123);
}

TEST_CASE( "18 0017", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19536;
    cpu.sp = 2340;
    cpu.reg.a = 109;
    cpu.reg.b = 20;
    cpu.reg.c = 192;
    cpu.reg.d = 35;
    cpu.reg.e = 248;
    cpu.reg.f = 0;
    cpu.reg.h = 179;
    cpu.reg.l = 250;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[19536] = 24;
    cpu.ram[19537] = 221;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 109);
    CHECK(cpu.reg.b == 20);
    CHECK(cpu.reg.c == 192);
    CHECK(cpu.reg.d == 35);
    CHECK(cpu.reg.e == 248);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 179);
    CHECK(cpu.reg.l == 250);
    CHECK(cpu.pc == 19503);
    CHECK(cpu.sp == 2340);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19536] == 24);
    REQUIRE(cpu.ram[19537] == 221);
}

TEST_CASE( "18 0018", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33499;
    cpu.sp = 38189;
    cpu.reg.a = 181;
    cpu.reg.b = 139;
    cpu.reg.c = 8;
    cpu.reg.d = 240;
    cpu.reg.e = 25;
    cpu.reg.f = 96;
    cpu.reg.h = 246;
    cpu.reg.l = 186;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[33499] = 24;
    cpu.ram[33500] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 181);
    CHECK(cpu.reg.b == 139);
    CHECK(cpu.reg.c == 8);
    CHECK(cpu.reg.d == 240);
    CHECK(cpu.reg.e == 25);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 246);
    CHECK(cpu.reg.l == 186);
    CHECK(cpu.pc == 33528);
    CHECK(cpu.sp == 38189);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33499] == 24);
    REQUIRE(cpu.ram[33500] == 27);
}

TEST_CASE( "18 0019", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27970;
    cpu.sp = 35715;
    cpu.reg.a = 82;
    cpu.reg.b = 11;
    cpu.reg.c = 15;
    cpu.reg.d = 35;
    cpu.reg.e = 130;
    cpu.reg.f = 176;
    cpu.reg.h = 37;
    cpu.reg.l = 137;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[27970] = 24;
    cpu.ram[27971] = 98;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 82);
    CHECK(cpu.reg.b == 11);
    CHECK(cpu.reg.c == 15);
    CHECK(cpu.reg.d == 35);
    CHECK(cpu.reg.e == 130);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 37);
    CHECK(cpu.reg.l == 137);
    CHECK(cpu.pc == 28070);
    CHECK(cpu.sp == 35715);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27970] == 24);
    REQUIRE(cpu.ram[27971] == 98);
}

TEST_CASE( "18 001A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59337;
    cpu.sp = 49881;
    cpu.reg.a = 11;
    cpu.reg.b = 20;
    cpu.reg.c = 224;
    cpu.reg.d = 54;
    cpu.reg.e = 156;
    cpu.reg.f = 112;
    cpu.reg.h = 11;
    cpu.reg.l = 5;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[59337] = 24;
    cpu.ram[59338] = 118;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 11);
    CHECK(cpu.reg.b == 20);
    CHECK(cpu.reg.c == 224);
    CHECK(cpu.reg.d == 54);
    CHECK(cpu.reg.e == 156);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 11);
    CHECK(cpu.reg.l == 5);
    CHECK(cpu.pc == 59457);
    CHECK(cpu.sp == 49881);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[59337] == 24);
    REQUIRE(cpu.ram[59338] == 118);
}

TEST_CASE( "18 001B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50964;
    cpu.sp = 35588;
    cpu.reg.a = 167;
    cpu.reg.b = 0;
    cpu.reg.c = 137;
    cpu.reg.d = 59;
    cpu.reg.e = 39;
    cpu.reg.f = 112;
    cpu.reg.h = 33;
    cpu.reg.l = 141;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[50964] = 24;
    cpu.ram[50965] = 199;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 167);
    CHECK(cpu.reg.b == 0);
    CHECK(cpu.reg.c == 137);
    CHECK(cpu.reg.d == 59);
    CHECK(cpu.reg.e == 39);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 33);
    CHECK(cpu.reg.l == 141);
    CHECK(cpu.pc == 50909);
    CHECK(cpu.sp == 35588);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[50964] == 24);
    REQUIRE(cpu.ram[50965] == 199);
}

TEST_CASE( "18 001C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21890;
    cpu.sp = 28600;
    cpu.reg.a = 92;
    cpu.reg.b = 122;
    cpu.reg.c = 0;
    cpu.reg.d = 241;
    cpu.reg.e = 253;
    cpu.reg.f = 160;
    cpu.reg.h = 70;
    cpu.reg.l = 85;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[21890] = 24;
    cpu.ram[21891] = 234;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 92);
    CHECK(cpu.reg.b == 122);
    CHECK(cpu.reg.c == 0);
    CHECK(cpu.reg.d == 241);
    CHECK(cpu.reg.e == 253);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 70);
    CHECK(cpu.reg.l == 85);
    CHECK(cpu.pc == 21870);
    CHECK(cpu.sp == 28600);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21890] == 24);
    REQUIRE(cpu.ram[21891] == 234);
}

TEST_CASE( "18 001D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54714;
    cpu.sp = 14276;
    cpu.reg.a = 112;
    cpu.reg.b = 156;
    cpu.reg.c = 128;
    cpu.reg.d = 119;
    cpu.reg.e = 64;
    cpu.reg.f = 96;
    cpu.reg.h = 117;
    cpu.reg.l = 238;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[54714] = 24;
    cpu.ram[54715] = 134;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 112);
    CHECK(cpu.reg.b == 156);
    CHECK(cpu.reg.c == 128);
    CHECK(cpu.reg.d == 119);
    CHECK(cpu.reg.e == 64);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 117);
    CHECK(cpu.reg.l == 238);
    CHECK(cpu.pc == 54594);
    CHECK(cpu.sp == 14276);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54714] == 24);
    REQUIRE(cpu.ram[54715] == 134);
}

TEST_CASE( "18 001E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57604;
    cpu.sp = 31498;
    cpu.reg.a = 15;
    cpu.reg.b = 27;
    cpu.reg.c = 218;
    cpu.reg.d = 123;
    cpu.reg.e = 61;
    cpu.reg.f = 240;
    cpu.reg.h = 93;
    cpu.reg.l = 2;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[57604] = 24;
    cpu.ram[57605] = 234;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 15);
    CHECK(cpu.reg.b == 27);
    CHECK(cpu.reg.c == 218);
    CHECK(cpu.reg.d == 123);
    CHECK(cpu.reg.e == 61);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 93);
    CHECK(cpu.reg.l == 2);
    CHECK(cpu.pc == 57584);
    CHECK(cpu.sp == 31498);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[57604] == 24);
    REQUIRE(cpu.ram[57605] == 234);
}

TEST_CASE( "18 001F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43112;
    cpu.sp = 1579;
    cpu.reg.a = 158;
    cpu.reg.b = 163;
    cpu.reg.c = 211;
    cpu.reg.d = 12;
    cpu.reg.e = 197;
    cpu.reg.f = 176;
    cpu.reg.h = 69;
    cpu.reg.l = 148;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[43112] = 24;
    cpu.ram[43113] = 120;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 158);
    CHECK(cpu.reg.b == 163);
    CHECK(cpu.reg.c == 211);
    CHECK(cpu.reg.d == 12);
    CHECK(cpu.reg.e == 197);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 69);
    CHECK(cpu.reg.l == 148);
    CHECK(cpu.pc == 43234);
    CHECK(cpu.sp == 1579);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43112] == 24);
    REQUIRE(cpu.ram[43113] == 120);
}

TEST_CASE( "18 0020", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62337;
    cpu.sp = 55607;
    cpu.reg.a = 128;
    cpu.reg.b = 41;
    cpu.reg.c = 68;
    cpu.reg.d = 91;
    cpu.reg.e = 255;
    cpu.reg.f = 176;
    cpu.reg.h = 54;
    cpu.reg.l = 61;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[62337] = 24;
    cpu.ram[62338] = 17;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 128);
    CHECK(cpu.reg.b == 41);
    CHECK(cpu.reg.c == 68);
    CHECK(cpu.reg.d == 91);
    CHECK(cpu.reg.e == 255);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 54);
    CHECK(cpu.reg.l == 61);
    CHECK(cpu.pc == 62356);
    CHECK(cpu.sp == 55607);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62337] == 24);
    REQUIRE(cpu.ram[62338] == 17);
}

TEST_CASE( "18 0021", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58004;
    cpu.sp = 63548;
    cpu.reg.a = 53;
    cpu.reg.b = 64;
    cpu.reg.c = 158;
    cpu.reg.d = 198;
    cpu.reg.e = 79;
    cpu.reg.f = 16;
    cpu.reg.h = 93;
    cpu.reg.l = 13;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[58004] = 24;
    cpu.ram[58005] = 253;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 53);
    CHECK(cpu.reg.b == 64);
    CHECK(cpu.reg.c == 158);
    CHECK(cpu.reg.d == 198);
    CHECK(cpu.reg.e == 79);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 93);
    CHECK(cpu.reg.l == 13);
    CHECK(cpu.pc == 58003);
    CHECK(cpu.sp == 63548);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[58004] == 24);
    REQUIRE(cpu.ram[58005] == 253);
}

TEST_CASE( "18 0022", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53186;
    cpu.sp = 5280;
    cpu.reg.a = 184;
    cpu.reg.b = 18;
    cpu.reg.c = 192;
    cpu.reg.d = 109;
    cpu.reg.e = 226;
    cpu.reg.f = 16;
    cpu.reg.h = 78;
    cpu.reg.l = 22;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[53186] = 24;
    cpu.ram[53187] = 29;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 184);
    CHECK(cpu.reg.b == 18);
    CHECK(cpu.reg.c == 192);
    CHECK(cpu.reg.d == 109);
    CHECK(cpu.reg.e == 226);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 78);
    CHECK(cpu.reg.l == 22);
    CHECK(cpu.pc == 53217);
    CHECK(cpu.sp == 5280);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[53186] == 24);
    REQUIRE(cpu.ram[53187] == 29);
}

TEST_CASE( "18 0023", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65487;
    cpu.sp = 58949;
    cpu.reg.a = 17;
    cpu.reg.b = 223;
    cpu.reg.c = 183;
    cpu.reg.d = 62;
    cpu.reg.e = 103;
    cpu.reg.f = 32;
    cpu.reg.h = 231;
    cpu.reg.l = 183;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[65487] = 24;
    cpu.ram[65488] = 99;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 17);
    CHECK(cpu.reg.b == 223);
    CHECK(cpu.reg.c == 183);
    CHECK(cpu.reg.d == 62);
    CHECK(cpu.reg.e == 103);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 231);
    CHECK(cpu.reg.l == 183);
    CHECK(cpu.pc == 52);
    CHECK(cpu.sp == 58949);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[65487] == 24);
    REQUIRE(cpu.ram[65488] == 99);
}

TEST_CASE( "18 0024", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27207;
    cpu.sp = 26768;
    cpu.reg.a = 233;
    cpu.reg.b = 230;
    cpu.reg.c = 155;
    cpu.reg.d = 221;
    cpu.reg.e = 139;
    cpu.reg.f = 112;
    cpu.reg.h = 11;
    cpu.reg.l = 71;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[27207] = 24;
    cpu.ram[27208] = 173;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 233);
    CHECK(cpu.reg.b == 230);
    CHECK(cpu.reg.c == 155);
    CHECK(cpu.reg.d == 221);
    CHECK(cpu.reg.e == 139);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 11);
    CHECK(cpu.reg.l == 71);
    CHECK(cpu.pc == 27126);
    CHECK(cpu.sp == 26768);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27207] == 24);
    REQUIRE(cpu.ram[27208] == 173);
}

TEST_CASE( "18 0025", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26428;
    cpu.sp = 43068;
    cpu.reg.a = 153;
    cpu.reg.b = 122;
    cpu.reg.c = 135;
    cpu.reg.d = 3;
    cpu.reg.e = 33;
    cpu.reg.f = 32;
    cpu.reg.h = 124;
    cpu.reg.l = 115;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26428] = 24;
    cpu.ram[26429] = 159;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 153);
    CHECK(cpu.reg.b == 122);
    CHECK(cpu.reg.c == 135);
    CHECK(cpu.reg.d == 3);
    CHECK(cpu.reg.e == 33);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 124);
    CHECK(cpu.reg.l == 115);
    CHECK(cpu.pc == 26333);
    CHECK(cpu.sp == 43068);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26428] == 24);
    REQUIRE(cpu.ram[26429] == 159);
}

TEST_CASE( "18 0026", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3130;
    cpu.sp = 63354;
    cpu.reg.a = 167;
    cpu.reg.b = 241;
    cpu.reg.c = 75;
    cpu.reg.d = 201;
    cpu.reg.e = 20;
    cpu.reg.f = 144;
    cpu.reg.h = 43;
    cpu.reg.l = 174;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[3130] = 24;
    cpu.ram[3131] = 179;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 167);
    CHECK(cpu.reg.b == 241);
    CHECK(cpu.reg.c == 75);
    CHECK(cpu.reg.d == 201);
    CHECK(cpu.reg.e == 20);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 43);
    CHECK(cpu.reg.l == 174);
    CHECK(cpu.pc == 3055);
    CHECK(cpu.sp == 63354);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3130] == 24);
    REQUIRE(cpu.ram[3131] == 179);
}

TEST_CASE( "18 0027", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45952;
    cpu.sp = 59554;
    cpu.reg.a = 41;
    cpu.reg.b = 91;
    cpu.reg.c = 125;
    cpu.reg.d = 180;
    cpu.reg.e = 167;
    cpu.reg.f = 176;
    cpu.reg.h = 171;
    cpu.reg.l = 85;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[45952] = 24;
    cpu.ram[45953] = 174;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 41);
    CHECK(cpu.reg.b == 91);
    CHECK(cpu.reg.c == 125);
    CHECK(cpu.reg.d == 180);
    CHECK(cpu.reg.e == 167);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 171);
    CHECK(cpu.reg.l == 85);
    CHECK(cpu.pc == 45872);
    CHECK(cpu.sp == 59554);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45952] == 24);
    REQUIRE(cpu.ram[45953] == 174);
}

TEST_CASE( "18 0028", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32794;
    cpu.sp = 32743;
    cpu.reg.a = 185;
    cpu.reg.b = 179;
    cpu.reg.c = 124;
    cpu.reg.d = 235;
    cpu.reg.e = 37;
    cpu.reg.f = 224;
    cpu.reg.h = 17;
    cpu.reg.l = 195;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[32794] = 24;
    cpu.ram[32795] = 93;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 185);
    CHECK(cpu.reg.b == 179);
    CHECK(cpu.reg.c == 124);
    CHECK(cpu.reg.d == 235);
    CHECK(cpu.reg.e == 37);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 195);
    CHECK(cpu.pc == 32889);
    CHECK(cpu.sp == 32743);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[32794] == 24);
    REQUIRE(cpu.ram[32795] == 93);
}

TEST_CASE( "18 0029", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41458;
    cpu.sp = 33969;
    cpu.reg.a = 142;
    cpu.reg.b = 50;
    cpu.reg.c = 178;
    cpu.reg.d = 20;
    cpu.reg.e = 246;
    cpu.reg.f = 32;
    cpu.reg.h = 242;
    cpu.reg.l = 111;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[41458] = 24;
    cpu.ram[41459] = 86;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 142);
    CHECK(cpu.reg.b == 50);
    CHECK(cpu.reg.c == 178);
    CHECK(cpu.reg.d == 20);
    CHECK(cpu.reg.e == 246);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 111);
    CHECK(cpu.pc == 41546);
    CHECK(cpu.sp == 33969);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41458] == 24);
    REQUIRE(cpu.ram[41459] == 86);
}

TEST_CASE( "18 002A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28949;
    cpu.sp = 28585;
    cpu.reg.a = 193;
    cpu.reg.b = 82;
    cpu.reg.c = 21;
    cpu.reg.d = 83;
    cpu.reg.e = 217;
    cpu.reg.f = 160;
    cpu.reg.h = 65;
    cpu.reg.l = 188;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[28949] = 24;
    cpu.ram[28950] = 62;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 193);
    CHECK(cpu.reg.b == 82);
    CHECK(cpu.reg.c == 21);
    CHECK(cpu.reg.d == 83);
    CHECK(cpu.reg.e == 217);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 65);
    CHECK(cpu.reg.l == 188);
    CHECK(cpu.pc == 29013);
    CHECK(cpu.sp == 28585);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28949] == 24);
    REQUIRE(cpu.ram[28950] == 62);
}

TEST_CASE( "18 002B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51602;
    cpu.sp = 39170;
    cpu.reg.a = 240;
    cpu.reg.b = 37;
    cpu.reg.c = 172;
    cpu.reg.d = 14;
    cpu.reg.e = 248;
    cpu.reg.f = 176;
    cpu.reg.h = 121;
    cpu.reg.l = 26;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[51602] = 24;
    cpu.ram[51603] = 185;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 240);
    CHECK(cpu.reg.b == 37);
    CHECK(cpu.reg.c == 172);
    CHECK(cpu.reg.d == 14);
    CHECK(cpu.reg.e == 248);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 121);
    CHECK(cpu.reg.l == 26);
    CHECK(cpu.pc == 51533);
    CHECK(cpu.sp == 39170);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51602] == 24);
    REQUIRE(cpu.ram[51603] == 185);
}

TEST_CASE( "18 002C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57136;
    cpu.sp = 34784;
    cpu.reg.a = 91;
    cpu.reg.b = 88;
    cpu.reg.c = 200;
    cpu.reg.d = 229;
    cpu.reg.e = 15;
    cpu.reg.f = 176;
    cpu.reg.h = 233;
    cpu.reg.l = 56;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[57136] = 24;
    cpu.ram[57137] = 124;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 91);
    CHECK(cpu.reg.b == 88);
    CHECK(cpu.reg.c == 200);
    CHECK(cpu.reg.d == 229);
    CHECK(cpu.reg.e == 15);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 233);
    CHECK(cpu.reg.l == 56);
    CHECK(cpu.pc == 57262);
    CHECK(cpu.sp == 34784);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[57136] == 24);
    REQUIRE(cpu.ram[57137] == 124);
}

TEST_CASE( "18 002D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38466;
    cpu.sp = 45287;
    cpu.reg.a = 63;
    cpu.reg.b = 200;
    cpu.reg.c = 167;
    cpu.reg.d = 3;
    cpu.reg.e = 211;
    cpu.reg.f = 48;
    cpu.reg.h = 247;
    cpu.reg.l = 137;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[38466] = 24;
    cpu.ram[38467] = 221;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 63);
    CHECK(cpu.reg.b == 200);
    CHECK(cpu.reg.c == 167);
    CHECK(cpu.reg.d == 3);
    CHECK(cpu.reg.e == 211);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 247);
    CHECK(cpu.reg.l == 137);
    CHECK(cpu.pc == 38433);
    CHECK(cpu.sp == 45287);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38466] == 24);
    REQUIRE(cpu.ram[38467] == 221);
}

TEST_CASE( "18 002E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17652;
    cpu.sp = 33980;
    cpu.reg.a = 55;
    cpu.reg.b = 106;
    cpu.reg.c = 65;
    cpu.reg.d = 68;
    cpu.reg.e = 107;
    cpu.reg.f = 240;
    cpu.reg.h = 32;
    cpu.reg.l = 49;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[17652] = 24;
    cpu.ram[17653] = 199;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 55);
    CHECK(cpu.reg.b == 106);
    CHECK(cpu.reg.c == 65);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 107);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 32);
    CHECK(cpu.reg.l == 49);
    CHECK(cpu.pc == 17597);
    CHECK(cpu.sp == 33980);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17652] == 24);
    REQUIRE(cpu.ram[17653] == 199);
}

TEST_CASE( "18 002F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19835;
    cpu.sp = 59847;
    cpu.reg.a = 236;
    cpu.reg.b = 141;
    cpu.reg.c = 184;
    cpu.reg.d = 238;
    cpu.reg.e = 228;
    cpu.reg.f = 176;
    cpu.reg.h = 243;
    cpu.reg.l = 245;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[19835] = 24;
    cpu.ram[19836] = 53;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 236);
    CHECK(cpu.reg.b == 141);
    CHECK(cpu.reg.c == 184);
    CHECK(cpu.reg.d == 238);
    CHECK(cpu.reg.e == 228);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 243);
    CHECK(cpu.reg.l == 245);
    CHECK(cpu.pc == 19890);
    CHECK(cpu.sp == 59847);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19835] == 24);
    REQUIRE(cpu.ram[19836] == 53);
}

TEST_CASE( "18 0030", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30651;
    cpu.sp = 16297;
    cpu.reg.a = 154;
    cpu.reg.b = 225;
    cpu.reg.c = 113;
    cpu.reg.d = 163;
    cpu.reg.e = 59;
    cpu.reg.f = 144;
    cpu.reg.h = 45;
    cpu.reg.l = 54;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[30651] = 24;
    cpu.ram[30652] = 187;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 154);
    CHECK(cpu.reg.b == 225);
    CHECK(cpu.reg.c == 113);
    CHECK(cpu.reg.d == 163);
    CHECK(cpu.reg.e == 59);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 45);
    CHECK(cpu.reg.l == 54);
    CHECK(cpu.pc == 30584);
    CHECK(cpu.sp == 16297);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30651] == 24);
    REQUIRE(cpu.ram[30652] == 187);
}

TEST_CASE( "18 0031", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1130;
    cpu.sp = 15792;
    cpu.reg.a = 199;
    cpu.reg.b = 247;
    cpu.reg.c = 223;
    cpu.reg.d = 124;
    cpu.reg.e = 61;
    cpu.reg.f = 128;
    cpu.reg.h = 80;
    cpu.reg.l = 16;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[1130] = 24;
    cpu.ram[1131] = 46;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 199);
    CHECK(cpu.reg.b == 247);
    CHECK(cpu.reg.c == 223);
    CHECK(cpu.reg.d == 124);
    CHECK(cpu.reg.e == 61);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 80);
    CHECK(cpu.reg.l == 16);
    CHECK(cpu.pc == 1178);
    CHECK(cpu.sp == 15792);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1130] == 24);
    REQUIRE(cpu.ram[1131] == 46);
}

TEST_CASE( "18 0032", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31610;
    cpu.sp = 42725;
    cpu.reg.a = 248;
    cpu.reg.b = 74;
    cpu.reg.c = 78;
    cpu.reg.d = 112;
    cpu.reg.e = 16;
    cpu.reg.f = 0;
    cpu.reg.h = 228;
    cpu.reg.l = 71;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[31610] = 24;
    cpu.ram[31611] = 22;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 248);
    CHECK(cpu.reg.b == 74);
    CHECK(cpu.reg.c == 78);
    CHECK(cpu.reg.d == 112);
    CHECK(cpu.reg.e == 16);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 228);
    CHECK(cpu.reg.l == 71);
    CHECK(cpu.pc == 31634);
    CHECK(cpu.sp == 42725);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31610] == 24);
    REQUIRE(cpu.ram[31611] == 22);
}

TEST_CASE( "18 0033", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3553;
    cpu.sp = 16501;
    cpu.reg.a = 128;
    cpu.reg.b = 28;
    cpu.reg.c = 255;
    cpu.reg.d = 41;
    cpu.reg.e = 149;
    cpu.reg.f = 176;
    cpu.reg.h = 174;
    cpu.reg.l = 42;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[3553] = 24;
    cpu.ram[3554] = 255;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 128);
    CHECK(cpu.reg.b == 28);
    CHECK(cpu.reg.c == 255);
    CHECK(cpu.reg.d == 41);
    CHECK(cpu.reg.e == 149);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 174);
    CHECK(cpu.reg.l == 42);
    CHECK(cpu.pc == 3554);
    CHECK(cpu.sp == 16501);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3553] == 24);
    REQUIRE(cpu.ram[3554] == 255);
}

TEST_CASE( "18 0034", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60620;
    cpu.sp = 2098;
    cpu.reg.a = 126;
    cpu.reg.b = 172;
    cpu.reg.c = 220;
    cpu.reg.d = 120;
    cpu.reg.e = 91;
    cpu.reg.f = 240;
    cpu.reg.h = 56;
    cpu.reg.l = 43;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[60620] = 24;
    cpu.ram[60621] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 126);
    CHECK(cpu.reg.b == 172);
    CHECK(cpu.reg.c == 220);
    CHECK(cpu.reg.d == 120);
    CHECK(cpu.reg.e == 91);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 56);
    CHECK(cpu.reg.l == 43);
    CHECK(cpu.pc == 60649);
    CHECK(cpu.sp == 2098);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60620] == 24);
    REQUIRE(cpu.ram[60621] == 27);
}

TEST_CASE( "18 0035", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64732;
    cpu.sp = 54217;
    cpu.reg.a = 249;
    cpu.reg.b = 215;
    cpu.reg.c = 3;
    cpu.reg.d = 143;
    cpu.reg.e = 193;
    cpu.reg.f = 48;
    cpu.reg.h = 9;
    cpu.reg.l = 92;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[64732] = 24;
    cpu.ram[64733] = 237;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 249);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 3);
    CHECK(cpu.reg.d == 143);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 9);
    CHECK(cpu.reg.l == 92);
    CHECK(cpu.pc == 64715);
    CHECK(cpu.sp == 54217);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[64732] == 24);
    REQUIRE(cpu.ram[64733] == 237);
}

TEST_CASE( "18 0036", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12812;
    cpu.sp = 58374;
    cpu.reg.a = 97;
    cpu.reg.b = 8;
    cpu.reg.c = 54;
    cpu.reg.d = 10;
    cpu.reg.e = 44;
    cpu.reg.f = 64;
    cpu.reg.h = 192;
    cpu.reg.l = 253;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[12812] = 24;
    cpu.ram[12813] = 76;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 97);
    CHECK(cpu.reg.b == 8);
    CHECK(cpu.reg.c == 54);
    CHECK(cpu.reg.d == 10);
    CHECK(cpu.reg.e == 44);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 192);
    CHECK(cpu.reg.l == 253);
    CHECK(cpu.pc == 12890);
    CHECK(cpu.sp == 58374);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12812] == 24);
    REQUIRE(cpu.ram[12813] == 76);
}

TEST_CASE( "18 0037", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27176;
    cpu.sp = 32961;
    cpu.reg.a = 230;
    cpu.reg.b = 232;
    cpu.reg.c = 40;
    cpu.reg.d = 99;
    cpu.reg.e = 213;
    cpu.reg.f = 224;
    cpu.reg.h = 123;
    cpu.reg.l = 142;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[27176] = 24;
    cpu.ram[27177] = 143;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 230);
    CHECK(cpu.reg.b == 232);
    CHECK(cpu.reg.c == 40);
    CHECK(cpu.reg.d == 99);
    CHECK(cpu.reg.e == 213);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 123);
    CHECK(cpu.reg.l == 142);
    CHECK(cpu.pc == 27065);
    CHECK(cpu.sp == 32961);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27176] == 24);
    REQUIRE(cpu.ram[27177] == 143);
}

TEST_CASE( "18 0038", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50862;
    cpu.sp = 13465;
    cpu.reg.a = 138;
    cpu.reg.b = 109;
    cpu.reg.c = 55;
    cpu.reg.d = 20;
    cpu.reg.e = 228;
    cpu.reg.f = 224;
    cpu.reg.h = 151;
    cpu.reg.l = 31;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[50862] = 24;
    cpu.ram[50863] = 31;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 138);
    CHECK(cpu.reg.b == 109);
    CHECK(cpu.reg.c == 55);
    CHECK(cpu.reg.d == 20);
    CHECK(cpu.reg.e == 228);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 151);
    CHECK(cpu.reg.l == 31);
    CHECK(cpu.pc == 50895);
    CHECK(cpu.sp == 13465);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50862] == 24);
    REQUIRE(cpu.ram[50863] == 31);
}

TEST_CASE( "18 0039", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16751;
    cpu.sp = 55373;
    cpu.reg.a = 173;
    cpu.reg.b = 112;
    cpu.reg.c = 47;
    cpu.reg.d = 163;
    cpu.reg.e = 63;
    cpu.reg.f = 144;
    cpu.reg.h = 158;
    cpu.reg.l = 215;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[16751] = 24;
    cpu.ram[16752] = 156;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 173);
    CHECK(cpu.reg.b == 112);
    CHECK(cpu.reg.c == 47);
    CHECK(cpu.reg.d == 163);
    CHECK(cpu.reg.e == 63);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 158);
    CHECK(cpu.reg.l == 215);
    CHECK(cpu.pc == 16653);
    CHECK(cpu.sp == 55373);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16751] == 24);
    REQUIRE(cpu.ram[16752] == 156);
}

TEST_CASE( "18 003A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7889;
    cpu.sp = 47417;
    cpu.reg.a = 135;
    cpu.reg.b = 219;
    cpu.reg.c = 153;
    cpu.reg.d = 70;
    cpu.reg.e = 210;
    cpu.reg.f = 224;
    cpu.reg.h = 90;
    cpu.reg.l = 164;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[7889] = 24;
    cpu.ram[7890] = 191;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 135);
    CHECK(cpu.reg.b == 219);
    CHECK(cpu.reg.c == 153);
    CHECK(cpu.reg.d == 70);
    CHECK(cpu.reg.e == 210);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 90);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 7826);
    CHECK(cpu.sp == 47417);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7889] == 24);
    REQUIRE(cpu.ram[7890] == 191);
}

TEST_CASE( "18 003B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12790;
    cpu.sp = 822;
    cpu.reg.a = 139;
    cpu.reg.b = 251;
    cpu.reg.c = 184;
    cpu.reg.d = 12;
    cpu.reg.e = 66;
    cpu.reg.f = 208;
    cpu.reg.h = 204;
    cpu.reg.l = 121;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[12790] = 24;
    cpu.ram[12791] = 161;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 139);
    CHECK(cpu.reg.b == 251);
    CHECK(cpu.reg.c == 184);
    CHECK(cpu.reg.d == 12);
    CHECK(cpu.reg.e == 66);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 204);
    CHECK(cpu.reg.l == 121);
    CHECK(cpu.pc == 12697);
    CHECK(cpu.sp == 822);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12790] == 24);
    REQUIRE(cpu.ram[12791] == 161);
}

TEST_CASE( "18 003C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26127;
    cpu.sp = 49437;
    cpu.reg.a = 232;
    cpu.reg.b = 18;
    cpu.reg.c = 46;
    cpu.reg.d = 29;
    cpu.reg.e = 241;
    cpu.reg.f = 160;
    cpu.reg.h = 90;
    cpu.reg.l = 189;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26127] = 24;
    cpu.ram[26128] = 197;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 232);
    CHECK(cpu.reg.b == 18);
    CHECK(cpu.reg.c == 46);
    CHECK(cpu.reg.d == 29);
    CHECK(cpu.reg.e == 241);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 90);
    CHECK(cpu.reg.l == 189);
    CHECK(cpu.pc == 26070);
    CHECK(cpu.sp == 49437);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26127] == 24);
    REQUIRE(cpu.ram[26128] == 197);
}

TEST_CASE( "18 003D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9070;
    cpu.sp = 30181;
    cpu.reg.a = 144;
    cpu.reg.b = 221;
    cpu.reg.c = 45;
    cpu.reg.d = 61;
    cpu.reg.e = 173;
    cpu.reg.f = 32;
    cpu.reg.h = 39;
    cpu.reg.l = 218;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[9070] = 24;
    cpu.ram[9071] = 53;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 144);
    CHECK(cpu.reg.b == 221);
    CHECK(cpu.reg.c == 45);
    CHECK(cpu.reg.d == 61);
    CHECK(cpu.reg.e == 173);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 39);
    CHECK(cpu.reg.l == 218);
    CHECK(cpu.pc == 9125);
    CHECK(cpu.sp == 30181);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9070] == 24);
    REQUIRE(cpu.ram[9071] == 53);
}

TEST_CASE( "18 003E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57525;
    cpu.sp = 41996;
    cpu.reg.a = 214;
    cpu.reg.b = 193;
    cpu.reg.c = 15;
    cpu.reg.d = 3;
    cpu.reg.e = 43;
    cpu.reg.f = 176;
    cpu.reg.h = 215;
    cpu.reg.l = 255;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[57525] = 24;
    cpu.ram[57526] = 192;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 214);
    CHECK(cpu.reg.b == 193);
    CHECK(cpu.reg.c == 15);
    CHECK(cpu.reg.d == 3);
    CHECK(cpu.reg.e == 43);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 215);
    CHECK(cpu.reg.l == 255);
    CHECK(cpu.pc == 57463);
    CHECK(cpu.sp == 41996);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[57525] == 24);
    REQUIRE(cpu.ram[57526] == 192);
}

TEST_CASE( "18 003F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22144;
    cpu.sp = 54977;
    cpu.reg.a = 57;
    cpu.reg.b = 114;
    cpu.reg.c = 115;
    cpu.reg.d = 222;
    cpu.reg.e = 183;
    cpu.reg.f = 80;
    cpu.reg.h = 235;
    cpu.reg.l = 228;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[22144] = 24;
    cpu.ram[22145] = 100;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 57);
    CHECK(cpu.reg.b == 114);
    CHECK(cpu.reg.c == 115);
    CHECK(cpu.reg.d == 222);
    CHECK(cpu.reg.e == 183);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 235);
    CHECK(cpu.reg.l == 228);
    CHECK(cpu.pc == 22246);
    CHECK(cpu.sp == 54977);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22144] == 24);
    REQUIRE(cpu.ram[22145] == 100);
}

TEST_CASE( "18 0040", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3144;
    cpu.sp = 2465;
    cpu.reg.a = 15;
    cpu.reg.b = 172;
    cpu.reg.c = 38;
    cpu.reg.d = 82;
    cpu.reg.e = 187;
    cpu.reg.f = 208;
    cpu.reg.h = 14;
    cpu.reg.l = 77;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[3144] = 24;
    cpu.ram[3145] = 228;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 15);
    CHECK(cpu.reg.b == 172);
    CHECK(cpu.reg.c == 38);
    CHECK(cpu.reg.d == 82);
    CHECK(cpu.reg.e == 187);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 14);
    CHECK(cpu.reg.l == 77);
    CHECK(cpu.pc == 3118);
    CHECK(cpu.sp == 2465);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3144] == 24);
    REQUIRE(cpu.ram[3145] == 228);
}

TEST_CASE( "18 0041", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61017;
    cpu.sp = 41013;
    cpu.reg.a = 60;
    cpu.reg.b = 215;
    cpu.reg.c = 223;
    cpu.reg.d = 140;
    cpu.reg.e = 61;
    cpu.reg.f = 240;
    cpu.reg.h = 209;
    cpu.reg.l = 4;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[61017] = 24;
    cpu.ram[61018] = 108;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 60);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 223);
    CHECK(cpu.reg.d == 140);
    CHECK(cpu.reg.e == 61);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 209);
    CHECK(cpu.reg.l == 4);
    CHECK(cpu.pc == 61127);
    CHECK(cpu.sp == 41013);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61017] == 24);
    REQUIRE(cpu.ram[61018] == 108);
}

TEST_CASE( "18 0042", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1345;
    cpu.sp = 40806;
    cpu.reg.a = 226;
    cpu.reg.b = 153;
    cpu.reg.c = 244;
    cpu.reg.d = 255;
    cpu.reg.e = 107;
    cpu.reg.f = 144;
    cpu.reg.h = 220;
    cpu.reg.l = 187;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[1345] = 24;
    cpu.ram[1346] = 64;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 226);
    CHECK(cpu.reg.b == 153);
    CHECK(cpu.reg.c == 244);
    CHECK(cpu.reg.d == 255);
    CHECK(cpu.reg.e == 107);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 220);
    CHECK(cpu.reg.l == 187);
    CHECK(cpu.pc == 1411);
    CHECK(cpu.sp == 40806);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1345] == 24);
    REQUIRE(cpu.ram[1346] == 64);
}

TEST_CASE( "18 0043", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38748;
    cpu.sp = 19251;
    cpu.reg.a = 161;
    cpu.reg.b = 154;
    cpu.reg.c = 122;
    cpu.reg.d = 103;
    cpu.reg.e = 64;
    cpu.reg.f = 240;
    cpu.reg.h = 240;
    cpu.reg.l = 0;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[38748] = 24;
    cpu.ram[38749] = 139;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 161);
    CHECK(cpu.reg.b == 154);
    CHECK(cpu.reg.c == 122);
    CHECK(cpu.reg.d == 103);
    CHECK(cpu.reg.e == 64);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 240);
    CHECK(cpu.reg.l == 0);
    CHECK(cpu.pc == 38633);
    CHECK(cpu.sp == 19251);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38748] == 24);
    REQUIRE(cpu.ram[38749] == 139);
}

TEST_CASE( "18 0044", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6488;
    cpu.sp = 49692;
    cpu.reg.a = 183;
    cpu.reg.b = 250;
    cpu.reg.c = 208;
    cpu.reg.d = 250;
    cpu.reg.e = 211;
    cpu.reg.f = 224;
    cpu.reg.h = 170;
    cpu.reg.l = 232;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[6488] = 24;
    cpu.ram[6489] = 75;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 183);
    CHECK(cpu.reg.b == 250);
    CHECK(cpu.reg.c == 208);
    CHECK(cpu.reg.d == 250);
    CHECK(cpu.reg.e == 211);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 170);
    CHECK(cpu.reg.l == 232);
    CHECK(cpu.pc == 6565);
    CHECK(cpu.sp == 49692);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6488] == 24);
    REQUIRE(cpu.ram[6489] == 75);
}

TEST_CASE( "18 0045", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16218;
    cpu.sp = 43135;
    cpu.reg.a = 123;
    cpu.reg.b = 119;
    cpu.reg.c = 79;
    cpu.reg.d = 124;
    cpu.reg.e = 173;
    cpu.reg.f = 64;
    cpu.reg.h = 15;
    cpu.reg.l = 135;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[16218] = 24;
    cpu.ram[16219] = 249;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 123);
    CHECK(cpu.reg.b == 119);
    CHECK(cpu.reg.c == 79);
    CHECK(cpu.reg.d == 124);
    CHECK(cpu.reg.e == 173);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 15);
    CHECK(cpu.reg.l == 135);
    CHECK(cpu.pc == 16213);
    CHECK(cpu.sp == 43135);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16218] == 24);
    REQUIRE(cpu.ram[16219] == 249);
}

TEST_CASE( "18 0046", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27667;
    cpu.sp = 5879;
    cpu.reg.a = 124;
    cpu.reg.b = 251;
    cpu.reg.c = 5;
    cpu.reg.d = 115;
    cpu.reg.e = 49;
    cpu.reg.f = 32;
    cpu.reg.h = 124;
    cpu.reg.l = 230;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[27667] = 24;
    cpu.ram[27668] = 211;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 124);
    CHECK(cpu.reg.b == 251);
    CHECK(cpu.reg.c == 5);
    CHECK(cpu.reg.d == 115);
    CHECK(cpu.reg.e == 49);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 124);
    CHECK(cpu.reg.l == 230);
    CHECK(cpu.pc == 27624);
    CHECK(cpu.sp == 5879);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27667] == 24);
    REQUIRE(cpu.ram[27668] == 211);
}

TEST_CASE( "18 0047", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61922;
    cpu.sp = 38082;
    cpu.reg.a = 100;
    cpu.reg.b = 201;
    cpu.reg.c = 161;
    cpu.reg.d = 253;
    cpu.reg.e = 175;
    cpu.reg.f = 96;
    cpu.reg.h = 41;
    cpu.reg.l = 230;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[61922] = 24;
    cpu.ram[61923] = 72;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 100);
    CHECK(cpu.reg.b == 201);
    CHECK(cpu.reg.c == 161);
    CHECK(cpu.reg.d == 253);
    CHECK(cpu.reg.e == 175);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 41);
    CHECK(cpu.reg.l == 230);
    CHECK(cpu.pc == 61996);
    CHECK(cpu.sp == 38082);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61922] == 24);
    REQUIRE(cpu.ram[61923] == 72);
}

TEST_CASE( "18 0048", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16936;
    cpu.sp = 46366;
    cpu.reg.a = 204;
    cpu.reg.b = 35;
    cpu.reg.c = 248;
    cpu.reg.d = 199;
    cpu.reg.e = 100;
    cpu.reg.f = 240;
    cpu.reg.h = 121;
    cpu.reg.l = 163;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[16936] = 24;
    cpu.ram[16937] = 255;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 204);
    CHECK(cpu.reg.b == 35);
    CHECK(cpu.reg.c == 248);
    CHECK(cpu.reg.d == 199);
    CHECK(cpu.reg.e == 100);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 121);
    CHECK(cpu.reg.l == 163);
    CHECK(cpu.pc == 16937);
    CHECK(cpu.sp == 46366);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16936] == 24);
    REQUIRE(cpu.ram[16937] == 255);
}

TEST_CASE( "18 0049", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57561;
    cpu.sp = 50154;
    cpu.reg.a = 89;
    cpu.reg.b = 187;
    cpu.reg.c = 97;
    cpu.reg.d = 191;
    cpu.reg.e = 175;
    cpu.reg.f = 16;
    cpu.reg.h = 161;
    cpu.reg.l = 75;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[57561] = 24;
    cpu.ram[57562] = 174;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 89);
    CHECK(cpu.reg.b == 187);
    CHECK(cpu.reg.c == 97);
    CHECK(cpu.reg.d == 191);
    CHECK(cpu.reg.e == 175);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 161);
    CHECK(cpu.reg.l == 75);
    CHECK(cpu.pc == 57481);
    CHECK(cpu.sp == 50154);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[57561] == 24);
    REQUIRE(cpu.ram[57562] == 174);
}

TEST_CASE( "18 004A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16093;
    cpu.sp = 4270;
    cpu.reg.a = 205;
    cpu.reg.b = 1;
    cpu.reg.c = 123;
    cpu.reg.d = 125;
    cpu.reg.e = 62;
    cpu.reg.f = 0;
    cpu.reg.h = 90;
    cpu.reg.l = 54;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[16093] = 24;
    cpu.ram[16094] = 255;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 205);
    CHECK(cpu.reg.b == 1);
    CHECK(cpu.reg.c == 123);
    CHECK(cpu.reg.d == 125);
    CHECK(cpu.reg.e == 62);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 90);
    CHECK(cpu.reg.l == 54);
    CHECK(cpu.pc == 16094);
    CHECK(cpu.sp == 4270);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16093] == 24);
    REQUIRE(cpu.ram[16094] == 255);
}

TEST_CASE( "18 004B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30733;
    cpu.sp = 54639;
    cpu.reg.a = 192;
    cpu.reg.b = 129;
    cpu.reg.c = 137;
    cpu.reg.d = 25;
    cpu.reg.e = 176;
    cpu.reg.f = 112;
    cpu.reg.h = 28;
    cpu.reg.l = 61;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[30733] = 24;
    cpu.ram[30734] = 215;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 192);
    CHECK(cpu.reg.b == 129);
    CHECK(cpu.reg.c == 137);
    CHECK(cpu.reg.d == 25);
    CHECK(cpu.reg.e == 176);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 28);
    CHECK(cpu.reg.l == 61);
    CHECK(cpu.pc == 30694);
    CHECK(cpu.sp == 54639);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30733] == 24);
    REQUIRE(cpu.ram[30734] == 215);
}

TEST_CASE( "18 004C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45380;
    cpu.sp = 1828;
    cpu.reg.a = 244;
    cpu.reg.b = 66;
    cpu.reg.c = 126;
    cpu.reg.d = 170;
    cpu.reg.e = 188;
    cpu.reg.f = 240;
    cpu.reg.h = 145;
    cpu.reg.l = 73;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[45380] = 24;
    cpu.ram[45381] = 178;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 244);
    CHECK(cpu.reg.b == 66);
    CHECK(cpu.reg.c == 126);
    CHECK(cpu.reg.d == 170);
    CHECK(cpu.reg.e == 188);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 145);
    CHECK(cpu.reg.l == 73);
    CHECK(cpu.pc == 45304);
    CHECK(cpu.sp == 1828);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45380] == 24);
    REQUIRE(cpu.ram[45381] == 178);
}

TEST_CASE( "18 004D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40156;
    cpu.sp = 10432;
    cpu.reg.a = 53;
    cpu.reg.b = 182;
    cpu.reg.c = 199;
    cpu.reg.d = 44;
    cpu.reg.e = 163;
    cpu.reg.f = 144;
    cpu.reg.h = 143;
    cpu.reg.l = 20;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[40156] = 24;
    cpu.ram[40157] = 192;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 53);
    CHECK(cpu.reg.b == 182);
    CHECK(cpu.reg.c == 199);
    CHECK(cpu.reg.d == 44);
    CHECK(cpu.reg.e == 163);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 143);
    CHECK(cpu.reg.l == 20);
    CHECK(cpu.pc == 40094);
    CHECK(cpu.sp == 10432);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40156] == 24);
    REQUIRE(cpu.ram[40157] == 192);
}

TEST_CASE( "18 004E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44256;
    cpu.sp = 53847;
    cpu.reg.a = 97;
    cpu.reg.b = 82;
    cpu.reg.c = 116;
    cpu.reg.d = 205;
    cpu.reg.e = 252;
    cpu.reg.f = 48;
    cpu.reg.h = 180;
    cpu.reg.l = 231;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[44256] = 24;
    cpu.ram[44257] = 171;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 97);
    CHECK(cpu.reg.b == 82);
    CHECK(cpu.reg.c == 116);
    CHECK(cpu.reg.d == 205);
    CHECK(cpu.reg.e == 252);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 180);
    CHECK(cpu.reg.l == 231);
    CHECK(cpu.pc == 44173);
    CHECK(cpu.sp == 53847);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44256] == 24);
    REQUIRE(cpu.ram[44257] == 171);
}

TEST_CASE( "18 004F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20769;
    cpu.sp = 39868;
    cpu.reg.a = 183;
    cpu.reg.b = 56;
    cpu.reg.c = 104;
    cpu.reg.d = 55;
    cpu.reg.e = 139;
    cpu.reg.f = 16;
    cpu.reg.h = 186;
    cpu.reg.l = 152;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[20769] = 24;
    cpu.ram[20770] = 87;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 183);
    CHECK(cpu.reg.b == 56);
    CHECK(cpu.reg.c == 104);
    CHECK(cpu.reg.d == 55);
    CHECK(cpu.reg.e == 139);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 186);
    CHECK(cpu.reg.l == 152);
    CHECK(cpu.pc == 20858);
    CHECK(cpu.sp == 39868);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20769] == 24);
    REQUIRE(cpu.ram[20770] == 87);
}

TEST_CASE( "18 0050", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43992;
    cpu.sp = 64796;
    cpu.reg.a = 96;
    cpu.reg.b = 191;
    cpu.reg.c = 43;
    cpu.reg.d = 157;
    cpu.reg.e = 64;
    cpu.reg.f = 112;
    cpu.reg.h = 218;
    cpu.reg.l = 3;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[43992] = 24;
    cpu.ram[43993] = 43;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 96);
    CHECK(cpu.reg.b == 191);
    CHECK(cpu.reg.c == 43);
    CHECK(cpu.reg.d == 157);
    CHECK(cpu.reg.e == 64);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 218);
    CHECK(cpu.reg.l == 3);
    CHECK(cpu.pc == 44037);
    CHECK(cpu.sp == 64796);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[43992] == 24);
    REQUIRE(cpu.ram[43993] == 43);
}

TEST_CASE( "18 0051", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44087;
    cpu.sp = 15318;
    cpu.reg.a = 182;
    cpu.reg.b = 190;
    cpu.reg.c = 45;
    cpu.reg.d = 111;
    cpu.reg.e = 55;
    cpu.reg.f = 96;
    cpu.reg.h = 140;
    cpu.reg.l = 113;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[44087] = 24;
    cpu.ram[44088] = 22;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 182);
    CHECK(cpu.reg.b == 190);
    CHECK(cpu.reg.c == 45);
    CHECK(cpu.reg.d == 111);
    CHECK(cpu.reg.e == 55);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 140);
    CHECK(cpu.reg.l == 113);
    CHECK(cpu.pc == 44111);
    CHECK(cpu.sp == 15318);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44087] == 24);
    REQUIRE(cpu.ram[44088] == 22);
}

TEST_CASE( "18 0052", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10006;
    cpu.sp = 28608;
    cpu.reg.a = 235;
    cpu.reg.b = 50;
    cpu.reg.c = 238;
    cpu.reg.d = 194;
    cpu.reg.e = 75;
    cpu.reg.f = 192;
    cpu.reg.h = 197;
    cpu.reg.l = 14;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[10006] = 24;
    cpu.ram[10007] = 240;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 235);
    CHECK(cpu.reg.b == 50);
    CHECK(cpu.reg.c == 238);
    CHECK(cpu.reg.d == 194);
    CHECK(cpu.reg.e == 75);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 197);
    CHECK(cpu.reg.l == 14);
    CHECK(cpu.pc == 9992);
    CHECK(cpu.sp == 28608);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10006] == 24);
    REQUIRE(cpu.ram[10007] == 240);
}

TEST_CASE( "18 0053", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2245;
    cpu.sp = 9141;
    cpu.reg.a = 36;
    cpu.reg.b = 183;
    cpu.reg.c = 49;
    cpu.reg.d = 80;
    cpu.reg.e = 94;
    cpu.reg.f = 160;
    cpu.reg.h = 167;
    cpu.reg.l = 112;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[2245] = 24;
    cpu.ram[2246] = 70;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 36);
    CHECK(cpu.reg.b == 183);
    CHECK(cpu.reg.c == 49);
    CHECK(cpu.reg.d == 80);
    CHECK(cpu.reg.e == 94);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 167);
    CHECK(cpu.reg.l == 112);
    CHECK(cpu.pc == 2317);
    CHECK(cpu.sp == 9141);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2245] == 24);
    REQUIRE(cpu.ram[2246] == 70);
}

TEST_CASE( "18 0054", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7818;
    cpu.sp = 2742;
    cpu.reg.a = 81;
    cpu.reg.b = 137;
    cpu.reg.c = 18;
    cpu.reg.d = 142;
    cpu.reg.e = 31;
    cpu.reg.f = 16;
    cpu.reg.h = 103;
    cpu.reg.l = 116;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[7818] = 24;
    cpu.ram[7819] = 209;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 81);
    CHECK(cpu.reg.b == 137);
    CHECK(cpu.reg.c == 18);
    CHECK(cpu.reg.d == 142);
    CHECK(cpu.reg.e == 31);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 103);
    CHECK(cpu.reg.l == 116);
    CHECK(cpu.pc == 7773);
    CHECK(cpu.sp == 2742);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7818] == 24);
    REQUIRE(cpu.ram[7819] == 209);
}

TEST_CASE( "18 0055", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55677;
    cpu.sp = 27297;
    cpu.reg.a = 64;
    cpu.reg.b = 36;
    cpu.reg.c = 223;
    cpu.reg.d = 66;
    cpu.reg.e = 153;
    cpu.reg.f = 32;
    cpu.reg.h = 179;
    cpu.reg.l = 135;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[55677] = 24;
    cpu.ram[55678] = 49;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 36);
    CHECK(cpu.reg.c == 223);
    CHECK(cpu.reg.d == 66);
    CHECK(cpu.reg.e == 153);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 179);
    CHECK(cpu.reg.l == 135);
    CHECK(cpu.pc == 55728);
    CHECK(cpu.sp == 27297);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55677] == 24);
    REQUIRE(cpu.ram[55678] == 49);
}

TEST_CASE( "18 0056", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53680;
    cpu.sp = 9977;
    cpu.reg.a = 99;
    cpu.reg.b = 142;
    cpu.reg.c = 177;
    cpu.reg.d = 79;
    cpu.reg.e = 109;
    cpu.reg.f = 0;
    cpu.reg.h = 147;
    cpu.reg.l = 109;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[53680] = 24;
    cpu.ram[53681] = 122;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 99);
    CHECK(cpu.reg.b == 142);
    CHECK(cpu.reg.c == 177);
    CHECK(cpu.reg.d == 79);
    CHECK(cpu.reg.e == 109);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 147);
    CHECK(cpu.reg.l == 109);
    CHECK(cpu.pc == 53804);
    CHECK(cpu.sp == 9977);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[53680] == 24);
    REQUIRE(cpu.ram[53681] == 122);
}

TEST_CASE( "18 0057", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40343;
    cpu.sp = 40078;
    cpu.reg.a = 81;
    cpu.reg.b = 75;
    cpu.reg.c = 200;
    cpu.reg.d = 10;
    cpu.reg.e = 153;
    cpu.reg.f = 208;
    cpu.reg.h = 54;
    cpu.reg.l = 75;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[40343] = 24;
    cpu.ram[40344] = 250;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 81);
    CHECK(cpu.reg.b == 75);
    CHECK(cpu.reg.c == 200);
    CHECK(cpu.reg.d == 10);
    CHECK(cpu.reg.e == 153);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 54);
    CHECK(cpu.reg.l == 75);
    CHECK(cpu.pc == 40339);
    CHECK(cpu.sp == 40078);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40343] == 24);
    REQUIRE(cpu.ram[40344] == 250);
}

TEST_CASE( "18 0058", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46031;
    cpu.sp = 37174;
    cpu.reg.a = 47;
    cpu.reg.b = 153;
    cpu.reg.c = 71;
    cpu.reg.d = 200;
    cpu.reg.e = 204;
    cpu.reg.f = 208;
    cpu.reg.h = 60;
    cpu.reg.l = 61;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[46031] = 24;
    cpu.ram[46032] = 202;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 47);
    CHECK(cpu.reg.b == 153);
    CHECK(cpu.reg.c == 71);
    CHECK(cpu.reg.d == 200);
    CHECK(cpu.reg.e == 204);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 60);
    CHECK(cpu.reg.l == 61);
    CHECK(cpu.pc == 45979);
    CHECK(cpu.sp == 37174);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46031] == 24);
    REQUIRE(cpu.ram[46032] == 202);
}

TEST_CASE( "18 0059", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36974;
    cpu.sp = 57585;
    cpu.reg.a = 163;
    cpu.reg.b = 235;
    cpu.reg.c = 241;
    cpu.reg.d = 176;
    cpu.reg.e = 193;
    cpu.reg.f = 144;
    cpu.reg.h = 65;
    cpu.reg.l = 44;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[36974] = 24;
    cpu.ram[36975] = 18;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 163);
    CHECK(cpu.reg.b == 235);
    CHECK(cpu.reg.c == 241);
    CHECK(cpu.reg.d == 176);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 65);
    CHECK(cpu.reg.l == 44);
    CHECK(cpu.pc == 36994);
    CHECK(cpu.sp == 57585);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[36974] == 24);
    REQUIRE(cpu.ram[36975] == 18);
}

TEST_CASE( "18 005A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39869;
    cpu.sp = 2350;
    cpu.reg.a = 190;
    cpu.reg.b = 128;
    cpu.reg.c = 143;
    cpu.reg.d = 110;
    cpu.reg.e = 252;
    cpu.reg.f = 240;
    cpu.reg.h = 240;
    cpu.reg.l = 17;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[39869] = 24;
    cpu.ram[39870] = 63;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 190);
    CHECK(cpu.reg.b == 128);
    CHECK(cpu.reg.c == 143);
    CHECK(cpu.reg.d == 110);
    CHECK(cpu.reg.e == 252);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 240);
    CHECK(cpu.reg.l == 17);
    CHECK(cpu.pc == 39934);
    CHECK(cpu.sp == 2350);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39869] == 24);
    REQUIRE(cpu.ram[39870] == 63);
}

TEST_CASE( "18 005B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51227;
    cpu.sp = 54436;
    cpu.reg.a = 111;
    cpu.reg.b = 75;
    cpu.reg.c = 236;
    cpu.reg.d = 81;
    cpu.reg.e = 124;
    cpu.reg.f = 16;
    cpu.reg.h = 204;
    cpu.reg.l = 59;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[51227] = 24;
    cpu.ram[51228] = 171;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 111);
    CHECK(cpu.reg.b == 75);
    CHECK(cpu.reg.c == 236);
    CHECK(cpu.reg.d == 81);
    CHECK(cpu.reg.e == 124);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 204);
    CHECK(cpu.reg.l == 59);
    CHECK(cpu.pc == 51144);
    CHECK(cpu.sp == 54436);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51227] == 24);
    REQUIRE(cpu.ram[51228] == 171);
}

TEST_CASE( "18 005C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11851;
    cpu.sp = 50321;
    cpu.reg.a = 64;
    cpu.reg.b = 69;
    cpu.reg.c = 226;
    cpu.reg.d = 164;
    cpu.reg.e = 53;
    cpu.reg.f = 144;
    cpu.reg.h = 210;
    cpu.reg.l = 95;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[11851] = 24;
    cpu.ram[11852] = 252;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 69);
    CHECK(cpu.reg.c == 226);
    CHECK(cpu.reg.d == 164);
    CHECK(cpu.reg.e == 53);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 210);
    CHECK(cpu.reg.l == 95);
    CHECK(cpu.pc == 11849);
    CHECK(cpu.sp == 50321);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11851] == 24);
    REQUIRE(cpu.ram[11852] == 252);
}

TEST_CASE( "18 005D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19606;
    cpu.sp = 586;
    cpu.reg.a = 223;
    cpu.reg.b = 97;
    cpu.reg.c = 57;
    cpu.reg.d = 118;
    cpu.reg.e = 166;
    cpu.reg.f = 144;
    cpu.reg.h = 72;
    cpu.reg.l = 140;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[19606] = 24;
    cpu.ram[19607] = 89;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 223);
    CHECK(cpu.reg.b == 97);
    CHECK(cpu.reg.c == 57);
    CHECK(cpu.reg.d == 118);
    CHECK(cpu.reg.e == 166);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 72);
    CHECK(cpu.reg.l == 140);
    CHECK(cpu.pc == 19697);
    CHECK(cpu.sp == 586);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19606] == 24);
    REQUIRE(cpu.ram[19607] == 89);
}

TEST_CASE( "18 005E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58200;
    cpu.sp = 59643;
    cpu.reg.a = 190;
    cpu.reg.b = 252;
    cpu.reg.c = 137;
    cpu.reg.d = 219;
    cpu.reg.e = 19;
    cpu.reg.f = 224;
    cpu.reg.h = 227;
    cpu.reg.l = 14;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[58200] = 24;
    cpu.ram[58201] = 104;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 190);
    CHECK(cpu.reg.b == 252);
    CHECK(cpu.reg.c == 137);
    CHECK(cpu.reg.d == 219);
    CHECK(cpu.reg.e == 19);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 14);
    CHECK(cpu.pc == 58306);
    CHECK(cpu.sp == 59643);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[58200] == 24);
    REQUIRE(cpu.ram[58201] == 104);
}

TEST_CASE( "18 005F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17076;
    cpu.sp = 29453;
    cpu.reg.a = 6;
    cpu.reg.b = 212;
    cpu.reg.c = 48;
    cpu.reg.d = 67;
    cpu.reg.e = 253;
    cpu.reg.f = 64;
    cpu.reg.h = 133;
    cpu.reg.l = 66;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[17076] = 24;
    cpu.ram[17077] = 72;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 6);
    CHECK(cpu.reg.b == 212);
    CHECK(cpu.reg.c == 48);
    CHECK(cpu.reg.d == 67);
    CHECK(cpu.reg.e == 253);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 133);
    CHECK(cpu.reg.l == 66);
    CHECK(cpu.pc == 17150);
    CHECK(cpu.sp == 29453);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17076] == 24);
    REQUIRE(cpu.ram[17077] == 72);
}

TEST_CASE( "18 0060", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48340;
    cpu.sp = 54781;
    cpu.reg.a = 199;
    cpu.reg.b = 86;
    cpu.reg.c = 146;
    cpu.reg.d = 245;
    cpu.reg.e = 113;
    cpu.reg.f = 224;
    cpu.reg.h = 143;
    cpu.reg.l = 189;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[48340] = 24;
    cpu.ram[48341] = 181;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 199);
    CHECK(cpu.reg.b == 86);
    CHECK(cpu.reg.c == 146);
    CHECK(cpu.reg.d == 245);
    CHECK(cpu.reg.e == 113);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 143);
    CHECK(cpu.reg.l == 189);
    CHECK(cpu.pc == 48267);
    CHECK(cpu.sp == 54781);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48340] == 24);
    REQUIRE(cpu.ram[48341] == 181);
}

TEST_CASE( "18 0061", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49016;
    cpu.sp = 51173;
    cpu.reg.a = 81;
    cpu.reg.b = 149;
    cpu.reg.c = 24;
    cpu.reg.d = 217;
    cpu.reg.e = 19;
    cpu.reg.f = 192;
    cpu.reg.h = 250;
    cpu.reg.l = 196;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[49016] = 24;
    cpu.ram[49017] = 215;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 81);
    CHECK(cpu.reg.b == 149);
    CHECK(cpu.reg.c == 24);
    CHECK(cpu.reg.d == 217);
    CHECK(cpu.reg.e == 19);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 250);
    CHECK(cpu.reg.l == 196);
    CHECK(cpu.pc == 48977);
    CHECK(cpu.sp == 51173);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49016] == 24);
    REQUIRE(cpu.ram[49017] == 215);
}

TEST_CASE( "18 0062", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27559;
    cpu.sp = 11133;
    cpu.reg.a = 18;
    cpu.reg.b = 186;
    cpu.reg.c = 233;
    cpu.reg.d = 230;
    cpu.reg.e = 134;
    cpu.reg.f = 48;
    cpu.reg.h = 13;
    cpu.reg.l = 171;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[27559] = 24;
    cpu.ram[27560] = 64;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 18);
    CHECK(cpu.reg.b == 186);
    CHECK(cpu.reg.c == 233);
    CHECK(cpu.reg.d == 230);
    CHECK(cpu.reg.e == 134);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 13);
    CHECK(cpu.reg.l == 171);
    CHECK(cpu.pc == 27625);
    CHECK(cpu.sp == 11133);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27559] == 24);
    REQUIRE(cpu.ram[27560] == 64);
}

TEST_CASE( "18 0063", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48741;
    cpu.sp = 30688;
    cpu.reg.a = 157;
    cpu.reg.b = 60;
    cpu.reg.c = 115;
    cpu.reg.d = 68;
    cpu.reg.e = 117;
    cpu.reg.f = 208;
    cpu.reg.h = 167;
    cpu.reg.l = 0;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[48741] = 24;
    cpu.ram[48742] = 122;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 157);
    CHECK(cpu.reg.b == 60);
    CHECK(cpu.reg.c == 115);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 117);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 167);
    CHECK(cpu.reg.l == 0);
    CHECK(cpu.pc == 48865);
    CHECK(cpu.sp == 30688);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[48741] == 24);
    REQUIRE(cpu.ram[48742] == 122);
}

TEST_CASE( "18 0064", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43186;
    cpu.sp = 20169;
    cpu.reg.a = 48;
    cpu.reg.b = 205;
    cpu.reg.c = 160;
    cpu.reg.d = 152;
    cpu.reg.e = 255;
    cpu.reg.f = 32;
    cpu.reg.h = 190;
    cpu.reg.l = 132;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[43186] = 24;
    cpu.ram[43187] = 100;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 48);
    CHECK(cpu.reg.b == 205);
    CHECK(cpu.reg.c == 160);
    CHECK(cpu.reg.d == 152);
    CHECK(cpu.reg.e == 255);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 190);
    CHECK(cpu.reg.l == 132);
    CHECK(cpu.pc == 43288);
    CHECK(cpu.sp == 20169);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[43186] == 24);
    REQUIRE(cpu.ram[43187] == 100);
}

TEST_CASE( "18 0065", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55313;
    cpu.sp = 44423;
    cpu.reg.a = 16;
    cpu.reg.b = 137;
    cpu.reg.c = 130;
    cpu.reg.d = 65;
    cpu.reg.e = 222;
    cpu.reg.f = 64;
    cpu.reg.h = 56;
    cpu.reg.l = 11;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[55313] = 24;
    cpu.ram[55314] = 232;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 16);
    CHECK(cpu.reg.b == 137);
    CHECK(cpu.reg.c == 130);
    CHECK(cpu.reg.d == 65);
    CHECK(cpu.reg.e == 222);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 56);
    CHECK(cpu.reg.l == 11);
    CHECK(cpu.pc == 55291);
    CHECK(cpu.sp == 44423);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55313] == 24);
    REQUIRE(cpu.ram[55314] == 232);
}

TEST_CASE( "18 0066", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58157;
    cpu.sp = 62031;
    cpu.reg.a = 3;
    cpu.reg.b = 79;
    cpu.reg.c = 198;
    cpu.reg.d = 86;
    cpu.reg.e = 96;
    cpu.reg.f = 192;
    cpu.reg.h = 36;
    cpu.reg.l = 72;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[58157] = 24;
    cpu.ram[58158] = 215;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 3);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 198);
    CHECK(cpu.reg.d == 86);
    CHECK(cpu.reg.e == 96);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 36);
    CHECK(cpu.reg.l == 72);
    CHECK(cpu.pc == 58118);
    CHECK(cpu.sp == 62031);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[58157] == 24);
    REQUIRE(cpu.ram[58158] == 215);
}

TEST_CASE( "18 0067", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29565;
    cpu.sp = 46396;
    cpu.reg.a = 83;
    cpu.reg.b = 136;
    cpu.reg.c = 122;
    cpu.reg.d = 122;
    cpu.reg.e = 127;
    cpu.reg.f = 192;
    cpu.reg.h = 149;
    cpu.reg.l = 57;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[29565] = 24;
    cpu.ram[29566] = 101;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 83);
    CHECK(cpu.reg.b == 136);
    CHECK(cpu.reg.c == 122);
    CHECK(cpu.reg.d == 122);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 149);
    CHECK(cpu.reg.l == 57);
    CHECK(cpu.pc == 29668);
    CHECK(cpu.sp == 46396);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29565] == 24);
    REQUIRE(cpu.ram[29566] == 101);
}

TEST_CASE( "18 0068", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33417;
    cpu.sp = 63862;
    cpu.reg.a = 54;
    cpu.reg.b = 145;
    cpu.reg.c = 149;
    cpu.reg.d = 190;
    cpu.reg.e = 244;
    cpu.reg.f = 96;
    cpu.reg.h = 211;
    cpu.reg.l = 16;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[33417] = 24;
    cpu.ram[33418] = 220;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 54);
    CHECK(cpu.reg.b == 145);
    CHECK(cpu.reg.c == 149);
    CHECK(cpu.reg.d == 190);
    CHECK(cpu.reg.e == 244);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 211);
    CHECK(cpu.reg.l == 16);
    CHECK(cpu.pc == 33383);
    CHECK(cpu.sp == 63862);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33417] == 24);
    REQUIRE(cpu.ram[33418] == 220);
}

TEST_CASE( "18 0069", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60514;
    cpu.sp = 32394;
    cpu.reg.a = 70;
    cpu.reg.b = 10;
    cpu.reg.c = 123;
    cpu.reg.d = 211;
    cpu.reg.e = 155;
    cpu.reg.f = 32;
    cpu.reg.h = 195;
    cpu.reg.l = 218;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[60514] = 24;
    cpu.ram[60515] = 130;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 70);
    CHECK(cpu.reg.b == 10);
    CHECK(cpu.reg.c == 123);
    CHECK(cpu.reg.d == 211);
    CHECK(cpu.reg.e == 155);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 195);
    CHECK(cpu.reg.l == 218);
    CHECK(cpu.pc == 60390);
    CHECK(cpu.sp == 32394);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[60514] == 24);
    REQUIRE(cpu.ram[60515] == 130);
}

TEST_CASE( "18 006A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48704;
    cpu.sp = 19331;
    cpu.reg.a = 233;
    cpu.reg.b = 36;
    cpu.reg.c = 56;
    cpu.reg.d = 50;
    cpu.reg.e = 217;
    cpu.reg.f = 112;
    cpu.reg.h = 236;
    cpu.reg.l = 146;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[48704] = 24;
    cpu.ram[48705] = 139;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 233);
    CHECK(cpu.reg.b == 36);
    CHECK(cpu.reg.c == 56);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 217);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 236);
    CHECK(cpu.reg.l == 146);
    CHECK(cpu.pc == 48589);
    CHECK(cpu.sp == 19331);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[48704] == 24);
    REQUIRE(cpu.ram[48705] == 139);
}

TEST_CASE( "18 006B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57995;
    cpu.sp = 52905;
    cpu.reg.a = 166;
    cpu.reg.b = 208;
    cpu.reg.c = 60;
    cpu.reg.d = 164;
    cpu.reg.e = 242;
    cpu.reg.f = 112;
    cpu.reg.h = 162;
    cpu.reg.l = 200;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[57995] = 24;
    cpu.ram[57996] = 74;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 166);
    CHECK(cpu.reg.b == 208);
    CHECK(cpu.reg.c == 60);
    CHECK(cpu.reg.d == 164);
    CHECK(cpu.reg.e == 242);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 162);
    CHECK(cpu.reg.l == 200);
    CHECK(cpu.pc == 58071);
    CHECK(cpu.sp == 52905);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[57995] == 24);
    REQUIRE(cpu.ram[57996] == 74);
}

TEST_CASE( "18 006C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19652;
    cpu.sp = 19686;
    cpu.reg.a = 214;
    cpu.reg.b = 89;
    cpu.reg.c = 36;
    cpu.reg.d = 242;
    cpu.reg.e = 214;
    cpu.reg.f = 80;
    cpu.reg.h = 221;
    cpu.reg.l = 141;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[19652] = 24;
    cpu.ram[19653] = 149;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 214);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 36);
    CHECK(cpu.reg.d == 242);
    CHECK(cpu.reg.e == 214);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 221);
    CHECK(cpu.reg.l == 141);
    CHECK(cpu.pc == 19547);
    CHECK(cpu.sp == 19686);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19652] == 24);
    REQUIRE(cpu.ram[19653] == 149);
}

TEST_CASE( "18 006D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55586;
    cpu.sp = 37699;
    cpu.reg.a = 79;
    cpu.reg.b = 134;
    cpu.reg.c = 69;
    cpu.reg.d = 246;
    cpu.reg.e = 94;
    cpu.reg.f = 112;
    cpu.reg.h = 1;
    cpu.reg.l = 100;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[55586] = 24;
    cpu.ram[55587] = 56;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 79);
    CHECK(cpu.reg.b == 134);
    CHECK(cpu.reg.c == 69);
    CHECK(cpu.reg.d == 246);
    CHECK(cpu.reg.e == 94);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 1);
    CHECK(cpu.reg.l == 100);
    CHECK(cpu.pc == 55644);
    CHECK(cpu.sp == 37699);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55586] == 24);
    REQUIRE(cpu.ram[55587] == 56);
}

TEST_CASE( "18 006E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57912;
    cpu.sp = 54201;
    cpu.reg.a = 2;
    cpu.reg.b = 131;
    cpu.reg.c = 43;
    cpu.reg.d = 255;
    cpu.reg.e = 8;
    cpu.reg.f = 64;
    cpu.reg.h = 15;
    cpu.reg.l = 61;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[57912] = 24;
    cpu.ram[57913] = 31;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 2);
    CHECK(cpu.reg.b == 131);
    CHECK(cpu.reg.c == 43);
    CHECK(cpu.reg.d == 255);
    CHECK(cpu.reg.e == 8);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 15);
    CHECK(cpu.reg.l == 61);
    CHECK(cpu.pc == 57945);
    CHECK(cpu.sp == 54201);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[57912] == 24);
    REQUIRE(cpu.ram[57913] == 31);
}

TEST_CASE( "18 006F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29757;
    cpu.sp = 9456;
    cpu.reg.a = 155;
    cpu.reg.b = 0;
    cpu.reg.c = 99;
    cpu.reg.d = 118;
    cpu.reg.e = 214;
    cpu.reg.f = 160;
    cpu.reg.h = 25;
    cpu.reg.l = 66;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[29757] = 24;
    cpu.ram[29758] = 116;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 155);
    CHECK(cpu.reg.b == 0);
    CHECK(cpu.reg.c == 99);
    CHECK(cpu.reg.d == 118);
    CHECK(cpu.reg.e == 214);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 25);
    CHECK(cpu.reg.l == 66);
    CHECK(cpu.pc == 29875);
    CHECK(cpu.sp == 9456);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29757] == 24);
    REQUIRE(cpu.ram[29758] == 116);
}

TEST_CASE( "18 0070", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23575;
    cpu.sp = 54673;
    cpu.reg.a = 150;
    cpu.reg.b = 55;
    cpu.reg.c = 51;
    cpu.reg.d = 225;
    cpu.reg.e = 241;
    cpu.reg.f = 48;
    cpu.reg.h = 55;
    cpu.reg.l = 228;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[23575] = 24;
    cpu.ram[23576] = 168;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 150);
    CHECK(cpu.reg.b == 55);
    CHECK(cpu.reg.c == 51);
    CHECK(cpu.reg.d == 225);
    CHECK(cpu.reg.e == 241);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 55);
    CHECK(cpu.reg.l == 228);
    CHECK(cpu.pc == 23489);
    CHECK(cpu.sp == 54673);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23575] == 24);
    REQUIRE(cpu.ram[23576] == 168);
}

TEST_CASE( "18 0071", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36399;
    cpu.sp = 63208;
    cpu.reg.a = 19;
    cpu.reg.b = 157;
    cpu.reg.c = 208;
    cpu.reg.d = 210;
    cpu.reg.e = 250;
    cpu.reg.f = 64;
    cpu.reg.h = 133;
    cpu.reg.l = 124;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[36399] = 24;
    cpu.ram[36400] = 33;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 19);
    CHECK(cpu.reg.b == 157);
    CHECK(cpu.reg.c == 208);
    CHECK(cpu.reg.d == 210);
    CHECK(cpu.reg.e == 250);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 133);
    CHECK(cpu.reg.l == 124);
    CHECK(cpu.pc == 36434);
    CHECK(cpu.sp == 63208);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36399] == 24);
    REQUIRE(cpu.ram[36400] == 33);
}

TEST_CASE( "18 0072", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34524;
    cpu.sp = 19528;
    cpu.reg.a = 57;
    cpu.reg.b = 208;
    cpu.reg.c = 158;
    cpu.reg.d = 110;
    cpu.reg.e = 90;
    cpu.reg.f = 80;
    cpu.reg.h = 117;
    cpu.reg.l = 19;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[34524] = 24;
    cpu.ram[34525] = 147;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 57);
    CHECK(cpu.reg.b == 208);
    CHECK(cpu.reg.c == 158);
    CHECK(cpu.reg.d == 110);
    CHECK(cpu.reg.e == 90);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 117);
    CHECK(cpu.reg.l == 19);
    CHECK(cpu.pc == 34417);
    CHECK(cpu.sp == 19528);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34524] == 24);
    REQUIRE(cpu.ram[34525] == 147);
}

TEST_CASE( "18 0073", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28404;
    cpu.sp = 53006;
    cpu.reg.a = 93;
    cpu.reg.b = 172;
    cpu.reg.c = 115;
    cpu.reg.d = 20;
    cpu.reg.e = 0;
    cpu.reg.f = 128;
    cpu.reg.h = 173;
    cpu.reg.l = 223;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[28404] = 24;
    cpu.ram[28405] = 176;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 93);
    CHECK(cpu.reg.b == 172);
    CHECK(cpu.reg.c == 115);
    CHECK(cpu.reg.d == 20);
    CHECK(cpu.reg.e == 0);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 173);
    CHECK(cpu.reg.l == 223);
    CHECK(cpu.pc == 28326);
    CHECK(cpu.sp == 53006);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[28404] == 24);
    REQUIRE(cpu.ram[28405] == 176);
}

TEST_CASE( "18 0074", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28493;
    cpu.sp = 46843;
    cpu.reg.a = 9;
    cpu.reg.b = 77;
    cpu.reg.c = 107;
    cpu.reg.d = 25;
    cpu.reg.e = 183;
    cpu.reg.f = 192;
    cpu.reg.h = 131;
    cpu.reg.l = 234;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[28493] = 24;
    cpu.ram[28494] = 1;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 9);
    CHECK(cpu.reg.b == 77);
    CHECK(cpu.reg.c == 107);
    CHECK(cpu.reg.d == 25);
    CHECK(cpu.reg.e == 183);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 131);
    CHECK(cpu.reg.l == 234);
    CHECK(cpu.pc == 28496);
    CHECK(cpu.sp == 46843);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[28493] == 24);
    REQUIRE(cpu.ram[28494] == 1);
}

TEST_CASE( "18 0075", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11944;
    cpu.sp = 1264;
    cpu.reg.a = 75;
    cpu.reg.b = 165;
    cpu.reg.c = 73;
    cpu.reg.d = 54;
    cpu.reg.e = 28;
    cpu.reg.f = 48;
    cpu.reg.h = 106;
    cpu.reg.l = 210;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[11944] = 24;
    cpu.ram[11945] = 137;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 75);
    CHECK(cpu.reg.b == 165);
    CHECK(cpu.reg.c == 73);
    CHECK(cpu.reg.d == 54);
    CHECK(cpu.reg.e == 28);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 106);
    CHECK(cpu.reg.l == 210);
    CHECK(cpu.pc == 11827);
    CHECK(cpu.sp == 1264);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11944] == 24);
    REQUIRE(cpu.ram[11945] == 137);
}

TEST_CASE( "18 0076", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30778;
    cpu.sp = 4418;
    cpu.reg.a = 224;
    cpu.reg.b = 250;
    cpu.reg.c = 106;
    cpu.reg.d = 2;
    cpu.reg.e = 191;
    cpu.reg.f = 192;
    cpu.reg.h = 91;
    cpu.reg.l = 52;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[30778] = 24;
    cpu.ram[30779] = 229;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 250);
    CHECK(cpu.reg.c == 106);
    CHECK(cpu.reg.d == 2);
    CHECK(cpu.reg.e == 191);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 91);
    CHECK(cpu.reg.l == 52);
    CHECK(cpu.pc == 30753);
    CHECK(cpu.sp == 4418);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30778] == 24);
    REQUIRE(cpu.ram[30779] == 229);
}

TEST_CASE( "18 0077", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55119;
    cpu.sp = 20574;
    cpu.reg.a = 254;
    cpu.reg.b = 175;
    cpu.reg.c = 48;
    cpu.reg.d = 68;
    cpu.reg.e = 117;
    cpu.reg.f = 160;
    cpu.reg.h = 164;
    cpu.reg.l = 94;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[55119] = 24;
    cpu.ram[55120] = 190;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 175);
    CHECK(cpu.reg.c == 48);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 117);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 164);
    CHECK(cpu.reg.l == 94);
    CHECK(cpu.pc == 55055);
    CHECK(cpu.sp == 20574);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[55119] == 24);
    REQUIRE(cpu.ram[55120] == 190);
}

TEST_CASE( "18 0078", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4361;
    cpu.sp = 24006;
    cpu.reg.a = 233;
    cpu.reg.b = 70;
    cpu.reg.c = 135;
    cpu.reg.d = 40;
    cpu.reg.e = 97;
    cpu.reg.f = 144;
    cpu.reg.h = 179;
    cpu.reg.l = 36;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4361] = 24;
    cpu.ram[4362] = 173;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 233);
    CHECK(cpu.reg.b == 70);
    CHECK(cpu.reg.c == 135);
    CHECK(cpu.reg.d == 40);
    CHECK(cpu.reg.e == 97);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 179);
    CHECK(cpu.reg.l == 36);
    CHECK(cpu.pc == 4280);
    CHECK(cpu.sp == 24006);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4361] == 24);
    REQUIRE(cpu.ram[4362] == 173);
}

TEST_CASE( "18 0079", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53610;
    cpu.sp = 59973;
    cpu.reg.a = 76;
    cpu.reg.b = 207;
    cpu.reg.c = 15;
    cpu.reg.d = 192;
    cpu.reg.e = 223;
    cpu.reg.f = 208;
    cpu.reg.h = 237;
    cpu.reg.l = 4;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[53610] = 24;
    cpu.ram[53611] = 60;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 76);
    CHECK(cpu.reg.b == 207);
    CHECK(cpu.reg.c == 15);
    CHECK(cpu.reg.d == 192);
    CHECK(cpu.reg.e == 223);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 237);
    CHECK(cpu.reg.l == 4);
    CHECK(cpu.pc == 53672);
    CHECK(cpu.sp == 59973);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[53610] == 24);
    REQUIRE(cpu.ram[53611] == 60);
}

TEST_CASE( "18 007A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58516;
    cpu.sp = 27516;
    cpu.reg.a = 35;
    cpu.reg.b = 236;
    cpu.reg.c = 168;
    cpu.reg.d = 245;
    cpu.reg.e = 49;
    cpu.reg.f = 96;
    cpu.reg.h = 194;
    cpu.reg.l = 117;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[58516] = 24;
    cpu.ram[58517] = 95;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 35);
    CHECK(cpu.reg.b == 236);
    CHECK(cpu.reg.c == 168);
    CHECK(cpu.reg.d == 245);
    CHECK(cpu.reg.e == 49);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 194);
    CHECK(cpu.reg.l == 117);
    CHECK(cpu.pc == 58613);
    CHECK(cpu.sp == 27516);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[58516] == 24);
    REQUIRE(cpu.ram[58517] == 95);
}

TEST_CASE( "18 007B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43732;
    cpu.sp = 9961;
    cpu.reg.a = 183;
    cpu.reg.b = 141;
    cpu.reg.c = 160;
    cpu.reg.d = 42;
    cpu.reg.e = 196;
    cpu.reg.f = 176;
    cpu.reg.h = 145;
    cpu.reg.l = 155;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[43732] = 24;
    cpu.ram[43733] = 29;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 183);
    CHECK(cpu.reg.b == 141);
    CHECK(cpu.reg.c == 160);
    CHECK(cpu.reg.d == 42);
    CHECK(cpu.reg.e == 196);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 145);
    CHECK(cpu.reg.l == 155);
    CHECK(cpu.pc == 43763);
    CHECK(cpu.sp == 9961);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43732] == 24);
    REQUIRE(cpu.ram[43733] == 29);
}

TEST_CASE( "18 007C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56459;
    cpu.sp = 63523;
    cpu.reg.a = 113;
    cpu.reg.b = 167;
    cpu.reg.c = 144;
    cpu.reg.d = 212;
    cpu.reg.e = 135;
    cpu.reg.f = 48;
    cpu.reg.h = 118;
    cpu.reg.l = 248;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[56459] = 24;
    cpu.ram[56460] = 155;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 113);
    CHECK(cpu.reg.b == 167);
    CHECK(cpu.reg.c == 144);
    CHECK(cpu.reg.d == 212);
    CHECK(cpu.reg.e == 135);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 118);
    CHECK(cpu.reg.l == 248);
    CHECK(cpu.pc == 56360);
    CHECK(cpu.sp == 63523);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56459] == 24);
    REQUIRE(cpu.ram[56460] == 155);
}

TEST_CASE( "18 007D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29845;
    cpu.sp = 3324;
    cpu.reg.a = 11;
    cpu.reg.b = 39;
    cpu.reg.c = 231;
    cpu.reg.d = 46;
    cpu.reg.e = 120;
    cpu.reg.f = 0;
    cpu.reg.h = 94;
    cpu.reg.l = 171;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[29845] = 24;
    cpu.ram[29846] = 113;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 11);
    CHECK(cpu.reg.b == 39);
    CHECK(cpu.reg.c == 231);
    CHECK(cpu.reg.d == 46);
    CHECK(cpu.reg.e == 120);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 94);
    CHECK(cpu.reg.l == 171);
    CHECK(cpu.pc == 29960);
    CHECK(cpu.sp == 3324);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[29845] == 24);
    REQUIRE(cpu.ram[29846] == 113);
}

TEST_CASE( "18 007E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61774;
    cpu.sp = 50022;
    cpu.reg.a = 137;
    cpu.reg.b = 7;
    cpu.reg.c = 211;
    cpu.reg.d = 211;
    cpu.reg.e = 29;
    cpu.reg.f = 224;
    cpu.reg.h = 212;
    cpu.reg.l = 159;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[61774] = 24;
    cpu.ram[61775] = 213;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 137);
    CHECK(cpu.reg.b == 7);
    CHECK(cpu.reg.c == 211);
    CHECK(cpu.reg.d == 211);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 212);
    CHECK(cpu.reg.l == 159);
    CHECK(cpu.pc == 61733);
    CHECK(cpu.sp == 50022);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61774] == 24);
    REQUIRE(cpu.ram[61775] == 213);
}

TEST_CASE( "18 007F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18243;
    cpu.sp = 8882;
    cpu.reg.a = 53;
    cpu.reg.b = 222;
    cpu.reg.c = 224;
    cpu.reg.d = 80;
    cpu.reg.e = 15;
    cpu.reg.f = 0;
    cpu.reg.h = 97;
    cpu.reg.l = 129;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[18243] = 24;
    cpu.ram[18244] = 189;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 53);
    CHECK(cpu.reg.b == 222);
    CHECK(cpu.reg.c == 224);
    CHECK(cpu.reg.d == 80);
    CHECK(cpu.reg.e == 15);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 97);
    CHECK(cpu.reg.l == 129);
    CHECK(cpu.pc == 18178);
    CHECK(cpu.sp == 8882);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[18243] == 24);
    REQUIRE(cpu.ram[18244] == 189);
}

TEST_CASE( "18 0080", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22572;
    cpu.sp = 45886;
    cpu.reg.a = 212;
    cpu.reg.b = 41;
    cpu.reg.c = 225;
    cpu.reg.d = 93;
    cpu.reg.e = 81;
    cpu.reg.f = 144;
    cpu.reg.h = 213;
    cpu.reg.l = 134;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[22572] = 24;
    cpu.ram[22573] = 192;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 212);
    CHECK(cpu.reg.b == 41);
    CHECK(cpu.reg.c == 225);
    CHECK(cpu.reg.d == 93);
    CHECK(cpu.reg.e == 81);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 213);
    CHECK(cpu.reg.l == 134);
    CHECK(cpu.pc == 22510);
    CHECK(cpu.sp == 45886);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22572] == 24);
    REQUIRE(cpu.ram[22573] == 192);
}

TEST_CASE( "18 0081", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15093;
    cpu.sp = 24221;
    cpu.reg.a = 145;
    cpu.reg.b = 83;
    cpu.reg.c = 229;
    cpu.reg.d = 125;
    cpu.reg.e = 187;
    cpu.reg.f = 16;
    cpu.reg.h = 229;
    cpu.reg.l = 229;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[15093] = 24;
    cpu.ram[15094] = 159;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 145);
    CHECK(cpu.reg.b == 83);
    CHECK(cpu.reg.c == 229);
    CHECK(cpu.reg.d == 125);
    CHECK(cpu.reg.e == 187);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 229);
    CHECK(cpu.reg.l == 229);
    CHECK(cpu.pc == 14998);
    CHECK(cpu.sp == 24221);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15093] == 24);
    REQUIRE(cpu.ram[15094] == 159);
}

TEST_CASE( "18 0082", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15190;
    cpu.sp = 22131;
    cpu.reg.a = 88;
    cpu.reg.b = 150;
    cpu.reg.c = 58;
    cpu.reg.d = 42;
    cpu.reg.e = 255;
    cpu.reg.f = 64;
    cpu.reg.h = 240;
    cpu.reg.l = 18;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[15190] = 24;
    cpu.ram[15191] = 128;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 88);
    CHECK(cpu.reg.b == 150);
    CHECK(cpu.reg.c == 58);
    CHECK(cpu.reg.d == 42);
    CHECK(cpu.reg.e == 255);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 240);
    CHECK(cpu.reg.l == 18);
    CHECK(cpu.pc == 15064);
    CHECK(cpu.sp == 22131);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15190] == 24);
    REQUIRE(cpu.ram[15191] == 128);
}

TEST_CASE( "18 0083", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24981;
    cpu.sp = 37443;
    cpu.reg.a = 122;
    cpu.reg.b = 237;
    cpu.reg.c = 84;
    cpu.reg.d = 0;
    cpu.reg.e = 106;
    cpu.reg.f = 96;
    cpu.reg.h = 161;
    cpu.reg.l = 233;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[24981] = 24;
    cpu.ram[24982] = 234;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 122);
    CHECK(cpu.reg.b == 237);
    CHECK(cpu.reg.c == 84);
    CHECK(cpu.reg.d == 0);
    CHECK(cpu.reg.e == 106);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 161);
    CHECK(cpu.reg.l == 233);
    CHECK(cpu.pc == 24961);
    CHECK(cpu.sp == 37443);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24981] == 24);
    REQUIRE(cpu.ram[24982] == 234);
}

TEST_CASE( "18 0084", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11557;
    cpu.sp = 28672;
    cpu.reg.a = 126;
    cpu.reg.b = 1;
    cpu.reg.c = 100;
    cpu.reg.d = 158;
    cpu.reg.e = 232;
    cpu.reg.f = 192;
    cpu.reg.h = 225;
    cpu.reg.l = 175;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[11557] = 24;
    cpu.ram[11558] = 122;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 126);
    CHECK(cpu.reg.b == 1);
    CHECK(cpu.reg.c == 100);
    CHECK(cpu.reg.d == 158);
    CHECK(cpu.reg.e == 232);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 225);
    CHECK(cpu.reg.l == 175);
    CHECK(cpu.pc == 11681);
    CHECK(cpu.sp == 28672);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11557] == 24);
    REQUIRE(cpu.ram[11558] == 122);
}

TEST_CASE( "18 0085", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25989;
    cpu.sp = 24249;
    cpu.reg.a = 244;
    cpu.reg.b = 149;
    cpu.reg.c = 108;
    cpu.reg.d = 227;
    cpu.reg.e = 69;
    cpu.reg.f = 32;
    cpu.reg.h = 172;
    cpu.reg.l = 133;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[25989] = 24;
    cpu.ram[25990] = 47;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 244);
    CHECK(cpu.reg.b == 149);
    CHECK(cpu.reg.c == 108);
    CHECK(cpu.reg.d == 227);
    CHECK(cpu.reg.e == 69);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 172);
    CHECK(cpu.reg.l == 133);
    CHECK(cpu.pc == 26038);
    CHECK(cpu.sp == 24249);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25989] == 24);
    REQUIRE(cpu.ram[25990] == 47);
}

TEST_CASE( "18 0086", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50988;
    cpu.sp = 51216;
    cpu.reg.a = 162;
    cpu.reg.b = 209;
    cpu.reg.c = 97;
    cpu.reg.d = 209;
    cpu.reg.e = 80;
    cpu.reg.f = 192;
    cpu.reg.h = 81;
    cpu.reg.l = 226;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[50988] = 24;
    cpu.ram[50989] = 34;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 162);
    CHECK(cpu.reg.b == 209);
    CHECK(cpu.reg.c == 97);
    CHECK(cpu.reg.d == 209);
    CHECK(cpu.reg.e == 80);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 81);
    CHECK(cpu.reg.l == 226);
    CHECK(cpu.pc == 51024);
    CHECK(cpu.sp == 51216);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[50988] == 24);
    REQUIRE(cpu.ram[50989] == 34);
}

TEST_CASE( "18 0087", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1366;
    cpu.sp = 56319;
    cpu.reg.a = 170;
    cpu.reg.b = 8;
    cpu.reg.c = 149;
    cpu.reg.d = 225;
    cpu.reg.e = 171;
    cpu.reg.f = 144;
    cpu.reg.h = 189;
    cpu.reg.l = 158;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[1366] = 24;
    cpu.ram[1367] = 122;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 170);
    CHECK(cpu.reg.b == 8);
    CHECK(cpu.reg.c == 149);
    CHECK(cpu.reg.d == 225);
    CHECK(cpu.reg.e == 171);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 189);
    CHECK(cpu.reg.l == 158);
    CHECK(cpu.pc == 1490);
    CHECK(cpu.sp == 56319);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1366] == 24);
    REQUIRE(cpu.ram[1367] == 122);
}

TEST_CASE( "18 0088", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44315;
    cpu.sp = 19700;
    cpu.reg.a = 73;
    cpu.reg.b = 15;
    cpu.reg.c = 149;
    cpu.reg.d = 124;
    cpu.reg.e = 113;
    cpu.reg.f = 224;
    cpu.reg.h = 57;
    cpu.reg.l = 22;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[44315] = 24;
    cpu.ram[44316] = 203;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 73);
    CHECK(cpu.reg.b == 15);
    CHECK(cpu.reg.c == 149);
    CHECK(cpu.reg.d == 124);
    CHECK(cpu.reg.e == 113);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 57);
    CHECK(cpu.reg.l == 22);
    CHECK(cpu.pc == 44264);
    CHECK(cpu.sp == 19700);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44315] == 24);
    REQUIRE(cpu.ram[44316] == 203);
}

TEST_CASE( "18 0089", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57137;
    cpu.sp = 4881;
    cpu.reg.a = 68;
    cpu.reg.b = 201;
    cpu.reg.c = 205;
    cpu.reg.d = 0;
    cpu.reg.e = 160;
    cpu.reg.f = 64;
    cpu.reg.h = 167;
    cpu.reg.l = 175;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[57137] = 24;
    cpu.ram[57138] = 28;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 68);
    CHECK(cpu.reg.b == 201);
    CHECK(cpu.reg.c == 205);
    CHECK(cpu.reg.d == 0);
    CHECK(cpu.reg.e == 160);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 167);
    CHECK(cpu.reg.l == 175);
    CHECK(cpu.pc == 57167);
    CHECK(cpu.sp == 4881);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[57137] == 24);
    REQUIRE(cpu.ram[57138] == 28);
}

TEST_CASE( "18 008A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59325;
    cpu.sp = 12327;
    cpu.reg.a = 31;
    cpu.reg.b = 209;
    cpu.reg.c = 37;
    cpu.reg.d = 137;
    cpu.reg.e = 233;
    cpu.reg.f = 64;
    cpu.reg.h = 251;
    cpu.reg.l = 73;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[59325] = 24;
    cpu.ram[59326] = 166;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 31);
    CHECK(cpu.reg.b == 209);
    CHECK(cpu.reg.c == 37);
    CHECK(cpu.reg.d == 137);
    CHECK(cpu.reg.e == 233);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 251);
    CHECK(cpu.reg.l == 73);
    CHECK(cpu.pc == 59237);
    CHECK(cpu.sp == 12327);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[59325] == 24);
    REQUIRE(cpu.ram[59326] == 166);
}

TEST_CASE( "18 008B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54766;
    cpu.sp = 49555;
    cpu.reg.a = 53;
    cpu.reg.b = 47;
    cpu.reg.c = 207;
    cpu.reg.d = 42;
    cpu.reg.e = 179;
    cpu.reg.f = 64;
    cpu.reg.h = 201;
    cpu.reg.l = 64;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[54766] = 24;
    cpu.ram[54767] = 149;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 53);
    CHECK(cpu.reg.b == 47);
    CHECK(cpu.reg.c == 207);
    CHECK(cpu.reg.d == 42);
    CHECK(cpu.reg.e == 179);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 201);
    CHECK(cpu.reg.l == 64);
    CHECK(cpu.pc == 54661);
    CHECK(cpu.sp == 49555);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[54766] == 24);
    REQUIRE(cpu.ram[54767] == 149);
}

TEST_CASE( "18 008C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2942;
    cpu.sp = 56905;
    cpu.reg.a = 143;
    cpu.reg.b = 85;
    cpu.reg.c = 41;
    cpu.reg.d = 150;
    cpu.reg.e = 119;
    cpu.reg.f = 144;
    cpu.reg.h = 61;
    cpu.reg.l = 54;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[2942] = 24;
    cpu.ram[2943] = 18;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 143);
    CHECK(cpu.reg.b == 85);
    CHECK(cpu.reg.c == 41);
    CHECK(cpu.reg.d == 150);
    CHECK(cpu.reg.e == 119);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 61);
    CHECK(cpu.reg.l == 54);
    CHECK(cpu.pc == 2962);
    CHECK(cpu.sp == 56905);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2942] == 24);
    REQUIRE(cpu.ram[2943] == 18);
}

TEST_CASE( "18 008D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63010;
    cpu.sp = 46587;
    cpu.reg.a = 62;
    cpu.reg.b = 138;
    cpu.reg.c = 142;
    cpu.reg.d = 158;
    cpu.reg.e = 101;
    cpu.reg.f = 224;
    cpu.reg.h = 173;
    cpu.reg.l = 41;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[63010] = 24;
    cpu.ram[63011] = 215;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 62);
    CHECK(cpu.reg.b == 138);
    CHECK(cpu.reg.c == 142);
    CHECK(cpu.reg.d == 158);
    CHECK(cpu.reg.e == 101);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 173);
    CHECK(cpu.reg.l == 41);
    CHECK(cpu.pc == 62971);
    CHECK(cpu.sp == 46587);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[63010] == 24);
    REQUIRE(cpu.ram[63011] == 215);
}

TEST_CASE( "18 008E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23867;
    cpu.sp = 63953;
    cpu.reg.a = 230;
    cpu.reg.b = 154;
    cpu.reg.c = 6;
    cpu.reg.d = 101;
    cpu.reg.e = 225;
    cpu.reg.f = 160;
    cpu.reg.h = 64;
    cpu.reg.l = 228;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[23867] = 24;
    cpu.ram[23868] = 45;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 230);
    CHECK(cpu.reg.b == 154);
    CHECK(cpu.reg.c == 6);
    CHECK(cpu.reg.d == 101);
    CHECK(cpu.reg.e == 225);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 64);
    CHECK(cpu.reg.l == 228);
    CHECK(cpu.pc == 23914);
    CHECK(cpu.sp == 63953);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23867] == 24);
    REQUIRE(cpu.ram[23868] == 45);
}

TEST_CASE( "18 008F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30070;
    cpu.sp = 19857;
    cpu.reg.a = 141;
    cpu.reg.b = 249;
    cpu.reg.c = 236;
    cpu.reg.d = 31;
    cpu.reg.e = 152;
    cpu.reg.f = 64;
    cpu.reg.h = 24;
    cpu.reg.l = 205;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[30070] = 24;
    cpu.ram[30071] = 181;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 141);
    CHECK(cpu.reg.b == 249);
    CHECK(cpu.reg.c == 236);
    CHECK(cpu.reg.d == 31);
    CHECK(cpu.reg.e == 152);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 24);
    CHECK(cpu.reg.l == 205);
    CHECK(cpu.pc == 29997);
    CHECK(cpu.sp == 19857);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30070] == 24);
    REQUIRE(cpu.ram[30071] == 181);
}

TEST_CASE( "18 0090", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14698;
    cpu.sp = 42551;
    cpu.reg.a = 4;
    cpu.reg.b = 74;
    cpu.reg.c = 150;
    cpu.reg.d = 16;
    cpu.reg.e = 86;
    cpu.reg.f = 240;
    cpu.reg.h = 176;
    cpu.reg.l = 71;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[14698] = 24;
    cpu.ram[14699] = 195;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 4);
    CHECK(cpu.reg.b == 74);
    CHECK(cpu.reg.c == 150);
    CHECK(cpu.reg.d == 16);
    CHECK(cpu.reg.e == 86);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 176);
    CHECK(cpu.reg.l == 71);
    CHECK(cpu.pc == 14639);
    CHECK(cpu.sp == 42551);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14698] == 24);
    REQUIRE(cpu.ram[14699] == 195);
}

TEST_CASE( "18 0091", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2903;
    cpu.sp = 37679;
    cpu.reg.a = 110;
    cpu.reg.b = 20;
    cpu.reg.c = 134;
    cpu.reg.d = 191;
    cpu.reg.e = 162;
    cpu.reg.f = 48;
    cpu.reg.h = 51;
    cpu.reg.l = 2;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[2903] = 24;
    cpu.ram[2904] = 186;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 110);
    CHECK(cpu.reg.b == 20);
    CHECK(cpu.reg.c == 134);
    CHECK(cpu.reg.d == 191);
    CHECK(cpu.reg.e == 162);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 51);
    CHECK(cpu.reg.l == 2);
    CHECK(cpu.pc == 2835);
    CHECK(cpu.sp == 37679);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2903] == 24);
    REQUIRE(cpu.ram[2904] == 186);
}

TEST_CASE( "18 0092", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30656;
    cpu.sp = 57047;
    cpu.reg.a = 81;
    cpu.reg.b = 8;
    cpu.reg.c = 109;
    cpu.reg.d = 94;
    cpu.reg.e = 55;
    cpu.reg.f = 112;
    cpu.reg.h = 221;
    cpu.reg.l = 5;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[30656] = 24;
    cpu.ram[30657] = 151;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 81);
    CHECK(cpu.reg.b == 8);
    CHECK(cpu.reg.c == 109);
    CHECK(cpu.reg.d == 94);
    CHECK(cpu.reg.e == 55);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 221);
    CHECK(cpu.reg.l == 5);
    CHECK(cpu.pc == 30553);
    CHECK(cpu.sp == 57047);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30656] == 24);
    REQUIRE(cpu.ram[30657] == 151);
}

TEST_CASE( "18 0093", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49331;
    cpu.sp = 59179;
    cpu.reg.a = 150;
    cpu.reg.b = 240;
    cpu.reg.c = 16;
    cpu.reg.d = 165;
    cpu.reg.e = 149;
    cpu.reg.f = 96;
    cpu.reg.h = 26;
    cpu.reg.l = 222;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[49331] = 24;
    cpu.ram[49332] = 248;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 150);
    CHECK(cpu.reg.b == 240);
    CHECK(cpu.reg.c == 16);
    CHECK(cpu.reg.d == 165);
    CHECK(cpu.reg.e == 149);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 26);
    CHECK(cpu.reg.l == 222);
    CHECK(cpu.pc == 49325);
    CHECK(cpu.sp == 59179);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49331] == 24);
    REQUIRE(cpu.ram[49332] == 248);
}

TEST_CASE( "18 0094", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61418;
    cpu.sp = 54187;
    cpu.reg.a = 133;
    cpu.reg.b = 233;
    cpu.reg.c = 64;
    cpu.reg.d = 191;
    cpu.reg.e = 137;
    cpu.reg.f = 16;
    cpu.reg.h = 247;
    cpu.reg.l = 100;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[61418] = 24;
    cpu.ram[61419] = 57;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 133);
    CHECK(cpu.reg.b == 233);
    CHECK(cpu.reg.c == 64);
    CHECK(cpu.reg.d == 191);
    CHECK(cpu.reg.e == 137);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 247);
    CHECK(cpu.reg.l == 100);
    CHECK(cpu.pc == 61477);
    CHECK(cpu.sp == 54187);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61418] == 24);
    REQUIRE(cpu.ram[61419] == 57);
}

TEST_CASE( "18 0095", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62654;
    cpu.sp = 26362;
    cpu.reg.a = 11;
    cpu.reg.b = 164;
    cpu.reg.c = 80;
    cpu.reg.d = 133;
    cpu.reg.e = 38;
    cpu.reg.f = 208;
    cpu.reg.h = 214;
    cpu.reg.l = 82;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[62654] = 24;
    cpu.ram[62655] = 214;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 11);
    CHECK(cpu.reg.b == 164);
    CHECK(cpu.reg.c == 80);
    CHECK(cpu.reg.d == 133);
    CHECK(cpu.reg.e == 38);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 214);
    CHECK(cpu.reg.l == 82);
    CHECK(cpu.pc == 62614);
    CHECK(cpu.sp == 26362);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62654] == 24);
    REQUIRE(cpu.ram[62655] == 214);
}

TEST_CASE( "18 0096", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7366;
    cpu.sp = 60672;
    cpu.reg.a = 221;
    cpu.reg.b = 133;
    cpu.reg.c = 80;
    cpu.reg.d = 7;
    cpu.reg.e = 197;
    cpu.reg.f = 192;
    cpu.reg.h = 104;
    cpu.reg.l = 59;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[7366] = 24;
    cpu.ram[7367] = 127;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 221);
    CHECK(cpu.reg.b == 133);
    CHECK(cpu.reg.c == 80);
    CHECK(cpu.reg.d == 7);
    CHECK(cpu.reg.e == 197);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 104);
    CHECK(cpu.reg.l == 59);
    CHECK(cpu.pc == 7495);
    CHECK(cpu.sp == 60672);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7366] == 24);
    REQUIRE(cpu.ram[7367] == 127);
}

TEST_CASE( "18 0097", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13806;
    cpu.sp = 16776;
    cpu.reg.a = 0;
    cpu.reg.b = 154;
    cpu.reg.c = 126;
    cpu.reg.d = 61;
    cpu.reg.e = 55;
    cpu.reg.f = 112;
    cpu.reg.h = 250;
    cpu.reg.l = 68;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[13806] = 24;
    cpu.ram[13807] = 229;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 0);
    CHECK(cpu.reg.b == 154);
    CHECK(cpu.reg.c == 126);
    CHECK(cpu.reg.d == 61);
    CHECK(cpu.reg.e == 55);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 250);
    CHECK(cpu.reg.l == 68);
    CHECK(cpu.pc == 13781);
    CHECK(cpu.sp == 16776);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13806] == 24);
    REQUIRE(cpu.ram[13807] == 229);
}

TEST_CASE( "18 0098", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12128;
    cpu.sp = 19387;
    cpu.reg.a = 82;
    cpu.reg.b = 94;
    cpu.reg.c = 91;
    cpu.reg.d = 250;
    cpu.reg.e = 254;
    cpu.reg.f = 0;
    cpu.reg.h = 155;
    cpu.reg.l = 219;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[12128] = 24;
    cpu.ram[12129] = 227;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 82);
    CHECK(cpu.reg.b == 94);
    CHECK(cpu.reg.c == 91);
    CHECK(cpu.reg.d == 250);
    CHECK(cpu.reg.e == 254);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 155);
    CHECK(cpu.reg.l == 219);
    CHECK(cpu.pc == 12101);
    CHECK(cpu.sp == 19387);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12128] == 24);
    REQUIRE(cpu.ram[12129] == 227);
}

TEST_CASE( "18 0099", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6973;
    cpu.sp = 15239;
    cpu.reg.a = 65;
    cpu.reg.b = 217;
    cpu.reg.c = 151;
    cpu.reg.d = 67;
    cpu.reg.e = 26;
    cpu.reg.f = 48;
    cpu.reg.h = 131;
    cpu.reg.l = 35;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[6973] = 24;
    cpu.ram[6974] = 188;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 65);
    CHECK(cpu.reg.b == 217);
    CHECK(cpu.reg.c == 151);
    CHECK(cpu.reg.d == 67);
    CHECK(cpu.reg.e == 26);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 131);
    CHECK(cpu.reg.l == 35);
    CHECK(cpu.pc == 6907);
    CHECK(cpu.sp == 15239);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6973] == 24);
    REQUIRE(cpu.ram[6974] == 188);
}

TEST_CASE( "18 009A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28191;
    cpu.sp = 61160;
    cpu.reg.a = 135;
    cpu.reg.b = 185;
    cpu.reg.c = 227;
    cpu.reg.d = 242;
    cpu.reg.e = 204;
    cpu.reg.f = 0;
    cpu.reg.h = 75;
    cpu.reg.l = 172;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[28191] = 24;
    cpu.ram[28192] = 250;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 135);
    CHECK(cpu.reg.b == 185);
    CHECK(cpu.reg.c == 227);
    CHECK(cpu.reg.d == 242);
    CHECK(cpu.reg.e == 204);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 75);
    CHECK(cpu.reg.l == 172);
    CHECK(cpu.pc == 28187);
    CHECK(cpu.sp == 61160);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28191] == 24);
    REQUIRE(cpu.ram[28192] == 250);
}

TEST_CASE( "18 009B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19118;
    cpu.sp = 53126;
    cpu.reg.a = 189;
    cpu.reg.b = 175;
    cpu.reg.c = 133;
    cpu.reg.d = 220;
    cpu.reg.e = 173;
    cpu.reg.f = 160;
    cpu.reg.h = 195;
    cpu.reg.l = 67;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[19118] = 24;
    cpu.ram[19119] = 49;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 189);
    CHECK(cpu.reg.b == 175);
    CHECK(cpu.reg.c == 133);
    CHECK(cpu.reg.d == 220);
    CHECK(cpu.reg.e == 173);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 195);
    CHECK(cpu.reg.l == 67);
    CHECK(cpu.pc == 19169);
    CHECK(cpu.sp == 53126);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19118] == 24);
    REQUIRE(cpu.ram[19119] == 49);
}

TEST_CASE( "18 009C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19116;
    cpu.sp = 47296;
    cpu.reg.a = 136;
    cpu.reg.b = 203;
    cpu.reg.c = 42;
    cpu.reg.d = 57;
    cpu.reg.e = 248;
    cpu.reg.f = 48;
    cpu.reg.h = 124;
    cpu.reg.l = 101;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[19116] = 24;
    cpu.ram[19117] = 244;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 136);
    CHECK(cpu.reg.b == 203);
    CHECK(cpu.reg.c == 42);
    CHECK(cpu.reg.d == 57);
    CHECK(cpu.reg.e == 248);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 124);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 19106);
    CHECK(cpu.sp == 47296);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19116] == 24);
    REQUIRE(cpu.ram[19117] == 244);
}

TEST_CASE( "18 009D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55060;
    cpu.sp = 523;
    cpu.reg.a = 158;
    cpu.reg.b = 26;
    cpu.reg.c = 115;
    cpu.reg.d = 96;
    cpu.reg.e = 198;
    cpu.reg.f = 80;
    cpu.reg.h = 116;
    cpu.reg.l = 242;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[55060] = 24;
    cpu.ram[55061] = 248;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 158);
    CHECK(cpu.reg.b == 26);
    CHECK(cpu.reg.c == 115);
    CHECK(cpu.reg.d == 96);
    CHECK(cpu.reg.e == 198);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 116);
    CHECK(cpu.reg.l == 242);
    CHECK(cpu.pc == 55054);
    CHECK(cpu.sp == 523);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[55060] == 24);
    REQUIRE(cpu.ram[55061] == 248);
}

TEST_CASE( "18 009E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41813;
    cpu.sp = 46828;
    cpu.reg.a = 19;
    cpu.reg.b = 45;
    cpu.reg.c = 127;
    cpu.reg.d = 111;
    cpu.reg.e = 9;
    cpu.reg.f = 224;
    cpu.reg.h = 193;
    cpu.reg.l = 177;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[41813] = 24;
    cpu.ram[41814] = 142;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 19);
    CHECK(cpu.reg.b == 45);
    CHECK(cpu.reg.c == 127);
    CHECK(cpu.reg.d == 111);
    CHECK(cpu.reg.e == 9);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 193);
    CHECK(cpu.reg.l == 177);
    CHECK(cpu.pc == 41701);
    CHECK(cpu.sp == 46828);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41813] == 24);
    REQUIRE(cpu.ram[41814] == 142);
}

TEST_CASE( "18 009F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62664;
    cpu.sp = 58540;
    cpu.reg.a = 138;
    cpu.reg.b = 16;
    cpu.reg.c = 9;
    cpu.reg.d = 220;
    cpu.reg.e = 238;
    cpu.reg.f = 144;
    cpu.reg.h = 226;
    cpu.reg.l = 104;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[62664] = 24;
    cpu.ram[62665] = 191;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 138);
    CHECK(cpu.reg.b == 16);
    CHECK(cpu.reg.c == 9);
    CHECK(cpu.reg.d == 220);
    CHECK(cpu.reg.e == 238);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 226);
    CHECK(cpu.reg.l == 104);
    CHECK(cpu.pc == 62601);
    CHECK(cpu.sp == 58540);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[62664] == 24);
    REQUIRE(cpu.ram[62665] == 191);
}

TEST_CASE( "18 00A0", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64148;
    cpu.sp = 29492;
    cpu.reg.a = 91;
    cpu.reg.b = 221;
    cpu.reg.c = 186;
    cpu.reg.d = 173;
    cpu.reg.e = 131;
    cpu.reg.f = 64;
    cpu.reg.h = 146;
    cpu.reg.l = 63;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[64148] = 24;
    cpu.ram[64149] = 159;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 91);
    CHECK(cpu.reg.b == 221);
    CHECK(cpu.reg.c == 186);
    CHECK(cpu.reg.d == 173);
    CHECK(cpu.reg.e == 131);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 146);
    CHECK(cpu.reg.l == 63);
    CHECK(cpu.pc == 64053);
    CHECK(cpu.sp == 29492);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[64148] == 24);
    REQUIRE(cpu.ram[64149] == 159);
}

TEST_CASE( "18 00A1", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54588;
    cpu.sp = 61797;
    cpu.reg.a = 147;
    cpu.reg.b = 63;
    cpu.reg.c = 228;
    cpu.reg.d = 149;
    cpu.reg.e = 146;
    cpu.reg.f = 208;
    cpu.reg.h = 125;
    cpu.reg.l = 88;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[54588] = 24;
    cpu.ram[54589] = 44;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 147);
    CHECK(cpu.reg.b == 63);
    CHECK(cpu.reg.c == 228);
    CHECK(cpu.reg.d == 149);
    CHECK(cpu.reg.e == 146);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 125);
    CHECK(cpu.reg.l == 88);
    CHECK(cpu.pc == 54634);
    CHECK(cpu.sp == 61797);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54588] == 24);
    REQUIRE(cpu.ram[54589] == 44);
}

TEST_CASE( "18 00A2", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49150;
    cpu.sp = 14982;
    cpu.reg.a = 171;
    cpu.reg.b = 46;
    cpu.reg.c = 116;
    cpu.reg.d = 72;
    cpu.reg.e = 81;
    cpu.reg.f = 240;
    cpu.reg.h = 158;
    cpu.reg.l = 35;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[49150] = 24;
    cpu.ram[49151] = 65;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 171);
    CHECK(cpu.reg.b == 46);
    CHECK(cpu.reg.c == 116);
    CHECK(cpu.reg.d == 72);
    CHECK(cpu.reg.e == 81);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 158);
    CHECK(cpu.reg.l == 35);
    CHECK(cpu.pc == 49217);
    CHECK(cpu.sp == 14982);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49150] == 24);
    REQUIRE(cpu.ram[49151] == 65);
}

TEST_CASE( "18 00A3", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17648;
    cpu.sp = 8278;
    cpu.reg.a = 214;
    cpu.reg.b = 116;
    cpu.reg.c = 38;
    cpu.reg.d = 54;
    cpu.reg.e = 77;
    cpu.reg.f = 160;
    cpu.reg.h = 67;
    cpu.reg.l = 238;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[17648] = 24;
    cpu.ram[17649] = 87;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 214);
    CHECK(cpu.reg.b == 116);
    CHECK(cpu.reg.c == 38);
    CHECK(cpu.reg.d == 54);
    CHECK(cpu.reg.e == 77);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 67);
    CHECK(cpu.reg.l == 238);
    CHECK(cpu.pc == 17737);
    CHECK(cpu.sp == 8278);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17648] == 24);
    REQUIRE(cpu.ram[17649] == 87);
}

TEST_CASE( "18 00A4", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18006;
    cpu.sp = 21597;
    cpu.reg.a = 53;
    cpu.reg.b = 176;
    cpu.reg.c = 32;
    cpu.reg.d = 99;
    cpu.reg.e = 37;
    cpu.reg.f = 208;
    cpu.reg.h = 21;
    cpu.reg.l = 133;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[18006] = 24;
    cpu.ram[18007] = 115;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 53);
    CHECK(cpu.reg.b == 176);
    CHECK(cpu.reg.c == 32);
    CHECK(cpu.reg.d == 99);
    CHECK(cpu.reg.e == 37);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 21);
    CHECK(cpu.reg.l == 133);
    CHECK(cpu.pc == 18123);
    CHECK(cpu.sp == 21597);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18006] == 24);
    REQUIRE(cpu.ram[18007] == 115);
}

TEST_CASE( "18 00A5", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 762;
    cpu.sp = 46427;
    cpu.reg.a = 2;
    cpu.reg.b = 129;
    cpu.reg.c = 29;
    cpu.reg.d = 164;
    cpu.reg.e = 138;
    cpu.reg.f = 32;
    cpu.reg.h = 220;
    cpu.reg.l = 74;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[762] = 24;
    cpu.ram[763] = 229;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 2);
    CHECK(cpu.reg.b == 129);
    CHECK(cpu.reg.c == 29);
    CHECK(cpu.reg.d == 164);
    CHECK(cpu.reg.e == 138);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 220);
    CHECK(cpu.reg.l == 74);
    CHECK(cpu.pc == 737);
    CHECK(cpu.sp == 46427);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[762] == 24);
    REQUIRE(cpu.ram[763] == 229);
}

TEST_CASE( "18 00A6", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30958;
    cpu.sp = 56893;
    cpu.reg.a = 216;
    cpu.reg.b = 106;
    cpu.reg.c = 114;
    cpu.reg.d = 153;
    cpu.reg.e = 7;
    cpu.reg.f = 112;
    cpu.reg.h = 31;
    cpu.reg.l = 85;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[30958] = 24;
    cpu.ram[30959] = 76;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 106);
    CHECK(cpu.reg.c == 114);
    CHECK(cpu.reg.d == 153);
    CHECK(cpu.reg.e == 7);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 31);
    CHECK(cpu.reg.l == 85);
    CHECK(cpu.pc == 31036);
    CHECK(cpu.sp == 56893);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30958] == 24);
    REQUIRE(cpu.ram[30959] == 76);
}

TEST_CASE( "18 00A7", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54964;
    cpu.sp = 5625;
    cpu.reg.a = 208;
    cpu.reg.b = 104;
    cpu.reg.c = 136;
    cpu.reg.d = 120;
    cpu.reg.e = 86;
    cpu.reg.f = 80;
    cpu.reg.h = 103;
    cpu.reg.l = 167;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[54964] = 24;
    cpu.ram[54965] = 196;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 208);
    CHECK(cpu.reg.b == 104);
    CHECK(cpu.reg.c == 136);
    CHECK(cpu.reg.d == 120);
    CHECK(cpu.reg.e == 86);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 103);
    CHECK(cpu.reg.l == 167);
    CHECK(cpu.pc == 54906);
    CHECK(cpu.sp == 5625);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54964] == 24);
    REQUIRE(cpu.ram[54965] == 196);
}

TEST_CASE( "18 00A8", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16432;
    cpu.sp = 60875;
    cpu.reg.a = 110;
    cpu.reg.b = 62;
    cpu.reg.c = 238;
    cpu.reg.d = 149;
    cpu.reg.e = 90;
    cpu.reg.f = 112;
    cpu.reg.h = 241;
    cpu.reg.l = 236;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[16432] = 24;
    cpu.ram[16433] = 140;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 110);
    CHECK(cpu.reg.b == 62);
    CHECK(cpu.reg.c == 238);
    CHECK(cpu.reg.d == 149);
    CHECK(cpu.reg.e == 90);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 236);
    CHECK(cpu.pc == 16318);
    CHECK(cpu.sp == 60875);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16432] == 24);
    REQUIRE(cpu.ram[16433] == 140);
}

TEST_CASE( "18 00A9", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11583;
    cpu.sp = 2524;
    cpu.reg.a = 213;
    cpu.reg.b = 142;
    cpu.reg.c = 171;
    cpu.reg.d = 56;
    cpu.reg.e = 33;
    cpu.reg.f = 48;
    cpu.reg.h = 147;
    cpu.reg.l = 64;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[11583] = 24;
    cpu.ram[11584] = 233;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 213);
    CHECK(cpu.reg.b == 142);
    CHECK(cpu.reg.c == 171);
    CHECK(cpu.reg.d == 56);
    CHECK(cpu.reg.e == 33);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 147);
    CHECK(cpu.reg.l == 64);
    CHECK(cpu.pc == 11562);
    CHECK(cpu.sp == 2524);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11583] == 24);
    REQUIRE(cpu.ram[11584] == 233);
}

TEST_CASE( "18 00AA", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46491;
    cpu.sp = 23252;
    cpu.reg.a = 88;
    cpu.reg.b = 168;
    cpu.reg.c = 84;
    cpu.reg.d = 155;
    cpu.reg.e = 51;
    cpu.reg.f = 16;
    cpu.reg.h = 21;
    cpu.reg.l = 78;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[46491] = 24;
    cpu.ram[46492] = 40;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 88);
    CHECK(cpu.reg.b == 168);
    CHECK(cpu.reg.c == 84);
    CHECK(cpu.reg.d == 155);
    CHECK(cpu.reg.e == 51);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 21);
    CHECK(cpu.reg.l == 78);
    CHECK(cpu.pc == 46533);
    CHECK(cpu.sp == 23252);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46491] == 24);
    REQUIRE(cpu.ram[46492] == 40);
}

TEST_CASE( "18 00AB", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8499;
    cpu.sp = 48910;
    cpu.reg.a = 6;
    cpu.reg.b = 103;
    cpu.reg.c = 81;
    cpu.reg.d = 177;
    cpu.reg.e = 125;
    cpu.reg.f = 16;
    cpu.reg.h = 218;
    cpu.reg.l = 163;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[8499] = 24;
    cpu.ram[8500] = 173;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 6);
    CHECK(cpu.reg.b == 103);
    CHECK(cpu.reg.c == 81);
    CHECK(cpu.reg.d == 177);
    CHECK(cpu.reg.e == 125);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 218);
    CHECK(cpu.reg.l == 163);
    CHECK(cpu.pc == 8418);
    CHECK(cpu.sp == 48910);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8499] == 24);
    REQUIRE(cpu.ram[8500] == 173);
}

TEST_CASE( "18 00AC", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15351;
    cpu.sp = 1325;
    cpu.reg.a = 0;
    cpu.reg.b = 55;
    cpu.reg.c = 250;
    cpu.reg.d = 187;
    cpu.reg.e = 63;
    cpu.reg.f = 112;
    cpu.reg.h = 100;
    cpu.reg.l = 73;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[15351] = 24;
    cpu.ram[15352] = 208;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 0);
    CHECK(cpu.reg.b == 55);
    CHECK(cpu.reg.c == 250);
    CHECK(cpu.reg.d == 187);
    CHECK(cpu.reg.e == 63);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 100);
    CHECK(cpu.reg.l == 73);
    CHECK(cpu.pc == 15305);
    CHECK(cpu.sp == 1325);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15351] == 24);
    REQUIRE(cpu.ram[15352] == 208);
}

TEST_CASE( "18 00AD", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56566;
    cpu.sp = 48673;
    cpu.reg.a = 61;
    cpu.reg.b = 16;
    cpu.reg.c = 67;
    cpu.reg.d = 102;
    cpu.reg.e = 60;
    cpu.reg.f = 64;
    cpu.reg.h = 127;
    cpu.reg.l = 36;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[56566] = 24;
    cpu.ram[56567] = 104;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 61);
    CHECK(cpu.reg.b == 16);
    CHECK(cpu.reg.c == 67);
    CHECK(cpu.reg.d == 102);
    CHECK(cpu.reg.e == 60);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 127);
    CHECK(cpu.reg.l == 36);
    CHECK(cpu.pc == 56672);
    CHECK(cpu.sp == 48673);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56566] == 24);
    REQUIRE(cpu.ram[56567] == 104);
}

TEST_CASE( "18 00AE", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19737;
    cpu.sp = 1465;
    cpu.reg.a = 21;
    cpu.reg.b = 242;
    cpu.reg.c = 77;
    cpu.reg.d = 198;
    cpu.reg.e = 122;
    cpu.reg.f = 128;
    cpu.reg.h = 17;
    cpu.reg.l = 56;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[19737] = 24;
    cpu.ram[19738] = 217;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 21);
    CHECK(cpu.reg.b == 242);
    CHECK(cpu.reg.c == 77);
    CHECK(cpu.reg.d == 198);
    CHECK(cpu.reg.e == 122);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 56);
    CHECK(cpu.pc == 19700);
    CHECK(cpu.sp == 1465);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19737] == 24);
    REQUIRE(cpu.ram[19738] == 217);
}

TEST_CASE( "18 00AF", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10888;
    cpu.sp = 15702;
    cpu.reg.a = 13;
    cpu.reg.b = 67;
    cpu.reg.c = 215;
    cpu.reg.d = 67;
    cpu.reg.e = 23;
    cpu.reg.f = 160;
    cpu.reg.h = 224;
    cpu.reg.l = 232;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[10888] = 24;
    cpu.ram[10889] = 89;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 13);
    CHECK(cpu.reg.b == 67);
    CHECK(cpu.reg.c == 215);
    CHECK(cpu.reg.d == 67);
    CHECK(cpu.reg.e == 23);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 224);
    CHECK(cpu.reg.l == 232);
    CHECK(cpu.pc == 10979);
    CHECK(cpu.sp == 15702);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10888] == 24);
    REQUIRE(cpu.ram[10889] == 89);
}

TEST_CASE( "18 00B0", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20632;
    cpu.sp = 46814;
    cpu.reg.a = 124;
    cpu.reg.b = 47;
    cpu.reg.c = 4;
    cpu.reg.d = 208;
    cpu.reg.e = 197;
    cpu.reg.f = 192;
    cpu.reg.h = 54;
    cpu.reg.l = 206;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[20632] = 24;
    cpu.ram[20633] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 124);
    CHECK(cpu.reg.b == 47);
    CHECK(cpu.reg.c == 4);
    CHECK(cpu.reg.d == 208);
    CHECK(cpu.reg.e == 197);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 54);
    CHECK(cpu.reg.l == 206);
    CHECK(cpu.pc == 20634);
    CHECK(cpu.sp == 46814);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20632] == 24);
    REQUIRE(cpu.ram[20633] == 0);
}

TEST_CASE( "18 00B1", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32208;
    cpu.sp = 1458;
    cpu.reg.a = 133;
    cpu.reg.b = 8;
    cpu.reg.c = 241;
    cpu.reg.d = 124;
    cpu.reg.e = 56;
    cpu.reg.f = 240;
    cpu.reg.h = 151;
    cpu.reg.l = 132;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[32208] = 24;
    cpu.ram[32209] = 247;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 133);
    CHECK(cpu.reg.b == 8);
    CHECK(cpu.reg.c == 241);
    CHECK(cpu.reg.d == 124);
    CHECK(cpu.reg.e == 56);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 151);
    CHECK(cpu.reg.l == 132);
    CHECK(cpu.pc == 32201);
    CHECK(cpu.sp == 1458);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32208] == 24);
    REQUIRE(cpu.ram[32209] == 247);
}

TEST_CASE( "18 00B2", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5633;
    cpu.sp = 62043;
    cpu.reg.a = 254;
    cpu.reg.b = 41;
    cpu.reg.c = 246;
    cpu.reg.d = 121;
    cpu.reg.e = 19;
    cpu.reg.f = 64;
    cpu.reg.h = 3;
    cpu.reg.l = 93;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5633] = 24;
    cpu.ram[5634] = 73;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 41);
    CHECK(cpu.reg.c == 246);
    CHECK(cpu.reg.d == 121);
    CHECK(cpu.reg.e == 19);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 3);
    CHECK(cpu.reg.l == 93);
    CHECK(cpu.pc == 5708);
    CHECK(cpu.sp == 62043);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5633] == 24);
    REQUIRE(cpu.ram[5634] == 73);
}

TEST_CASE( "18 00B3", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37062;
    cpu.sp = 15799;
    cpu.reg.a = 75;
    cpu.reg.b = 200;
    cpu.reg.c = 28;
    cpu.reg.d = 86;
    cpu.reg.e = 164;
    cpu.reg.f = 176;
    cpu.reg.h = 233;
    cpu.reg.l = 247;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[37062] = 24;
    cpu.ram[37063] = 175;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 75);
    CHECK(cpu.reg.b == 200);
    CHECK(cpu.reg.c == 28);
    CHECK(cpu.reg.d == 86);
    CHECK(cpu.reg.e == 164);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 233);
    CHECK(cpu.reg.l == 247);
    CHECK(cpu.pc == 36983);
    CHECK(cpu.sp == 15799);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[37062] == 24);
    REQUIRE(cpu.ram[37063] == 175);
}

TEST_CASE( "18 00B4", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1534;
    cpu.sp = 30465;
    cpu.reg.a = 113;
    cpu.reg.b = 43;
    cpu.reg.c = 178;
    cpu.reg.d = 166;
    cpu.reg.e = 186;
    cpu.reg.f = 192;
    cpu.reg.h = 57;
    cpu.reg.l = 188;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[1534] = 24;
    cpu.ram[1535] = 252;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 113);
    CHECK(cpu.reg.b == 43);
    CHECK(cpu.reg.c == 178);
    CHECK(cpu.reg.d == 166);
    CHECK(cpu.reg.e == 186);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 57);
    CHECK(cpu.reg.l == 188);
    CHECK(cpu.pc == 1532);
    CHECK(cpu.sp == 30465);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1534] == 24);
    REQUIRE(cpu.ram[1535] == 252);
}

TEST_CASE( "18 00B5", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50945;
    cpu.sp = 187;
    cpu.reg.a = 174;
    cpu.reg.b = 101;
    cpu.reg.c = 155;
    cpu.reg.d = 175;
    cpu.reg.e = 132;
    cpu.reg.f = 0;
    cpu.reg.h = 83;
    cpu.reg.l = 129;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[50945] = 24;
    cpu.ram[50946] = 142;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 174);
    CHECK(cpu.reg.b == 101);
    CHECK(cpu.reg.c == 155);
    CHECK(cpu.reg.d == 175);
    CHECK(cpu.reg.e == 132);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 83);
    CHECK(cpu.reg.l == 129);
    CHECK(cpu.pc == 50833);
    CHECK(cpu.sp == 187);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50945] == 24);
    REQUIRE(cpu.ram[50946] == 142);
}

TEST_CASE( "18 00B6", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22805;
    cpu.sp = 11632;
    cpu.reg.a = 226;
    cpu.reg.b = 104;
    cpu.reg.c = 236;
    cpu.reg.d = 120;
    cpu.reg.e = 195;
    cpu.reg.f = 80;
    cpu.reg.h = 236;
    cpu.reg.l = 214;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[22805] = 24;
    cpu.ram[22806] = 63;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 226);
    CHECK(cpu.reg.b == 104);
    CHECK(cpu.reg.c == 236);
    CHECK(cpu.reg.d == 120);
    CHECK(cpu.reg.e == 195);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 236);
    CHECK(cpu.reg.l == 214);
    CHECK(cpu.pc == 22870);
    CHECK(cpu.sp == 11632);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22805] == 24);
    REQUIRE(cpu.ram[22806] == 63);
}

TEST_CASE( "18 00B7", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52905;
    cpu.sp = 3280;
    cpu.reg.a = 1;
    cpu.reg.b = 174;
    cpu.reg.c = 38;
    cpu.reg.d = 252;
    cpu.reg.e = 232;
    cpu.reg.f = 192;
    cpu.reg.h = 194;
    cpu.reg.l = 144;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[52905] = 24;
    cpu.ram[52906] = 58;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 1);
    CHECK(cpu.reg.b == 174);
    CHECK(cpu.reg.c == 38);
    CHECK(cpu.reg.d == 252);
    CHECK(cpu.reg.e == 232);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 194);
    CHECK(cpu.reg.l == 144);
    CHECK(cpu.pc == 52965);
    CHECK(cpu.sp == 3280);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[52905] == 24);
    REQUIRE(cpu.ram[52906] == 58);
}

TEST_CASE( "18 00B8", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56030;
    cpu.sp = 18626;
    cpu.reg.a = 224;
    cpu.reg.b = 175;
    cpu.reg.c = 193;
    cpu.reg.d = 253;
    cpu.reg.e = 71;
    cpu.reg.f = 240;
    cpu.reg.h = 47;
    cpu.reg.l = 209;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[56030] = 24;
    cpu.ram[56031] = 80;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 175);
    CHECK(cpu.reg.c == 193);
    CHECK(cpu.reg.d == 253);
    CHECK(cpu.reg.e == 71);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 47);
    CHECK(cpu.reg.l == 209);
    CHECK(cpu.pc == 56112);
    CHECK(cpu.sp == 18626);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56030] == 24);
    REQUIRE(cpu.ram[56031] == 80);
}

TEST_CASE( "18 00B9", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5245;
    cpu.sp = 52451;
    cpu.reg.a = 155;
    cpu.reg.b = 133;
    cpu.reg.c = 201;
    cpu.reg.d = 187;
    cpu.reg.e = 174;
    cpu.reg.f = 0;
    cpu.reg.h = 72;
    cpu.reg.l = 180;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[5245] = 24;
    cpu.ram[5246] = 67;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 155);
    CHECK(cpu.reg.b == 133);
    CHECK(cpu.reg.c == 201);
    CHECK(cpu.reg.d == 187);
    CHECK(cpu.reg.e == 174);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 72);
    CHECK(cpu.reg.l == 180);
    CHECK(cpu.pc == 5314);
    CHECK(cpu.sp == 52451);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5245] == 24);
    REQUIRE(cpu.ram[5246] == 67);
}

TEST_CASE( "18 00BA", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15023;
    cpu.sp = 3274;
    cpu.reg.a = 48;
    cpu.reg.b = 6;
    cpu.reg.c = 21;
    cpu.reg.d = 118;
    cpu.reg.e = 25;
    cpu.reg.f = 208;
    cpu.reg.h = 203;
    cpu.reg.l = 241;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[15023] = 24;
    cpu.ram[15024] = 91;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 48);
    CHECK(cpu.reg.b == 6);
    CHECK(cpu.reg.c == 21);
    CHECK(cpu.reg.d == 118);
    CHECK(cpu.reg.e == 25);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 203);
    CHECK(cpu.reg.l == 241);
    CHECK(cpu.pc == 15116);
    CHECK(cpu.sp == 3274);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15023] == 24);
    REQUIRE(cpu.ram[15024] == 91);
}

TEST_CASE( "18 00BB", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11093;
    cpu.sp = 15732;
    cpu.reg.a = 127;
    cpu.reg.b = 213;
    cpu.reg.c = 197;
    cpu.reg.d = 30;
    cpu.reg.e = 149;
    cpu.reg.f = 112;
    cpu.reg.h = 206;
    cpu.reg.l = 54;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[11093] = 24;
    cpu.ram[11094] = 224;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 127);
    CHECK(cpu.reg.b == 213);
    CHECK(cpu.reg.c == 197);
    CHECK(cpu.reg.d == 30);
    CHECK(cpu.reg.e == 149);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 206);
    CHECK(cpu.reg.l == 54);
    CHECK(cpu.pc == 11063);
    CHECK(cpu.sp == 15732);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11093] == 24);
    REQUIRE(cpu.ram[11094] == 224);
}

TEST_CASE( "18 00BC", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36950;
    cpu.sp = 50381;
    cpu.reg.a = 7;
    cpu.reg.b = 241;
    cpu.reg.c = 43;
    cpu.reg.d = 95;
    cpu.reg.e = 51;
    cpu.reg.f = 32;
    cpu.reg.h = 145;
    cpu.reg.l = 82;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[36950] = 24;
    cpu.ram[36951] = 121;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 7);
    CHECK(cpu.reg.b == 241);
    CHECK(cpu.reg.c == 43);
    CHECK(cpu.reg.d == 95);
    CHECK(cpu.reg.e == 51);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 145);
    CHECK(cpu.reg.l == 82);
    CHECK(cpu.pc == 37073);
    CHECK(cpu.sp == 50381);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[36950] == 24);
    REQUIRE(cpu.ram[36951] == 121);
}

TEST_CASE( "18 00BD", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3148;
    cpu.sp = 31405;
    cpu.reg.a = 38;
    cpu.reg.b = 149;
    cpu.reg.c = 49;
    cpu.reg.d = 57;
    cpu.reg.e = 138;
    cpu.reg.f = 240;
    cpu.reg.h = 242;
    cpu.reg.l = 62;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[3148] = 24;
    cpu.ram[3149] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 38);
    CHECK(cpu.reg.b == 149);
    CHECK(cpu.reg.c == 49);
    CHECK(cpu.reg.d == 57);
    CHECK(cpu.reg.e == 138);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 62);
    CHECK(cpu.pc == 3152);
    CHECK(cpu.sp == 31405);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3148] == 24);
    REQUIRE(cpu.ram[3149] == 2);
}

TEST_CASE( "18 00BE", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6215;
    cpu.sp = 7159;
    cpu.reg.a = 77;
    cpu.reg.b = 24;
    cpu.reg.c = 69;
    cpu.reg.d = 98;
    cpu.reg.e = 98;
    cpu.reg.f = 224;
    cpu.reg.h = 155;
    cpu.reg.l = 171;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[6215] = 24;
    cpu.ram[6216] = 135;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 77);
    CHECK(cpu.reg.b == 24);
    CHECK(cpu.reg.c == 69);
    CHECK(cpu.reg.d == 98);
    CHECK(cpu.reg.e == 98);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 155);
    CHECK(cpu.reg.l == 171);
    CHECK(cpu.pc == 6096);
    CHECK(cpu.sp == 7159);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6215] == 24);
    REQUIRE(cpu.ram[6216] == 135);
}

TEST_CASE( "18 00BF", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49099;
    cpu.sp = 33994;
    cpu.reg.a = 1;
    cpu.reg.b = 176;
    cpu.reg.c = 196;
    cpu.reg.d = 123;
    cpu.reg.e = 159;
    cpu.reg.f = 48;
    cpu.reg.h = 23;
    cpu.reg.l = 119;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[49099] = 24;
    cpu.ram[49100] = 71;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 1);
    CHECK(cpu.reg.b == 176);
    CHECK(cpu.reg.c == 196);
    CHECK(cpu.reg.d == 123);
    CHECK(cpu.reg.e == 159);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 23);
    CHECK(cpu.reg.l == 119);
    CHECK(cpu.pc == 49172);
    CHECK(cpu.sp == 33994);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49099] == 24);
    REQUIRE(cpu.ram[49100] == 71);
}

TEST_CASE( "18 00C0", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28139;
    cpu.sp = 1224;
    cpu.reg.a = 86;
    cpu.reg.b = 145;
    cpu.reg.c = 154;
    cpu.reg.d = 196;
    cpu.reg.e = 103;
    cpu.reg.f = 64;
    cpu.reg.h = 126;
    cpu.reg.l = 19;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[28139] = 24;
    cpu.ram[28140] = 48;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 86);
    CHECK(cpu.reg.b == 145);
    CHECK(cpu.reg.c == 154);
    CHECK(cpu.reg.d == 196);
    CHECK(cpu.reg.e == 103);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 126);
    CHECK(cpu.reg.l == 19);
    CHECK(cpu.pc == 28189);
    CHECK(cpu.sp == 1224);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[28139] == 24);
    REQUIRE(cpu.ram[28140] == 48);
}

TEST_CASE( "18 00C1", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47499;
    cpu.sp = 62772;
    cpu.reg.a = 183;
    cpu.reg.b = 177;
    cpu.reg.c = 99;
    cpu.reg.d = 71;
    cpu.reg.e = 35;
    cpu.reg.f = 144;
    cpu.reg.h = 210;
    cpu.reg.l = 32;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[47499] = 24;
    cpu.ram[47500] = 19;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 183);
    CHECK(cpu.reg.b == 177);
    CHECK(cpu.reg.c == 99);
    CHECK(cpu.reg.d == 71);
    CHECK(cpu.reg.e == 35);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 210);
    CHECK(cpu.reg.l == 32);
    CHECK(cpu.pc == 47520);
    CHECK(cpu.sp == 62772);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[47499] == 24);
    REQUIRE(cpu.ram[47500] == 19);
}

TEST_CASE( "18 00C2", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4690;
    cpu.sp = 32151;
    cpu.reg.a = 243;
    cpu.reg.b = 24;
    cpu.reg.c = 102;
    cpu.reg.d = 97;
    cpu.reg.e = 14;
    cpu.reg.f = 128;
    cpu.reg.h = 226;
    cpu.reg.l = 68;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4690] = 24;
    cpu.ram[4691] = 144;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 243);
    CHECK(cpu.reg.b == 24);
    CHECK(cpu.reg.c == 102);
    CHECK(cpu.reg.d == 97);
    CHECK(cpu.reg.e == 14);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 226);
    CHECK(cpu.reg.l == 68);
    CHECK(cpu.pc == 4580);
    CHECK(cpu.sp == 32151);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4690] == 24);
    REQUIRE(cpu.ram[4691] == 144);
}

TEST_CASE( "18 00C3", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60968;
    cpu.sp = 58722;
    cpu.reg.a = 49;
    cpu.reg.b = 79;
    cpu.reg.c = 208;
    cpu.reg.d = 130;
    cpu.reg.e = 174;
    cpu.reg.f = 208;
    cpu.reg.h = 116;
    cpu.reg.l = 92;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[60968] = 24;
    cpu.ram[60969] = 182;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 49);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 208);
    CHECK(cpu.reg.d == 130);
    CHECK(cpu.reg.e == 174);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 116);
    CHECK(cpu.reg.l == 92);
    CHECK(cpu.pc == 60896);
    CHECK(cpu.sp == 58722);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60968] == 24);
    REQUIRE(cpu.ram[60969] == 182);
}

TEST_CASE( "18 00C4", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59921;
    cpu.sp = 1781;
    cpu.reg.a = 110;
    cpu.reg.b = 36;
    cpu.reg.c = 98;
    cpu.reg.d = 199;
    cpu.reg.e = 75;
    cpu.reg.f = 80;
    cpu.reg.h = 176;
    cpu.reg.l = 230;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[59921] = 24;
    cpu.ram[59922] = 212;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 110);
    CHECK(cpu.reg.b == 36);
    CHECK(cpu.reg.c == 98);
    CHECK(cpu.reg.d == 199);
    CHECK(cpu.reg.e == 75);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 176);
    CHECK(cpu.reg.l == 230);
    CHECK(cpu.pc == 59879);
    CHECK(cpu.sp == 1781);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[59921] == 24);
    REQUIRE(cpu.ram[59922] == 212);
}

TEST_CASE( "18 00C5", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5230;
    cpu.sp = 11312;
    cpu.reg.a = 126;
    cpu.reg.b = 177;
    cpu.reg.c = 62;
    cpu.reg.d = 145;
    cpu.reg.e = 163;
    cpu.reg.f = 128;
    cpu.reg.h = 101;
    cpu.reg.l = 177;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5230] = 24;
    cpu.ram[5231] = 195;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 126);
    CHECK(cpu.reg.b == 177);
    CHECK(cpu.reg.c == 62);
    CHECK(cpu.reg.d == 145);
    CHECK(cpu.reg.e == 163);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 101);
    CHECK(cpu.reg.l == 177);
    CHECK(cpu.pc == 5171);
    CHECK(cpu.sp == 11312);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5230] == 24);
    REQUIRE(cpu.ram[5231] == 195);
}

TEST_CASE( "18 00C6", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39862;
    cpu.sp = 55337;
    cpu.reg.a = 191;
    cpu.reg.b = 70;
    cpu.reg.c = 205;
    cpu.reg.d = 210;
    cpu.reg.e = 187;
    cpu.reg.f = 48;
    cpu.reg.h = 153;
    cpu.reg.l = 223;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[39862] = 24;
    cpu.ram[39863] = 254;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 191);
    CHECK(cpu.reg.b == 70);
    CHECK(cpu.reg.c == 205);
    CHECK(cpu.reg.d == 210);
    CHECK(cpu.reg.e == 187);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 153);
    CHECK(cpu.reg.l == 223);
    CHECK(cpu.pc == 39862);
    CHECK(cpu.sp == 55337);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39862] == 24);
    REQUIRE(cpu.ram[39863] == 254);
}

TEST_CASE( "18 00C7", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39483;
    cpu.sp = 30329;
    cpu.reg.a = 210;
    cpu.reg.b = 164;
    cpu.reg.c = 109;
    cpu.reg.d = 248;
    cpu.reg.e = 168;
    cpu.reg.f = 32;
    cpu.reg.h = 52;
    cpu.reg.l = 168;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[39483] = 24;
    cpu.ram[39484] = 143;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 210);
    CHECK(cpu.reg.b == 164);
    CHECK(cpu.reg.c == 109);
    CHECK(cpu.reg.d == 248);
    CHECK(cpu.reg.e == 168);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 52);
    CHECK(cpu.reg.l == 168);
    CHECK(cpu.pc == 39372);
    CHECK(cpu.sp == 30329);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39483] == 24);
    REQUIRE(cpu.ram[39484] == 143);
}

TEST_CASE( "18 00C8", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 946;
    cpu.sp = 38178;
    cpu.reg.a = 64;
    cpu.reg.b = 190;
    cpu.reg.c = 20;
    cpu.reg.d = 228;
    cpu.reg.e = 13;
    cpu.reg.f = 224;
    cpu.reg.h = 24;
    cpu.reg.l = 227;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[946] = 24;
    cpu.ram[947] = 174;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 190);
    CHECK(cpu.reg.c == 20);
    CHECK(cpu.reg.d == 228);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 24);
    CHECK(cpu.reg.l == 227);
    CHECK(cpu.pc == 866);
    CHECK(cpu.sp == 38178);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[946] == 24);
    REQUIRE(cpu.ram[947] == 174);
}

TEST_CASE( "18 00C9", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3115;
    cpu.sp = 10207;
    cpu.reg.a = 113;
    cpu.reg.b = 96;
    cpu.reg.c = 155;
    cpu.reg.d = 152;
    cpu.reg.e = 158;
    cpu.reg.f = 96;
    cpu.reg.h = 247;
    cpu.reg.l = 179;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[3115] = 24;
    cpu.ram[3116] = 75;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 113);
    CHECK(cpu.reg.b == 96);
    CHECK(cpu.reg.c == 155);
    CHECK(cpu.reg.d == 152);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 247);
    CHECK(cpu.reg.l == 179);
    CHECK(cpu.pc == 3192);
    CHECK(cpu.sp == 10207);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3115] == 24);
    REQUIRE(cpu.ram[3116] == 75);
}

TEST_CASE( "18 00CA", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1024;
    cpu.sp = 25383;
    cpu.reg.a = 197;
    cpu.reg.b = 7;
    cpu.reg.c = 53;
    cpu.reg.d = 230;
    cpu.reg.e = 48;
    cpu.reg.f = 32;
    cpu.reg.h = 80;
    cpu.reg.l = 103;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1024] = 24;
    cpu.ram[1025] = 39;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 197);
    CHECK(cpu.reg.b == 7);
    CHECK(cpu.reg.c == 53);
    CHECK(cpu.reg.d == 230);
    CHECK(cpu.reg.e == 48);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 80);
    CHECK(cpu.reg.l == 103);
    CHECK(cpu.pc == 1065);
    CHECK(cpu.sp == 25383);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1024] == 24);
    REQUIRE(cpu.ram[1025] == 39);
}

TEST_CASE( "18 00CB", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24714;
    cpu.sp = 14479;
    cpu.reg.a = 171;
    cpu.reg.b = 112;
    cpu.reg.c = 26;
    cpu.reg.d = 69;
    cpu.reg.e = 242;
    cpu.reg.f = 224;
    cpu.reg.h = 43;
    cpu.reg.l = 204;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[24714] = 24;
    cpu.ram[24715] = 166;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 171);
    CHECK(cpu.reg.b == 112);
    CHECK(cpu.reg.c == 26);
    CHECK(cpu.reg.d == 69);
    CHECK(cpu.reg.e == 242);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 43);
    CHECK(cpu.reg.l == 204);
    CHECK(cpu.pc == 24626);
    CHECK(cpu.sp == 14479);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24714] == 24);
    REQUIRE(cpu.ram[24715] == 166);
}

TEST_CASE( "18 00CC", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43176;
    cpu.sp = 32063;
    cpu.reg.a = 167;
    cpu.reg.b = 49;
    cpu.reg.c = 52;
    cpu.reg.d = 28;
    cpu.reg.e = 233;
    cpu.reg.f = 192;
    cpu.reg.h = 131;
    cpu.reg.l = 103;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[43176] = 24;
    cpu.ram[43177] = 47;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 167);
    CHECK(cpu.reg.b == 49);
    CHECK(cpu.reg.c == 52);
    CHECK(cpu.reg.d == 28);
    CHECK(cpu.reg.e == 233);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 131);
    CHECK(cpu.reg.l == 103);
    CHECK(cpu.pc == 43225);
    CHECK(cpu.sp == 32063);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43176] == 24);
    REQUIRE(cpu.ram[43177] == 47);
}

TEST_CASE( "18 00CD", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33024;
    cpu.sp = 27784;
    cpu.reg.a = 9;
    cpu.reg.b = 119;
    cpu.reg.c = 173;
    cpu.reg.d = 123;
    cpu.reg.e = 81;
    cpu.reg.f = 128;
    cpu.reg.h = 101;
    cpu.reg.l = 34;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[33024] = 24;
    cpu.ram[33025] = 60;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 9);
    CHECK(cpu.reg.b == 119);
    CHECK(cpu.reg.c == 173);
    CHECK(cpu.reg.d == 123);
    CHECK(cpu.reg.e == 81);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 101);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 33086);
    CHECK(cpu.sp == 27784);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33024] == 24);
    REQUIRE(cpu.ram[33025] == 60);
}

TEST_CASE( "18 00CE", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42083;
    cpu.sp = 9296;
    cpu.reg.a = 243;
    cpu.reg.b = 237;
    cpu.reg.c = 222;
    cpu.reg.d = 95;
    cpu.reg.e = 253;
    cpu.reg.f = 176;
    cpu.reg.h = 95;
    cpu.reg.l = 176;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[42083] = 24;
    cpu.ram[42084] = 112;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 243);
    CHECK(cpu.reg.b == 237);
    CHECK(cpu.reg.c == 222);
    CHECK(cpu.reg.d == 95);
    CHECK(cpu.reg.e == 253);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 95);
    CHECK(cpu.reg.l == 176);
    CHECK(cpu.pc == 42197);
    CHECK(cpu.sp == 9296);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[42083] == 24);
    REQUIRE(cpu.ram[42084] == 112);
}

TEST_CASE( "18 00CF", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56839;
    cpu.sp = 31777;
    cpu.reg.a = 93;
    cpu.reg.b = 99;
    cpu.reg.c = 58;
    cpu.reg.d = 175;
    cpu.reg.e = 65;
    cpu.reg.f = 160;
    cpu.reg.h = 230;
    cpu.reg.l = 92;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[56839] = 24;
    cpu.ram[56840] = 220;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 93);
    CHECK(cpu.reg.b == 99);
    CHECK(cpu.reg.c == 58);
    CHECK(cpu.reg.d == 175);
    CHECK(cpu.reg.e == 65);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 230);
    CHECK(cpu.reg.l == 92);
    CHECK(cpu.pc == 56805);
    CHECK(cpu.sp == 31777);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56839] == 24);
    REQUIRE(cpu.ram[56840] == 220);
}

TEST_CASE( "18 00D0", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52553;
    cpu.sp = 43017;
    cpu.reg.a = 96;
    cpu.reg.b = 20;
    cpu.reg.c = 9;
    cpu.reg.d = 160;
    cpu.reg.e = 226;
    cpu.reg.f = 176;
    cpu.reg.h = 111;
    cpu.reg.l = 209;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[52553] = 24;
    cpu.ram[52554] = 131;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 96);
    CHECK(cpu.reg.b == 20);
    CHECK(cpu.reg.c == 9);
    CHECK(cpu.reg.d == 160);
    CHECK(cpu.reg.e == 226);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 111);
    CHECK(cpu.reg.l == 209);
    CHECK(cpu.pc == 52430);
    CHECK(cpu.sp == 43017);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[52553] == 24);
    REQUIRE(cpu.ram[52554] == 131);
}

TEST_CASE( "18 00D1", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9036;
    cpu.sp = 47659;
    cpu.reg.a = 21;
    cpu.reg.b = 54;
    cpu.reg.c = 86;
    cpu.reg.d = 193;
    cpu.reg.e = 47;
    cpu.reg.f = 144;
    cpu.reg.h = 24;
    cpu.reg.l = 155;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[9036] = 24;
    cpu.ram[9037] = 40;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 21);
    CHECK(cpu.reg.b == 54);
    CHECK(cpu.reg.c == 86);
    CHECK(cpu.reg.d == 193);
    CHECK(cpu.reg.e == 47);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 24);
    CHECK(cpu.reg.l == 155);
    CHECK(cpu.pc == 9078);
    CHECK(cpu.sp == 47659);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9036] == 24);
    REQUIRE(cpu.ram[9037] == 40);
}

TEST_CASE( "18 00D2", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59200;
    cpu.sp = 41064;
    cpu.reg.a = 209;
    cpu.reg.b = 25;
    cpu.reg.c = 140;
    cpu.reg.d = 51;
    cpu.reg.e = 92;
    cpu.reg.f = 240;
    cpu.reg.h = 81;
    cpu.reg.l = 152;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[59200] = 24;
    cpu.ram[59201] = 110;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 209);
    CHECK(cpu.reg.b == 25);
    CHECK(cpu.reg.c == 140);
    CHECK(cpu.reg.d == 51);
    CHECK(cpu.reg.e == 92);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 81);
    CHECK(cpu.reg.l == 152);
    CHECK(cpu.pc == 59312);
    CHECK(cpu.sp == 41064);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[59200] == 24);
    REQUIRE(cpu.ram[59201] == 110);
}

TEST_CASE( "18 00D3", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41380;
    cpu.sp = 58359;
    cpu.reg.a = 47;
    cpu.reg.b = 250;
    cpu.reg.c = 146;
    cpu.reg.d = 253;
    cpu.reg.e = 62;
    cpu.reg.f = 144;
    cpu.reg.h = 28;
    cpu.reg.l = 170;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[41380] = 24;
    cpu.ram[41381] = 63;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 47);
    CHECK(cpu.reg.b == 250);
    CHECK(cpu.reg.c == 146);
    CHECK(cpu.reg.d == 253);
    CHECK(cpu.reg.e == 62);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 28);
    CHECK(cpu.reg.l == 170);
    CHECK(cpu.pc == 41445);
    CHECK(cpu.sp == 58359);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41380] == 24);
    REQUIRE(cpu.ram[41381] == 63);
}

TEST_CASE( "18 00D4", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51315;
    cpu.sp = 16995;
    cpu.reg.a = 231;
    cpu.reg.b = 215;
    cpu.reg.c = 204;
    cpu.reg.d = 36;
    cpu.reg.e = 177;
    cpu.reg.f = 208;
    cpu.reg.h = 31;
    cpu.reg.l = 215;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[51315] = 24;
    cpu.ram[51316] = 228;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 231);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 204);
    CHECK(cpu.reg.d == 36);
    CHECK(cpu.reg.e == 177);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 31);
    CHECK(cpu.reg.l == 215);
    CHECK(cpu.pc == 51289);
    CHECK(cpu.sp == 16995);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[51315] == 24);
    REQUIRE(cpu.ram[51316] == 228);
}

TEST_CASE( "18 00D5", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57368;
    cpu.sp = 11739;
    cpu.reg.a = 185;
    cpu.reg.b = 138;
    cpu.reg.c = 72;
    cpu.reg.d = 110;
    cpu.reg.e = 91;
    cpu.reg.f = 112;
    cpu.reg.h = 246;
    cpu.reg.l = 244;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[57368] = 24;
    cpu.ram[57369] = 138;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 185);
    CHECK(cpu.reg.b == 138);
    CHECK(cpu.reg.c == 72);
    CHECK(cpu.reg.d == 110);
    CHECK(cpu.reg.e == 91);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 246);
    CHECK(cpu.reg.l == 244);
    CHECK(cpu.pc == 57252);
    CHECK(cpu.sp == 11739);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[57368] == 24);
    REQUIRE(cpu.ram[57369] == 138);
}

TEST_CASE( "18 00D6", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48964;
    cpu.sp = 58008;
    cpu.reg.a = 128;
    cpu.reg.b = 201;
    cpu.reg.c = 121;
    cpu.reg.d = 88;
    cpu.reg.e = 96;
    cpu.reg.f = 48;
    cpu.reg.h = 145;
    cpu.reg.l = 145;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[48964] = 24;
    cpu.ram[48965] = 119;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 128);
    CHECK(cpu.reg.b == 201);
    CHECK(cpu.reg.c == 121);
    CHECK(cpu.reg.d == 88);
    CHECK(cpu.reg.e == 96);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 145);
    CHECK(cpu.reg.l == 145);
    CHECK(cpu.pc == 49085);
    CHECK(cpu.sp == 58008);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48964] == 24);
    REQUIRE(cpu.ram[48965] == 119);
}

TEST_CASE( "18 00D7", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62701;
    cpu.sp = 1237;
    cpu.reg.a = 36;
    cpu.reg.b = 50;
    cpu.reg.c = 33;
    cpu.reg.d = 231;
    cpu.reg.e = 154;
    cpu.reg.f = 224;
    cpu.reg.h = 148;
    cpu.reg.l = 147;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[62701] = 24;
    cpu.ram[62702] = 39;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 36);
    CHECK(cpu.reg.b == 50);
    CHECK(cpu.reg.c == 33);
    CHECK(cpu.reg.d == 231);
    CHECK(cpu.reg.e == 154);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 148);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 62742);
    CHECK(cpu.sp == 1237);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62701] == 24);
    REQUIRE(cpu.ram[62702] == 39);
}

TEST_CASE( "18 00D8", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18896;
    cpu.sp = 30211;
    cpu.reg.a = 239;
    cpu.reg.b = 23;
    cpu.reg.c = 155;
    cpu.reg.d = 52;
    cpu.reg.e = 11;
    cpu.reg.f = 208;
    cpu.reg.h = 26;
    cpu.reg.l = 19;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[18896] = 24;
    cpu.ram[18897] = 220;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 239);
    CHECK(cpu.reg.b == 23);
    CHECK(cpu.reg.c == 155);
    CHECK(cpu.reg.d == 52);
    CHECK(cpu.reg.e == 11);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 26);
    CHECK(cpu.reg.l == 19);
    CHECK(cpu.pc == 18862);
    CHECK(cpu.sp == 30211);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18896] == 24);
    REQUIRE(cpu.ram[18897] == 220);
}

TEST_CASE( "18 00D9", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50702;
    cpu.sp = 19453;
    cpu.reg.a = 213;
    cpu.reg.b = 53;
    cpu.reg.c = 177;
    cpu.reg.d = 45;
    cpu.reg.e = 122;
    cpu.reg.f = 192;
    cpu.reg.h = 67;
    cpu.reg.l = 102;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[50702] = 24;
    cpu.ram[50703] = 40;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 213);
    CHECK(cpu.reg.b == 53);
    CHECK(cpu.reg.c == 177);
    CHECK(cpu.reg.d == 45);
    CHECK(cpu.reg.e == 122);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 67);
    CHECK(cpu.reg.l == 102);
    CHECK(cpu.pc == 50744);
    CHECK(cpu.sp == 19453);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50702] == 24);
    REQUIRE(cpu.ram[50703] == 40);
}

TEST_CASE( "18 00DA", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45992;
    cpu.sp = 57948;
    cpu.reg.a = 24;
    cpu.reg.b = 217;
    cpu.reg.c = 32;
    cpu.reg.d = 41;
    cpu.reg.e = 235;
    cpu.reg.f = 64;
    cpu.reg.h = 5;
    cpu.reg.l = 147;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[45992] = 24;
    cpu.ram[45993] = 173;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 24);
    CHECK(cpu.reg.b == 217);
    CHECK(cpu.reg.c == 32);
    CHECK(cpu.reg.d == 41);
    CHECK(cpu.reg.e == 235);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 5);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 45911);
    CHECK(cpu.sp == 57948);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45992] == 24);
    REQUIRE(cpu.ram[45993] == 173);
}

TEST_CASE( "18 00DB", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44301;
    cpu.sp = 24258;
    cpu.reg.a = 156;
    cpu.reg.b = 41;
    cpu.reg.c = 204;
    cpu.reg.d = 245;
    cpu.reg.e = 75;
    cpu.reg.f = 16;
    cpu.reg.h = 216;
    cpu.reg.l = 115;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[44301] = 24;
    cpu.ram[44302] = 173;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 156);
    CHECK(cpu.reg.b == 41);
    CHECK(cpu.reg.c == 204);
    CHECK(cpu.reg.d == 245);
    CHECK(cpu.reg.e == 75);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 216);
    CHECK(cpu.reg.l == 115);
    CHECK(cpu.pc == 44220);
    CHECK(cpu.sp == 24258);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44301] == 24);
    REQUIRE(cpu.ram[44302] == 173);
}

TEST_CASE( "18 00DC", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51809;
    cpu.sp = 54981;
    cpu.reg.a = 18;
    cpu.reg.b = 198;
    cpu.reg.c = 143;
    cpu.reg.d = 187;
    cpu.reg.e = 218;
    cpu.reg.f = 240;
    cpu.reg.h = 185;
    cpu.reg.l = 143;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[51809] = 24;
    cpu.ram[51810] = 162;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 18);
    CHECK(cpu.reg.b == 198);
    CHECK(cpu.reg.c == 143);
    CHECK(cpu.reg.d == 187);
    CHECK(cpu.reg.e == 218);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 185);
    CHECK(cpu.reg.l == 143);
    CHECK(cpu.pc == 51717);
    CHECK(cpu.sp == 54981);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51809] == 24);
    REQUIRE(cpu.ram[51810] == 162);
}

TEST_CASE( "18 00DD", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3673;
    cpu.sp = 24066;
    cpu.reg.a = 229;
    cpu.reg.b = 167;
    cpu.reg.c = 224;
    cpu.reg.d = 24;
    cpu.reg.e = 71;
    cpu.reg.f = 0;
    cpu.reg.h = 47;
    cpu.reg.l = 4;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[3673] = 24;
    cpu.ram[3674] = 166;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 229);
    CHECK(cpu.reg.b == 167);
    CHECK(cpu.reg.c == 224);
    CHECK(cpu.reg.d == 24);
    CHECK(cpu.reg.e == 71);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 47);
    CHECK(cpu.reg.l == 4);
    CHECK(cpu.pc == 3585);
    CHECK(cpu.sp == 24066);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3673] == 24);
    REQUIRE(cpu.ram[3674] == 166);
}

TEST_CASE( "18 00DE", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1539;
    cpu.sp = 57128;
    cpu.reg.a = 65;
    cpu.reg.b = 9;
    cpu.reg.c = 195;
    cpu.reg.d = 69;
    cpu.reg.e = 77;
    cpu.reg.f = 176;
    cpu.reg.h = 195;
    cpu.reg.l = 97;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[1539] = 24;
    cpu.ram[1540] = 78;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 65);
    CHECK(cpu.reg.b == 9);
    CHECK(cpu.reg.c == 195);
    CHECK(cpu.reg.d == 69);
    CHECK(cpu.reg.e == 77);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 195);
    CHECK(cpu.reg.l == 97);
    CHECK(cpu.pc == 1619);
    CHECK(cpu.sp == 57128);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1539] == 24);
    REQUIRE(cpu.ram[1540] == 78);
}

TEST_CASE( "18 00DF", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23620;
    cpu.sp = 65069;
    cpu.reg.a = 148;
    cpu.reg.b = 133;
    cpu.reg.c = 19;
    cpu.reg.d = 62;
    cpu.reg.e = 205;
    cpu.reg.f = 240;
    cpu.reg.h = 61;
    cpu.reg.l = 1;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[23620] = 24;
    cpu.ram[23621] = 129;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 148);
    CHECK(cpu.reg.b == 133);
    CHECK(cpu.reg.c == 19);
    CHECK(cpu.reg.d == 62);
    CHECK(cpu.reg.e == 205);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 61);
    CHECK(cpu.reg.l == 1);
    CHECK(cpu.pc == 23495);
    CHECK(cpu.sp == 65069);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23620] == 24);
    REQUIRE(cpu.ram[23621] == 129);
}

TEST_CASE( "18 00E0", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34671;
    cpu.sp = 22764;
    cpu.reg.a = 182;
    cpu.reg.b = 216;
    cpu.reg.c = 222;
    cpu.reg.d = 32;
    cpu.reg.e = 3;
    cpu.reg.f = 0;
    cpu.reg.h = 61;
    cpu.reg.l = 190;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[34671] = 24;
    cpu.ram[34672] = 209;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 182);
    CHECK(cpu.reg.b == 216);
    CHECK(cpu.reg.c == 222);
    CHECK(cpu.reg.d == 32);
    CHECK(cpu.reg.e == 3);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 61);
    CHECK(cpu.reg.l == 190);
    CHECK(cpu.pc == 34626);
    CHECK(cpu.sp == 22764);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[34671] == 24);
    REQUIRE(cpu.ram[34672] == 209);
}

TEST_CASE( "18 00E1", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31578;
    cpu.sp = 58277;
    cpu.reg.a = 1;
    cpu.reg.b = 147;
    cpu.reg.c = 131;
    cpu.reg.d = 32;
    cpu.reg.e = 151;
    cpu.reg.f = 64;
    cpu.reg.h = 136;
    cpu.reg.l = 245;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[31578] = 24;
    cpu.ram[31579] = 13;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 1);
    CHECK(cpu.reg.b == 147);
    CHECK(cpu.reg.c == 131);
    CHECK(cpu.reg.d == 32);
    CHECK(cpu.reg.e == 151);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 136);
    CHECK(cpu.reg.l == 245);
    CHECK(cpu.pc == 31593);
    CHECK(cpu.sp == 58277);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31578] == 24);
    REQUIRE(cpu.ram[31579] == 13);
}

TEST_CASE( "18 00E2", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29078;
    cpu.sp = 62926;
    cpu.reg.a = 142;
    cpu.reg.b = 100;
    cpu.reg.c = 28;
    cpu.reg.d = 219;
    cpu.reg.e = 38;
    cpu.reg.f = 208;
    cpu.reg.h = 1;
    cpu.reg.l = 207;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[29078] = 24;
    cpu.ram[29079] = 73;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 142);
    CHECK(cpu.reg.b == 100);
    CHECK(cpu.reg.c == 28);
    CHECK(cpu.reg.d == 219);
    CHECK(cpu.reg.e == 38);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 1);
    CHECK(cpu.reg.l == 207);
    CHECK(cpu.pc == 29153);
    CHECK(cpu.sp == 62926);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[29078] == 24);
    REQUIRE(cpu.ram[29079] == 73);
}

TEST_CASE( "18 00E3", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17077;
    cpu.sp = 33733;
    cpu.reg.a = 75;
    cpu.reg.b = 99;
    cpu.reg.c = 248;
    cpu.reg.d = 111;
    cpu.reg.e = 195;
    cpu.reg.f = 48;
    cpu.reg.h = 90;
    cpu.reg.l = 80;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[17077] = 24;
    cpu.ram[17078] = 128;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 75);
    CHECK(cpu.reg.b == 99);
    CHECK(cpu.reg.c == 248);
    CHECK(cpu.reg.d == 111);
    CHECK(cpu.reg.e == 195);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 90);
    CHECK(cpu.reg.l == 80);
    CHECK(cpu.pc == 16951);
    CHECK(cpu.sp == 33733);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17077] == 24);
    REQUIRE(cpu.ram[17078] == 128);
}

TEST_CASE( "18 00E4", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31670;
    cpu.sp = 40756;
    cpu.reg.a = 105;
    cpu.reg.b = 96;
    cpu.reg.c = 59;
    cpu.reg.d = 226;
    cpu.reg.e = 48;
    cpu.reg.f = 0;
    cpu.reg.h = 12;
    cpu.reg.l = 9;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[31670] = 24;
    cpu.ram[31671] = 26;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 105);
    CHECK(cpu.reg.b == 96);
    CHECK(cpu.reg.c == 59);
    CHECK(cpu.reg.d == 226);
    CHECK(cpu.reg.e == 48);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 12);
    CHECK(cpu.reg.l == 9);
    CHECK(cpu.pc == 31698);
    CHECK(cpu.sp == 40756);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31670] == 24);
    REQUIRE(cpu.ram[31671] == 26);
}

TEST_CASE( "18 00E5", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15166;
    cpu.sp = 7843;
    cpu.reg.a = 208;
    cpu.reg.b = 102;
    cpu.reg.c = 109;
    cpu.reg.d = 156;
    cpu.reg.e = 27;
    cpu.reg.f = 64;
    cpu.reg.h = 181;
    cpu.reg.l = 222;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[15166] = 24;
    cpu.ram[15167] = 88;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 208);
    CHECK(cpu.reg.b == 102);
    CHECK(cpu.reg.c == 109);
    CHECK(cpu.reg.d == 156);
    CHECK(cpu.reg.e == 27);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 181);
    CHECK(cpu.reg.l == 222);
    CHECK(cpu.pc == 15256);
    CHECK(cpu.sp == 7843);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15166] == 24);
    REQUIRE(cpu.ram[15167] == 88);
}

TEST_CASE( "18 00E6", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7043;
    cpu.sp = 55268;
    cpu.reg.a = 132;
    cpu.reg.b = 2;
    cpu.reg.c = 168;
    cpu.reg.d = 216;
    cpu.reg.e = 17;
    cpu.reg.f = 64;
    cpu.reg.h = 168;
    cpu.reg.l = 185;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[7043] = 24;
    cpu.ram[7044] = 149;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 132);
    CHECK(cpu.reg.b == 2);
    CHECK(cpu.reg.c == 168);
    CHECK(cpu.reg.d == 216);
    CHECK(cpu.reg.e == 17);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 168);
    CHECK(cpu.reg.l == 185);
    CHECK(cpu.pc == 6938);
    CHECK(cpu.sp == 55268);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7043] == 24);
    REQUIRE(cpu.ram[7044] == 149);
}

TEST_CASE( "18 00E7", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27759;
    cpu.sp = 15857;
    cpu.reg.a = 216;
    cpu.reg.b = 231;
    cpu.reg.c = 198;
    cpu.reg.d = 122;
    cpu.reg.e = 35;
    cpu.reg.f = 176;
    cpu.reg.h = 184;
    cpu.reg.l = 186;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[27759] = 24;
    cpu.ram[27760] = 26;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 231);
    CHECK(cpu.reg.c == 198);
    CHECK(cpu.reg.d == 122);
    CHECK(cpu.reg.e == 35);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 184);
    CHECK(cpu.reg.l == 186);
    CHECK(cpu.pc == 27787);
    CHECK(cpu.sp == 15857);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27759] == 24);
    REQUIRE(cpu.ram[27760] == 26);
}

TEST_CASE( "18 00E8", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28199;
    cpu.sp = 39017;
    cpu.reg.a = 132;
    cpu.reg.b = 37;
    cpu.reg.c = 206;
    cpu.reg.d = 182;
    cpu.reg.e = 229;
    cpu.reg.f = 0;
    cpu.reg.h = 245;
    cpu.reg.l = 229;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[28199] = 24;
    cpu.ram[28200] = 15;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 132);
    CHECK(cpu.reg.b == 37);
    CHECK(cpu.reg.c == 206);
    CHECK(cpu.reg.d == 182);
    CHECK(cpu.reg.e == 229);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 245);
    CHECK(cpu.reg.l == 229);
    CHECK(cpu.pc == 28216);
    CHECK(cpu.sp == 39017);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[28199] == 24);
    REQUIRE(cpu.ram[28200] == 15);
}

TEST_CASE( "18 00E9", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5021;
    cpu.sp = 12384;
    cpu.reg.a = 181;
    cpu.reg.b = 91;
    cpu.reg.c = 205;
    cpu.reg.d = 175;
    cpu.reg.e = 5;
    cpu.reg.f = 0;
    cpu.reg.h = 9;
    cpu.reg.l = 104;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[5021] = 24;
    cpu.ram[5022] = 164;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 181);
    CHECK(cpu.reg.b == 91);
    CHECK(cpu.reg.c == 205);
    CHECK(cpu.reg.d == 175);
    CHECK(cpu.reg.e == 5);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 9);
    CHECK(cpu.reg.l == 104);
    CHECK(cpu.pc == 4931);
    CHECK(cpu.sp == 12384);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5021] == 24);
    REQUIRE(cpu.ram[5022] == 164);
}

TEST_CASE( "18 00EA", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23517;
    cpu.sp = 48131;
    cpu.reg.a = 205;
    cpu.reg.b = 159;
    cpu.reg.c = 128;
    cpu.reg.d = 96;
    cpu.reg.e = 32;
    cpu.reg.f = 224;
    cpu.reg.h = 32;
    cpu.reg.l = 15;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[23517] = 24;
    cpu.ram[23518] = 86;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 205);
    CHECK(cpu.reg.b == 159);
    CHECK(cpu.reg.c == 128);
    CHECK(cpu.reg.d == 96);
    CHECK(cpu.reg.e == 32);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 32);
    CHECK(cpu.reg.l == 15);
    CHECK(cpu.pc == 23605);
    CHECK(cpu.sp == 48131);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23517] == 24);
    REQUIRE(cpu.ram[23518] == 86);
}

TEST_CASE( "18 00EB", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32322;
    cpu.sp = 54302;
    cpu.reg.a = 136;
    cpu.reg.b = 184;
    cpu.reg.c = 159;
    cpu.reg.d = 238;
    cpu.reg.e = 164;
    cpu.reg.f = 208;
    cpu.reg.h = 203;
    cpu.reg.l = 77;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[32322] = 24;
    cpu.ram[32323] = 16;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 136);
    CHECK(cpu.reg.b == 184);
    CHECK(cpu.reg.c == 159);
    CHECK(cpu.reg.d == 238);
    CHECK(cpu.reg.e == 164);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 203);
    CHECK(cpu.reg.l == 77);
    CHECK(cpu.pc == 32340);
    CHECK(cpu.sp == 54302);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[32322] == 24);
    REQUIRE(cpu.ram[32323] == 16);
}

TEST_CASE( "18 00EC", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14030;
    cpu.sp = 28645;
    cpu.reg.a = 74;
    cpu.reg.b = 39;
    cpu.reg.c = 237;
    cpu.reg.d = 4;
    cpu.reg.e = 42;
    cpu.reg.f = 112;
    cpu.reg.h = 249;
    cpu.reg.l = 117;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[14030] = 24;
    cpu.ram[14031] = 56;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 74);
    CHECK(cpu.reg.b == 39);
    CHECK(cpu.reg.c == 237);
    CHECK(cpu.reg.d == 4);
    CHECK(cpu.reg.e == 42);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 249);
    CHECK(cpu.reg.l == 117);
    CHECK(cpu.pc == 14088);
    CHECK(cpu.sp == 28645);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14030] == 24);
    REQUIRE(cpu.ram[14031] == 56);
}

TEST_CASE( "18 00ED", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35156;
    cpu.sp = 1634;
    cpu.reg.a = 102;
    cpu.reg.b = 39;
    cpu.reg.c = 105;
    cpu.reg.d = 135;
    cpu.reg.e = 66;
    cpu.reg.f = 160;
    cpu.reg.h = 27;
    cpu.reg.l = 246;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[35156] = 24;
    cpu.ram[35157] = 134;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 102);
    CHECK(cpu.reg.b == 39);
    CHECK(cpu.reg.c == 105);
    CHECK(cpu.reg.d == 135);
    CHECK(cpu.reg.e == 66);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 27);
    CHECK(cpu.reg.l == 246);
    CHECK(cpu.pc == 35036);
    CHECK(cpu.sp == 1634);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35156] == 24);
    REQUIRE(cpu.ram[35157] == 134);
}

TEST_CASE( "18 00EE", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12755;
    cpu.sp = 9498;
    cpu.reg.a = 207;
    cpu.reg.b = 153;
    cpu.reg.c = 20;
    cpu.reg.d = 0;
    cpu.reg.e = 252;
    cpu.reg.f = 32;
    cpu.reg.h = 145;
    cpu.reg.l = 47;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[12755] = 24;
    cpu.ram[12756] = 89;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 207);
    CHECK(cpu.reg.b == 153);
    CHECK(cpu.reg.c == 20);
    CHECK(cpu.reg.d == 0);
    CHECK(cpu.reg.e == 252);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 145);
    CHECK(cpu.reg.l == 47);
    CHECK(cpu.pc == 12846);
    CHECK(cpu.sp == 9498);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12755] == 24);
    REQUIRE(cpu.ram[12756] == 89);
}

TEST_CASE( "18 00EF", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12622;
    cpu.sp = 47269;
    cpu.reg.a = 72;
    cpu.reg.b = 222;
    cpu.reg.c = 111;
    cpu.reg.d = 62;
    cpu.reg.e = 47;
    cpu.reg.f = 80;
    cpu.reg.h = 177;
    cpu.reg.l = 208;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[12622] = 24;
    cpu.ram[12623] = 84;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 72);
    CHECK(cpu.reg.b == 222);
    CHECK(cpu.reg.c == 111);
    CHECK(cpu.reg.d == 62);
    CHECK(cpu.reg.e == 47);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 177);
    CHECK(cpu.reg.l == 208);
    CHECK(cpu.pc == 12708);
    CHECK(cpu.sp == 47269);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12622] == 24);
    REQUIRE(cpu.ram[12623] == 84);
}

TEST_CASE( "18 00F0", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52256;
    cpu.sp = 6146;
    cpu.reg.a = 217;
    cpu.reg.b = 176;
    cpu.reg.c = 109;
    cpu.reg.d = 252;
    cpu.reg.e = 96;
    cpu.reg.f = 160;
    cpu.reg.h = 172;
    cpu.reg.l = 14;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[52256] = 24;
    cpu.ram[52257] = 154;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 217);
    CHECK(cpu.reg.b == 176);
    CHECK(cpu.reg.c == 109);
    CHECK(cpu.reg.d == 252);
    CHECK(cpu.reg.e == 96);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 172);
    CHECK(cpu.reg.l == 14);
    CHECK(cpu.pc == 52156);
    CHECK(cpu.sp == 6146);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[52256] == 24);
    REQUIRE(cpu.ram[52257] == 154);
}

TEST_CASE( "18 00F1", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63276;
    cpu.sp = 40113;
    cpu.reg.a = 79;
    cpu.reg.b = 61;
    cpu.reg.c = 50;
    cpu.reg.d = 161;
    cpu.reg.e = 204;
    cpu.reg.f = 80;
    cpu.reg.h = 58;
    cpu.reg.l = 58;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[63276] = 24;
    cpu.ram[63277] = 59;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 79);
    CHECK(cpu.reg.b == 61);
    CHECK(cpu.reg.c == 50);
    CHECK(cpu.reg.d == 161);
    CHECK(cpu.reg.e == 204);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 58);
    CHECK(cpu.reg.l == 58);
    CHECK(cpu.pc == 63337);
    CHECK(cpu.sp == 40113);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[63276] == 24);
    REQUIRE(cpu.ram[63277] == 59);
}

TEST_CASE( "18 00F2", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47754;
    cpu.sp = 34966;
    cpu.reg.a = 211;
    cpu.reg.b = 70;
    cpu.reg.c = 222;
    cpu.reg.d = 147;
    cpu.reg.e = 187;
    cpu.reg.f = 0;
    cpu.reg.h = 190;
    cpu.reg.l = 14;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47754] = 24;
    cpu.ram[47755] = 146;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 211);
    CHECK(cpu.reg.b == 70);
    CHECK(cpu.reg.c == 222);
    CHECK(cpu.reg.d == 147);
    CHECK(cpu.reg.e == 187);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 190);
    CHECK(cpu.reg.l == 14);
    CHECK(cpu.pc == 47646);
    CHECK(cpu.sp == 34966);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47754] == 24);
    REQUIRE(cpu.ram[47755] == 146);
}

TEST_CASE( "18 00F3", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10927;
    cpu.sp = 41634;
    cpu.reg.a = 3;
    cpu.reg.b = 205;
    cpu.reg.c = 10;
    cpu.reg.d = 241;
    cpu.reg.e = 41;
    cpu.reg.f = 224;
    cpu.reg.h = 241;
    cpu.reg.l = 168;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[10927] = 24;
    cpu.ram[10928] = 184;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 3);
    CHECK(cpu.reg.b == 205);
    CHECK(cpu.reg.c == 10);
    CHECK(cpu.reg.d == 241);
    CHECK(cpu.reg.e == 41);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 168);
    CHECK(cpu.pc == 10857);
    CHECK(cpu.sp == 41634);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10927] == 24);
    REQUIRE(cpu.ram[10928] == 184);
}

TEST_CASE( "18 00F4", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10247;
    cpu.sp = 24529;
    cpu.reg.a = 229;
    cpu.reg.b = 16;
    cpu.reg.c = 240;
    cpu.reg.d = 115;
    cpu.reg.e = 210;
    cpu.reg.f = 144;
    cpu.reg.h = 148;
    cpu.reg.l = 36;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[10247] = 24;
    cpu.ram[10248] = 248;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 229);
    CHECK(cpu.reg.b == 16);
    CHECK(cpu.reg.c == 240);
    CHECK(cpu.reg.d == 115);
    CHECK(cpu.reg.e == 210);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 148);
    CHECK(cpu.reg.l == 36);
    CHECK(cpu.pc == 10241);
    CHECK(cpu.sp == 24529);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10247] == 24);
    REQUIRE(cpu.ram[10248] == 248);
}

TEST_CASE( "18 00F5", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4030;
    cpu.sp = 29969;
    cpu.reg.a = 94;
    cpu.reg.b = 40;
    cpu.reg.c = 68;
    cpu.reg.d = 226;
    cpu.reg.e = 159;
    cpu.reg.f = 176;
    cpu.reg.h = 141;
    cpu.reg.l = 175;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4030] = 24;
    cpu.ram[4031] = 51;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 94);
    CHECK(cpu.reg.b == 40);
    CHECK(cpu.reg.c == 68);
    CHECK(cpu.reg.d == 226);
    CHECK(cpu.reg.e == 159);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 141);
    CHECK(cpu.reg.l == 175);
    CHECK(cpu.pc == 4083);
    CHECK(cpu.sp == 29969);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4030] == 24);
    REQUIRE(cpu.ram[4031] == 51);
}

TEST_CASE( "18 00F6", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14591;
    cpu.sp = 22129;
    cpu.reg.a = 153;
    cpu.reg.b = 56;
    cpu.reg.c = 78;
    cpu.reg.d = 242;
    cpu.reg.e = 205;
    cpu.reg.f = 224;
    cpu.reg.h = 87;
    cpu.reg.l = 233;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[14591] = 24;
    cpu.ram[14592] = 94;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 153);
    CHECK(cpu.reg.b == 56);
    CHECK(cpu.reg.c == 78);
    CHECK(cpu.reg.d == 242);
    CHECK(cpu.reg.e == 205);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 87);
    CHECK(cpu.reg.l == 233);
    CHECK(cpu.pc == 14687);
    CHECK(cpu.sp == 22129);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14591] == 24);
    REQUIRE(cpu.ram[14592] == 94);
}

TEST_CASE( "18 00F7", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31937;
    cpu.sp = 2218;
    cpu.reg.a = 130;
    cpu.reg.b = 98;
    cpu.reg.c = 172;
    cpu.reg.d = 251;
    cpu.reg.e = 117;
    cpu.reg.f = 240;
    cpu.reg.h = 229;
    cpu.reg.l = 219;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[31937] = 24;
    cpu.ram[31938] = 170;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 130);
    CHECK(cpu.reg.b == 98);
    CHECK(cpu.reg.c == 172);
    CHECK(cpu.reg.d == 251);
    CHECK(cpu.reg.e == 117);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 229);
    CHECK(cpu.reg.l == 219);
    CHECK(cpu.pc == 31853);
    CHECK(cpu.sp == 2218);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31937] == 24);
    REQUIRE(cpu.ram[31938] == 170);
}

TEST_CASE( "18 00F8", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15500;
    cpu.sp = 50084;
    cpu.reg.a = 91;
    cpu.reg.b = 173;
    cpu.reg.c = 160;
    cpu.reg.d = 54;
    cpu.reg.e = 114;
    cpu.reg.f = 240;
    cpu.reg.h = 26;
    cpu.reg.l = 193;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[15500] = 24;
    cpu.ram[15501] = 117;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 91);
    CHECK(cpu.reg.b == 173);
    CHECK(cpu.reg.c == 160);
    CHECK(cpu.reg.d == 54);
    CHECK(cpu.reg.e == 114);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 26);
    CHECK(cpu.reg.l == 193);
    CHECK(cpu.pc == 15619);
    CHECK(cpu.sp == 50084);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15500] == 24);
    REQUIRE(cpu.ram[15501] == 117);
}

TEST_CASE( "18 00F9", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24187;
    cpu.sp = 37070;
    cpu.reg.a = 210;
    cpu.reg.b = 172;
    cpu.reg.c = 27;
    cpu.reg.d = 106;
    cpu.reg.e = 223;
    cpu.reg.f = 160;
    cpu.reg.h = 184;
    cpu.reg.l = 128;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[24187] = 24;
    cpu.ram[24188] = 116;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 210);
    CHECK(cpu.reg.b == 172);
    CHECK(cpu.reg.c == 27);
    CHECK(cpu.reg.d == 106);
    CHECK(cpu.reg.e == 223);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 184);
    CHECK(cpu.reg.l == 128);
    CHECK(cpu.pc == 24305);
    CHECK(cpu.sp == 37070);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24187] == 24);
    REQUIRE(cpu.ram[24188] == 116);
}

TEST_CASE( "18 00FA", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43231;
    cpu.sp = 46260;
    cpu.reg.a = 235;
    cpu.reg.b = 162;
    cpu.reg.c = 24;
    cpu.reg.d = 115;
    cpu.reg.e = 122;
    cpu.reg.f = 16;
    cpu.reg.h = 99;
    cpu.reg.l = 219;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[43231] = 24;
    cpu.ram[43232] = 248;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 235);
    CHECK(cpu.reg.b == 162);
    CHECK(cpu.reg.c == 24);
    CHECK(cpu.reg.d == 115);
    CHECK(cpu.reg.e == 122);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 99);
    CHECK(cpu.reg.l == 219);
    CHECK(cpu.pc == 43225);
    CHECK(cpu.sp == 46260);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43231] == 24);
    REQUIRE(cpu.ram[43232] == 248);
}

TEST_CASE( "18 00FB", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6022;
    cpu.sp = 12162;
    cpu.reg.a = 184;
    cpu.reg.b = 242;
    cpu.reg.c = 19;
    cpu.reg.d = 222;
    cpu.reg.e = 245;
    cpu.reg.f = 128;
    cpu.reg.h = 243;
    cpu.reg.l = 143;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[6022] = 24;
    cpu.ram[6023] = 163;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 184);
    CHECK(cpu.reg.b == 242);
    CHECK(cpu.reg.c == 19);
    CHECK(cpu.reg.d == 222);
    CHECK(cpu.reg.e == 245);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 243);
    CHECK(cpu.reg.l == 143);
    CHECK(cpu.pc == 5931);
    CHECK(cpu.sp == 12162);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6022] == 24);
    REQUIRE(cpu.ram[6023] == 163);
}

TEST_CASE( "18 00FC", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32460;
    cpu.sp = 29510;
    cpu.reg.a = 234;
    cpu.reg.b = 197;
    cpu.reg.c = 176;
    cpu.reg.d = 238;
    cpu.reg.e = 195;
    cpu.reg.f = 80;
    cpu.reg.h = 8;
    cpu.reg.l = 102;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[32460] = 24;
    cpu.ram[32461] = 139;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 234);
    CHECK(cpu.reg.b == 197);
    CHECK(cpu.reg.c == 176);
    CHECK(cpu.reg.d == 238);
    CHECK(cpu.reg.e == 195);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 8);
    CHECK(cpu.reg.l == 102);
    CHECK(cpu.pc == 32345);
    CHECK(cpu.sp == 29510);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32460] == 24);
    REQUIRE(cpu.ram[32461] == 139);
}

TEST_CASE( "18 00FD", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12240;
    cpu.sp = 19980;
    cpu.reg.a = 122;
    cpu.reg.b = 250;
    cpu.reg.c = 157;
    cpu.reg.d = 19;
    cpu.reg.e = 134;
    cpu.reg.f = 224;
    cpu.reg.h = 153;
    cpu.reg.l = 227;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[12240] = 24;
    cpu.ram[12241] = 38;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 122);
    CHECK(cpu.reg.b == 250);
    CHECK(cpu.reg.c == 157);
    CHECK(cpu.reg.d == 19);
    CHECK(cpu.reg.e == 134);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 153);
    CHECK(cpu.reg.l == 227);
    CHECK(cpu.pc == 12280);
    CHECK(cpu.sp == 19980);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12240] == 24);
    REQUIRE(cpu.ram[12241] == 38);
}

TEST_CASE( "18 00FE", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54961;
    cpu.sp = 23846;
    cpu.reg.a = 215;
    cpu.reg.b = 6;
    cpu.reg.c = 123;
    cpu.reg.d = 50;
    cpu.reg.e = 155;
    cpu.reg.f = 208;
    cpu.reg.h = 230;
    cpu.reg.l = 147;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[54961] = 24;
    cpu.ram[54962] = 154;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 215);
    CHECK(cpu.reg.b == 6);
    CHECK(cpu.reg.c == 123);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 155);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 230);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 54861);
    CHECK(cpu.sp == 23846);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[54961] == 24);
    REQUIRE(cpu.ram[54962] == 154);
}

TEST_CASE( "18 00FF", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49430;
    cpu.sp = 24865;
    cpu.reg.a = 60;
    cpu.reg.b = 103;
    cpu.reg.c = 182;
    cpu.reg.d = 166;
    cpu.reg.e = 158;
    cpu.reg.f = 176;
    cpu.reg.h = 20;
    cpu.reg.l = 30;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[49430] = 24;
    cpu.ram[49431] = 238;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 60);
    CHECK(cpu.reg.b == 103);
    CHECK(cpu.reg.c == 182);
    CHECK(cpu.reg.d == 166);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 20);
    CHECK(cpu.reg.l == 30);
    CHECK(cpu.pc == 49414);
    CHECK(cpu.sp == 24865);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49430] == 24);
    REQUIRE(cpu.ram[49431] == 238);
}

TEST_CASE( "18 0100", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11578;
    cpu.sp = 61237;
    cpu.reg.a = 213;
    cpu.reg.b = 38;
    cpu.reg.c = 163;
    cpu.reg.d = 33;
    cpu.reg.e = 29;
    cpu.reg.f = 192;
    cpu.reg.h = 11;
    cpu.reg.l = 209;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[11578] = 24;
    cpu.ram[11579] = 129;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 213);
    CHECK(cpu.reg.b == 38);
    CHECK(cpu.reg.c == 163);
    CHECK(cpu.reg.d == 33);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 11);
    CHECK(cpu.reg.l == 209);
    CHECK(cpu.pc == 11453);
    CHECK(cpu.sp == 61237);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11578] == 24);
    REQUIRE(cpu.ram[11579] == 129);
}

TEST_CASE( "18 0101", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30041;
    cpu.sp = 52401;
    cpu.reg.a = 56;
    cpu.reg.b = 48;
    cpu.reg.c = 145;
    cpu.reg.d = 13;
    cpu.reg.e = 4;
    cpu.reg.f = 176;
    cpu.reg.h = 95;
    cpu.reg.l = 9;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[30041] = 24;
    cpu.ram[30042] = 165;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 56);
    CHECK(cpu.reg.b == 48);
    CHECK(cpu.reg.c == 145);
    CHECK(cpu.reg.d == 13);
    CHECK(cpu.reg.e == 4);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 95);
    CHECK(cpu.reg.l == 9);
    CHECK(cpu.pc == 29952);
    CHECK(cpu.sp == 52401);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30041] == 24);
    REQUIRE(cpu.ram[30042] == 165);
}

TEST_CASE( "18 0102", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21857;
    cpu.sp = 18034;
    cpu.reg.a = 72;
    cpu.reg.b = 60;
    cpu.reg.c = 197;
    cpu.reg.d = 120;
    cpu.reg.e = 220;
    cpu.reg.f = 64;
    cpu.reg.h = 135;
    cpu.reg.l = 138;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[21857] = 24;
    cpu.ram[21858] = 153;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 72);
    CHECK(cpu.reg.b == 60);
    CHECK(cpu.reg.c == 197);
    CHECK(cpu.reg.d == 120);
    CHECK(cpu.reg.e == 220);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 135);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 21756);
    CHECK(cpu.sp == 18034);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21857] == 24);
    REQUIRE(cpu.ram[21858] == 153);
}

TEST_CASE( "18 0103", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4087;
    cpu.sp = 38468;
    cpu.reg.a = 145;
    cpu.reg.b = 197;
    cpu.reg.c = 71;
    cpu.reg.d = 253;
    cpu.reg.e = 104;
    cpu.reg.f = 192;
    cpu.reg.h = 38;
    cpu.reg.l = 181;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[4087] = 24;
    cpu.ram[4088] = 222;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 145);
    CHECK(cpu.reg.b == 197);
    CHECK(cpu.reg.c == 71);
    CHECK(cpu.reg.d == 253);
    CHECK(cpu.reg.e == 104);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 38);
    CHECK(cpu.reg.l == 181);
    CHECK(cpu.pc == 4055);
    CHECK(cpu.sp == 38468);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4087] == 24);
    REQUIRE(cpu.ram[4088] == 222);
}

TEST_CASE( "18 0104", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61097;
    cpu.sp = 30410;
    cpu.reg.a = 133;
    cpu.reg.b = 131;
    cpu.reg.c = 107;
    cpu.reg.d = 76;
    cpu.reg.e = 184;
    cpu.reg.f = 16;
    cpu.reg.h = 19;
    cpu.reg.l = 104;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[61097] = 24;
    cpu.ram[61098] = 244;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 133);
    CHECK(cpu.reg.b == 131);
    CHECK(cpu.reg.c == 107);
    CHECK(cpu.reg.d == 76);
    CHECK(cpu.reg.e == 184);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 19);
    CHECK(cpu.reg.l == 104);
    CHECK(cpu.pc == 61087);
    CHECK(cpu.sp == 30410);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61097] == 24);
    REQUIRE(cpu.ram[61098] == 244);
}

TEST_CASE( "18 0105", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64056;
    cpu.sp = 20105;
    cpu.reg.a = 105;
    cpu.reg.b = 248;
    cpu.reg.c = 166;
    cpu.reg.d = 188;
    cpu.reg.e = 155;
    cpu.reg.f = 144;
    cpu.reg.h = 191;
    cpu.reg.l = 57;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[64056] = 24;
    cpu.ram[64057] = 208;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 105);
    CHECK(cpu.reg.b == 248);
    CHECK(cpu.reg.c == 166);
    CHECK(cpu.reg.d == 188);
    CHECK(cpu.reg.e == 155);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 191);
    CHECK(cpu.reg.l == 57);
    CHECK(cpu.pc == 64010);
    CHECK(cpu.sp == 20105);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64056] == 24);
    REQUIRE(cpu.ram[64057] == 208);
}

TEST_CASE( "18 0106", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48454;
    cpu.sp = 19981;
    cpu.reg.a = 176;
    cpu.reg.b = 96;
    cpu.reg.c = 86;
    cpu.reg.d = 122;
    cpu.reg.e = 105;
    cpu.reg.f = 96;
    cpu.reg.h = 20;
    cpu.reg.l = 205;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[48454] = 24;
    cpu.ram[48455] = 99;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 176);
    CHECK(cpu.reg.b == 96);
    CHECK(cpu.reg.c == 86);
    CHECK(cpu.reg.d == 122);
    CHECK(cpu.reg.e == 105);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 20);
    CHECK(cpu.reg.l == 205);
    CHECK(cpu.pc == 48555);
    CHECK(cpu.sp == 19981);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48454] == 24);
    REQUIRE(cpu.ram[48455] == 99);
}

TEST_CASE( "18 0107", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65202;
    cpu.sp = 29491;
    cpu.reg.a = 240;
    cpu.reg.b = 247;
    cpu.reg.c = 242;
    cpu.reg.d = 84;
    cpu.reg.e = 89;
    cpu.reg.f = 0;
    cpu.reg.h = 21;
    cpu.reg.l = 154;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[65202] = 24;
    cpu.ram[65203] = 11;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 240);
    CHECK(cpu.reg.b == 247);
    CHECK(cpu.reg.c == 242);
    CHECK(cpu.reg.d == 84);
    CHECK(cpu.reg.e == 89);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 21);
    CHECK(cpu.reg.l == 154);
    CHECK(cpu.pc == 65215);
    CHECK(cpu.sp == 29491);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[65202] == 24);
    REQUIRE(cpu.ram[65203] == 11);
}

TEST_CASE( "18 0108", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59130;
    cpu.sp = 62262;
    cpu.reg.a = 195;
    cpu.reg.b = 156;
    cpu.reg.c = 228;
    cpu.reg.d = 3;
    cpu.reg.e = 231;
    cpu.reg.f = 80;
    cpu.reg.h = 28;
    cpu.reg.l = 178;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[59130] = 24;
    cpu.ram[59131] = 36;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 195);
    CHECK(cpu.reg.b == 156);
    CHECK(cpu.reg.c == 228);
    CHECK(cpu.reg.d == 3);
    CHECK(cpu.reg.e == 231);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 28);
    CHECK(cpu.reg.l == 178);
    CHECK(cpu.pc == 59168);
    CHECK(cpu.sp == 62262);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[59130] == 24);
    REQUIRE(cpu.ram[59131] == 36);
}

TEST_CASE( "18 0109", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45012;
    cpu.sp = 26631;
    cpu.reg.a = 243;
    cpu.reg.b = 241;
    cpu.reg.c = 47;
    cpu.reg.d = 70;
    cpu.reg.e = 182;
    cpu.reg.f = 0;
    cpu.reg.h = 97;
    cpu.reg.l = 19;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[45012] = 24;
    cpu.ram[45013] = 211;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 243);
    CHECK(cpu.reg.b == 241);
    CHECK(cpu.reg.c == 47);
    CHECK(cpu.reg.d == 70);
    CHECK(cpu.reg.e == 182);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 97);
    CHECK(cpu.reg.l == 19);
    CHECK(cpu.pc == 44969);
    CHECK(cpu.sp == 26631);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45012] == 24);
    REQUIRE(cpu.ram[45013] == 211);
}

TEST_CASE( "18 010A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52908;
    cpu.sp = 16945;
    cpu.reg.a = 119;
    cpu.reg.b = 215;
    cpu.reg.c = 7;
    cpu.reg.d = 139;
    cpu.reg.e = 161;
    cpu.reg.f = 144;
    cpu.reg.h = 30;
    cpu.reg.l = 61;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[52908] = 24;
    cpu.ram[52909] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 119);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 7);
    CHECK(cpu.reg.d == 139);
    CHECK(cpu.reg.e == 161);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 30);
    CHECK(cpu.reg.l == 61);
    CHECK(cpu.pc == 52910);
    CHECK(cpu.sp == 16945);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[52908] == 24);
    REQUIRE(cpu.ram[52909] == 0);
}

TEST_CASE( "18 010B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 163;
    cpu.sp = 26953;
    cpu.reg.a = 13;
    cpu.reg.b = 41;
    cpu.reg.c = 45;
    cpu.reg.d = 24;
    cpu.reg.e = 86;
    cpu.reg.f = 208;
    cpu.reg.h = 103;
    cpu.reg.l = 103;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[163] = 24;
    cpu.ram[164] = 156;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 13);
    CHECK(cpu.reg.b == 41);
    CHECK(cpu.reg.c == 45);
    CHECK(cpu.reg.d == 24);
    CHECK(cpu.reg.e == 86);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 103);
    CHECK(cpu.reg.l == 103);
    CHECK(cpu.pc == 65);
    CHECK(cpu.sp == 26953);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[163] == 24);
    REQUIRE(cpu.ram[164] == 156);
}

TEST_CASE( "18 010C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46625;
    cpu.sp = 402;
    cpu.reg.a = 84;
    cpu.reg.b = 235;
    cpu.reg.c = 65;
    cpu.reg.d = 228;
    cpu.reg.e = 53;
    cpu.reg.f = 112;
    cpu.reg.h = 56;
    cpu.reg.l = 214;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[46625] = 24;
    cpu.ram[46626] = 189;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 84);
    CHECK(cpu.reg.b == 235);
    CHECK(cpu.reg.c == 65);
    CHECK(cpu.reg.d == 228);
    CHECK(cpu.reg.e == 53);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 56);
    CHECK(cpu.reg.l == 214);
    CHECK(cpu.pc == 46560);
    CHECK(cpu.sp == 402);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46625] == 24);
    REQUIRE(cpu.ram[46626] == 189);
}

TEST_CASE( "18 010D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18315;
    cpu.sp = 483;
    cpu.reg.a = 86;
    cpu.reg.b = 215;
    cpu.reg.c = 69;
    cpu.reg.d = 68;
    cpu.reg.e = 86;
    cpu.reg.f = 176;
    cpu.reg.h = 67;
    cpu.reg.l = 14;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[18315] = 24;
    cpu.ram[18316] = 37;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 86);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 69);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 86);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 67);
    CHECK(cpu.reg.l == 14);
    CHECK(cpu.pc == 18354);
    CHECK(cpu.sp == 483);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18315] == 24);
    REQUIRE(cpu.ram[18316] == 37);
}

TEST_CASE( "18 010E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54370;
    cpu.sp = 3232;
    cpu.reg.a = 198;
    cpu.reg.b = 53;
    cpu.reg.c = 196;
    cpu.reg.d = 87;
    cpu.reg.e = 4;
    cpu.reg.f = 0;
    cpu.reg.h = 67;
    cpu.reg.l = 192;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[54370] = 24;
    cpu.ram[54371] = 253;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 198);
    CHECK(cpu.reg.b == 53);
    CHECK(cpu.reg.c == 196);
    CHECK(cpu.reg.d == 87);
    CHECK(cpu.reg.e == 4);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 67);
    CHECK(cpu.reg.l == 192);
    CHECK(cpu.pc == 54369);
    CHECK(cpu.sp == 3232);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54370] == 24);
    REQUIRE(cpu.ram[54371] == 253);
}

TEST_CASE( "18 010F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27440;
    cpu.sp = 400;
    cpu.reg.a = 90;
    cpu.reg.b = 156;
    cpu.reg.c = 212;
    cpu.reg.d = 79;
    cpu.reg.e = 36;
    cpu.reg.f = 112;
    cpu.reg.h = 219;
    cpu.reg.l = 225;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[27440] = 24;
    cpu.ram[27441] = 221;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 90);
    CHECK(cpu.reg.b == 156);
    CHECK(cpu.reg.c == 212);
    CHECK(cpu.reg.d == 79);
    CHECK(cpu.reg.e == 36);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 219);
    CHECK(cpu.reg.l == 225);
    CHECK(cpu.pc == 27407);
    CHECK(cpu.sp == 400);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27440] == 24);
    REQUIRE(cpu.ram[27441] == 221);
}

TEST_CASE( "18 0110", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18251;
    cpu.sp = 11053;
    cpu.reg.a = 207;
    cpu.reg.b = 81;
    cpu.reg.c = 75;
    cpu.reg.d = 174;
    cpu.reg.e = 112;
    cpu.reg.f = 144;
    cpu.reg.h = 150;
    cpu.reg.l = 248;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[18251] = 24;
    cpu.ram[18252] = 248;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 207);
    CHECK(cpu.reg.b == 81);
    CHECK(cpu.reg.c == 75);
    CHECK(cpu.reg.d == 174);
    CHECK(cpu.reg.e == 112);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 150);
    CHECK(cpu.reg.l == 248);
    CHECK(cpu.pc == 18245);
    CHECK(cpu.sp == 11053);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18251] == 24);
    REQUIRE(cpu.ram[18252] == 248);
}

TEST_CASE( "18 0111", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 183;
    cpu.sp = 23697;
    cpu.reg.a = 16;
    cpu.reg.b = 13;
    cpu.reg.c = 2;
    cpu.reg.d = 206;
    cpu.reg.e = 6;
    cpu.reg.f = 176;
    cpu.reg.h = 43;
    cpu.reg.l = 205;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[183] = 24;
    cpu.ram[184] = 150;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 16);
    CHECK(cpu.reg.b == 13);
    CHECK(cpu.reg.c == 2);
    CHECK(cpu.reg.d == 206);
    CHECK(cpu.reg.e == 6);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 43);
    CHECK(cpu.reg.l == 205);
    CHECK(cpu.pc == 79);
    CHECK(cpu.sp == 23697);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[183] == 24);
    REQUIRE(cpu.ram[184] == 150);
}

TEST_CASE( "18 0112", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30369;
    cpu.sp = 22131;
    cpu.reg.a = 54;
    cpu.reg.b = 126;
    cpu.reg.c = 196;
    cpu.reg.d = 8;
    cpu.reg.e = 192;
    cpu.reg.f = 224;
    cpu.reg.h = 171;
    cpu.reg.l = 178;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[30369] = 24;
    cpu.ram[30370] = 41;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 54);
    CHECK(cpu.reg.b == 126);
    CHECK(cpu.reg.c == 196);
    CHECK(cpu.reg.d == 8);
    CHECK(cpu.reg.e == 192);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 171);
    CHECK(cpu.reg.l == 178);
    CHECK(cpu.pc == 30412);
    CHECK(cpu.sp == 22131);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30369] == 24);
    REQUIRE(cpu.ram[30370] == 41);
}

TEST_CASE( "18 0113", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48717;
    cpu.sp = 23929;
    cpu.reg.a = 12;
    cpu.reg.b = 243;
    cpu.reg.c = 241;
    cpu.reg.d = 25;
    cpu.reg.e = 4;
    cpu.reg.f = 192;
    cpu.reg.h = 243;
    cpu.reg.l = 98;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[48717] = 24;
    cpu.ram[48718] = 88;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 12);
    CHECK(cpu.reg.b == 243);
    CHECK(cpu.reg.c == 241);
    CHECK(cpu.reg.d == 25);
    CHECK(cpu.reg.e == 4);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 243);
    CHECK(cpu.reg.l == 98);
    CHECK(cpu.pc == 48807);
    CHECK(cpu.sp == 23929);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48717] == 24);
    REQUIRE(cpu.ram[48718] == 88);
}

TEST_CASE( "18 0114", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46713;
    cpu.sp = 41552;
    cpu.reg.a = 90;
    cpu.reg.b = 92;
    cpu.reg.c = 56;
    cpu.reg.d = 209;
    cpu.reg.e = 48;
    cpu.reg.f = 208;
    cpu.reg.h = 189;
    cpu.reg.l = 63;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[46713] = 24;
    cpu.ram[46714] = 12;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 90);
    CHECK(cpu.reg.b == 92);
    CHECK(cpu.reg.c == 56);
    CHECK(cpu.reg.d == 209);
    CHECK(cpu.reg.e == 48);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 189);
    CHECK(cpu.reg.l == 63);
    CHECK(cpu.pc == 46727);
    CHECK(cpu.sp == 41552);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[46713] == 24);
    REQUIRE(cpu.ram[46714] == 12);
}

TEST_CASE( "18 0115", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57029;
    cpu.sp = 13250;
    cpu.reg.a = 133;
    cpu.reg.b = 145;
    cpu.reg.c = 243;
    cpu.reg.d = 111;
    cpu.reg.e = 59;
    cpu.reg.f = 112;
    cpu.reg.h = 37;
    cpu.reg.l = 233;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[57029] = 24;
    cpu.ram[57030] = 84;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 133);
    CHECK(cpu.reg.b == 145);
    CHECK(cpu.reg.c == 243);
    CHECK(cpu.reg.d == 111);
    CHECK(cpu.reg.e == 59);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 37);
    CHECK(cpu.reg.l == 233);
    CHECK(cpu.pc == 57115);
    CHECK(cpu.sp == 13250);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[57029] == 24);
    REQUIRE(cpu.ram[57030] == 84);
}

TEST_CASE( "18 0116", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54079;
    cpu.sp = 54803;
    cpu.reg.a = 61;
    cpu.reg.b = 169;
    cpu.reg.c = 96;
    cpu.reg.d = 191;
    cpu.reg.e = 62;
    cpu.reg.f = 176;
    cpu.reg.h = 67;
    cpu.reg.l = 189;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[54079] = 24;
    cpu.ram[54080] = 29;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 61);
    CHECK(cpu.reg.b == 169);
    CHECK(cpu.reg.c == 96);
    CHECK(cpu.reg.d == 191);
    CHECK(cpu.reg.e == 62);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 67);
    CHECK(cpu.reg.l == 189);
    CHECK(cpu.pc == 54110);
    CHECK(cpu.sp == 54803);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54079] == 24);
    REQUIRE(cpu.ram[54080] == 29);
}

TEST_CASE( "18 0117", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17886;
    cpu.sp = 16722;
    cpu.reg.a = 196;
    cpu.reg.b = 179;
    cpu.reg.c = 147;
    cpu.reg.d = 186;
    cpu.reg.e = 132;
    cpu.reg.f = 48;
    cpu.reg.h = 79;
    cpu.reg.l = 101;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[17886] = 24;
    cpu.ram[17887] = 158;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 196);
    CHECK(cpu.reg.b == 179);
    CHECK(cpu.reg.c == 147);
    CHECK(cpu.reg.d == 186);
    CHECK(cpu.reg.e == 132);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 79);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 17790);
    CHECK(cpu.sp == 16722);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17886] == 24);
    REQUIRE(cpu.ram[17887] == 158);
}

TEST_CASE( "18 0118", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36952;
    cpu.sp = 41948;
    cpu.reg.a = 110;
    cpu.reg.b = 34;
    cpu.reg.c = 241;
    cpu.reg.d = 86;
    cpu.reg.e = 44;
    cpu.reg.f = 240;
    cpu.reg.h = 161;
    cpu.reg.l = 243;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[36952] = 24;
    cpu.ram[36953] = 238;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 110);
    CHECK(cpu.reg.b == 34);
    CHECK(cpu.reg.c == 241);
    CHECK(cpu.reg.d == 86);
    CHECK(cpu.reg.e == 44);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 161);
    CHECK(cpu.reg.l == 243);
    CHECK(cpu.pc == 36936);
    CHECK(cpu.sp == 41948);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36952] == 24);
    REQUIRE(cpu.ram[36953] == 238);
}

TEST_CASE( "18 0119", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5214;
    cpu.sp = 19321;
    cpu.reg.a = 21;
    cpu.reg.b = 120;
    cpu.reg.c = 164;
    cpu.reg.d = 76;
    cpu.reg.e = 232;
    cpu.reg.f = 224;
    cpu.reg.h = 22;
    cpu.reg.l = 148;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5214] = 24;
    cpu.ram[5215] = 125;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 21);
    CHECK(cpu.reg.b == 120);
    CHECK(cpu.reg.c == 164);
    CHECK(cpu.reg.d == 76);
    CHECK(cpu.reg.e == 232);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 22);
    CHECK(cpu.reg.l == 148);
    CHECK(cpu.pc == 5341);
    CHECK(cpu.sp == 19321);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5214] == 24);
    REQUIRE(cpu.ram[5215] == 125);
}

TEST_CASE( "18 011A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19262;
    cpu.sp = 27030;
    cpu.reg.a = 65;
    cpu.reg.b = 216;
    cpu.reg.c = 42;
    cpu.reg.d = 146;
    cpu.reg.e = 149;
    cpu.reg.f = 0;
    cpu.reg.h = 173;
    cpu.reg.l = 89;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[19262] = 24;
    cpu.ram[19263] = 95;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 65);
    CHECK(cpu.reg.b == 216);
    CHECK(cpu.reg.c == 42);
    CHECK(cpu.reg.d == 146);
    CHECK(cpu.reg.e == 149);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 173);
    CHECK(cpu.reg.l == 89);
    CHECK(cpu.pc == 19359);
    CHECK(cpu.sp == 27030);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19262] == 24);
    REQUIRE(cpu.ram[19263] == 95);
}

TEST_CASE( "18 011B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5943;
    cpu.sp = 5440;
    cpu.reg.a = 119;
    cpu.reg.b = 195;
    cpu.reg.c = 210;
    cpu.reg.d = 44;
    cpu.reg.e = 229;
    cpu.reg.f = 240;
    cpu.reg.h = 57;
    cpu.reg.l = 56;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[5943] = 24;
    cpu.ram[5944] = 133;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 119);
    CHECK(cpu.reg.b == 195);
    CHECK(cpu.reg.c == 210);
    CHECK(cpu.reg.d == 44);
    CHECK(cpu.reg.e == 229);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 57);
    CHECK(cpu.reg.l == 56);
    CHECK(cpu.pc == 5822);
    CHECK(cpu.sp == 5440);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5943] == 24);
    REQUIRE(cpu.ram[5944] == 133);
}

TEST_CASE( "18 011C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50853;
    cpu.sp = 52728;
    cpu.reg.a = 29;
    cpu.reg.b = 137;
    cpu.reg.c = 59;
    cpu.reg.d = 134;
    cpu.reg.e = 41;
    cpu.reg.f = 128;
    cpu.reg.h = 39;
    cpu.reg.l = 226;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[50853] = 24;
    cpu.ram[50854] = 31;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 29);
    CHECK(cpu.reg.b == 137);
    CHECK(cpu.reg.c == 59);
    CHECK(cpu.reg.d == 134);
    CHECK(cpu.reg.e == 41);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 39);
    CHECK(cpu.reg.l == 226);
    CHECK(cpu.pc == 50886);
    CHECK(cpu.sp == 52728);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50853] == 24);
    REQUIRE(cpu.ram[50854] == 31);
}

TEST_CASE( "18 011D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46864;
    cpu.sp = 36243;
    cpu.reg.a = 39;
    cpu.reg.b = 73;
    cpu.reg.c = 144;
    cpu.reg.d = 105;
    cpu.reg.e = 59;
    cpu.reg.f = 208;
    cpu.reg.h = 22;
    cpu.reg.l = 113;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[46864] = 24;
    cpu.ram[46865] = 242;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 39);
    CHECK(cpu.reg.b == 73);
    CHECK(cpu.reg.c == 144);
    CHECK(cpu.reg.d == 105);
    CHECK(cpu.reg.e == 59);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 22);
    CHECK(cpu.reg.l == 113);
    CHECK(cpu.pc == 46852);
    CHECK(cpu.sp == 36243);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46864] == 24);
    REQUIRE(cpu.ram[46865] == 242);
}

TEST_CASE( "18 011E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2969;
    cpu.sp = 43760;
    cpu.reg.a = 17;
    cpu.reg.b = 79;
    cpu.reg.c = 170;
    cpu.reg.d = 87;
    cpu.reg.e = 171;
    cpu.reg.f = 80;
    cpu.reg.h = 116;
    cpu.reg.l = 113;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[2969] = 24;
    cpu.ram[2970] = 82;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 17);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 170);
    CHECK(cpu.reg.d == 87);
    CHECK(cpu.reg.e == 171);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 116);
    CHECK(cpu.reg.l == 113);
    CHECK(cpu.pc == 3053);
    CHECK(cpu.sp == 43760);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2969] == 24);
    REQUIRE(cpu.ram[2970] == 82);
}

TEST_CASE( "18 011F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64553;
    cpu.sp = 64169;
    cpu.reg.a = 6;
    cpu.reg.b = 255;
    cpu.reg.c = 248;
    cpu.reg.d = 55;
    cpu.reg.e = 246;
    cpu.reg.f = 16;
    cpu.reg.h = 138;
    cpu.reg.l = 152;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[64553] = 24;
    cpu.ram[64554] = 124;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 6);
    CHECK(cpu.reg.b == 255);
    CHECK(cpu.reg.c == 248);
    CHECK(cpu.reg.d == 55);
    CHECK(cpu.reg.e == 246);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 138);
    CHECK(cpu.reg.l == 152);
    CHECK(cpu.pc == 64679);
    CHECK(cpu.sp == 64169);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64553] == 24);
    REQUIRE(cpu.ram[64554] == 124);
}

TEST_CASE( "18 0120", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25773;
    cpu.sp = 26652;
    cpu.reg.a = 223;
    cpu.reg.b = 165;
    cpu.reg.c = 25;
    cpu.reg.d = 199;
    cpu.reg.e = 45;
    cpu.reg.f = 80;
    cpu.reg.h = 81;
    cpu.reg.l = 245;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[25773] = 24;
    cpu.ram[25774] = 37;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 223);
    CHECK(cpu.reg.b == 165);
    CHECK(cpu.reg.c == 25);
    CHECK(cpu.reg.d == 199);
    CHECK(cpu.reg.e == 45);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 81);
    CHECK(cpu.reg.l == 245);
    CHECK(cpu.pc == 25812);
    CHECK(cpu.sp == 26652);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25773] == 24);
    REQUIRE(cpu.ram[25774] == 37);
}

TEST_CASE( "18 0121", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63309;
    cpu.sp = 15856;
    cpu.reg.a = 162;
    cpu.reg.b = 248;
    cpu.reg.c = 81;
    cpu.reg.d = 155;
    cpu.reg.e = 160;
    cpu.reg.f = 224;
    cpu.reg.h = 0;
    cpu.reg.l = 245;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[63309] = 24;
    cpu.ram[63310] = 24;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 162);
    CHECK(cpu.reg.b == 248);
    CHECK(cpu.reg.c == 81);
    CHECK(cpu.reg.d == 155);
    CHECK(cpu.reg.e == 160);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 0);
    CHECK(cpu.reg.l == 245);
    CHECK(cpu.pc == 63335);
    CHECK(cpu.sp == 15856);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[63309] == 24);
    REQUIRE(cpu.ram[63310] == 24);
}

TEST_CASE( "18 0122", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64413;
    cpu.sp = 21645;
    cpu.reg.a = 14;
    cpu.reg.b = 135;
    cpu.reg.c = 16;
    cpu.reg.d = 91;
    cpu.reg.e = 39;
    cpu.reg.f = 192;
    cpu.reg.h = 161;
    cpu.reg.l = 182;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[64413] = 24;
    cpu.ram[64414] = 98;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 14);
    CHECK(cpu.reg.b == 135);
    CHECK(cpu.reg.c == 16);
    CHECK(cpu.reg.d == 91);
    CHECK(cpu.reg.e == 39);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 161);
    CHECK(cpu.reg.l == 182);
    CHECK(cpu.pc == 64513);
    CHECK(cpu.sp == 21645);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[64413] == 24);
    REQUIRE(cpu.ram[64414] == 98);
}

TEST_CASE( "18 0123", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38946;
    cpu.sp = 23897;
    cpu.reg.a = 100;
    cpu.reg.b = 4;
    cpu.reg.c = 159;
    cpu.reg.d = 250;
    cpu.reg.e = 111;
    cpu.reg.f = 16;
    cpu.reg.h = 190;
    cpu.reg.l = 202;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[38946] = 24;
    cpu.ram[38947] = 153;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 100);
    CHECK(cpu.reg.b == 4);
    CHECK(cpu.reg.c == 159);
    CHECK(cpu.reg.d == 250);
    CHECK(cpu.reg.e == 111);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 190);
    CHECK(cpu.reg.l == 202);
    CHECK(cpu.pc == 38845);
    CHECK(cpu.sp == 23897);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38946] == 24);
    REQUIRE(cpu.ram[38947] == 153);
}

TEST_CASE( "18 0124", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19334;
    cpu.sp = 2777;
    cpu.reg.a = 32;
    cpu.reg.b = 88;
    cpu.reg.c = 74;
    cpu.reg.d = 72;
    cpu.reg.e = 67;
    cpu.reg.f = 208;
    cpu.reg.h = 36;
    cpu.reg.l = 51;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[19334] = 24;
    cpu.ram[19335] = 6;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 32);
    CHECK(cpu.reg.b == 88);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 72);
    CHECK(cpu.reg.e == 67);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 36);
    CHECK(cpu.reg.l == 51);
    CHECK(cpu.pc == 19342);
    CHECK(cpu.sp == 2777);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19334] == 24);
    REQUIRE(cpu.ram[19335] == 6);
}

TEST_CASE( "18 0125", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40733;
    cpu.sp = 56911;
    cpu.reg.a = 182;
    cpu.reg.b = 83;
    cpu.reg.c = 205;
    cpu.reg.d = 86;
    cpu.reg.e = 169;
    cpu.reg.f = 64;
    cpu.reg.h = 28;
    cpu.reg.l = 38;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[40733] = 24;
    cpu.ram[40734] = 187;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 182);
    CHECK(cpu.reg.b == 83);
    CHECK(cpu.reg.c == 205);
    CHECK(cpu.reg.d == 86);
    CHECK(cpu.reg.e == 169);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 28);
    CHECK(cpu.reg.l == 38);
    CHECK(cpu.pc == 40666);
    CHECK(cpu.sp == 56911);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40733] == 24);
    REQUIRE(cpu.ram[40734] == 187);
}

TEST_CASE( "18 0126", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56360;
    cpu.sp = 13556;
    cpu.reg.a = 45;
    cpu.reg.b = 2;
    cpu.reg.c = 250;
    cpu.reg.d = 201;
    cpu.reg.e = 246;
    cpu.reg.f = 112;
    cpu.reg.h = 224;
    cpu.reg.l = 242;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[56360] = 24;
    cpu.ram[56361] = 136;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 45);
    CHECK(cpu.reg.b == 2);
    CHECK(cpu.reg.c == 250);
    CHECK(cpu.reg.d == 201);
    CHECK(cpu.reg.e == 246);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 224);
    CHECK(cpu.reg.l == 242);
    CHECK(cpu.pc == 56242);
    CHECK(cpu.sp == 13556);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56360] == 24);
    REQUIRE(cpu.ram[56361] == 136);
}

TEST_CASE( "18 0127", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6419;
    cpu.sp = 48902;
    cpu.reg.a = 187;
    cpu.reg.b = 118;
    cpu.reg.c = 216;
    cpu.reg.d = 229;
    cpu.reg.e = 195;
    cpu.reg.f = 176;
    cpu.reg.h = 76;
    cpu.reg.l = 89;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[6419] = 24;
    cpu.ram[6420] = 90;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 187);
    CHECK(cpu.reg.b == 118);
    CHECK(cpu.reg.c == 216);
    CHECK(cpu.reg.d == 229);
    CHECK(cpu.reg.e == 195);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 76);
    CHECK(cpu.reg.l == 89);
    CHECK(cpu.pc == 6511);
    CHECK(cpu.sp == 48902);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6419] == 24);
    REQUIRE(cpu.ram[6420] == 90);
}

TEST_CASE( "18 0128", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22089;
    cpu.sp = 5130;
    cpu.reg.a = 166;
    cpu.reg.b = 142;
    cpu.reg.c = 84;
    cpu.reg.d = 184;
    cpu.reg.e = 79;
    cpu.reg.f = 144;
    cpu.reg.h = 149;
    cpu.reg.l = 92;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[22089] = 24;
    cpu.ram[22090] = 175;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 166);
    CHECK(cpu.reg.b == 142);
    CHECK(cpu.reg.c == 84);
    CHECK(cpu.reg.d == 184);
    CHECK(cpu.reg.e == 79);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 149);
    CHECK(cpu.reg.l == 92);
    CHECK(cpu.pc == 22010);
    CHECK(cpu.sp == 5130);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22089] == 24);
    REQUIRE(cpu.ram[22090] == 175);
}

TEST_CASE( "18 0129", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46131;
    cpu.sp = 61650;
    cpu.reg.a = 195;
    cpu.reg.b = 236;
    cpu.reg.c = 74;
    cpu.reg.d = 160;
    cpu.reg.e = 89;
    cpu.reg.f = 16;
    cpu.reg.h = 88;
    cpu.reg.l = 156;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[46131] = 24;
    cpu.ram[46132] = 14;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 195);
    CHECK(cpu.reg.b == 236);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 160);
    CHECK(cpu.reg.e == 89);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 88);
    CHECK(cpu.reg.l == 156);
    CHECK(cpu.pc == 46147);
    CHECK(cpu.sp == 61650);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[46131] == 24);
    REQUIRE(cpu.ram[46132] == 14);
}

TEST_CASE( "18 012A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2456;
    cpu.sp = 37576;
    cpu.reg.a = 91;
    cpu.reg.b = 36;
    cpu.reg.c = 63;
    cpu.reg.d = 213;
    cpu.reg.e = 168;
    cpu.reg.f = 224;
    cpu.reg.h = 232;
    cpu.reg.l = 114;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[2456] = 24;
    cpu.ram[2457] = 253;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 91);
    CHECK(cpu.reg.b == 36);
    CHECK(cpu.reg.c == 63);
    CHECK(cpu.reg.d == 213);
    CHECK(cpu.reg.e == 168);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 232);
    CHECK(cpu.reg.l == 114);
    CHECK(cpu.pc == 2455);
    CHECK(cpu.sp == 37576);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2456] == 24);
    REQUIRE(cpu.ram[2457] == 253);
}

TEST_CASE( "18 012B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54492;
    cpu.sp = 55303;
    cpu.reg.a = 77;
    cpu.reg.b = 238;
    cpu.reg.c = 202;
    cpu.reg.d = 111;
    cpu.reg.e = 249;
    cpu.reg.f = 96;
    cpu.reg.h = 34;
    cpu.reg.l = 103;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[54492] = 24;
    cpu.ram[54493] = 122;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 77);
    CHECK(cpu.reg.b == 238);
    CHECK(cpu.reg.c == 202);
    CHECK(cpu.reg.d == 111);
    CHECK(cpu.reg.e == 249);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 34);
    CHECK(cpu.reg.l == 103);
    CHECK(cpu.pc == 54616);
    CHECK(cpu.sp == 55303);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54492] == 24);
    REQUIRE(cpu.ram[54493] == 122);
}

TEST_CASE( "18 012C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 840;
    cpu.sp = 61509;
    cpu.reg.a = 92;
    cpu.reg.b = 7;
    cpu.reg.c = 45;
    cpu.reg.d = 27;
    cpu.reg.e = 134;
    cpu.reg.f = 176;
    cpu.reg.h = 240;
    cpu.reg.l = 65;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[840] = 24;
    cpu.ram[841] = 61;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 92);
    CHECK(cpu.reg.b == 7);
    CHECK(cpu.reg.c == 45);
    CHECK(cpu.reg.d == 27);
    CHECK(cpu.reg.e == 134);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 240);
    CHECK(cpu.reg.l == 65);
    CHECK(cpu.pc == 903);
    CHECK(cpu.sp == 61509);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[840] == 24);
    REQUIRE(cpu.ram[841] == 61);
}

TEST_CASE( "18 012D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27650;
    cpu.sp = 46609;
    cpu.reg.a = 74;
    cpu.reg.b = 63;
    cpu.reg.c = 131;
    cpu.reg.d = 123;
    cpu.reg.e = 109;
    cpu.reg.f = 48;
    cpu.reg.h = 57;
    cpu.reg.l = 28;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[27650] = 24;
    cpu.ram[27651] = 144;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 74);
    CHECK(cpu.reg.b == 63);
    CHECK(cpu.reg.c == 131);
    CHECK(cpu.reg.d == 123);
    CHECK(cpu.reg.e == 109);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 57);
    CHECK(cpu.reg.l == 28);
    CHECK(cpu.pc == 27540);
    CHECK(cpu.sp == 46609);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27650] == 24);
    REQUIRE(cpu.ram[27651] == 144);
}

TEST_CASE( "18 012E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11060;
    cpu.sp = 13343;
    cpu.reg.a = 10;
    cpu.reg.b = 160;
    cpu.reg.c = 145;
    cpu.reg.d = 81;
    cpu.reg.e = 151;
    cpu.reg.f = 80;
    cpu.reg.h = 2;
    cpu.reg.l = 205;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[11060] = 24;
    cpu.ram[11061] = 42;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 10);
    CHECK(cpu.reg.b == 160);
    CHECK(cpu.reg.c == 145);
    CHECK(cpu.reg.d == 81);
    CHECK(cpu.reg.e == 151);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 2);
    CHECK(cpu.reg.l == 205);
    CHECK(cpu.pc == 11104);
    CHECK(cpu.sp == 13343);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11060] == 24);
    REQUIRE(cpu.ram[11061] == 42);
}

TEST_CASE( "18 012F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46367;
    cpu.sp = 22314;
    cpu.reg.a = 17;
    cpu.reg.b = 17;
    cpu.reg.c = 3;
    cpu.reg.d = 4;
    cpu.reg.e = 8;
    cpu.reg.f = 112;
    cpu.reg.h = 45;
    cpu.reg.l = 94;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[46367] = 24;
    cpu.ram[46368] = 208;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 17);
    CHECK(cpu.reg.b == 17);
    CHECK(cpu.reg.c == 3);
    CHECK(cpu.reg.d == 4);
    CHECK(cpu.reg.e == 8);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 45);
    CHECK(cpu.reg.l == 94);
    CHECK(cpu.pc == 46321);
    CHECK(cpu.sp == 22314);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[46367] == 24);
    REQUIRE(cpu.ram[46368] == 208);
}

TEST_CASE( "18 0130", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1137;
    cpu.sp = 434;
    cpu.reg.a = 56;
    cpu.reg.b = 126;
    cpu.reg.c = 181;
    cpu.reg.d = 248;
    cpu.reg.e = 186;
    cpu.reg.f = 96;
    cpu.reg.h = 157;
    cpu.reg.l = 126;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[1137] = 24;
    cpu.ram[1138] = 58;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 56);
    CHECK(cpu.reg.b == 126);
    CHECK(cpu.reg.c == 181);
    CHECK(cpu.reg.d == 248);
    CHECK(cpu.reg.e == 186);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 157);
    CHECK(cpu.reg.l == 126);
    CHECK(cpu.pc == 1197);
    CHECK(cpu.sp == 434);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1137] == 24);
    REQUIRE(cpu.ram[1138] == 58);
}

TEST_CASE( "18 0131", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28593;
    cpu.sp = 4360;
    cpu.reg.a = 191;
    cpu.reg.b = 150;
    cpu.reg.c = 160;
    cpu.reg.d = 74;
    cpu.reg.e = 100;
    cpu.reg.f = 144;
    cpu.reg.h = 33;
    cpu.reg.l = 116;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[28593] = 24;
    cpu.ram[28594] = 80;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 191);
    CHECK(cpu.reg.b == 150);
    CHECK(cpu.reg.c == 160);
    CHECK(cpu.reg.d == 74);
    CHECK(cpu.reg.e == 100);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 33);
    CHECK(cpu.reg.l == 116);
    CHECK(cpu.pc == 28675);
    CHECK(cpu.sp == 4360);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[28593] == 24);
    REQUIRE(cpu.ram[28594] == 80);
}

TEST_CASE( "18 0132", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 204;
    cpu.sp = 12424;
    cpu.reg.a = 93;
    cpu.reg.b = 28;
    cpu.reg.c = 178;
    cpu.reg.d = 211;
    cpu.reg.e = 255;
    cpu.reg.f = 144;
    cpu.reg.h = 136;
    cpu.reg.l = 214;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[204] = 24;
    cpu.ram[205] = 34;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 93);
    CHECK(cpu.reg.b == 28);
    CHECK(cpu.reg.c == 178);
    CHECK(cpu.reg.d == 211);
    CHECK(cpu.reg.e == 255);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 136);
    CHECK(cpu.reg.l == 214);
    CHECK(cpu.pc == 240);
    CHECK(cpu.sp == 12424);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[204] == 24);
    REQUIRE(cpu.ram[205] == 34);
}

TEST_CASE( "18 0133", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57831;
    cpu.sp = 15388;
    cpu.reg.a = 109;
    cpu.reg.b = 36;
    cpu.reg.c = 123;
    cpu.reg.d = 60;
    cpu.reg.e = 158;
    cpu.reg.f = 128;
    cpu.reg.h = 141;
    cpu.reg.l = 87;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[57831] = 24;
    cpu.ram[57832] = 164;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 109);
    CHECK(cpu.reg.b == 36);
    CHECK(cpu.reg.c == 123);
    CHECK(cpu.reg.d == 60);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 141);
    CHECK(cpu.reg.l == 87);
    CHECK(cpu.pc == 57741);
    CHECK(cpu.sp == 15388);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[57831] == 24);
    REQUIRE(cpu.ram[57832] == 164);
}

TEST_CASE( "18 0134", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45830;
    cpu.sp = 49100;
    cpu.reg.a = 47;
    cpu.reg.b = 171;
    cpu.reg.c = 47;
    cpu.reg.d = 240;
    cpu.reg.e = 15;
    cpu.reg.f = 80;
    cpu.reg.h = 4;
    cpu.reg.l = 126;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[45830] = 24;
    cpu.ram[45831] = 232;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 47);
    CHECK(cpu.reg.b == 171);
    CHECK(cpu.reg.c == 47);
    CHECK(cpu.reg.d == 240);
    CHECK(cpu.reg.e == 15);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 4);
    CHECK(cpu.reg.l == 126);
    CHECK(cpu.pc == 45808);
    CHECK(cpu.sp == 49100);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45830] == 24);
    REQUIRE(cpu.ram[45831] == 232);
}

TEST_CASE( "18 0135", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32668;
    cpu.sp = 61445;
    cpu.reg.a = 36;
    cpu.reg.b = 99;
    cpu.reg.c = 53;
    cpu.reg.d = 164;
    cpu.reg.e = 177;
    cpu.reg.f = 208;
    cpu.reg.h = 125;
    cpu.reg.l = 42;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[32668] = 24;
    cpu.ram[32669] = 240;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 36);
    CHECK(cpu.reg.b == 99);
    CHECK(cpu.reg.c == 53);
    CHECK(cpu.reg.d == 164);
    CHECK(cpu.reg.e == 177);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 125);
    CHECK(cpu.reg.l == 42);
    CHECK(cpu.pc == 32654);
    CHECK(cpu.sp == 61445);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[32668] == 24);
    REQUIRE(cpu.ram[32669] == 240);
}

TEST_CASE( "18 0136", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43134;
    cpu.sp = 27138;
    cpu.reg.a = 179;
    cpu.reg.b = 163;
    cpu.reg.c = 205;
    cpu.reg.d = 70;
    cpu.reg.e = 112;
    cpu.reg.f = 0;
    cpu.reg.h = 24;
    cpu.reg.l = 3;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[43134] = 24;
    cpu.ram[43135] = 250;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 179);
    CHECK(cpu.reg.b == 163);
    CHECK(cpu.reg.c == 205);
    CHECK(cpu.reg.d == 70);
    CHECK(cpu.reg.e == 112);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 24);
    CHECK(cpu.reg.l == 3);
    CHECK(cpu.pc == 43130);
    CHECK(cpu.sp == 27138);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43134] == 24);
    REQUIRE(cpu.ram[43135] == 250);
}

TEST_CASE( "18 0137", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39107;
    cpu.sp = 24795;
    cpu.reg.a = 159;
    cpu.reg.b = 70;
    cpu.reg.c = 125;
    cpu.reg.d = 184;
    cpu.reg.e = 30;
    cpu.reg.f = 176;
    cpu.reg.h = 212;
    cpu.reg.l = 254;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[39107] = 24;
    cpu.ram[39108] = 142;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 159);
    CHECK(cpu.reg.b == 70);
    CHECK(cpu.reg.c == 125);
    CHECK(cpu.reg.d == 184);
    CHECK(cpu.reg.e == 30);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 212);
    CHECK(cpu.reg.l == 254);
    CHECK(cpu.pc == 38995);
    CHECK(cpu.sp == 24795);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39107] == 24);
    REQUIRE(cpu.ram[39108] == 142);
}

TEST_CASE( "18 0138", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61539;
    cpu.sp = 40172;
    cpu.reg.a = 199;
    cpu.reg.b = 90;
    cpu.reg.c = 92;
    cpu.reg.d = 84;
    cpu.reg.e = 233;
    cpu.reg.f = 48;
    cpu.reg.h = 234;
    cpu.reg.l = 180;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[61539] = 24;
    cpu.ram[61540] = 215;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 199);
    CHECK(cpu.reg.b == 90);
    CHECK(cpu.reg.c == 92);
    CHECK(cpu.reg.d == 84);
    CHECK(cpu.reg.e == 233);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 234);
    CHECK(cpu.reg.l == 180);
    CHECK(cpu.pc == 61500);
    CHECK(cpu.sp == 40172);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61539] == 24);
    REQUIRE(cpu.ram[61540] == 215);
}

TEST_CASE( "18 0139", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9757;
    cpu.sp = 30753;
    cpu.reg.a = 205;
    cpu.reg.b = 198;
    cpu.reg.c = 28;
    cpu.reg.d = 70;
    cpu.reg.e = 102;
    cpu.reg.f = 64;
    cpu.reg.h = 243;
    cpu.reg.l = 1;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[9757] = 24;
    cpu.ram[9758] = 121;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 205);
    CHECK(cpu.reg.b == 198);
    CHECK(cpu.reg.c == 28);
    CHECK(cpu.reg.d == 70);
    CHECK(cpu.reg.e == 102);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 243);
    CHECK(cpu.reg.l == 1);
    CHECK(cpu.pc == 9880);
    CHECK(cpu.sp == 30753);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9757] == 24);
    REQUIRE(cpu.ram[9758] == 121);
}

TEST_CASE( "18 013A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17095;
    cpu.sp = 31190;
    cpu.reg.a = 209;
    cpu.reg.b = 23;
    cpu.reg.c = 225;
    cpu.reg.d = 215;
    cpu.reg.e = 191;
    cpu.reg.f = 64;
    cpu.reg.h = 229;
    cpu.reg.l = 39;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[17095] = 24;
    cpu.ram[17096] = 8;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 209);
    CHECK(cpu.reg.b == 23);
    CHECK(cpu.reg.c == 225);
    CHECK(cpu.reg.d == 215);
    CHECK(cpu.reg.e == 191);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 229);
    CHECK(cpu.reg.l == 39);
    CHECK(cpu.pc == 17105);
    CHECK(cpu.sp == 31190);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17095] == 24);
    REQUIRE(cpu.ram[17096] == 8);
}

TEST_CASE( "18 013B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1571;
    cpu.sp = 49719;
    cpu.reg.a = 150;
    cpu.reg.b = 112;
    cpu.reg.c = 147;
    cpu.reg.d = 70;
    cpu.reg.e = 112;
    cpu.reg.f = 32;
    cpu.reg.h = 252;
    cpu.reg.l = 247;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[1571] = 24;
    cpu.ram[1572] = 149;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 150);
    CHECK(cpu.reg.b == 112);
    CHECK(cpu.reg.c == 147);
    CHECK(cpu.reg.d == 70);
    CHECK(cpu.reg.e == 112);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 252);
    CHECK(cpu.reg.l == 247);
    CHECK(cpu.pc == 1466);
    CHECK(cpu.sp == 49719);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1571] == 24);
    REQUIRE(cpu.ram[1572] == 149);
}

TEST_CASE( "18 013C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41482;
    cpu.sp = 2498;
    cpu.reg.a = 213;
    cpu.reg.b = 237;
    cpu.reg.c = 208;
    cpu.reg.d = 187;
    cpu.reg.e = 159;
    cpu.reg.f = 16;
    cpu.reg.h = 73;
    cpu.reg.l = 113;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[41482] = 24;
    cpu.ram[41483] = 103;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 213);
    CHECK(cpu.reg.b == 237);
    CHECK(cpu.reg.c == 208);
    CHECK(cpu.reg.d == 187);
    CHECK(cpu.reg.e == 159);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 73);
    CHECK(cpu.reg.l == 113);
    CHECK(cpu.pc == 41587);
    CHECK(cpu.sp == 2498);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41482] == 24);
    REQUIRE(cpu.ram[41483] == 103);
}

TEST_CASE( "18 013D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54129;
    cpu.sp = 20113;
    cpu.reg.a = 252;
    cpu.reg.b = 65;
    cpu.reg.c = 149;
    cpu.reg.d = 186;
    cpu.reg.e = 62;
    cpu.reg.f = 144;
    cpu.reg.h = 63;
    cpu.reg.l = 5;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[54129] = 24;
    cpu.ram[54130] = 246;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 252);
    CHECK(cpu.reg.b == 65);
    CHECK(cpu.reg.c == 149);
    CHECK(cpu.reg.d == 186);
    CHECK(cpu.reg.e == 62);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 63);
    CHECK(cpu.reg.l == 5);
    CHECK(cpu.pc == 54121);
    CHECK(cpu.sp == 20113);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[54129] == 24);
    REQUIRE(cpu.ram[54130] == 246);
}

TEST_CASE( "18 013E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21115;
    cpu.sp = 34554;
    cpu.reg.a = 114;
    cpu.reg.b = 106;
    cpu.reg.c = 226;
    cpu.reg.d = 233;
    cpu.reg.e = 180;
    cpu.reg.f = 64;
    cpu.reg.h = 182;
    cpu.reg.l = 222;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[21115] = 24;
    cpu.ram[21116] = 68;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 114);
    CHECK(cpu.reg.b == 106);
    CHECK(cpu.reg.c == 226);
    CHECK(cpu.reg.d == 233);
    CHECK(cpu.reg.e == 180);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 182);
    CHECK(cpu.reg.l == 222);
    CHECK(cpu.pc == 21185);
    CHECK(cpu.sp == 34554);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21115] == 24);
    REQUIRE(cpu.ram[21116] == 68);
}

TEST_CASE( "18 013F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37300;
    cpu.sp = 42185;
    cpu.reg.a = 172;
    cpu.reg.b = 15;
    cpu.reg.c = 128;
    cpu.reg.d = 204;
    cpu.reg.e = 9;
    cpu.reg.f = 32;
    cpu.reg.h = 247;
    cpu.reg.l = 155;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[37300] = 24;
    cpu.ram[37301] = 56;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 172);
    CHECK(cpu.reg.b == 15);
    CHECK(cpu.reg.c == 128);
    CHECK(cpu.reg.d == 204);
    CHECK(cpu.reg.e == 9);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 247);
    CHECK(cpu.reg.l == 155);
    CHECK(cpu.pc == 37358);
    CHECK(cpu.sp == 42185);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[37300] == 24);
    REQUIRE(cpu.ram[37301] == 56);
}

TEST_CASE( "18 0140", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59217;
    cpu.sp = 38371;
    cpu.reg.a = 186;
    cpu.reg.b = 146;
    cpu.reg.c = 18;
    cpu.reg.d = 184;
    cpu.reg.e = 23;
    cpu.reg.f = 80;
    cpu.reg.h = 175;
    cpu.reg.l = 226;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[59217] = 24;
    cpu.ram[59218] = 14;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 186);
    CHECK(cpu.reg.b == 146);
    CHECK(cpu.reg.c == 18);
    CHECK(cpu.reg.d == 184);
    CHECK(cpu.reg.e == 23);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 175);
    CHECK(cpu.reg.l == 226);
    CHECK(cpu.pc == 59233);
    CHECK(cpu.sp == 38371);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[59217] == 24);
    REQUIRE(cpu.ram[59218] == 14);
}

TEST_CASE( "18 0141", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7019;
    cpu.sp = 64058;
    cpu.reg.a = 229;
    cpu.reg.b = 133;
    cpu.reg.c = 22;
    cpu.reg.d = 99;
    cpu.reg.e = 254;
    cpu.reg.f = 112;
    cpu.reg.h = 2;
    cpu.reg.l = 124;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[7019] = 24;
    cpu.ram[7020] = 104;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 229);
    CHECK(cpu.reg.b == 133);
    CHECK(cpu.reg.c == 22);
    CHECK(cpu.reg.d == 99);
    CHECK(cpu.reg.e == 254);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 2);
    CHECK(cpu.reg.l == 124);
    CHECK(cpu.pc == 7125);
    CHECK(cpu.sp == 64058);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7019] == 24);
    REQUIRE(cpu.ram[7020] == 104);
}

TEST_CASE( "18 0142", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17525;
    cpu.sp = 51213;
    cpu.reg.a = 161;
    cpu.reg.b = 98;
    cpu.reg.c = 205;
    cpu.reg.d = 216;
    cpu.reg.e = 211;
    cpu.reg.f = 128;
    cpu.reg.h = 72;
    cpu.reg.l = 213;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[17525] = 24;
    cpu.ram[17526] = 47;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 161);
    CHECK(cpu.reg.b == 98);
    CHECK(cpu.reg.c == 205);
    CHECK(cpu.reg.d == 216);
    CHECK(cpu.reg.e == 211);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 72);
    CHECK(cpu.reg.l == 213);
    CHECK(cpu.pc == 17574);
    CHECK(cpu.sp == 51213);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17525] == 24);
    REQUIRE(cpu.ram[17526] == 47);
}

TEST_CASE( "18 0143", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41838;
    cpu.sp = 65298;
    cpu.reg.a = 61;
    cpu.reg.b = 79;
    cpu.reg.c = 37;
    cpu.reg.d = 167;
    cpu.reg.e = 86;
    cpu.reg.f = 112;
    cpu.reg.h = 21;
    cpu.reg.l = 231;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[41838] = 24;
    cpu.ram[41839] = 229;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 61);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 37);
    CHECK(cpu.reg.d == 167);
    CHECK(cpu.reg.e == 86);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 21);
    CHECK(cpu.reg.l == 231);
    CHECK(cpu.pc == 41813);
    CHECK(cpu.sp == 65298);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41838] == 24);
    REQUIRE(cpu.ram[41839] == 229);
}

TEST_CASE( "18 0144", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15435;
    cpu.sp = 15533;
    cpu.reg.a = 117;
    cpu.reg.b = 93;
    cpu.reg.c = 165;
    cpu.reg.d = 84;
    cpu.reg.e = 224;
    cpu.reg.f = 32;
    cpu.reg.h = 227;
    cpu.reg.l = 170;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[15435] = 24;
    cpu.ram[15436] = 235;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 117);
    CHECK(cpu.reg.b == 93);
    CHECK(cpu.reg.c == 165);
    CHECK(cpu.reg.d == 84);
    CHECK(cpu.reg.e == 224);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 170);
    CHECK(cpu.pc == 15416);
    CHECK(cpu.sp == 15533);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15435] == 24);
    REQUIRE(cpu.ram[15436] == 235);
}

TEST_CASE( "18 0145", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23120;
    cpu.sp = 42106;
    cpu.reg.a = 177;
    cpu.reg.b = 186;
    cpu.reg.c = 194;
    cpu.reg.d = 227;
    cpu.reg.e = 97;
    cpu.reg.f = 112;
    cpu.reg.h = 9;
    cpu.reg.l = 84;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[23120] = 24;
    cpu.ram[23121] = 53;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 177);
    CHECK(cpu.reg.b == 186);
    CHECK(cpu.reg.c == 194);
    CHECK(cpu.reg.d == 227);
    CHECK(cpu.reg.e == 97);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 9);
    CHECK(cpu.reg.l == 84);
    CHECK(cpu.pc == 23175);
    CHECK(cpu.sp == 42106);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23120] == 24);
    REQUIRE(cpu.ram[23121] == 53);
}

TEST_CASE( "18 0146", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9261;
    cpu.sp = 29820;
    cpu.reg.a = 241;
    cpu.reg.b = 101;
    cpu.reg.c = 29;
    cpu.reg.d = 217;
    cpu.reg.e = 176;
    cpu.reg.f = 224;
    cpu.reg.h = 52;
    cpu.reg.l = 134;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[9261] = 24;
    cpu.ram[9262] = 243;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 241);
    CHECK(cpu.reg.b == 101);
    CHECK(cpu.reg.c == 29);
    CHECK(cpu.reg.d == 217);
    CHECK(cpu.reg.e == 176);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 52);
    CHECK(cpu.reg.l == 134);
    CHECK(cpu.pc == 9250);
    CHECK(cpu.sp == 29820);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9261] == 24);
    REQUIRE(cpu.ram[9262] == 243);
}

TEST_CASE( "18 0147", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8554;
    cpu.sp = 24082;
    cpu.reg.a = 86;
    cpu.reg.b = 148;
    cpu.reg.c = 70;
    cpu.reg.d = 97;
    cpu.reg.e = 41;
    cpu.reg.f = 240;
    cpu.reg.h = 254;
    cpu.reg.l = 186;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[8554] = 24;
    cpu.ram[8555] = 38;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 86);
    CHECK(cpu.reg.b == 148);
    CHECK(cpu.reg.c == 70);
    CHECK(cpu.reg.d == 97);
    CHECK(cpu.reg.e == 41);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 254);
    CHECK(cpu.reg.l == 186);
    CHECK(cpu.pc == 8594);
    CHECK(cpu.sp == 24082);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8554] == 24);
    REQUIRE(cpu.ram[8555] == 38);
}

TEST_CASE( "18 0148", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6161;
    cpu.sp = 40896;
    cpu.reg.a = 4;
    cpu.reg.b = 136;
    cpu.reg.c = 110;
    cpu.reg.d = 152;
    cpu.reg.e = 82;
    cpu.reg.f = 0;
    cpu.reg.h = 91;
    cpu.reg.l = 26;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[6161] = 24;
    cpu.ram[6162] = 68;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 4);
    CHECK(cpu.reg.b == 136);
    CHECK(cpu.reg.c == 110);
    CHECK(cpu.reg.d == 152);
    CHECK(cpu.reg.e == 82);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 91);
    CHECK(cpu.reg.l == 26);
    CHECK(cpu.pc == 6231);
    CHECK(cpu.sp == 40896);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6161] == 24);
    REQUIRE(cpu.ram[6162] == 68);
}

TEST_CASE( "18 0149", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43285;
    cpu.sp = 8565;
    cpu.reg.a = 60;
    cpu.reg.b = 96;
    cpu.reg.c = 180;
    cpu.reg.d = 115;
    cpu.reg.e = 251;
    cpu.reg.f = 208;
    cpu.reg.h = 112;
    cpu.reg.l = 32;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[43285] = 24;
    cpu.ram[43286] = 130;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 60);
    CHECK(cpu.reg.b == 96);
    CHECK(cpu.reg.c == 180);
    CHECK(cpu.reg.d == 115);
    CHECK(cpu.reg.e == 251);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 112);
    CHECK(cpu.reg.l == 32);
    CHECK(cpu.pc == 43161);
    CHECK(cpu.sp == 8565);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43285] == 24);
    REQUIRE(cpu.ram[43286] == 130);
}

TEST_CASE( "18 014A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27159;
    cpu.sp = 50617;
    cpu.reg.a = 237;
    cpu.reg.b = 55;
    cpu.reg.c = 199;
    cpu.reg.d = 8;
    cpu.reg.e = 78;
    cpu.reg.f = 0;
    cpu.reg.h = 246;
    cpu.reg.l = 169;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[27159] = 24;
    cpu.ram[27160] = 12;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 237);
    CHECK(cpu.reg.b == 55);
    CHECK(cpu.reg.c == 199);
    CHECK(cpu.reg.d == 8);
    CHECK(cpu.reg.e == 78);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 246);
    CHECK(cpu.reg.l == 169);
    CHECK(cpu.pc == 27173);
    CHECK(cpu.sp == 50617);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27159] == 24);
    REQUIRE(cpu.ram[27160] == 12);
}

TEST_CASE( "18 014B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40172;
    cpu.sp = 18049;
    cpu.reg.a = 114;
    cpu.reg.b = 254;
    cpu.reg.c = 109;
    cpu.reg.d = 114;
    cpu.reg.e = 238;
    cpu.reg.f = 0;
    cpu.reg.h = 192;
    cpu.reg.l = 1;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[40172] = 24;
    cpu.ram[40173] = 59;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 114);
    CHECK(cpu.reg.b == 254);
    CHECK(cpu.reg.c == 109);
    CHECK(cpu.reg.d == 114);
    CHECK(cpu.reg.e == 238);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 192);
    CHECK(cpu.reg.l == 1);
    CHECK(cpu.pc == 40233);
    CHECK(cpu.sp == 18049);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40172] == 24);
    REQUIRE(cpu.ram[40173] == 59);
}

TEST_CASE( "18 014C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9412;
    cpu.sp = 22243;
    cpu.reg.a = 19;
    cpu.reg.b = 144;
    cpu.reg.c = 226;
    cpu.reg.d = 27;
    cpu.reg.e = 185;
    cpu.reg.f = 176;
    cpu.reg.h = 37;
    cpu.reg.l = 8;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[9412] = 24;
    cpu.ram[9413] = 244;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 19);
    CHECK(cpu.reg.b == 144);
    CHECK(cpu.reg.c == 226);
    CHECK(cpu.reg.d == 27);
    CHECK(cpu.reg.e == 185);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 37);
    CHECK(cpu.reg.l == 8);
    CHECK(cpu.pc == 9402);
    CHECK(cpu.sp == 22243);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9412] == 24);
    REQUIRE(cpu.ram[9413] == 244);
}

TEST_CASE( "18 014D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47085;
    cpu.sp = 48827;
    cpu.reg.a = 218;
    cpu.reg.b = 105;
    cpu.reg.c = 38;
    cpu.reg.d = 225;
    cpu.reg.e = 191;
    cpu.reg.f = 208;
    cpu.reg.h = 72;
    cpu.reg.l = 158;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47085] = 24;
    cpu.ram[47086] = 122;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 218);
    CHECK(cpu.reg.b == 105);
    CHECK(cpu.reg.c == 38);
    CHECK(cpu.reg.d == 225);
    CHECK(cpu.reg.e == 191);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 72);
    CHECK(cpu.reg.l == 158);
    CHECK(cpu.pc == 47209);
    CHECK(cpu.sp == 48827);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47085] == 24);
    REQUIRE(cpu.ram[47086] == 122);
}

TEST_CASE( "18 014E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38979;
    cpu.sp = 19592;
    cpu.reg.a = 102;
    cpu.reg.b = 239;
    cpu.reg.c = 211;
    cpu.reg.d = 232;
    cpu.reg.e = 136;
    cpu.reg.f = 176;
    cpu.reg.h = 52;
    cpu.reg.l = 45;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[38979] = 24;
    cpu.ram[38980] = 242;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 102);
    CHECK(cpu.reg.b == 239);
    CHECK(cpu.reg.c == 211);
    CHECK(cpu.reg.d == 232);
    CHECK(cpu.reg.e == 136);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 52);
    CHECK(cpu.reg.l == 45);
    CHECK(cpu.pc == 38967);
    CHECK(cpu.sp == 19592);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38979] == 24);
    REQUIRE(cpu.ram[38980] == 242);
}

TEST_CASE( "18 014F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21022;
    cpu.sp = 35533;
    cpu.reg.a = 119;
    cpu.reg.b = 237;
    cpu.reg.c = 0;
    cpu.reg.d = 180;
    cpu.reg.e = 203;
    cpu.reg.f = 32;
    cpu.reg.h = 92;
    cpu.reg.l = 139;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[21022] = 24;
    cpu.ram[21023] = 136;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 119);
    CHECK(cpu.reg.b == 237);
    CHECK(cpu.reg.c == 0);
    CHECK(cpu.reg.d == 180);
    CHECK(cpu.reg.e == 203);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 92);
    CHECK(cpu.reg.l == 139);
    CHECK(cpu.pc == 20904);
    CHECK(cpu.sp == 35533);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21022] == 24);
    REQUIRE(cpu.ram[21023] == 136);
}

TEST_CASE( "18 0150", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16592;
    cpu.sp = 58092;
    cpu.reg.a = 6;
    cpu.reg.b = 230;
    cpu.reg.c = 232;
    cpu.reg.d = 232;
    cpu.reg.e = 27;
    cpu.reg.f = 208;
    cpu.reg.h = 134;
    cpu.reg.l = 81;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[16592] = 24;
    cpu.ram[16593] = 172;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 6);
    CHECK(cpu.reg.b == 230);
    CHECK(cpu.reg.c == 232);
    CHECK(cpu.reg.d == 232);
    CHECK(cpu.reg.e == 27);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 134);
    CHECK(cpu.reg.l == 81);
    CHECK(cpu.pc == 16510);
    CHECK(cpu.sp == 58092);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16592] == 24);
    REQUIRE(cpu.ram[16593] == 172);
}

TEST_CASE( "18 0151", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49857;
    cpu.sp = 9553;
    cpu.reg.a = 141;
    cpu.reg.b = 76;
    cpu.reg.c = 244;
    cpu.reg.d = 23;
    cpu.reg.e = 54;
    cpu.reg.f = 32;
    cpu.reg.h = 100;
    cpu.reg.l = 64;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[49857] = 24;
    cpu.ram[49858] = 61;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 141);
    CHECK(cpu.reg.b == 76);
    CHECK(cpu.reg.c == 244);
    CHECK(cpu.reg.d == 23);
    CHECK(cpu.reg.e == 54);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 100);
    CHECK(cpu.reg.l == 64);
    CHECK(cpu.pc == 49920);
    CHECK(cpu.sp == 9553);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49857] == 24);
    REQUIRE(cpu.ram[49858] == 61);
}

TEST_CASE( "18 0152", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29705;
    cpu.sp = 54245;
    cpu.reg.a = 65;
    cpu.reg.b = 39;
    cpu.reg.c = 52;
    cpu.reg.d = 72;
    cpu.reg.e = 134;
    cpu.reg.f = 192;
    cpu.reg.h = 126;
    cpu.reg.l = 217;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[29705] = 24;
    cpu.ram[29706] = 139;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 65);
    CHECK(cpu.reg.b == 39);
    CHECK(cpu.reg.c == 52);
    CHECK(cpu.reg.d == 72);
    CHECK(cpu.reg.e == 134);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 126);
    CHECK(cpu.reg.l == 217);
    CHECK(cpu.pc == 29590);
    CHECK(cpu.sp == 54245);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[29705] == 24);
    REQUIRE(cpu.ram[29706] == 139);
}

TEST_CASE( "18 0153", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22115;
    cpu.sp = 22724;
    cpu.reg.a = 242;
    cpu.reg.b = 153;
    cpu.reg.c = 156;
    cpu.reg.d = 178;
    cpu.reg.e = 80;
    cpu.reg.f = 160;
    cpu.reg.h = 218;
    cpu.reg.l = 137;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[22115] = 24;
    cpu.ram[22116] = 126;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 242);
    CHECK(cpu.reg.b == 153);
    CHECK(cpu.reg.c == 156);
    CHECK(cpu.reg.d == 178);
    CHECK(cpu.reg.e == 80);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 218);
    CHECK(cpu.reg.l == 137);
    CHECK(cpu.pc == 22243);
    CHECK(cpu.sp == 22724);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22115] == 24);
    REQUIRE(cpu.ram[22116] == 126);
}

TEST_CASE( "18 0154", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62747;
    cpu.sp = 58000;
    cpu.reg.a = 168;
    cpu.reg.b = 222;
    cpu.reg.c = 109;
    cpu.reg.d = 229;
    cpu.reg.e = 88;
    cpu.reg.f = 192;
    cpu.reg.h = 226;
    cpu.reg.l = 56;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[62747] = 24;
    cpu.ram[62748] = 21;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 168);
    CHECK(cpu.reg.b == 222);
    CHECK(cpu.reg.c == 109);
    CHECK(cpu.reg.d == 229);
    CHECK(cpu.reg.e == 88);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 226);
    CHECK(cpu.reg.l == 56);
    CHECK(cpu.pc == 62770);
    CHECK(cpu.sp == 58000);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[62747] == 24);
    REQUIRE(cpu.ram[62748] == 21);
}

TEST_CASE( "18 0155", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34551;
    cpu.sp = 16746;
    cpu.reg.a = 64;
    cpu.reg.b = 188;
    cpu.reg.c = 222;
    cpu.reg.d = 24;
    cpu.reg.e = 137;
    cpu.reg.f = 112;
    cpu.reg.h = 242;
    cpu.reg.l = 87;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[34551] = 24;
    cpu.ram[34552] = 162;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 188);
    CHECK(cpu.reg.c == 222);
    CHECK(cpu.reg.d == 24);
    CHECK(cpu.reg.e == 137);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 87);
    CHECK(cpu.pc == 34459);
    CHECK(cpu.sp == 16746);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[34551] == 24);
    REQUIRE(cpu.ram[34552] == 162);
}

TEST_CASE( "18 0156", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4816;
    cpu.sp = 22494;
    cpu.reg.a = 213;
    cpu.reg.b = 142;
    cpu.reg.c = 136;
    cpu.reg.d = 27;
    cpu.reg.e = 123;
    cpu.reg.f = 192;
    cpu.reg.h = 120;
    cpu.reg.l = 108;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4816] = 24;
    cpu.ram[4817] = 215;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 213);
    CHECK(cpu.reg.b == 142);
    CHECK(cpu.reg.c == 136);
    CHECK(cpu.reg.d == 27);
    CHECK(cpu.reg.e == 123);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 120);
    CHECK(cpu.reg.l == 108);
    CHECK(cpu.pc == 4777);
    CHECK(cpu.sp == 22494);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4816] == 24);
    REQUIRE(cpu.ram[4817] == 215);
}

TEST_CASE( "18 0157", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12417;
    cpu.sp = 29667;
    cpu.reg.a = 59;
    cpu.reg.b = 170;
    cpu.reg.c = 208;
    cpu.reg.d = 179;
    cpu.reg.e = 55;
    cpu.reg.f = 240;
    cpu.reg.h = 82;
    cpu.reg.l = 50;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[12417] = 24;
    cpu.ram[12418] = 96;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 59);
    CHECK(cpu.reg.b == 170);
    CHECK(cpu.reg.c == 208);
    CHECK(cpu.reg.d == 179);
    CHECK(cpu.reg.e == 55);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 82);
    CHECK(cpu.reg.l == 50);
    CHECK(cpu.pc == 12515);
    CHECK(cpu.sp == 29667);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12417] == 24);
    REQUIRE(cpu.ram[12418] == 96);
}

TEST_CASE( "18 0158", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64428;
    cpu.sp = 31544;
    cpu.reg.a = 168;
    cpu.reg.b = 1;
    cpu.reg.c = 37;
    cpu.reg.d = 102;
    cpu.reg.e = 44;
    cpu.reg.f = 192;
    cpu.reg.h = 226;
    cpu.reg.l = 119;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[64428] = 24;
    cpu.ram[64429] = 142;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 168);
    CHECK(cpu.reg.b == 1);
    CHECK(cpu.reg.c == 37);
    CHECK(cpu.reg.d == 102);
    CHECK(cpu.reg.e == 44);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 226);
    CHECK(cpu.reg.l == 119);
    CHECK(cpu.pc == 64316);
    CHECK(cpu.sp == 31544);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64428] == 24);
    REQUIRE(cpu.ram[64429] == 142);
}

TEST_CASE( "18 0159", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46224;
    cpu.sp = 64695;
    cpu.reg.a = 100;
    cpu.reg.b = 250;
    cpu.reg.c = 56;
    cpu.reg.d = 44;
    cpu.reg.e = 192;
    cpu.reg.f = 112;
    cpu.reg.h = 186;
    cpu.reg.l = 201;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[46224] = 24;
    cpu.ram[46225] = 236;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 100);
    CHECK(cpu.reg.b == 250);
    CHECK(cpu.reg.c == 56);
    CHECK(cpu.reg.d == 44);
    CHECK(cpu.reg.e == 192);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 186);
    CHECK(cpu.reg.l == 201);
    CHECK(cpu.pc == 46206);
    CHECK(cpu.sp == 64695);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46224] == 24);
    REQUIRE(cpu.ram[46225] == 236);
}

TEST_CASE( "18 015A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 806;
    cpu.sp = 1662;
    cpu.reg.a = 17;
    cpu.reg.b = 158;
    cpu.reg.c = 229;
    cpu.reg.d = 214;
    cpu.reg.e = 108;
    cpu.reg.f = 192;
    cpu.reg.h = 153;
    cpu.reg.l = 196;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[806] = 24;
    cpu.ram[807] = 57;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 17);
    CHECK(cpu.reg.b == 158);
    CHECK(cpu.reg.c == 229);
    CHECK(cpu.reg.d == 214);
    CHECK(cpu.reg.e == 108);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 153);
    CHECK(cpu.reg.l == 196);
    CHECK(cpu.pc == 865);
    CHECK(cpu.sp == 1662);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[806] == 24);
    REQUIRE(cpu.ram[807] == 57);
}

TEST_CASE( "18 015B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21448;
    cpu.sp = 17549;
    cpu.reg.a = 32;
    cpu.reg.b = 186;
    cpu.reg.c = 180;
    cpu.reg.d = 150;
    cpu.reg.e = 31;
    cpu.reg.f = 192;
    cpu.reg.h = 238;
    cpu.reg.l = 249;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[21448] = 24;
    cpu.ram[21449] = 174;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 32);
    CHECK(cpu.reg.b == 186);
    CHECK(cpu.reg.c == 180);
    CHECK(cpu.reg.d == 150);
    CHECK(cpu.reg.e == 31);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 238);
    CHECK(cpu.reg.l == 249);
    CHECK(cpu.pc == 21368);
    CHECK(cpu.sp == 17549);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21448] == 24);
    REQUIRE(cpu.ram[21449] == 174);
}

TEST_CASE( "18 015C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60265;
    cpu.sp = 10910;
    cpu.reg.a = 64;
    cpu.reg.b = 179;
    cpu.reg.c = 231;
    cpu.reg.d = 127;
    cpu.reg.e = 240;
    cpu.reg.f = 64;
    cpu.reg.h = 42;
    cpu.reg.l = 114;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[60265] = 24;
    cpu.ram[60266] = 72;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 179);
    CHECK(cpu.reg.c == 231);
    CHECK(cpu.reg.d == 127);
    CHECK(cpu.reg.e == 240);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 42);
    CHECK(cpu.reg.l == 114);
    CHECK(cpu.pc == 60339);
    CHECK(cpu.sp == 10910);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60265] == 24);
    REQUIRE(cpu.ram[60266] == 72);
}

TEST_CASE( "18 015D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25306;
    cpu.sp = 60638;
    cpu.reg.a = 127;
    cpu.reg.b = 113;
    cpu.reg.c = 64;
    cpu.reg.d = 247;
    cpu.reg.e = 32;
    cpu.reg.f = 32;
    cpu.reg.h = 240;
    cpu.reg.l = 138;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[25306] = 24;
    cpu.ram[25307] = 176;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 127);
    CHECK(cpu.reg.b == 113);
    CHECK(cpu.reg.c == 64);
    CHECK(cpu.reg.d == 247);
    CHECK(cpu.reg.e == 32);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 240);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 25228);
    CHECK(cpu.sp == 60638);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25306] == 24);
    REQUIRE(cpu.ram[25307] == 176);
}

TEST_CASE( "18 015E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47668;
    cpu.sp = 12164;
    cpu.reg.a = 191;
    cpu.reg.b = 177;
    cpu.reg.c = 243;
    cpu.reg.d = 12;
    cpu.reg.e = 6;
    cpu.reg.f = 128;
    cpu.reg.h = 224;
    cpu.reg.l = 194;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[47668] = 24;
    cpu.ram[47669] = 205;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 191);
    CHECK(cpu.reg.b == 177);
    CHECK(cpu.reg.c == 243);
    CHECK(cpu.reg.d == 12);
    CHECK(cpu.reg.e == 6);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 224);
    CHECK(cpu.reg.l == 194);
    CHECK(cpu.pc == 47619);
    CHECK(cpu.sp == 12164);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[47668] == 24);
    REQUIRE(cpu.ram[47669] == 205);
}

TEST_CASE( "18 015F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10330;
    cpu.sp = 64473;
    cpu.reg.a = 77;
    cpu.reg.b = 20;
    cpu.reg.c = 134;
    cpu.reg.d = 114;
    cpu.reg.e = 55;
    cpu.reg.f = 208;
    cpu.reg.h = 200;
    cpu.reg.l = 111;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[10330] = 24;
    cpu.ram[10331] = 206;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 77);
    CHECK(cpu.reg.b == 20);
    CHECK(cpu.reg.c == 134);
    CHECK(cpu.reg.d == 114);
    CHECK(cpu.reg.e == 55);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 200);
    CHECK(cpu.reg.l == 111);
    CHECK(cpu.pc == 10282);
    CHECK(cpu.sp == 64473);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10330] == 24);
    REQUIRE(cpu.ram[10331] == 206);
}

TEST_CASE( "18 0160", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9186;
    cpu.sp = 34094;
    cpu.reg.a = 53;
    cpu.reg.b = 90;
    cpu.reg.c = 39;
    cpu.reg.d = 166;
    cpu.reg.e = 152;
    cpu.reg.f = 112;
    cpu.reg.h = 17;
    cpu.reg.l = 38;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[9186] = 24;
    cpu.ram[9187] = 167;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 53);
    CHECK(cpu.reg.b == 90);
    CHECK(cpu.reg.c == 39);
    CHECK(cpu.reg.d == 166);
    CHECK(cpu.reg.e == 152);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 38);
    CHECK(cpu.pc == 9099);
    CHECK(cpu.sp == 34094);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9186] == 24);
    REQUIRE(cpu.ram[9187] == 167);
}

TEST_CASE( "18 0161", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9583;
    cpu.sp = 47468;
    cpu.reg.a = 17;
    cpu.reg.b = 82;
    cpu.reg.c = 91;
    cpu.reg.d = 173;
    cpu.reg.e = 60;
    cpu.reg.f = 96;
    cpu.reg.h = 216;
    cpu.reg.l = 39;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[9583] = 24;
    cpu.ram[9584] = 131;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 17);
    CHECK(cpu.reg.b == 82);
    CHECK(cpu.reg.c == 91);
    CHECK(cpu.reg.d == 173);
    CHECK(cpu.reg.e == 60);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 216);
    CHECK(cpu.reg.l == 39);
    CHECK(cpu.pc == 9460);
    CHECK(cpu.sp == 47468);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9583] == 24);
    REQUIRE(cpu.ram[9584] == 131);
}

TEST_CASE( "18 0162", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26983;
    cpu.sp = 42693;
    cpu.reg.a = 45;
    cpu.reg.b = 144;
    cpu.reg.c = 194;
    cpu.reg.d = 18;
    cpu.reg.e = 9;
    cpu.reg.f = 80;
    cpu.reg.h = 122;
    cpu.reg.l = 9;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26983] = 24;
    cpu.ram[26984] = 179;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 45);
    CHECK(cpu.reg.b == 144);
    CHECK(cpu.reg.c == 194);
    CHECK(cpu.reg.d == 18);
    CHECK(cpu.reg.e == 9);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 122);
    CHECK(cpu.reg.l == 9);
    CHECK(cpu.pc == 26908);
    CHECK(cpu.sp == 42693);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26983] == 24);
    REQUIRE(cpu.ram[26984] == 179);
}

TEST_CASE( "18 0163", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35401;
    cpu.sp = 13679;
    cpu.reg.a = 212;
    cpu.reg.b = 26;
    cpu.reg.c = 231;
    cpu.reg.d = 70;
    cpu.reg.e = 29;
    cpu.reg.f = 32;
    cpu.reg.h = 173;
    cpu.reg.l = 174;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[35401] = 24;
    cpu.ram[35402] = 107;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 212);
    CHECK(cpu.reg.b == 26);
    CHECK(cpu.reg.c == 231);
    CHECK(cpu.reg.d == 70);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 173);
    CHECK(cpu.reg.l == 174);
    CHECK(cpu.pc == 35510);
    CHECK(cpu.sp == 13679);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35401] == 24);
    REQUIRE(cpu.ram[35402] == 107);
}

TEST_CASE( "18 0164", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27574;
    cpu.sp = 10968;
    cpu.reg.a = 29;
    cpu.reg.b = 4;
    cpu.reg.c = 85;
    cpu.reg.d = 130;
    cpu.reg.e = 0;
    cpu.reg.f = 64;
    cpu.reg.h = 167;
    cpu.reg.l = 143;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[27574] = 24;
    cpu.ram[27575] = 220;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 29);
    CHECK(cpu.reg.b == 4);
    CHECK(cpu.reg.c == 85);
    CHECK(cpu.reg.d == 130);
    CHECK(cpu.reg.e == 0);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 167);
    CHECK(cpu.reg.l == 143);
    CHECK(cpu.pc == 27540);
    CHECK(cpu.sp == 10968);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27574] == 24);
    REQUIRE(cpu.ram[27575] == 220);
}

TEST_CASE( "18 0165", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62478;
    cpu.sp = 18342;
    cpu.reg.a = 14;
    cpu.reg.b = 240;
    cpu.reg.c = 243;
    cpu.reg.d = 168;
    cpu.reg.e = 154;
    cpu.reg.f = 224;
    cpu.reg.h = 159;
    cpu.reg.l = 222;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[62478] = 24;
    cpu.ram[62479] = 119;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 14);
    CHECK(cpu.reg.b == 240);
    CHECK(cpu.reg.c == 243);
    CHECK(cpu.reg.d == 168);
    CHECK(cpu.reg.e == 154);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 159);
    CHECK(cpu.reg.l == 222);
    CHECK(cpu.pc == 62599);
    CHECK(cpu.sp == 18342);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[62478] == 24);
    REQUIRE(cpu.ram[62479] == 119);
}

TEST_CASE( "18 0166", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35139;
    cpu.sp = 46920;
    cpu.reg.a = 5;
    cpu.reg.b = 100;
    cpu.reg.c = 245;
    cpu.reg.d = 188;
    cpu.reg.e = 251;
    cpu.reg.f = 96;
    cpu.reg.h = 198;
    cpu.reg.l = 160;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[35139] = 24;
    cpu.ram[35140] = 19;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 5);
    CHECK(cpu.reg.b == 100);
    CHECK(cpu.reg.c == 245);
    CHECK(cpu.reg.d == 188);
    CHECK(cpu.reg.e == 251);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 198);
    CHECK(cpu.reg.l == 160);
    CHECK(cpu.pc == 35160);
    CHECK(cpu.sp == 46920);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35139] == 24);
    REQUIRE(cpu.ram[35140] == 19);
}

TEST_CASE( "18 0167", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20180;
    cpu.sp = 3769;
    cpu.reg.a = 179;
    cpu.reg.b = 14;
    cpu.reg.c = 186;
    cpu.reg.d = 29;
    cpu.reg.e = 149;
    cpu.reg.f = 208;
    cpu.reg.h = 34;
    cpu.reg.l = 109;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[20180] = 24;
    cpu.ram[20181] = 135;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 179);
    CHECK(cpu.reg.b == 14);
    CHECK(cpu.reg.c == 186);
    CHECK(cpu.reg.d == 29);
    CHECK(cpu.reg.e == 149);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 34);
    CHECK(cpu.reg.l == 109);
    CHECK(cpu.pc == 20061);
    CHECK(cpu.sp == 3769);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20180] == 24);
    REQUIRE(cpu.ram[20181] == 135);
}

TEST_CASE( "18 0168", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59669;
    cpu.sp = 27717;
    cpu.reg.a = 240;
    cpu.reg.b = 166;
    cpu.reg.c = 138;
    cpu.reg.d = 172;
    cpu.reg.e = 160;
    cpu.reg.f = 0;
    cpu.reg.h = 48;
    cpu.reg.l = 50;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[59669] = 24;
    cpu.ram[59670] = 79;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 240);
    CHECK(cpu.reg.b == 166);
    CHECK(cpu.reg.c == 138);
    CHECK(cpu.reg.d == 172);
    CHECK(cpu.reg.e == 160);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 48);
    CHECK(cpu.reg.l == 50);
    CHECK(cpu.pc == 59750);
    CHECK(cpu.sp == 27717);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[59669] == 24);
    REQUIRE(cpu.ram[59670] == 79);
}

TEST_CASE( "18 0169", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41862;
    cpu.sp = 7175;
    cpu.reg.a = 46;
    cpu.reg.b = 36;
    cpu.reg.c = 236;
    cpu.reg.d = 12;
    cpu.reg.e = 114;
    cpu.reg.f = 160;
    cpu.reg.h = 205;
    cpu.reg.l = 177;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[41862] = 24;
    cpu.ram[41863] = 130;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 46);
    CHECK(cpu.reg.b == 36);
    CHECK(cpu.reg.c == 236);
    CHECK(cpu.reg.d == 12);
    CHECK(cpu.reg.e == 114);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 205);
    CHECK(cpu.reg.l == 177);
    CHECK(cpu.pc == 41738);
    CHECK(cpu.sp == 7175);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41862] == 24);
    REQUIRE(cpu.ram[41863] == 130);
}

TEST_CASE( "18 016A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5379;
    cpu.sp = 45742;
    cpu.reg.a = 217;
    cpu.reg.b = 253;
    cpu.reg.c = 36;
    cpu.reg.d = 212;
    cpu.reg.e = 240;
    cpu.reg.f = 112;
    cpu.reg.h = 71;
    cpu.reg.l = 11;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[5379] = 24;
    cpu.ram[5380] = 184;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 217);
    CHECK(cpu.reg.b == 253);
    CHECK(cpu.reg.c == 36);
    CHECK(cpu.reg.d == 212);
    CHECK(cpu.reg.e == 240);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 71);
    CHECK(cpu.reg.l == 11);
    CHECK(cpu.pc == 5309);
    CHECK(cpu.sp == 45742);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5379] == 24);
    REQUIRE(cpu.ram[5380] == 184);
}

TEST_CASE( "18 016B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47855;
    cpu.sp = 48323;
    cpu.reg.a = 122;
    cpu.reg.b = 12;
    cpu.reg.c = 228;
    cpu.reg.d = 118;
    cpu.reg.e = 110;
    cpu.reg.f = 64;
    cpu.reg.h = 254;
    cpu.reg.l = 124;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47855] = 24;
    cpu.ram[47856] = 205;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 122);
    CHECK(cpu.reg.b == 12);
    CHECK(cpu.reg.c == 228);
    CHECK(cpu.reg.d == 118);
    CHECK(cpu.reg.e == 110);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 254);
    CHECK(cpu.reg.l == 124);
    CHECK(cpu.pc == 47806);
    CHECK(cpu.sp == 48323);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47855] == 24);
    REQUIRE(cpu.ram[47856] == 205);
}

TEST_CASE( "18 016C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61624;
    cpu.sp = 62672;
    cpu.reg.a = 245;
    cpu.reg.b = 95;
    cpu.reg.c = 16;
    cpu.reg.d = 213;
    cpu.reg.e = 94;
    cpu.reg.f = 224;
    cpu.reg.h = 152;
    cpu.reg.l = 73;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[61624] = 24;
    cpu.ram[61625] = 206;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 245);
    CHECK(cpu.reg.b == 95);
    CHECK(cpu.reg.c == 16);
    CHECK(cpu.reg.d == 213);
    CHECK(cpu.reg.e == 94);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 152);
    CHECK(cpu.reg.l == 73);
    CHECK(cpu.pc == 61576);
    CHECK(cpu.sp == 62672);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61624] == 24);
    REQUIRE(cpu.ram[61625] == 206);
}

TEST_CASE( "18 016D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 670;
    cpu.sp = 10196;
    cpu.reg.a = 44;
    cpu.reg.b = 11;
    cpu.reg.c = 75;
    cpu.reg.d = 92;
    cpu.reg.e = 45;
    cpu.reg.f = 208;
    cpu.reg.h = 255;
    cpu.reg.l = 233;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[670] = 24;
    cpu.ram[671] = 249;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 44);
    CHECK(cpu.reg.b == 11);
    CHECK(cpu.reg.c == 75);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 45);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 255);
    CHECK(cpu.reg.l == 233);
    CHECK(cpu.pc == 665);
    CHECK(cpu.sp == 10196);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[670] == 24);
    REQUIRE(cpu.ram[671] == 249);
}

TEST_CASE( "18 016E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10199;
    cpu.sp = 37743;
    cpu.reg.a = 40;
    cpu.reg.b = 128;
    cpu.reg.c = 166;
    cpu.reg.d = 37;
    cpu.reg.e = 242;
    cpu.reg.f = 144;
    cpu.reg.h = 203;
    cpu.reg.l = 44;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[10199] = 24;
    cpu.ram[10200] = 179;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 40);
    CHECK(cpu.reg.b == 128);
    CHECK(cpu.reg.c == 166);
    CHECK(cpu.reg.d == 37);
    CHECK(cpu.reg.e == 242);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 203);
    CHECK(cpu.reg.l == 44);
    CHECK(cpu.pc == 10124);
    CHECK(cpu.sp == 37743);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10199] == 24);
    REQUIRE(cpu.ram[10200] == 179);
}

TEST_CASE( "18 016F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45344;
    cpu.sp = 33588;
    cpu.reg.a = 76;
    cpu.reg.b = 187;
    cpu.reg.c = 188;
    cpu.reg.d = 68;
    cpu.reg.e = 172;
    cpu.reg.f = 192;
    cpu.reg.h = 78;
    cpu.reg.l = 181;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[45344] = 24;
    cpu.ram[45345] = 120;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 76);
    CHECK(cpu.reg.b == 187);
    CHECK(cpu.reg.c == 188);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 172);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 78);
    CHECK(cpu.reg.l == 181);
    CHECK(cpu.pc == 45466);
    CHECK(cpu.sp == 33588);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45344] == 24);
    REQUIRE(cpu.ram[45345] == 120);
}

TEST_CASE( "18 0170", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17544;
    cpu.sp = 13410;
    cpu.reg.a = 71;
    cpu.reg.b = 152;
    cpu.reg.c = 216;
    cpu.reg.d = 52;
    cpu.reg.e = 120;
    cpu.reg.f = 112;
    cpu.reg.h = 205;
    cpu.reg.l = 223;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[17544] = 24;
    cpu.ram[17545] = 52;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 71);
    CHECK(cpu.reg.b == 152);
    CHECK(cpu.reg.c == 216);
    CHECK(cpu.reg.d == 52);
    CHECK(cpu.reg.e == 120);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 205);
    CHECK(cpu.reg.l == 223);
    CHECK(cpu.pc == 17598);
    CHECK(cpu.sp == 13410);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17544] == 24);
    REQUIRE(cpu.ram[17545] == 52);
}

TEST_CASE( "18 0171", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14937;
    cpu.sp = 19080;
    cpu.reg.a = 75;
    cpu.reg.b = 62;
    cpu.reg.c = 235;
    cpu.reg.d = 22;
    cpu.reg.e = 240;
    cpu.reg.f = 144;
    cpu.reg.h = 86;
    cpu.reg.l = 26;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[14937] = 24;
    cpu.ram[14938] = 77;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 75);
    CHECK(cpu.reg.b == 62);
    CHECK(cpu.reg.c == 235);
    CHECK(cpu.reg.d == 22);
    CHECK(cpu.reg.e == 240);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 86);
    CHECK(cpu.reg.l == 26);
    CHECK(cpu.pc == 15016);
    CHECK(cpu.sp == 19080);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14937] == 24);
    REQUIRE(cpu.ram[14938] == 77);
}

TEST_CASE( "18 0172", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61693;
    cpu.sp = 53869;
    cpu.reg.a = 114;
    cpu.reg.b = 221;
    cpu.reg.c = 139;
    cpu.reg.d = 97;
    cpu.reg.e = 206;
    cpu.reg.f = 0;
    cpu.reg.h = 141;
    cpu.reg.l = 41;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[61693] = 24;
    cpu.ram[61694] = 203;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 114);
    CHECK(cpu.reg.b == 221);
    CHECK(cpu.reg.c == 139);
    CHECK(cpu.reg.d == 97);
    CHECK(cpu.reg.e == 206);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 141);
    CHECK(cpu.reg.l == 41);
    CHECK(cpu.pc == 61642);
    CHECK(cpu.sp == 53869);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61693] == 24);
    REQUIRE(cpu.ram[61694] == 203);
}

TEST_CASE( "18 0173", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56422;
    cpu.sp = 32103;
    cpu.reg.a = 100;
    cpu.reg.b = 143;
    cpu.reg.c = 22;
    cpu.reg.d = 57;
    cpu.reg.e = 152;
    cpu.reg.f = 80;
    cpu.reg.h = 27;
    cpu.reg.l = 100;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[56422] = 24;
    cpu.ram[56423] = 76;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 100);
    CHECK(cpu.reg.b == 143);
    CHECK(cpu.reg.c == 22);
    CHECK(cpu.reg.d == 57);
    CHECK(cpu.reg.e == 152);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 27);
    CHECK(cpu.reg.l == 100);
    CHECK(cpu.pc == 56500);
    CHECK(cpu.sp == 32103);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56422] == 24);
    REQUIRE(cpu.ram[56423] == 76);
}

TEST_CASE( "18 0174", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5502;
    cpu.sp = 37952;
    cpu.reg.a = 65;
    cpu.reg.b = 205;
    cpu.reg.c = 145;
    cpu.reg.d = 230;
    cpu.reg.e = 243;
    cpu.reg.f = 48;
    cpu.reg.h = 57;
    cpu.reg.l = 3;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[5502] = 24;
    cpu.ram[5503] = 212;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 65);
    CHECK(cpu.reg.b == 205);
    CHECK(cpu.reg.c == 145);
    CHECK(cpu.reg.d == 230);
    CHECK(cpu.reg.e == 243);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 57);
    CHECK(cpu.reg.l == 3);
    CHECK(cpu.pc == 5460);
    CHECK(cpu.sp == 37952);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5502] == 24);
    REQUIRE(cpu.ram[5503] == 212);
}

TEST_CASE( "18 0175", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2276;
    cpu.sp = 22997;
    cpu.reg.a = 77;
    cpu.reg.b = 43;
    cpu.reg.c = 40;
    cpu.reg.d = 239;
    cpu.reg.e = 245;
    cpu.reg.f = 32;
    cpu.reg.h = 232;
    cpu.reg.l = 163;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[2276] = 24;
    cpu.ram[2277] = 253;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 77);
    CHECK(cpu.reg.b == 43);
    CHECK(cpu.reg.c == 40);
    CHECK(cpu.reg.d == 239);
    CHECK(cpu.reg.e == 245);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 232);
    CHECK(cpu.reg.l == 163);
    CHECK(cpu.pc == 2275);
    CHECK(cpu.sp == 22997);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2276] == 24);
    REQUIRE(cpu.ram[2277] == 253);
}

TEST_CASE( "18 0176", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28280;
    cpu.sp = 62511;
    cpu.reg.a = 100;
    cpu.reg.b = 211;
    cpu.reg.c = 40;
    cpu.reg.d = 0;
    cpu.reg.e = 186;
    cpu.reg.f = 224;
    cpu.reg.h = 226;
    cpu.reg.l = 155;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[28280] = 24;
    cpu.ram[28281] = 7;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 100);
    CHECK(cpu.reg.b == 211);
    CHECK(cpu.reg.c == 40);
    CHECK(cpu.reg.d == 0);
    CHECK(cpu.reg.e == 186);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 226);
    CHECK(cpu.reg.l == 155);
    CHECK(cpu.pc == 28289);
    CHECK(cpu.sp == 62511);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28280] == 24);
    REQUIRE(cpu.ram[28281] == 7);
}

TEST_CASE( "18 0177", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20231;
    cpu.sp = 63548;
    cpu.reg.a = 189;
    cpu.reg.b = 109;
    cpu.reg.c = 134;
    cpu.reg.d = 129;
    cpu.reg.e = 183;
    cpu.reg.f = 48;
    cpu.reg.h = 206;
    cpu.reg.l = 44;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[20231] = 24;
    cpu.ram[20232] = 147;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 189);
    CHECK(cpu.reg.b == 109);
    CHECK(cpu.reg.c == 134);
    CHECK(cpu.reg.d == 129);
    CHECK(cpu.reg.e == 183);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 206);
    CHECK(cpu.reg.l == 44);
    CHECK(cpu.pc == 20124);
    CHECK(cpu.sp == 63548);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[20231] == 24);
    REQUIRE(cpu.ram[20232] == 147);
}

TEST_CASE( "18 0178", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58342;
    cpu.sp = 26702;
    cpu.reg.a = 239;
    cpu.reg.b = 76;
    cpu.reg.c = 179;
    cpu.reg.d = 122;
    cpu.reg.e = 86;
    cpu.reg.f = 160;
    cpu.reg.h = 18;
    cpu.reg.l = 98;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[58342] = 24;
    cpu.ram[58343] = 240;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 239);
    CHECK(cpu.reg.b == 76);
    CHECK(cpu.reg.c == 179);
    CHECK(cpu.reg.d == 122);
    CHECK(cpu.reg.e == 86);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 18);
    CHECK(cpu.reg.l == 98);
    CHECK(cpu.pc == 58328);
    CHECK(cpu.sp == 26702);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58342] == 24);
    REQUIRE(cpu.ram[58343] == 240);
}

TEST_CASE( "18 0179", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50323;
    cpu.sp = 6035;
    cpu.reg.a = 147;
    cpu.reg.b = 45;
    cpu.reg.c = 119;
    cpu.reg.d = 202;
    cpu.reg.e = 127;
    cpu.reg.f = 80;
    cpu.reg.h = 15;
    cpu.reg.l = 248;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[50323] = 24;
    cpu.ram[50324] = 142;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 147);
    CHECK(cpu.reg.b == 45);
    CHECK(cpu.reg.c == 119);
    CHECK(cpu.reg.d == 202);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 15);
    CHECK(cpu.reg.l == 248);
    CHECK(cpu.pc == 50211);
    CHECK(cpu.sp == 6035);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50323] == 24);
    REQUIRE(cpu.ram[50324] == 142);
}

TEST_CASE( "18 017A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55011;
    cpu.sp = 17232;
    cpu.reg.a = 23;
    cpu.reg.b = 100;
    cpu.reg.c = 163;
    cpu.reg.d = 131;
    cpu.reg.e = 13;
    cpu.reg.f = 224;
    cpu.reg.h = 253;
    cpu.reg.l = 112;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[55011] = 24;
    cpu.ram[55012] = 76;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 23);
    CHECK(cpu.reg.b == 100);
    CHECK(cpu.reg.c == 163);
    CHECK(cpu.reg.d == 131);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 253);
    CHECK(cpu.reg.l == 112);
    CHECK(cpu.pc == 55089);
    CHECK(cpu.sp == 17232);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55011] == 24);
    REQUIRE(cpu.ram[55012] == 76);
}

TEST_CASE( "18 017B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61997;
    cpu.sp = 27359;
    cpu.reg.a = 4;
    cpu.reg.b = 156;
    cpu.reg.c = 246;
    cpu.reg.d = 7;
    cpu.reg.e = 65;
    cpu.reg.f = 224;
    cpu.reg.h = 92;
    cpu.reg.l = 140;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[61997] = 24;
    cpu.ram[61998] = 178;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 4);
    CHECK(cpu.reg.b == 156);
    CHECK(cpu.reg.c == 246);
    CHECK(cpu.reg.d == 7);
    CHECK(cpu.reg.e == 65);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 92);
    CHECK(cpu.reg.l == 140);
    CHECK(cpu.pc == 61921);
    CHECK(cpu.sp == 27359);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61997] == 24);
    REQUIRE(cpu.ram[61998] == 178);
}

TEST_CASE( "18 017C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43899;
    cpu.sp = 37406;
    cpu.reg.a = 124;
    cpu.reg.b = 54;
    cpu.reg.c = 162;
    cpu.reg.d = 26;
    cpu.reg.e = 228;
    cpu.reg.f = 128;
    cpu.reg.h = 170;
    cpu.reg.l = 183;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[43899] = 24;
    cpu.ram[43900] = 222;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 124);
    CHECK(cpu.reg.b == 54);
    CHECK(cpu.reg.c == 162);
    CHECK(cpu.reg.d == 26);
    CHECK(cpu.reg.e == 228);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 170);
    CHECK(cpu.reg.l == 183);
    CHECK(cpu.pc == 43867);
    CHECK(cpu.sp == 37406);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43899] == 24);
    REQUIRE(cpu.ram[43900] == 222);
}

TEST_CASE( "18 017D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48180;
    cpu.sp = 14825;
    cpu.reg.a = 60;
    cpu.reg.b = 74;
    cpu.reg.c = 28;
    cpu.reg.d = 102;
    cpu.reg.e = 180;
    cpu.reg.f = 224;
    cpu.reg.h = 190;
    cpu.reg.l = 3;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[48180] = 24;
    cpu.ram[48181] = 181;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 60);
    CHECK(cpu.reg.b == 74);
    CHECK(cpu.reg.c == 28);
    CHECK(cpu.reg.d == 102);
    CHECK(cpu.reg.e == 180);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 190);
    CHECK(cpu.reg.l == 3);
    CHECK(cpu.pc == 48107);
    CHECK(cpu.sp == 14825);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[48180] == 24);
    REQUIRE(cpu.ram[48181] == 181);
}

TEST_CASE( "18 017E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36002;
    cpu.sp = 10673;
    cpu.reg.a = 241;
    cpu.reg.b = 148;
    cpu.reg.c = 229;
    cpu.reg.d = 183;
    cpu.reg.e = 224;
    cpu.reg.f = 112;
    cpu.reg.h = 161;
    cpu.reg.l = 29;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[36002] = 24;
    cpu.ram[36003] = 16;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 241);
    CHECK(cpu.reg.b == 148);
    CHECK(cpu.reg.c == 229);
    CHECK(cpu.reg.d == 183);
    CHECK(cpu.reg.e == 224);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 161);
    CHECK(cpu.reg.l == 29);
    CHECK(cpu.pc == 36020);
    CHECK(cpu.sp == 10673);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36002] == 24);
    REQUIRE(cpu.ram[36003] == 16);
}

TEST_CASE( "18 017F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48996;
    cpu.sp = 36898;
    cpu.reg.a = 237;
    cpu.reg.b = 71;
    cpu.reg.c = 63;
    cpu.reg.d = 203;
    cpu.reg.e = 227;
    cpu.reg.f = 144;
    cpu.reg.h = 135;
    cpu.reg.l = 3;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[48996] = 24;
    cpu.ram[48997] = 63;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 237);
    CHECK(cpu.reg.b == 71);
    CHECK(cpu.reg.c == 63);
    CHECK(cpu.reg.d == 203);
    CHECK(cpu.reg.e == 227);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 135);
    CHECK(cpu.reg.l == 3);
    CHECK(cpu.pc == 49061);
    CHECK(cpu.sp == 36898);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[48996] == 24);
    REQUIRE(cpu.ram[48997] == 63);
}

TEST_CASE( "18 0180", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16578;
    cpu.sp = 42585;
    cpu.reg.a = 142;
    cpu.reg.b = 246;
    cpu.reg.c = 123;
    cpu.reg.d = 52;
    cpu.reg.e = 186;
    cpu.reg.f = 192;
    cpu.reg.h = 10;
    cpu.reg.l = 225;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[16578] = 24;
    cpu.ram[16579] = 70;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 142);
    CHECK(cpu.reg.b == 246);
    CHECK(cpu.reg.c == 123);
    CHECK(cpu.reg.d == 52);
    CHECK(cpu.reg.e == 186);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 10);
    CHECK(cpu.reg.l == 225);
    CHECK(cpu.pc == 16650);
    CHECK(cpu.sp == 42585);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16578] == 24);
    REQUIRE(cpu.ram[16579] == 70);
}

TEST_CASE( "18 0181", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33209;
    cpu.sp = 47103;
    cpu.reg.a = 58;
    cpu.reg.b = 180;
    cpu.reg.c = 94;
    cpu.reg.d = 10;
    cpu.reg.e = 178;
    cpu.reg.f = 32;
    cpu.reg.h = 54;
    cpu.reg.l = 176;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[33209] = 24;
    cpu.ram[33210] = 106;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 58);
    CHECK(cpu.reg.b == 180);
    CHECK(cpu.reg.c == 94);
    CHECK(cpu.reg.d == 10);
    CHECK(cpu.reg.e == 178);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 54);
    CHECK(cpu.reg.l == 176);
    CHECK(cpu.pc == 33317);
    CHECK(cpu.sp == 47103);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33209] == 24);
    REQUIRE(cpu.ram[33210] == 106);
}

TEST_CASE( "18 0182", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28904;
    cpu.sp = 34941;
    cpu.reg.a = 69;
    cpu.reg.b = 167;
    cpu.reg.c = 239;
    cpu.reg.d = 88;
    cpu.reg.e = 173;
    cpu.reg.f = 240;
    cpu.reg.h = 6;
    cpu.reg.l = 188;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[28904] = 24;
    cpu.ram[28905] = 44;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 69);
    CHECK(cpu.reg.b == 167);
    CHECK(cpu.reg.c == 239);
    CHECK(cpu.reg.d == 88);
    CHECK(cpu.reg.e == 173);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 6);
    CHECK(cpu.reg.l == 188);
    CHECK(cpu.pc == 28950);
    CHECK(cpu.sp == 34941);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28904] == 24);
    REQUIRE(cpu.ram[28905] == 44);
}

TEST_CASE( "18 0183", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50578;
    cpu.sp = 30269;
    cpu.reg.a = 54;
    cpu.reg.b = 29;
    cpu.reg.c = 215;
    cpu.reg.d = 129;
    cpu.reg.e = 228;
    cpu.reg.f = 176;
    cpu.reg.h = 6;
    cpu.reg.l = 240;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[50578] = 24;
    cpu.ram[50579] = 70;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 54);
    CHECK(cpu.reg.b == 29);
    CHECK(cpu.reg.c == 215);
    CHECK(cpu.reg.d == 129);
    CHECK(cpu.reg.e == 228);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 6);
    CHECK(cpu.reg.l == 240);
    CHECK(cpu.pc == 50650);
    CHECK(cpu.sp == 30269);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50578] == 24);
    REQUIRE(cpu.ram[50579] == 70);
}

TEST_CASE( "18 0184", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30628;
    cpu.sp = 60556;
    cpu.reg.a = 78;
    cpu.reg.b = 251;
    cpu.reg.c = 145;
    cpu.reg.d = 33;
    cpu.reg.e = 94;
    cpu.reg.f = 240;
    cpu.reg.h = 144;
    cpu.reg.l = 164;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[30628] = 24;
    cpu.ram[30629] = 174;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 78);
    CHECK(cpu.reg.b == 251);
    CHECK(cpu.reg.c == 145);
    CHECK(cpu.reg.d == 33);
    CHECK(cpu.reg.e == 94);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 144);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 30548);
    CHECK(cpu.sp == 60556);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30628] == 24);
    REQUIRE(cpu.ram[30629] == 174);
}

TEST_CASE( "18 0185", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13265;
    cpu.sp = 22369;
    cpu.reg.a = 222;
    cpu.reg.b = 183;
    cpu.reg.c = 86;
    cpu.reg.d = 243;
    cpu.reg.e = 108;
    cpu.reg.f = 128;
    cpu.reg.h = 190;
    cpu.reg.l = 10;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[13265] = 24;
    cpu.ram[13266] = 67;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 222);
    CHECK(cpu.reg.b == 183);
    CHECK(cpu.reg.c == 86);
    CHECK(cpu.reg.d == 243);
    CHECK(cpu.reg.e == 108);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 190);
    CHECK(cpu.reg.l == 10);
    CHECK(cpu.pc == 13334);
    CHECK(cpu.sp == 22369);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13265] == 24);
    REQUIRE(cpu.ram[13266] == 67);
}

TEST_CASE( "18 0186", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28412;
    cpu.sp = 21143;
    cpu.reg.a = 190;
    cpu.reg.b = 201;
    cpu.reg.c = 121;
    cpu.reg.d = 204;
    cpu.reg.e = 79;
    cpu.reg.f = 32;
    cpu.reg.h = 21;
    cpu.reg.l = 22;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[28412] = 24;
    cpu.ram[28413] = 160;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 190);
    CHECK(cpu.reg.b == 201);
    CHECK(cpu.reg.c == 121);
    CHECK(cpu.reg.d == 204);
    CHECK(cpu.reg.e == 79);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 21);
    CHECK(cpu.reg.l == 22);
    CHECK(cpu.pc == 28318);
    CHECK(cpu.sp == 21143);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28412] == 24);
    REQUIRE(cpu.ram[28413] == 160);
}

TEST_CASE( "18 0187", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62467;
    cpu.sp = 13026;
    cpu.reg.a = 70;
    cpu.reg.b = 190;
    cpu.reg.c = 128;
    cpu.reg.d = 166;
    cpu.reg.e = 206;
    cpu.reg.f = 32;
    cpu.reg.h = 182;
    cpu.reg.l = 138;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[62467] = 24;
    cpu.ram[62468] = 183;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 70);
    CHECK(cpu.reg.b == 190);
    CHECK(cpu.reg.c == 128);
    CHECK(cpu.reg.d == 166);
    CHECK(cpu.reg.e == 206);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 182);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 62396);
    CHECK(cpu.sp == 13026);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[62467] == 24);
    REQUIRE(cpu.ram[62468] == 183);
}

TEST_CASE( "18 0188", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23629;
    cpu.sp = 60277;
    cpu.reg.a = 156;
    cpu.reg.b = 253;
    cpu.reg.c = 21;
    cpu.reg.d = 83;
    cpu.reg.e = 105;
    cpu.reg.f = 144;
    cpu.reg.h = 188;
    cpu.reg.l = 114;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[23629] = 24;
    cpu.ram[23630] = 209;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 156);
    CHECK(cpu.reg.b == 253);
    CHECK(cpu.reg.c == 21);
    CHECK(cpu.reg.d == 83);
    CHECK(cpu.reg.e == 105);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 188);
    CHECK(cpu.reg.l == 114);
    CHECK(cpu.pc == 23584);
    CHECK(cpu.sp == 60277);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23629] == 24);
    REQUIRE(cpu.ram[23630] == 209);
}

TEST_CASE( "18 0189", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56366;
    cpu.sp = 9928;
    cpu.reg.a = 46;
    cpu.reg.b = 242;
    cpu.reg.c = 163;
    cpu.reg.d = 21;
    cpu.reg.e = 58;
    cpu.reg.f = 112;
    cpu.reg.h = 124;
    cpu.reg.l = 20;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[56366] = 24;
    cpu.ram[56367] = 107;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 46);
    CHECK(cpu.reg.b == 242);
    CHECK(cpu.reg.c == 163);
    CHECK(cpu.reg.d == 21);
    CHECK(cpu.reg.e == 58);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 124);
    CHECK(cpu.reg.l == 20);
    CHECK(cpu.pc == 56475);
    CHECK(cpu.sp == 9928);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56366] == 24);
    REQUIRE(cpu.ram[56367] == 107);
}

TEST_CASE( "18 018A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34825;
    cpu.sp = 23429;
    cpu.reg.a = 148;
    cpu.reg.b = 245;
    cpu.reg.c = 101;
    cpu.reg.d = 58;
    cpu.reg.e = 116;
    cpu.reg.f = 32;
    cpu.reg.h = 13;
    cpu.reg.l = 24;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[34825] = 24;
    cpu.ram[34826] = 209;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 148);
    CHECK(cpu.reg.b == 245);
    CHECK(cpu.reg.c == 101);
    CHECK(cpu.reg.d == 58);
    CHECK(cpu.reg.e == 116);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 13);
    CHECK(cpu.reg.l == 24);
    CHECK(cpu.pc == 34780);
    CHECK(cpu.sp == 23429);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34825] == 24);
    REQUIRE(cpu.ram[34826] == 209);
}

TEST_CASE( "18 018B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3559;
    cpu.sp = 60123;
    cpu.reg.a = 136;
    cpu.reg.b = 204;
    cpu.reg.c = 9;
    cpu.reg.d = 19;
    cpu.reg.e = 151;
    cpu.reg.f = 128;
    cpu.reg.h = 75;
    cpu.reg.l = 3;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[3559] = 24;
    cpu.ram[3560] = 148;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 136);
    CHECK(cpu.reg.b == 204);
    CHECK(cpu.reg.c == 9);
    CHECK(cpu.reg.d == 19);
    CHECK(cpu.reg.e == 151);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 75);
    CHECK(cpu.reg.l == 3);
    CHECK(cpu.pc == 3453);
    CHECK(cpu.sp == 60123);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3559] == 24);
    REQUIRE(cpu.ram[3560] == 148);
}

TEST_CASE( "18 018C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11388;
    cpu.sp = 5025;
    cpu.reg.a = 205;
    cpu.reg.b = 81;
    cpu.reg.c = 150;
    cpu.reg.d = 19;
    cpu.reg.e = 217;
    cpu.reg.f = 16;
    cpu.reg.h = 96;
    cpu.reg.l = 187;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[11388] = 24;
    cpu.ram[11389] = 141;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 205);
    CHECK(cpu.reg.b == 81);
    CHECK(cpu.reg.c == 150);
    CHECK(cpu.reg.d == 19);
    CHECK(cpu.reg.e == 217);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 96);
    CHECK(cpu.reg.l == 187);
    CHECK(cpu.pc == 11275);
    CHECK(cpu.sp == 5025);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11388] == 24);
    REQUIRE(cpu.ram[11389] == 141);
}

TEST_CASE( "18 018D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61528;
    cpu.sp = 60134;
    cpu.reg.a = 247;
    cpu.reg.b = 120;
    cpu.reg.c = 90;
    cpu.reg.d = 253;
    cpu.reg.e = 67;
    cpu.reg.f = 0;
    cpu.reg.h = 197;
    cpu.reg.l = 105;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[61528] = 24;
    cpu.ram[61529] = 231;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 247);
    CHECK(cpu.reg.b == 120);
    CHECK(cpu.reg.c == 90);
    CHECK(cpu.reg.d == 253);
    CHECK(cpu.reg.e == 67);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 197);
    CHECK(cpu.reg.l == 105);
    CHECK(cpu.pc == 61505);
    CHECK(cpu.sp == 60134);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61528] == 24);
    REQUIRE(cpu.ram[61529] == 231);
}

TEST_CASE( "18 018E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6688;
    cpu.sp = 16585;
    cpu.reg.a = 25;
    cpu.reg.b = 151;
    cpu.reg.c = 133;
    cpu.reg.d = 30;
    cpu.reg.e = 105;
    cpu.reg.f = 16;
    cpu.reg.h = 242;
    cpu.reg.l = 127;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[6688] = 24;
    cpu.ram[6689] = 252;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 25);
    CHECK(cpu.reg.b == 151);
    CHECK(cpu.reg.c == 133);
    CHECK(cpu.reg.d == 30);
    CHECK(cpu.reg.e == 105);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 127);
    CHECK(cpu.pc == 6686);
    CHECK(cpu.sp == 16585);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6688] == 24);
    REQUIRE(cpu.ram[6689] == 252);
}

TEST_CASE( "18 018F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6900;
    cpu.sp = 40411;
    cpu.reg.a = 74;
    cpu.reg.b = 246;
    cpu.reg.c = 252;
    cpu.reg.d = 238;
    cpu.reg.e = 197;
    cpu.reg.f = 48;
    cpu.reg.h = 103;
    cpu.reg.l = 115;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[6900] = 24;
    cpu.ram[6901] = 199;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 74);
    CHECK(cpu.reg.b == 246);
    CHECK(cpu.reg.c == 252);
    CHECK(cpu.reg.d == 238);
    CHECK(cpu.reg.e == 197);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 103);
    CHECK(cpu.reg.l == 115);
    CHECK(cpu.pc == 6845);
    CHECK(cpu.sp == 40411);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6900] == 24);
    REQUIRE(cpu.ram[6901] == 199);
}

TEST_CASE( "18 0190", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62086;
    cpu.sp = 51741;
    cpu.reg.a = 193;
    cpu.reg.b = 15;
    cpu.reg.c = 164;
    cpu.reg.d = 49;
    cpu.reg.e = 147;
    cpu.reg.f = 144;
    cpu.reg.h = 28;
    cpu.reg.l = 148;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[62086] = 24;
    cpu.ram[62087] = 70;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 193);
    CHECK(cpu.reg.b == 15);
    CHECK(cpu.reg.c == 164);
    CHECK(cpu.reg.d == 49);
    CHECK(cpu.reg.e == 147);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 28);
    CHECK(cpu.reg.l == 148);
    CHECK(cpu.pc == 62158);
    CHECK(cpu.sp == 51741);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62086] == 24);
    REQUIRE(cpu.ram[62087] == 70);
}

TEST_CASE( "18 0191", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57560;
    cpu.sp = 4038;
    cpu.reg.a = 232;
    cpu.reg.b = 135;
    cpu.reg.c = 11;
    cpu.reg.d = 176;
    cpu.reg.e = 102;
    cpu.reg.f = 240;
    cpu.reg.h = 180;
    cpu.reg.l = 166;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[57560] = 24;
    cpu.ram[57561] = 151;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 232);
    CHECK(cpu.reg.b == 135);
    CHECK(cpu.reg.c == 11);
    CHECK(cpu.reg.d == 176);
    CHECK(cpu.reg.e == 102);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 180);
    CHECK(cpu.reg.l == 166);
    CHECK(cpu.pc == 57457);
    CHECK(cpu.sp == 4038);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[57560] == 24);
    REQUIRE(cpu.ram[57561] == 151);
}

TEST_CASE( "18 0192", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25735;
    cpu.sp = 51415;
    cpu.reg.a = 116;
    cpu.reg.b = 243;
    cpu.reg.c = 200;
    cpu.reg.d = 160;
    cpu.reg.e = 57;
    cpu.reg.f = 112;
    cpu.reg.h = 173;
    cpu.reg.l = 114;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[25735] = 24;
    cpu.ram[25736] = 61;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 116);
    CHECK(cpu.reg.b == 243);
    CHECK(cpu.reg.c == 200);
    CHECK(cpu.reg.d == 160);
    CHECK(cpu.reg.e == 57);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 173);
    CHECK(cpu.reg.l == 114);
    CHECK(cpu.pc == 25798);
    CHECK(cpu.sp == 51415);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25735] == 24);
    REQUIRE(cpu.ram[25736] == 61);
}

TEST_CASE( "18 0193", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5808;
    cpu.sp = 50739;
    cpu.reg.a = 163;
    cpu.reg.b = 104;
    cpu.reg.c = 182;
    cpu.reg.d = 113;
    cpu.reg.e = 220;
    cpu.reg.f = 224;
    cpu.reg.h = 58;
    cpu.reg.l = 145;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[5808] = 24;
    cpu.ram[5809] = 100;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 163);
    CHECK(cpu.reg.b == 104);
    CHECK(cpu.reg.c == 182);
    CHECK(cpu.reg.d == 113);
    CHECK(cpu.reg.e == 220);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 58);
    CHECK(cpu.reg.l == 145);
    CHECK(cpu.pc == 5910);
    CHECK(cpu.sp == 50739);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5808] == 24);
    REQUIRE(cpu.ram[5809] == 100);
}

TEST_CASE( "18 0194", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19597;
    cpu.sp = 44649;
    cpu.reg.a = 13;
    cpu.reg.b = 169;
    cpu.reg.c = 243;
    cpu.reg.d = 205;
    cpu.reg.e = 35;
    cpu.reg.f = 128;
    cpu.reg.h = 98;
    cpu.reg.l = 15;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[19597] = 24;
    cpu.ram[19598] = 145;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 13);
    CHECK(cpu.reg.b == 169);
    CHECK(cpu.reg.c == 243);
    CHECK(cpu.reg.d == 205);
    CHECK(cpu.reg.e == 35);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 98);
    CHECK(cpu.reg.l == 15);
    CHECK(cpu.pc == 19488);
    CHECK(cpu.sp == 44649);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19597] == 24);
    REQUIRE(cpu.ram[19598] == 145);
}

TEST_CASE( "18 0195", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2831;
    cpu.sp = 59738;
    cpu.reg.a = 198;
    cpu.reg.b = 68;
    cpu.reg.c = 74;
    cpu.reg.d = 46;
    cpu.reg.e = 145;
    cpu.reg.f = 80;
    cpu.reg.h = 241;
    cpu.reg.l = 149;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[2831] = 24;
    cpu.ram[2832] = 91;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 198);
    CHECK(cpu.reg.b == 68);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 46);
    CHECK(cpu.reg.e == 145);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 149);
    CHECK(cpu.pc == 2924);
    CHECK(cpu.sp == 59738);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2831] == 24);
    REQUIRE(cpu.ram[2832] == 91);
}

TEST_CASE( "18 0196", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17786;
    cpu.sp = 55756;
    cpu.reg.a = 108;
    cpu.reg.b = 185;
    cpu.reg.c = 94;
    cpu.reg.d = 29;
    cpu.reg.e = 74;
    cpu.reg.f = 144;
    cpu.reg.h = 232;
    cpu.reg.l = 20;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[17786] = 24;
    cpu.ram[17787] = 6;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 108);
    CHECK(cpu.reg.b == 185);
    CHECK(cpu.reg.c == 94);
    CHECK(cpu.reg.d == 29);
    CHECK(cpu.reg.e == 74);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 232);
    CHECK(cpu.reg.l == 20);
    CHECK(cpu.pc == 17794);
    CHECK(cpu.sp == 55756);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17786] == 24);
    REQUIRE(cpu.ram[17787] == 6);
}

TEST_CASE( "18 0197", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16355;
    cpu.sp = 8079;
    cpu.reg.a = 219;
    cpu.reg.b = 188;
    cpu.reg.c = 114;
    cpu.reg.d = 57;
    cpu.reg.e = 142;
    cpu.reg.f = 64;
    cpu.reg.h = 91;
    cpu.reg.l = 134;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[16355] = 24;
    cpu.ram[16356] = 253;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 219);
    CHECK(cpu.reg.b == 188);
    CHECK(cpu.reg.c == 114);
    CHECK(cpu.reg.d == 57);
    CHECK(cpu.reg.e == 142);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 91);
    CHECK(cpu.reg.l == 134);
    CHECK(cpu.pc == 16354);
    CHECK(cpu.sp == 8079);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16355] == 24);
    REQUIRE(cpu.ram[16356] == 253);
}

TEST_CASE( "18 0198", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13020;
    cpu.sp = 58174;
    cpu.reg.a = 64;
    cpu.reg.b = 126;
    cpu.reg.c = 132;
    cpu.reg.d = 65;
    cpu.reg.e = 222;
    cpu.reg.f = 240;
    cpu.reg.h = 196;
    cpu.reg.l = 254;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[13020] = 24;
    cpu.ram[13021] = 181;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 126);
    CHECK(cpu.reg.c == 132);
    CHECK(cpu.reg.d == 65);
    CHECK(cpu.reg.e == 222);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 196);
    CHECK(cpu.reg.l == 254);
    CHECK(cpu.pc == 12947);
    CHECK(cpu.sp == 58174);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13020] == 24);
    REQUIRE(cpu.ram[13021] == 181);
}

TEST_CASE( "18 0199", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54264;
    cpu.sp = 8079;
    cpu.reg.a = 137;
    cpu.reg.b = 252;
    cpu.reg.c = 23;
    cpu.reg.d = 53;
    cpu.reg.e = 73;
    cpu.reg.f = 96;
    cpu.reg.h = 199;
    cpu.reg.l = 251;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[54264] = 24;
    cpu.ram[54265] = 71;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 137);
    CHECK(cpu.reg.b == 252);
    CHECK(cpu.reg.c == 23);
    CHECK(cpu.reg.d == 53);
    CHECK(cpu.reg.e == 73);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 199);
    CHECK(cpu.reg.l == 251);
    CHECK(cpu.pc == 54337);
    CHECK(cpu.sp == 8079);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54264] == 24);
    REQUIRE(cpu.ram[54265] == 71);
}

TEST_CASE( "18 019A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55570;
    cpu.sp = 16671;
    cpu.reg.a = 92;
    cpu.reg.b = 240;
    cpu.reg.c = 76;
    cpu.reg.d = 254;
    cpu.reg.e = 161;
    cpu.reg.f = 176;
    cpu.reg.h = 140;
    cpu.reg.l = 109;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[55570] = 24;
    cpu.ram[55571] = 176;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 92);
    CHECK(cpu.reg.b == 240);
    CHECK(cpu.reg.c == 76);
    CHECK(cpu.reg.d == 254);
    CHECK(cpu.reg.e == 161);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 140);
    CHECK(cpu.reg.l == 109);
    CHECK(cpu.pc == 55492);
    CHECK(cpu.sp == 16671);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55570] == 24);
    REQUIRE(cpu.ram[55571] == 176);
}

TEST_CASE( "18 019B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16488;
    cpu.sp = 33731;
    cpu.reg.a = 18;
    cpu.reg.b = 217;
    cpu.reg.c = 96;
    cpu.reg.d = 9;
    cpu.reg.e = 118;
    cpu.reg.f = 64;
    cpu.reg.h = 13;
    cpu.reg.l = 252;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[16488] = 24;
    cpu.ram[16489] = 187;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 18);
    CHECK(cpu.reg.b == 217);
    CHECK(cpu.reg.c == 96);
    CHECK(cpu.reg.d == 9);
    CHECK(cpu.reg.e == 118);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 13);
    CHECK(cpu.reg.l == 252);
    CHECK(cpu.pc == 16421);
    CHECK(cpu.sp == 33731);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16488] == 24);
    REQUIRE(cpu.ram[16489] == 187);
}

TEST_CASE( "18 019C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65315;
    cpu.sp = 9737;
    cpu.reg.a = 134;
    cpu.reg.b = 161;
    cpu.reg.c = 17;
    cpu.reg.d = 1;
    cpu.reg.e = 182;
    cpu.reg.f = 112;
    cpu.reg.h = 92;
    cpu.reg.l = 104;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[65315] = 24;
    cpu.ram[65316] = 44;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 134);
    CHECK(cpu.reg.b == 161);
    CHECK(cpu.reg.c == 17);
    CHECK(cpu.reg.d == 1);
    CHECK(cpu.reg.e == 182);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 92);
    CHECK(cpu.reg.l == 104);
    CHECK(cpu.pc == 65361);
    CHECK(cpu.sp == 9737);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[65315] == 24);
    REQUIRE(cpu.ram[65316] == 44);
}

TEST_CASE( "18 019D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31171;
    cpu.sp = 53532;
    cpu.reg.a = 125;
    cpu.reg.b = 250;
    cpu.reg.c = 17;
    cpu.reg.d = 97;
    cpu.reg.e = 119;
    cpu.reg.f = 240;
    cpu.reg.h = 200;
    cpu.reg.l = 79;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[31171] = 24;
    cpu.ram[31172] = 188;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 125);
    CHECK(cpu.reg.b == 250);
    CHECK(cpu.reg.c == 17);
    CHECK(cpu.reg.d == 97);
    CHECK(cpu.reg.e == 119);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 200);
    CHECK(cpu.reg.l == 79);
    CHECK(cpu.pc == 31105);
    CHECK(cpu.sp == 53532);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31171] == 24);
    REQUIRE(cpu.ram[31172] == 188);
}

TEST_CASE( "18 019E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5860;
    cpu.sp = 47629;
    cpu.reg.a = 204;
    cpu.reg.b = 233;
    cpu.reg.c = 74;
    cpu.reg.d = 218;
    cpu.reg.e = 104;
    cpu.reg.f = 144;
    cpu.reg.h = 220;
    cpu.reg.l = 108;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[5860] = 24;
    cpu.ram[5861] = 252;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 204);
    CHECK(cpu.reg.b == 233);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 218);
    CHECK(cpu.reg.e == 104);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 220);
    CHECK(cpu.reg.l == 108);
    CHECK(cpu.pc == 5858);
    CHECK(cpu.sp == 47629);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5860] == 24);
    REQUIRE(cpu.ram[5861] == 252);
}

TEST_CASE( "18 019F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54388;
    cpu.sp = 48341;
    cpu.reg.a = 218;
    cpu.reg.b = 31;
    cpu.reg.c = 202;
    cpu.reg.d = 181;
    cpu.reg.e = 45;
    cpu.reg.f = 0;
    cpu.reg.h = 25;
    cpu.reg.l = 27;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[54388] = 24;
    cpu.ram[54389] = 72;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 218);
    CHECK(cpu.reg.b == 31);
    CHECK(cpu.reg.c == 202);
    CHECK(cpu.reg.d == 181);
    CHECK(cpu.reg.e == 45);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 25);
    CHECK(cpu.reg.l == 27);
    CHECK(cpu.pc == 54462);
    CHECK(cpu.sp == 48341);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[54388] == 24);
    REQUIRE(cpu.ram[54389] == 72);
}

TEST_CASE( "18 01A0", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18934;
    cpu.sp = 10794;
    cpu.reg.a = 69;
    cpu.reg.b = 149;
    cpu.reg.c = 228;
    cpu.reg.d = 173;
    cpu.reg.e = 236;
    cpu.reg.f = 192;
    cpu.reg.h = 25;
    cpu.reg.l = 117;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[18934] = 24;
    cpu.ram[18935] = 193;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 69);
    CHECK(cpu.reg.b == 149);
    CHECK(cpu.reg.c == 228);
    CHECK(cpu.reg.d == 173);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 25);
    CHECK(cpu.reg.l == 117);
    CHECK(cpu.pc == 18873);
    CHECK(cpu.sp == 10794);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[18934] == 24);
    REQUIRE(cpu.ram[18935] == 193);
}

TEST_CASE( "18 01A1", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32535;
    cpu.sp = 52490;
    cpu.reg.a = 34;
    cpu.reg.b = 31;
    cpu.reg.c = 139;
    cpu.reg.d = 131;
    cpu.reg.e = 55;
    cpu.reg.f = 48;
    cpu.reg.h = 223;
    cpu.reg.l = 70;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[32535] = 24;
    cpu.ram[32536] = 193;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 34);
    CHECK(cpu.reg.b == 31);
    CHECK(cpu.reg.c == 139);
    CHECK(cpu.reg.d == 131);
    CHECK(cpu.reg.e == 55);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 223);
    CHECK(cpu.reg.l == 70);
    CHECK(cpu.pc == 32474);
    CHECK(cpu.sp == 52490);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32535] == 24);
    REQUIRE(cpu.ram[32536] == 193);
}

TEST_CASE( "18 01A2", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6887;
    cpu.sp = 40639;
    cpu.reg.a = 49;
    cpu.reg.b = 224;
    cpu.reg.c = 89;
    cpu.reg.d = 83;
    cpu.reg.e = 128;
    cpu.reg.f = 112;
    cpu.reg.h = 68;
    cpu.reg.l = 122;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[6887] = 24;
    cpu.ram[6888] = 136;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 49);
    CHECK(cpu.reg.b == 224);
    CHECK(cpu.reg.c == 89);
    CHECK(cpu.reg.d == 83);
    CHECK(cpu.reg.e == 128);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 68);
    CHECK(cpu.reg.l == 122);
    CHECK(cpu.pc == 6769);
    CHECK(cpu.sp == 40639);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6887] == 24);
    REQUIRE(cpu.ram[6888] == 136);
}

TEST_CASE( "18 01A3", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40104;
    cpu.sp = 42992;
    cpu.reg.a = 80;
    cpu.reg.b = 162;
    cpu.reg.c = 147;
    cpu.reg.d = 158;
    cpu.reg.e = 196;
    cpu.reg.f = 48;
    cpu.reg.h = 120;
    cpu.reg.l = 236;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[40104] = 24;
    cpu.ram[40105] = 76;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 80);
    CHECK(cpu.reg.b == 162);
    CHECK(cpu.reg.c == 147);
    CHECK(cpu.reg.d == 158);
    CHECK(cpu.reg.e == 196);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 120);
    CHECK(cpu.reg.l == 236);
    CHECK(cpu.pc == 40182);
    CHECK(cpu.sp == 42992);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40104] == 24);
    REQUIRE(cpu.ram[40105] == 76);
}

TEST_CASE( "18 01A4", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48655;
    cpu.sp = 46787;
    cpu.reg.a = 215;
    cpu.reg.b = 134;
    cpu.reg.c = 69;
    cpu.reg.d = 246;
    cpu.reg.e = 222;
    cpu.reg.f = 16;
    cpu.reg.h = 30;
    cpu.reg.l = 134;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[48655] = 24;
    cpu.ram[48656] = 158;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 215);
    CHECK(cpu.reg.b == 134);
    CHECK(cpu.reg.c == 69);
    CHECK(cpu.reg.d == 246);
    CHECK(cpu.reg.e == 222);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 30);
    CHECK(cpu.reg.l == 134);
    CHECK(cpu.pc == 48559);
    CHECK(cpu.sp == 46787);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48655] == 24);
    REQUIRE(cpu.ram[48656] == 158);
}

TEST_CASE( "18 01A5", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 763;
    cpu.sp = 22989;
    cpu.reg.a = 211;
    cpu.reg.b = 166;
    cpu.reg.c = 197;
    cpu.reg.d = 112;
    cpu.reg.e = 149;
    cpu.reg.f = 0;
    cpu.reg.h = 111;
    cpu.reg.l = 58;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[763] = 24;
    cpu.ram[764] = 19;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 211);
    CHECK(cpu.reg.b == 166);
    CHECK(cpu.reg.c == 197);
    CHECK(cpu.reg.d == 112);
    CHECK(cpu.reg.e == 149);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 111);
    CHECK(cpu.reg.l == 58);
    CHECK(cpu.pc == 784);
    CHECK(cpu.sp == 22989);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[763] == 24);
    REQUIRE(cpu.ram[764] == 19);
}

TEST_CASE( "18 01A6", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14363;
    cpu.sp = 37633;
    cpu.reg.a = 164;
    cpu.reg.b = 120;
    cpu.reg.c = 160;
    cpu.reg.d = 252;
    cpu.reg.e = 158;
    cpu.reg.f = 192;
    cpu.reg.h = 237;
    cpu.reg.l = 131;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[14363] = 24;
    cpu.ram[14364] = 53;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 164);
    CHECK(cpu.reg.b == 120);
    CHECK(cpu.reg.c == 160);
    CHECK(cpu.reg.d == 252);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 237);
    CHECK(cpu.reg.l == 131);
    CHECK(cpu.pc == 14418);
    CHECK(cpu.sp == 37633);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14363] == 24);
    REQUIRE(cpu.ram[14364] == 53);
}

TEST_CASE( "18 01A7", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19293;
    cpu.sp = 41149;
    cpu.reg.a = 66;
    cpu.reg.b = 158;
    cpu.reg.c = 213;
    cpu.reg.d = 17;
    cpu.reg.e = 171;
    cpu.reg.f = 96;
    cpu.reg.h = 217;
    cpu.reg.l = 7;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[19293] = 24;
    cpu.ram[19294] = 204;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 66);
    CHECK(cpu.reg.b == 158);
    CHECK(cpu.reg.c == 213);
    CHECK(cpu.reg.d == 17);
    CHECK(cpu.reg.e == 171);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 217);
    CHECK(cpu.reg.l == 7);
    CHECK(cpu.pc == 19243);
    CHECK(cpu.sp == 41149);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19293] == 24);
    REQUIRE(cpu.ram[19294] == 204);
}

TEST_CASE( "18 01A8", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41739;
    cpu.sp = 32112;
    cpu.reg.a = 138;
    cpu.reg.b = 25;
    cpu.reg.c = 133;
    cpu.reg.d = 246;
    cpu.reg.e = 236;
    cpu.reg.f = 96;
    cpu.reg.h = 122;
    cpu.reg.l = 140;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[41739] = 24;
    cpu.ram[41740] = 30;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 138);
    CHECK(cpu.reg.b == 25);
    CHECK(cpu.reg.c == 133);
    CHECK(cpu.reg.d == 246);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 122);
    CHECK(cpu.reg.l == 140);
    CHECK(cpu.pc == 41771);
    CHECK(cpu.sp == 32112);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[41739] == 24);
    REQUIRE(cpu.ram[41740] == 30);
}

TEST_CASE( "18 01A9", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58744;
    cpu.sp = 62594;
    cpu.reg.a = 68;
    cpu.reg.b = 77;
    cpu.reg.c = 163;
    cpu.reg.d = 245;
    cpu.reg.e = 45;
    cpu.reg.f = 64;
    cpu.reg.h = 221;
    cpu.reg.l = 21;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[58744] = 24;
    cpu.ram[58745] = 74;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 68);
    CHECK(cpu.reg.b == 77);
    CHECK(cpu.reg.c == 163);
    CHECK(cpu.reg.d == 245);
    CHECK(cpu.reg.e == 45);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 221);
    CHECK(cpu.reg.l == 21);
    CHECK(cpu.pc == 58820);
    CHECK(cpu.sp == 62594);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[58744] == 24);
    REQUIRE(cpu.ram[58745] == 74);
}

TEST_CASE( "18 01AA", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28383;
    cpu.sp = 43395;
    cpu.reg.a = 13;
    cpu.reg.b = 185;
    cpu.reg.c = 159;
    cpu.reg.d = 198;
    cpu.reg.e = 65;
    cpu.reg.f = 240;
    cpu.reg.h = 245;
    cpu.reg.l = 233;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[28383] = 24;
    cpu.ram[28384] = 16;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 13);
    CHECK(cpu.reg.b == 185);
    CHECK(cpu.reg.c == 159);
    CHECK(cpu.reg.d == 198);
    CHECK(cpu.reg.e == 65);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 245);
    CHECK(cpu.reg.l == 233);
    CHECK(cpu.pc == 28401);
    CHECK(cpu.sp == 43395);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28383] == 24);
    REQUIRE(cpu.ram[28384] == 16);
}

TEST_CASE( "18 01AB", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25197;
    cpu.sp = 42028;
    cpu.reg.a = 92;
    cpu.reg.b = 84;
    cpu.reg.c = 42;
    cpu.reg.d = 0;
    cpu.reg.e = 191;
    cpu.reg.f = 16;
    cpu.reg.h = 229;
    cpu.reg.l = 149;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[25197] = 24;
    cpu.ram[25198] = 125;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 92);
    CHECK(cpu.reg.b == 84);
    CHECK(cpu.reg.c == 42);
    CHECK(cpu.reg.d == 0);
    CHECK(cpu.reg.e == 191);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 229);
    CHECK(cpu.reg.l == 149);
    CHECK(cpu.pc == 25324);
    CHECK(cpu.sp == 42028);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25197] == 24);
    REQUIRE(cpu.ram[25198] == 125);
}

TEST_CASE( "18 01AC", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2647;
    cpu.sp = 35466;
    cpu.reg.a = 210;
    cpu.reg.b = 218;
    cpu.reg.c = 2;
    cpu.reg.d = 111;
    cpu.reg.e = 185;
    cpu.reg.f = 176;
    cpu.reg.h = 221;
    cpu.reg.l = 94;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[2647] = 24;
    cpu.ram[2648] = 197;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 210);
    CHECK(cpu.reg.b == 218);
    CHECK(cpu.reg.c == 2);
    CHECK(cpu.reg.d == 111);
    CHECK(cpu.reg.e == 185);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 221);
    CHECK(cpu.reg.l == 94);
    CHECK(cpu.pc == 2590);
    CHECK(cpu.sp == 35466);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2647] == 24);
    REQUIRE(cpu.ram[2648] == 197);
}

TEST_CASE( "18 01AD", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30888;
    cpu.sp = 45763;
    cpu.reg.a = 226;
    cpu.reg.b = 127;
    cpu.reg.c = 76;
    cpu.reg.d = 66;
    cpu.reg.e = 141;
    cpu.reg.f = 160;
    cpu.reg.h = 236;
    cpu.reg.l = 238;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[30888] = 24;
    cpu.ram[30889] = 232;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 226);
    CHECK(cpu.reg.b == 127);
    CHECK(cpu.reg.c == 76);
    CHECK(cpu.reg.d == 66);
    CHECK(cpu.reg.e == 141);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 236);
    CHECK(cpu.reg.l == 238);
    CHECK(cpu.pc == 30866);
    CHECK(cpu.sp == 45763);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30888] == 24);
    REQUIRE(cpu.ram[30889] == 232);
}

TEST_CASE( "18 01AE", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43971;
    cpu.sp = 40820;
    cpu.reg.a = 73;
    cpu.reg.b = 106;
    cpu.reg.c = 243;
    cpu.reg.d = 123;
    cpu.reg.e = 6;
    cpu.reg.f = 240;
    cpu.reg.h = 64;
    cpu.reg.l = 52;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[43971] = 24;
    cpu.ram[43972] = 224;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 73);
    CHECK(cpu.reg.b == 106);
    CHECK(cpu.reg.c == 243);
    CHECK(cpu.reg.d == 123);
    CHECK(cpu.reg.e == 6);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 64);
    CHECK(cpu.reg.l == 52);
    CHECK(cpu.pc == 43941);
    CHECK(cpu.sp == 40820);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43971] == 24);
    REQUIRE(cpu.ram[43972] == 224);
}

TEST_CASE( "18 01AF", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47646;
    cpu.sp = 41474;
    cpu.reg.a = 231;
    cpu.reg.b = 250;
    cpu.reg.c = 226;
    cpu.reg.d = 188;
    cpu.reg.e = 103;
    cpu.reg.f = 80;
    cpu.reg.h = 56;
    cpu.reg.l = 175;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47646] = 24;
    cpu.ram[47647] = 77;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 231);
    CHECK(cpu.reg.b == 250);
    CHECK(cpu.reg.c == 226);
    CHECK(cpu.reg.d == 188);
    CHECK(cpu.reg.e == 103);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 56);
    CHECK(cpu.reg.l == 175);
    CHECK(cpu.pc == 47725);
    CHECK(cpu.sp == 41474);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47646] == 24);
    REQUIRE(cpu.ram[47647] == 77);
}

TEST_CASE( "18 01B0", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21336;
    cpu.sp = 53941;
    cpu.reg.a = 135;
    cpu.reg.b = 187;
    cpu.reg.c = 11;
    cpu.reg.d = 85;
    cpu.reg.e = 206;
    cpu.reg.f = 160;
    cpu.reg.h = 218;
    cpu.reg.l = 170;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[21336] = 24;
    cpu.ram[21337] = 15;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 135);
    CHECK(cpu.reg.b == 187);
    CHECK(cpu.reg.c == 11);
    CHECK(cpu.reg.d == 85);
    CHECK(cpu.reg.e == 206);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 218);
    CHECK(cpu.reg.l == 170);
    CHECK(cpu.pc == 21353);
    CHECK(cpu.sp == 53941);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21336] == 24);
    REQUIRE(cpu.ram[21337] == 15);
}

TEST_CASE( "18 01B1", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51774;
    cpu.sp = 48127;
    cpu.reg.a = 68;
    cpu.reg.b = 228;
    cpu.reg.c = 225;
    cpu.reg.d = 247;
    cpu.reg.e = 117;
    cpu.reg.f = 240;
    cpu.reg.h = 129;
    cpu.reg.l = 143;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[51774] = 24;
    cpu.ram[51775] = 252;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 68);
    CHECK(cpu.reg.b == 228);
    CHECK(cpu.reg.c == 225);
    CHECK(cpu.reg.d == 247);
    CHECK(cpu.reg.e == 117);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 129);
    CHECK(cpu.reg.l == 143);
    CHECK(cpu.pc == 51772);
    CHECK(cpu.sp == 48127);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51774] == 24);
    REQUIRE(cpu.ram[51775] == 252);
}

TEST_CASE( "18 01B2", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38847;
    cpu.sp = 40168;
    cpu.reg.a = 171;
    cpu.reg.b = 129;
    cpu.reg.c = 19;
    cpu.reg.d = 17;
    cpu.reg.e = 122;
    cpu.reg.f = 208;
    cpu.reg.h = 43;
    cpu.reg.l = 10;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[38847] = 24;
    cpu.ram[38848] = 243;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 171);
    CHECK(cpu.reg.b == 129);
    CHECK(cpu.reg.c == 19);
    CHECK(cpu.reg.d == 17);
    CHECK(cpu.reg.e == 122);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 43);
    CHECK(cpu.reg.l == 10);
    CHECK(cpu.pc == 38836);
    CHECK(cpu.sp == 40168);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38847] == 24);
    REQUIRE(cpu.ram[38848] == 243);
}

TEST_CASE( "18 01B3", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61398;
    cpu.sp = 43730;
    cpu.reg.a = 11;
    cpu.reg.b = 173;
    cpu.reg.c = 9;
    cpu.reg.d = 227;
    cpu.reg.e = 197;
    cpu.reg.f = 208;
    cpu.reg.h = 125;
    cpu.reg.l = 100;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[61398] = 24;
    cpu.ram[61399] = 30;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 11);
    CHECK(cpu.reg.b == 173);
    CHECK(cpu.reg.c == 9);
    CHECK(cpu.reg.d == 227);
    CHECK(cpu.reg.e == 197);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 125);
    CHECK(cpu.reg.l == 100);
    CHECK(cpu.pc == 61430);
    CHECK(cpu.sp == 43730);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61398] == 24);
    REQUIRE(cpu.ram[61399] == 30);
}

TEST_CASE( "18 01B4", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25043;
    cpu.sp = 9697;
    cpu.reg.a = 95;
    cpu.reg.b = 244;
    cpu.reg.c = 201;
    cpu.reg.d = 104;
    cpu.reg.e = 65;
    cpu.reg.f = 176;
    cpu.reg.h = 68;
    cpu.reg.l = 117;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[25043] = 24;
    cpu.ram[25044] = 63;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 95);
    CHECK(cpu.reg.b == 244);
    CHECK(cpu.reg.c == 201);
    CHECK(cpu.reg.d == 104);
    CHECK(cpu.reg.e == 65);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 68);
    CHECK(cpu.reg.l == 117);
    CHECK(cpu.pc == 25108);
    CHECK(cpu.sp == 9697);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25043] == 24);
    REQUIRE(cpu.ram[25044] == 63);
}

TEST_CASE( "18 01B5", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38809;
    cpu.sp = 21775;
    cpu.reg.a = 221;
    cpu.reg.b = 104;
    cpu.reg.c = 119;
    cpu.reg.d = 232;
    cpu.reg.e = 14;
    cpu.reg.f = 80;
    cpu.reg.h = 73;
    cpu.reg.l = 96;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[38809] = 24;
    cpu.ram[38810] = 155;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 221);
    CHECK(cpu.reg.b == 104);
    CHECK(cpu.reg.c == 119);
    CHECK(cpu.reg.d == 232);
    CHECK(cpu.reg.e == 14);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 73);
    CHECK(cpu.reg.l == 96);
    CHECK(cpu.pc == 38710);
    CHECK(cpu.sp == 21775);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[38809] == 24);
    REQUIRE(cpu.ram[38810] == 155);
}

TEST_CASE( "18 01B6", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19993;
    cpu.sp = 46603;
    cpu.reg.a = 79;
    cpu.reg.b = 123;
    cpu.reg.c = 74;
    cpu.reg.d = 158;
    cpu.reg.e = 92;
    cpu.reg.f = 192;
    cpu.reg.h = 204;
    cpu.reg.l = 129;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[19993] = 24;
    cpu.ram[19994] = 232;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 79);
    CHECK(cpu.reg.b == 123);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 158);
    CHECK(cpu.reg.e == 92);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 204);
    CHECK(cpu.reg.l == 129);
    CHECK(cpu.pc == 19971);
    CHECK(cpu.sp == 46603);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19993] == 24);
    REQUIRE(cpu.ram[19994] == 232);
}

TEST_CASE( "18 01B7", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15532;
    cpu.sp = 55262;
    cpu.reg.a = 162;
    cpu.reg.b = 237;
    cpu.reg.c = 47;
    cpu.reg.d = 38;
    cpu.reg.e = 247;
    cpu.reg.f = 208;
    cpu.reg.h = 245;
    cpu.reg.l = 41;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[15532] = 24;
    cpu.ram[15533] = 31;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 162);
    CHECK(cpu.reg.b == 237);
    CHECK(cpu.reg.c == 47);
    CHECK(cpu.reg.d == 38);
    CHECK(cpu.reg.e == 247);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 245);
    CHECK(cpu.reg.l == 41);
    CHECK(cpu.pc == 15565);
    CHECK(cpu.sp == 55262);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15532] == 24);
    REQUIRE(cpu.ram[15533] == 31);
}

TEST_CASE( "18 01B8", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60578;
    cpu.sp = 53417;
    cpu.reg.a = 249;
    cpu.reg.b = 208;
    cpu.reg.c = 99;
    cpu.reg.d = 55;
    cpu.reg.e = 168;
    cpu.reg.f = 48;
    cpu.reg.h = 160;
    cpu.reg.l = 216;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[60578] = 24;
    cpu.ram[60579] = 152;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 249);
    CHECK(cpu.reg.b == 208);
    CHECK(cpu.reg.c == 99);
    CHECK(cpu.reg.d == 55);
    CHECK(cpu.reg.e == 168);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 160);
    CHECK(cpu.reg.l == 216);
    CHECK(cpu.pc == 60476);
    CHECK(cpu.sp == 53417);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60578] == 24);
    REQUIRE(cpu.ram[60579] == 152);
}

TEST_CASE( "18 01B9", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31392;
    cpu.sp = 15320;
    cpu.reg.a = 26;
    cpu.reg.b = 169;
    cpu.reg.c = 252;
    cpu.reg.d = 220;
    cpu.reg.e = 112;
    cpu.reg.f = 0;
    cpu.reg.h = 231;
    cpu.reg.l = 11;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[31392] = 24;
    cpu.ram[31393] = 163;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 26);
    CHECK(cpu.reg.b == 169);
    CHECK(cpu.reg.c == 252);
    CHECK(cpu.reg.d == 220);
    CHECK(cpu.reg.e == 112);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 231);
    CHECK(cpu.reg.l == 11);
    CHECK(cpu.pc == 31301);
    CHECK(cpu.sp == 15320);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31392] == 24);
    REQUIRE(cpu.ram[31393] == 163);
}

TEST_CASE( "18 01BA", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26272;
    cpu.sp = 15909;
    cpu.reg.a = 102;
    cpu.reg.b = 228;
    cpu.reg.c = 241;
    cpu.reg.d = 149;
    cpu.reg.e = 13;
    cpu.reg.f = 128;
    cpu.reg.h = 171;
    cpu.reg.l = 194;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26272] = 24;
    cpu.ram[26273] = 225;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 102);
    CHECK(cpu.reg.b == 228);
    CHECK(cpu.reg.c == 241);
    CHECK(cpu.reg.d == 149);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 171);
    CHECK(cpu.reg.l == 194);
    CHECK(cpu.pc == 26243);
    CHECK(cpu.sp == 15909);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26272] == 24);
    REQUIRE(cpu.ram[26273] == 225);
}

TEST_CASE( "18 01BB", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7034;
    cpu.sp = 46583;
    cpu.reg.a = 196;
    cpu.reg.b = 71;
    cpu.reg.c = 13;
    cpu.reg.d = 236;
    cpu.reg.e = 222;
    cpu.reg.f = 48;
    cpu.reg.h = 43;
    cpu.reg.l = 188;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[7034] = 24;
    cpu.ram[7035] = 74;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 196);
    CHECK(cpu.reg.b == 71);
    CHECK(cpu.reg.c == 13);
    CHECK(cpu.reg.d == 236);
    CHECK(cpu.reg.e == 222);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 43);
    CHECK(cpu.reg.l == 188);
    CHECK(cpu.pc == 7110);
    CHECK(cpu.sp == 46583);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7034] == 24);
    REQUIRE(cpu.ram[7035] == 74);
}

TEST_CASE( "18 01BC", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46430;
    cpu.sp = 18525;
    cpu.reg.a = 250;
    cpu.reg.b = 207;
    cpu.reg.c = 242;
    cpu.reg.d = 83;
    cpu.reg.e = 249;
    cpu.reg.f = 80;
    cpu.reg.h = 118;
    cpu.reg.l = 58;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[46430] = 24;
    cpu.ram[46431] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 250);
    CHECK(cpu.reg.b == 207);
    CHECK(cpu.reg.c == 242);
    CHECK(cpu.reg.d == 83);
    CHECK(cpu.reg.e == 249);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 118);
    CHECK(cpu.reg.l == 58);
    CHECK(cpu.pc == 46434);
    CHECK(cpu.sp == 18525);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46430] == 24);
    REQUIRE(cpu.ram[46431] == 2);
}

TEST_CASE( "18 01BD", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43365;
    cpu.sp = 62033;
    cpu.reg.a = 112;
    cpu.reg.b = 106;
    cpu.reg.c = 149;
    cpu.reg.d = 60;
    cpu.reg.e = 41;
    cpu.reg.f = 224;
    cpu.reg.h = 84;
    cpu.reg.l = 116;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[43365] = 24;
    cpu.ram[43366] = 51;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 112);
    CHECK(cpu.reg.b == 106);
    CHECK(cpu.reg.c == 149);
    CHECK(cpu.reg.d == 60);
    CHECK(cpu.reg.e == 41);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 84);
    CHECK(cpu.reg.l == 116);
    CHECK(cpu.pc == 43418);
    CHECK(cpu.sp == 62033);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[43365] == 24);
    REQUIRE(cpu.ram[43366] == 51);
}

TEST_CASE( "18 01BE", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7274;
    cpu.sp = 29364;
    cpu.reg.a = 139;
    cpu.reg.b = 141;
    cpu.reg.c = 125;
    cpu.reg.d = 75;
    cpu.reg.e = 136;
    cpu.reg.f = 64;
    cpu.reg.h = 87;
    cpu.reg.l = 211;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[7274] = 24;
    cpu.ram[7275] = 112;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 139);
    CHECK(cpu.reg.b == 141);
    CHECK(cpu.reg.c == 125);
    CHECK(cpu.reg.d == 75);
    CHECK(cpu.reg.e == 136);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 87);
    CHECK(cpu.reg.l == 211);
    CHECK(cpu.pc == 7388);
    CHECK(cpu.sp == 29364);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7274] == 24);
    REQUIRE(cpu.ram[7275] == 112);
}

TEST_CASE( "18 01BF", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60835;
    cpu.sp = 13735;
    cpu.reg.a = 110;
    cpu.reg.b = 75;
    cpu.reg.c = 49;
    cpu.reg.d = 73;
    cpu.reg.e = 242;
    cpu.reg.f = 240;
    cpu.reg.h = 178;
    cpu.reg.l = 117;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[60835] = 24;
    cpu.ram[60836] = 111;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 110);
    CHECK(cpu.reg.b == 75);
    CHECK(cpu.reg.c == 49);
    CHECK(cpu.reg.d == 73);
    CHECK(cpu.reg.e == 242);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 178);
    CHECK(cpu.reg.l == 117);
    CHECK(cpu.pc == 60948);
    CHECK(cpu.sp == 13735);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[60835] == 24);
    REQUIRE(cpu.ram[60836] == 111);
}

TEST_CASE( "18 01C0", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17194;
    cpu.sp = 27092;
    cpu.reg.a = 46;
    cpu.reg.b = 169;
    cpu.reg.c = 78;
    cpu.reg.d = 8;
    cpu.reg.e = 182;
    cpu.reg.f = 240;
    cpu.reg.h = 60;
    cpu.reg.l = 132;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[17194] = 24;
    cpu.ram[17195] = 130;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 46);
    CHECK(cpu.reg.b == 169);
    CHECK(cpu.reg.c == 78);
    CHECK(cpu.reg.d == 8);
    CHECK(cpu.reg.e == 182);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 60);
    CHECK(cpu.reg.l == 132);
    CHECK(cpu.pc == 17070);
    CHECK(cpu.sp == 27092);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17194] == 24);
    REQUIRE(cpu.ram[17195] == 130);
}

TEST_CASE( "18 01C1", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52224;
    cpu.sp = 51306;
    cpu.reg.a = 169;
    cpu.reg.b = 165;
    cpu.reg.c = 105;
    cpu.reg.d = 94;
    cpu.reg.e = 73;
    cpu.reg.f = 208;
    cpu.reg.h = 53;
    cpu.reg.l = 115;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[52224] = 24;
    cpu.ram[52225] = 97;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 169);
    CHECK(cpu.reg.b == 165);
    CHECK(cpu.reg.c == 105);
    CHECK(cpu.reg.d == 94);
    CHECK(cpu.reg.e == 73);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 53);
    CHECK(cpu.reg.l == 115);
    CHECK(cpu.pc == 52323);
    CHECK(cpu.sp == 51306);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[52224] == 24);
    REQUIRE(cpu.ram[52225] == 97);
}

TEST_CASE( "18 01C2", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18345;
    cpu.sp = 58118;
    cpu.reg.a = 155;
    cpu.reg.b = 123;
    cpu.reg.c = 52;
    cpu.reg.d = 199;
    cpu.reg.e = 34;
    cpu.reg.f = 80;
    cpu.reg.h = 129;
    cpu.reg.l = 49;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[18345] = 24;
    cpu.ram[18346] = 71;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 155);
    CHECK(cpu.reg.b == 123);
    CHECK(cpu.reg.c == 52);
    CHECK(cpu.reg.d == 199);
    CHECK(cpu.reg.e == 34);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 129);
    CHECK(cpu.reg.l == 49);
    CHECK(cpu.pc == 18418);
    CHECK(cpu.sp == 58118);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[18345] == 24);
    REQUIRE(cpu.ram[18346] == 71);
}

TEST_CASE( "18 01C3", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20104;
    cpu.sp = 30084;
    cpu.reg.a = 24;
    cpu.reg.b = 67;
    cpu.reg.c = 158;
    cpu.reg.d = 191;
    cpu.reg.e = 157;
    cpu.reg.f = 80;
    cpu.reg.h = 150;
    cpu.reg.l = 24;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[20104] = 24;
    cpu.ram[20105] = 159;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 24);
    CHECK(cpu.reg.b == 67);
    CHECK(cpu.reg.c == 158);
    CHECK(cpu.reg.d == 191);
    CHECK(cpu.reg.e == 157);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 150);
    CHECK(cpu.reg.l == 24);
    CHECK(cpu.pc == 20009);
    CHECK(cpu.sp == 30084);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[20104] == 24);
    REQUIRE(cpu.ram[20105] == 159);
}

TEST_CASE( "18 01C4", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44070;
    cpu.sp = 62591;
    cpu.reg.a = 96;
    cpu.reg.b = 35;
    cpu.reg.c = 156;
    cpu.reg.d = 139;
    cpu.reg.e = 244;
    cpu.reg.f = 48;
    cpu.reg.h = 123;
    cpu.reg.l = 121;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[44070] = 24;
    cpu.ram[44071] = 151;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 96);
    CHECK(cpu.reg.b == 35);
    CHECK(cpu.reg.c == 156);
    CHECK(cpu.reg.d == 139);
    CHECK(cpu.reg.e == 244);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 123);
    CHECK(cpu.reg.l == 121);
    CHECK(cpu.pc == 43967);
    CHECK(cpu.sp == 62591);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44070] == 24);
    REQUIRE(cpu.ram[44071] == 151);
}

TEST_CASE( "18 01C5", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54856;
    cpu.sp = 58326;
    cpu.reg.a = 91;
    cpu.reg.b = 106;
    cpu.reg.c = 123;
    cpu.reg.d = 50;
    cpu.reg.e = 223;
    cpu.reg.f = 112;
    cpu.reg.h = 77;
    cpu.reg.l = 58;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[54856] = 24;
    cpu.ram[54857] = 107;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 91);
    CHECK(cpu.reg.b == 106);
    CHECK(cpu.reg.c == 123);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 223);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 77);
    CHECK(cpu.reg.l == 58);
    CHECK(cpu.pc == 54965);
    CHECK(cpu.sp == 58326);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54856] == 24);
    REQUIRE(cpu.ram[54857] == 107);
}

TEST_CASE( "18 01C6", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6878;
    cpu.sp = 13601;
    cpu.reg.a = 110;
    cpu.reg.b = 11;
    cpu.reg.c = 193;
    cpu.reg.d = 204;
    cpu.reg.e = 32;
    cpu.reg.f = 96;
    cpu.reg.h = 211;
    cpu.reg.l = 186;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[6878] = 24;
    cpu.ram[6879] = 152;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 110);
    CHECK(cpu.reg.b == 11);
    CHECK(cpu.reg.c == 193);
    CHECK(cpu.reg.d == 204);
    CHECK(cpu.reg.e == 32);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 211);
    CHECK(cpu.reg.l == 186);
    CHECK(cpu.pc == 6776);
    CHECK(cpu.sp == 13601);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6878] == 24);
    REQUIRE(cpu.ram[6879] == 152);
}

TEST_CASE( "18 01C7", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51594;
    cpu.sp = 40970;
    cpu.reg.a = 35;
    cpu.reg.b = 209;
    cpu.reg.c = 170;
    cpu.reg.d = 226;
    cpu.reg.e = 37;
    cpu.reg.f = 192;
    cpu.reg.h = 80;
    cpu.reg.l = 155;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[51594] = 24;
    cpu.ram[51595] = 141;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 35);
    CHECK(cpu.reg.b == 209);
    CHECK(cpu.reg.c == 170);
    CHECK(cpu.reg.d == 226);
    CHECK(cpu.reg.e == 37);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 80);
    CHECK(cpu.reg.l == 155);
    CHECK(cpu.pc == 51481);
    CHECK(cpu.sp == 40970);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51594] == 24);
    REQUIRE(cpu.ram[51595] == 141);
}

TEST_CASE( "18 01C8", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28304;
    cpu.sp = 16011;
    cpu.reg.a = 0;
    cpu.reg.b = 151;
    cpu.reg.c = 162;
    cpu.reg.d = 44;
    cpu.reg.e = 158;
    cpu.reg.f = 16;
    cpu.reg.h = 25;
    cpu.reg.l = 116;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[28304] = 24;
    cpu.ram[28305] = 54;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 0);
    CHECK(cpu.reg.b == 151);
    CHECK(cpu.reg.c == 162);
    CHECK(cpu.reg.d == 44);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 25);
    CHECK(cpu.reg.l == 116);
    CHECK(cpu.pc == 28360);
    CHECK(cpu.sp == 16011);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28304] == 24);
    REQUIRE(cpu.ram[28305] == 54);
}

TEST_CASE( "18 01C9", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39406;
    cpu.sp = 40455;
    cpu.reg.a = 174;
    cpu.reg.b = 128;
    cpu.reg.c = 15;
    cpu.reg.d = 31;
    cpu.reg.e = 114;
    cpu.reg.f = 0;
    cpu.reg.h = 141;
    cpu.reg.l = 36;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[39406] = 24;
    cpu.ram[39407] = 46;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 174);
    CHECK(cpu.reg.b == 128);
    CHECK(cpu.reg.c == 15);
    CHECK(cpu.reg.d == 31);
    CHECK(cpu.reg.e == 114);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 141);
    CHECK(cpu.reg.l == 36);
    CHECK(cpu.pc == 39454);
    CHECK(cpu.sp == 40455);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39406] == 24);
    REQUIRE(cpu.ram[39407] == 46);
}

TEST_CASE( "18 01CA", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55696;
    cpu.sp = 65392;
    cpu.reg.a = 216;
    cpu.reg.b = 94;
    cpu.reg.c = 228;
    cpu.reg.d = 150;
    cpu.reg.e = 69;
    cpu.reg.f = 32;
    cpu.reg.h = 159;
    cpu.reg.l = 128;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[55696] = 24;
    cpu.ram[55697] = 34;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 216);
    CHECK(cpu.reg.b == 94);
    CHECK(cpu.reg.c == 228);
    CHECK(cpu.reg.d == 150);
    CHECK(cpu.reg.e == 69);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 159);
    CHECK(cpu.reg.l == 128);
    CHECK(cpu.pc == 55732);
    CHECK(cpu.sp == 65392);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[55696] == 24);
    REQUIRE(cpu.ram[55697] == 34);
}

TEST_CASE( "18 01CB", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61250;
    cpu.sp = 30201;
    cpu.reg.a = 58;
    cpu.reg.b = 193;
    cpu.reg.c = 11;
    cpu.reg.d = 178;
    cpu.reg.e = 136;
    cpu.reg.f = 112;
    cpu.reg.h = 143;
    cpu.reg.l = 207;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[61250] = 24;
    cpu.ram[61251] = 208;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 58);
    CHECK(cpu.reg.b == 193);
    CHECK(cpu.reg.c == 11);
    CHECK(cpu.reg.d == 178);
    CHECK(cpu.reg.e == 136);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 143);
    CHECK(cpu.reg.l == 207);
    CHECK(cpu.pc == 61204);
    CHECK(cpu.sp == 30201);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61250] == 24);
    REQUIRE(cpu.ram[61251] == 208);
}

TEST_CASE( "18 01CC", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36711;
    cpu.sp = 1233;
    cpu.reg.a = 192;
    cpu.reg.b = 246;
    cpu.reg.c = 101;
    cpu.reg.d = 43;
    cpu.reg.e = 203;
    cpu.reg.f = 96;
    cpu.reg.h = 142;
    cpu.reg.l = 46;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[36711] = 24;
    cpu.ram[36712] = 122;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 192);
    CHECK(cpu.reg.b == 246);
    CHECK(cpu.reg.c == 101);
    CHECK(cpu.reg.d == 43);
    CHECK(cpu.reg.e == 203);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 142);
    CHECK(cpu.reg.l == 46);
    CHECK(cpu.pc == 36835);
    CHECK(cpu.sp == 1233);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[36711] == 24);
    REQUIRE(cpu.ram[36712] == 122);
}

TEST_CASE( "18 01CD", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65055;
    cpu.sp = 45057;
    cpu.reg.a = 203;
    cpu.reg.b = 79;
    cpu.reg.c = 191;
    cpu.reg.d = 93;
    cpu.reg.e = 40;
    cpu.reg.f = 144;
    cpu.reg.h = 104;
    cpu.reg.l = 107;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[65055] = 24;
    cpu.ram[65056] = 186;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 203);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 191);
    CHECK(cpu.reg.d == 93);
    CHECK(cpu.reg.e == 40);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 104);
    CHECK(cpu.reg.l == 107);
    CHECK(cpu.pc == 64987);
    CHECK(cpu.sp == 45057);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[65055] == 24);
    REQUIRE(cpu.ram[65056] == 186);
}

TEST_CASE( "18 01CE", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58825;
    cpu.sp = 55085;
    cpu.reg.a = 33;
    cpu.reg.b = 71;
    cpu.reg.c = 175;
    cpu.reg.d = 92;
    cpu.reg.e = 20;
    cpu.reg.f = 192;
    cpu.reg.h = 152;
    cpu.reg.l = 171;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[58825] = 24;
    cpu.ram[58826] = 104;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 33);
    CHECK(cpu.reg.b == 71);
    CHECK(cpu.reg.c == 175);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 20);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 152);
    CHECK(cpu.reg.l == 171);
    CHECK(cpu.pc == 58931);
    CHECK(cpu.sp == 55085);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[58825] == 24);
    REQUIRE(cpu.ram[58826] == 104);
}

TEST_CASE( "18 01CF", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14955;
    cpu.sp = 5677;
    cpu.reg.a = 63;
    cpu.reg.b = 165;
    cpu.reg.c = 87;
    cpu.reg.d = 235;
    cpu.reg.e = 237;
    cpu.reg.f = 208;
    cpu.reg.h = 59;
    cpu.reg.l = 62;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[14955] = 24;
    cpu.ram[14956] = 13;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 63);
    CHECK(cpu.reg.b == 165);
    CHECK(cpu.reg.c == 87);
    CHECK(cpu.reg.d == 235);
    CHECK(cpu.reg.e == 237);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 59);
    CHECK(cpu.reg.l == 62);
    CHECK(cpu.pc == 14970);
    CHECK(cpu.sp == 5677);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14955] == 24);
    REQUIRE(cpu.ram[14956] == 13);
}

TEST_CASE( "18 01D0", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51457;
    cpu.sp = 30134;
    cpu.reg.a = 206;
    cpu.reg.b = 141;
    cpu.reg.c = 95;
    cpu.reg.d = 12;
    cpu.reg.e = 80;
    cpu.reg.f = 192;
    cpu.reg.h = 170;
    cpu.reg.l = 198;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[51457] = 24;
    cpu.ram[51458] = 28;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 206);
    CHECK(cpu.reg.b == 141);
    CHECK(cpu.reg.c == 95);
    CHECK(cpu.reg.d == 12);
    CHECK(cpu.reg.e == 80);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 170);
    CHECK(cpu.reg.l == 198);
    CHECK(cpu.pc == 51487);
    CHECK(cpu.sp == 30134);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[51457] == 24);
    REQUIRE(cpu.ram[51458] == 28);
}

TEST_CASE( "18 01D1", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22862;
    cpu.sp = 55231;
    cpu.reg.a = 183;
    cpu.reg.b = 152;
    cpu.reg.c = 29;
    cpu.reg.d = 179;
    cpu.reg.e = 132;
    cpu.reg.f = 240;
    cpu.reg.h = 21;
    cpu.reg.l = 60;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[22862] = 24;
    cpu.ram[22863] = 104;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 183);
    CHECK(cpu.reg.b == 152);
    CHECK(cpu.reg.c == 29);
    CHECK(cpu.reg.d == 179);
    CHECK(cpu.reg.e == 132);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 21);
    CHECK(cpu.reg.l == 60);
    CHECK(cpu.pc == 22968);
    CHECK(cpu.sp == 55231);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22862] == 24);
    REQUIRE(cpu.ram[22863] == 104);
}

TEST_CASE( "18 01D2", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52405;
    cpu.sp = 30352;
    cpu.reg.a = 141;
    cpu.reg.b = 178;
    cpu.reg.c = 65;
    cpu.reg.d = 181;
    cpu.reg.e = 128;
    cpu.reg.f = 144;
    cpu.reg.h = 135;
    cpu.reg.l = 194;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[52405] = 24;
    cpu.ram[52406] = 217;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 141);
    CHECK(cpu.reg.b == 178);
    CHECK(cpu.reg.c == 65);
    CHECK(cpu.reg.d == 181);
    CHECK(cpu.reg.e == 128);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 135);
    CHECK(cpu.reg.l == 194);
    CHECK(cpu.pc == 52368);
    CHECK(cpu.sp == 30352);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[52405] == 24);
    REQUIRE(cpu.ram[52406] == 217);
}

TEST_CASE( "18 01D3", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12783;
    cpu.sp = 18599;
    cpu.reg.a = 123;
    cpu.reg.b = 106;
    cpu.reg.c = 11;
    cpu.reg.d = 60;
    cpu.reg.e = 127;
    cpu.reg.f = 32;
    cpu.reg.h = 66;
    cpu.reg.l = 45;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[12783] = 24;
    cpu.ram[12784] = 223;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 123);
    CHECK(cpu.reg.b == 106);
    CHECK(cpu.reg.c == 11);
    CHECK(cpu.reg.d == 60);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 66);
    CHECK(cpu.reg.l == 45);
    CHECK(cpu.pc == 12752);
    CHECK(cpu.sp == 18599);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12783] == 24);
    REQUIRE(cpu.ram[12784] == 223);
}

TEST_CASE( "18 01D4", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6653;
    cpu.sp = 25437;
    cpu.reg.a = 60;
    cpu.reg.b = 189;
    cpu.reg.c = 148;
    cpu.reg.d = 125;
    cpu.reg.e = 70;
    cpu.reg.f = 32;
    cpu.reg.h = 62;
    cpu.reg.l = 227;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[6653] = 24;
    cpu.ram[6654] = 19;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 60);
    CHECK(cpu.reg.b == 189);
    CHECK(cpu.reg.c == 148);
    CHECK(cpu.reg.d == 125);
    CHECK(cpu.reg.e == 70);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 62);
    CHECK(cpu.reg.l == 227);
    CHECK(cpu.pc == 6674);
    CHECK(cpu.sp == 25437);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6653] == 24);
    REQUIRE(cpu.ram[6654] == 19);
}

TEST_CASE( "18 01D5", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20855;
    cpu.sp = 38323;
    cpu.reg.a = 136;
    cpu.reg.b = 22;
    cpu.reg.c = 121;
    cpu.reg.d = 93;
    cpu.reg.e = 81;
    cpu.reg.f = 208;
    cpu.reg.h = 56;
    cpu.reg.l = 167;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[20855] = 24;
    cpu.ram[20856] = 80;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 136);
    CHECK(cpu.reg.b == 22);
    CHECK(cpu.reg.c == 121);
    CHECK(cpu.reg.d == 93);
    CHECK(cpu.reg.e == 81);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 56);
    CHECK(cpu.reg.l == 167);
    CHECK(cpu.pc == 20937);
    CHECK(cpu.sp == 38323);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[20855] == 24);
    REQUIRE(cpu.ram[20856] == 80);
}

TEST_CASE( "18 01D6", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65386;
    cpu.sp = 59907;
    cpu.reg.a = 4;
    cpu.reg.b = 223;
    cpu.reg.c = 122;
    cpu.reg.d = 147;
    cpu.reg.e = 175;
    cpu.reg.f = 48;
    cpu.reg.h = 39;
    cpu.reg.l = 254;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[65386] = 24;
    cpu.ram[65387] = 134;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 4);
    CHECK(cpu.reg.b == 223);
    CHECK(cpu.reg.c == 122);
    CHECK(cpu.reg.d == 147);
    CHECK(cpu.reg.e == 175);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 39);
    CHECK(cpu.reg.l == 254);
    CHECK(cpu.pc == 65266);
    CHECK(cpu.sp == 59907);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[65386] == 24);
    REQUIRE(cpu.ram[65387] == 134);
}

TEST_CASE( "18 01D7", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32012;
    cpu.sp = 63740;
    cpu.reg.a = 80;
    cpu.reg.b = 131;
    cpu.reg.c = 37;
    cpu.reg.d = 219;
    cpu.reg.e = 155;
    cpu.reg.f = 240;
    cpu.reg.h = 229;
    cpu.reg.l = 188;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[32012] = 24;
    cpu.ram[32013] = 65;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 80);
    CHECK(cpu.reg.b == 131);
    CHECK(cpu.reg.c == 37);
    CHECK(cpu.reg.d == 219);
    CHECK(cpu.reg.e == 155);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 229);
    CHECK(cpu.reg.l == 188);
    CHECK(cpu.pc == 32079);
    CHECK(cpu.sp == 63740);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32012] == 24);
    REQUIRE(cpu.ram[32013] == 65);
}

TEST_CASE( "18 01D8", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23291;
    cpu.sp = 46846;
    cpu.reg.a = 96;
    cpu.reg.b = 121;
    cpu.reg.c = 7;
    cpu.reg.d = 34;
    cpu.reg.e = 51;
    cpu.reg.f = 208;
    cpu.reg.h = 167;
    cpu.reg.l = 145;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[23291] = 24;
    cpu.ram[23292] = 215;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 96);
    CHECK(cpu.reg.b == 121);
    CHECK(cpu.reg.c == 7);
    CHECK(cpu.reg.d == 34);
    CHECK(cpu.reg.e == 51);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 167);
    CHECK(cpu.reg.l == 145);
    CHECK(cpu.pc == 23252);
    CHECK(cpu.sp == 46846);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23291] == 24);
    REQUIRE(cpu.ram[23292] == 215);
}

TEST_CASE( "18 01D9", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28557;
    cpu.sp = 31059;
    cpu.reg.a = 27;
    cpu.reg.b = 140;
    cpu.reg.c = 216;
    cpu.reg.d = 189;
    cpu.reg.e = 255;
    cpu.reg.f = 176;
    cpu.reg.h = 30;
    cpu.reg.l = 34;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[28557] = 24;
    cpu.ram[28558] = 19;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 27);
    CHECK(cpu.reg.b == 140);
    CHECK(cpu.reg.c == 216);
    CHECK(cpu.reg.d == 189);
    CHECK(cpu.reg.e == 255);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 30);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 28578);
    CHECK(cpu.sp == 31059);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28557] == 24);
    REQUIRE(cpu.ram[28558] == 19);
}

TEST_CASE( "18 01DA", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32836;
    cpu.sp = 37183;
    cpu.reg.a = 198;
    cpu.reg.b = 181;
    cpu.reg.c = 28;
    cpu.reg.d = 206;
    cpu.reg.e = 231;
    cpu.reg.f = 128;
    cpu.reg.h = 190;
    cpu.reg.l = 143;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[32836] = 24;
    cpu.ram[32837] = 243;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 198);
    CHECK(cpu.reg.b == 181);
    CHECK(cpu.reg.c == 28);
    CHECK(cpu.reg.d == 206);
    CHECK(cpu.reg.e == 231);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 190);
    CHECK(cpu.reg.l == 143);
    CHECK(cpu.pc == 32825);
    CHECK(cpu.sp == 37183);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32836] == 24);
    REQUIRE(cpu.ram[32837] == 243);
}

TEST_CASE( "18 01DB", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21497;
    cpu.sp = 48644;
    cpu.reg.a = 253;
    cpu.reg.b = 149;
    cpu.reg.c = 178;
    cpu.reg.d = 25;
    cpu.reg.e = 4;
    cpu.reg.f = 96;
    cpu.reg.h = 102;
    cpu.reg.l = 121;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[21497] = 24;
    cpu.ram[21498] = 219;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 253);
    CHECK(cpu.reg.b == 149);
    CHECK(cpu.reg.c == 178);
    CHECK(cpu.reg.d == 25);
    CHECK(cpu.reg.e == 4);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 102);
    CHECK(cpu.reg.l == 121);
    CHECK(cpu.pc == 21462);
    CHECK(cpu.sp == 48644);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[21497] == 24);
    REQUIRE(cpu.ram[21498] == 219);
}

TEST_CASE( "18 01DC", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10864;
    cpu.sp = 22197;
    cpu.reg.a = 105;
    cpu.reg.b = 61;
    cpu.reg.c = 52;
    cpu.reg.d = 144;
    cpu.reg.e = 159;
    cpu.reg.f = 64;
    cpu.reg.h = 81;
    cpu.reg.l = 236;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[10864] = 24;
    cpu.ram[10865] = 134;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 105);
    CHECK(cpu.reg.b == 61);
    CHECK(cpu.reg.c == 52);
    CHECK(cpu.reg.d == 144);
    CHECK(cpu.reg.e == 159);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 81);
    CHECK(cpu.reg.l == 236);
    CHECK(cpu.pc == 10744);
    CHECK(cpu.sp == 22197);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10864] == 24);
    REQUIRE(cpu.ram[10865] == 134);
}

TEST_CASE( "18 01DD", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27541;
    cpu.sp = 63359;
    cpu.reg.a = 160;
    cpu.reg.b = 88;
    cpu.reg.c = 187;
    cpu.reg.d = 150;
    cpu.reg.e = 52;
    cpu.reg.f = 32;
    cpu.reg.h = 133;
    cpu.reg.l = 107;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[27541] = 24;
    cpu.ram[27542] = 31;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 160);
    CHECK(cpu.reg.b == 88);
    CHECK(cpu.reg.c == 187);
    CHECK(cpu.reg.d == 150);
    CHECK(cpu.reg.e == 52);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 133);
    CHECK(cpu.reg.l == 107);
    CHECK(cpu.pc == 27574);
    CHECK(cpu.sp == 63359);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27541] == 24);
    REQUIRE(cpu.ram[27542] == 31);
}

TEST_CASE( "18 01DE", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48179;
    cpu.sp = 452;
    cpu.reg.a = 123;
    cpu.reg.b = 209;
    cpu.reg.c = 13;
    cpu.reg.d = 4;
    cpu.reg.e = 86;
    cpu.reg.f = 128;
    cpu.reg.h = 1;
    cpu.reg.l = 135;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[48179] = 24;
    cpu.ram[48180] = 148;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 123);
    CHECK(cpu.reg.b == 209);
    CHECK(cpu.reg.c == 13);
    CHECK(cpu.reg.d == 4);
    CHECK(cpu.reg.e == 86);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 1);
    CHECK(cpu.reg.l == 135);
    CHECK(cpu.pc == 48073);
    CHECK(cpu.sp == 452);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[48179] == 24);
    REQUIRE(cpu.ram[48180] == 148);
}

TEST_CASE( "18 01DF", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23894;
    cpu.sp = 11345;
    cpu.reg.a = 250;
    cpu.reg.b = 217;
    cpu.reg.c = 80;
    cpu.reg.d = 34;
    cpu.reg.e = 127;
    cpu.reg.f = 208;
    cpu.reg.h = 101;
    cpu.reg.l = 148;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[23894] = 24;
    cpu.ram[23895] = 226;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 250);
    CHECK(cpu.reg.b == 217);
    CHECK(cpu.reg.c == 80);
    CHECK(cpu.reg.d == 34);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 101);
    CHECK(cpu.reg.l == 148);
    CHECK(cpu.pc == 23866);
    CHECK(cpu.sp == 11345);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23894] == 24);
    REQUIRE(cpu.ram[23895] == 226);
}

TEST_CASE( "18 01E0", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22401;
    cpu.sp = 57420;
    cpu.reg.a = 160;
    cpu.reg.b = 25;
    cpu.reg.c = 127;
    cpu.reg.d = 29;
    cpu.reg.e = 127;
    cpu.reg.f = 208;
    cpu.reg.h = 106;
    cpu.reg.l = 66;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[22401] = 24;
    cpu.ram[22402] = 59;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 160);
    CHECK(cpu.reg.b == 25);
    CHECK(cpu.reg.c == 127);
    CHECK(cpu.reg.d == 29);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 106);
    CHECK(cpu.reg.l == 66);
    CHECK(cpu.pc == 22462);
    CHECK(cpu.sp == 57420);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22401] == 24);
    REQUIRE(cpu.ram[22402] == 59);
}

TEST_CASE( "18 01E1", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32027;
    cpu.sp = 4733;
    cpu.reg.a = 192;
    cpu.reg.b = 39;
    cpu.reg.c = 55;
    cpu.reg.d = 17;
    cpu.reg.e = 164;
    cpu.reg.f = 0;
    cpu.reg.h = 253;
    cpu.reg.l = 107;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[32027] = 24;
    cpu.ram[32028] = 36;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 192);
    CHECK(cpu.reg.b == 39);
    CHECK(cpu.reg.c == 55);
    CHECK(cpu.reg.d == 17);
    CHECK(cpu.reg.e == 164);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 253);
    CHECK(cpu.reg.l == 107);
    CHECK(cpu.pc == 32065);
    CHECK(cpu.sp == 4733);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32027] == 24);
    REQUIRE(cpu.ram[32028] == 36);
}

TEST_CASE( "18 01E2", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26155;
    cpu.sp = 58444;
    cpu.reg.a = 11;
    cpu.reg.b = 146;
    cpu.reg.c = 138;
    cpu.reg.d = 44;
    cpu.reg.e = 94;
    cpu.reg.f = 144;
    cpu.reg.h = 173;
    cpu.reg.l = 201;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[26155] = 24;
    cpu.ram[26156] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 11);
    CHECK(cpu.reg.b == 146);
    CHECK(cpu.reg.c == 138);
    CHECK(cpu.reg.d == 44);
    CHECK(cpu.reg.e == 94);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 173);
    CHECK(cpu.reg.l == 201);
    CHECK(cpu.pc == 26184);
    CHECK(cpu.sp == 58444);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26155] == 24);
    REQUIRE(cpu.ram[26156] == 27);
}

TEST_CASE( "18 01E3", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62812;
    cpu.sp = 26707;
    cpu.reg.a = 154;
    cpu.reg.b = 90;
    cpu.reg.c = 8;
    cpu.reg.d = 141;
    cpu.reg.e = 154;
    cpu.reg.f = 32;
    cpu.reg.h = 71;
    cpu.reg.l = 183;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[62812] = 24;
    cpu.ram[62813] = 49;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 154);
    CHECK(cpu.reg.b == 90);
    CHECK(cpu.reg.c == 8);
    CHECK(cpu.reg.d == 141);
    CHECK(cpu.reg.e == 154);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 71);
    CHECK(cpu.reg.l == 183);
    CHECK(cpu.pc == 62863);
    CHECK(cpu.sp == 26707);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62812] == 24);
    REQUIRE(cpu.ram[62813] == 49);
}

TEST_CASE( "18 01E4", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63499;
    cpu.sp = 19972;
    cpu.reg.a = 170;
    cpu.reg.b = 225;
    cpu.reg.c = 45;
    cpu.reg.d = 187;
    cpu.reg.e = 46;
    cpu.reg.f = 16;
    cpu.reg.h = 64;
    cpu.reg.l = 50;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[63499] = 24;
    cpu.ram[63500] = 92;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 170);
    CHECK(cpu.reg.b == 225);
    CHECK(cpu.reg.c == 45);
    CHECK(cpu.reg.d == 187);
    CHECK(cpu.reg.e == 46);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 64);
    CHECK(cpu.reg.l == 50);
    CHECK(cpu.pc == 63593);
    CHECK(cpu.sp == 19972);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[63499] == 24);
    REQUIRE(cpu.ram[63500] == 92);
}

TEST_CASE( "18 01E5", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33439;
    cpu.sp = 1168;
    cpu.reg.a = 243;
    cpu.reg.b = 225;
    cpu.reg.c = 148;
    cpu.reg.d = 211;
    cpu.reg.e = 23;
    cpu.reg.f = 96;
    cpu.reg.h = 178;
    cpu.reg.l = 57;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[33439] = 24;
    cpu.ram[33440] = 211;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 243);
    CHECK(cpu.reg.b == 225);
    CHECK(cpu.reg.c == 148);
    CHECK(cpu.reg.d == 211);
    CHECK(cpu.reg.e == 23);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 178);
    CHECK(cpu.reg.l == 57);
    CHECK(cpu.pc == 33396);
    CHECK(cpu.sp == 1168);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33439] == 24);
    REQUIRE(cpu.ram[33440] == 211);
}

TEST_CASE( "18 01E6", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20301;
    cpu.sp = 55909;
    cpu.reg.a = 65;
    cpu.reg.b = 13;
    cpu.reg.c = 28;
    cpu.reg.d = 129;
    cpu.reg.e = 226;
    cpu.reg.f = 80;
    cpu.reg.h = 171;
    cpu.reg.l = 200;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[20301] = 24;
    cpu.ram[20302] = 192;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 65);
    CHECK(cpu.reg.b == 13);
    CHECK(cpu.reg.c == 28);
    CHECK(cpu.reg.d == 129);
    CHECK(cpu.reg.e == 226);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 171);
    CHECK(cpu.reg.l == 200);
    CHECK(cpu.pc == 20239);
    CHECK(cpu.sp == 55909);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[20301] == 24);
    REQUIRE(cpu.ram[20302] == 192);
}

TEST_CASE( "18 01E7", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41009;
    cpu.sp = 3316;
    cpu.reg.a = 59;
    cpu.reg.b = 54;
    cpu.reg.c = 147;
    cpu.reg.d = 177;
    cpu.reg.e = 65;
    cpu.reg.f = 96;
    cpu.reg.h = 44;
    cpu.reg.l = 4;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[41009] = 24;
    cpu.ram[41010] = 52;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 59);
    CHECK(cpu.reg.b == 54);
    CHECK(cpu.reg.c == 147);
    CHECK(cpu.reg.d == 177);
    CHECK(cpu.reg.e == 65);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 44);
    CHECK(cpu.reg.l == 4);
    CHECK(cpu.pc == 41063);
    CHECK(cpu.sp == 3316);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41009] == 24);
    REQUIRE(cpu.ram[41010] == 52);
}

TEST_CASE( "18 01E8", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17295;
    cpu.sp = 16445;
    cpu.reg.a = 85;
    cpu.reg.b = 19;
    cpu.reg.c = 43;
    cpu.reg.d = 153;
    cpu.reg.e = 46;
    cpu.reg.f = 48;
    cpu.reg.h = 30;
    cpu.reg.l = 195;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[17295] = 24;
    cpu.ram[17296] = 206;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 85);
    CHECK(cpu.reg.b == 19);
    CHECK(cpu.reg.c == 43);
    CHECK(cpu.reg.d == 153);
    CHECK(cpu.reg.e == 46);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 30);
    CHECK(cpu.reg.l == 195);
    CHECK(cpu.pc == 17247);
    CHECK(cpu.sp == 16445);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17295] == 24);
    REQUIRE(cpu.ram[17296] == 206);
}

TEST_CASE( "18 01E9", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26348;
    cpu.sp = 46890;
    cpu.reg.a = 157;
    cpu.reg.b = 55;
    cpu.reg.c = 170;
    cpu.reg.d = 61;
    cpu.reg.e = 229;
    cpu.reg.f = 224;
    cpu.reg.h = 198;
    cpu.reg.l = 127;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26348] = 24;
    cpu.ram[26349] = 177;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 157);
    CHECK(cpu.reg.b == 55);
    CHECK(cpu.reg.c == 170);
    CHECK(cpu.reg.d == 61);
    CHECK(cpu.reg.e == 229);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 198);
    CHECK(cpu.reg.l == 127);
    CHECK(cpu.pc == 26271);
    CHECK(cpu.sp == 46890);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26348] == 24);
    REQUIRE(cpu.ram[26349] == 177);
}

TEST_CASE( "18 01EA", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12056;
    cpu.sp = 52607;
    cpu.reg.a = 30;
    cpu.reg.b = 222;
    cpu.reg.c = 31;
    cpu.reg.d = 15;
    cpu.reg.e = 0;
    cpu.reg.f = 80;
    cpu.reg.h = 127;
    cpu.reg.l = 222;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[12056] = 24;
    cpu.ram[12057] = 61;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 30);
    CHECK(cpu.reg.b == 222);
    CHECK(cpu.reg.c == 31);
    CHECK(cpu.reg.d == 15);
    CHECK(cpu.reg.e == 0);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 127);
    CHECK(cpu.reg.l == 222);
    CHECK(cpu.pc == 12119);
    CHECK(cpu.sp == 52607);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12056] == 24);
    REQUIRE(cpu.ram[12057] == 61);
}

TEST_CASE( "18 01EB", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53717;
    cpu.sp = 49110;
    cpu.reg.a = 67;
    cpu.reg.b = 18;
    cpu.reg.c = 178;
    cpu.reg.d = 202;
    cpu.reg.e = 123;
    cpu.reg.f = 192;
    cpu.reg.h = 1;
    cpu.reg.l = 218;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[53717] = 24;
    cpu.ram[53718] = 63;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 67);
    CHECK(cpu.reg.b == 18);
    CHECK(cpu.reg.c == 178);
    CHECK(cpu.reg.d == 202);
    CHECK(cpu.reg.e == 123);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 1);
    CHECK(cpu.reg.l == 218);
    CHECK(cpu.pc == 53782);
    CHECK(cpu.sp == 49110);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[53717] == 24);
    REQUIRE(cpu.ram[53718] == 63);
}

TEST_CASE( "18 01EC", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44159;
    cpu.sp = 5390;
    cpu.reg.a = 68;
    cpu.reg.b = 215;
    cpu.reg.c = 111;
    cpu.reg.d = 159;
    cpu.reg.e = 156;
    cpu.reg.f = 176;
    cpu.reg.h = 223;
    cpu.reg.l = 164;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[44159] = 24;
    cpu.ram[44160] = 213;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 68);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 111);
    CHECK(cpu.reg.d == 159);
    CHECK(cpu.reg.e == 156);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 223);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 44118);
    CHECK(cpu.sp == 5390);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44159] == 24);
    REQUIRE(cpu.ram[44160] == 213);
}

TEST_CASE( "18 01ED", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32115;
    cpu.sp = 25039;
    cpu.reg.a = 39;
    cpu.reg.b = 232;
    cpu.reg.c = 235;
    cpu.reg.d = 246;
    cpu.reg.e = 246;
    cpu.reg.f = 176;
    cpu.reg.h = 67;
    cpu.reg.l = 14;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[32115] = 24;
    cpu.ram[32116] = 142;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 39);
    CHECK(cpu.reg.b == 232);
    CHECK(cpu.reg.c == 235);
    CHECK(cpu.reg.d == 246);
    CHECK(cpu.reg.e == 246);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 67);
    CHECK(cpu.reg.l == 14);
    CHECK(cpu.pc == 32003);
    CHECK(cpu.sp == 25039);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[32115] == 24);
    REQUIRE(cpu.ram[32116] == 142);
}

TEST_CASE( "18 01EE", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38939;
    cpu.sp = 61253;
    cpu.reg.a = 33;
    cpu.reg.b = 9;
    cpu.reg.c = 112;
    cpu.reg.d = 100;
    cpu.reg.e = 3;
    cpu.reg.f = 80;
    cpu.reg.h = 56;
    cpu.reg.l = 129;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[38939] = 24;
    cpu.ram[38940] = 145;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 33);
    CHECK(cpu.reg.b == 9);
    CHECK(cpu.reg.c == 112);
    CHECK(cpu.reg.d == 100);
    CHECK(cpu.reg.e == 3);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 56);
    CHECK(cpu.reg.l == 129);
    CHECK(cpu.pc == 38830);
    CHECK(cpu.sp == 61253);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38939] == 24);
    REQUIRE(cpu.ram[38940] == 145);
}

TEST_CASE( "18 01EF", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18907;
    cpu.sp = 42184;
    cpu.reg.a = 132;
    cpu.reg.b = 109;
    cpu.reg.c = 15;
    cpu.reg.d = 245;
    cpu.reg.e = 203;
    cpu.reg.f = 16;
    cpu.reg.h = 141;
    cpu.reg.l = 2;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[18907] = 24;
    cpu.ram[18908] = 52;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 132);
    CHECK(cpu.reg.b == 109);
    CHECK(cpu.reg.c == 15);
    CHECK(cpu.reg.d == 245);
    CHECK(cpu.reg.e == 203);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 141);
    CHECK(cpu.reg.l == 2);
    CHECK(cpu.pc == 18961);
    CHECK(cpu.sp == 42184);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[18907] == 24);
    REQUIRE(cpu.ram[18908] == 52);
}

TEST_CASE( "18 01F0", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22219;
    cpu.sp = 8353;
    cpu.reg.a = 177;
    cpu.reg.b = 73;
    cpu.reg.c = 7;
    cpu.reg.d = 59;
    cpu.reg.e = 63;
    cpu.reg.f = 192;
    cpu.reg.h = 166;
    cpu.reg.l = 252;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[22219] = 24;
    cpu.ram[22220] = 75;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 177);
    CHECK(cpu.reg.b == 73);
    CHECK(cpu.reg.c == 7);
    CHECK(cpu.reg.d == 59);
    CHECK(cpu.reg.e == 63);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 166);
    CHECK(cpu.reg.l == 252);
    CHECK(cpu.pc == 22296);
    CHECK(cpu.sp == 8353);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22219] == 24);
    REQUIRE(cpu.ram[22220] == 75);
}

TEST_CASE( "18 01F1", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37916;
    cpu.sp = 13707;
    cpu.reg.a = 175;
    cpu.reg.b = 233;
    cpu.reg.c = 234;
    cpu.reg.d = 156;
    cpu.reg.e = 229;
    cpu.reg.f = 208;
    cpu.reg.h = 121;
    cpu.reg.l = 120;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[37916] = 24;
    cpu.ram[37917] = 171;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 175);
    CHECK(cpu.reg.b == 233);
    CHECK(cpu.reg.c == 234);
    CHECK(cpu.reg.d == 156);
    CHECK(cpu.reg.e == 229);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 121);
    CHECK(cpu.reg.l == 120);
    CHECK(cpu.pc == 37833);
    CHECK(cpu.sp == 13707);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[37916] == 24);
    REQUIRE(cpu.ram[37917] == 171);
}

TEST_CASE( "18 01F2", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52610;
    cpu.sp = 41165;
    cpu.reg.a = 171;
    cpu.reg.b = 158;
    cpu.reg.c = 208;
    cpu.reg.d = 26;
    cpu.reg.e = 8;
    cpu.reg.f = 96;
    cpu.reg.h = 89;
    cpu.reg.l = 237;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[52610] = 24;
    cpu.ram[52611] = 154;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 171);
    CHECK(cpu.reg.b == 158);
    CHECK(cpu.reg.c == 208);
    CHECK(cpu.reg.d == 26);
    CHECK(cpu.reg.e == 8);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 89);
    CHECK(cpu.reg.l == 237);
    CHECK(cpu.pc == 52510);
    CHECK(cpu.sp == 41165);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[52610] == 24);
    REQUIRE(cpu.ram[52611] == 154);
}

TEST_CASE( "18 01F3", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58063;
    cpu.sp = 38052;
    cpu.reg.a = 187;
    cpu.reg.b = 27;
    cpu.reg.c = 83;
    cpu.reg.d = 244;
    cpu.reg.e = 167;
    cpu.reg.f = 192;
    cpu.reg.h = 140;
    cpu.reg.l = 220;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[58063] = 24;
    cpu.ram[58064] = 89;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 187);
    CHECK(cpu.reg.b == 27);
    CHECK(cpu.reg.c == 83);
    CHECK(cpu.reg.d == 244);
    CHECK(cpu.reg.e == 167);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 140);
    CHECK(cpu.reg.l == 220);
    CHECK(cpu.pc == 58154);
    CHECK(cpu.sp == 38052);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58063] == 24);
    REQUIRE(cpu.ram[58064] == 89);
}

TEST_CASE( "18 01F4", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62196;
    cpu.sp = 51457;
    cpu.reg.a = 48;
    cpu.reg.b = 225;
    cpu.reg.c = 44;
    cpu.reg.d = 27;
    cpu.reg.e = 48;
    cpu.reg.f = 192;
    cpu.reg.h = 47;
    cpu.reg.l = 77;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[62196] = 24;
    cpu.ram[62197] = 155;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 48);
    CHECK(cpu.reg.b == 225);
    CHECK(cpu.reg.c == 44);
    CHECK(cpu.reg.d == 27);
    CHECK(cpu.reg.e == 48);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 47);
    CHECK(cpu.reg.l == 77);
    CHECK(cpu.pc == 62097);
    CHECK(cpu.sp == 51457);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62196] == 24);
    REQUIRE(cpu.ram[62197] == 155);
}

TEST_CASE( "18 01F5", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47894;
    cpu.sp = 19501;
    cpu.reg.a = 105;
    cpu.reg.b = 10;
    cpu.reg.c = 133;
    cpu.reg.d = 110;
    cpu.reg.e = 128;
    cpu.reg.f = 64;
    cpu.reg.h = 234;
    cpu.reg.l = 4;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[47894] = 24;
    cpu.ram[47895] = 228;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 105);
    CHECK(cpu.reg.b == 10);
    CHECK(cpu.reg.c == 133);
    CHECK(cpu.reg.d == 110);
    CHECK(cpu.reg.e == 128);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 234);
    CHECK(cpu.reg.l == 4);
    CHECK(cpu.pc == 47868);
    CHECK(cpu.sp == 19501);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[47894] == 24);
    REQUIRE(cpu.ram[47895] == 228);
}

TEST_CASE( "18 01F6", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35895;
    cpu.sp = 510;
    cpu.reg.a = 120;
    cpu.reg.b = 246;
    cpu.reg.c = 58;
    cpu.reg.d = 58;
    cpu.reg.e = 159;
    cpu.reg.f = 160;
    cpu.reg.h = 147;
    cpu.reg.l = 185;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[35895] = 24;
    cpu.ram[35896] = 79;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 120);
    CHECK(cpu.reg.b == 246);
    CHECK(cpu.reg.c == 58);
    CHECK(cpu.reg.d == 58);
    CHECK(cpu.reg.e == 159);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 147);
    CHECK(cpu.reg.l == 185);
    CHECK(cpu.pc == 35976);
    CHECK(cpu.sp == 510);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35895] == 24);
    REQUIRE(cpu.ram[35896] == 79);
}

TEST_CASE( "18 01F7", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55740;
    cpu.sp = 10521;
    cpu.reg.a = 31;
    cpu.reg.b = 124;
    cpu.reg.c = 188;
    cpu.reg.d = 5;
    cpu.reg.e = 81;
    cpu.reg.f = 176;
    cpu.reg.h = 26;
    cpu.reg.l = 118;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[55740] = 24;
    cpu.ram[55741] = 183;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 31);
    CHECK(cpu.reg.b == 124);
    CHECK(cpu.reg.c == 188);
    CHECK(cpu.reg.d == 5);
    CHECK(cpu.reg.e == 81);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 26);
    CHECK(cpu.reg.l == 118);
    CHECK(cpu.pc == 55669);
    CHECK(cpu.sp == 10521);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55740] == 24);
    REQUIRE(cpu.ram[55741] == 183);
}

TEST_CASE( "18 01F8", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44598;
    cpu.sp = 14093;
    cpu.reg.a = 136;
    cpu.reg.b = 239;
    cpu.reg.c = 200;
    cpu.reg.d = 73;
    cpu.reg.e = 14;
    cpu.reg.f = 32;
    cpu.reg.h = 146;
    cpu.reg.l = 96;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[44598] = 24;
    cpu.ram[44599] = 89;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 136);
    CHECK(cpu.reg.b == 239);
    CHECK(cpu.reg.c == 200);
    CHECK(cpu.reg.d == 73);
    CHECK(cpu.reg.e == 14);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 146);
    CHECK(cpu.reg.l == 96);
    CHECK(cpu.pc == 44689);
    CHECK(cpu.sp == 14093);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44598] == 24);
    REQUIRE(cpu.ram[44599] == 89);
}

TEST_CASE( "18 01F9", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11599;
    cpu.sp = 34846;
    cpu.reg.a = 131;
    cpu.reg.b = 220;
    cpu.reg.c = 49;
    cpu.reg.d = 52;
    cpu.reg.e = 52;
    cpu.reg.f = 128;
    cpu.reg.h = 21;
    cpu.reg.l = 77;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[11599] = 24;
    cpu.ram[11600] = 230;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 131);
    CHECK(cpu.reg.b == 220);
    CHECK(cpu.reg.c == 49);
    CHECK(cpu.reg.d == 52);
    CHECK(cpu.reg.e == 52);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 21);
    CHECK(cpu.reg.l == 77);
    CHECK(cpu.pc == 11575);
    CHECK(cpu.sp == 34846);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11599] == 24);
    REQUIRE(cpu.ram[11600] == 230);
}

TEST_CASE( "18 01FA", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31824;
    cpu.sp = 30067;
    cpu.reg.a = 46;
    cpu.reg.b = 86;
    cpu.reg.c = 231;
    cpu.reg.d = 242;
    cpu.reg.e = 137;
    cpu.reg.f = 48;
    cpu.reg.h = 212;
    cpu.reg.l = 91;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[31824] = 24;
    cpu.ram[31825] = 15;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 46);
    CHECK(cpu.reg.b == 86);
    CHECK(cpu.reg.c == 231);
    CHECK(cpu.reg.d == 242);
    CHECK(cpu.reg.e == 137);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 212);
    CHECK(cpu.reg.l == 91);
    CHECK(cpu.pc == 31841);
    CHECK(cpu.sp == 30067);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31824] == 24);
    REQUIRE(cpu.ram[31825] == 15);
}

TEST_CASE( "18 01FB", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1876;
    cpu.sp = 28689;
    cpu.reg.a = 73;
    cpu.reg.b = 131;
    cpu.reg.c = 122;
    cpu.reg.d = 10;
    cpu.reg.e = 61;
    cpu.reg.f = 48;
    cpu.reg.h = 67;
    cpu.reg.l = 130;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1876] = 24;
    cpu.ram[1877] = 32;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 73);
    CHECK(cpu.reg.b == 131);
    CHECK(cpu.reg.c == 122);
    CHECK(cpu.reg.d == 10);
    CHECK(cpu.reg.e == 61);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 67);
    CHECK(cpu.reg.l == 130);
    CHECK(cpu.pc == 1910);
    CHECK(cpu.sp == 28689);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1876] == 24);
    REQUIRE(cpu.ram[1877] == 32);
}

TEST_CASE( "18 01FC", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5153;
    cpu.sp = 53415;
    cpu.reg.a = 65;
    cpu.reg.b = 99;
    cpu.reg.c = 108;
    cpu.reg.d = 138;
    cpu.reg.e = 50;
    cpu.reg.f = 144;
    cpu.reg.h = 210;
    cpu.reg.l = 156;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[5153] = 24;
    cpu.ram[5154] = 119;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 65);
    CHECK(cpu.reg.b == 99);
    CHECK(cpu.reg.c == 108);
    CHECK(cpu.reg.d == 138);
    CHECK(cpu.reg.e == 50);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 210);
    CHECK(cpu.reg.l == 156);
    CHECK(cpu.pc == 5274);
    CHECK(cpu.sp == 53415);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5153] == 24);
    REQUIRE(cpu.ram[5154] == 119);
}

TEST_CASE( "18 01FD", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47192;
    cpu.sp = 24005;
    cpu.reg.a = 100;
    cpu.reg.b = 224;
    cpu.reg.c = 77;
    cpu.reg.d = 177;
    cpu.reg.e = 0;
    cpu.reg.f = 160;
    cpu.reg.h = 140;
    cpu.reg.l = 102;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[47192] = 24;
    cpu.ram[47193] = 158;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 100);
    CHECK(cpu.reg.b == 224);
    CHECK(cpu.reg.c == 77);
    CHECK(cpu.reg.d == 177);
    CHECK(cpu.reg.e == 0);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 140);
    CHECK(cpu.reg.l == 102);
    CHECK(cpu.pc == 47096);
    CHECK(cpu.sp == 24005);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47192] == 24);
    REQUIRE(cpu.ram[47193] == 158);
}

TEST_CASE( "18 01FE", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25907;
    cpu.sp = 49714;
    cpu.reg.a = 119;
    cpu.reg.b = 243;
    cpu.reg.c = 181;
    cpu.reg.d = 84;
    cpu.reg.e = 130;
    cpu.reg.f = 144;
    cpu.reg.h = 136;
    cpu.reg.l = 68;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[25907] = 24;
    cpu.ram[25908] = 33;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 119);
    CHECK(cpu.reg.b == 243);
    CHECK(cpu.reg.c == 181);
    CHECK(cpu.reg.d == 84);
    CHECK(cpu.reg.e == 130);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 136);
    CHECK(cpu.reg.l == 68);
    CHECK(cpu.pc == 25942);
    CHECK(cpu.sp == 49714);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25907] == 24);
    REQUIRE(cpu.ram[25908] == 33);
}

TEST_CASE( "18 01FF", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27073;
    cpu.sp = 38004;
    cpu.reg.a = 93;
    cpu.reg.b = 45;
    cpu.reg.c = 17;
    cpu.reg.d = 105;
    cpu.reg.e = 13;
    cpu.reg.f = 128;
    cpu.reg.h = 170;
    cpu.reg.l = 118;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[27073] = 24;
    cpu.ram[27074] = 79;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 93);
    CHECK(cpu.reg.b == 45);
    CHECK(cpu.reg.c == 17);
    CHECK(cpu.reg.d == 105);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 170);
    CHECK(cpu.reg.l == 118);
    CHECK(cpu.pc == 27154);
    CHECK(cpu.sp == 38004);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27073] == 24);
    REQUIRE(cpu.ram[27074] == 79);
}

TEST_CASE( "18 0200", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4256;
    cpu.sp = 33463;
    cpu.reg.a = 55;
    cpu.reg.b = 12;
    cpu.reg.c = 126;
    cpu.reg.d = 36;
    cpu.reg.e = 71;
    cpu.reg.f = 112;
    cpu.reg.h = 112;
    cpu.reg.l = 246;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[4256] = 24;
    cpu.ram[4257] = 20;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 55);
    CHECK(cpu.reg.b == 12);
    CHECK(cpu.reg.c == 126);
    CHECK(cpu.reg.d == 36);
    CHECK(cpu.reg.e == 71);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 112);
    CHECK(cpu.reg.l == 246);
    CHECK(cpu.pc == 4278);
    CHECK(cpu.sp == 33463);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4256] == 24);
    REQUIRE(cpu.ram[4257] == 20);
}

TEST_CASE( "18 0201", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59156;
    cpu.sp = 12363;
    cpu.reg.a = 4;
    cpu.reg.b = 79;
    cpu.reg.c = 151;
    cpu.reg.d = 243;
    cpu.reg.e = 216;
    cpu.reg.f = 240;
    cpu.reg.h = 41;
    cpu.reg.l = 193;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[59156] = 24;
    cpu.ram[59157] = 231;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 4);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 151);
    CHECK(cpu.reg.d == 243);
    CHECK(cpu.reg.e == 216);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 41);
    CHECK(cpu.reg.l == 193);
    CHECK(cpu.pc == 59133);
    CHECK(cpu.sp == 12363);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[59156] == 24);
    REQUIRE(cpu.ram[59157] == 231);
}

TEST_CASE( "18 0202", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16866;
    cpu.sp = 8260;
    cpu.reg.a = 213;
    cpu.reg.b = 68;
    cpu.reg.c = 21;
    cpu.reg.d = 126;
    cpu.reg.e = 27;
    cpu.reg.f = 0;
    cpu.reg.h = 110;
    cpu.reg.l = 98;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[16866] = 24;
    cpu.ram[16867] = 115;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 213);
    CHECK(cpu.reg.b == 68);
    CHECK(cpu.reg.c == 21);
    CHECK(cpu.reg.d == 126);
    CHECK(cpu.reg.e == 27);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 110);
    CHECK(cpu.reg.l == 98);
    CHECK(cpu.pc == 16983);
    CHECK(cpu.sp == 8260);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16866] == 24);
    REQUIRE(cpu.ram[16867] == 115);
}

TEST_CASE( "18 0203", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32525;
    cpu.sp = 15375;
    cpu.reg.a = 92;
    cpu.reg.b = 239;
    cpu.reg.c = 214;
    cpu.reg.d = 25;
    cpu.reg.e = 3;
    cpu.reg.f = 0;
    cpu.reg.h = 48;
    cpu.reg.l = 195;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[32525] = 24;
    cpu.ram[32526] = 205;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 92);
    CHECK(cpu.reg.b == 239);
    CHECK(cpu.reg.c == 214);
    CHECK(cpu.reg.d == 25);
    CHECK(cpu.reg.e == 3);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 48);
    CHECK(cpu.reg.l == 195);
    CHECK(cpu.pc == 32476);
    CHECK(cpu.sp == 15375);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[32525] == 24);
    REQUIRE(cpu.ram[32526] == 205);
}

TEST_CASE( "18 0204", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30037;
    cpu.sp = 21415;
    cpu.reg.a = 111;
    cpu.reg.b = 211;
    cpu.reg.c = 163;
    cpu.reg.d = 19;
    cpu.reg.e = 252;
    cpu.reg.f = 208;
    cpu.reg.h = 195;
    cpu.reg.l = 207;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[30037] = 24;
    cpu.ram[30038] = 32;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 111);
    CHECK(cpu.reg.b == 211);
    CHECK(cpu.reg.c == 163);
    CHECK(cpu.reg.d == 19);
    CHECK(cpu.reg.e == 252);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 195);
    CHECK(cpu.reg.l == 207);
    CHECK(cpu.pc == 30071);
    CHECK(cpu.sp == 21415);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30037] == 24);
    REQUIRE(cpu.ram[30038] == 32);
}

TEST_CASE( "18 0205", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59135;
    cpu.sp = 58775;
    cpu.reg.a = 103;
    cpu.reg.b = 168;
    cpu.reg.c = 153;
    cpu.reg.d = 78;
    cpu.reg.e = 169;
    cpu.reg.f = 208;
    cpu.reg.h = 163;
    cpu.reg.l = 242;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[59135] = 24;
    cpu.ram[59136] = 31;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 103);
    CHECK(cpu.reg.b == 168);
    CHECK(cpu.reg.c == 153);
    CHECK(cpu.reg.d == 78);
    CHECK(cpu.reg.e == 169);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 163);
    CHECK(cpu.reg.l == 242);
    CHECK(cpu.pc == 59168);
    CHECK(cpu.sp == 58775);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[59135] == 24);
    REQUIRE(cpu.ram[59136] == 31);
}

TEST_CASE( "18 0206", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22813;
    cpu.sp = 54180;
    cpu.reg.a = 167;
    cpu.reg.b = 89;
    cpu.reg.c = 220;
    cpu.reg.d = 101;
    cpu.reg.e = 176;
    cpu.reg.f = 160;
    cpu.reg.h = 152;
    cpu.reg.l = 111;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[22813] = 24;
    cpu.ram[22814] = 93;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 167);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 220);
    CHECK(cpu.reg.d == 101);
    CHECK(cpu.reg.e == 176);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 152);
    CHECK(cpu.reg.l == 111);
    CHECK(cpu.pc == 22908);
    CHECK(cpu.sp == 54180);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22813] == 24);
    REQUIRE(cpu.ram[22814] == 93);
}

TEST_CASE( "18 0207", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49819;
    cpu.sp = 53549;
    cpu.reg.a = 113;
    cpu.reg.b = 171;
    cpu.reg.c = 10;
    cpu.reg.d = 116;
    cpu.reg.e = 114;
    cpu.reg.f = 32;
    cpu.reg.h = 188;
    cpu.reg.l = 138;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[49819] = 24;
    cpu.ram[49820] = 118;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 113);
    CHECK(cpu.reg.b == 171);
    CHECK(cpu.reg.c == 10);
    CHECK(cpu.reg.d == 116);
    CHECK(cpu.reg.e == 114);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 188);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 49939);
    CHECK(cpu.sp == 53549);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49819] == 24);
    REQUIRE(cpu.ram[49820] == 118);
}

TEST_CASE( "18 0208", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21538;
    cpu.sp = 54968;
    cpu.reg.a = 169;
    cpu.reg.b = 77;
    cpu.reg.c = 104;
    cpu.reg.d = 246;
    cpu.reg.e = 206;
    cpu.reg.f = 192;
    cpu.reg.h = 231;
    cpu.reg.l = 230;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[21538] = 24;
    cpu.ram[21539] = 94;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 169);
    CHECK(cpu.reg.b == 77);
    CHECK(cpu.reg.c == 104);
    CHECK(cpu.reg.d == 246);
    CHECK(cpu.reg.e == 206);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 231);
    CHECK(cpu.reg.l == 230);
    CHECK(cpu.pc == 21634);
    CHECK(cpu.sp == 54968);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21538] == 24);
    REQUIRE(cpu.ram[21539] == 94);
}

TEST_CASE( "18 0209", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17371;
    cpu.sp = 48207;
    cpu.reg.a = 21;
    cpu.reg.b = 185;
    cpu.reg.c = 9;
    cpu.reg.d = 8;
    cpu.reg.e = 182;
    cpu.reg.f = 208;
    cpu.reg.h = 92;
    cpu.reg.l = 3;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[17371] = 24;
    cpu.ram[17372] = 244;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 21);
    CHECK(cpu.reg.b == 185);
    CHECK(cpu.reg.c == 9);
    CHECK(cpu.reg.d == 8);
    CHECK(cpu.reg.e == 182);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 92);
    CHECK(cpu.reg.l == 3);
    CHECK(cpu.pc == 17361);
    CHECK(cpu.sp == 48207);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17371] == 24);
    REQUIRE(cpu.ram[17372] == 244);
}

TEST_CASE( "18 020A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5650;
    cpu.sp = 37384;
    cpu.reg.a = 104;
    cpu.reg.b = 211;
    cpu.reg.c = 79;
    cpu.reg.d = 202;
    cpu.reg.e = 205;
    cpu.reg.f = 128;
    cpu.reg.h = 166;
    cpu.reg.l = 6;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[5650] = 24;
    cpu.ram[5651] = 186;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 104);
    CHECK(cpu.reg.b == 211);
    CHECK(cpu.reg.c == 79);
    CHECK(cpu.reg.d == 202);
    CHECK(cpu.reg.e == 205);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 166);
    CHECK(cpu.reg.l == 6);
    CHECK(cpu.pc == 5582);
    CHECK(cpu.sp == 37384);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5650] == 24);
    REQUIRE(cpu.ram[5651] == 186);
}

TEST_CASE( "18 020B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58254;
    cpu.sp = 35115;
    cpu.reg.a = 26;
    cpu.reg.b = 97;
    cpu.reg.c = 172;
    cpu.reg.d = 18;
    cpu.reg.e = 230;
    cpu.reg.f = 240;
    cpu.reg.h = 115;
    cpu.reg.l = 52;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[58254] = 24;
    cpu.ram[58255] = 169;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 26);
    CHECK(cpu.reg.b == 97);
    CHECK(cpu.reg.c == 172);
    CHECK(cpu.reg.d == 18);
    CHECK(cpu.reg.e == 230);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 115);
    CHECK(cpu.reg.l == 52);
    CHECK(cpu.pc == 58169);
    CHECK(cpu.sp == 35115);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[58254] == 24);
    REQUIRE(cpu.ram[58255] == 169);
}

TEST_CASE( "18 020C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54636;
    cpu.sp = 34676;
    cpu.reg.a = 3;
    cpu.reg.b = 80;
    cpu.reg.c = 206;
    cpu.reg.d = 121;
    cpu.reg.e = 51;
    cpu.reg.f = 80;
    cpu.reg.h = 207;
    cpu.reg.l = 251;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[54636] = 24;
    cpu.ram[54637] = 32;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 3);
    CHECK(cpu.reg.b == 80);
    CHECK(cpu.reg.c == 206);
    CHECK(cpu.reg.d == 121);
    CHECK(cpu.reg.e == 51);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 207);
    CHECK(cpu.reg.l == 251);
    CHECK(cpu.pc == 54670);
    CHECK(cpu.sp == 34676);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[54636] == 24);
    REQUIRE(cpu.ram[54637] == 32);
}

TEST_CASE( "18 020D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39754;
    cpu.sp = 23374;
    cpu.reg.a = 28;
    cpu.reg.b = 14;
    cpu.reg.c = 155;
    cpu.reg.d = 27;
    cpu.reg.e = 215;
    cpu.reg.f = 160;
    cpu.reg.h = 158;
    cpu.reg.l = 149;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[39754] = 24;
    cpu.ram[39755] = 136;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 28);
    CHECK(cpu.reg.b == 14);
    CHECK(cpu.reg.c == 155);
    CHECK(cpu.reg.d == 27);
    CHECK(cpu.reg.e == 215);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 158);
    CHECK(cpu.reg.l == 149);
    CHECK(cpu.pc == 39636);
    CHECK(cpu.sp == 23374);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39754] == 24);
    REQUIRE(cpu.ram[39755] == 136);
}

TEST_CASE( "18 020E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38710;
    cpu.sp = 6205;
    cpu.reg.a = 135;
    cpu.reg.b = 136;
    cpu.reg.c = 219;
    cpu.reg.d = 119;
    cpu.reg.e = 190;
    cpu.reg.f = 16;
    cpu.reg.h = 115;
    cpu.reg.l = 112;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[38710] = 24;
    cpu.ram[38711] = 154;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 135);
    CHECK(cpu.reg.b == 136);
    CHECK(cpu.reg.c == 219);
    CHECK(cpu.reg.d == 119);
    CHECK(cpu.reg.e == 190);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 115);
    CHECK(cpu.reg.l == 112);
    CHECK(cpu.pc == 38610);
    CHECK(cpu.sp == 6205);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38710] == 24);
    REQUIRE(cpu.ram[38711] == 154);
}

TEST_CASE( "18 020F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34249;
    cpu.sp = 16856;
    cpu.reg.a = 53;
    cpu.reg.b = 5;
    cpu.reg.c = 113;
    cpu.reg.d = 59;
    cpu.reg.e = 34;
    cpu.reg.f = 48;
    cpu.reg.h = 95;
    cpu.reg.l = 229;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[34249] = 24;
    cpu.ram[34250] = 28;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 53);
    CHECK(cpu.reg.b == 5);
    CHECK(cpu.reg.c == 113);
    CHECK(cpu.reg.d == 59);
    CHECK(cpu.reg.e == 34);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 95);
    CHECK(cpu.reg.l == 229);
    CHECK(cpu.pc == 34279);
    CHECK(cpu.sp == 16856);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34249] == 24);
    REQUIRE(cpu.ram[34250] == 28);
}

TEST_CASE( "18 0210", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14534;
    cpu.sp = 17253;
    cpu.reg.a = 45;
    cpu.reg.b = 84;
    cpu.reg.c = 226;
    cpu.reg.d = 159;
    cpu.reg.e = 230;
    cpu.reg.f = 208;
    cpu.reg.h = 23;
    cpu.reg.l = 110;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[14534] = 24;
    cpu.ram[14535] = 37;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 45);
    CHECK(cpu.reg.b == 84);
    CHECK(cpu.reg.c == 226);
    CHECK(cpu.reg.d == 159);
    CHECK(cpu.reg.e == 230);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 23);
    CHECK(cpu.reg.l == 110);
    CHECK(cpu.pc == 14573);
    CHECK(cpu.sp == 17253);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14534] == 24);
    REQUIRE(cpu.ram[14535] == 37);
}

TEST_CASE( "18 0211", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53250;
    cpu.sp = 14899;
    cpu.reg.a = 220;
    cpu.reg.b = 210;
    cpu.reg.c = 110;
    cpu.reg.d = 114;
    cpu.reg.e = 247;
    cpu.reg.f = 0;
    cpu.reg.h = 220;
    cpu.reg.l = 104;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[53250] = 24;
    cpu.ram[53251] = 35;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 220);
    CHECK(cpu.reg.b == 210);
    CHECK(cpu.reg.c == 110);
    CHECK(cpu.reg.d == 114);
    CHECK(cpu.reg.e == 247);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 220);
    CHECK(cpu.reg.l == 104);
    CHECK(cpu.pc == 53287);
    CHECK(cpu.sp == 14899);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[53250] == 24);
    REQUIRE(cpu.ram[53251] == 35);
}

TEST_CASE( "18 0212", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63412;
    cpu.sp = 30308;
    cpu.reg.a = 51;
    cpu.reg.b = 208;
    cpu.reg.c = 193;
    cpu.reg.d = 123;
    cpu.reg.e = 4;
    cpu.reg.f = 0;
    cpu.reg.h = 26;
    cpu.reg.l = 93;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[63412] = 24;
    cpu.ram[63413] = 61;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 51);
    CHECK(cpu.reg.b == 208);
    CHECK(cpu.reg.c == 193);
    CHECK(cpu.reg.d == 123);
    CHECK(cpu.reg.e == 4);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 26);
    CHECK(cpu.reg.l == 93);
    CHECK(cpu.pc == 63475);
    CHECK(cpu.sp == 30308);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[63412] == 24);
    REQUIRE(cpu.ram[63413] == 61);
}

TEST_CASE( "18 0213", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30452;
    cpu.sp = 38775;
    cpu.reg.a = 50;
    cpu.reg.b = 184;
    cpu.reg.c = 243;
    cpu.reg.d = 93;
    cpu.reg.e = 214;
    cpu.reg.f = 224;
    cpu.reg.h = 127;
    cpu.reg.l = 83;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[30452] = 24;
    cpu.ram[30453] = 186;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 50);
    CHECK(cpu.reg.b == 184);
    CHECK(cpu.reg.c == 243);
    CHECK(cpu.reg.d == 93);
    CHECK(cpu.reg.e == 214);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 127);
    CHECK(cpu.reg.l == 83);
    CHECK(cpu.pc == 30384);
    CHECK(cpu.sp == 38775);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30452] == 24);
    REQUIRE(cpu.ram[30453] == 186);
}

TEST_CASE( "18 0214", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13902;
    cpu.sp = 46549;
    cpu.reg.a = 228;
    cpu.reg.b = 235;
    cpu.reg.c = 75;
    cpu.reg.d = 68;
    cpu.reg.e = 100;
    cpu.reg.f = 128;
    cpu.reg.h = 111;
    cpu.reg.l = 210;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[13902] = 24;
    cpu.ram[13903] = 134;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 228);
    CHECK(cpu.reg.b == 235);
    CHECK(cpu.reg.c == 75);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 100);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 111);
    CHECK(cpu.reg.l == 210);
    CHECK(cpu.pc == 13782);
    CHECK(cpu.sp == 46549);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13902] == 24);
    REQUIRE(cpu.ram[13903] == 134);
}

TEST_CASE( "18 0215", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62515;
    cpu.sp = 43880;
    cpu.reg.a = 5;
    cpu.reg.b = 104;
    cpu.reg.c = 97;
    cpu.reg.d = 200;
    cpu.reg.e = 147;
    cpu.reg.f = 16;
    cpu.reg.h = 24;
    cpu.reg.l = 195;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[62515] = 24;
    cpu.ram[62516] = 116;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 5);
    CHECK(cpu.reg.b == 104);
    CHECK(cpu.reg.c == 97);
    CHECK(cpu.reg.d == 200);
    CHECK(cpu.reg.e == 147);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 24);
    CHECK(cpu.reg.l == 195);
    CHECK(cpu.pc == 62633);
    CHECK(cpu.sp == 43880);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62515] == 24);
    REQUIRE(cpu.ram[62516] == 116);
}

TEST_CASE( "18 0216", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21627;
    cpu.sp = 37794;
    cpu.reg.a = 157;
    cpu.reg.b = 6;
    cpu.reg.c = 53;
    cpu.reg.d = 247;
    cpu.reg.e = 121;
    cpu.reg.f = 16;
    cpu.reg.h = 146;
    cpu.reg.l = 250;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[21627] = 24;
    cpu.ram[21628] = 118;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 157);
    CHECK(cpu.reg.b == 6);
    CHECK(cpu.reg.c == 53);
    CHECK(cpu.reg.d == 247);
    CHECK(cpu.reg.e == 121);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 146);
    CHECK(cpu.reg.l == 250);
    CHECK(cpu.pc == 21747);
    CHECK(cpu.sp == 37794);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21627] == 24);
    REQUIRE(cpu.ram[21628] == 118);
}

TEST_CASE( "18 0217", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44754;
    cpu.sp = 1701;
    cpu.reg.a = 32;
    cpu.reg.b = 248;
    cpu.reg.c = 219;
    cpu.reg.d = 215;
    cpu.reg.e = 47;
    cpu.reg.f = 96;
    cpu.reg.h = 16;
    cpu.reg.l = 55;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[44754] = 24;
    cpu.ram[44755] = 19;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 32);
    CHECK(cpu.reg.b == 248);
    CHECK(cpu.reg.c == 219);
    CHECK(cpu.reg.d == 215);
    CHECK(cpu.reg.e == 47);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 16);
    CHECK(cpu.reg.l == 55);
    CHECK(cpu.pc == 44775);
    CHECK(cpu.sp == 1701);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44754] == 24);
    REQUIRE(cpu.ram[44755] == 19);
}

TEST_CASE( "18 0218", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7959;
    cpu.sp = 19241;
    cpu.reg.a = 75;
    cpu.reg.b = 145;
    cpu.reg.c = 232;
    cpu.reg.d = 3;
    cpu.reg.e = 40;
    cpu.reg.f = 112;
    cpu.reg.h = 20;
    cpu.reg.l = 87;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[7959] = 24;
    cpu.ram[7960] = 41;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 75);
    CHECK(cpu.reg.b == 145);
    CHECK(cpu.reg.c == 232);
    CHECK(cpu.reg.d == 3);
    CHECK(cpu.reg.e == 40);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 20);
    CHECK(cpu.reg.l == 87);
    CHECK(cpu.pc == 8002);
    CHECK(cpu.sp == 19241);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7959] == 24);
    REQUIRE(cpu.ram[7960] == 41);
}

TEST_CASE( "18 0219", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45129;
    cpu.sp = 44492;
    cpu.reg.a = 172;
    cpu.reg.b = 80;
    cpu.reg.c = 218;
    cpu.reg.d = 155;
    cpu.reg.e = 114;
    cpu.reg.f = 208;
    cpu.reg.h = 69;
    cpu.reg.l = 134;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[45129] = 24;
    cpu.ram[45130] = 198;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 172);
    CHECK(cpu.reg.b == 80);
    CHECK(cpu.reg.c == 218);
    CHECK(cpu.reg.d == 155);
    CHECK(cpu.reg.e == 114);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 69);
    CHECK(cpu.reg.l == 134);
    CHECK(cpu.pc == 45073);
    CHECK(cpu.sp == 44492);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45129] == 24);
    REQUIRE(cpu.ram[45130] == 198);
}

TEST_CASE( "18 021A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9276;
    cpu.sp = 41323;
    cpu.reg.a = 31;
    cpu.reg.b = 69;
    cpu.reg.c = 102;
    cpu.reg.d = 66;
    cpu.reg.e = 47;
    cpu.reg.f = 240;
    cpu.reg.h = 81;
    cpu.reg.l = 72;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[9276] = 24;
    cpu.ram[9277] = 81;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 31);
    CHECK(cpu.reg.b == 69);
    CHECK(cpu.reg.c == 102);
    CHECK(cpu.reg.d == 66);
    CHECK(cpu.reg.e == 47);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 81);
    CHECK(cpu.reg.l == 72);
    CHECK(cpu.pc == 9359);
    CHECK(cpu.sp == 41323);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9276] == 24);
    REQUIRE(cpu.ram[9277] == 81);
}

TEST_CASE( "18 021B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7444;
    cpu.sp = 1616;
    cpu.reg.a = 222;
    cpu.reg.b = 64;
    cpu.reg.c = 128;
    cpu.reg.d = 12;
    cpu.reg.e = 232;
    cpu.reg.f = 96;
    cpu.reg.h = 135;
    cpu.reg.l = 232;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[7444] = 24;
    cpu.ram[7445] = 17;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 222);
    CHECK(cpu.reg.b == 64);
    CHECK(cpu.reg.c == 128);
    CHECK(cpu.reg.d == 12);
    CHECK(cpu.reg.e == 232);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 135);
    CHECK(cpu.reg.l == 232);
    CHECK(cpu.pc == 7463);
    CHECK(cpu.sp == 1616);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7444] == 24);
    REQUIRE(cpu.ram[7445] == 17);
}

TEST_CASE( "18 021C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39393;
    cpu.sp = 12985;
    cpu.reg.a = 95;
    cpu.reg.b = 37;
    cpu.reg.c = 69;
    cpu.reg.d = 168;
    cpu.reg.e = 9;
    cpu.reg.f = 64;
    cpu.reg.h = 129;
    cpu.reg.l = 141;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[39393] = 24;
    cpu.ram[39394] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 95);
    CHECK(cpu.reg.b == 37);
    CHECK(cpu.reg.c == 69);
    CHECK(cpu.reg.d == 168);
    CHECK(cpu.reg.e == 9);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 129);
    CHECK(cpu.reg.l == 141);
    CHECK(cpu.pc == 39397);
    CHECK(cpu.sp == 12985);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[39393] == 24);
    REQUIRE(cpu.ram[39394] == 2);
}

TEST_CASE( "18 021D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48070;
    cpu.sp = 23936;
    cpu.reg.a = 136;
    cpu.reg.b = 37;
    cpu.reg.c = 153;
    cpu.reg.d = 189;
    cpu.reg.e = 193;
    cpu.reg.f = 176;
    cpu.reg.h = 63;
    cpu.reg.l = 16;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[48070] = 24;
    cpu.ram[48071] = 210;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 136);
    CHECK(cpu.reg.b == 37);
    CHECK(cpu.reg.c == 153);
    CHECK(cpu.reg.d == 189);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 63);
    CHECK(cpu.reg.l == 16);
    CHECK(cpu.pc == 48026);
    CHECK(cpu.sp == 23936);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48070] == 24);
    REQUIRE(cpu.ram[48071] == 210);
}

TEST_CASE( "18 021E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5754;
    cpu.sp = 59327;
    cpu.reg.a = 99;
    cpu.reg.b = 119;
    cpu.reg.c = 101;
    cpu.reg.d = 2;
    cpu.reg.e = 112;
    cpu.reg.f = 128;
    cpu.reg.h = 40;
    cpu.reg.l = 87;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[5754] = 24;
    cpu.ram[5755] = 87;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 99);
    CHECK(cpu.reg.b == 119);
    CHECK(cpu.reg.c == 101);
    CHECK(cpu.reg.d == 2);
    CHECK(cpu.reg.e == 112);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 40);
    CHECK(cpu.reg.l == 87);
    CHECK(cpu.pc == 5843);
    CHECK(cpu.sp == 59327);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5754] == 24);
    REQUIRE(cpu.ram[5755] == 87);
}

TEST_CASE( "18 021F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65116;
    cpu.sp = 57429;
    cpu.reg.a = 167;
    cpu.reg.b = 187;
    cpu.reg.c = 210;
    cpu.reg.d = 214;
    cpu.reg.e = 195;
    cpu.reg.f = 144;
    cpu.reg.h = 146;
    cpu.reg.l = 40;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[65116] = 24;
    cpu.ram[65117] = 130;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 167);
    CHECK(cpu.reg.b == 187);
    CHECK(cpu.reg.c == 210);
    CHECK(cpu.reg.d == 214);
    CHECK(cpu.reg.e == 195);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 146);
    CHECK(cpu.reg.l == 40);
    CHECK(cpu.pc == 64992);
    CHECK(cpu.sp == 57429);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[65116] == 24);
    REQUIRE(cpu.ram[65117] == 130);
}

TEST_CASE( "18 0220", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25730;
    cpu.sp = 57270;
    cpu.reg.a = 37;
    cpu.reg.b = 210;
    cpu.reg.c = 46;
    cpu.reg.d = 78;
    cpu.reg.e = 30;
    cpu.reg.f = 48;
    cpu.reg.h = 242;
    cpu.reg.l = 228;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[25730] = 24;
    cpu.ram[25731] = 144;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 37);
    CHECK(cpu.reg.b == 210);
    CHECK(cpu.reg.c == 46);
    CHECK(cpu.reg.d == 78);
    CHECK(cpu.reg.e == 30);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 228);
    CHECK(cpu.pc == 25620);
    CHECK(cpu.sp == 57270);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25730] == 24);
    REQUIRE(cpu.ram[25731] == 144);
}

TEST_CASE( "18 0221", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24649;
    cpu.sp = 54635;
    cpu.reg.a = 127;
    cpu.reg.b = 124;
    cpu.reg.c = 225;
    cpu.reg.d = 56;
    cpu.reg.e = 20;
    cpu.reg.f = 112;
    cpu.reg.h = 107;
    cpu.reg.l = 191;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[24649] = 24;
    cpu.ram[24650] = 201;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 127);
    CHECK(cpu.reg.b == 124);
    CHECK(cpu.reg.c == 225);
    CHECK(cpu.reg.d == 56);
    CHECK(cpu.reg.e == 20);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 107);
    CHECK(cpu.reg.l == 191);
    CHECK(cpu.pc == 24596);
    CHECK(cpu.sp == 54635);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24649] == 24);
    REQUIRE(cpu.ram[24650] == 201);
}

TEST_CASE( "18 0222", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64426;
    cpu.sp = 22061;
    cpu.reg.a = 90;
    cpu.reg.b = 121;
    cpu.reg.c = 186;
    cpu.reg.d = 169;
    cpu.reg.e = 11;
    cpu.reg.f = 16;
    cpu.reg.h = 239;
    cpu.reg.l = 220;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[64426] = 24;
    cpu.ram[64427] = 72;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 90);
    CHECK(cpu.reg.b == 121);
    CHECK(cpu.reg.c == 186);
    CHECK(cpu.reg.d == 169);
    CHECK(cpu.reg.e == 11);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 239);
    CHECK(cpu.reg.l == 220);
    CHECK(cpu.pc == 64500);
    CHECK(cpu.sp == 22061);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64426] == 24);
    REQUIRE(cpu.ram[64427] == 72);
}

TEST_CASE( "18 0223", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57076;
    cpu.sp = 60592;
    cpu.reg.a = 115;
    cpu.reg.b = 54;
    cpu.reg.c = 246;
    cpu.reg.d = 230;
    cpu.reg.e = 135;
    cpu.reg.f = 192;
    cpu.reg.h = 163;
    cpu.reg.l = 140;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[57076] = 24;
    cpu.ram[57077] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 115);
    CHECK(cpu.reg.b == 54);
    CHECK(cpu.reg.c == 246);
    CHECK(cpu.reg.d == 230);
    CHECK(cpu.reg.e == 135);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 163);
    CHECK(cpu.reg.l == 140);
    CHECK(cpu.pc == 57105);
    CHECK(cpu.sp == 60592);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[57076] == 24);
    REQUIRE(cpu.ram[57077] == 27);
}

TEST_CASE( "18 0224", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57949;
    cpu.sp = 6593;
    cpu.reg.a = 253;
    cpu.reg.b = 7;
    cpu.reg.c = 44;
    cpu.reg.d = 187;
    cpu.reg.e = 252;
    cpu.reg.f = 80;
    cpu.reg.h = 111;
    cpu.reg.l = 150;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[57949] = 24;
    cpu.ram[57950] = 112;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 253);
    CHECK(cpu.reg.b == 7);
    CHECK(cpu.reg.c == 44);
    CHECK(cpu.reg.d == 187);
    CHECK(cpu.reg.e == 252);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 111);
    CHECK(cpu.reg.l == 150);
    CHECK(cpu.pc == 58063);
    CHECK(cpu.sp == 6593);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[57949] == 24);
    REQUIRE(cpu.ram[57950] == 112);
}

TEST_CASE( "18 0225", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55664;
    cpu.sp = 2013;
    cpu.reg.a = 23;
    cpu.reg.b = 231;
    cpu.reg.c = 128;
    cpu.reg.d = 243;
    cpu.reg.e = 162;
    cpu.reg.f = 176;
    cpu.reg.h = 128;
    cpu.reg.l = 3;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[55664] = 24;
    cpu.ram[55665] = 38;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 23);
    CHECK(cpu.reg.b == 231);
    CHECK(cpu.reg.c == 128);
    CHECK(cpu.reg.d == 243);
    CHECK(cpu.reg.e == 162);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 128);
    CHECK(cpu.reg.l == 3);
    CHECK(cpu.pc == 55704);
    CHECK(cpu.sp == 2013);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[55664] == 24);
    REQUIRE(cpu.ram[55665] == 38);
}

TEST_CASE( "18 0226", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62104;
    cpu.sp = 61393;
    cpu.reg.a = 80;
    cpu.reg.b = 115;
    cpu.reg.c = 44;
    cpu.reg.d = 115;
    cpu.reg.e = 129;
    cpu.reg.f = 112;
    cpu.reg.h = 37;
    cpu.reg.l = 138;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[62104] = 24;
    cpu.ram[62105] = 220;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 80);
    CHECK(cpu.reg.b == 115);
    CHECK(cpu.reg.c == 44);
    CHECK(cpu.reg.d == 115);
    CHECK(cpu.reg.e == 129);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 37);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 62070);
    CHECK(cpu.sp == 61393);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62104] == 24);
    REQUIRE(cpu.ram[62105] == 220);
}

TEST_CASE( "18 0227", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20418;
    cpu.sp = 27993;
    cpu.reg.a = 57;
    cpu.reg.b = 118;
    cpu.reg.c = 214;
    cpu.reg.d = 85;
    cpu.reg.e = 42;
    cpu.reg.f = 160;
    cpu.reg.h = 103;
    cpu.reg.l = 221;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[20418] = 24;
    cpu.ram[20419] = 212;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 57);
    CHECK(cpu.reg.b == 118);
    CHECK(cpu.reg.c == 214);
    CHECK(cpu.reg.d == 85);
    CHECK(cpu.reg.e == 42);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 103);
    CHECK(cpu.reg.l == 221);
    CHECK(cpu.pc == 20376);
    CHECK(cpu.sp == 27993);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[20418] == 24);
    REQUIRE(cpu.ram[20419] == 212);
}

TEST_CASE( "18 0228", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26322;
    cpu.sp = 23767;
    cpu.reg.a = 234;
    cpu.reg.b = 165;
    cpu.reg.c = 163;
    cpu.reg.d = 63;
    cpu.reg.e = 165;
    cpu.reg.f = 176;
    cpu.reg.h = 165;
    cpu.reg.l = 179;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[26322] = 24;
    cpu.ram[26323] = 112;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 234);
    CHECK(cpu.reg.b == 165);
    CHECK(cpu.reg.c == 163);
    CHECK(cpu.reg.d == 63);
    CHECK(cpu.reg.e == 165);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 165);
    CHECK(cpu.reg.l == 179);
    CHECK(cpu.pc == 26436);
    CHECK(cpu.sp == 23767);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26322] == 24);
    REQUIRE(cpu.ram[26323] == 112);
}

TEST_CASE( "18 0229", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49070;
    cpu.sp = 10376;
    cpu.reg.a = 26;
    cpu.reg.b = 123;
    cpu.reg.c = 3;
    cpu.reg.d = 7;
    cpu.reg.e = 255;
    cpu.reg.f = 16;
    cpu.reg.h = 241;
    cpu.reg.l = 245;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[49070] = 24;
    cpu.ram[49071] = 112;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 26);
    CHECK(cpu.reg.b == 123);
    CHECK(cpu.reg.c == 3);
    CHECK(cpu.reg.d == 7);
    CHECK(cpu.reg.e == 255);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 245);
    CHECK(cpu.pc == 49184);
    CHECK(cpu.sp == 10376);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49070] == 24);
    REQUIRE(cpu.ram[49071] == 112);
}

TEST_CASE( "18 022A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6069;
    cpu.sp = 55301;
    cpu.reg.a = 129;
    cpu.reg.b = 45;
    cpu.reg.c = 21;
    cpu.reg.d = 232;
    cpu.reg.e = 95;
    cpu.reg.f = 128;
    cpu.reg.h = 113;
    cpu.reg.l = 211;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[6069] = 24;
    cpu.ram[6070] = 85;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 129);
    CHECK(cpu.reg.b == 45);
    CHECK(cpu.reg.c == 21);
    CHECK(cpu.reg.d == 232);
    CHECK(cpu.reg.e == 95);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 113);
    CHECK(cpu.reg.l == 211);
    CHECK(cpu.pc == 6156);
    CHECK(cpu.sp == 55301);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6069] == 24);
    REQUIRE(cpu.ram[6070] == 85);
}

TEST_CASE( "18 022B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4412;
    cpu.sp = 36593;
    cpu.reg.a = 224;
    cpu.reg.b = 19;
    cpu.reg.c = 164;
    cpu.reg.d = 196;
    cpu.reg.e = 178;
    cpu.reg.f = 224;
    cpu.reg.h = 173;
    cpu.reg.l = 233;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[4412] = 24;
    cpu.ram[4413] = 35;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 19);
    CHECK(cpu.reg.c == 164);
    CHECK(cpu.reg.d == 196);
    CHECK(cpu.reg.e == 178);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 173);
    CHECK(cpu.reg.l == 233);
    CHECK(cpu.pc == 4449);
    CHECK(cpu.sp == 36593);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4412] == 24);
    REQUIRE(cpu.ram[4413] == 35);
}

TEST_CASE( "18 022C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40013;
    cpu.sp = 43954;
    cpu.reg.a = 12;
    cpu.reg.b = 90;
    cpu.reg.c = 12;
    cpu.reg.d = 5;
    cpu.reg.e = 159;
    cpu.reg.f = 240;
    cpu.reg.h = 62;
    cpu.reg.l = 101;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[40013] = 24;
    cpu.ram[40014] = 216;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 12);
    CHECK(cpu.reg.b == 90);
    CHECK(cpu.reg.c == 12);
    CHECK(cpu.reg.d == 5);
    CHECK(cpu.reg.e == 159);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 62);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 39975);
    CHECK(cpu.sp == 43954);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40013] == 24);
    REQUIRE(cpu.ram[40014] == 216);
}

TEST_CASE( "18 022D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55576;
    cpu.sp = 5670;
    cpu.reg.a = 152;
    cpu.reg.b = 64;
    cpu.reg.c = 105;
    cpu.reg.d = 44;
    cpu.reg.e = 186;
    cpu.reg.f = 112;
    cpu.reg.h = 179;
    cpu.reg.l = 208;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[55576] = 24;
    cpu.ram[55577] = 240;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 152);
    CHECK(cpu.reg.b == 64);
    CHECK(cpu.reg.c == 105);
    CHECK(cpu.reg.d == 44);
    CHECK(cpu.reg.e == 186);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 179);
    CHECK(cpu.reg.l == 208);
    CHECK(cpu.pc == 55562);
    CHECK(cpu.sp == 5670);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55576] == 24);
    REQUIRE(cpu.ram[55577] == 240);
}

TEST_CASE( "18 022E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18050;
    cpu.sp = 55963;
    cpu.reg.a = 134;
    cpu.reg.b = 189;
    cpu.reg.c = 22;
    cpu.reg.d = 88;
    cpu.reg.e = 194;
    cpu.reg.f = 96;
    cpu.reg.h = 21;
    cpu.reg.l = 195;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[18050] = 24;
    cpu.ram[18051] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 134);
    CHECK(cpu.reg.b == 189);
    CHECK(cpu.reg.c == 22);
    CHECK(cpu.reg.d == 88);
    CHECK(cpu.reg.e == 194);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 21);
    CHECK(cpu.reg.l == 195);
    CHECK(cpu.pc == 18054);
    CHECK(cpu.sp == 55963);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18050] == 24);
    REQUIRE(cpu.ram[18051] == 2);
}

TEST_CASE( "18 022F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3845;
    cpu.sp = 1697;
    cpu.reg.a = 230;
    cpu.reg.b = 228;
    cpu.reg.c = 62;
    cpu.reg.d = 139;
    cpu.reg.e = 73;
    cpu.reg.f = 208;
    cpu.reg.h = 250;
    cpu.reg.l = 117;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[3845] = 24;
    cpu.ram[3846] = 20;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 230);
    CHECK(cpu.reg.b == 228);
    CHECK(cpu.reg.c == 62);
    CHECK(cpu.reg.d == 139);
    CHECK(cpu.reg.e == 73);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 250);
    CHECK(cpu.reg.l == 117);
    CHECK(cpu.pc == 3867);
    CHECK(cpu.sp == 1697);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3845] == 24);
    REQUIRE(cpu.ram[3846] == 20);
}

TEST_CASE( "18 0230", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46080;
    cpu.sp = 54493;
    cpu.reg.a = 199;
    cpu.reg.b = 188;
    cpu.reg.c = 116;
    cpu.reg.d = 128;
    cpu.reg.e = 236;
    cpu.reg.f = 208;
    cpu.reg.h = 1;
    cpu.reg.l = 83;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[46080] = 24;
    cpu.ram[46081] = 108;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 199);
    CHECK(cpu.reg.b == 188);
    CHECK(cpu.reg.c == 116);
    CHECK(cpu.reg.d == 128);
    CHECK(cpu.reg.e == 236);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 1);
    CHECK(cpu.reg.l == 83);
    CHECK(cpu.pc == 46190);
    CHECK(cpu.sp == 54493);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46080] == 24);
    REQUIRE(cpu.ram[46081] == 108);
}

TEST_CASE( "18 0231", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29077;
    cpu.sp = 38169;
    cpu.reg.a = 168;
    cpu.reg.b = 116;
    cpu.reg.c = 90;
    cpu.reg.d = 135;
    cpu.reg.e = 104;
    cpu.reg.f = 96;
    cpu.reg.h = 148;
    cpu.reg.l = 34;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[29077] = 24;
    cpu.ram[29078] = 31;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 168);
    CHECK(cpu.reg.b == 116);
    CHECK(cpu.reg.c == 90);
    CHECK(cpu.reg.d == 135);
    CHECK(cpu.reg.e == 104);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 148);
    CHECK(cpu.reg.l == 34);
    CHECK(cpu.pc == 29110);
    CHECK(cpu.sp == 38169);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29077] == 24);
    REQUIRE(cpu.ram[29078] == 31);
}

TEST_CASE( "18 0232", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21260;
    cpu.sp = 41605;
    cpu.reg.a = 219;
    cpu.reg.b = 148;
    cpu.reg.c = 144;
    cpu.reg.d = 253;
    cpu.reg.e = 148;
    cpu.reg.f = 144;
    cpu.reg.h = 28;
    cpu.reg.l = 231;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[21260] = 24;
    cpu.ram[21261] = 108;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 219);
    CHECK(cpu.reg.b == 148);
    CHECK(cpu.reg.c == 144);
    CHECK(cpu.reg.d == 253);
    CHECK(cpu.reg.e == 148);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 28);
    CHECK(cpu.reg.l == 231);
    CHECK(cpu.pc == 21370);
    CHECK(cpu.sp == 41605);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21260] == 24);
    REQUIRE(cpu.ram[21261] == 108);
}

TEST_CASE( "18 0233", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1910;
    cpu.sp = 53250;
    cpu.reg.a = 231;
    cpu.reg.b = 101;
    cpu.reg.c = 152;
    cpu.reg.d = 248;
    cpu.reg.e = 199;
    cpu.reg.f = 128;
    cpu.reg.h = 134;
    cpu.reg.l = 134;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[1910] = 24;
    cpu.ram[1911] = 168;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 231);
    CHECK(cpu.reg.b == 101);
    CHECK(cpu.reg.c == 152);
    CHECK(cpu.reg.d == 248);
    CHECK(cpu.reg.e == 199);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 134);
    CHECK(cpu.reg.l == 134);
    CHECK(cpu.pc == 1824);
    CHECK(cpu.sp == 53250);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1910] == 24);
    REQUIRE(cpu.ram[1911] == 168);
}

TEST_CASE( "18 0234", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8126;
    cpu.sp = 11169;
    cpu.reg.a = 4;
    cpu.reg.b = 37;
    cpu.reg.c = 172;
    cpu.reg.d = 107;
    cpu.reg.e = 187;
    cpu.reg.f = 240;
    cpu.reg.h = 129;
    cpu.reg.l = 163;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[8126] = 24;
    cpu.ram[8127] = 42;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 4);
    CHECK(cpu.reg.b == 37);
    CHECK(cpu.reg.c == 172);
    CHECK(cpu.reg.d == 107);
    CHECK(cpu.reg.e == 187);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 129);
    CHECK(cpu.reg.l == 163);
    CHECK(cpu.pc == 8170);
    CHECK(cpu.sp == 11169);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8126] == 24);
    REQUIRE(cpu.ram[8127] == 42);
}

TEST_CASE( "18 0235", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 496;
    cpu.sp = 18624;
    cpu.reg.a = 30;
    cpu.reg.b = 10;
    cpu.reg.c = 132;
    cpu.reg.d = 109;
    cpu.reg.e = 197;
    cpu.reg.f = 208;
    cpu.reg.h = 163;
    cpu.reg.l = 36;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[496] = 24;
    cpu.ram[497] = 197;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 30);
    CHECK(cpu.reg.b == 10);
    CHECK(cpu.reg.c == 132);
    CHECK(cpu.reg.d == 109);
    CHECK(cpu.reg.e == 197);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 163);
    CHECK(cpu.reg.l == 36);
    CHECK(cpu.pc == 439);
    CHECK(cpu.sp == 18624);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[496] == 24);
    REQUIRE(cpu.ram[497] == 197);
}

TEST_CASE( "18 0236", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29330;
    cpu.sp = 48851;
    cpu.reg.a = 235;
    cpu.reg.b = 143;
    cpu.reg.c = 100;
    cpu.reg.d = 85;
    cpu.reg.e = 211;
    cpu.reg.f = 160;
    cpu.reg.h = 57;
    cpu.reg.l = 100;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[29330] = 24;
    cpu.ram[29331] = 250;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 235);
    CHECK(cpu.reg.b == 143);
    CHECK(cpu.reg.c == 100);
    CHECK(cpu.reg.d == 85);
    CHECK(cpu.reg.e == 211);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 57);
    CHECK(cpu.reg.l == 100);
    CHECK(cpu.pc == 29326);
    CHECK(cpu.sp == 48851);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[29330] == 24);
    REQUIRE(cpu.ram[29331] == 250);
}

TEST_CASE( "18 0237", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12671;
    cpu.sp = 41389;
    cpu.reg.a = 117;
    cpu.reg.b = 110;
    cpu.reg.c = 138;
    cpu.reg.d = 166;
    cpu.reg.e = 245;
    cpu.reg.f = 80;
    cpu.reg.h = 32;
    cpu.reg.l = 11;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[12671] = 24;
    cpu.ram[12672] = 61;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 117);
    CHECK(cpu.reg.b == 110);
    CHECK(cpu.reg.c == 138);
    CHECK(cpu.reg.d == 166);
    CHECK(cpu.reg.e == 245);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 32);
    CHECK(cpu.reg.l == 11);
    CHECK(cpu.pc == 12734);
    CHECK(cpu.sp == 41389);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12671] == 24);
    REQUIRE(cpu.ram[12672] == 61);
}

TEST_CASE( "18 0238", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36818;
    cpu.sp = 43059;
    cpu.reg.a = 224;
    cpu.reg.b = 187;
    cpu.reg.c = 143;
    cpu.reg.d = 176;
    cpu.reg.e = 179;
    cpu.reg.f = 96;
    cpu.reg.h = 197;
    cpu.reg.l = 130;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[36818] = 24;
    cpu.ram[36819] = 83;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 187);
    CHECK(cpu.reg.c == 143);
    CHECK(cpu.reg.d == 176);
    CHECK(cpu.reg.e == 179);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 197);
    CHECK(cpu.reg.l == 130);
    CHECK(cpu.pc == 36903);
    CHECK(cpu.sp == 43059);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[36818] == 24);
    REQUIRE(cpu.ram[36819] == 83);
}

TEST_CASE( "18 0239", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20105;
    cpu.sp = 11132;
    cpu.reg.a = 70;
    cpu.reg.b = 86;
    cpu.reg.c = 178;
    cpu.reg.d = 247;
    cpu.reg.e = 55;
    cpu.reg.f = 16;
    cpu.reg.h = 176;
    cpu.reg.l = 119;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[20105] = 24;
    cpu.ram[20106] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 70);
    CHECK(cpu.reg.b == 86);
    CHECK(cpu.reg.c == 178);
    CHECK(cpu.reg.d == 247);
    CHECK(cpu.reg.e == 55);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 176);
    CHECK(cpu.reg.l == 119);
    CHECK(cpu.pc == 20111);
    CHECK(cpu.sp == 11132);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[20105] == 24);
    REQUIRE(cpu.ram[20106] == 4);
}

TEST_CASE( "18 023A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62990;
    cpu.sp = 5791;
    cpu.reg.a = 0;
    cpu.reg.b = 60;
    cpu.reg.c = 17;
    cpu.reg.d = 160;
    cpu.reg.e = 33;
    cpu.reg.f = 32;
    cpu.reg.h = 38;
    cpu.reg.l = 167;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[62990] = 24;
    cpu.ram[62991] = 120;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 0);
    CHECK(cpu.reg.b == 60);
    CHECK(cpu.reg.c == 17);
    CHECK(cpu.reg.d == 160);
    CHECK(cpu.reg.e == 33);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 38);
    CHECK(cpu.reg.l == 167);
    CHECK(cpu.pc == 63112);
    CHECK(cpu.sp == 5791);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[62990] == 24);
    REQUIRE(cpu.ram[62991] == 120);
}

TEST_CASE( "18 023B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24951;
    cpu.sp = 22525;
    cpu.reg.a = 142;
    cpu.reg.b = 75;
    cpu.reg.c = 245;
    cpu.reg.d = 161;
    cpu.reg.e = 217;
    cpu.reg.f = 160;
    cpu.reg.h = 203;
    cpu.reg.l = 187;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[24951] = 24;
    cpu.ram[24952] = 19;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 142);
    CHECK(cpu.reg.b == 75);
    CHECK(cpu.reg.c == 245);
    CHECK(cpu.reg.d == 161);
    CHECK(cpu.reg.e == 217);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 203);
    CHECK(cpu.reg.l == 187);
    CHECK(cpu.pc == 24972);
    CHECK(cpu.sp == 22525);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24951] == 24);
    REQUIRE(cpu.ram[24952] == 19);
}

TEST_CASE( "18 023C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10139;
    cpu.sp = 25242;
    cpu.reg.a = 223;
    cpu.reg.b = 81;
    cpu.reg.c = 20;
    cpu.reg.d = 88;
    cpu.reg.e = 181;
    cpu.reg.f = 80;
    cpu.reg.h = 116;
    cpu.reg.l = 253;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[10139] = 24;
    cpu.ram[10140] = 7;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 223);
    CHECK(cpu.reg.b == 81);
    CHECK(cpu.reg.c == 20);
    CHECK(cpu.reg.d == 88);
    CHECK(cpu.reg.e == 181);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 116);
    CHECK(cpu.reg.l == 253);
    CHECK(cpu.pc == 10148);
    CHECK(cpu.sp == 25242);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10139] == 24);
    REQUIRE(cpu.ram[10140] == 7);
}

TEST_CASE( "18 023D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64535;
    cpu.sp = 21964;
    cpu.reg.a = 130;
    cpu.reg.b = 220;
    cpu.reg.c = 29;
    cpu.reg.d = 172;
    cpu.reg.e = 37;
    cpu.reg.f = 16;
    cpu.reg.h = 14;
    cpu.reg.l = 46;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[64535] = 24;
    cpu.ram[64536] = 203;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 130);
    CHECK(cpu.reg.b == 220);
    CHECK(cpu.reg.c == 29);
    CHECK(cpu.reg.d == 172);
    CHECK(cpu.reg.e == 37);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 14);
    CHECK(cpu.reg.l == 46);
    CHECK(cpu.pc == 64484);
    CHECK(cpu.sp == 21964);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[64535] == 24);
    REQUIRE(cpu.ram[64536] == 203);
}

TEST_CASE( "18 023E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54109;
    cpu.sp = 64709;
    cpu.reg.a = 141;
    cpu.reg.b = 105;
    cpu.reg.c = 101;
    cpu.reg.d = 183;
    cpu.reg.e = 154;
    cpu.reg.f = 48;
    cpu.reg.h = 90;
    cpu.reg.l = 208;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[54109] = 24;
    cpu.ram[54110] = 32;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 141);
    CHECK(cpu.reg.b == 105);
    CHECK(cpu.reg.c == 101);
    CHECK(cpu.reg.d == 183);
    CHECK(cpu.reg.e == 154);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 90);
    CHECK(cpu.reg.l == 208);
    CHECK(cpu.pc == 54143);
    CHECK(cpu.sp == 64709);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[54109] == 24);
    REQUIRE(cpu.ram[54110] == 32);
}

TEST_CASE( "18 023F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46383;
    cpu.sp = 58258;
    cpu.reg.a = 21;
    cpu.reg.b = 141;
    cpu.reg.c = 251;
    cpu.reg.d = 23;
    cpu.reg.e = 198;
    cpu.reg.f = 80;
    cpu.reg.h = 186;
    cpu.reg.l = 69;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[46383] = 24;
    cpu.ram[46384] = 95;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 21);
    CHECK(cpu.reg.b == 141);
    CHECK(cpu.reg.c == 251);
    CHECK(cpu.reg.d == 23);
    CHECK(cpu.reg.e == 198);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 186);
    CHECK(cpu.reg.l == 69);
    CHECK(cpu.pc == 46480);
    CHECK(cpu.sp == 58258);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46383] == 24);
    REQUIRE(cpu.ram[46384] == 95);
}

TEST_CASE( "18 0240", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33151;
    cpu.sp = 64291;
    cpu.reg.a = 152;
    cpu.reg.b = 151;
    cpu.reg.c = 61;
    cpu.reg.d = 216;
    cpu.reg.e = 174;
    cpu.reg.f = 240;
    cpu.reg.h = 125;
    cpu.reg.l = 107;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[33151] = 24;
    cpu.ram[33152] = 35;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 152);
    CHECK(cpu.reg.b == 151);
    CHECK(cpu.reg.c == 61);
    CHECK(cpu.reg.d == 216);
    CHECK(cpu.reg.e == 174);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 125);
    CHECK(cpu.reg.l == 107);
    CHECK(cpu.pc == 33188);
    CHECK(cpu.sp == 64291);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33151] == 24);
    REQUIRE(cpu.ram[33152] == 35);
}

TEST_CASE( "18 0241", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7681;
    cpu.sp = 49180;
    cpu.reg.a = 242;
    cpu.reg.b = 126;
    cpu.reg.c = 79;
    cpu.reg.d = 253;
    cpu.reg.e = 250;
    cpu.reg.f = 64;
    cpu.reg.h = 15;
    cpu.reg.l = 110;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[7681] = 24;
    cpu.ram[7682] = 230;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 242);
    CHECK(cpu.reg.b == 126);
    CHECK(cpu.reg.c == 79);
    CHECK(cpu.reg.d == 253);
    CHECK(cpu.reg.e == 250);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 15);
    CHECK(cpu.reg.l == 110);
    CHECK(cpu.pc == 7657);
    CHECK(cpu.sp == 49180);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7681] == 24);
    REQUIRE(cpu.ram[7682] == 230);
}

TEST_CASE( "18 0242", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22275;
    cpu.sp = 8846;
    cpu.reg.a = 59;
    cpu.reg.b = 127;
    cpu.reg.c = 253;
    cpu.reg.d = 200;
    cpu.reg.e = 97;
    cpu.reg.f = 192;
    cpu.reg.h = 181;
    cpu.reg.l = 82;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[22275] = 24;
    cpu.ram[22276] = 173;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 59);
    CHECK(cpu.reg.b == 127);
    CHECK(cpu.reg.c == 253);
    CHECK(cpu.reg.d == 200);
    CHECK(cpu.reg.e == 97);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 181);
    CHECK(cpu.reg.l == 82);
    CHECK(cpu.pc == 22194);
    CHECK(cpu.sp == 8846);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22275] == 24);
    REQUIRE(cpu.ram[22276] == 173);
}

TEST_CASE( "18 0243", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30346;
    cpu.sp = 54807;
    cpu.reg.a = 237;
    cpu.reg.b = 50;
    cpu.reg.c = 136;
    cpu.reg.d = 50;
    cpu.reg.e = 175;
    cpu.reg.f = 144;
    cpu.reg.h = 37;
    cpu.reg.l = 84;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[30346] = 24;
    cpu.ram[30347] = 106;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 237);
    CHECK(cpu.reg.b == 50);
    CHECK(cpu.reg.c == 136);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 175);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 37);
    CHECK(cpu.reg.l == 84);
    CHECK(cpu.pc == 30454);
    CHECK(cpu.sp == 54807);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30346] == 24);
    REQUIRE(cpu.ram[30347] == 106);
}

TEST_CASE( "18 0244", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3549;
    cpu.sp = 20394;
    cpu.reg.a = 138;
    cpu.reg.b = 95;
    cpu.reg.c = 69;
    cpu.reg.d = 205;
    cpu.reg.e = 39;
    cpu.reg.f = 0;
    cpu.reg.h = 134;
    cpu.reg.l = 159;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[3549] = 24;
    cpu.ram[3550] = 46;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 138);
    CHECK(cpu.reg.b == 95);
    CHECK(cpu.reg.c == 69);
    CHECK(cpu.reg.d == 205);
    CHECK(cpu.reg.e == 39);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 134);
    CHECK(cpu.reg.l == 159);
    CHECK(cpu.pc == 3597);
    CHECK(cpu.sp == 20394);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3549] == 24);
    REQUIRE(cpu.ram[3550] == 46);
}

TEST_CASE( "18 0245", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8169;
    cpu.sp = 38181;
    cpu.reg.a = 237;
    cpu.reg.b = 69;
    cpu.reg.c = 215;
    cpu.reg.d = 152;
    cpu.reg.e = 47;
    cpu.reg.f = 32;
    cpu.reg.h = 241;
    cpu.reg.l = 32;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[8169] = 24;
    cpu.ram[8170] = 133;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 237);
    CHECK(cpu.reg.b == 69);
    CHECK(cpu.reg.c == 215);
    CHECK(cpu.reg.d == 152);
    CHECK(cpu.reg.e == 47);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 32);
    CHECK(cpu.pc == 8048);
    CHECK(cpu.sp == 38181);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8169] == 24);
    REQUIRE(cpu.ram[8170] == 133);
}

TEST_CASE( "18 0246", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14408;
    cpu.sp = 15438;
    cpu.reg.a = 46;
    cpu.reg.b = 2;
    cpu.reg.c = 49;
    cpu.reg.d = 101;
    cpu.reg.e = 48;
    cpu.reg.f = 240;
    cpu.reg.h = 43;
    cpu.reg.l = 166;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[14408] = 24;
    cpu.ram[14409] = 106;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 46);
    CHECK(cpu.reg.b == 2);
    CHECK(cpu.reg.c == 49);
    CHECK(cpu.reg.d == 101);
    CHECK(cpu.reg.e == 48);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 43);
    CHECK(cpu.reg.l == 166);
    CHECK(cpu.pc == 14516);
    CHECK(cpu.sp == 15438);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14408] == 24);
    REQUIRE(cpu.ram[14409] == 106);
}

TEST_CASE( "18 0247", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23615;
    cpu.sp = 98;
    cpu.reg.a = 251;
    cpu.reg.b = 196;
    cpu.reg.c = 43;
    cpu.reg.d = 245;
    cpu.reg.e = 233;
    cpu.reg.f = 48;
    cpu.reg.h = 227;
    cpu.reg.l = 101;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[23615] = 24;
    cpu.ram[23616] = 5;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 251);
    CHECK(cpu.reg.b == 196);
    CHECK(cpu.reg.c == 43);
    CHECK(cpu.reg.d == 245);
    CHECK(cpu.reg.e == 233);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 101);
    CHECK(cpu.pc == 23622);
    CHECK(cpu.sp == 98);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[23615] == 24);
    REQUIRE(cpu.ram[23616] == 5);
}

TEST_CASE( "18 0248", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50866;
    cpu.sp = 24488;
    cpu.reg.a = 178;
    cpu.reg.b = 244;
    cpu.reg.c = 164;
    cpu.reg.d = 88;
    cpu.reg.e = 94;
    cpu.reg.f = 32;
    cpu.reg.h = 94;
    cpu.reg.l = 235;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[50866] = 24;
    cpu.ram[50867] = 20;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 178);
    CHECK(cpu.reg.b == 244);
    CHECK(cpu.reg.c == 164);
    CHECK(cpu.reg.d == 88);
    CHECK(cpu.reg.e == 94);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 94);
    CHECK(cpu.reg.l == 235);
    CHECK(cpu.pc == 50888);
    CHECK(cpu.sp == 24488);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50866] == 24);
    REQUIRE(cpu.ram[50867] == 20);
}

TEST_CASE( "18 0249", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 168;
    cpu.sp = 4311;
    cpu.reg.a = 188;
    cpu.reg.b = 70;
    cpu.reg.c = 96;
    cpu.reg.d = 91;
    cpu.reg.e = 88;
    cpu.reg.f = 160;
    cpu.reg.h = 35;
    cpu.reg.l = 130;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[168] = 24;
    cpu.ram[169] = 112;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 188);
    CHECK(cpu.reg.b == 70);
    CHECK(cpu.reg.c == 96);
    CHECK(cpu.reg.d == 91);
    CHECK(cpu.reg.e == 88);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 35);
    CHECK(cpu.reg.l == 130);
    CHECK(cpu.pc == 282);
    CHECK(cpu.sp == 4311);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[168] == 24);
    REQUIRE(cpu.ram[169] == 112);
}

TEST_CASE( "18 024A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47814;
    cpu.sp = 54773;
    cpu.reg.a = 194;
    cpu.reg.b = 205;
    cpu.reg.c = 72;
    cpu.reg.d = 230;
    cpu.reg.e = 63;
    cpu.reg.f = 0;
    cpu.reg.h = 212;
    cpu.reg.l = 6;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[47814] = 24;
    cpu.ram[47815] = 253;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 194);
    CHECK(cpu.reg.b == 205);
    CHECK(cpu.reg.c == 72);
    CHECK(cpu.reg.d == 230);
    CHECK(cpu.reg.e == 63);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 212);
    CHECK(cpu.reg.l == 6);
    CHECK(cpu.pc == 47813);
    CHECK(cpu.sp == 54773);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[47814] == 24);
    REQUIRE(cpu.ram[47815] == 253);
}

TEST_CASE( "18 024B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47326;
    cpu.sp = 1019;
    cpu.reg.a = 135;
    cpu.reg.b = 82;
    cpu.reg.c = 88;
    cpu.reg.d = 158;
    cpu.reg.e = 67;
    cpu.reg.f = 32;
    cpu.reg.h = 24;
    cpu.reg.l = 87;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[47326] = 24;
    cpu.ram[47327] = 131;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 135);
    CHECK(cpu.reg.b == 82);
    CHECK(cpu.reg.c == 88);
    CHECK(cpu.reg.d == 158);
    CHECK(cpu.reg.e == 67);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 24);
    CHECK(cpu.reg.l == 87);
    CHECK(cpu.pc == 47203);
    CHECK(cpu.sp == 1019);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[47326] == 24);
    REQUIRE(cpu.ram[47327] == 131);
}

TEST_CASE( "18 024C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37367;
    cpu.sp = 58791;
    cpu.reg.a = 4;
    cpu.reg.b = 254;
    cpu.reg.c = 76;
    cpu.reg.d = 39;
    cpu.reg.e = 35;
    cpu.reg.f = 16;
    cpu.reg.h = 69;
    cpu.reg.l = 224;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[37367] = 24;
    cpu.ram[37368] = 63;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 4);
    CHECK(cpu.reg.b == 254);
    CHECK(cpu.reg.c == 76);
    CHECK(cpu.reg.d == 39);
    CHECK(cpu.reg.e == 35);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 69);
    CHECK(cpu.reg.l == 224);
    CHECK(cpu.pc == 37432);
    CHECK(cpu.sp == 58791);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[37367] == 24);
    REQUIRE(cpu.ram[37368] == 63);
}

TEST_CASE( "18 024D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18434;
    cpu.sp = 6000;
    cpu.reg.a = 58;
    cpu.reg.b = 14;
    cpu.reg.c = 224;
    cpu.reg.d = 242;
    cpu.reg.e = 61;
    cpu.reg.f = 160;
    cpu.reg.h = 84;
    cpu.reg.l = 41;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[18434] = 24;
    cpu.ram[18435] = 91;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 58);
    CHECK(cpu.reg.b == 14);
    CHECK(cpu.reg.c == 224);
    CHECK(cpu.reg.d == 242);
    CHECK(cpu.reg.e == 61);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 84);
    CHECK(cpu.reg.l == 41);
    CHECK(cpu.pc == 18527);
    CHECK(cpu.sp == 6000);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18434] == 24);
    REQUIRE(cpu.ram[18435] == 91);
}

TEST_CASE( "18 024E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19567;
    cpu.sp = 60602;
    cpu.reg.a = 42;
    cpu.reg.b = 60;
    cpu.reg.c = 23;
    cpu.reg.d = 92;
    cpu.reg.e = 196;
    cpu.reg.f = 160;
    cpu.reg.h = 192;
    cpu.reg.l = 207;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[19567] = 24;
    cpu.ram[19568] = 231;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 42);
    CHECK(cpu.reg.b == 60);
    CHECK(cpu.reg.c == 23);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 196);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 192);
    CHECK(cpu.reg.l == 207);
    CHECK(cpu.pc == 19544);
    CHECK(cpu.sp == 60602);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19567] == 24);
    REQUIRE(cpu.ram[19568] == 231);
}

TEST_CASE( "18 024F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38794;
    cpu.sp = 43099;
    cpu.reg.a = 54;
    cpu.reg.b = 190;
    cpu.reg.c = 154;
    cpu.reg.d = 235;
    cpu.reg.e = 114;
    cpu.reg.f = 144;
    cpu.reg.h = 43;
    cpu.reg.l = 17;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[38794] = 24;
    cpu.ram[38795] = 17;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 54);
    CHECK(cpu.reg.b == 190);
    CHECK(cpu.reg.c == 154);
    CHECK(cpu.reg.d == 235);
    CHECK(cpu.reg.e == 114);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 43);
    CHECK(cpu.reg.l == 17);
    CHECK(cpu.pc == 38813);
    CHECK(cpu.sp == 43099);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38794] == 24);
    REQUIRE(cpu.ram[38795] == 17);
}

TEST_CASE( "18 0250", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18033;
    cpu.sp = 29811;
    cpu.reg.a = 74;
    cpu.reg.b = 37;
    cpu.reg.c = 234;
    cpu.reg.d = 221;
    cpu.reg.e = 147;
    cpu.reg.f = 208;
    cpu.reg.h = 111;
    cpu.reg.l = 97;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[18033] = 24;
    cpu.ram[18034] = 214;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 74);
    CHECK(cpu.reg.b == 37);
    CHECK(cpu.reg.c == 234);
    CHECK(cpu.reg.d == 221);
    CHECK(cpu.reg.e == 147);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 111);
    CHECK(cpu.reg.l == 97);
    CHECK(cpu.pc == 17993);
    CHECK(cpu.sp == 29811);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[18033] == 24);
    REQUIRE(cpu.ram[18034] == 214);
}

TEST_CASE( "18 0251", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25727;
    cpu.sp = 22866;
    cpu.reg.a = 212;
    cpu.reg.b = 39;
    cpu.reg.c = 192;
    cpu.reg.d = 69;
    cpu.reg.e = 29;
    cpu.reg.f = 128;
    cpu.reg.h = 91;
    cpu.reg.l = 20;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[25727] = 24;
    cpu.ram[25728] = 219;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 212);
    CHECK(cpu.reg.b == 39);
    CHECK(cpu.reg.c == 192);
    CHECK(cpu.reg.d == 69);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 91);
    CHECK(cpu.reg.l == 20);
    CHECK(cpu.pc == 25692);
    CHECK(cpu.sp == 22866);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25727] == 24);
    REQUIRE(cpu.ram[25728] == 219);
}

TEST_CASE( "18 0252", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38732;
    cpu.sp = 61100;
    cpu.reg.a = 172;
    cpu.reg.b = 114;
    cpu.reg.c = 12;
    cpu.reg.d = 190;
    cpu.reg.e = 145;
    cpu.reg.f = 176;
    cpu.reg.h = 116;
    cpu.reg.l = 194;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[38732] = 24;
    cpu.ram[38733] = 8;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 172);
    CHECK(cpu.reg.b == 114);
    CHECK(cpu.reg.c == 12);
    CHECK(cpu.reg.d == 190);
    CHECK(cpu.reg.e == 145);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 116);
    CHECK(cpu.reg.l == 194);
    CHECK(cpu.pc == 38742);
    CHECK(cpu.sp == 61100);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38732] == 24);
    REQUIRE(cpu.ram[38733] == 8);
}

TEST_CASE( "18 0253", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60454;
    cpu.sp = 42804;
    cpu.reg.a = 89;
    cpu.reg.b = 177;
    cpu.reg.c = 200;
    cpu.reg.d = 62;
    cpu.reg.e = 115;
    cpu.reg.f = 80;
    cpu.reg.h = 127;
    cpu.reg.l = 204;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[60454] = 24;
    cpu.ram[60455] = 91;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 89);
    CHECK(cpu.reg.b == 177);
    CHECK(cpu.reg.c == 200);
    CHECK(cpu.reg.d == 62);
    CHECK(cpu.reg.e == 115);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 127);
    CHECK(cpu.reg.l == 204);
    CHECK(cpu.pc == 60547);
    CHECK(cpu.sp == 42804);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60454] == 24);
    REQUIRE(cpu.ram[60455] == 91);
}

TEST_CASE( "18 0254", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3530;
    cpu.sp = 38679;
    cpu.reg.a = 116;
    cpu.reg.b = 126;
    cpu.reg.c = 20;
    cpu.reg.d = 227;
    cpu.reg.e = 154;
    cpu.reg.f = 192;
    cpu.reg.h = 166;
    cpu.reg.l = 159;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[3530] = 24;
    cpu.ram[3531] = 109;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 116);
    CHECK(cpu.reg.b == 126);
    CHECK(cpu.reg.c == 20);
    CHECK(cpu.reg.d == 227);
    CHECK(cpu.reg.e == 154);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 166);
    CHECK(cpu.reg.l == 159);
    CHECK(cpu.pc == 3641);
    CHECK(cpu.sp == 38679);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3530] == 24);
    REQUIRE(cpu.ram[3531] == 109);
}

TEST_CASE( "18 0255", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64062;
    cpu.sp = 49832;
    cpu.reg.a = 0;
    cpu.reg.b = 140;
    cpu.reg.c = 136;
    cpu.reg.d = 225;
    cpu.reg.e = 99;
    cpu.reg.f = 240;
    cpu.reg.h = 144;
    cpu.reg.l = 229;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[64062] = 24;
    cpu.ram[64063] = 173;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 0);
    CHECK(cpu.reg.b == 140);
    CHECK(cpu.reg.c == 136);
    CHECK(cpu.reg.d == 225);
    CHECK(cpu.reg.e == 99);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 144);
    CHECK(cpu.reg.l == 229);
    CHECK(cpu.pc == 63981);
    CHECK(cpu.sp == 49832);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[64062] == 24);
    REQUIRE(cpu.ram[64063] == 173);
}

TEST_CASE( "18 0256", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59514;
    cpu.sp = 37819;
    cpu.reg.a = 159;
    cpu.reg.b = 125;
    cpu.reg.c = 133;
    cpu.reg.d = 38;
    cpu.reg.e = 141;
    cpu.reg.f = 128;
    cpu.reg.h = 221;
    cpu.reg.l = 209;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[59514] = 24;
    cpu.ram[59515] = 252;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 159);
    CHECK(cpu.reg.b == 125);
    CHECK(cpu.reg.c == 133);
    CHECK(cpu.reg.d == 38);
    CHECK(cpu.reg.e == 141);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 221);
    CHECK(cpu.reg.l == 209);
    CHECK(cpu.pc == 59512);
    CHECK(cpu.sp == 37819);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[59514] == 24);
    REQUIRE(cpu.ram[59515] == 252);
}

TEST_CASE( "18 0257", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7939;
    cpu.sp = 33974;
    cpu.reg.a = 154;
    cpu.reg.b = 29;
    cpu.reg.c = 201;
    cpu.reg.d = 47;
    cpu.reg.e = 98;
    cpu.reg.f = 176;
    cpu.reg.h = 46;
    cpu.reg.l = 188;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[7939] = 24;
    cpu.ram[7940] = 95;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 154);
    CHECK(cpu.reg.b == 29);
    CHECK(cpu.reg.c == 201);
    CHECK(cpu.reg.d == 47);
    CHECK(cpu.reg.e == 98);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 46);
    CHECK(cpu.reg.l == 188);
    CHECK(cpu.pc == 8036);
    CHECK(cpu.sp == 33974);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7939] == 24);
    REQUIRE(cpu.ram[7940] == 95);
}

TEST_CASE( "18 0258", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60238;
    cpu.sp = 19236;
    cpu.reg.a = 34;
    cpu.reg.b = 95;
    cpu.reg.c = 106;
    cpu.reg.d = 132;
    cpu.reg.e = 80;
    cpu.reg.f = 176;
    cpu.reg.h = 196;
    cpu.reg.l = 103;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[60238] = 24;
    cpu.ram[60239] = 96;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 34);
    CHECK(cpu.reg.b == 95);
    CHECK(cpu.reg.c == 106);
    CHECK(cpu.reg.d == 132);
    CHECK(cpu.reg.e == 80);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 196);
    CHECK(cpu.reg.l == 103);
    CHECK(cpu.pc == 60336);
    CHECK(cpu.sp == 19236);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60238] == 24);
    REQUIRE(cpu.ram[60239] == 96);
}

TEST_CASE( "18 0259", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20496;
    cpu.sp = 51018;
    cpu.reg.a = 88;
    cpu.reg.b = 187;
    cpu.reg.c = 229;
    cpu.reg.d = 189;
    cpu.reg.e = 142;
    cpu.reg.f = 208;
    cpu.reg.h = 72;
    cpu.reg.l = 153;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[20496] = 24;
    cpu.ram[20497] = 211;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 88);
    CHECK(cpu.reg.b == 187);
    CHECK(cpu.reg.c == 229);
    CHECK(cpu.reg.d == 189);
    CHECK(cpu.reg.e == 142);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 72);
    CHECK(cpu.reg.l == 153);
    CHECK(cpu.pc == 20453);
    CHECK(cpu.sp == 51018);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[20496] == 24);
    REQUIRE(cpu.ram[20497] == 211);
}

TEST_CASE( "18 025A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16794;
    cpu.sp = 7681;
    cpu.reg.a = 223;
    cpu.reg.b = 149;
    cpu.reg.c = 3;
    cpu.reg.d = 107;
    cpu.reg.e = 0;
    cpu.reg.f = 176;
    cpu.reg.h = 238;
    cpu.reg.l = 32;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[16794] = 24;
    cpu.ram[16795] = 110;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 223);
    CHECK(cpu.reg.b == 149);
    CHECK(cpu.reg.c == 3);
    CHECK(cpu.reg.d == 107);
    CHECK(cpu.reg.e == 0);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 238);
    CHECK(cpu.reg.l == 32);
    CHECK(cpu.pc == 16906);
    CHECK(cpu.sp == 7681);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16794] == 24);
    REQUIRE(cpu.ram[16795] == 110);
}

TEST_CASE( "18 025B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11757;
    cpu.sp = 14099;
    cpu.reg.a = 34;
    cpu.reg.b = 190;
    cpu.reg.c = 102;
    cpu.reg.d = 26;
    cpu.reg.e = 108;
    cpu.reg.f = 96;
    cpu.reg.h = 36;
    cpu.reg.l = 169;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[11757] = 24;
    cpu.ram[11758] = 246;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 34);
    CHECK(cpu.reg.b == 190);
    CHECK(cpu.reg.c == 102);
    CHECK(cpu.reg.d == 26);
    CHECK(cpu.reg.e == 108);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 36);
    CHECK(cpu.reg.l == 169);
    CHECK(cpu.pc == 11749);
    CHECK(cpu.sp == 14099);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11757] == 24);
    REQUIRE(cpu.ram[11758] == 246);
}

TEST_CASE( "18 025C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1029;
    cpu.sp = 48962;
    cpu.reg.a = 17;
    cpu.reg.b = 194;
    cpu.reg.c = 102;
    cpu.reg.d = 19;
    cpu.reg.e = 29;
    cpu.reg.f = 176;
    cpu.reg.h = 220;
    cpu.reg.l = 35;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[1029] = 24;
    cpu.ram[1030] = 119;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 17);
    CHECK(cpu.reg.b == 194);
    CHECK(cpu.reg.c == 102);
    CHECK(cpu.reg.d == 19);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 220);
    CHECK(cpu.reg.l == 35);
    CHECK(cpu.pc == 1150);
    CHECK(cpu.sp == 48962);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1029] == 24);
    REQUIRE(cpu.ram[1030] == 119);
}

TEST_CASE( "18 025D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6651;
    cpu.sp = 61010;
    cpu.reg.a = 202;
    cpu.reg.b = 21;
    cpu.reg.c = 239;
    cpu.reg.d = 13;
    cpu.reg.e = 39;
    cpu.reg.f = 80;
    cpu.reg.h = 236;
    cpu.reg.l = 89;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[6651] = 24;
    cpu.ram[6652] = 135;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 202);
    CHECK(cpu.reg.b == 21);
    CHECK(cpu.reg.c == 239);
    CHECK(cpu.reg.d == 13);
    CHECK(cpu.reg.e == 39);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 236);
    CHECK(cpu.reg.l == 89);
    CHECK(cpu.pc == 6532);
    CHECK(cpu.sp == 61010);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6651] == 24);
    REQUIRE(cpu.ram[6652] == 135);
}

TEST_CASE( "18 025E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36276;
    cpu.sp = 55795;
    cpu.reg.a = 72;
    cpu.reg.b = 237;
    cpu.reg.c = 86;
    cpu.reg.d = 32;
    cpu.reg.e = 47;
    cpu.reg.f = 16;
    cpu.reg.h = 23;
    cpu.reg.l = 189;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[36276] = 24;
    cpu.ram[36277] = 104;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 72);
    CHECK(cpu.reg.b == 237);
    CHECK(cpu.reg.c == 86);
    CHECK(cpu.reg.d == 32);
    CHECK(cpu.reg.e == 47);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 23);
    CHECK(cpu.reg.l == 189);
    CHECK(cpu.pc == 36382);
    CHECK(cpu.sp == 55795);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[36276] == 24);
    REQUIRE(cpu.ram[36277] == 104);
}

TEST_CASE( "18 025F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58260;
    cpu.sp = 55964;
    cpu.reg.a = 246;
    cpu.reg.b = 82;
    cpu.reg.c = 203;
    cpu.reg.d = 136;
    cpu.reg.e = 79;
    cpu.reg.f = 128;
    cpu.reg.h = 48;
    cpu.reg.l = 195;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[58260] = 24;
    cpu.ram[58261] = 94;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 246);
    CHECK(cpu.reg.b == 82);
    CHECK(cpu.reg.c == 203);
    CHECK(cpu.reg.d == 136);
    CHECK(cpu.reg.e == 79);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 48);
    CHECK(cpu.reg.l == 195);
    CHECK(cpu.pc == 58356);
    CHECK(cpu.sp == 55964);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[58260] == 24);
    REQUIRE(cpu.ram[58261] == 94);
}

TEST_CASE( "18 0260", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13531;
    cpu.sp = 29283;
    cpu.reg.a = 89;
    cpu.reg.b = 186;
    cpu.reg.c = 169;
    cpu.reg.d = 156;
    cpu.reg.e = 245;
    cpu.reg.f = 96;
    cpu.reg.h = 77;
    cpu.reg.l = 182;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[13531] = 24;
    cpu.ram[13532] = 225;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 89);
    CHECK(cpu.reg.b == 186);
    CHECK(cpu.reg.c == 169);
    CHECK(cpu.reg.d == 156);
    CHECK(cpu.reg.e == 245);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 77);
    CHECK(cpu.reg.l == 182);
    CHECK(cpu.pc == 13502);
    CHECK(cpu.sp == 29283);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13531] == 24);
    REQUIRE(cpu.ram[13532] == 225);
}

TEST_CASE( "18 0261", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26698;
    cpu.sp = 22587;
    cpu.reg.a = 120;
    cpu.reg.b = 190;
    cpu.reg.c = 60;
    cpu.reg.d = 129;
    cpu.reg.e = 54;
    cpu.reg.f = 208;
    cpu.reg.h = 129;
    cpu.reg.l = 160;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26698] = 24;
    cpu.ram[26699] = 58;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 120);
    CHECK(cpu.reg.b == 190);
    CHECK(cpu.reg.c == 60);
    CHECK(cpu.reg.d == 129);
    CHECK(cpu.reg.e == 54);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 129);
    CHECK(cpu.reg.l == 160);
    CHECK(cpu.pc == 26758);
    CHECK(cpu.sp == 22587);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26698] == 24);
    REQUIRE(cpu.ram[26699] == 58);
}

TEST_CASE( "18 0262", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15108;
    cpu.sp = 7629;
    cpu.reg.a = 128;
    cpu.reg.b = 97;
    cpu.reg.c = 230;
    cpu.reg.d = 202;
    cpu.reg.e = 142;
    cpu.reg.f = 192;
    cpu.reg.h = 30;
    cpu.reg.l = 4;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[15108] = 24;
    cpu.ram[15109] = 179;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 128);
    CHECK(cpu.reg.b == 97);
    CHECK(cpu.reg.c == 230);
    CHECK(cpu.reg.d == 202);
    CHECK(cpu.reg.e == 142);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 30);
    CHECK(cpu.reg.l == 4);
    CHECK(cpu.pc == 15033);
    CHECK(cpu.sp == 7629);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15108] == 24);
    REQUIRE(cpu.ram[15109] == 179);
}

TEST_CASE( "18 0263", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30390;
    cpu.sp = 13505;
    cpu.reg.a = 93;
    cpu.reg.b = 134;
    cpu.reg.c = 135;
    cpu.reg.d = 176;
    cpu.reg.e = 136;
    cpu.reg.f = 112;
    cpu.reg.h = 253;
    cpu.reg.l = 44;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[30390] = 24;
    cpu.ram[30391] = 57;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 93);
    CHECK(cpu.reg.b == 134);
    CHECK(cpu.reg.c == 135);
    CHECK(cpu.reg.d == 176);
    CHECK(cpu.reg.e == 136);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 253);
    CHECK(cpu.reg.l == 44);
    CHECK(cpu.pc == 30449);
    CHECK(cpu.sp == 13505);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30390] == 24);
    REQUIRE(cpu.ram[30391] == 57);
}

TEST_CASE( "18 0264", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3294;
    cpu.sp = 8241;
    cpu.reg.a = 0;
    cpu.reg.b = 223;
    cpu.reg.c = 152;
    cpu.reg.d = 156;
    cpu.reg.e = 168;
    cpu.reg.f = 192;
    cpu.reg.h = 71;
    cpu.reg.l = 37;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[3294] = 24;
    cpu.ram[3295] = 117;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 0);
    CHECK(cpu.reg.b == 223);
    CHECK(cpu.reg.c == 152);
    CHECK(cpu.reg.d == 156);
    CHECK(cpu.reg.e == 168);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 71);
    CHECK(cpu.reg.l == 37);
    CHECK(cpu.pc == 3413);
    CHECK(cpu.sp == 8241);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3294] == 24);
    REQUIRE(cpu.ram[3295] == 117);
}

TEST_CASE( "18 0265", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52197;
    cpu.sp = 13932;
    cpu.reg.a = 26;
    cpu.reg.b = 66;
    cpu.reg.c = 196;
    cpu.reg.d = 68;
    cpu.reg.e = 141;
    cpu.reg.f = 48;
    cpu.reg.h = 154;
    cpu.reg.l = 57;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[52197] = 24;
    cpu.ram[52198] = 96;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 26);
    CHECK(cpu.reg.b == 66);
    CHECK(cpu.reg.c == 196);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 141);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 154);
    CHECK(cpu.reg.l == 57);
    CHECK(cpu.pc == 52295);
    CHECK(cpu.sp == 13932);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[52197] == 24);
    REQUIRE(cpu.ram[52198] == 96);
}

TEST_CASE( "18 0266", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41505;
    cpu.sp = 54046;
    cpu.reg.a = 97;
    cpu.reg.b = 67;
    cpu.reg.c = 154;
    cpu.reg.d = 118;
    cpu.reg.e = 179;
    cpu.reg.f = 16;
    cpu.reg.h = 230;
    cpu.reg.l = 193;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[41505] = 24;
    cpu.ram[41506] = 247;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 97);
    CHECK(cpu.reg.b == 67);
    CHECK(cpu.reg.c == 154);
    CHECK(cpu.reg.d == 118);
    CHECK(cpu.reg.e == 179);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 230);
    CHECK(cpu.reg.l == 193);
    CHECK(cpu.pc == 41498);
    CHECK(cpu.sp == 54046);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[41505] == 24);
    REQUIRE(cpu.ram[41506] == 247);
}

TEST_CASE( "18 0267", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 496;
    cpu.sp = 16826;
    cpu.reg.a = 164;
    cpu.reg.b = 87;
    cpu.reg.c = 124;
    cpu.reg.d = 222;
    cpu.reg.e = 105;
    cpu.reg.f = 64;
    cpu.reg.h = 195;
    cpu.reg.l = 254;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[496] = 24;
    cpu.ram[497] = 197;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 164);
    CHECK(cpu.reg.b == 87);
    CHECK(cpu.reg.c == 124);
    CHECK(cpu.reg.d == 222);
    CHECK(cpu.reg.e == 105);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 195);
    CHECK(cpu.reg.l == 254);
    CHECK(cpu.pc == 439);
    CHECK(cpu.sp == 16826);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[496] == 24);
    REQUIRE(cpu.ram[497] == 197);
}

TEST_CASE( "18 0268", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1338;
    cpu.sp = 40185;
    cpu.reg.a = 133;
    cpu.reg.b = 51;
    cpu.reg.c = 252;
    cpu.reg.d = 30;
    cpu.reg.e = 113;
    cpu.reg.f = 0;
    cpu.reg.h = 110;
    cpu.reg.l = 189;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[1338] = 24;
    cpu.ram[1339] = 166;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 133);
    CHECK(cpu.reg.b == 51);
    CHECK(cpu.reg.c == 252);
    CHECK(cpu.reg.d == 30);
    CHECK(cpu.reg.e == 113);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 110);
    CHECK(cpu.reg.l == 189);
    CHECK(cpu.pc == 1250);
    CHECK(cpu.sp == 40185);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1338] == 24);
    REQUIRE(cpu.ram[1339] == 166);
}

TEST_CASE( "18 0269", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58647;
    cpu.sp = 3714;
    cpu.reg.a = 187;
    cpu.reg.b = 231;
    cpu.reg.c = 162;
    cpu.reg.d = 208;
    cpu.reg.e = 22;
    cpu.reg.f = 144;
    cpu.reg.h = 8;
    cpu.reg.l = 109;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[58647] = 24;
    cpu.ram[58648] = 60;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 187);
    CHECK(cpu.reg.b == 231);
    CHECK(cpu.reg.c == 162);
    CHECK(cpu.reg.d == 208);
    CHECK(cpu.reg.e == 22);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 8);
    CHECK(cpu.reg.l == 109);
    CHECK(cpu.pc == 58709);
    CHECK(cpu.sp == 3714);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58647] == 24);
    REQUIRE(cpu.ram[58648] == 60);
}

TEST_CASE( "18 026A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51409;
    cpu.sp = 40746;
    cpu.reg.a = 207;
    cpu.reg.b = 15;
    cpu.reg.c = 161;
    cpu.reg.d = 80;
    cpu.reg.e = 97;
    cpu.reg.f = 128;
    cpu.reg.h = 216;
    cpu.reg.l = 155;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[51409] = 24;
    cpu.ram[51410] = 171;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 207);
    CHECK(cpu.reg.b == 15);
    CHECK(cpu.reg.c == 161);
    CHECK(cpu.reg.d == 80);
    CHECK(cpu.reg.e == 97);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 216);
    CHECK(cpu.reg.l == 155);
    CHECK(cpu.pc == 51326);
    CHECK(cpu.sp == 40746);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51409] == 24);
    REQUIRE(cpu.ram[51410] == 171);
}

TEST_CASE( "18 026B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14939;
    cpu.sp = 43699;
    cpu.reg.a = 103;
    cpu.reg.b = 103;
    cpu.reg.c = 247;
    cpu.reg.d = 17;
    cpu.reg.e = 115;
    cpu.reg.f = 160;
    cpu.reg.h = 229;
    cpu.reg.l = 215;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[14939] = 24;
    cpu.ram[14940] = 37;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 103);
    CHECK(cpu.reg.b == 103);
    CHECK(cpu.reg.c == 247);
    CHECK(cpu.reg.d == 17);
    CHECK(cpu.reg.e == 115);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 229);
    CHECK(cpu.reg.l == 215);
    CHECK(cpu.pc == 14978);
    CHECK(cpu.sp == 43699);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14939] == 24);
    REQUIRE(cpu.ram[14940] == 37);
}

TEST_CASE( "18 026C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14947;
    cpu.sp = 40359;
    cpu.reg.a = 187;
    cpu.reg.b = 212;
    cpu.reg.c = 225;
    cpu.reg.d = 80;
    cpu.reg.e = 149;
    cpu.reg.f = 64;
    cpu.reg.h = 187;
    cpu.reg.l = 179;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[14947] = 24;
    cpu.ram[14948] = 148;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 187);
    CHECK(cpu.reg.b == 212);
    CHECK(cpu.reg.c == 225);
    CHECK(cpu.reg.d == 80);
    CHECK(cpu.reg.e == 149);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 187);
    CHECK(cpu.reg.l == 179);
    CHECK(cpu.pc == 14841);
    CHECK(cpu.sp == 40359);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14947] == 24);
    REQUIRE(cpu.ram[14948] == 148);
}

TEST_CASE( "18 026D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14312;
    cpu.sp = 59612;
    cpu.reg.a = 203;
    cpu.reg.b = 85;
    cpu.reg.c = 136;
    cpu.reg.d = 66;
    cpu.reg.e = 56;
    cpu.reg.f = 96;
    cpu.reg.h = 200;
    cpu.reg.l = 29;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[14312] = 24;
    cpu.ram[14313] = 111;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 203);
    CHECK(cpu.reg.b == 85);
    CHECK(cpu.reg.c == 136);
    CHECK(cpu.reg.d == 66);
    CHECK(cpu.reg.e == 56);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 200);
    CHECK(cpu.reg.l == 29);
    CHECK(cpu.pc == 14425);
    CHECK(cpu.sp == 59612);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14312] == 24);
    REQUIRE(cpu.ram[14313] == 111);
}

TEST_CASE( "18 026E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4226;
    cpu.sp = 40452;
    cpu.reg.a = 213;
    cpu.reg.b = 245;
    cpu.reg.c = 103;
    cpu.reg.d = 106;
    cpu.reg.e = 210;
    cpu.reg.f = 48;
    cpu.reg.h = 223;
    cpu.reg.l = 135;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4226] = 24;
    cpu.ram[4227] = 207;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 213);
    CHECK(cpu.reg.b == 245);
    CHECK(cpu.reg.c == 103);
    CHECK(cpu.reg.d == 106);
    CHECK(cpu.reg.e == 210);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 223);
    CHECK(cpu.reg.l == 135);
    CHECK(cpu.pc == 4179);
    CHECK(cpu.sp == 40452);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4226] == 24);
    REQUIRE(cpu.ram[4227] == 207);
}

TEST_CASE( "18 026F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57756;
    cpu.sp = 12961;
    cpu.reg.a = 197;
    cpu.reg.b = 224;
    cpu.reg.c = 62;
    cpu.reg.d = 23;
    cpu.reg.e = 181;
    cpu.reg.f = 128;
    cpu.reg.h = 252;
    cpu.reg.l = 83;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[57756] = 24;
    cpu.ram[57757] = 49;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 197);
    CHECK(cpu.reg.b == 224);
    CHECK(cpu.reg.c == 62);
    CHECK(cpu.reg.d == 23);
    CHECK(cpu.reg.e == 181);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 252);
    CHECK(cpu.reg.l == 83);
    CHECK(cpu.pc == 57807);
    CHECK(cpu.sp == 12961);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[57756] == 24);
    REQUIRE(cpu.ram[57757] == 49);
}

TEST_CASE( "18 0270", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64880;
    cpu.sp = 17481;
    cpu.reg.a = 195;
    cpu.reg.b = 142;
    cpu.reg.c = 35;
    cpu.reg.d = 41;
    cpu.reg.e = 215;
    cpu.reg.f = 32;
    cpu.reg.h = 194;
    cpu.reg.l = 158;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[64880] = 24;
    cpu.ram[64881] = 59;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 195);
    CHECK(cpu.reg.b == 142);
    CHECK(cpu.reg.c == 35);
    CHECK(cpu.reg.d == 41);
    CHECK(cpu.reg.e == 215);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 194);
    CHECK(cpu.reg.l == 158);
    CHECK(cpu.pc == 64941);
    CHECK(cpu.sp == 17481);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64880] == 24);
    REQUIRE(cpu.ram[64881] == 59);
}

TEST_CASE( "18 0271", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62621;
    cpu.sp = 51688;
    cpu.reg.a = 184;
    cpu.reg.b = 184;
    cpu.reg.c = 197;
    cpu.reg.d = 39;
    cpu.reg.e = 32;
    cpu.reg.f = 224;
    cpu.reg.h = 146;
    cpu.reg.l = 153;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[62621] = 24;
    cpu.ram[62622] = 47;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 184);
    CHECK(cpu.reg.b == 184);
    CHECK(cpu.reg.c == 197);
    CHECK(cpu.reg.d == 39);
    CHECK(cpu.reg.e == 32);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 146);
    CHECK(cpu.reg.l == 153);
    CHECK(cpu.pc == 62670);
    CHECK(cpu.sp == 51688);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62621] == 24);
    REQUIRE(cpu.ram[62622] == 47);
}

TEST_CASE( "18 0272", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44216;
    cpu.sp = 47245;
    cpu.reg.a = 43;
    cpu.reg.b = 195;
    cpu.reg.c = 243;
    cpu.reg.d = 189;
    cpu.reg.e = 32;
    cpu.reg.f = 240;
    cpu.reg.h = 122;
    cpu.reg.l = 229;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[44216] = 24;
    cpu.ram[44217] = 20;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 43);
    CHECK(cpu.reg.b == 195);
    CHECK(cpu.reg.c == 243);
    CHECK(cpu.reg.d == 189);
    CHECK(cpu.reg.e == 32);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 122);
    CHECK(cpu.reg.l == 229);
    CHECK(cpu.pc == 44238);
    CHECK(cpu.sp == 47245);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44216] == 24);
    REQUIRE(cpu.ram[44217] == 20);
}

TEST_CASE( "18 0273", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38686;
    cpu.sp = 32105;
    cpu.reg.a = 107;
    cpu.reg.b = 0;
    cpu.reg.c = 218;
    cpu.reg.d = 68;
    cpu.reg.e = 102;
    cpu.reg.f = 208;
    cpu.reg.h = 96;
    cpu.reg.l = 67;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[38686] = 24;
    cpu.ram[38687] = 179;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 107);
    CHECK(cpu.reg.b == 0);
    CHECK(cpu.reg.c == 218);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 102);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 96);
    CHECK(cpu.reg.l == 67);
    CHECK(cpu.pc == 38611);
    CHECK(cpu.sp == 32105);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38686] == 24);
    REQUIRE(cpu.ram[38687] == 179);
}

TEST_CASE( "18 0274", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51949;
    cpu.sp = 47996;
    cpu.reg.a = 82;
    cpu.reg.b = 6;
    cpu.reg.c = 147;
    cpu.reg.d = 68;
    cpu.reg.e = 240;
    cpu.reg.f = 32;
    cpu.reg.h = 28;
    cpu.reg.l = 14;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[51949] = 24;
    cpu.ram[51950] = 251;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 82);
    CHECK(cpu.reg.b == 6);
    CHECK(cpu.reg.c == 147);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 240);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 28);
    CHECK(cpu.reg.l == 14);
    CHECK(cpu.pc == 51946);
    CHECK(cpu.sp == 47996);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[51949] == 24);
    REQUIRE(cpu.ram[51950] == 251);
}

TEST_CASE( "18 0275", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43152;
    cpu.sp = 15367;
    cpu.reg.a = 139;
    cpu.reg.b = 121;
    cpu.reg.c = 152;
    cpu.reg.d = 34;
    cpu.reg.e = 158;
    cpu.reg.f = 224;
    cpu.reg.h = 71;
    cpu.reg.l = 136;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[43152] = 24;
    cpu.ram[43153] = 59;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 139);
    CHECK(cpu.reg.b == 121);
    CHECK(cpu.reg.c == 152);
    CHECK(cpu.reg.d == 34);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 71);
    CHECK(cpu.reg.l == 136);
    CHECK(cpu.pc == 43213);
    CHECK(cpu.sp == 15367);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[43152] == 24);
    REQUIRE(cpu.ram[43153] == 59);
}

TEST_CASE( "18 0276", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54915;
    cpu.sp = 12821;
    cpu.reg.a = 78;
    cpu.reg.b = 40;
    cpu.reg.c = 30;
    cpu.reg.d = 222;
    cpu.reg.e = 224;
    cpu.reg.f = 64;
    cpu.reg.h = 217;
    cpu.reg.l = 125;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[54915] = 24;
    cpu.ram[54916] = 5;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 78);
    CHECK(cpu.reg.b == 40);
    CHECK(cpu.reg.c == 30);
    CHECK(cpu.reg.d == 222);
    CHECK(cpu.reg.e == 224);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 217);
    CHECK(cpu.reg.l == 125);
    CHECK(cpu.pc == 54922);
    CHECK(cpu.sp == 12821);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[54915] == 24);
    REQUIRE(cpu.ram[54916] == 5);
}

TEST_CASE( "18 0277", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31298;
    cpu.sp = 18820;
    cpu.reg.a = 2;
    cpu.reg.b = 174;
    cpu.reg.c = 154;
    cpu.reg.d = 43;
    cpu.reg.e = 52;
    cpu.reg.f = 32;
    cpu.reg.h = 137;
    cpu.reg.l = 189;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[31298] = 24;
    cpu.ram[31299] = 118;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 2);
    CHECK(cpu.reg.b == 174);
    CHECK(cpu.reg.c == 154);
    CHECK(cpu.reg.d == 43);
    CHECK(cpu.reg.e == 52);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 137);
    CHECK(cpu.reg.l == 189);
    CHECK(cpu.pc == 31418);
    CHECK(cpu.sp == 18820);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31298] == 24);
    REQUIRE(cpu.ram[31299] == 118);
}

TEST_CASE( "18 0278", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42521;
    cpu.sp = 52341;
    cpu.reg.a = 227;
    cpu.reg.b = 132;
    cpu.reg.c = 237;
    cpu.reg.d = 218;
    cpu.reg.e = 93;
    cpu.reg.f = 80;
    cpu.reg.h = 39;
    cpu.reg.l = 15;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[42521] = 24;
    cpu.ram[42522] = 236;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 227);
    CHECK(cpu.reg.b == 132);
    CHECK(cpu.reg.c == 237);
    CHECK(cpu.reg.d == 218);
    CHECK(cpu.reg.e == 93);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 39);
    CHECK(cpu.reg.l == 15);
    CHECK(cpu.pc == 42503);
    CHECK(cpu.sp == 52341);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[42521] == 24);
    REQUIRE(cpu.ram[42522] == 236);
}

TEST_CASE( "18 0279", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42234;
    cpu.sp = 1562;
    cpu.reg.a = 59;
    cpu.reg.b = 204;
    cpu.reg.c = 103;
    cpu.reg.d = 231;
    cpu.reg.e = 196;
    cpu.reg.f = 224;
    cpu.reg.h = 240;
    cpu.reg.l = 234;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[42234] = 24;
    cpu.ram[42235] = 206;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 59);
    CHECK(cpu.reg.b == 204);
    CHECK(cpu.reg.c == 103);
    CHECK(cpu.reg.d == 231);
    CHECK(cpu.reg.e == 196);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 240);
    CHECK(cpu.reg.l == 234);
    CHECK(cpu.pc == 42186);
    CHECK(cpu.sp == 1562);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[42234] == 24);
    REQUIRE(cpu.ram[42235] == 206);
}

TEST_CASE( "18 027A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48876;
    cpu.sp = 23406;
    cpu.reg.a = 10;
    cpu.reg.b = 28;
    cpu.reg.c = 124;
    cpu.reg.d = 60;
    cpu.reg.e = 34;
    cpu.reg.f = 96;
    cpu.reg.h = 178;
    cpu.reg.l = 29;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[48876] = 24;
    cpu.ram[48877] = 163;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 10);
    CHECK(cpu.reg.b == 28);
    CHECK(cpu.reg.c == 124);
    CHECK(cpu.reg.d == 60);
    CHECK(cpu.reg.e == 34);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 178);
    CHECK(cpu.reg.l == 29);
    CHECK(cpu.pc == 48785);
    CHECK(cpu.sp == 23406);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48876] == 24);
    REQUIRE(cpu.ram[48877] == 163);
}

TEST_CASE( "18 027B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25447;
    cpu.sp = 6496;
    cpu.reg.a = 56;
    cpu.reg.b = 212;
    cpu.reg.c = 12;
    cpu.reg.d = 69;
    cpu.reg.e = 29;
    cpu.reg.f = 0;
    cpu.reg.h = 252;
    cpu.reg.l = 164;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[25447] = 24;
    cpu.ram[25448] = 111;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 56);
    CHECK(cpu.reg.b == 212);
    CHECK(cpu.reg.c == 12);
    CHECK(cpu.reg.d == 69);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 252);
    CHECK(cpu.reg.l == 164);
    CHECK(cpu.pc == 25560);
    CHECK(cpu.sp == 6496);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25447] == 24);
    REQUIRE(cpu.ram[25448] == 111);
}

TEST_CASE( "18 027C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50065;
    cpu.sp = 2971;
    cpu.reg.a = 199;
    cpu.reg.b = 71;
    cpu.reg.c = 50;
    cpu.reg.d = 234;
    cpu.reg.e = 232;
    cpu.reg.f = 0;
    cpu.reg.h = 192;
    cpu.reg.l = 185;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[50065] = 24;
    cpu.ram[50066] = 95;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 199);
    CHECK(cpu.reg.b == 71);
    CHECK(cpu.reg.c == 50);
    CHECK(cpu.reg.d == 234);
    CHECK(cpu.reg.e == 232);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 192);
    CHECK(cpu.reg.l == 185);
    CHECK(cpu.pc == 50162);
    CHECK(cpu.sp == 2971);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[50065] == 24);
    REQUIRE(cpu.ram[50066] == 95);
}

TEST_CASE( "18 027D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45403;
    cpu.sp = 5786;
    cpu.reg.a = 200;
    cpu.reg.b = 95;
    cpu.reg.c = 137;
    cpu.reg.d = 122;
    cpu.reg.e = 198;
    cpu.reg.f = 240;
    cpu.reg.h = 63;
    cpu.reg.l = 39;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[45403] = 24;
    cpu.ram[45404] = 36;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 200);
    CHECK(cpu.reg.b == 95);
    CHECK(cpu.reg.c == 137);
    CHECK(cpu.reg.d == 122);
    CHECK(cpu.reg.e == 198);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 63);
    CHECK(cpu.reg.l == 39);
    CHECK(cpu.pc == 45441);
    CHECK(cpu.sp == 5786);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45403] == 24);
    REQUIRE(cpu.ram[45404] == 36);
}

TEST_CASE( "18 027E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8622;
    cpu.sp = 9375;
    cpu.reg.a = 16;
    cpu.reg.b = 217;
    cpu.reg.c = 232;
    cpu.reg.d = 200;
    cpu.reg.e = 160;
    cpu.reg.f = 144;
    cpu.reg.h = 254;
    cpu.reg.l = 154;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[8622] = 24;
    cpu.ram[8623] = 89;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 16);
    CHECK(cpu.reg.b == 217);
    CHECK(cpu.reg.c == 232);
    CHECK(cpu.reg.d == 200);
    CHECK(cpu.reg.e == 160);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 254);
    CHECK(cpu.reg.l == 154);
    CHECK(cpu.pc == 8713);
    CHECK(cpu.sp == 9375);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8622] == 24);
    REQUIRE(cpu.ram[8623] == 89);
}

TEST_CASE( "18 027F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9216;
    cpu.sp = 35751;
    cpu.reg.a = 159;
    cpu.reg.b = 39;
    cpu.reg.c = 4;
    cpu.reg.d = 61;
    cpu.reg.e = 25;
    cpu.reg.f = 160;
    cpu.reg.h = 55;
    cpu.reg.l = 75;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[9216] = 24;
    cpu.ram[9217] = 237;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 159);
    CHECK(cpu.reg.b == 39);
    CHECK(cpu.reg.c == 4);
    CHECK(cpu.reg.d == 61);
    CHECK(cpu.reg.e == 25);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 55);
    CHECK(cpu.reg.l == 75);
    CHECK(cpu.pc == 9199);
    CHECK(cpu.sp == 35751);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9216] == 24);
    REQUIRE(cpu.ram[9217] == 237);
}

TEST_CASE( "18 0280", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47196;
    cpu.sp = 23661;
    cpu.reg.a = 180;
    cpu.reg.b = 194;
    cpu.reg.c = 232;
    cpu.reg.d = 207;
    cpu.reg.e = 245;
    cpu.reg.f = 144;
    cpu.reg.h = 50;
    cpu.reg.l = 187;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47196] = 24;
    cpu.ram[47197] = 174;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 180);
    CHECK(cpu.reg.b == 194);
    CHECK(cpu.reg.c == 232);
    CHECK(cpu.reg.d == 207);
    CHECK(cpu.reg.e == 245);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 50);
    CHECK(cpu.reg.l == 187);
    CHECK(cpu.pc == 47116);
    CHECK(cpu.sp == 23661);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47196] == 24);
    REQUIRE(cpu.ram[47197] == 174);
}

TEST_CASE( "18 0281", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19634;
    cpu.sp = 47957;
    cpu.reg.a = 97;
    cpu.reg.b = 61;
    cpu.reg.c = 100;
    cpu.reg.d = 247;
    cpu.reg.e = 106;
    cpu.reg.f = 64;
    cpu.reg.h = 242;
    cpu.reg.l = 121;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[19634] = 24;
    cpu.ram[19635] = 251;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 97);
    CHECK(cpu.reg.b == 61);
    CHECK(cpu.reg.c == 100);
    CHECK(cpu.reg.d == 247);
    CHECK(cpu.reg.e == 106);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 242);
    CHECK(cpu.reg.l == 121);
    CHECK(cpu.pc == 19631);
    CHECK(cpu.sp == 47957);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19634] == 24);
    REQUIRE(cpu.ram[19635] == 251);
}

TEST_CASE( "18 0282", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55316;
    cpu.sp = 17730;
    cpu.reg.a = 13;
    cpu.reg.b = 227;
    cpu.reg.c = 215;
    cpu.reg.d = 158;
    cpu.reg.e = 200;
    cpu.reg.f = 128;
    cpu.reg.h = 46;
    cpu.reg.l = 36;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[55316] = 24;
    cpu.ram[55317] = 130;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 13);
    CHECK(cpu.reg.b == 227);
    CHECK(cpu.reg.c == 215);
    CHECK(cpu.reg.d == 158);
    CHECK(cpu.reg.e == 200);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 46);
    CHECK(cpu.reg.l == 36);
    CHECK(cpu.pc == 55192);
    CHECK(cpu.sp == 17730);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[55316] == 24);
    REQUIRE(cpu.ram[55317] == 130);
}

TEST_CASE( "18 0283", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13993;
    cpu.sp = 60164;
    cpu.reg.a = 212;
    cpu.reg.b = 234;
    cpu.reg.c = 186;
    cpu.reg.d = 172;
    cpu.reg.e = 61;
    cpu.reg.f = 224;
    cpu.reg.h = 132;
    cpu.reg.l = 241;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[13993] = 24;
    cpu.ram[13994] = 58;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 212);
    CHECK(cpu.reg.b == 234);
    CHECK(cpu.reg.c == 186);
    CHECK(cpu.reg.d == 172);
    CHECK(cpu.reg.e == 61);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 132);
    CHECK(cpu.reg.l == 241);
    CHECK(cpu.pc == 14053);
    CHECK(cpu.sp == 60164);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13993] == 24);
    REQUIRE(cpu.ram[13994] == 58);
}

TEST_CASE( "18 0284", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6632;
    cpu.sp = 8321;
    cpu.reg.a = 67;
    cpu.reg.b = 243;
    cpu.reg.c = 133;
    cpu.reg.d = 217;
    cpu.reg.e = 2;
    cpu.reg.f = 128;
    cpu.reg.h = 213;
    cpu.reg.l = 232;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[6632] = 24;
    cpu.ram[6633] = 26;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 67);
    CHECK(cpu.reg.b == 243);
    CHECK(cpu.reg.c == 133);
    CHECK(cpu.reg.d == 217);
    CHECK(cpu.reg.e == 2);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 213);
    CHECK(cpu.reg.l == 232);
    CHECK(cpu.pc == 6660);
    CHECK(cpu.sp == 8321);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[6632] == 24);
    REQUIRE(cpu.ram[6633] == 26);
}

TEST_CASE( "18 0285", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45769;
    cpu.sp = 14904;
    cpu.reg.a = 213;
    cpu.reg.b = 200;
    cpu.reg.c = 149;
    cpu.reg.d = 246;
    cpu.reg.e = 215;
    cpu.reg.f = 176;
    cpu.reg.h = 11;
    cpu.reg.l = 32;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[45769] = 24;
    cpu.ram[45770] = 85;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 213);
    CHECK(cpu.reg.b == 200);
    CHECK(cpu.reg.c == 149);
    CHECK(cpu.reg.d == 246);
    CHECK(cpu.reg.e == 215);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 11);
    CHECK(cpu.reg.l == 32);
    CHECK(cpu.pc == 45856);
    CHECK(cpu.sp == 14904);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45769] == 24);
    REQUIRE(cpu.ram[45770] == 85);
}

TEST_CASE( "18 0286", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56291;
    cpu.sp = 50856;
    cpu.reg.a = 51;
    cpu.reg.b = 210;
    cpu.reg.c = 16;
    cpu.reg.d = 208;
    cpu.reg.e = 166;
    cpu.reg.f = 208;
    cpu.reg.h = 169;
    cpu.reg.l = 217;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[56291] = 24;
    cpu.ram[56292] = 41;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 51);
    CHECK(cpu.reg.b == 210);
    CHECK(cpu.reg.c == 16);
    CHECK(cpu.reg.d == 208);
    CHECK(cpu.reg.e == 166);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 169);
    CHECK(cpu.reg.l == 217);
    CHECK(cpu.pc == 56334);
    CHECK(cpu.sp == 50856);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56291] == 24);
    REQUIRE(cpu.ram[56292] == 41);
}

TEST_CASE( "18 0287", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22534;
    cpu.sp = 23629;
    cpu.reg.a = 230;
    cpu.reg.b = 27;
    cpu.reg.c = 88;
    cpu.reg.d = 238;
    cpu.reg.e = 85;
    cpu.reg.f = 64;
    cpu.reg.h = 91;
    cpu.reg.l = 74;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[22534] = 24;
    cpu.ram[22535] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 230);
    CHECK(cpu.reg.b == 27);
    CHECK(cpu.reg.c == 88);
    CHECK(cpu.reg.d == 238);
    CHECK(cpu.reg.e == 85);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 91);
    CHECK(cpu.reg.l == 74);
    CHECK(cpu.pc == 22540);
    CHECK(cpu.sp == 23629);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22534] == 24);
    REQUIRE(cpu.ram[22535] == 4);
}

TEST_CASE( "18 0288", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36924;
    cpu.sp = 20670;
    cpu.reg.a = 219;
    cpu.reg.b = 199;
    cpu.reg.c = 10;
    cpu.reg.d = 191;
    cpu.reg.e = 230;
    cpu.reg.f = 128;
    cpu.reg.h = 137;
    cpu.reg.l = 216;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[36924] = 24;
    cpu.ram[36925] = 138;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 219);
    CHECK(cpu.reg.b == 199);
    CHECK(cpu.reg.c == 10);
    CHECK(cpu.reg.d == 191);
    CHECK(cpu.reg.e == 230);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 137);
    CHECK(cpu.reg.l == 216);
    CHECK(cpu.pc == 36808);
    CHECK(cpu.sp == 20670);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36924] == 24);
    REQUIRE(cpu.ram[36925] == 138);
}

TEST_CASE( "18 0289", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49858;
    cpu.sp = 23406;
    cpu.reg.a = 240;
    cpu.reg.b = 74;
    cpu.reg.c = 16;
    cpu.reg.d = 149;
    cpu.reg.e = 227;
    cpu.reg.f = 192;
    cpu.reg.h = 136;
    cpu.reg.l = 142;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[49858] = 24;
    cpu.ram[49859] = 13;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 240);
    CHECK(cpu.reg.b == 74);
    CHECK(cpu.reg.c == 16);
    CHECK(cpu.reg.d == 149);
    CHECK(cpu.reg.e == 227);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 136);
    CHECK(cpu.reg.l == 142);
    CHECK(cpu.pc == 49873);
    CHECK(cpu.sp == 23406);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49858] == 24);
    REQUIRE(cpu.ram[49859] == 13);
}

TEST_CASE( "18 028A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48391;
    cpu.sp = 63179;
    cpu.reg.a = 89;
    cpu.reg.b = 247;
    cpu.reg.c = 30;
    cpu.reg.d = 164;
    cpu.reg.e = 143;
    cpu.reg.f = 48;
    cpu.reg.h = 254;
    cpu.reg.l = 112;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[48391] = 24;
    cpu.ram[48392] = 95;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 89);
    CHECK(cpu.reg.b == 247);
    CHECK(cpu.reg.c == 30);
    CHECK(cpu.reg.d == 164);
    CHECK(cpu.reg.e == 143);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 254);
    CHECK(cpu.reg.l == 112);
    CHECK(cpu.pc == 48488);
    CHECK(cpu.sp == 63179);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48391] == 24);
    REQUIRE(cpu.ram[48392] == 95);
}

TEST_CASE( "18 028B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47738;
    cpu.sp = 31286;
    cpu.reg.a = 149;
    cpu.reg.b = 126;
    cpu.reg.c = 102;
    cpu.reg.d = 179;
    cpu.reg.e = 105;
    cpu.reg.f = 144;
    cpu.reg.h = 255;
    cpu.reg.l = 135;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[47738] = 24;
    cpu.ram[47739] = 221;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 149);
    CHECK(cpu.reg.b == 126);
    CHECK(cpu.reg.c == 102);
    CHECK(cpu.reg.d == 179);
    CHECK(cpu.reg.e == 105);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 255);
    CHECK(cpu.reg.l == 135);
    CHECK(cpu.pc == 47705);
    CHECK(cpu.sp == 31286);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[47738] == 24);
    REQUIRE(cpu.ram[47739] == 221);
}

TEST_CASE( "18 028C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42846;
    cpu.sp = 33904;
    cpu.reg.a = 227;
    cpu.reg.b = 39;
    cpu.reg.c = 138;
    cpu.reg.d = 112;
    cpu.reg.e = 206;
    cpu.reg.f = 96;
    cpu.reg.h = 56;
    cpu.reg.l = 68;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[42846] = 24;
    cpu.ram[42847] = 173;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 227);
    CHECK(cpu.reg.b == 39);
    CHECK(cpu.reg.c == 138);
    CHECK(cpu.reg.d == 112);
    CHECK(cpu.reg.e == 206);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 56);
    CHECK(cpu.reg.l == 68);
    CHECK(cpu.pc == 42765);
    CHECK(cpu.sp == 33904);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[42846] == 24);
    REQUIRE(cpu.ram[42847] == 173);
}

TEST_CASE( "18 028D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45906;
    cpu.sp = 56491;
    cpu.reg.a = 238;
    cpu.reg.b = 65;
    cpu.reg.c = 242;
    cpu.reg.d = 33;
    cpu.reg.e = 109;
    cpu.reg.f = 80;
    cpu.reg.h = 149;
    cpu.reg.l = 42;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[45906] = 24;
    cpu.ram[45907] = 176;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 238);
    CHECK(cpu.reg.b == 65);
    CHECK(cpu.reg.c == 242);
    CHECK(cpu.reg.d == 33);
    CHECK(cpu.reg.e == 109);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 149);
    CHECK(cpu.reg.l == 42);
    CHECK(cpu.pc == 45828);
    CHECK(cpu.sp == 56491);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45906] == 24);
    REQUIRE(cpu.ram[45907] == 176);
}

TEST_CASE( "18 028E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41603;
    cpu.sp = 42951;
    cpu.reg.a = 226;
    cpu.reg.b = 23;
    cpu.reg.c = 147;
    cpu.reg.d = 192;
    cpu.reg.e = 243;
    cpu.reg.f = 96;
    cpu.reg.h = 26;
    cpu.reg.l = 161;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[41603] = 24;
    cpu.ram[41604] = 173;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 226);
    CHECK(cpu.reg.b == 23);
    CHECK(cpu.reg.c == 147);
    CHECK(cpu.reg.d == 192);
    CHECK(cpu.reg.e == 243);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 26);
    CHECK(cpu.reg.l == 161);
    CHECK(cpu.pc == 41522);
    CHECK(cpu.sp == 42951);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41603] == 24);
    REQUIRE(cpu.ram[41604] == 173);
}

TEST_CASE( "18 028F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11623;
    cpu.sp = 31234;
    cpu.reg.a = 153;
    cpu.reg.b = 156;
    cpu.reg.c = 96;
    cpu.reg.d = 116;
    cpu.reg.e = 93;
    cpu.reg.f = 80;
    cpu.reg.h = 189;
    cpu.reg.l = 93;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[11623] = 24;
    cpu.ram[11624] = 98;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 153);
    CHECK(cpu.reg.b == 156);
    CHECK(cpu.reg.c == 96);
    CHECK(cpu.reg.d == 116);
    CHECK(cpu.reg.e == 93);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 189);
    CHECK(cpu.reg.l == 93);
    CHECK(cpu.pc == 11723);
    CHECK(cpu.sp == 31234);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11623] == 24);
    REQUIRE(cpu.ram[11624] == 98);
}

TEST_CASE( "18 0290", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42038;
    cpu.sp = 15789;
    cpu.reg.a = 186;
    cpu.reg.b = 227;
    cpu.reg.c = 143;
    cpu.reg.d = 9;
    cpu.reg.e = 193;
    cpu.reg.f = 96;
    cpu.reg.h = 23;
    cpu.reg.l = 189;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[42038] = 24;
    cpu.ram[42039] = 162;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 186);
    CHECK(cpu.reg.b == 227);
    CHECK(cpu.reg.c == 143);
    CHECK(cpu.reg.d == 9);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 23);
    CHECK(cpu.reg.l == 189);
    CHECK(cpu.pc == 41946);
    CHECK(cpu.sp == 15789);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[42038] == 24);
    REQUIRE(cpu.ram[42039] == 162);
}

TEST_CASE( "18 0291", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52799;
    cpu.sp = 14237;
    cpu.reg.a = 128;
    cpu.reg.b = 127;
    cpu.reg.c = 100;
    cpu.reg.d = 220;
    cpu.reg.e = 178;
    cpu.reg.f = 208;
    cpu.reg.h = 169;
    cpu.reg.l = 69;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[52799] = 24;
    cpu.ram[52800] = 246;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 128);
    CHECK(cpu.reg.b == 127);
    CHECK(cpu.reg.c == 100);
    CHECK(cpu.reg.d == 220);
    CHECK(cpu.reg.e == 178);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 169);
    CHECK(cpu.reg.l == 69);
    CHECK(cpu.pc == 52791);
    CHECK(cpu.sp == 14237);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[52799] == 24);
    REQUIRE(cpu.ram[52800] == 246);
}

TEST_CASE( "18 0292", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41899;
    cpu.sp = 25487;
    cpu.reg.a = 125;
    cpu.reg.b = 143;
    cpu.reg.c = 194;
    cpu.reg.d = 234;
    cpu.reg.e = 90;
    cpu.reg.f = 0;
    cpu.reg.h = 57;
    cpu.reg.l = 133;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[41899] = 24;
    cpu.ram[41900] = 85;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 125);
    CHECK(cpu.reg.b == 143);
    CHECK(cpu.reg.c == 194);
    CHECK(cpu.reg.d == 234);
    CHECK(cpu.reg.e == 90);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 57);
    CHECK(cpu.reg.l == 133);
    CHECK(cpu.pc == 41986);
    CHECK(cpu.sp == 25487);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[41899] == 24);
    REQUIRE(cpu.ram[41900] == 85);
}

TEST_CASE( "18 0293", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50525;
    cpu.sp = 11444;
    cpu.reg.a = 101;
    cpu.reg.b = 226;
    cpu.reg.c = 73;
    cpu.reg.d = 206;
    cpu.reg.e = 213;
    cpu.reg.f = 128;
    cpu.reg.h = 156;
    cpu.reg.l = 160;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[50525] = 24;
    cpu.ram[50526] = 15;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 101);
    CHECK(cpu.reg.b == 226);
    CHECK(cpu.reg.c == 73);
    CHECK(cpu.reg.d == 206);
    CHECK(cpu.reg.e == 213);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 156);
    CHECK(cpu.reg.l == 160);
    CHECK(cpu.pc == 50542);
    CHECK(cpu.sp == 11444);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50525] == 24);
    REQUIRE(cpu.ram[50526] == 15);
}

TEST_CASE( "18 0294", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61731;
    cpu.sp = 61098;
    cpu.reg.a = 62;
    cpu.reg.b = 8;
    cpu.reg.c = 81;
    cpu.reg.d = 250;
    cpu.reg.e = 248;
    cpu.reg.f = 208;
    cpu.reg.h = 22;
    cpu.reg.l = 223;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[61731] = 24;
    cpu.ram[61732] = 76;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 62);
    CHECK(cpu.reg.b == 8);
    CHECK(cpu.reg.c == 81);
    CHECK(cpu.reg.d == 250);
    CHECK(cpu.reg.e == 248);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 22);
    CHECK(cpu.reg.l == 223);
    CHECK(cpu.pc == 61809);
    CHECK(cpu.sp == 61098);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61731] == 24);
    REQUIRE(cpu.ram[61732] == 76);
}

TEST_CASE( "18 0295", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32162;
    cpu.sp = 1753;
    cpu.reg.a = 91;
    cpu.reg.b = 164;
    cpu.reg.c = 106;
    cpu.reg.d = 63;
    cpu.reg.e = 24;
    cpu.reg.f = 32;
    cpu.reg.h = 93;
    cpu.reg.l = 170;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[32162] = 24;
    cpu.ram[32163] = 166;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 91);
    CHECK(cpu.reg.b == 164);
    CHECK(cpu.reg.c == 106);
    CHECK(cpu.reg.d == 63);
    CHECK(cpu.reg.e == 24);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 93);
    CHECK(cpu.reg.l == 170);
    CHECK(cpu.pc == 32074);
    CHECK(cpu.sp == 1753);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[32162] == 24);
    REQUIRE(cpu.ram[32163] == 166);
}

TEST_CASE( "18 0296", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55199;
    cpu.sp = 1789;
    cpu.reg.a = 222;
    cpu.reg.b = 70;
    cpu.reg.c = 3;
    cpu.reg.d = 90;
    cpu.reg.e = 89;
    cpu.reg.f = 48;
    cpu.reg.h = 158;
    cpu.reg.l = 162;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[55199] = 24;
    cpu.ram[55200] = 81;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 222);
    CHECK(cpu.reg.b == 70);
    CHECK(cpu.reg.c == 3);
    CHECK(cpu.reg.d == 90);
    CHECK(cpu.reg.e == 89);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 158);
    CHECK(cpu.reg.l == 162);
    CHECK(cpu.pc == 55282);
    CHECK(cpu.sp == 1789);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[55199] == 24);
    REQUIRE(cpu.ram[55200] == 81);
}

TEST_CASE( "18 0297", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55449;
    cpu.sp = 11319;
    cpu.reg.a = 13;
    cpu.reg.b = 59;
    cpu.reg.c = 106;
    cpu.reg.d = 18;
    cpu.reg.e = 182;
    cpu.reg.f = 32;
    cpu.reg.h = 195;
    cpu.reg.l = 21;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[55449] = 24;
    cpu.ram[55450] = 150;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 13);
    CHECK(cpu.reg.b == 59);
    CHECK(cpu.reg.c == 106);
    CHECK(cpu.reg.d == 18);
    CHECK(cpu.reg.e == 182);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 195);
    CHECK(cpu.reg.l == 21);
    CHECK(cpu.pc == 55345);
    CHECK(cpu.sp == 11319);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[55449] == 24);
    REQUIRE(cpu.ram[55450] == 150);
}

TEST_CASE( "18 0298", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62805;
    cpu.sp = 54434;
    cpu.reg.a = 129;
    cpu.reg.b = 10;
    cpu.reg.c = 58;
    cpu.reg.d = 219;
    cpu.reg.e = 173;
    cpu.reg.f = 112;
    cpu.reg.h = 74;
    cpu.reg.l = 95;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[62805] = 24;
    cpu.ram[62806] = 165;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 129);
    CHECK(cpu.reg.b == 10);
    CHECK(cpu.reg.c == 58);
    CHECK(cpu.reg.d == 219);
    CHECK(cpu.reg.e == 173);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 74);
    CHECK(cpu.reg.l == 95);
    CHECK(cpu.pc == 62716);
    CHECK(cpu.sp == 54434);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62805] == 24);
    REQUIRE(cpu.ram[62806] == 165);
}

TEST_CASE( "18 0299", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3819;
    cpu.sp = 58678;
    cpu.reg.a = 248;
    cpu.reg.b = 61;
    cpu.reg.c = 24;
    cpu.reg.d = 245;
    cpu.reg.e = 58;
    cpu.reg.f = 96;
    cpu.reg.h = 60;
    cpu.reg.l = 136;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[3819] = 24;
    cpu.ram[3820] = 148;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 248);
    CHECK(cpu.reg.b == 61);
    CHECK(cpu.reg.c == 24);
    CHECK(cpu.reg.d == 245);
    CHECK(cpu.reg.e == 58);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 60);
    CHECK(cpu.reg.l == 136);
    CHECK(cpu.pc == 3713);
    CHECK(cpu.sp == 58678);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3819] == 24);
    REQUIRE(cpu.ram[3820] == 148);
}

TEST_CASE( "18 029A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32196;
    cpu.sp = 57976;
    cpu.reg.a = 67;
    cpu.reg.b = 244;
    cpu.reg.c = 61;
    cpu.reg.d = 241;
    cpu.reg.e = 42;
    cpu.reg.f = 80;
    cpu.reg.h = 192;
    cpu.reg.l = 148;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[32196] = 24;
    cpu.ram[32197] = 182;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 67);
    CHECK(cpu.reg.b == 244);
    CHECK(cpu.reg.c == 61);
    CHECK(cpu.reg.d == 241);
    CHECK(cpu.reg.e == 42);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 192);
    CHECK(cpu.reg.l == 148);
    CHECK(cpu.pc == 32124);
    CHECK(cpu.sp == 57976);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[32196] == 24);
    REQUIRE(cpu.ram[32197] == 182);
}

TEST_CASE( "18 029B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15463;
    cpu.sp = 25943;
    cpu.reg.a = 206;
    cpu.reg.b = 39;
    cpu.reg.c = 101;
    cpu.reg.d = 192;
    cpu.reg.e = 223;
    cpu.reg.f = 80;
    cpu.reg.h = 204;
    cpu.reg.l = 60;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[15463] = 24;
    cpu.ram[15464] = 187;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 206);
    CHECK(cpu.reg.b == 39);
    CHECK(cpu.reg.c == 101);
    CHECK(cpu.reg.d == 192);
    CHECK(cpu.reg.e == 223);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 204);
    CHECK(cpu.reg.l == 60);
    CHECK(cpu.pc == 15396);
    CHECK(cpu.sp == 25943);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15463] == 24);
    REQUIRE(cpu.ram[15464] == 187);
}

TEST_CASE( "18 029C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47645;
    cpu.sp = 9941;
    cpu.reg.a = 178;
    cpu.reg.b = 149;
    cpu.reg.c = 195;
    cpu.reg.d = 153;
    cpu.reg.e = 24;
    cpu.reg.f = 112;
    cpu.reg.h = 228;
    cpu.reg.l = 108;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[47645] = 24;
    cpu.ram[47646] = 138;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 178);
    CHECK(cpu.reg.b == 149);
    CHECK(cpu.reg.c == 195);
    CHECK(cpu.reg.d == 153);
    CHECK(cpu.reg.e == 24);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 228);
    CHECK(cpu.reg.l == 108);
    CHECK(cpu.pc == 47529);
    CHECK(cpu.sp == 9941);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[47645] == 24);
    REQUIRE(cpu.ram[47646] == 138);
}

TEST_CASE( "18 029D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11603;
    cpu.sp = 43140;
    cpu.reg.a = 137;
    cpu.reg.b = 176;
    cpu.reg.c = 128;
    cpu.reg.d = 122;
    cpu.reg.e = 159;
    cpu.reg.f = 224;
    cpu.reg.h = 200;
    cpu.reg.l = 36;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[11603] = 24;
    cpu.ram[11604] = 220;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 137);
    CHECK(cpu.reg.b == 176);
    CHECK(cpu.reg.c == 128);
    CHECK(cpu.reg.d == 122);
    CHECK(cpu.reg.e == 159);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 200);
    CHECK(cpu.reg.l == 36);
    CHECK(cpu.pc == 11569);
    CHECK(cpu.sp == 43140);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11603] == 24);
    REQUIRE(cpu.ram[11604] == 220);
}

TEST_CASE( "18 029E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43417;
    cpu.sp = 18694;
    cpu.reg.a = 157;
    cpu.reg.b = 2;
    cpu.reg.c = 47;
    cpu.reg.d = 111;
    cpu.reg.e = 84;
    cpu.reg.f = 96;
    cpu.reg.h = 28;
    cpu.reg.l = 125;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[43417] = 24;
    cpu.ram[43418] = 96;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 157);
    CHECK(cpu.reg.b == 2);
    CHECK(cpu.reg.c == 47);
    CHECK(cpu.reg.d == 111);
    CHECK(cpu.reg.e == 84);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 28);
    CHECK(cpu.reg.l == 125);
    CHECK(cpu.pc == 43515);
    CHECK(cpu.sp == 18694);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43417] == 24);
    REQUIRE(cpu.ram[43418] == 96);
}

TEST_CASE( "18 029F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11302;
    cpu.sp = 7312;
    cpu.reg.a = 176;
    cpu.reg.b = 4;
    cpu.reg.c = 175;
    cpu.reg.d = 169;
    cpu.reg.e = 127;
    cpu.reg.f = 48;
    cpu.reg.h = 205;
    cpu.reg.l = 50;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[11302] = 24;
    cpu.ram[11303] = 199;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 176);
    CHECK(cpu.reg.b == 4);
    CHECK(cpu.reg.c == 175);
    CHECK(cpu.reg.d == 169);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 205);
    CHECK(cpu.reg.l == 50);
    CHECK(cpu.pc == 11247);
    CHECK(cpu.sp == 7312);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11302] == 24);
    REQUIRE(cpu.ram[11303] == 199);
}

TEST_CASE( "18 02A0", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12357;
    cpu.sp = 18401;
    cpu.reg.a = 54;
    cpu.reg.b = 94;
    cpu.reg.c = 231;
    cpu.reg.d = 165;
    cpu.reg.e = 202;
    cpu.reg.f = 0;
    cpu.reg.h = 2;
    cpu.reg.l = 194;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[12357] = 24;
    cpu.ram[12358] = 40;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 54);
    CHECK(cpu.reg.b == 94);
    CHECK(cpu.reg.c == 231);
    CHECK(cpu.reg.d == 165);
    CHECK(cpu.reg.e == 202);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 2);
    CHECK(cpu.reg.l == 194);
    CHECK(cpu.pc == 12399);
    CHECK(cpu.sp == 18401);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[12357] == 24);
    REQUIRE(cpu.ram[12358] == 40);
}

TEST_CASE( "18 02A1", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7010;
    cpu.sp = 35536;
    cpu.reg.a = 115;
    cpu.reg.b = 125;
    cpu.reg.c = 40;
    cpu.reg.d = 127;
    cpu.reg.e = 111;
    cpu.reg.f = 96;
    cpu.reg.h = 205;
    cpu.reg.l = 19;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[7010] = 24;
    cpu.ram[7011] = 189;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 115);
    CHECK(cpu.reg.b == 125);
    CHECK(cpu.reg.c == 40);
    CHECK(cpu.reg.d == 127);
    CHECK(cpu.reg.e == 111);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 205);
    CHECK(cpu.reg.l == 19);
    CHECK(cpu.pc == 6945);
    CHECK(cpu.sp == 35536);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[7010] == 24);
    REQUIRE(cpu.ram[7011] == 189);
}

TEST_CASE( "18 02A2", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1848;
    cpu.sp = 6676;
    cpu.reg.a = 166;
    cpu.reg.b = 81;
    cpu.reg.c = 69;
    cpu.reg.d = 222;
    cpu.reg.e = 150;
    cpu.reg.f = 64;
    cpu.reg.h = 5;
    cpu.reg.l = 161;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1848] = 24;
    cpu.ram[1849] = 39;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 166);
    CHECK(cpu.reg.b == 81);
    CHECK(cpu.reg.c == 69);
    CHECK(cpu.reg.d == 222);
    CHECK(cpu.reg.e == 150);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 5);
    CHECK(cpu.reg.l == 161);
    CHECK(cpu.pc == 1889);
    CHECK(cpu.sp == 6676);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1848] == 24);
    REQUIRE(cpu.ram[1849] == 39);
}

TEST_CASE( "18 02A3", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54079;
    cpu.sp = 47208;
    cpu.reg.a = 59;
    cpu.reg.b = 145;
    cpu.reg.c = 34;
    cpu.reg.d = 98;
    cpu.reg.e = 112;
    cpu.reg.f = 32;
    cpu.reg.h = 4;
    cpu.reg.l = 2;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[54079] = 24;
    cpu.ram[54080] = 29;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 59);
    CHECK(cpu.reg.b == 145);
    CHECK(cpu.reg.c == 34);
    CHECK(cpu.reg.d == 98);
    CHECK(cpu.reg.e == 112);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 4);
    CHECK(cpu.reg.l == 2);
    CHECK(cpu.pc == 54110);
    CHECK(cpu.sp == 47208);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[54079] == 24);
    REQUIRE(cpu.ram[54080] == 29);
}

TEST_CASE( "18 02A4", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9989;
    cpu.sp = 11520;
    cpu.reg.a = 215;
    cpu.reg.b = 229;
    cpu.reg.c = 58;
    cpu.reg.d = 173;
    cpu.reg.e = 15;
    cpu.reg.f = 240;
    cpu.reg.h = 230;
    cpu.reg.l = 46;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[9989] = 24;
    cpu.ram[9990] = 27;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 215);
    CHECK(cpu.reg.b == 229);
    CHECK(cpu.reg.c == 58);
    CHECK(cpu.reg.d == 173);
    CHECK(cpu.reg.e == 15);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 230);
    CHECK(cpu.reg.l == 46);
    CHECK(cpu.pc == 10018);
    CHECK(cpu.sp == 11520);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9989] == 24);
    REQUIRE(cpu.ram[9990] == 27);
}

TEST_CASE( "18 02A5", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44614;
    cpu.sp = 21903;
    cpu.reg.a = 13;
    cpu.reg.b = 135;
    cpu.reg.c = 110;
    cpu.reg.d = 45;
    cpu.reg.e = 22;
    cpu.reg.f = 176;
    cpu.reg.h = 13;
    cpu.reg.l = 87;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[44614] = 24;
    cpu.ram[44615] = 231;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 13);
    CHECK(cpu.reg.b == 135);
    CHECK(cpu.reg.c == 110);
    CHECK(cpu.reg.d == 45);
    CHECK(cpu.reg.e == 22);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 13);
    CHECK(cpu.reg.l == 87);
    CHECK(cpu.pc == 44591);
    CHECK(cpu.sp == 21903);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44614] == 24);
    REQUIRE(cpu.ram[44615] == 231);
}

TEST_CASE( "18 02A6", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25057;
    cpu.sp = 5341;
    cpu.reg.a = 213;
    cpu.reg.b = 165;
    cpu.reg.c = 253;
    cpu.reg.d = 154;
    cpu.reg.e = 97;
    cpu.reg.f = 64;
    cpu.reg.h = 29;
    cpu.reg.l = 105;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[25057] = 24;
    cpu.ram[25058] = 21;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 213);
    CHECK(cpu.reg.b == 165);
    CHECK(cpu.reg.c == 253);
    CHECK(cpu.reg.d == 154);
    CHECK(cpu.reg.e == 97);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 29);
    CHECK(cpu.reg.l == 105);
    CHECK(cpu.pc == 25080);
    CHECK(cpu.sp == 5341);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25057] == 24);
    REQUIRE(cpu.ram[25058] == 21);
}

TEST_CASE( "18 02A7", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41320;
    cpu.sp = 46029;
    cpu.reg.a = 108;
    cpu.reg.b = 145;
    cpu.reg.c = 74;
    cpu.reg.d = 212;
    cpu.reg.e = 114;
    cpu.reg.f = 208;
    cpu.reg.h = 101;
    cpu.reg.l = 114;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[41320] = 24;
    cpu.ram[41321] = 82;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 108);
    CHECK(cpu.reg.b == 145);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 212);
    CHECK(cpu.reg.e == 114);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 101);
    CHECK(cpu.reg.l == 114);
    CHECK(cpu.pc == 41404);
    CHECK(cpu.sp == 46029);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41320] == 24);
    REQUIRE(cpu.ram[41321] == 82);
}

TEST_CASE( "18 02A8", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64642;
    cpu.sp = 32208;
    cpu.reg.a = 240;
    cpu.reg.b = 211;
    cpu.reg.c = 77;
    cpu.reg.d = 169;
    cpu.reg.e = 230;
    cpu.reg.f = 48;
    cpu.reg.h = 94;
    cpu.reg.l = 241;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[64642] = 24;
    cpu.ram[64643] = 119;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 240);
    CHECK(cpu.reg.b == 211);
    CHECK(cpu.reg.c == 77);
    CHECK(cpu.reg.d == 169);
    CHECK(cpu.reg.e == 230);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 94);
    CHECK(cpu.reg.l == 241);
    CHECK(cpu.pc == 64763);
    CHECK(cpu.sp == 32208);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[64642] == 24);
    REQUIRE(cpu.ram[64643] == 119);
}

TEST_CASE( "18 02A9", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27605;
    cpu.sp = 12864;
    cpu.reg.a = 116;
    cpu.reg.b = 84;
    cpu.reg.c = 22;
    cpu.reg.d = 100;
    cpu.reg.e = 24;
    cpu.reg.f = 176;
    cpu.reg.h = 77;
    cpu.reg.l = 46;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[27605] = 24;
    cpu.ram[27606] = 231;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 116);
    CHECK(cpu.reg.b == 84);
    CHECK(cpu.reg.c == 22);
    CHECK(cpu.reg.d == 100);
    CHECK(cpu.reg.e == 24);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 77);
    CHECK(cpu.reg.l == 46);
    CHECK(cpu.pc == 27582);
    CHECK(cpu.sp == 12864);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27605] == 24);
    REQUIRE(cpu.ram[27606] == 231);
}

TEST_CASE( "18 02AA", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16779;
    cpu.sp = 49429;
    cpu.reg.a = 1;
    cpu.reg.b = 159;
    cpu.reg.c = 166;
    cpu.reg.d = 14;
    cpu.reg.e = 238;
    cpu.reg.f = 208;
    cpu.reg.h = 118;
    cpu.reg.l = 43;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[16779] = 24;
    cpu.ram[16780] = 74;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 1);
    CHECK(cpu.reg.b == 159);
    CHECK(cpu.reg.c == 166);
    CHECK(cpu.reg.d == 14);
    CHECK(cpu.reg.e == 238);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 118);
    CHECK(cpu.reg.l == 43);
    CHECK(cpu.pc == 16855);
    CHECK(cpu.sp == 49429);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16779] == 24);
    REQUIRE(cpu.ram[16780] == 74);
}

TEST_CASE( "18 02AB", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24805;
    cpu.sp = 6352;
    cpu.reg.a = 168;
    cpu.reg.b = 60;
    cpu.reg.c = 72;
    cpu.reg.d = 84;
    cpu.reg.e = 188;
    cpu.reg.f = 112;
    cpu.reg.h = 34;
    cpu.reg.l = 104;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[24805] = 24;
    cpu.ram[24806] = 106;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 168);
    CHECK(cpu.reg.b == 60);
    CHECK(cpu.reg.c == 72);
    CHECK(cpu.reg.d == 84);
    CHECK(cpu.reg.e == 188);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 34);
    CHECK(cpu.reg.l == 104);
    CHECK(cpu.pc == 24913);
    CHECK(cpu.sp == 6352);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24805] == 24);
    REQUIRE(cpu.ram[24806] == 106);
}

TEST_CASE( "18 02AC", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29304;
    cpu.sp = 17554;
    cpu.reg.a = 99;
    cpu.reg.b = 50;
    cpu.reg.c = 66;
    cpu.reg.d = 57;
    cpu.reg.e = 235;
    cpu.reg.f = 48;
    cpu.reg.h = 87;
    cpu.reg.l = 29;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[29304] = 24;
    cpu.ram[29305] = 74;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 99);
    CHECK(cpu.reg.b == 50);
    CHECK(cpu.reg.c == 66);
    CHECK(cpu.reg.d == 57);
    CHECK(cpu.reg.e == 235);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 87);
    CHECK(cpu.reg.l == 29);
    CHECK(cpu.pc == 29380);
    CHECK(cpu.sp == 17554);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29304] == 24);
    REQUIRE(cpu.ram[29305] == 74);
}

TEST_CASE( "18 02AD", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40099;
    cpu.sp = 26737;
    cpu.reg.a = 96;
    cpu.reg.b = 184;
    cpu.reg.c = 31;
    cpu.reg.d = 92;
    cpu.reg.e = 237;
    cpu.reg.f = 0;
    cpu.reg.h = 131;
    cpu.reg.l = 161;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[40099] = 24;
    cpu.ram[40100] = 84;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 96);
    CHECK(cpu.reg.b == 184);
    CHECK(cpu.reg.c == 31);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 237);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 131);
    CHECK(cpu.reg.l == 161);
    CHECK(cpu.pc == 40185);
    CHECK(cpu.sp == 26737);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40099] == 24);
    REQUIRE(cpu.ram[40100] == 84);
}

TEST_CASE( "18 02AE", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49453;
    cpu.sp = 42906;
    cpu.reg.a = 172;
    cpu.reg.b = 65;
    cpu.reg.c = 0;
    cpu.reg.d = 21;
    cpu.reg.e = 147;
    cpu.reg.f = 144;
    cpu.reg.h = 144;
    cpu.reg.l = 31;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[49453] = 24;
    cpu.ram[49454] = 168;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 172);
    CHECK(cpu.reg.b == 65);
    CHECK(cpu.reg.c == 0);
    CHECK(cpu.reg.d == 21);
    CHECK(cpu.reg.e == 147);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 144);
    CHECK(cpu.reg.l == 31);
    CHECK(cpu.pc == 49367);
    CHECK(cpu.sp == 42906);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[49453] == 24);
    REQUIRE(cpu.ram[49454] == 168);
}

TEST_CASE( "18 02AF", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45533;
    cpu.sp = 36410;
    cpu.reg.a = 148;
    cpu.reg.b = 21;
    cpu.reg.c = 200;
    cpu.reg.d = 180;
    cpu.reg.e = 207;
    cpu.reg.f = 240;
    cpu.reg.h = 158;
    cpu.reg.l = 247;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[45533] = 24;
    cpu.ram[45534] = 133;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 148);
    CHECK(cpu.reg.b == 21);
    CHECK(cpu.reg.c == 200);
    CHECK(cpu.reg.d == 180);
    CHECK(cpu.reg.e == 207);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 158);
    CHECK(cpu.reg.l == 247);
    CHECK(cpu.pc == 45412);
    CHECK(cpu.sp == 36410);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45533] == 24);
    REQUIRE(cpu.ram[45534] == 133);
}

TEST_CASE( "18 02B0", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38285;
    cpu.sp = 8833;
    cpu.reg.a = 34;
    cpu.reg.b = 15;
    cpu.reg.c = 179;
    cpu.reg.d = 136;
    cpu.reg.e = 108;
    cpu.reg.f = 208;
    cpu.reg.h = 5;
    cpu.reg.l = 216;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[38285] = 24;
    cpu.ram[38286] = 237;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 34);
    CHECK(cpu.reg.b == 15);
    CHECK(cpu.reg.c == 179);
    CHECK(cpu.reg.d == 136);
    CHECK(cpu.reg.e == 108);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 5);
    CHECK(cpu.reg.l == 216);
    CHECK(cpu.pc == 38268);
    CHECK(cpu.sp == 8833);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38285] == 24);
    REQUIRE(cpu.ram[38286] == 237);
}

TEST_CASE( "18 02B1", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 53432;
    cpu.sp = 41379;
    cpu.reg.a = 208;
    cpu.reg.b = 62;
    cpu.reg.c = 120;
    cpu.reg.d = 208;
    cpu.reg.e = 255;
    cpu.reg.f = 160;
    cpu.reg.h = 24;
    cpu.reg.l = 42;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[53432] = 24;
    cpu.ram[53433] = 166;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 208);
    CHECK(cpu.reg.b == 62);
    CHECK(cpu.reg.c == 120);
    CHECK(cpu.reg.d == 208);
    CHECK(cpu.reg.e == 255);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 24);
    CHECK(cpu.reg.l == 42);
    CHECK(cpu.pc == 53344);
    CHECK(cpu.sp == 41379);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[53432] == 24);
    REQUIRE(cpu.ram[53433] == 166);
}

TEST_CASE( "18 02B2", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22645;
    cpu.sp = 45250;
    cpu.reg.a = 15;
    cpu.reg.b = 243;
    cpu.reg.c = 135;
    cpu.reg.d = 24;
    cpu.reg.e = 207;
    cpu.reg.f = 208;
    cpu.reg.h = 70;
    cpu.reg.l = 42;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[22645] = 24;
    cpu.ram[22646] = 190;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 15);
    CHECK(cpu.reg.b == 243);
    CHECK(cpu.reg.c == 135);
    CHECK(cpu.reg.d == 24);
    CHECK(cpu.reg.e == 207);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 70);
    CHECK(cpu.reg.l == 42);
    CHECK(cpu.pc == 22581);
    CHECK(cpu.sp == 45250);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22645] == 24);
    REQUIRE(cpu.ram[22646] == 190);
}

TEST_CASE( "18 02B3", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61415;
    cpu.sp = 45048;
    cpu.reg.a = 32;
    cpu.reg.b = 120;
    cpu.reg.c = 57;
    cpu.reg.d = 154;
    cpu.reg.e = 198;
    cpu.reg.f = 192;
    cpu.reg.h = 202;
    cpu.reg.l = 65;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[61415] = 24;
    cpu.ram[61416] = 43;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 32);
    CHECK(cpu.reg.b == 120);
    CHECK(cpu.reg.c == 57);
    CHECK(cpu.reg.d == 154);
    CHECK(cpu.reg.e == 198);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 202);
    CHECK(cpu.reg.l == 65);
    CHECK(cpu.pc == 61460);
    CHECK(cpu.sp == 45048);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61415] == 24);
    REQUIRE(cpu.ram[61416] == 43);
}

TEST_CASE( "18 02B4", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42169;
    cpu.sp = 53926;
    cpu.reg.a = 220;
    cpu.reg.b = 28;
    cpu.reg.c = 94;
    cpu.reg.d = 41;
    cpu.reg.e = 116;
    cpu.reg.f = 32;
    cpu.reg.h = 75;
    cpu.reg.l = 192;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[42169] = 24;
    cpu.ram[42170] = 115;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 220);
    CHECK(cpu.reg.b == 28);
    CHECK(cpu.reg.c == 94);
    CHECK(cpu.reg.d == 41);
    CHECK(cpu.reg.e == 116);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 75);
    CHECK(cpu.reg.l == 192);
    CHECK(cpu.pc == 42286);
    CHECK(cpu.sp == 53926);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[42169] == 24);
    REQUIRE(cpu.ram[42170] == 115);
}

TEST_CASE( "18 02B5", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22371;
    cpu.sp = 11177;
    cpu.reg.a = 197;
    cpu.reg.b = 13;
    cpu.reg.c = 212;
    cpu.reg.d = 96;
    cpu.reg.e = 231;
    cpu.reg.f = 160;
    cpu.reg.h = 160;
    cpu.reg.l = 108;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[22371] = 24;
    cpu.ram[22372] = 131;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 197);
    CHECK(cpu.reg.b == 13);
    CHECK(cpu.reg.c == 212);
    CHECK(cpu.reg.d == 96);
    CHECK(cpu.reg.e == 231);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 160);
    CHECK(cpu.reg.l == 108);
    CHECK(cpu.pc == 22248);
    CHECK(cpu.sp == 11177);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22371] == 24);
    REQUIRE(cpu.ram[22372] == 131);
}

TEST_CASE( "18 02B6", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24347;
    cpu.sp = 1698;
    cpu.reg.a = 109;
    cpu.reg.b = 81;
    cpu.reg.c = 253;
    cpu.reg.d = 230;
    cpu.reg.e = 185;
    cpu.reg.f = 208;
    cpu.reg.h = 231;
    cpu.reg.l = 70;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[24347] = 24;
    cpu.ram[24348] = 11;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 109);
    CHECK(cpu.reg.b == 81);
    CHECK(cpu.reg.c == 253);
    CHECK(cpu.reg.d == 230);
    CHECK(cpu.reg.e == 185);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 231);
    CHECK(cpu.reg.l == 70);
    CHECK(cpu.pc == 24360);
    CHECK(cpu.sp == 1698);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24347] == 24);
    REQUIRE(cpu.ram[24348] == 11);
}

TEST_CASE( "18 02B7", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 301;
    cpu.sp = 11218;
    cpu.reg.a = 137;
    cpu.reg.b = 236;
    cpu.reg.c = 49;
    cpu.reg.d = 152;
    cpu.reg.e = 19;
    cpu.reg.f = 192;
    cpu.reg.h = 134;
    cpu.reg.l = 168;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[301] = 24;
    cpu.ram[302] = 239;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 137);
    CHECK(cpu.reg.b == 236);
    CHECK(cpu.reg.c == 49);
    CHECK(cpu.reg.d == 152);
    CHECK(cpu.reg.e == 19);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 134);
    CHECK(cpu.reg.l == 168);
    CHECK(cpu.pc == 286);
    CHECK(cpu.sp == 11218);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[301] == 24);
    REQUIRE(cpu.ram[302] == 239);
}

TEST_CASE( "18 02B8", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14436;
    cpu.sp = 4010;
    cpu.reg.a = 33;
    cpu.reg.b = 170;
    cpu.reg.c = 160;
    cpu.reg.d = 156;
    cpu.reg.e = 229;
    cpu.reg.f = 96;
    cpu.reg.h = 192;
    cpu.reg.l = 246;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[14436] = 24;
    cpu.ram[14437] = 97;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 33);
    CHECK(cpu.reg.b == 170);
    CHECK(cpu.reg.c == 160);
    CHECK(cpu.reg.d == 156);
    CHECK(cpu.reg.e == 229);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 192);
    CHECK(cpu.reg.l == 246);
    CHECK(cpu.pc == 14535);
    CHECK(cpu.sp == 4010);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14436] == 24);
    REQUIRE(cpu.ram[14437] == 97);
}

TEST_CASE( "18 02B9", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 515;
    cpu.sp = 36789;
    cpu.reg.a = 251;
    cpu.reg.b = 169;
    cpu.reg.c = 136;
    cpu.reg.d = 218;
    cpu.reg.e = 48;
    cpu.reg.f = 240;
    cpu.reg.h = 19;
    cpu.reg.l = 78;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[515] = 24;
    cpu.ram[516] = 172;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 251);
    CHECK(cpu.reg.b == 169);
    CHECK(cpu.reg.c == 136);
    CHECK(cpu.reg.d == 218);
    CHECK(cpu.reg.e == 48);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 19);
    CHECK(cpu.reg.l == 78);
    CHECK(cpu.pc == 433);
    CHECK(cpu.sp == 36789);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[515] == 24);
    REQUIRE(cpu.ram[516] == 172);
}

TEST_CASE( "18 02BA", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36581;
    cpu.sp = 58400;
    cpu.reg.a = 5;
    cpu.reg.b = 215;
    cpu.reg.c = 12;
    cpu.reg.d = 182;
    cpu.reg.e = 116;
    cpu.reg.f = 144;
    cpu.reg.h = 130;
    cpu.reg.l = 215;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[36581] = 24;
    cpu.ram[36582] = 124;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 5);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 12);
    CHECK(cpu.reg.d == 182);
    CHECK(cpu.reg.e == 116);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 130);
    CHECK(cpu.reg.l == 215);
    CHECK(cpu.pc == 36707);
    CHECK(cpu.sp == 58400);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36581] == 24);
    REQUIRE(cpu.ram[36582] == 124);
}

TEST_CASE( "18 02BB", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26617;
    cpu.sp = 43917;
    cpu.reg.a = 72;
    cpu.reg.b = 76;
    cpu.reg.c = 99;
    cpu.reg.d = 81;
    cpu.reg.e = 187;
    cpu.reg.f = 0;
    cpu.reg.h = 189;
    cpu.reg.l = 216;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26617] = 24;
    cpu.ram[26618] = 113;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 72);
    CHECK(cpu.reg.b == 76);
    CHECK(cpu.reg.c == 99);
    CHECK(cpu.reg.d == 81);
    CHECK(cpu.reg.e == 187);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 189);
    CHECK(cpu.reg.l == 216);
    CHECK(cpu.pc == 26732);
    CHECK(cpu.sp == 43917);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26617] == 24);
    REQUIRE(cpu.ram[26618] == 113);
}

TEST_CASE( "18 02BC", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6667;
    cpu.sp = 15507;
    cpu.reg.a = 64;
    cpu.reg.b = 215;
    cpu.reg.c = 30;
    cpu.reg.d = 22;
    cpu.reg.e = 13;
    cpu.reg.f = 208;
    cpu.reg.h = 141;
    cpu.reg.l = 58;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[6667] = 24;
    cpu.ram[6668] = 209;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 64);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 30);
    CHECK(cpu.reg.d == 22);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 141);
    CHECK(cpu.reg.l == 58);
    CHECK(cpu.pc == 6622);
    CHECK(cpu.sp == 15507);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6667] == 24);
    REQUIRE(cpu.ram[6668] == 209);
}

TEST_CASE( "18 02BD", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30570;
    cpu.sp = 60094;
    cpu.reg.a = 48;
    cpu.reg.b = 180;
    cpu.reg.c = 124;
    cpu.reg.d = 12;
    cpu.reg.e = 81;
    cpu.reg.f = 208;
    cpu.reg.h = 59;
    cpu.reg.l = 248;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[30570] = 24;
    cpu.ram[30571] = 23;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 48);
    CHECK(cpu.reg.b == 180);
    CHECK(cpu.reg.c == 124);
    CHECK(cpu.reg.d == 12);
    CHECK(cpu.reg.e == 81);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 59);
    CHECK(cpu.reg.l == 248);
    CHECK(cpu.pc == 30595);
    CHECK(cpu.sp == 60094);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30570] == 24);
    REQUIRE(cpu.ram[30571] == 23);
}

TEST_CASE( "18 02BE", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28278;
    cpu.sp = 60150;
    cpu.reg.a = 160;
    cpu.reg.b = 84;
    cpu.reg.c = 49;
    cpu.reg.d = 232;
    cpu.reg.e = 38;
    cpu.reg.f = 192;
    cpu.reg.h = 190;
    cpu.reg.l = 125;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[28278] = 24;
    cpu.ram[28279] = 189;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 160);
    CHECK(cpu.reg.b == 84);
    CHECK(cpu.reg.c == 49);
    CHECK(cpu.reg.d == 232);
    CHECK(cpu.reg.e == 38);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 190);
    CHECK(cpu.reg.l == 125);
    CHECK(cpu.pc == 28213);
    CHECK(cpu.sp == 60150);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28278] == 24);
    REQUIRE(cpu.ram[28279] == 189);
}

TEST_CASE( "18 02BF", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3283;
    cpu.sp = 18379;
    cpu.reg.a = 131;
    cpu.reg.b = 245;
    cpu.reg.c = 124;
    cpu.reg.d = 74;
    cpu.reg.e = 86;
    cpu.reg.f = 48;
    cpu.reg.h = 144;
    cpu.reg.l = 217;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[3283] = 24;
    cpu.ram[3284] = 244;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 131);
    CHECK(cpu.reg.b == 245);
    CHECK(cpu.reg.c == 124);
    CHECK(cpu.reg.d == 74);
    CHECK(cpu.reg.e == 86);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 144);
    CHECK(cpu.reg.l == 217);
    CHECK(cpu.pc == 3273);
    CHECK(cpu.sp == 18379);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3283] == 24);
    REQUIRE(cpu.ram[3284] == 244);
}

TEST_CASE( "18 02C0", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41713;
    cpu.sp = 42835;
    cpu.reg.a = 54;
    cpu.reg.b = 255;
    cpu.reg.c = 228;
    cpu.reg.d = 193;
    cpu.reg.e = 12;
    cpu.reg.f = 32;
    cpu.reg.h = 28;
    cpu.reg.l = 187;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[41713] = 24;
    cpu.ram[41714] = 66;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 54);
    CHECK(cpu.reg.b == 255);
    CHECK(cpu.reg.c == 228);
    CHECK(cpu.reg.d == 193);
    CHECK(cpu.reg.e == 12);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 28);
    CHECK(cpu.reg.l == 187);
    CHECK(cpu.pc == 41781);
    CHECK(cpu.sp == 42835);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41713] == 24);
    REQUIRE(cpu.ram[41714] == 66);
}

TEST_CASE( "18 02C1", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31099;
    cpu.sp = 23542;
    cpu.reg.a = 122;
    cpu.reg.b = 161;
    cpu.reg.c = 179;
    cpu.reg.d = 77;
    cpu.reg.e = 144;
    cpu.reg.f = 96;
    cpu.reg.h = 24;
    cpu.reg.l = 23;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[31099] = 24;
    cpu.ram[31100] = 18;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 122);
    CHECK(cpu.reg.b == 161);
    CHECK(cpu.reg.c == 179);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 144);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 24);
    CHECK(cpu.reg.l == 23);
    CHECK(cpu.pc == 31119);
    CHECK(cpu.sp == 23542);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31099] == 24);
    REQUIRE(cpu.ram[31100] == 18);
}

TEST_CASE( "18 02C2", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40307;
    cpu.sp = 53659;
    cpu.reg.a = 75;
    cpu.reg.b = 135;
    cpu.reg.c = 252;
    cpu.reg.d = 182;
    cpu.reg.e = 49;
    cpu.reg.f = 128;
    cpu.reg.h = 18;
    cpu.reg.l = 233;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[40307] = 24;
    cpu.ram[40308] = 229;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 75);
    CHECK(cpu.reg.b == 135);
    CHECK(cpu.reg.c == 252);
    CHECK(cpu.reg.d == 182);
    CHECK(cpu.reg.e == 49);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 18);
    CHECK(cpu.reg.l == 233);
    CHECK(cpu.pc == 40282);
    CHECK(cpu.sp == 53659);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40307] == 24);
    REQUIRE(cpu.ram[40308] == 229);
}

TEST_CASE( "18 02C3", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30294;
    cpu.sp = 2120;
    cpu.reg.a = 115;
    cpu.reg.b = 131;
    cpu.reg.c = 115;
    cpu.reg.d = 23;
    cpu.reg.e = 90;
    cpu.reg.f = 112;
    cpu.reg.h = 7;
    cpu.reg.l = 7;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[30294] = 24;
    cpu.ram[30295] = 3;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 115);
    CHECK(cpu.reg.b == 131);
    CHECK(cpu.reg.c == 115);
    CHECK(cpu.reg.d == 23);
    CHECK(cpu.reg.e == 90);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 7);
    CHECK(cpu.reg.l == 7);
    CHECK(cpu.pc == 30299);
    CHECK(cpu.sp == 2120);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[30294] == 24);
    REQUIRE(cpu.ram[30295] == 3);
}

TEST_CASE( "18 02C4", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1085;
    cpu.sp = 5286;
    cpu.reg.a = 119;
    cpu.reg.b = 20;
    cpu.reg.c = 253;
    cpu.reg.d = 117;
    cpu.reg.e = 104;
    cpu.reg.f = 32;
    cpu.reg.h = 112;
    cpu.reg.l = 141;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1085] = 24;
    cpu.ram[1086] = 136;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 119);
    CHECK(cpu.reg.b == 20);
    CHECK(cpu.reg.c == 253);
    CHECK(cpu.reg.d == 117);
    CHECK(cpu.reg.e == 104);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 112);
    CHECK(cpu.reg.l == 141);
    CHECK(cpu.pc == 967);
    CHECK(cpu.sp == 5286);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1085] == 24);
    REQUIRE(cpu.ram[1086] == 136);
}

TEST_CASE( "18 02C5", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17105;
    cpu.sp = 9681;
    cpu.reg.a = 88;
    cpu.reg.b = 7;
    cpu.reg.c = 84;
    cpu.reg.d = 1;
    cpu.reg.e = 177;
    cpu.reg.f = 176;
    cpu.reg.h = 17;
    cpu.reg.l = 103;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[17105] = 24;
    cpu.ram[17106] = 211;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 88);
    CHECK(cpu.reg.b == 7);
    CHECK(cpu.reg.c == 84);
    CHECK(cpu.reg.d == 1);
    CHECK(cpu.reg.e == 177);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 103);
    CHECK(cpu.pc == 17062);
    CHECK(cpu.sp == 9681);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17105] == 24);
    REQUIRE(cpu.ram[17106] == 211);
}

TEST_CASE( "18 02C6", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15882;
    cpu.sp = 10396;
    cpu.reg.a = 37;
    cpu.reg.b = 248;
    cpu.reg.c = 8;
    cpu.reg.d = 231;
    cpu.reg.e = 122;
    cpu.reg.f = 240;
    cpu.reg.h = 94;
    cpu.reg.l = 97;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[15882] = 24;
    cpu.ram[15883] = 90;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 37);
    CHECK(cpu.reg.b == 248);
    CHECK(cpu.reg.c == 8);
    CHECK(cpu.reg.d == 231);
    CHECK(cpu.reg.e == 122);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 94);
    CHECK(cpu.reg.l == 97);
    CHECK(cpu.pc == 15974);
    CHECK(cpu.sp == 10396);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15882] == 24);
    REQUIRE(cpu.ram[15883] == 90);
}

TEST_CASE( "18 02C7", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43269;
    cpu.sp = 27125;
    cpu.reg.a = 213;
    cpu.reg.b = 9;
    cpu.reg.c = 52;
    cpu.reg.d = 187;
    cpu.reg.e = 53;
    cpu.reg.f = 176;
    cpu.reg.h = 100;
    cpu.reg.l = 80;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[43269] = 24;
    cpu.ram[43270] = 114;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 213);
    CHECK(cpu.reg.b == 9);
    CHECK(cpu.reg.c == 52);
    CHECK(cpu.reg.d == 187);
    CHECK(cpu.reg.e == 53);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 100);
    CHECK(cpu.reg.l == 80);
    CHECK(cpu.pc == 43385);
    CHECK(cpu.sp == 27125);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43269] == 24);
    REQUIRE(cpu.ram[43270] == 114);
}

TEST_CASE( "18 02C8", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64459;
    cpu.sp = 31295;
    cpu.reg.a = 69;
    cpu.reg.b = 126;
    cpu.reg.c = 246;
    cpu.reg.d = 168;
    cpu.reg.e = 158;
    cpu.reg.f = 96;
    cpu.reg.h = 151;
    cpu.reg.l = 104;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[64459] = 24;
    cpu.ram[64460] = 98;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 69);
    CHECK(cpu.reg.b == 126);
    CHECK(cpu.reg.c == 246);
    CHECK(cpu.reg.d == 168);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 151);
    CHECK(cpu.reg.l == 104);
    CHECK(cpu.pc == 64559);
    CHECK(cpu.sp == 31295);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64459] == 24);
    REQUIRE(cpu.ram[64460] == 98);
}

TEST_CASE( "18 02C9", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43272;
    cpu.sp = 39436;
    cpu.reg.a = 241;
    cpu.reg.b = 249;
    cpu.reg.c = 167;
    cpu.reg.d = 12;
    cpu.reg.e = 95;
    cpu.reg.f = 0;
    cpu.reg.h = 92;
    cpu.reg.l = 4;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[43272] = 24;
    cpu.ram[43273] = 45;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 241);
    CHECK(cpu.reg.b == 249);
    CHECK(cpu.reg.c == 167);
    CHECK(cpu.reg.d == 12);
    CHECK(cpu.reg.e == 95);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 92);
    CHECK(cpu.reg.l == 4);
    CHECK(cpu.pc == 43319);
    CHECK(cpu.sp == 39436);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43272] == 24);
    REQUIRE(cpu.ram[43273] == 45);
}

TEST_CASE( "18 02CA", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60602;
    cpu.sp = 44036;
    cpu.reg.a = 27;
    cpu.reg.b = 8;
    cpu.reg.c = 40;
    cpu.reg.d = 70;
    cpu.reg.e = 93;
    cpu.reg.f = 208;
    cpu.reg.h = 206;
    cpu.reg.l = 120;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[60602] = 24;
    cpu.ram[60603] = 90;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 27);
    CHECK(cpu.reg.b == 8);
    CHECK(cpu.reg.c == 40);
    CHECK(cpu.reg.d == 70);
    CHECK(cpu.reg.e == 93);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 206);
    CHECK(cpu.reg.l == 120);
    CHECK(cpu.pc == 60694);
    CHECK(cpu.sp == 44036);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[60602] == 24);
    REQUIRE(cpu.ram[60603] == 90);
}

TEST_CASE( "18 02CB", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7093;
    cpu.sp = 8043;
    cpu.reg.a = 186;
    cpu.reg.b = 129;
    cpu.reg.c = 220;
    cpu.reg.d = 161;
    cpu.reg.e = 221;
    cpu.reg.f = 192;
    cpu.reg.h = 221;
    cpu.reg.l = 196;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[7093] = 24;
    cpu.ram[7094] = 37;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 186);
    CHECK(cpu.reg.b == 129);
    CHECK(cpu.reg.c == 220);
    CHECK(cpu.reg.d == 161);
    CHECK(cpu.reg.e == 221);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 221);
    CHECK(cpu.reg.l == 196);
    CHECK(cpu.pc == 7132);
    CHECK(cpu.sp == 8043);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7093] == 24);
    REQUIRE(cpu.ram[7094] == 37);
}

TEST_CASE( "18 02CC", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50651;
    cpu.sp = 53800;
    cpu.reg.a = 0;
    cpu.reg.b = 243;
    cpu.reg.c = 154;
    cpu.reg.d = 249;
    cpu.reg.e = 92;
    cpu.reg.f = 176;
    cpu.reg.h = 29;
    cpu.reg.l = 0;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[50651] = 24;
    cpu.ram[50652] = 244;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 0);
    CHECK(cpu.reg.b == 243);
    CHECK(cpu.reg.c == 154);
    CHECK(cpu.reg.d == 249);
    CHECK(cpu.reg.e == 92);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 29);
    CHECK(cpu.reg.l == 0);
    CHECK(cpu.pc == 50641);
    CHECK(cpu.sp == 53800);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[50651] == 24);
    REQUIRE(cpu.ram[50652] == 244);
}

TEST_CASE( "18 02CD", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30317;
    cpu.sp = 11476;
    cpu.reg.a = 1;
    cpu.reg.b = 44;
    cpu.reg.c = 131;
    cpu.reg.d = 6;
    cpu.reg.e = 173;
    cpu.reg.f = 48;
    cpu.reg.h = 107;
    cpu.reg.l = 26;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[30317] = 24;
    cpu.ram[30318] = 181;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 1);
    CHECK(cpu.reg.b == 44);
    CHECK(cpu.reg.c == 131);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 173);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 107);
    CHECK(cpu.reg.l == 26);
    CHECK(cpu.pc == 30244);
    CHECK(cpu.sp == 11476);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30317] == 24);
    REQUIRE(cpu.ram[30318] == 181);
}

TEST_CASE( "18 02CE", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10478;
    cpu.sp = 32809;
    cpu.reg.a = 117;
    cpu.reg.b = 127;
    cpu.reg.c = 135;
    cpu.reg.d = 11;
    cpu.reg.e = 225;
    cpu.reg.f = 112;
    cpu.reg.h = 66;
    cpu.reg.l = 234;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[10478] = 24;
    cpu.ram[10479] = 201;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 117);
    CHECK(cpu.reg.b == 127);
    CHECK(cpu.reg.c == 135);
    CHECK(cpu.reg.d == 11);
    CHECK(cpu.reg.e == 225);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 66);
    CHECK(cpu.reg.l == 234);
    CHECK(cpu.pc == 10425);
    CHECK(cpu.sp == 32809);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10478] == 24);
    REQUIRE(cpu.ram[10479] == 201);
}

TEST_CASE( "18 02CF", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48860;
    cpu.sp = 39892;
    cpu.reg.a = 254;
    cpu.reg.b = 216;
    cpu.reg.c = 207;
    cpu.reg.d = 158;
    cpu.reg.e = 238;
    cpu.reg.f = 0;
    cpu.reg.h = 114;
    cpu.reg.l = 220;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[48860] = 24;
    cpu.ram[48861] = 100;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 216);
    CHECK(cpu.reg.c == 207);
    CHECK(cpu.reg.d == 158);
    CHECK(cpu.reg.e == 238);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 114);
    CHECK(cpu.reg.l == 220);
    CHECK(cpu.pc == 48962);
    CHECK(cpu.sp == 39892);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[48860] == 24);
    REQUIRE(cpu.ram[48861] == 100);
}

TEST_CASE( "18 02D0", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10418;
    cpu.sp = 64598;
    cpu.reg.a = 149;
    cpu.reg.b = 158;
    cpu.reg.c = 150;
    cpu.reg.d = 166;
    cpu.reg.e = 233;
    cpu.reg.f = 16;
    cpu.reg.h = 41;
    cpu.reg.l = 4;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[10418] = 24;
    cpu.ram[10419] = 85;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 149);
    CHECK(cpu.reg.b == 158);
    CHECK(cpu.reg.c == 150);
    CHECK(cpu.reg.d == 166);
    CHECK(cpu.reg.e == 233);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 41);
    CHECK(cpu.reg.l == 4);
    CHECK(cpu.pc == 10505);
    CHECK(cpu.sp == 64598);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10418] == 24);
    REQUIRE(cpu.ram[10419] == 85);
}

TEST_CASE( "18 02D1", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46771;
    cpu.sp = 39254;
    cpu.reg.a = 110;
    cpu.reg.b = 93;
    cpu.reg.c = 61;
    cpu.reg.d = 161;
    cpu.reg.e = 243;
    cpu.reg.f = 0;
    cpu.reg.h = 166;
    cpu.reg.l = 30;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[46771] = 24;
    cpu.ram[46772] = 21;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 110);
    CHECK(cpu.reg.b == 93);
    CHECK(cpu.reg.c == 61);
    CHECK(cpu.reg.d == 161);
    CHECK(cpu.reg.e == 243);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 166);
    CHECK(cpu.reg.l == 30);
    CHECK(cpu.pc == 46794);
    CHECK(cpu.sp == 39254);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[46771] == 24);
    REQUIRE(cpu.ram[46772] == 21);
}

TEST_CASE( "18 02D2", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15402;
    cpu.sp = 34366;
    cpu.reg.a = 114;
    cpu.reg.b = 60;
    cpu.reg.c = 42;
    cpu.reg.d = 188;
    cpu.reg.e = 85;
    cpu.reg.f = 112;
    cpu.reg.h = 165;
    cpu.reg.l = 46;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[15402] = 24;
    cpu.ram[15403] = 239;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 114);
    CHECK(cpu.reg.b == 60);
    CHECK(cpu.reg.c == 42);
    CHECK(cpu.reg.d == 188);
    CHECK(cpu.reg.e == 85);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 165);
    CHECK(cpu.reg.l == 46);
    CHECK(cpu.pc == 15387);
    CHECK(cpu.sp == 34366);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15402] == 24);
    REQUIRE(cpu.ram[15403] == 239);
}

TEST_CASE( "18 02D3", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64846;
    cpu.sp = 9897;
    cpu.reg.a = 131;
    cpu.reg.b = 84;
    cpu.reg.c = 23;
    cpu.reg.d = 192;
    cpu.reg.e = 199;
    cpu.reg.f = 112;
    cpu.reg.h = 215;
    cpu.reg.l = 130;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[64846] = 24;
    cpu.ram[64847] = 28;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 131);
    CHECK(cpu.reg.b == 84);
    CHECK(cpu.reg.c == 23);
    CHECK(cpu.reg.d == 192);
    CHECK(cpu.reg.e == 199);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 215);
    CHECK(cpu.reg.l == 130);
    CHECK(cpu.pc == 64876);
    CHECK(cpu.sp == 9897);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[64846] == 24);
    REQUIRE(cpu.ram[64847] == 28);
}

TEST_CASE( "18 02D4", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10738;
    cpu.sp = 22171;
    cpu.reg.a = 209;
    cpu.reg.b = 200;
    cpu.reg.c = 191;
    cpu.reg.d = 6;
    cpu.reg.e = 49;
    cpu.reg.f = 16;
    cpu.reg.h = 177;
    cpu.reg.l = 170;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[10738] = 24;
    cpu.ram[10739] = 105;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 209);
    CHECK(cpu.reg.b == 200);
    CHECK(cpu.reg.c == 191);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 49);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 177);
    CHECK(cpu.reg.l == 170);
    CHECK(cpu.pc == 10845);
    CHECK(cpu.sp == 22171);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10738] == 24);
    REQUIRE(cpu.ram[10739] == 105);
}

TEST_CASE( "18 02D5", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33117;
    cpu.sp = 32844;
    cpu.reg.a = 96;
    cpu.reg.b = 218;
    cpu.reg.c = 173;
    cpu.reg.d = 107;
    cpu.reg.e = 19;
    cpu.reg.f = 128;
    cpu.reg.h = 175;
    cpu.reg.l = 194;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[33117] = 24;
    cpu.ram[33118] = 87;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 96);
    CHECK(cpu.reg.b == 218);
    CHECK(cpu.reg.c == 173);
    CHECK(cpu.reg.d == 107);
    CHECK(cpu.reg.e == 19);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 175);
    CHECK(cpu.reg.l == 194);
    CHECK(cpu.pc == 33206);
    CHECK(cpu.sp == 32844);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33117] == 24);
    REQUIRE(cpu.ram[33118] == 87);
}

TEST_CASE( "18 02D6", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17394;
    cpu.sp = 41935;
    cpu.reg.a = 245;
    cpu.reg.b = 220;
    cpu.reg.c = 109;
    cpu.reg.d = 218;
    cpu.reg.e = 57;
    cpu.reg.f = 96;
    cpu.reg.h = 249;
    cpu.reg.l = 16;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[17394] = 24;
    cpu.ram[17395] = 237;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 245);
    CHECK(cpu.reg.b == 220);
    CHECK(cpu.reg.c == 109);
    CHECK(cpu.reg.d == 218);
    CHECK(cpu.reg.e == 57);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 249);
    CHECK(cpu.reg.l == 16);
    CHECK(cpu.pc == 17377);
    CHECK(cpu.sp == 41935);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17394] == 24);
    REQUIRE(cpu.ram[17395] == 237);
}

TEST_CASE( "18 02D7", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12819;
    cpu.sp = 44147;
    cpu.reg.a = 215;
    cpu.reg.b = 118;
    cpu.reg.c = 194;
    cpu.reg.d = 251;
    cpu.reg.e = 232;
    cpu.reg.f = 32;
    cpu.reg.h = 127;
    cpu.reg.l = 147;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[12819] = 24;
    cpu.ram[12820] = 123;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 215);
    CHECK(cpu.reg.b == 118);
    CHECK(cpu.reg.c == 194);
    CHECK(cpu.reg.d == 251);
    CHECK(cpu.reg.e == 232);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 127);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 12944);
    CHECK(cpu.sp == 44147);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12819] == 24);
    REQUIRE(cpu.ram[12820] == 123);
}

TEST_CASE( "18 02D8", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1300;
    cpu.sp = 17357;
    cpu.reg.a = 152;
    cpu.reg.b = 181;
    cpu.reg.c = 18;
    cpu.reg.d = 47;
    cpu.reg.e = 43;
    cpu.reg.f = 32;
    cpu.reg.h = 114;
    cpu.reg.l = 98;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[1300] = 24;
    cpu.ram[1301] = 226;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 152);
    CHECK(cpu.reg.b == 181);
    CHECK(cpu.reg.c == 18);
    CHECK(cpu.reg.d == 47);
    CHECK(cpu.reg.e == 43);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 114);
    CHECK(cpu.reg.l == 98);
    CHECK(cpu.pc == 1272);
    CHECK(cpu.sp == 17357);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1300] == 24);
    REQUIRE(cpu.ram[1301] == 226);
}

TEST_CASE( "18 02D9", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19897;
    cpu.sp = 17165;
    cpu.reg.a = 99;
    cpu.reg.b = 134;
    cpu.reg.c = 41;
    cpu.reg.d = 77;
    cpu.reg.e = 115;
    cpu.reg.f = 0;
    cpu.reg.h = 74;
    cpu.reg.l = 193;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[19897] = 24;
    cpu.ram[19898] = 23;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 99);
    CHECK(cpu.reg.b == 134);
    CHECK(cpu.reg.c == 41);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 115);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 74);
    CHECK(cpu.reg.l == 193);
    CHECK(cpu.pc == 19922);
    CHECK(cpu.sp == 17165);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19897] == 24);
    REQUIRE(cpu.ram[19898] == 23);
}

TEST_CASE( "18 02DA", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29482;
    cpu.sp = 45708;
    cpu.reg.a = 41;
    cpu.reg.b = 109;
    cpu.reg.c = 180;
    cpu.reg.d = 159;
    cpu.reg.e = 11;
    cpu.reg.f = 128;
    cpu.reg.h = 137;
    cpu.reg.l = 179;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[29482] = 24;
    cpu.ram[29483] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 41);
    CHECK(cpu.reg.b == 109);
    CHECK(cpu.reg.c == 180);
    CHECK(cpu.reg.d == 159);
    CHECK(cpu.reg.e == 11);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 137);
    CHECK(cpu.reg.l == 179);
    CHECK(cpu.pc == 29488);
    CHECK(cpu.sp == 45708);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29482] == 24);
    REQUIRE(cpu.ram[29483] == 4);
}

TEST_CASE( "18 02DB", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8445;
    cpu.sp = 11298;
    cpu.reg.a = 60;
    cpu.reg.b = 199;
    cpu.reg.c = 31;
    cpu.reg.d = 205;
    cpu.reg.e = 112;
    cpu.reg.f = 224;
    cpu.reg.h = 53;
    cpu.reg.l = 154;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[8445] = 24;
    cpu.ram[8446] = 153;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 60);
    CHECK(cpu.reg.b == 199);
    CHECK(cpu.reg.c == 31);
    CHECK(cpu.reg.d == 205);
    CHECK(cpu.reg.e == 112);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 53);
    CHECK(cpu.reg.l == 154);
    CHECK(cpu.pc == 8344);
    CHECK(cpu.sp == 11298);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8445] == 24);
    REQUIRE(cpu.ram[8446] == 153);
}

TEST_CASE( "18 02DC", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7355;
    cpu.sp = 65404;
    cpu.reg.a = 51;
    cpu.reg.b = 92;
    cpu.reg.c = 11;
    cpu.reg.d = 126;
    cpu.reg.e = 18;
    cpu.reg.f = 80;
    cpu.reg.h = 164;
    cpu.reg.l = 36;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[7355] = 24;
    cpu.ram[7356] = 197;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 51);
    CHECK(cpu.reg.b == 92);
    CHECK(cpu.reg.c == 11);
    CHECK(cpu.reg.d == 126);
    CHECK(cpu.reg.e == 18);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 164);
    CHECK(cpu.reg.l == 36);
    CHECK(cpu.pc == 7298);
    CHECK(cpu.sp == 65404);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7355] == 24);
    REQUIRE(cpu.ram[7356] == 197);
}

TEST_CASE( "18 02DD", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2684;
    cpu.sp = 13258;
    cpu.reg.a = 44;
    cpu.reg.b = 9;
    cpu.reg.c = 221;
    cpu.reg.d = 90;
    cpu.reg.e = 78;
    cpu.reg.f = 208;
    cpu.reg.h = 39;
    cpu.reg.l = 250;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[2684] = 24;
    cpu.ram[2685] = 157;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 44);
    CHECK(cpu.reg.b == 9);
    CHECK(cpu.reg.c == 221);
    CHECK(cpu.reg.d == 90);
    CHECK(cpu.reg.e == 78);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 39);
    CHECK(cpu.reg.l == 250);
    CHECK(cpu.pc == 2587);
    CHECK(cpu.sp == 13258);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2684] == 24);
    REQUIRE(cpu.ram[2685] == 157);
}

TEST_CASE( "18 02DE", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23100;
    cpu.sp = 52905;
    cpu.reg.a = 166;
    cpu.reg.b = 192;
    cpu.reg.c = 72;
    cpu.reg.d = 188;
    cpu.reg.e = 190;
    cpu.reg.f = 48;
    cpu.reg.h = 34;
    cpu.reg.l = 29;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[23100] = 24;
    cpu.ram[23101] = 247;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 166);
    CHECK(cpu.reg.b == 192);
    CHECK(cpu.reg.c == 72);
    CHECK(cpu.reg.d == 188);
    CHECK(cpu.reg.e == 190);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 34);
    CHECK(cpu.reg.l == 29);
    CHECK(cpu.pc == 23093);
    CHECK(cpu.sp == 52905);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[23100] == 24);
    REQUIRE(cpu.ram[23101] == 247);
}

TEST_CASE( "18 02DF", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13021;
    cpu.sp = 30271;
    cpu.reg.a = 66;
    cpu.reg.b = 90;
    cpu.reg.c = 170;
    cpu.reg.d = 71;
    cpu.reg.e = 56;
    cpu.reg.f = 32;
    cpu.reg.h = 43;
    cpu.reg.l = 39;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[13021] = 24;
    cpu.ram[13022] = 79;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 66);
    CHECK(cpu.reg.b == 90);
    CHECK(cpu.reg.c == 170);
    CHECK(cpu.reg.d == 71);
    CHECK(cpu.reg.e == 56);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 43);
    CHECK(cpu.reg.l == 39);
    CHECK(cpu.pc == 13102);
    CHECK(cpu.sp == 30271);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13021] == 24);
    REQUIRE(cpu.ram[13022] == 79);
}

TEST_CASE( "18 02E0", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34654;
    cpu.sp = 35646;
    cpu.reg.a = 98;
    cpu.reg.b = 220;
    cpu.reg.c = 200;
    cpu.reg.d = 245;
    cpu.reg.e = 95;
    cpu.reg.f = 240;
    cpu.reg.h = 103;
    cpu.reg.l = 210;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[34654] = 24;
    cpu.ram[34655] = 195;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 98);
    CHECK(cpu.reg.b == 220);
    CHECK(cpu.reg.c == 200);
    CHECK(cpu.reg.d == 245);
    CHECK(cpu.reg.e == 95);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 103);
    CHECK(cpu.reg.l == 210);
    CHECK(cpu.pc == 34595);
    CHECK(cpu.sp == 35646);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[34654] == 24);
    REQUIRE(cpu.ram[34655] == 195);
}

TEST_CASE( "18 02E1", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41106;
    cpu.sp = 44719;
    cpu.reg.a = 116;
    cpu.reg.b = 31;
    cpu.reg.c = 44;
    cpu.reg.d = 120;
    cpu.reg.e = 124;
    cpu.reg.f = 176;
    cpu.reg.h = 248;
    cpu.reg.l = 125;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[41106] = 24;
    cpu.ram[41107] = 1;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 116);
    CHECK(cpu.reg.b == 31);
    CHECK(cpu.reg.c == 44);
    CHECK(cpu.reg.d == 120);
    CHECK(cpu.reg.e == 124);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 248);
    CHECK(cpu.reg.l == 125);
    CHECK(cpu.pc == 41109);
    CHECK(cpu.sp == 44719);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41106] == 24);
    REQUIRE(cpu.ram[41107] == 1);
}

TEST_CASE( "18 02E2", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43050;
    cpu.sp = 59070;
    cpu.reg.a = 59;
    cpu.reg.b = 215;
    cpu.reg.c = 113;
    cpu.reg.d = 12;
    cpu.reg.e = 4;
    cpu.reg.f = 32;
    cpu.reg.h = 169;
    cpu.reg.l = 146;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[43050] = 24;
    cpu.ram[43051] = 200;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 59);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 113);
    CHECK(cpu.reg.d == 12);
    CHECK(cpu.reg.e == 4);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 169);
    CHECK(cpu.reg.l == 146);
    CHECK(cpu.pc == 42996);
    CHECK(cpu.sp == 59070);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43050] == 24);
    REQUIRE(cpu.ram[43051] == 200);
}

TEST_CASE( "18 02E3", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34284;
    cpu.sp = 21074;
    cpu.reg.a = 14;
    cpu.reg.b = 115;
    cpu.reg.c = 142;
    cpu.reg.d = 114;
    cpu.reg.e = 61;
    cpu.reg.f = 16;
    cpu.reg.h = 145;
    cpu.reg.l = 9;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[34284] = 24;
    cpu.ram[34285] = 77;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 14);
    CHECK(cpu.reg.b == 115);
    CHECK(cpu.reg.c == 142);
    CHECK(cpu.reg.d == 114);
    CHECK(cpu.reg.e == 61);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 145);
    CHECK(cpu.reg.l == 9);
    CHECK(cpu.pc == 34363);
    CHECK(cpu.sp == 21074);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[34284] == 24);
    REQUIRE(cpu.ram[34285] == 77);
}

TEST_CASE( "18 02E4", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24907;
    cpu.sp = 50547;
    cpu.reg.a = 114;
    cpu.reg.b = 125;
    cpu.reg.c = 132;
    cpu.reg.d = 251;
    cpu.reg.e = 52;
    cpu.reg.f = 160;
    cpu.reg.h = 169;
    cpu.reg.l = 109;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[24907] = 24;
    cpu.ram[24908] = 38;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 114);
    CHECK(cpu.reg.b == 125);
    CHECK(cpu.reg.c == 132);
    CHECK(cpu.reg.d == 251);
    CHECK(cpu.reg.e == 52);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 169);
    CHECK(cpu.reg.l == 109);
    CHECK(cpu.pc == 24947);
    CHECK(cpu.sp == 50547);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24907] == 24);
    REQUIRE(cpu.ram[24908] == 38);
}

TEST_CASE( "18 02E5", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3239;
    cpu.sp = 38116;
    cpu.reg.a = 9;
    cpu.reg.b = 139;
    cpu.reg.c = 250;
    cpu.reg.d = 213;
    cpu.reg.e = 125;
    cpu.reg.f = 224;
    cpu.reg.h = 126;
    cpu.reg.l = 44;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[3239] = 24;
    cpu.ram[3240] = 45;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 9);
    CHECK(cpu.reg.b == 139);
    CHECK(cpu.reg.c == 250);
    CHECK(cpu.reg.d == 213);
    CHECK(cpu.reg.e == 125);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 126);
    CHECK(cpu.reg.l == 44);
    CHECK(cpu.pc == 3286);
    CHECK(cpu.sp == 38116);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3239] == 24);
    REQUIRE(cpu.ram[3240] == 45);
}

TEST_CASE( "18 02E6", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56940;
    cpu.sp = 41838;
    cpu.reg.a = 235;
    cpu.reg.b = 123;
    cpu.reg.c = 139;
    cpu.reg.d = 255;
    cpu.reg.e = 140;
    cpu.reg.f = 208;
    cpu.reg.h = 116;
    cpu.reg.l = 177;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[56940] = 24;
    cpu.ram[56941] = 219;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 235);
    CHECK(cpu.reg.b == 123);
    CHECK(cpu.reg.c == 139);
    CHECK(cpu.reg.d == 255);
    CHECK(cpu.reg.e == 140);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 116);
    CHECK(cpu.reg.l == 177);
    CHECK(cpu.pc == 56905);
    CHECK(cpu.sp == 41838);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56940] == 24);
    REQUIRE(cpu.ram[56941] == 219);
}

TEST_CASE( "18 02E7", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 20977;
    cpu.sp = 55165;
    cpu.reg.a = 29;
    cpu.reg.b = 236;
    cpu.reg.c = 90;
    cpu.reg.d = 0;
    cpu.reg.e = 50;
    cpu.reg.f = 240;
    cpu.reg.h = 22;
    cpu.reg.l = 192;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[20977] = 24;
    cpu.ram[20978] = 135;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 29);
    CHECK(cpu.reg.b == 236);
    CHECK(cpu.reg.c == 90);
    CHECK(cpu.reg.d == 0);
    CHECK(cpu.reg.e == 50);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 22);
    CHECK(cpu.reg.l == 192);
    CHECK(cpu.pc == 20858);
    CHECK(cpu.sp == 55165);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[20977] == 24);
    REQUIRE(cpu.ram[20978] == 135);
}

TEST_CASE( "18 02E8", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48732;
    cpu.sp = 6052;
    cpu.reg.a = 171;
    cpu.reg.b = 245;
    cpu.reg.c = 15;
    cpu.reg.d = 35;
    cpu.reg.e = 67;
    cpu.reg.f = 192;
    cpu.reg.h = 22;
    cpu.reg.l = 64;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[48732] = 24;
    cpu.ram[48733] = 148;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 171);
    CHECK(cpu.reg.b == 245);
    CHECK(cpu.reg.c == 15);
    CHECK(cpu.reg.d == 35);
    CHECK(cpu.reg.e == 67);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 22);
    CHECK(cpu.reg.l == 64);
    CHECK(cpu.pc == 48626);
    CHECK(cpu.sp == 6052);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48732] == 24);
    REQUIRE(cpu.ram[48733] == 148);
}

TEST_CASE( "18 02E9", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1331;
    cpu.sp = 26708;
    cpu.reg.a = 34;
    cpu.reg.b = 76;
    cpu.reg.c = 217;
    cpu.reg.d = 223;
    cpu.reg.e = 24;
    cpu.reg.f = 64;
    cpu.reg.h = 40;
    cpu.reg.l = 152;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[1331] = 24;
    cpu.ram[1332] = 113;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 34);
    CHECK(cpu.reg.b == 76);
    CHECK(cpu.reg.c == 217);
    CHECK(cpu.reg.d == 223);
    CHECK(cpu.reg.e == 24);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 40);
    CHECK(cpu.reg.l == 152);
    CHECK(cpu.pc == 1446);
    CHECK(cpu.sp == 26708);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1331] == 24);
    REQUIRE(cpu.ram[1332] == 113);
}

TEST_CASE( "18 02EA", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2895;
    cpu.sp = 48240;
    cpu.reg.a = 157;
    cpu.reg.b = 124;
    cpu.reg.c = 40;
    cpu.reg.d = 17;
    cpu.reg.e = 38;
    cpu.reg.f = 112;
    cpu.reg.h = 35;
    cpu.reg.l = 206;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[2895] = 24;
    cpu.ram[2896] = 200;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 157);
    CHECK(cpu.reg.b == 124);
    CHECK(cpu.reg.c == 40);
    CHECK(cpu.reg.d == 17);
    CHECK(cpu.reg.e == 38);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 35);
    CHECK(cpu.reg.l == 206);
    CHECK(cpu.pc == 2841);
    CHECK(cpu.sp == 48240);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[2895] == 24);
    REQUIRE(cpu.ram[2896] == 200);
}

TEST_CASE( "18 02EB", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51790;
    cpu.sp = 13446;
    cpu.reg.a = 69;
    cpu.reg.b = 34;
    cpu.reg.c = 82;
    cpu.reg.d = 236;
    cpu.reg.e = 223;
    cpu.reg.f = 16;
    cpu.reg.h = 19;
    cpu.reg.l = 37;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[51790] = 24;
    cpu.ram[51791] = 198;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 69);
    CHECK(cpu.reg.b == 34);
    CHECK(cpu.reg.c == 82);
    CHECK(cpu.reg.d == 236);
    CHECK(cpu.reg.e == 223);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 19);
    CHECK(cpu.reg.l == 37);
    CHECK(cpu.pc == 51734);
    CHECK(cpu.sp == 13446);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51790] == 24);
    REQUIRE(cpu.ram[51791] == 198);
}

TEST_CASE( "18 02EC", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33808;
    cpu.sp = 54635;
    cpu.reg.a = 111;
    cpu.reg.b = 96;
    cpu.reg.c = 144;
    cpu.reg.d = 50;
    cpu.reg.e = 182;
    cpu.reg.f = 144;
    cpu.reg.h = 3;
    cpu.reg.l = 186;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[33808] = 24;
    cpu.ram[33809] = 71;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 111);
    CHECK(cpu.reg.b == 96);
    CHECK(cpu.reg.c == 144);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 182);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 3);
    CHECK(cpu.reg.l == 186);
    CHECK(cpu.pc == 33881);
    CHECK(cpu.sp == 54635);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33808] == 24);
    REQUIRE(cpu.ram[33809] == 71);
}

TEST_CASE( "18 02ED", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12398;
    cpu.sp = 17010;
    cpu.reg.a = 140;
    cpu.reg.b = 8;
    cpu.reg.c = 147;
    cpu.reg.d = 253;
    cpu.reg.e = 127;
    cpu.reg.f = 144;
    cpu.reg.h = 88;
    cpu.reg.l = 190;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[12398] = 24;
    cpu.ram[12399] = 22;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 140);
    CHECK(cpu.reg.b == 8);
    CHECK(cpu.reg.c == 147);
    CHECK(cpu.reg.d == 253);
    CHECK(cpu.reg.e == 127);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 88);
    CHECK(cpu.reg.l == 190);
    CHECK(cpu.pc == 12422);
    CHECK(cpu.sp == 17010);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12398] == 24);
    REQUIRE(cpu.ram[12399] == 22);
}

TEST_CASE( "18 02EE", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44152;
    cpu.sp = 10312;
    cpu.reg.a = 234;
    cpu.reg.b = 155;
    cpu.reg.c = 43;
    cpu.reg.d = 154;
    cpu.reg.e = 17;
    cpu.reg.f = 112;
    cpu.reg.h = 25;
    cpu.reg.l = 186;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[44152] = 24;
    cpu.ram[44153] = 104;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 234);
    CHECK(cpu.reg.b == 155);
    CHECK(cpu.reg.c == 43);
    CHECK(cpu.reg.d == 154);
    CHECK(cpu.reg.e == 17);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 25);
    CHECK(cpu.reg.l == 186);
    CHECK(cpu.pc == 44258);
    CHECK(cpu.sp == 10312);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44152] == 24);
    REQUIRE(cpu.ram[44153] == 104);
}

TEST_CASE( "18 02EF", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1462;
    cpu.sp = 38870;
    cpu.reg.a = 34;
    cpu.reg.b = 196;
    cpu.reg.c = 62;
    cpu.reg.d = 151;
    cpu.reg.e = 21;
    cpu.reg.f = 208;
    cpu.reg.h = 152;
    cpu.reg.l = 173;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1462] = 24;
    cpu.ram[1463] = 3;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 34);
    CHECK(cpu.reg.b == 196);
    CHECK(cpu.reg.c == 62);
    CHECK(cpu.reg.d == 151);
    CHECK(cpu.reg.e == 21);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 152);
    CHECK(cpu.reg.l == 173);
    CHECK(cpu.pc == 1467);
    CHECK(cpu.sp == 38870);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1462] == 24);
    REQUIRE(cpu.ram[1463] == 3);
}

TEST_CASE( "18 02F0", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 6638;
    cpu.sp = 33;
    cpu.reg.a = 213;
    cpu.reg.b = 159;
    cpu.reg.c = 47;
    cpu.reg.d = 7;
    cpu.reg.e = 197;
    cpu.reg.f = 192;
    cpu.reg.h = 174;
    cpu.reg.l = 49;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[6638] = 24;
    cpu.ram[6639] = 98;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 213);
    CHECK(cpu.reg.b == 159);
    CHECK(cpu.reg.c == 47);
    CHECK(cpu.reg.d == 7);
    CHECK(cpu.reg.e == 197);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 174);
    CHECK(cpu.reg.l == 49);
    CHECK(cpu.pc == 6738);
    CHECK(cpu.sp == 33);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[6638] == 24);
    REQUIRE(cpu.ram[6639] == 98);
}

TEST_CASE( "18 02F1", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 52750;
    cpu.sp = 8564;
    cpu.reg.a = 89;
    cpu.reg.b = 200;
    cpu.reg.c = 4;
    cpu.reg.d = 121;
    cpu.reg.e = 216;
    cpu.reg.f = 128;
    cpu.reg.h = 153;
    cpu.reg.l = 188;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[52750] = 24;
    cpu.ram[52751] = 199;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 89);
    CHECK(cpu.reg.b == 200);
    CHECK(cpu.reg.c == 4);
    CHECK(cpu.reg.d == 121);
    CHECK(cpu.reg.e == 216);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 153);
    CHECK(cpu.reg.l == 188);
    CHECK(cpu.pc == 52695);
    CHECK(cpu.sp == 8564);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[52750] == 24);
    REQUIRE(cpu.ram[52751] == 199);
}

TEST_CASE( "18 02F2", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3034;
    cpu.sp = 24278;
    cpu.reg.a = 13;
    cpu.reg.b = 7;
    cpu.reg.c = 100;
    cpu.reg.d = 19;
    cpu.reg.e = 47;
    cpu.reg.f = 144;
    cpu.reg.h = 120;
    cpu.reg.l = 253;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[3034] = 24;
    cpu.ram[3035] = 171;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 13);
    CHECK(cpu.reg.b == 7);
    CHECK(cpu.reg.c == 100);
    CHECK(cpu.reg.d == 19);
    CHECK(cpu.reg.e == 47);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 120);
    CHECK(cpu.reg.l == 253);
    CHECK(cpu.pc == 2951);
    CHECK(cpu.sp == 24278);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3034] == 24);
    REQUIRE(cpu.ram[3035] == 171);
}

TEST_CASE( "18 02F3", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54308;
    cpu.sp = 55653;
    cpu.reg.a = 239;
    cpu.reg.b = 91;
    cpu.reg.c = 89;
    cpu.reg.d = 54;
    cpu.reg.e = 130;
    cpu.reg.f = 144;
    cpu.reg.h = 89;
    cpu.reg.l = 154;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[54308] = 24;
    cpu.ram[54309] = 135;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 239);
    CHECK(cpu.reg.b == 91);
    CHECK(cpu.reg.c == 89);
    CHECK(cpu.reg.d == 54);
    CHECK(cpu.reg.e == 130);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 89);
    CHECK(cpu.reg.l == 154);
    CHECK(cpu.pc == 54189);
    CHECK(cpu.sp == 55653);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[54308] == 24);
    REQUIRE(cpu.ram[54309] == 135);
}

TEST_CASE( "18 02F4", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38188;
    cpu.sp = 22667;
    cpu.reg.a = 114;
    cpu.reg.b = 244;
    cpu.reg.c = 232;
    cpu.reg.d = 0;
    cpu.reg.e = 113;
    cpu.reg.f = 16;
    cpu.reg.h = 15;
    cpu.reg.l = 129;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[38188] = 24;
    cpu.ram[38189] = 106;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 114);
    CHECK(cpu.reg.b == 244);
    CHECK(cpu.reg.c == 232);
    CHECK(cpu.reg.d == 0);
    CHECK(cpu.reg.e == 113);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 15);
    CHECK(cpu.reg.l == 129);
    CHECK(cpu.pc == 38296);
    CHECK(cpu.sp == 22667);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38188] == 24);
    REQUIRE(cpu.ram[38189] == 106);
}

TEST_CASE( "18 02F5", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9307;
    cpu.sp = 41855;
    cpu.reg.a = 194;
    cpu.reg.b = 215;
    cpu.reg.c = 86;
    cpu.reg.d = 245;
    cpu.reg.e = 164;
    cpu.reg.f = 160;
    cpu.reg.h = 155;
    cpu.reg.l = 98;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[9307] = 24;
    cpu.ram[9308] = 180;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 194);
    CHECK(cpu.reg.b == 215);
    CHECK(cpu.reg.c == 86);
    CHECK(cpu.reg.d == 245);
    CHECK(cpu.reg.e == 164);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 155);
    CHECK(cpu.reg.l == 98);
    CHECK(cpu.pc == 9233);
    CHECK(cpu.sp == 41855);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[9307] == 24);
    REQUIRE(cpu.ram[9308] == 180);
}

TEST_CASE( "18 02F6", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49836;
    cpu.sp = 46860;
    cpu.reg.a = 217;
    cpu.reg.b = 18;
    cpu.reg.c = 124;
    cpu.reg.d = 69;
    cpu.reg.e = 209;
    cpu.reg.f = 0;
    cpu.reg.h = 77;
    cpu.reg.l = 253;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[49836] = 24;
    cpu.ram[49837] = 59;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 217);
    CHECK(cpu.reg.b == 18);
    CHECK(cpu.reg.c == 124);
    CHECK(cpu.reg.d == 69);
    CHECK(cpu.reg.e == 209);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 77);
    CHECK(cpu.reg.l == 253);
    CHECK(cpu.pc == 49897);
    CHECK(cpu.sp == 46860);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49836] == 24);
    REQUIRE(cpu.ram[49837] == 59);
}

TEST_CASE( "18 02F7", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3032;
    cpu.sp = 20756;
    cpu.reg.a = 173;
    cpu.reg.b = 149;
    cpu.reg.c = 181;
    cpu.reg.d = 69;
    cpu.reg.e = 59;
    cpu.reg.f = 64;
    cpu.reg.h = 102;
    cpu.reg.l = 44;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[3032] = 24;
    cpu.ram[3033] = 243;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 173);
    CHECK(cpu.reg.b == 149);
    CHECK(cpu.reg.c == 181);
    CHECK(cpu.reg.d == 69);
    CHECK(cpu.reg.e == 59);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 102);
    CHECK(cpu.reg.l == 44);
    CHECK(cpu.pc == 3021);
    CHECK(cpu.sp == 20756);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3032] == 24);
    REQUIRE(cpu.ram[3033] == 243);
}

TEST_CASE( "18 02F8", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19359;
    cpu.sp = 6838;
    cpu.reg.a = 189;
    cpu.reg.b = 92;
    cpu.reg.c = 197;
    cpu.reg.d = 0;
    cpu.reg.e = 130;
    cpu.reg.f = 32;
    cpu.reg.h = 139;
    cpu.reg.l = 197;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[19359] = 24;
    cpu.ram[19360] = 141;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 189);
    CHECK(cpu.reg.b == 92);
    CHECK(cpu.reg.c == 197);
    CHECK(cpu.reg.d == 0);
    CHECK(cpu.reg.e == 130);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 139);
    CHECK(cpu.reg.l == 197);
    CHECK(cpu.pc == 19246);
    CHECK(cpu.sp == 6838);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19359] == 24);
    REQUIRE(cpu.ram[19360] == 141);
}

TEST_CASE( "18 02F9", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34194;
    cpu.sp = 28254;
    cpu.reg.a = 160;
    cpu.reg.b = 161;
    cpu.reg.c = 110;
    cpu.reg.d = 154;
    cpu.reg.e = 196;
    cpu.reg.f = 64;
    cpu.reg.h = 79;
    cpu.reg.l = 189;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[34194] = 24;
    cpu.ram[34195] = 88;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 160);
    CHECK(cpu.reg.b == 161);
    CHECK(cpu.reg.c == 110);
    CHECK(cpu.reg.d == 154);
    CHECK(cpu.reg.e == 196);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 79);
    CHECK(cpu.reg.l == 189);
    CHECK(cpu.pc == 34284);
    CHECK(cpu.sp == 28254);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[34194] == 24);
    REQUIRE(cpu.ram[34195] == 88);
}

TEST_CASE( "18 02FA", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34176;
    cpu.sp = 56502;
    cpu.reg.a = 51;
    cpu.reg.b = 171;
    cpu.reg.c = 168;
    cpu.reg.d = 125;
    cpu.reg.e = 77;
    cpu.reg.f = 0;
    cpu.reg.h = 213;
    cpu.reg.l = 165;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[34176] = 24;
    cpu.ram[34177] = 230;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 51);
    CHECK(cpu.reg.b == 171);
    CHECK(cpu.reg.c == 168);
    CHECK(cpu.reg.d == 125);
    CHECK(cpu.reg.e == 77);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 213);
    CHECK(cpu.reg.l == 165);
    CHECK(cpu.pc == 34152);
    CHECK(cpu.sp == 56502);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34176] == 24);
    REQUIRE(cpu.ram[34177] == 230);
}

TEST_CASE( "18 02FB", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42540;
    cpu.sp = 37060;
    cpu.reg.a = 50;
    cpu.reg.b = 186;
    cpu.reg.c = 102;
    cpu.reg.d = 194;
    cpu.reg.e = 208;
    cpu.reg.f = 64;
    cpu.reg.h = 56;
    cpu.reg.l = 63;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[42540] = 24;
    cpu.ram[42541] = 72;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 50);
    CHECK(cpu.reg.b == 186);
    CHECK(cpu.reg.c == 102);
    CHECK(cpu.reg.d == 194);
    CHECK(cpu.reg.e == 208);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 56);
    CHECK(cpu.reg.l == 63);
    CHECK(cpu.pc == 42614);
    CHECK(cpu.sp == 37060);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[42540] == 24);
    REQUIRE(cpu.ram[42541] == 72);
}

TEST_CASE( "18 02FC", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29226;
    cpu.sp = 62789;
    cpu.reg.a = 33;
    cpu.reg.b = 100;
    cpu.reg.c = 203;
    cpu.reg.d = 150;
    cpu.reg.e = 117;
    cpu.reg.f = 96;
    cpu.reg.h = 9;
    cpu.reg.l = 165;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[29226] = 24;
    cpu.ram[29227] = 155;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 33);
    CHECK(cpu.reg.b == 100);
    CHECK(cpu.reg.c == 203);
    CHECK(cpu.reg.d == 150);
    CHECK(cpu.reg.e == 117);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 9);
    CHECK(cpu.reg.l == 165);
    CHECK(cpu.pc == 29127);
    CHECK(cpu.sp == 62789);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[29226] == 24);
    REQUIRE(cpu.ram[29227] == 155);
}

TEST_CASE( "18 02FD", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58325;
    cpu.sp = 27039;
    cpu.reg.a = 124;
    cpu.reg.b = 201;
    cpu.reg.c = 92;
    cpu.reg.d = 254;
    cpu.reg.e = 38;
    cpu.reg.f = 160;
    cpu.reg.h = 27;
    cpu.reg.l = 240;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[58325] = 24;
    cpu.ram[58326] = 180;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 124);
    CHECK(cpu.reg.b == 201);
    CHECK(cpu.reg.c == 92);
    CHECK(cpu.reg.d == 254);
    CHECK(cpu.reg.e == 38);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 27);
    CHECK(cpu.reg.l == 240);
    CHECK(cpu.pc == 58251);
    CHECK(cpu.sp == 27039);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58325] == 24);
    REQUIRE(cpu.ram[58326] == 180);
}

TEST_CASE( "18 02FE", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43731;
    cpu.sp = 7416;
    cpu.reg.a = 123;
    cpu.reg.b = 199;
    cpu.reg.c = 15;
    cpu.reg.d = 39;
    cpu.reg.e = 94;
    cpu.reg.f = 0;
    cpu.reg.h = 101;
    cpu.reg.l = 246;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[43731] = 24;
    cpu.ram[43732] = 253;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 123);
    CHECK(cpu.reg.b == 199);
    CHECK(cpu.reg.c == 15);
    CHECK(cpu.reg.d == 39);
    CHECK(cpu.reg.e == 94);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 101);
    CHECK(cpu.reg.l == 246);
    CHECK(cpu.pc == 43730);
    CHECK(cpu.sp == 7416);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[43731] == 24);
    REQUIRE(cpu.ram[43732] == 253);
}

TEST_CASE( "18 02FF", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44676;
    cpu.sp = 3844;
    cpu.reg.a = 142;
    cpu.reg.b = 198;
    cpu.reg.c = 61;
    cpu.reg.d = 81;
    cpu.reg.e = 206;
    cpu.reg.f = 32;
    cpu.reg.h = 131;
    cpu.reg.l = 85;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[44676] = 24;
    cpu.ram[44677] = 134;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 142);
    CHECK(cpu.reg.b == 198);
    CHECK(cpu.reg.c == 61);
    CHECK(cpu.reg.d == 81);
    CHECK(cpu.reg.e == 206);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 131);
    CHECK(cpu.reg.l == 85);
    CHECK(cpu.pc == 44556);
    CHECK(cpu.sp == 3844);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44676] == 24);
    REQUIRE(cpu.ram[44677] == 134);
}

TEST_CASE( "18 0300", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8339;
    cpu.sp = 57095;
    cpu.reg.a = 149;
    cpu.reg.b = 31;
    cpu.reg.c = 0;
    cpu.reg.d = 190;
    cpu.reg.e = 0;
    cpu.reg.f = 80;
    cpu.reg.h = 214;
    cpu.reg.l = 21;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[8339] = 24;
    cpu.ram[8340] = 66;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 149);
    CHECK(cpu.reg.b == 31);
    CHECK(cpu.reg.c == 0);
    CHECK(cpu.reg.d == 190);
    CHECK(cpu.reg.e == 0);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 214);
    CHECK(cpu.reg.l == 21);
    CHECK(cpu.pc == 8407);
    CHECK(cpu.sp == 57095);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[8339] == 24);
    REQUIRE(cpu.ram[8340] == 66);
}

TEST_CASE( "18 0301", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29768;
    cpu.sp = 9409;
    cpu.reg.a = 222;
    cpu.reg.b = 160;
    cpu.reg.c = 168;
    cpu.reg.d = 254;
    cpu.reg.e = 57;
    cpu.reg.f = 96;
    cpu.reg.h = 13;
    cpu.reg.l = 126;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[29768] = 24;
    cpu.ram[29769] = 39;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 222);
    CHECK(cpu.reg.b == 160);
    CHECK(cpu.reg.c == 168);
    CHECK(cpu.reg.d == 254);
    CHECK(cpu.reg.e == 57);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 13);
    CHECK(cpu.reg.l == 126);
    CHECK(cpu.pc == 29809);
    CHECK(cpu.sp == 9409);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[29768] == 24);
    REQUIRE(cpu.ram[29769] == 39);
}

TEST_CASE( "18 0302", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 763;
    cpu.sp = 22236;
    cpu.reg.a = 184;
    cpu.reg.b = 107;
    cpu.reg.c = 50;
    cpu.reg.d = 30;
    cpu.reg.e = 94;
    cpu.reg.f = 64;
    cpu.reg.h = 203;
    cpu.reg.l = 71;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[763] = 24;
    cpu.ram[764] = 19;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 184);
    CHECK(cpu.reg.b == 107);
    CHECK(cpu.reg.c == 50);
    CHECK(cpu.reg.d == 30);
    CHECK(cpu.reg.e == 94);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 203);
    CHECK(cpu.reg.l == 71);
    CHECK(cpu.pc == 784);
    CHECK(cpu.sp == 22236);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[763] == 24);
    REQUIRE(cpu.ram[764] == 19);
}

TEST_CASE( "18 0303", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19020;
    cpu.sp = 41873;
    cpu.reg.a = 166;
    cpu.reg.b = 227;
    cpu.reg.c = 231;
    cpu.reg.d = 11;
    cpu.reg.e = 10;
    cpu.reg.f = 144;
    cpu.reg.h = 81;
    cpu.reg.l = 229;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[19020] = 24;
    cpu.ram[19021] = 108;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 166);
    CHECK(cpu.reg.b == 227);
    CHECK(cpu.reg.c == 231);
    CHECK(cpu.reg.d == 11);
    CHECK(cpu.reg.e == 10);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 81);
    CHECK(cpu.reg.l == 229);
    CHECK(cpu.pc == 19130);
    CHECK(cpu.sp == 41873);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19020] == 24);
    REQUIRE(cpu.ram[19021] == 108);
}

TEST_CASE( "18 0304", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8083;
    cpu.sp = 1024;
    cpu.reg.a = 50;
    cpu.reg.b = 194;
    cpu.reg.c = 65;
    cpu.reg.d = 204;
    cpu.reg.e = 148;
    cpu.reg.f = 96;
    cpu.reg.h = 55;
    cpu.reg.l = 144;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[8083] = 24;
    cpu.ram[8084] = 120;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 50);
    CHECK(cpu.reg.b == 194);
    CHECK(cpu.reg.c == 65);
    CHECK(cpu.reg.d == 204);
    CHECK(cpu.reg.e == 148);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 55);
    CHECK(cpu.reg.l == 144);
    CHECK(cpu.pc == 8205);
    CHECK(cpu.sp == 1024);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8083] == 24);
    REQUIRE(cpu.ram[8084] == 120);
}

TEST_CASE( "18 0305", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14110;
    cpu.sp = 19362;
    cpu.reg.a = 220;
    cpu.reg.b = 153;
    cpu.reg.c = 111;
    cpu.reg.d = 119;
    cpu.reg.e = 193;
    cpu.reg.f = 128;
    cpu.reg.h = 37;
    cpu.reg.l = 153;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[14110] = 24;
    cpu.ram[14111] = 229;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 220);
    CHECK(cpu.reg.b == 153);
    CHECK(cpu.reg.c == 111);
    CHECK(cpu.reg.d == 119);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 37);
    CHECK(cpu.reg.l == 153);
    CHECK(cpu.pc == 14085);
    CHECK(cpu.sp == 19362);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14110] == 24);
    REQUIRE(cpu.ram[14111] == 229);
}

TEST_CASE( "18 0306", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26567;
    cpu.sp = 54969;
    cpu.reg.a = 211;
    cpu.reg.b = 202;
    cpu.reg.c = 32;
    cpu.reg.d = 123;
    cpu.reg.e = 202;
    cpu.reg.f = 112;
    cpu.reg.h = 194;
    cpu.reg.l = 129;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[26567] = 24;
    cpu.ram[26568] = 30;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 211);
    CHECK(cpu.reg.b == 202);
    CHECK(cpu.reg.c == 32);
    CHECK(cpu.reg.d == 123);
    CHECK(cpu.reg.e == 202);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 194);
    CHECK(cpu.reg.l == 129);
    CHECK(cpu.pc == 26599);
    CHECK(cpu.sp == 54969);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26567] == 24);
    REQUIRE(cpu.ram[26568] == 30);
}

TEST_CASE( "18 0307", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21250;
    cpu.sp = 5754;
    cpu.reg.a = 74;
    cpu.reg.b = 87;
    cpu.reg.c = 92;
    cpu.reg.d = 81;
    cpu.reg.e = 245;
    cpu.reg.f = 192;
    cpu.reg.h = 72;
    cpu.reg.l = 176;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[21250] = 24;
    cpu.ram[21251] = 183;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 74);
    CHECK(cpu.reg.b == 87);
    CHECK(cpu.reg.c == 92);
    CHECK(cpu.reg.d == 81);
    CHECK(cpu.reg.e == 245);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 72);
    CHECK(cpu.reg.l == 176);
    CHECK(cpu.pc == 21179);
    CHECK(cpu.sp == 5754);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21250] == 24);
    REQUIRE(cpu.ram[21251] == 183);
}

TEST_CASE( "18 0308", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8357;
    cpu.sp = 25037;
    cpu.reg.a = 70;
    cpu.reg.b = 89;
    cpu.reg.c = 169;
    cpu.reg.d = 209;
    cpu.reg.e = 195;
    cpu.reg.f = 144;
    cpu.reg.h = 123;
    cpu.reg.l = 91;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[8357] = 24;
    cpu.ram[8358] = 154;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 70);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 169);
    CHECK(cpu.reg.d == 209);
    CHECK(cpu.reg.e == 195);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 123);
    CHECK(cpu.reg.l == 91);
    CHECK(cpu.pc == 8257);
    CHECK(cpu.sp == 25037);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8357] == 24);
    REQUIRE(cpu.ram[8358] == 154);
}

TEST_CASE( "18 0309", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13578;
    cpu.sp = 27568;
    cpu.reg.a = 231;
    cpu.reg.b = 220;
    cpu.reg.c = 46;
    cpu.reg.d = 215;
    cpu.reg.e = 153;
    cpu.reg.f = 64;
    cpu.reg.h = 248;
    cpu.reg.l = 234;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[13578] = 24;
    cpu.ram[13579] = 244;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 231);
    CHECK(cpu.reg.b == 220);
    CHECK(cpu.reg.c == 46);
    CHECK(cpu.reg.d == 215);
    CHECK(cpu.reg.e == 153);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 248);
    CHECK(cpu.reg.l == 234);
    CHECK(cpu.pc == 13568);
    CHECK(cpu.sp == 27568);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13578] == 24);
    REQUIRE(cpu.ram[13579] == 244);
}

TEST_CASE( "18 030A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7658;
    cpu.sp = 38971;
    cpu.reg.a = 183;
    cpu.reg.b = 236;
    cpu.reg.c = 19;
    cpu.reg.d = 86;
    cpu.reg.e = 251;
    cpu.reg.f = 176;
    cpu.reg.h = 253;
    cpu.reg.l = 188;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[7658] = 24;
    cpu.ram[7659] = 234;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 183);
    CHECK(cpu.reg.b == 236);
    CHECK(cpu.reg.c == 19);
    CHECK(cpu.reg.d == 86);
    CHECK(cpu.reg.e == 251);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 253);
    CHECK(cpu.reg.l == 188);
    CHECK(cpu.pc == 7638);
    CHECK(cpu.sp == 38971);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7658] == 24);
    REQUIRE(cpu.ram[7659] == 234);
}

TEST_CASE( "18 030B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8267;
    cpu.sp = 36962;
    cpu.reg.a = 92;
    cpu.reg.b = 207;
    cpu.reg.c = 168;
    cpu.reg.d = 234;
    cpu.reg.e = 241;
    cpu.reg.f = 192;
    cpu.reg.h = 56;
    cpu.reg.l = 210;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[8267] = 24;
    cpu.ram[8268] = 184;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 92);
    CHECK(cpu.reg.b == 207);
    CHECK(cpu.reg.c == 168);
    CHECK(cpu.reg.d == 234);
    CHECK(cpu.reg.e == 241);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 56);
    CHECK(cpu.reg.l == 210);
    CHECK(cpu.pc == 8197);
    CHECK(cpu.sp == 36962);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8267] == 24);
    REQUIRE(cpu.ram[8268] == 184);
}

TEST_CASE( "18 030C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10718;
    cpu.sp = 46235;
    cpu.reg.a = 193;
    cpu.reg.b = 115;
    cpu.reg.c = 16;
    cpu.reg.d = 234;
    cpu.reg.e = 208;
    cpu.reg.f = 16;
    cpu.reg.h = 92;
    cpu.reg.l = 125;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[10718] = 24;
    cpu.ram[10719] = 17;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 193);
    CHECK(cpu.reg.b == 115);
    CHECK(cpu.reg.c == 16);
    CHECK(cpu.reg.d == 234);
    CHECK(cpu.reg.e == 208);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 92);
    CHECK(cpu.reg.l == 125);
    CHECK(cpu.pc == 10737);
    CHECK(cpu.sp == 46235);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10718] == 24);
    REQUIRE(cpu.ram[10719] == 17);
}

TEST_CASE( "18 030D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47665;
    cpu.sp = 1663;
    cpu.reg.a = 210;
    cpu.reg.b = 133;
    cpu.reg.c = 145;
    cpu.reg.d = 74;
    cpu.reg.e = 168;
    cpu.reg.f = 160;
    cpu.reg.h = 59;
    cpu.reg.l = 221;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[47665] = 24;
    cpu.ram[47666] = 22;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 210);
    CHECK(cpu.reg.b == 133);
    CHECK(cpu.reg.c == 145);
    CHECK(cpu.reg.d == 74);
    CHECK(cpu.reg.e == 168);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 59);
    CHECK(cpu.reg.l == 221);
    CHECK(cpu.pc == 47689);
    CHECK(cpu.sp == 1663);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[47665] == 24);
    REQUIRE(cpu.ram[47666] == 22);
}

TEST_CASE( "18 030E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30991;
    cpu.sp = 47823;
    cpu.reg.a = 94;
    cpu.reg.b = 79;
    cpu.reg.c = 93;
    cpu.reg.d = 227;
    cpu.reg.e = 220;
    cpu.reg.f = 16;
    cpu.reg.h = 214;
    cpu.reg.l = 88;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[30991] = 24;
    cpu.ram[30992] = 21;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 94);
    CHECK(cpu.reg.b == 79);
    CHECK(cpu.reg.c == 93);
    CHECK(cpu.reg.d == 227);
    CHECK(cpu.reg.e == 220);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 214);
    CHECK(cpu.reg.l == 88);
    CHECK(cpu.pc == 31014);
    CHECK(cpu.sp == 47823);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30991] == 24);
    REQUIRE(cpu.ram[30992] == 21);
}

TEST_CASE( "18 030F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32969;
    cpu.sp = 60279;
    cpu.reg.a = 98;
    cpu.reg.b = 166;
    cpu.reg.c = 189;
    cpu.reg.d = 237;
    cpu.reg.e = 17;
    cpu.reg.f = 208;
    cpu.reg.h = 179;
    cpu.reg.l = 88;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[32969] = 24;
    cpu.ram[32970] = 217;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 98);
    CHECK(cpu.reg.b == 166);
    CHECK(cpu.reg.c == 189);
    CHECK(cpu.reg.d == 237);
    CHECK(cpu.reg.e == 17);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 179);
    CHECK(cpu.reg.l == 88);
    CHECK(cpu.pc == 32932);
    CHECK(cpu.sp == 60279);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32969] == 24);
    REQUIRE(cpu.ram[32970] == 217);
}

TEST_CASE( "18 0310", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58370;
    cpu.sp = 7130;
    cpu.reg.a = 202;
    cpu.reg.b = 211;
    cpu.reg.c = 46;
    cpu.reg.d = 42;
    cpu.reg.e = 79;
    cpu.reg.f = 80;
    cpu.reg.h = 29;
    cpu.reg.l = 20;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[58370] = 24;
    cpu.ram[58371] = 214;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 202);
    CHECK(cpu.reg.b == 211);
    CHECK(cpu.reg.c == 46);
    CHECK(cpu.reg.d == 42);
    CHECK(cpu.reg.e == 79);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 29);
    CHECK(cpu.reg.l == 20);
    CHECK(cpu.pc == 58330);
    CHECK(cpu.sp == 7130);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58370] == 24);
    REQUIRE(cpu.ram[58371] == 214);
}

TEST_CASE( "18 0311", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15299;
    cpu.sp = 4556;
    cpu.reg.a = 152;
    cpu.reg.b = 161;
    cpu.reg.c = 230;
    cpu.reg.d = 119;
    cpu.reg.e = 144;
    cpu.reg.f = 48;
    cpu.reg.h = 30;
    cpu.reg.l = 75;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[15299] = 24;
    cpu.ram[15300] = 37;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 152);
    CHECK(cpu.reg.b == 161);
    CHECK(cpu.reg.c == 230);
    CHECK(cpu.reg.d == 119);
    CHECK(cpu.reg.e == 144);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 30);
    CHECK(cpu.reg.l == 75);
    CHECK(cpu.pc == 15338);
    CHECK(cpu.sp == 4556);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15299] == 24);
    REQUIRE(cpu.ram[15300] == 37);
}

TEST_CASE( "18 0312", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25222;
    cpu.sp = 12997;
    cpu.reg.a = 222;
    cpu.reg.b = 154;
    cpu.reg.c = 245;
    cpu.reg.d = 41;
    cpu.reg.e = 96;
    cpu.reg.f = 176;
    cpu.reg.h = 192;
    cpu.reg.l = 234;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[25222] = 24;
    cpu.ram[25223] = 86;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 222);
    CHECK(cpu.reg.b == 154);
    CHECK(cpu.reg.c == 245);
    CHECK(cpu.reg.d == 41);
    CHECK(cpu.reg.e == 96);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 192);
    CHECK(cpu.reg.l == 234);
    CHECK(cpu.pc == 25310);
    CHECK(cpu.sp == 12997);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25222] == 24);
    REQUIRE(cpu.ram[25223] == 86);
}

TEST_CASE( "18 0313", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32688;
    cpu.sp = 37196;
    cpu.reg.a = 80;
    cpu.reg.b = 46;
    cpu.reg.c = 106;
    cpu.reg.d = 240;
    cpu.reg.e = 141;
    cpu.reg.f = 144;
    cpu.reg.h = 241;
    cpu.reg.l = 126;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[32688] = 24;
    cpu.ram[32689] = 96;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 80);
    CHECK(cpu.reg.b == 46);
    CHECK(cpu.reg.c == 106);
    CHECK(cpu.reg.d == 240);
    CHECK(cpu.reg.e == 141);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 126);
    CHECK(cpu.pc == 32786);
    CHECK(cpu.sp == 37196);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[32688] == 24);
    REQUIRE(cpu.ram[32689] == 96);
}

TEST_CASE( "18 0314", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39936;
    cpu.sp = 20001;
    cpu.reg.a = 107;
    cpu.reg.b = 213;
    cpu.reg.c = 251;
    cpu.reg.d = 188;
    cpu.reg.e = 185;
    cpu.reg.f = 128;
    cpu.reg.h = 161;
    cpu.reg.l = 88;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[39936] = 24;
    cpu.ram[39937] = 250;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 107);
    CHECK(cpu.reg.b == 213);
    CHECK(cpu.reg.c == 251);
    CHECK(cpu.reg.d == 188);
    CHECK(cpu.reg.e == 185);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 161);
    CHECK(cpu.reg.l == 88);
    CHECK(cpu.pc == 39932);
    CHECK(cpu.sp == 20001);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39936] == 24);
    REQUIRE(cpu.ram[39937] == 250);
}

TEST_CASE( "18 0315", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17770;
    cpu.sp = 1748;
    cpu.reg.a = 243;
    cpu.reg.b = 86;
    cpu.reg.c = 91;
    cpu.reg.d = 55;
    cpu.reg.e = 107;
    cpu.reg.f = 32;
    cpu.reg.h = 118;
    cpu.reg.l = 174;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[17770] = 24;
    cpu.ram[17771] = 161;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 243);
    CHECK(cpu.reg.b == 86);
    CHECK(cpu.reg.c == 91);
    CHECK(cpu.reg.d == 55);
    CHECK(cpu.reg.e == 107);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 118);
    CHECK(cpu.reg.l == 174);
    CHECK(cpu.pc == 17677);
    CHECK(cpu.sp == 1748);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17770] == 24);
    REQUIRE(cpu.ram[17771] == 161);
}

TEST_CASE( "18 0316", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64780;
    cpu.sp = 32475;
    cpu.reg.a = 86;
    cpu.reg.b = 147;
    cpu.reg.c = 219;
    cpu.reg.d = 139;
    cpu.reg.e = 180;
    cpu.reg.f = 48;
    cpu.reg.h = 173;
    cpu.reg.l = 44;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[64780] = 24;
    cpu.ram[64781] = 144;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 86);
    CHECK(cpu.reg.b == 147);
    CHECK(cpu.reg.c == 219);
    CHECK(cpu.reg.d == 139);
    CHECK(cpu.reg.e == 180);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 173);
    CHECK(cpu.reg.l == 44);
    CHECK(cpu.pc == 64670);
    CHECK(cpu.sp == 32475);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[64780] == 24);
    REQUIRE(cpu.ram[64781] == 144);
}

TEST_CASE( "18 0317", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19553;
    cpu.sp = 36910;
    cpu.reg.a = 206;
    cpu.reg.b = 128;
    cpu.reg.c = 110;
    cpu.reg.d = 234;
    cpu.reg.e = 167;
    cpu.reg.f = 224;
    cpu.reg.h = 126;
    cpu.reg.l = 168;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[19553] = 24;
    cpu.ram[19554] = 24;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 206);
    CHECK(cpu.reg.b == 128);
    CHECK(cpu.reg.c == 110);
    CHECK(cpu.reg.d == 234);
    CHECK(cpu.reg.e == 167);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 126);
    CHECK(cpu.reg.l == 168);
    CHECK(cpu.pc == 19579);
    CHECK(cpu.sp == 36910);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19553] == 24);
    REQUIRE(cpu.ram[19554] == 24);
}

TEST_CASE( "18 0318", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41430;
    cpu.sp = 15480;
    cpu.reg.a = 160;
    cpu.reg.b = 78;
    cpu.reg.c = 180;
    cpu.reg.d = 201;
    cpu.reg.e = 118;
    cpu.reg.f = 112;
    cpu.reg.h = 28;
    cpu.reg.l = 31;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[41430] = 24;
    cpu.ram[41431] = 210;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 160);
    CHECK(cpu.reg.b == 78);
    CHECK(cpu.reg.c == 180);
    CHECK(cpu.reg.d == 201);
    CHECK(cpu.reg.e == 118);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 28);
    CHECK(cpu.reg.l == 31);
    CHECK(cpu.pc == 41386);
    CHECK(cpu.sp == 15480);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[41430] == 24);
    REQUIRE(cpu.ram[41431] == 210);
}

TEST_CASE( "18 0319", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8189;
    cpu.sp = 25432;
    cpu.reg.a = 51;
    cpu.reg.b = 162;
    cpu.reg.c = 194;
    cpu.reg.d = 148;
    cpu.reg.e = 174;
    cpu.reg.f = 112;
    cpu.reg.h = 156;
    cpu.reg.l = 255;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[8189] = 24;
    cpu.ram[8190] = 218;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 51);
    CHECK(cpu.reg.b == 162);
    CHECK(cpu.reg.c == 194);
    CHECK(cpu.reg.d == 148);
    CHECK(cpu.reg.e == 174);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 156);
    CHECK(cpu.reg.l == 255);
    CHECK(cpu.pc == 8153);
    CHECK(cpu.sp == 25432);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8189] == 24);
    REQUIRE(cpu.ram[8190] == 218);
}

TEST_CASE( "18 031A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13804;
    cpu.sp = 50729;
    cpu.reg.a = 166;
    cpu.reg.b = 95;
    cpu.reg.c = 100;
    cpu.reg.d = 168;
    cpu.reg.e = 46;
    cpu.reg.f = 32;
    cpu.reg.h = 112;
    cpu.reg.l = 33;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[13804] = 24;
    cpu.ram[13805] = 149;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 166);
    CHECK(cpu.reg.b == 95);
    CHECK(cpu.reg.c == 100);
    CHECK(cpu.reg.d == 168);
    CHECK(cpu.reg.e == 46);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 112);
    CHECK(cpu.reg.l == 33);
    CHECK(cpu.pc == 13699);
    CHECK(cpu.sp == 50729);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13804] == 24);
    REQUIRE(cpu.ram[13805] == 149);
}

TEST_CASE( "18 031B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4259;
    cpu.sp = 18140;
    cpu.reg.a = 197;
    cpu.reg.b = 128;
    cpu.reg.c = 14;
    cpu.reg.d = 234;
    cpu.reg.e = 94;
    cpu.reg.f = 144;
    cpu.reg.h = 214;
    cpu.reg.l = 102;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[4259] = 24;
    cpu.ram[4260] = 127;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 197);
    CHECK(cpu.reg.b == 128);
    CHECK(cpu.reg.c == 14);
    CHECK(cpu.reg.d == 234);
    CHECK(cpu.reg.e == 94);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 214);
    CHECK(cpu.reg.l == 102);
    CHECK(cpu.pc == 4388);
    CHECK(cpu.sp == 18140);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[4259] == 24);
    REQUIRE(cpu.ram[4260] == 127);
}

TEST_CASE( "18 031C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11837;
    cpu.sp = 5022;
    cpu.reg.a = 149;
    cpu.reg.b = 13;
    cpu.reg.c = 127;
    cpu.reg.d = 85;
    cpu.reg.e = 187;
    cpu.reg.f = 32;
    cpu.reg.h = 121;
    cpu.reg.l = 116;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[11837] = 24;
    cpu.ram[11838] = 165;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 149);
    CHECK(cpu.reg.b == 13);
    CHECK(cpu.reg.c == 127);
    CHECK(cpu.reg.d == 85);
    CHECK(cpu.reg.e == 187);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 121);
    CHECK(cpu.reg.l == 116);
    CHECK(cpu.pc == 11748);
    CHECK(cpu.sp == 5022);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11837] == 24);
    REQUIRE(cpu.ram[11838] == 165);
}

TEST_CASE( "18 031D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57182;
    cpu.sp = 15297;
    cpu.reg.a = 69;
    cpu.reg.b = 41;
    cpu.reg.c = 120;
    cpu.reg.d = 6;
    cpu.reg.e = 147;
    cpu.reg.f = 144;
    cpu.reg.h = 119;
    cpu.reg.l = 111;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[57182] = 24;
    cpu.ram[57183] = 56;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 69);
    CHECK(cpu.reg.b == 41);
    CHECK(cpu.reg.c == 120);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 147);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 119);
    CHECK(cpu.reg.l == 111);
    CHECK(cpu.pc == 57240);
    CHECK(cpu.sp == 15297);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[57182] == 24);
    REQUIRE(cpu.ram[57183] == 56);
}

TEST_CASE( "18 031E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49816;
    cpu.sp = 21911;
    cpu.reg.a = 70;
    cpu.reg.b = 66;
    cpu.reg.c = 177;
    cpu.reg.d = 70;
    cpu.reg.e = 200;
    cpu.reg.f = 0;
    cpu.reg.h = 77;
    cpu.reg.l = 211;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[49816] = 24;
    cpu.ram[49817] = 35;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 70);
    CHECK(cpu.reg.b == 66);
    CHECK(cpu.reg.c == 177);
    CHECK(cpu.reg.d == 70);
    CHECK(cpu.reg.e == 200);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 77);
    CHECK(cpu.reg.l == 211);
    CHECK(cpu.pc == 49853);
    CHECK(cpu.sp == 21911);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49816] == 24);
    REQUIRE(cpu.ram[49817] == 35);
}

TEST_CASE( "18 031F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50844;
    cpu.sp = 30220;
    cpu.reg.a = 239;
    cpu.reg.b = 75;
    cpu.reg.c = 107;
    cpu.reg.d = 122;
    cpu.reg.e = 188;
    cpu.reg.f = 80;
    cpu.reg.h = 111;
    cpu.reg.l = 186;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[50844] = 24;
    cpu.ram[50845] = 133;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 239);
    CHECK(cpu.reg.b == 75);
    CHECK(cpu.reg.c == 107);
    CHECK(cpu.reg.d == 122);
    CHECK(cpu.reg.e == 188);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 111);
    CHECK(cpu.reg.l == 186);
    CHECK(cpu.pc == 50723);
    CHECK(cpu.sp == 30220);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[50844] == 24);
    REQUIRE(cpu.ram[50845] == 133);
}

TEST_CASE( "18 0320", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21235;
    cpu.sp = 27941;
    cpu.reg.a = 98;
    cpu.reg.b = 156;
    cpu.reg.c = 162;
    cpu.reg.d = 229;
    cpu.reg.e = 242;
    cpu.reg.f = 208;
    cpu.reg.h = 76;
    cpu.reg.l = 165;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[21235] = 24;
    cpu.ram[21236] = 136;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 98);
    CHECK(cpu.reg.b == 156);
    CHECK(cpu.reg.c == 162);
    CHECK(cpu.reg.d == 229);
    CHECK(cpu.reg.e == 242);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 76);
    CHECK(cpu.reg.l == 165);
    CHECK(cpu.pc == 21117);
    CHECK(cpu.sp == 27941);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21235] == 24);
    REQUIRE(cpu.ram[21236] == 136);
}

TEST_CASE( "18 0321", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41042;
    cpu.sp = 47145;
    cpu.reg.a = 160;
    cpu.reg.b = 225;
    cpu.reg.c = 239;
    cpu.reg.d = 94;
    cpu.reg.e = 63;
    cpu.reg.f = 176;
    cpu.reg.h = 140;
    cpu.reg.l = 26;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[41042] = 24;
    cpu.ram[41043] = 53;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 160);
    CHECK(cpu.reg.b == 225);
    CHECK(cpu.reg.c == 239);
    CHECK(cpu.reg.d == 94);
    CHECK(cpu.reg.e == 63);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 140);
    CHECK(cpu.reg.l == 26);
    CHECK(cpu.pc == 41097);
    CHECK(cpu.sp == 47145);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41042] == 24);
    REQUIRE(cpu.ram[41043] == 53);
}

TEST_CASE( "18 0322", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50122;
    cpu.sp = 41661;
    cpu.reg.a = 66;
    cpu.reg.b = 163;
    cpu.reg.c = 128;
    cpu.reg.d = 139;
    cpu.reg.e = 195;
    cpu.reg.f = 64;
    cpu.reg.h = 254;
    cpu.reg.l = 79;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[50122] = 24;
    cpu.ram[50123] = 41;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 66);
    CHECK(cpu.reg.b == 163);
    CHECK(cpu.reg.c == 128);
    CHECK(cpu.reg.d == 139);
    CHECK(cpu.reg.e == 195);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 254);
    CHECK(cpu.reg.l == 79);
    CHECK(cpu.pc == 50165);
    CHECK(cpu.sp == 41661);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[50122] == 24);
    REQUIRE(cpu.ram[50123] == 41);
}

TEST_CASE( "18 0323", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3068;
    cpu.sp = 55836;
    cpu.reg.a = 39;
    cpu.reg.b = 163;
    cpu.reg.c = 255;
    cpu.reg.d = 70;
    cpu.reg.e = 93;
    cpu.reg.f = 32;
    cpu.reg.h = 62;
    cpu.reg.l = 238;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[3068] = 24;
    cpu.ram[3069] = 210;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 39);
    CHECK(cpu.reg.b == 163);
    CHECK(cpu.reg.c == 255);
    CHECK(cpu.reg.d == 70);
    CHECK(cpu.reg.e == 93);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 62);
    CHECK(cpu.reg.l == 238);
    CHECK(cpu.pc == 3024);
    CHECK(cpu.sp == 55836);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3068] == 24);
    REQUIRE(cpu.ram[3069] == 210);
}

TEST_CASE( "18 0324", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40236;
    cpu.sp = 18734;
    cpu.reg.a = 33;
    cpu.reg.b = 165;
    cpu.reg.c = 209;
    cpu.reg.d = 81;
    cpu.reg.e = 182;
    cpu.reg.f = 224;
    cpu.reg.h = 10;
    cpu.reg.l = 38;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[40236] = 24;
    cpu.ram[40237] = 244;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 33);
    CHECK(cpu.reg.b == 165);
    CHECK(cpu.reg.c == 209);
    CHECK(cpu.reg.d == 81);
    CHECK(cpu.reg.e == 182);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 10);
    CHECK(cpu.reg.l == 38);
    CHECK(cpu.pc == 40226);
    CHECK(cpu.sp == 18734);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40236] == 24);
    REQUIRE(cpu.ram[40237] == 244);
}

TEST_CASE( "18 0325", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19413;
    cpu.sp = 46575;
    cpu.reg.a = 255;
    cpu.reg.b = 61;
    cpu.reg.c = 91;
    cpu.reg.d = 194;
    cpu.reg.e = 174;
    cpu.reg.f = 160;
    cpu.reg.h = 119;
    cpu.reg.l = 187;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[19413] = 24;
    cpu.ram[19414] = 43;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 255);
    CHECK(cpu.reg.b == 61);
    CHECK(cpu.reg.c == 91);
    CHECK(cpu.reg.d == 194);
    CHECK(cpu.reg.e == 174);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 119);
    CHECK(cpu.reg.l == 187);
    CHECK(cpu.pc == 19458);
    CHECK(cpu.sp == 46575);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19413] == 24);
    REQUIRE(cpu.ram[19414] == 43);
}

TEST_CASE( "18 0326", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14051;
    cpu.sp = 45698;
    cpu.reg.a = 121;
    cpu.reg.b = 68;
    cpu.reg.c = 69;
    cpu.reg.d = 196;
    cpu.reg.e = 250;
    cpu.reg.f = 112;
    cpu.reg.h = 170;
    cpu.reg.l = 139;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[14051] = 24;
    cpu.ram[14052] = 29;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 121);
    CHECK(cpu.reg.b == 68);
    CHECK(cpu.reg.c == 69);
    CHECK(cpu.reg.d == 196);
    CHECK(cpu.reg.e == 250);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 170);
    CHECK(cpu.reg.l == 139);
    CHECK(cpu.pc == 14082);
    CHECK(cpu.sp == 45698);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14051] == 24);
    REQUIRE(cpu.ram[14052] == 29);
}

TEST_CASE( "18 0327", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56469;
    cpu.sp = 30905;
    cpu.reg.a = 198;
    cpu.reg.b = 6;
    cpu.reg.c = 15;
    cpu.reg.d = 198;
    cpu.reg.e = 46;
    cpu.reg.f = 64;
    cpu.reg.h = 91;
    cpu.reg.l = 106;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[56469] = 24;
    cpu.ram[56470] = 179;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 198);
    CHECK(cpu.reg.b == 6);
    CHECK(cpu.reg.c == 15);
    CHECK(cpu.reg.d == 198);
    CHECK(cpu.reg.e == 46);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 91);
    CHECK(cpu.reg.l == 106);
    CHECK(cpu.pc == 56394);
    CHECK(cpu.sp == 30905);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56469] == 24);
    REQUIRE(cpu.ram[56470] == 179);
}

TEST_CASE( "18 0328", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56333;
    cpu.sp = 38073;
    cpu.reg.a = 224;
    cpu.reg.b = 67;
    cpu.reg.c = 76;
    cpu.reg.d = 68;
    cpu.reg.e = 114;
    cpu.reg.f = 48;
    cpu.reg.h = 222;
    cpu.reg.l = 145;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[56333] = 24;
    cpu.ram[56334] = 241;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 67);
    CHECK(cpu.reg.c == 76);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 114);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 222);
    CHECK(cpu.reg.l == 145);
    CHECK(cpu.pc == 56320);
    CHECK(cpu.sp == 38073);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56333] == 24);
    REQUIRE(cpu.ram[56334] == 241);
}

TEST_CASE( "18 0329", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25600;
    cpu.sp = 18320;
    cpu.reg.a = 190;
    cpu.reg.b = 33;
    cpu.reg.c = 189;
    cpu.reg.d = 126;
    cpu.reg.e = 252;
    cpu.reg.f = 96;
    cpu.reg.h = 87;
    cpu.reg.l = 32;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[25600] = 24;
    cpu.ram[25601] = 165;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 190);
    CHECK(cpu.reg.b == 33);
    CHECK(cpu.reg.c == 189);
    CHECK(cpu.reg.d == 126);
    CHECK(cpu.reg.e == 252);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 87);
    CHECK(cpu.reg.l == 32);
    CHECK(cpu.pc == 25511);
    CHECK(cpu.sp == 18320);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25600] == 24);
    REQUIRE(cpu.ram[25601] == 165);
}

TEST_CASE( "18 032A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 18307;
    cpu.sp = 37081;
    cpu.reg.a = 39;
    cpu.reg.b = 250;
    cpu.reg.c = 207;
    cpu.reg.d = 116;
    cpu.reg.e = 169;
    cpu.reg.f = 192;
    cpu.reg.h = 188;
    cpu.reg.l = 138;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[18307] = 24;
    cpu.ram[18308] = 206;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 39);
    CHECK(cpu.reg.b == 250);
    CHECK(cpu.reg.c == 207);
    CHECK(cpu.reg.d == 116);
    CHECK(cpu.reg.e == 169);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 188);
    CHECK(cpu.reg.l == 138);
    CHECK(cpu.pc == 18259);
    CHECK(cpu.sp == 37081);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[18307] == 24);
    REQUIRE(cpu.ram[18308] == 206);
}

TEST_CASE( "18 032B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34433;
    cpu.sp = 33750;
    cpu.reg.a = 251;
    cpu.reg.b = 203;
    cpu.reg.c = 71;
    cpu.reg.d = 148;
    cpu.reg.e = 179;
    cpu.reg.f = 16;
    cpu.reg.h = 32;
    cpu.reg.l = 162;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[34433] = 24;
    cpu.ram[34434] = 115;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 251);
    CHECK(cpu.reg.b == 203);
    CHECK(cpu.reg.c == 71);
    CHECK(cpu.reg.d == 148);
    CHECK(cpu.reg.e == 179);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 32);
    CHECK(cpu.reg.l == 162);
    CHECK(cpu.pc == 34550);
    CHECK(cpu.sp == 33750);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34433] == 24);
    REQUIRE(cpu.ram[34434] == 115);
}

TEST_CASE( "18 032C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8067;
    cpu.sp = 38771;
    cpu.reg.a = 232;
    cpu.reg.b = 139;
    cpu.reg.c = 101;
    cpu.reg.d = 186;
    cpu.reg.e = 185;
    cpu.reg.f = 160;
    cpu.reg.h = 142;
    cpu.reg.l = 227;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[8067] = 24;
    cpu.ram[8068] = 58;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 232);
    CHECK(cpu.reg.b == 139);
    CHECK(cpu.reg.c == 101);
    CHECK(cpu.reg.d == 186);
    CHECK(cpu.reg.e == 185);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 142);
    CHECK(cpu.reg.l == 227);
    CHECK(cpu.pc == 8127);
    CHECK(cpu.sp == 38771);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8067] == 24);
    REQUIRE(cpu.ram[8068] == 58);
}

TEST_CASE( "18 032D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39933;
    cpu.sp = 22989;
    cpu.reg.a = 62;
    cpu.reg.b = 184;
    cpu.reg.c = 120;
    cpu.reg.d = 125;
    cpu.reg.e = 222;
    cpu.reg.f = 48;
    cpu.reg.h = 193;
    cpu.reg.l = 25;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[39933] = 24;
    cpu.ram[39934] = 7;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 62);
    CHECK(cpu.reg.b == 184);
    CHECK(cpu.reg.c == 120);
    CHECK(cpu.reg.d == 125);
    CHECK(cpu.reg.e == 222);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 193);
    CHECK(cpu.reg.l == 25);
    CHECK(cpu.pc == 39942);
    CHECK(cpu.sp == 22989);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39933] == 24);
    REQUIRE(cpu.ram[39934] == 7);
}

TEST_CASE( "18 032E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10160;
    cpu.sp = 62111;
    cpu.reg.a = 3;
    cpu.reg.b = 91;
    cpu.reg.c = 148;
    cpu.reg.d = 168;
    cpu.reg.e = 246;
    cpu.reg.f = 0;
    cpu.reg.h = 109;
    cpu.reg.l = 66;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[10160] = 24;
    cpu.ram[10161] = 123;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 3);
    CHECK(cpu.reg.b == 91);
    CHECK(cpu.reg.c == 148);
    CHECK(cpu.reg.d == 168);
    CHECK(cpu.reg.e == 246);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 109);
    CHECK(cpu.reg.l == 66);
    CHECK(cpu.pc == 10285);
    CHECK(cpu.sp == 62111);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10160] == 24);
    REQUIRE(cpu.ram[10161] == 123);
}

TEST_CASE( "18 032F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23904;
    cpu.sp = 7705;
    cpu.reg.a = 237;
    cpu.reg.b = 242;
    cpu.reg.c = 63;
    cpu.reg.d = 239;
    cpu.reg.e = 205;
    cpu.reg.f = 64;
    cpu.reg.h = 92;
    cpu.reg.l = 115;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[23904] = 24;
    cpu.ram[23905] = 167;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 237);
    CHECK(cpu.reg.b == 242);
    CHECK(cpu.reg.c == 63);
    CHECK(cpu.reg.d == 239);
    CHECK(cpu.reg.e == 205);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 92);
    CHECK(cpu.reg.l == 115);
    CHECK(cpu.pc == 23817);
    CHECK(cpu.sp == 7705);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23904] == 24);
    REQUIRE(cpu.ram[23905] == 167);
}

TEST_CASE( "18 0330", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50255;
    cpu.sp = 64740;
    cpu.reg.a = 36;
    cpu.reg.b = 233;
    cpu.reg.c = 127;
    cpu.reg.d = 160;
    cpu.reg.e = 93;
    cpu.reg.f = 48;
    cpu.reg.h = 225;
    cpu.reg.l = 224;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[50255] = 24;
    cpu.ram[50256] = 28;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 36);
    CHECK(cpu.reg.b == 233);
    CHECK(cpu.reg.c == 127);
    CHECK(cpu.reg.d == 160);
    CHECK(cpu.reg.e == 93);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 225);
    CHECK(cpu.reg.l == 224);
    CHECK(cpu.pc == 50285);
    CHECK(cpu.sp == 64740);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[50255] == 24);
    REQUIRE(cpu.ram[50256] == 28);
}

TEST_CASE( "18 0331", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64476;
    cpu.sp = 60231;
    cpu.reg.a = 149;
    cpu.reg.b = 108;
    cpu.reg.c = 228;
    cpu.reg.d = 143;
    cpu.reg.e = 212;
    cpu.reg.f = 224;
    cpu.reg.h = 167;
    cpu.reg.l = 143;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[64476] = 24;
    cpu.ram[64477] = 156;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 149);
    CHECK(cpu.reg.b == 108);
    CHECK(cpu.reg.c == 228);
    CHECK(cpu.reg.d == 143);
    CHECK(cpu.reg.e == 212);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 167);
    CHECK(cpu.reg.l == 143);
    CHECK(cpu.pc == 64378);
    CHECK(cpu.sp == 60231);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64476] == 24);
    REQUIRE(cpu.ram[64477] == 156);
}

TEST_CASE( "18 0332", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61236;
    cpu.sp = 45795;
    cpu.reg.a = 154;
    cpu.reg.b = 142;
    cpu.reg.c = 19;
    cpu.reg.d = 88;
    cpu.reg.e = 180;
    cpu.reg.f = 240;
    cpu.reg.h = 59;
    cpu.reg.l = 163;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[61236] = 24;
    cpu.ram[61237] = 59;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 154);
    CHECK(cpu.reg.b == 142);
    CHECK(cpu.reg.c == 19);
    CHECK(cpu.reg.d == 88);
    CHECK(cpu.reg.e == 180);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 59);
    CHECK(cpu.reg.l == 163);
    CHECK(cpu.pc == 61297);
    CHECK(cpu.sp == 45795);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61236] == 24);
    REQUIRE(cpu.ram[61237] == 59);
}

TEST_CASE( "18 0333", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7598;
    cpu.sp = 36360;
    cpu.reg.a = 37;
    cpu.reg.b = 140;
    cpu.reg.c = 215;
    cpu.reg.d = 139;
    cpu.reg.e = 196;
    cpu.reg.f = 144;
    cpu.reg.h = 228;
    cpu.reg.l = 251;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[7598] = 24;
    cpu.ram[7599] = 68;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 37);
    CHECK(cpu.reg.b == 140);
    CHECK(cpu.reg.c == 215);
    CHECK(cpu.reg.d == 139);
    CHECK(cpu.reg.e == 196);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 228);
    CHECK(cpu.reg.l == 251);
    CHECK(cpu.pc == 7668);
    CHECK(cpu.sp == 36360);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7598] == 24);
    REQUIRE(cpu.ram[7599] == 68);
}

TEST_CASE( "18 0334", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55010;
    cpu.sp = 5066;
    cpu.reg.a = 100;
    cpu.reg.b = 120;
    cpu.reg.c = 206;
    cpu.reg.d = 182;
    cpu.reg.e = 135;
    cpu.reg.f = 176;
    cpu.reg.h = 190;
    cpu.reg.l = 91;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[55010] = 24;
    cpu.ram[55011] = 238;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 100);
    CHECK(cpu.reg.b == 120);
    CHECK(cpu.reg.c == 206);
    CHECK(cpu.reg.d == 182);
    CHECK(cpu.reg.e == 135);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 190);
    CHECK(cpu.reg.l == 91);
    CHECK(cpu.pc == 54994);
    CHECK(cpu.sp == 5066);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[55010] == 24);
    REQUIRE(cpu.ram[55011] == 238);
}

TEST_CASE( "18 0335", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24279;
    cpu.sp = 49518;
    cpu.reg.a = 81;
    cpu.reg.b = 205;
    cpu.reg.c = 214;
    cpu.reg.d = 11;
    cpu.reg.e = 234;
    cpu.reg.f = 192;
    cpu.reg.h = 193;
    cpu.reg.l = 221;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[24279] = 24;
    cpu.ram[24280] = 251;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 81);
    CHECK(cpu.reg.b == 205);
    CHECK(cpu.reg.c == 214);
    CHECK(cpu.reg.d == 11);
    CHECK(cpu.reg.e == 234);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 193);
    CHECK(cpu.reg.l == 221);
    CHECK(cpu.pc == 24276);
    CHECK(cpu.sp == 49518);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24279] == 24);
    REQUIRE(cpu.ram[24280] == 251);
}

TEST_CASE( "18 0336", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26375;
    cpu.sp = 49327;
    cpu.reg.a = 155;
    cpu.reg.b = 112;
    cpu.reg.c = 151;
    cpu.reg.d = 31;
    cpu.reg.e = 192;
    cpu.reg.f = 176;
    cpu.reg.h = 42;
    cpu.reg.l = 21;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26375] = 24;
    cpu.ram[26376] = 195;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 155);
    CHECK(cpu.reg.b == 112);
    CHECK(cpu.reg.c == 151);
    CHECK(cpu.reg.d == 31);
    CHECK(cpu.reg.e == 192);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 42);
    CHECK(cpu.reg.l == 21);
    CHECK(cpu.pc == 26316);
    CHECK(cpu.sp == 49327);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26375] == 24);
    REQUIRE(cpu.ram[26376] == 195);
}

TEST_CASE( "18 0337", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50362;
    cpu.sp = 10937;
    cpu.reg.a = 19;
    cpu.reg.b = 130;
    cpu.reg.c = 28;
    cpu.reg.d = 163;
    cpu.reg.e = 245;
    cpu.reg.f = 240;
    cpu.reg.h = 243;
    cpu.reg.l = 50;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[50362] = 24;
    cpu.ram[50363] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 19);
    CHECK(cpu.reg.b == 130);
    CHECK(cpu.reg.c == 28);
    CHECK(cpu.reg.d == 163);
    CHECK(cpu.reg.e == 245);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 243);
    CHECK(cpu.reg.l == 50);
    CHECK(cpu.pc == 50368);
    CHECK(cpu.sp == 10937);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50362] == 24);
    REQUIRE(cpu.ram[50363] == 4);
}

TEST_CASE( "18 0338", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5782;
    cpu.sp = 54477;
    cpu.reg.a = 149;
    cpu.reg.b = 97;
    cpu.reg.c = 242;
    cpu.reg.d = 208;
    cpu.reg.e = 218;
    cpu.reg.f = 32;
    cpu.reg.h = 69;
    cpu.reg.l = 119;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[5782] = 24;
    cpu.ram[5783] = 146;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 149);
    CHECK(cpu.reg.b == 97);
    CHECK(cpu.reg.c == 242);
    CHECK(cpu.reg.d == 208);
    CHECK(cpu.reg.e == 218);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 69);
    CHECK(cpu.reg.l == 119);
    CHECK(cpu.pc == 5674);
    CHECK(cpu.sp == 54477);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5782] == 24);
    REQUIRE(cpu.ram[5783] == 146);
}

TEST_CASE( "18 0339", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44110;
    cpu.sp = 42412;
    cpu.reg.a = 84;
    cpu.reg.b = 119;
    cpu.reg.c = 122;
    cpu.reg.d = 173;
    cpu.reg.e = 13;
    cpu.reg.f = 48;
    cpu.reg.h = 31;
    cpu.reg.l = 104;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[44110] = 24;
    cpu.ram[44111] = 144;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 84);
    CHECK(cpu.reg.b == 119);
    CHECK(cpu.reg.c == 122);
    CHECK(cpu.reg.d == 173);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 31);
    CHECK(cpu.reg.l == 104);
    CHECK(cpu.pc == 44000);
    CHECK(cpu.sp == 42412);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44110] == 24);
    REQUIRE(cpu.ram[44111] == 144);
}

TEST_CASE( "18 033A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21694;
    cpu.sp = 12788;
    cpu.reg.a = 19;
    cpu.reg.b = 84;
    cpu.reg.c = 152;
    cpu.reg.d = 70;
    cpu.reg.e = 14;
    cpu.reg.f = 208;
    cpu.reg.h = 68;
    cpu.reg.l = 232;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[21694] = 24;
    cpu.ram[21695] = 193;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 19);
    CHECK(cpu.reg.b == 84);
    CHECK(cpu.reg.c == 152);
    CHECK(cpu.reg.d == 70);
    CHECK(cpu.reg.e == 14);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 68);
    CHECK(cpu.reg.l == 232);
    CHECK(cpu.pc == 21633);
    CHECK(cpu.sp == 12788);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21694] == 24);
    REQUIRE(cpu.ram[21695] == 193);
}

TEST_CASE( "18 033B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1363;
    cpu.sp = 3581;
    cpu.reg.a = 158;
    cpu.reg.b = 22;
    cpu.reg.c = 29;
    cpu.reg.d = 161;
    cpu.reg.e = 0;
    cpu.reg.f = 16;
    cpu.reg.h = 96;
    cpu.reg.l = 66;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1363] = 24;
    cpu.ram[1364] = 17;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 158);
    CHECK(cpu.reg.b == 22);
    CHECK(cpu.reg.c == 29);
    CHECK(cpu.reg.d == 161);
    CHECK(cpu.reg.e == 0);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 96);
    CHECK(cpu.reg.l == 66);
    CHECK(cpu.pc == 1382);
    CHECK(cpu.sp == 3581);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1363] == 24);
    REQUIRE(cpu.ram[1364] == 17);
}

TEST_CASE( "18 033C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63642;
    cpu.sp = 22337;
    cpu.reg.a = 210;
    cpu.reg.b = 17;
    cpu.reg.c = 159;
    cpu.reg.d = 73;
    cpu.reg.e = 231;
    cpu.reg.f = 224;
    cpu.reg.h = 236;
    cpu.reg.l = 33;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[63642] = 24;
    cpu.ram[63643] = 216;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 210);
    CHECK(cpu.reg.b == 17);
    CHECK(cpu.reg.c == 159);
    CHECK(cpu.reg.d == 73);
    CHECK(cpu.reg.e == 231);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 236);
    CHECK(cpu.reg.l == 33);
    CHECK(cpu.pc == 63604);
    CHECK(cpu.sp == 22337);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[63642] == 24);
    REQUIRE(cpu.ram[63643] == 216);
}

TEST_CASE( "18 033D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40364;
    cpu.sp = 44403;
    cpu.reg.a = 63;
    cpu.reg.b = 218;
    cpu.reg.c = 186;
    cpu.reg.d = 116;
    cpu.reg.e = 119;
    cpu.reg.f = 0;
    cpu.reg.h = 1;
    cpu.reg.l = 42;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[40364] = 24;
    cpu.ram[40365] = 151;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 63);
    CHECK(cpu.reg.b == 218);
    CHECK(cpu.reg.c == 186);
    CHECK(cpu.reg.d == 116);
    CHECK(cpu.reg.e == 119);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 1);
    CHECK(cpu.reg.l == 42);
    CHECK(cpu.pc == 40261);
    CHECK(cpu.sp == 44403);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40364] == 24);
    REQUIRE(cpu.ram[40365] == 151);
}

TEST_CASE( "18 033E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 177;
    cpu.sp = 4418;
    cpu.reg.a = 201;
    cpu.reg.b = 123;
    cpu.reg.c = 53;
    cpu.reg.d = 88;
    cpu.reg.e = 3;
    cpu.reg.f = 160;
    cpu.reg.h = 196;
    cpu.reg.l = 113;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[177] = 24;
    cpu.ram[178] = 246;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 201);
    CHECK(cpu.reg.b == 123);
    CHECK(cpu.reg.c == 53);
    CHECK(cpu.reg.d == 88);
    CHECK(cpu.reg.e == 3);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 196);
    CHECK(cpu.reg.l == 113);
    CHECK(cpu.pc == 169);
    CHECK(cpu.sp == 4418);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[177] == 24);
    REQUIRE(cpu.ram[178] == 246);
}

TEST_CASE( "18 033F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26487;
    cpu.sp = 23247;
    cpu.reg.a = 91;
    cpu.reg.b = 101;
    cpu.reg.c = 58;
    cpu.reg.d = 48;
    cpu.reg.e = 215;
    cpu.reg.f = 240;
    cpu.reg.h = 177;
    cpu.reg.l = 76;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26487] = 24;
    cpu.ram[26488] = 202;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 91);
    CHECK(cpu.reg.b == 101);
    CHECK(cpu.reg.c == 58);
    CHECK(cpu.reg.d == 48);
    CHECK(cpu.reg.e == 215);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 177);
    CHECK(cpu.reg.l == 76);
    CHECK(cpu.pc == 26435);
    CHECK(cpu.sp == 23247);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26487] == 24);
    REQUIRE(cpu.ram[26488] == 202);
}

TEST_CASE( "18 0340", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17961;
    cpu.sp = 23584;
    cpu.reg.a = 119;
    cpu.reg.b = 110;
    cpu.reg.c = 76;
    cpu.reg.d = 177;
    cpu.reg.e = 118;
    cpu.reg.f = 112;
    cpu.reg.h = 50;
    cpu.reg.l = 111;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[17961] = 24;
    cpu.ram[17962] = 38;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 119);
    CHECK(cpu.reg.b == 110);
    CHECK(cpu.reg.c == 76);
    CHECK(cpu.reg.d == 177);
    CHECK(cpu.reg.e == 118);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 50);
    CHECK(cpu.reg.l == 111);
    CHECK(cpu.pc == 18001);
    CHECK(cpu.sp == 23584);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17961] == 24);
    REQUIRE(cpu.ram[17962] == 38);
}

TEST_CASE( "18 0341", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11249;
    cpu.sp = 4527;
    cpu.reg.a = 71;
    cpu.reg.b = 255;
    cpu.reg.c = 29;
    cpu.reg.d = 192;
    cpu.reg.e = 76;
    cpu.reg.f = 160;
    cpu.reg.h = 169;
    cpu.reg.l = 50;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[11249] = 24;
    cpu.ram[11250] = 199;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 71);
    CHECK(cpu.reg.b == 255);
    CHECK(cpu.reg.c == 29);
    CHECK(cpu.reg.d == 192);
    CHECK(cpu.reg.e == 76);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 169);
    CHECK(cpu.reg.l == 50);
    CHECK(cpu.pc == 11194);
    CHECK(cpu.sp == 4527);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11249] == 24);
    REQUIRE(cpu.ram[11250] == 199);
}

TEST_CASE( "18 0342", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24624;
    cpu.sp = 6033;
    cpu.reg.a = 154;
    cpu.reg.b = 195;
    cpu.reg.c = 5;
    cpu.reg.d = 150;
    cpu.reg.e = 18;
    cpu.reg.f = 112;
    cpu.reg.h = 28;
    cpu.reg.l = 2;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[24624] = 24;
    cpu.ram[24625] = 169;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 154);
    CHECK(cpu.reg.b == 195);
    CHECK(cpu.reg.c == 5);
    CHECK(cpu.reg.d == 150);
    CHECK(cpu.reg.e == 18);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 28);
    CHECK(cpu.reg.l == 2);
    CHECK(cpu.pc == 24539);
    CHECK(cpu.sp == 6033);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24624] == 24);
    REQUIRE(cpu.ram[24625] == 169);
}

TEST_CASE( "18 0343", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61356;
    cpu.sp = 23201;
    cpu.reg.a = 111;
    cpu.reg.b = 61;
    cpu.reg.c = 119;
    cpu.reg.d = 116;
    cpu.reg.e = 246;
    cpu.reg.f = 48;
    cpu.reg.h = 62;
    cpu.reg.l = 179;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[61356] = 24;
    cpu.ram[61357] = 92;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 111);
    CHECK(cpu.reg.b == 61);
    CHECK(cpu.reg.c == 119);
    CHECK(cpu.reg.d == 116);
    CHECK(cpu.reg.e == 246);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 62);
    CHECK(cpu.reg.l == 179);
    CHECK(cpu.pc == 61450);
    CHECK(cpu.sp == 23201);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61356] == 24);
    REQUIRE(cpu.ram[61357] == 92);
}

TEST_CASE( "18 0344", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26620;
    cpu.sp = 55644;
    cpu.reg.a = 201;
    cpu.reg.b = 207;
    cpu.reg.c = 69;
    cpu.reg.d = 63;
    cpu.reg.e = 133;
    cpu.reg.f = 160;
    cpu.reg.h = 59;
    cpu.reg.l = 99;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[26620] = 24;
    cpu.ram[26621] = 153;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 201);
    CHECK(cpu.reg.b == 207);
    CHECK(cpu.reg.c == 69);
    CHECK(cpu.reg.d == 63);
    CHECK(cpu.reg.e == 133);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 59);
    CHECK(cpu.reg.l == 99);
    CHECK(cpu.pc == 26519);
    CHECK(cpu.sp == 55644);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26620] == 24);
    REQUIRE(cpu.ram[26621] == 153);
}

TEST_CASE( "18 0345", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60274;
    cpu.sp = 43514;
    cpu.reg.a = 226;
    cpu.reg.b = 98;
    cpu.reg.c = 7;
    cpu.reg.d = 44;
    cpu.reg.e = 198;
    cpu.reg.f = 224;
    cpu.reg.h = 193;
    cpu.reg.l = 192;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[60274] = 24;
    cpu.ram[60275] = 128;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 226);
    CHECK(cpu.reg.b == 98);
    CHECK(cpu.reg.c == 7);
    CHECK(cpu.reg.d == 44);
    CHECK(cpu.reg.e == 198);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 193);
    CHECK(cpu.reg.l == 192);
    CHECK(cpu.pc == 60148);
    CHECK(cpu.sp == 43514);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[60274] == 24);
    REQUIRE(cpu.ram[60275] == 128);
}

TEST_CASE( "18 0346", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 59991;
    cpu.sp = 14115;
    cpu.reg.a = 210;
    cpu.reg.b = 96;
    cpu.reg.c = 249;
    cpu.reg.d = 24;
    cpu.reg.e = 158;
    cpu.reg.f = 112;
    cpu.reg.h = 91;
    cpu.reg.l = 236;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[59991] = 24;
    cpu.ram[59992] = 28;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 210);
    CHECK(cpu.reg.b == 96);
    CHECK(cpu.reg.c == 249);
    CHECK(cpu.reg.d == 24);
    CHECK(cpu.reg.e == 158);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 91);
    CHECK(cpu.reg.l == 236);
    CHECK(cpu.pc == 60021);
    CHECK(cpu.sp == 14115);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[59991] == 24);
    REQUIRE(cpu.ram[59992] == 28);
}

TEST_CASE( "18 0347", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3911;
    cpu.sp = 61973;
    cpu.reg.a = 187;
    cpu.reg.b = 209;
    cpu.reg.c = 219;
    cpu.reg.d = 68;
    cpu.reg.e = 170;
    cpu.reg.f = 224;
    cpu.reg.h = 156;
    cpu.reg.l = 166;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[3911] = 24;
    cpu.ram[3912] = 175;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 187);
    CHECK(cpu.reg.b == 209);
    CHECK(cpu.reg.c == 219);
    CHECK(cpu.reg.d == 68);
    CHECK(cpu.reg.e == 170);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 156);
    CHECK(cpu.reg.l == 166);
    CHECK(cpu.pc == 3832);
    CHECK(cpu.sp == 61973);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3911] == 24);
    REQUIRE(cpu.ram[3912] == 175);
}

TEST_CASE( "18 0348", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8319;
    cpu.sp = 46886;
    cpu.reg.a = 145;
    cpu.reg.b = 186;
    cpu.reg.c = 31;
    cpu.reg.d = 199;
    cpu.reg.e = 115;
    cpu.reg.f = 80;
    cpu.reg.h = 122;
    cpu.reg.l = 13;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[8319] = 24;
    cpu.ram[8320] = 52;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 145);
    CHECK(cpu.reg.b == 186);
    CHECK(cpu.reg.c == 31);
    CHECK(cpu.reg.d == 199);
    CHECK(cpu.reg.e == 115);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 122);
    CHECK(cpu.reg.l == 13);
    CHECK(cpu.pc == 8373);
    CHECK(cpu.sp == 46886);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8319] == 24);
    REQUIRE(cpu.ram[8320] == 52);
}

TEST_CASE( "18 0349", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10629;
    cpu.sp = 10068;
    cpu.reg.a = 24;
    cpu.reg.b = 96;
    cpu.reg.c = 252;
    cpu.reg.d = 59;
    cpu.reg.e = 31;
    cpu.reg.f = 144;
    cpu.reg.h = 45;
    cpu.reg.l = 21;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[10629] = 24;
    cpu.ram[10630] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 24);
    CHECK(cpu.reg.b == 96);
    CHECK(cpu.reg.c == 252);
    CHECK(cpu.reg.d == 59);
    CHECK(cpu.reg.e == 31);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 45);
    CHECK(cpu.reg.l == 21);
    CHECK(cpu.pc == 10635);
    CHECK(cpu.sp == 10068);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10629] == 24);
    REQUIRE(cpu.ram[10630] == 4);
}

TEST_CASE( "18 034A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38385;
    cpu.sp = 29798;
    cpu.reg.a = 27;
    cpu.reg.b = 133;
    cpu.reg.c = 73;
    cpu.reg.d = 133;
    cpu.reg.e = 165;
    cpu.reg.f = 208;
    cpu.reg.h = 132;
    cpu.reg.l = 226;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[38385] = 24;
    cpu.ram[38386] = 47;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 27);
    CHECK(cpu.reg.b == 133);
    CHECK(cpu.reg.c == 73);
    CHECK(cpu.reg.d == 133);
    CHECK(cpu.reg.e == 165);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 132);
    CHECK(cpu.reg.l == 226);
    CHECK(cpu.pc == 38434);
    CHECK(cpu.sp == 29798);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38385] == 24);
    REQUIRE(cpu.ram[38386] == 47);
}

TEST_CASE( "18 034B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15744;
    cpu.sp = 34530;
    cpu.reg.a = 70;
    cpu.reg.b = 230;
    cpu.reg.c = 127;
    cpu.reg.d = 77;
    cpu.reg.e = 31;
    cpu.reg.f = 208;
    cpu.reg.h = 89;
    cpu.reg.l = 180;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[15744] = 24;
    cpu.ram[15745] = 173;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 70);
    CHECK(cpu.reg.b == 230);
    CHECK(cpu.reg.c == 127);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 31);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 89);
    CHECK(cpu.reg.l == 180);
    CHECK(cpu.pc == 15663);
    CHECK(cpu.sp == 34530);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15744] == 24);
    REQUIRE(cpu.ram[15745] == 173);
}

TEST_CASE( "18 034C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10414;
    cpu.sp = 55395;
    cpu.reg.a = 96;
    cpu.reg.b = 40;
    cpu.reg.c = 23;
    cpu.reg.d = 205;
    cpu.reg.e = 86;
    cpu.reg.f = 48;
    cpu.reg.h = 198;
    cpu.reg.l = 184;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[10414] = 24;
    cpu.ram[10415] = 120;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 96);
    CHECK(cpu.reg.b == 40);
    CHECK(cpu.reg.c == 23);
    CHECK(cpu.reg.d == 205);
    CHECK(cpu.reg.e == 86);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 198);
    CHECK(cpu.reg.l == 184);
    CHECK(cpu.pc == 10536);
    CHECK(cpu.sp == 55395);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10414] == 24);
    REQUIRE(cpu.ram[10415] == 120);
}

TEST_CASE( "18 034D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25239;
    cpu.sp = 34485;
    cpu.reg.a = 179;
    cpu.reg.b = 165;
    cpu.reg.c = 174;
    cpu.reg.d = 219;
    cpu.reg.e = 108;
    cpu.reg.f = 160;
    cpu.reg.h = 120;
    cpu.reg.l = 115;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[25239] = 24;
    cpu.ram[25240] = 114;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 179);
    CHECK(cpu.reg.b == 165);
    CHECK(cpu.reg.c == 174);
    CHECK(cpu.reg.d == 219);
    CHECK(cpu.reg.e == 108);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 120);
    CHECK(cpu.reg.l == 115);
    CHECK(cpu.pc == 25355);
    CHECK(cpu.sp == 34485);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25239] == 24);
    REQUIRE(cpu.ram[25240] == 114);
}

TEST_CASE( "18 034E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23810;
    cpu.sp = 28129;
    cpu.reg.a = 181;
    cpu.reg.b = 47;
    cpu.reg.c = 193;
    cpu.reg.d = 199;
    cpu.reg.e = 89;
    cpu.reg.f = 176;
    cpu.reg.h = 128;
    cpu.reg.l = 161;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[23810] = 24;
    cpu.ram[23811] = 65;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 181);
    CHECK(cpu.reg.b == 47);
    CHECK(cpu.reg.c == 193);
    CHECK(cpu.reg.d == 199);
    CHECK(cpu.reg.e == 89);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 128);
    CHECK(cpu.reg.l == 161);
    CHECK(cpu.pc == 23877);
    CHECK(cpu.sp == 28129);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23810] == 24);
    REQUIRE(cpu.ram[23811] == 65);
}

TEST_CASE( "18 034F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10081;
    cpu.sp = 63558;
    cpu.reg.a = 102;
    cpu.reg.b = 126;
    cpu.reg.c = 242;
    cpu.reg.d = 194;
    cpu.reg.e = 157;
    cpu.reg.f = 176;
    cpu.reg.h = 243;
    cpu.reg.l = 151;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[10081] = 24;
    cpu.ram[10082] = 34;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 102);
    CHECK(cpu.reg.b == 126);
    CHECK(cpu.reg.c == 242);
    CHECK(cpu.reg.d == 194);
    CHECK(cpu.reg.e == 157);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 243);
    CHECK(cpu.reg.l == 151);
    CHECK(cpu.pc == 10117);
    CHECK(cpu.sp == 63558);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10081] == 24);
    REQUIRE(cpu.ram[10082] == 34);
}

TEST_CASE( "18 0350", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47096;
    cpu.sp = 56799;
    cpu.reg.a = 253;
    cpu.reg.b = 5;
    cpu.reg.c = 193;
    cpu.reg.d = 73;
    cpu.reg.e = 73;
    cpu.reg.f = 112;
    cpu.reg.h = 181;
    cpu.reg.l = 40;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47096] = 24;
    cpu.ram[47097] = 184;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 253);
    CHECK(cpu.reg.b == 5);
    CHECK(cpu.reg.c == 193);
    CHECK(cpu.reg.d == 73);
    CHECK(cpu.reg.e == 73);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 181);
    CHECK(cpu.reg.l == 40);
    CHECK(cpu.pc == 47026);
    CHECK(cpu.sp == 56799);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47096] == 24);
    REQUIRE(cpu.ram[47097] == 184);
}

TEST_CASE( "18 0351", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27301;
    cpu.sp = 50479;
    cpu.reg.a = 176;
    cpu.reg.b = 110;
    cpu.reg.c = 142;
    cpu.reg.d = 27;
    cpu.reg.e = 192;
    cpu.reg.f = 160;
    cpu.reg.h = 38;
    cpu.reg.l = 20;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[27301] = 24;
    cpu.ram[27302] = 59;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 176);
    CHECK(cpu.reg.b == 110);
    CHECK(cpu.reg.c == 142);
    CHECK(cpu.reg.d == 27);
    CHECK(cpu.reg.e == 192);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 38);
    CHECK(cpu.reg.l == 20);
    CHECK(cpu.pc == 27362);
    CHECK(cpu.sp == 50479);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27301] == 24);
    REQUIRE(cpu.ram[27302] == 59);
}

TEST_CASE( "18 0352", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50556;
    cpu.sp = 38321;
    cpu.reg.a = 142;
    cpu.reg.b = 119;
    cpu.reg.c = 199;
    cpu.reg.d = 109;
    cpu.reg.e = 44;
    cpu.reg.f = 208;
    cpu.reg.h = 48;
    cpu.reg.l = 187;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[50556] = 24;
    cpu.ram[50557] = 32;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 142);
    CHECK(cpu.reg.b == 119);
    CHECK(cpu.reg.c == 199);
    CHECK(cpu.reg.d == 109);
    CHECK(cpu.reg.e == 44);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 48);
    CHECK(cpu.reg.l == 187);
    CHECK(cpu.pc == 50590);
    CHECK(cpu.sp == 38321);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[50556] == 24);
    REQUIRE(cpu.ram[50557] == 32);
}

TEST_CASE( "18 0353", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24974;
    cpu.sp = 19534;
    cpu.reg.a = 195;
    cpu.reg.b = 36;
    cpu.reg.c = 114;
    cpu.reg.d = 110;
    cpu.reg.e = 6;
    cpu.reg.f = 0;
    cpu.reg.h = 36;
    cpu.reg.l = 40;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[24974] = 24;
    cpu.ram[24975] = 136;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 195);
    CHECK(cpu.reg.b == 36);
    CHECK(cpu.reg.c == 114);
    CHECK(cpu.reg.d == 110);
    CHECK(cpu.reg.e == 6);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 36);
    CHECK(cpu.reg.l == 40);
    CHECK(cpu.pc == 24856);
    CHECK(cpu.sp == 19534);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24974] == 24);
    REQUIRE(cpu.ram[24975] == 136);
}

TEST_CASE( "18 0354", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36170;
    cpu.sp = 9501;
    cpu.reg.a = 109;
    cpu.reg.b = 68;
    cpu.reg.c = 30;
    cpu.reg.d = 203;
    cpu.reg.e = 100;
    cpu.reg.f = 208;
    cpu.reg.h = 60;
    cpu.reg.l = 64;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[36170] = 24;
    cpu.ram[36171] = 248;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 109);
    CHECK(cpu.reg.b == 68);
    CHECK(cpu.reg.c == 30);
    CHECK(cpu.reg.d == 203);
    CHECK(cpu.reg.e == 100);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 60);
    CHECK(cpu.reg.l == 64);
    CHECK(cpu.pc == 36164);
    CHECK(cpu.sp == 9501);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36170] == 24);
    REQUIRE(cpu.ram[36171] == 248);
}

TEST_CASE( "18 0355", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 30066;
    cpu.sp = 27302;
    cpu.reg.a = 149;
    cpu.reg.b = 7;
    cpu.reg.c = 215;
    cpu.reg.d = 123;
    cpu.reg.e = 188;
    cpu.reg.f = 112;
    cpu.reg.h = 49;
    cpu.reg.l = 29;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[30066] = 24;
    cpu.ram[30067] = 216;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 149);
    CHECK(cpu.reg.b == 7);
    CHECK(cpu.reg.c == 215);
    CHECK(cpu.reg.d == 123);
    CHECK(cpu.reg.e == 188);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 49);
    CHECK(cpu.reg.l == 29);
    CHECK(cpu.pc == 30028);
    CHECK(cpu.sp == 27302);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[30066] == 24);
    REQUIRE(cpu.ram[30067] == 216);
}

TEST_CASE( "18 0356", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3418;
    cpu.sp = 33446;
    cpu.reg.a = 46;
    cpu.reg.b = 103;
    cpu.reg.c = 137;
    cpu.reg.d = 166;
    cpu.reg.e = 40;
    cpu.reg.f = 160;
    cpu.reg.h = 252;
    cpu.reg.l = 24;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[3418] = 24;
    cpu.ram[3419] = 112;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 46);
    CHECK(cpu.reg.b == 103);
    CHECK(cpu.reg.c == 137);
    CHECK(cpu.reg.d == 166);
    CHECK(cpu.reg.e == 40);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 252);
    CHECK(cpu.reg.l == 24);
    CHECK(cpu.pc == 3532);
    CHECK(cpu.sp == 33446);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[3418] == 24);
    REQUIRE(cpu.ram[3419] == 112);
}

TEST_CASE( "18 0357", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15620;
    cpu.sp = 58595;
    cpu.reg.a = 224;
    cpu.reg.b = 100;
    cpu.reg.c = 246;
    cpu.reg.d = 1;
    cpu.reg.e = 16;
    cpu.reg.f = 0;
    cpu.reg.h = 165;
    cpu.reg.l = 200;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[15620] = 24;
    cpu.ram[15621] = 33;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 100);
    CHECK(cpu.reg.c == 246);
    CHECK(cpu.reg.d == 1);
    CHECK(cpu.reg.e == 16);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 165);
    CHECK(cpu.reg.l == 200);
    CHECK(cpu.pc == 15655);
    CHECK(cpu.sp == 58595);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15620] == 24);
    REQUIRE(cpu.ram[15621] == 33);
}

TEST_CASE( "18 0358", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 3784;
    cpu.sp = 49712;
    cpu.reg.a = 111;
    cpu.reg.b = 140;
    cpu.reg.c = 90;
    cpu.reg.d = 89;
    cpu.reg.e = 218;
    cpu.reg.f = 240;
    cpu.reg.h = 200;
    cpu.reg.l = 18;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[3784] = 24;
    cpu.ram[3785] = 157;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 111);
    CHECK(cpu.reg.b == 140);
    CHECK(cpu.reg.c == 90);
    CHECK(cpu.reg.d == 89);
    CHECK(cpu.reg.e == 218);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 200);
    CHECK(cpu.reg.l == 18);
    CHECK(cpu.pc == 3687);
    CHECK(cpu.sp == 49712);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[3784] == 24);
    REQUIRE(cpu.ram[3785] == 157);
}

TEST_CASE( "18 0359", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25029;
    cpu.sp = 49646;
    cpu.reg.a = 51;
    cpu.reg.b = 244;
    cpu.reg.c = 198;
    cpu.reg.d = 162;
    cpu.reg.e = 220;
    cpu.reg.f = 208;
    cpu.reg.h = 154;
    cpu.reg.l = 184;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[25029] = 24;
    cpu.ram[25030] = 128;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 51);
    CHECK(cpu.reg.b == 244);
    CHECK(cpu.reg.c == 198);
    CHECK(cpu.reg.d == 162);
    CHECK(cpu.reg.e == 220);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 154);
    CHECK(cpu.reg.l == 184);
    CHECK(cpu.pc == 24903);
    CHECK(cpu.sp == 49646);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[25029] == 24);
    REQUIRE(cpu.ram[25030] == 128);
}

TEST_CASE( "18 035A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45572;
    cpu.sp = 17632;
    cpu.reg.a = 246;
    cpu.reg.b = 197;
    cpu.reg.c = 107;
    cpu.reg.d = 121;
    cpu.reg.e = 241;
    cpu.reg.f = 112;
    cpu.reg.h = 45;
    cpu.reg.l = 203;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[45572] = 24;
    cpu.ram[45573] = 144;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 246);
    CHECK(cpu.reg.b == 197);
    CHECK(cpu.reg.c == 107);
    CHECK(cpu.reg.d == 121);
    CHECK(cpu.reg.e == 241);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 45);
    CHECK(cpu.reg.l == 203);
    CHECK(cpu.pc == 45462);
    CHECK(cpu.sp == 17632);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[45572] == 24);
    REQUIRE(cpu.ram[45573] == 144);
}

TEST_CASE( "18 035B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62835;
    cpu.sp = 32326;
    cpu.reg.a = 112;
    cpu.reg.b = 229;
    cpu.reg.c = 180;
    cpu.reg.d = 186;
    cpu.reg.e = 156;
    cpu.reg.f = 64;
    cpu.reg.h = 191;
    cpu.reg.l = 39;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[62835] = 24;
    cpu.ram[62836] = 73;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 112);
    CHECK(cpu.reg.b == 229);
    CHECK(cpu.reg.c == 180);
    CHECK(cpu.reg.d == 186);
    CHECK(cpu.reg.e == 156);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 191);
    CHECK(cpu.reg.l == 39);
    CHECK(cpu.pc == 62910);
    CHECK(cpu.sp == 32326);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62835] == 24);
    REQUIRE(cpu.ram[62836] == 73);
}

TEST_CASE( "18 035C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60688;
    cpu.sp = 4310;
    cpu.reg.a = 74;
    cpu.reg.b = 136;
    cpu.reg.c = 68;
    cpu.reg.d = 82;
    cpu.reg.e = 128;
    cpu.reg.f = 80;
    cpu.reg.h = 244;
    cpu.reg.l = 108;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[60688] = 24;
    cpu.ram[60689] = 137;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 74);
    CHECK(cpu.reg.b == 136);
    CHECK(cpu.reg.c == 68);
    CHECK(cpu.reg.d == 82);
    CHECK(cpu.reg.e == 128);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 244);
    CHECK(cpu.reg.l == 108);
    CHECK(cpu.pc == 60571);
    CHECK(cpu.sp == 4310);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[60688] == 24);
    REQUIRE(cpu.ram[60689] == 137);
}

TEST_CASE( "18 035D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19810;
    cpu.sp = 42325;
    cpu.reg.a = 252;
    cpu.reg.b = 17;
    cpu.reg.c = 174;
    cpu.reg.d = 75;
    cpu.reg.e = 225;
    cpu.reg.f = 112;
    cpu.reg.h = 68;
    cpu.reg.l = 152;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[19810] = 24;
    cpu.ram[19811] = 31;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 252);
    CHECK(cpu.reg.b == 17);
    CHECK(cpu.reg.c == 174);
    CHECK(cpu.reg.d == 75);
    CHECK(cpu.reg.e == 225);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 68);
    CHECK(cpu.reg.l == 152);
    CHECK(cpu.pc == 19843);
    CHECK(cpu.sp == 42325);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19810] == 24);
    REQUIRE(cpu.ram[19811] == 31);
}

TEST_CASE( "18 035E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29890;
    cpu.sp = 31673;
    cpu.reg.a = 27;
    cpu.reg.b = 158;
    cpu.reg.c = 248;
    cpu.reg.d = 5;
    cpu.reg.e = 57;
    cpu.reg.f = 144;
    cpu.reg.h = 123;
    cpu.reg.l = 174;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[29890] = 24;
    cpu.ram[29891] = 145;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 27);
    CHECK(cpu.reg.b == 158);
    CHECK(cpu.reg.c == 248);
    CHECK(cpu.reg.d == 5);
    CHECK(cpu.reg.e == 57);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 123);
    CHECK(cpu.reg.l == 174);
    CHECK(cpu.pc == 29781);
    CHECK(cpu.sp == 31673);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[29890] == 24);
    REQUIRE(cpu.ram[29891] == 145);
}

TEST_CASE( "18 035F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58561;
    cpu.sp = 15390;
    cpu.reg.a = 28;
    cpu.reg.b = 77;
    cpu.reg.c = 122;
    cpu.reg.d = 178;
    cpu.reg.e = 25;
    cpu.reg.f = 224;
    cpu.reg.h = 154;
    cpu.reg.l = 209;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[58561] = 24;
    cpu.ram[58562] = 109;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 28);
    CHECK(cpu.reg.b == 77);
    CHECK(cpu.reg.c == 122);
    CHECK(cpu.reg.d == 178);
    CHECK(cpu.reg.e == 25);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 154);
    CHECK(cpu.reg.l == 209);
    CHECK(cpu.pc == 58672);
    CHECK(cpu.sp == 15390);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58561] == 24);
    REQUIRE(cpu.ram[58562] == 109);
}

TEST_CASE( "18 0360", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56426;
    cpu.sp = 23330;
    cpu.reg.a = 31;
    cpu.reg.b = 251;
    cpu.reg.c = 236;
    cpu.reg.d = 59;
    cpu.reg.e = 197;
    cpu.reg.f = 160;
    cpu.reg.h = 108;
    cpu.reg.l = 142;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[56426] = 24;
    cpu.ram[56427] = 201;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 31);
    CHECK(cpu.reg.b == 251);
    CHECK(cpu.reg.c == 236);
    CHECK(cpu.reg.d == 59);
    CHECK(cpu.reg.e == 197);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 108);
    CHECK(cpu.reg.l == 142);
    CHECK(cpu.pc == 56373);
    CHECK(cpu.sp == 23330);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56426] == 24);
    REQUIRE(cpu.ram[56427] == 201);
}

TEST_CASE( "18 0361", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22964;
    cpu.sp = 3023;
    cpu.reg.a = 104;
    cpu.reg.b = 232;
    cpu.reg.c = 234;
    cpu.reg.d = 29;
    cpu.reg.e = 17;
    cpu.reg.f = 48;
    cpu.reg.h = 166;
    cpu.reg.l = 7;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[22964] = 24;
    cpu.ram[22965] = 38;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 104);
    CHECK(cpu.reg.b == 232);
    CHECK(cpu.reg.c == 234);
    CHECK(cpu.reg.d == 29);
    CHECK(cpu.reg.e == 17);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 166);
    CHECK(cpu.reg.l == 7);
    CHECK(cpu.pc == 23004);
    CHECK(cpu.sp == 3023);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22964] == 24);
    REQUIRE(cpu.ram[22965] == 38);
}

TEST_CASE( "18 0362", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10652;
    cpu.sp = 57387;
    cpu.reg.a = 5;
    cpu.reg.b = 123;
    cpu.reg.c = 223;
    cpu.reg.d = 131;
    cpu.reg.e = 10;
    cpu.reg.f = 16;
    cpu.reg.h = 73;
    cpu.reg.l = 218;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[10652] = 24;
    cpu.ram[10653] = 254;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 5);
    CHECK(cpu.reg.b == 123);
    CHECK(cpu.reg.c == 223);
    CHECK(cpu.reg.d == 131);
    CHECK(cpu.reg.e == 10);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 73);
    CHECK(cpu.reg.l == 218);
    CHECK(cpu.pc == 10652);
    CHECK(cpu.sp == 57387);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10652] == 24);
    REQUIRE(cpu.ram[10653] == 254);
}

TEST_CASE( "18 0363", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 73;
    cpu.sp = 59820;
    cpu.reg.a = 32;
    cpu.reg.b = 239;
    cpu.reg.c = 189;
    cpu.reg.d = 122;
    cpu.reg.e = 208;
    cpu.reg.f = 208;
    cpu.reg.h = 140;
    cpu.reg.l = 189;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[73] = 24;
    cpu.ram[74] = 238;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 32);
    CHECK(cpu.reg.b == 239);
    CHECK(cpu.reg.c == 189);
    CHECK(cpu.reg.d == 122);
    CHECK(cpu.reg.e == 208);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 140);
    CHECK(cpu.reg.l == 189);
    CHECK(cpu.pc == 57);
    CHECK(cpu.sp == 59820);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[73] == 24);
    REQUIRE(cpu.ram[74] == 238);
}

TEST_CASE( "18 0364", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35210;
    cpu.sp = 26694;
    cpu.reg.a = 130;
    cpu.reg.b = 228;
    cpu.reg.c = 104;
    cpu.reg.d = 80;
    cpu.reg.e = 218;
    cpu.reg.f = 144;
    cpu.reg.h = 213;
    cpu.reg.l = 230;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[35210] = 24;
    cpu.ram[35211] = 163;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 130);
    CHECK(cpu.reg.b == 228);
    CHECK(cpu.reg.c == 104);
    CHECK(cpu.reg.d == 80);
    CHECK(cpu.reg.e == 218);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 213);
    CHECK(cpu.reg.l == 230);
    CHECK(cpu.pc == 35119);
    CHECK(cpu.sp == 26694);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35210] == 24);
    REQUIRE(cpu.ram[35211] == 163);
}

TEST_CASE( "18 0365", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56786;
    cpu.sp = 53718;
    cpu.reg.a = 144;
    cpu.reg.b = 1;
    cpu.reg.c = 250;
    cpu.reg.d = 242;
    cpu.reg.e = 50;
    cpu.reg.f = 192;
    cpu.reg.h = 119;
    cpu.reg.l = 175;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[56786] = 24;
    cpu.ram[56787] = 12;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 144);
    CHECK(cpu.reg.b == 1);
    CHECK(cpu.reg.c == 250);
    CHECK(cpu.reg.d == 242);
    CHECK(cpu.reg.e == 50);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 119);
    CHECK(cpu.reg.l == 175);
    CHECK(cpu.pc == 56800);
    CHECK(cpu.sp == 53718);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56786] == 24);
    REQUIRE(cpu.ram[56787] == 12);
}

TEST_CASE( "18 0366", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 41485;
    cpu.sp = 22317;
    cpu.reg.a = 41;
    cpu.reg.b = 109;
    cpu.reg.c = 75;
    cpu.reg.d = 56;
    cpu.reg.e = 118;
    cpu.reg.f = 160;
    cpu.reg.h = 123;
    cpu.reg.l = 32;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[41485] = 24;
    cpu.ram[41486] = 3;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 41);
    CHECK(cpu.reg.b == 109);
    CHECK(cpu.reg.c == 75);
    CHECK(cpu.reg.d == 56);
    CHECK(cpu.reg.e == 118);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 123);
    CHECK(cpu.reg.l == 32);
    CHECK(cpu.pc == 41490);
    CHECK(cpu.sp == 22317);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[41485] == 24);
    REQUIRE(cpu.ram[41486] == 3);
}

TEST_CASE( "18 0367", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62501;
    cpu.sp = 20811;
    cpu.reg.a = 83;
    cpu.reg.b = 81;
    cpu.reg.c = 177;
    cpu.reg.d = 183;
    cpu.reg.e = 225;
    cpu.reg.f = 0;
    cpu.reg.h = 255;
    cpu.reg.l = 146;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[62501] = 24;
    cpu.ram[62502] = 231;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 83);
    CHECK(cpu.reg.b == 81);
    CHECK(cpu.reg.c == 177);
    CHECK(cpu.reg.d == 183);
    CHECK(cpu.reg.e == 225);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 255);
    CHECK(cpu.reg.l == 146);
    CHECK(cpu.pc == 62478);
    CHECK(cpu.sp == 20811);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62501] == 24);
    REQUIRE(cpu.ram[62502] == 231);
}

TEST_CASE( "18 0368", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60348;
    cpu.sp = 58602;
    cpu.reg.a = 238;
    cpu.reg.b = 179;
    cpu.reg.c = 169;
    cpu.reg.d = 22;
    cpu.reg.e = 99;
    cpu.reg.f = 16;
    cpu.reg.h = 111;
    cpu.reg.l = 204;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[60348] = 24;
    cpu.ram[60349] = 211;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 238);
    CHECK(cpu.reg.b == 179);
    CHECK(cpu.reg.c == 169);
    CHECK(cpu.reg.d == 22);
    CHECK(cpu.reg.e == 99);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 111);
    CHECK(cpu.reg.l == 204);
    CHECK(cpu.pc == 60305);
    CHECK(cpu.sp == 58602);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[60348] == 24);
    REQUIRE(cpu.ram[60349] == 211);
}

TEST_CASE( "18 0369", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43353;
    cpu.sp = 30895;
    cpu.reg.a = 192;
    cpu.reg.b = 73;
    cpu.reg.c = 29;
    cpu.reg.d = 3;
    cpu.reg.e = 240;
    cpu.reg.f = 176;
    cpu.reg.h = 27;
    cpu.reg.l = 66;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[43353] = 24;
    cpu.ram[43354] = 47;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 192);
    CHECK(cpu.reg.b == 73);
    CHECK(cpu.reg.c == 29);
    CHECK(cpu.reg.d == 3);
    CHECK(cpu.reg.e == 240);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 27);
    CHECK(cpu.reg.l == 66);
    CHECK(cpu.pc == 43402);
    CHECK(cpu.sp == 30895);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[43353] == 24);
    REQUIRE(cpu.ram[43354] == 47);
}

TEST_CASE( "18 036A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9335;
    cpu.sp = 31636;
    cpu.reg.a = 24;
    cpu.reg.b = 187;
    cpu.reg.c = 206;
    cpu.reg.d = 98;
    cpu.reg.e = 17;
    cpu.reg.f = 224;
    cpu.reg.h = 138;
    cpu.reg.l = 128;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[9335] = 24;
    cpu.ram[9336] = 208;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 24);
    CHECK(cpu.reg.b == 187);
    CHECK(cpu.reg.c == 206);
    CHECK(cpu.reg.d == 98);
    CHECK(cpu.reg.e == 17);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 138);
    CHECK(cpu.reg.l == 128);
    CHECK(cpu.pc == 9289);
    CHECK(cpu.sp == 31636);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9335] == 24);
    REQUIRE(cpu.ram[9336] == 208);
}

TEST_CASE( "18 036B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2826;
    cpu.sp = 30014;
    cpu.reg.a = 169;
    cpu.reg.b = 66;
    cpu.reg.c = 45;
    cpu.reg.d = 14;
    cpu.reg.e = 233;
    cpu.reg.f = 224;
    cpu.reg.h = 53;
    cpu.reg.l = 122;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[2826] = 24;
    cpu.ram[2827] = 197;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 169);
    CHECK(cpu.reg.b == 66);
    CHECK(cpu.reg.c == 45);
    CHECK(cpu.reg.d == 14);
    CHECK(cpu.reg.e == 233);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 53);
    CHECK(cpu.reg.l == 122);
    CHECK(cpu.pc == 2769);
    CHECK(cpu.sp == 30014);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2826] == 24);
    REQUIRE(cpu.ram[2827] == 197);
}

TEST_CASE( "18 036C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1612;
    cpu.sp = 36599;
    cpu.reg.a = 123;
    cpu.reg.b = 119;
    cpu.reg.c = 16;
    cpu.reg.d = 15;
    cpu.reg.e = 151;
    cpu.reg.f = 112;
    cpu.reg.h = 69;
    cpu.reg.l = 56;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1612] = 24;
    cpu.ram[1613] = 193;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 123);
    CHECK(cpu.reg.b == 119);
    CHECK(cpu.reg.c == 16);
    CHECK(cpu.reg.d == 15);
    CHECK(cpu.reg.e == 151);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 69);
    CHECK(cpu.reg.l == 56);
    CHECK(cpu.pc == 1551);
    CHECK(cpu.sp == 36599);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1612] == 24);
    REQUIRE(cpu.ram[1613] == 193);
}

TEST_CASE( "18 036D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33163;
    cpu.sp = 59921;
    cpu.reg.a = 127;
    cpu.reg.b = 160;
    cpu.reg.c = 55;
    cpu.reg.d = 76;
    cpu.reg.e = 70;
    cpu.reg.f = 192;
    cpu.reg.h = 23;
    cpu.reg.l = 226;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[33163] = 24;
    cpu.ram[33164] = 147;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 127);
    CHECK(cpu.reg.b == 160);
    CHECK(cpu.reg.c == 55);
    CHECK(cpu.reg.d == 76);
    CHECK(cpu.reg.e == 70);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 23);
    CHECK(cpu.reg.l == 226);
    CHECK(cpu.pc == 33056);
    CHECK(cpu.sp == 59921);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[33163] == 24);
    REQUIRE(cpu.ram[33164] == 147);
}

TEST_CASE( "18 036E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22286;
    cpu.sp = 26893;
    cpu.reg.a = 132;
    cpu.reg.b = 253;
    cpu.reg.c = 35;
    cpu.reg.d = 157;
    cpu.reg.e = 64;
    cpu.reg.f = 16;
    cpu.reg.h = 160;
    cpu.reg.l = 205;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[22286] = 24;
    cpu.ram[22287] = 110;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 132);
    CHECK(cpu.reg.b == 253);
    CHECK(cpu.reg.c == 35);
    CHECK(cpu.reg.d == 157);
    CHECK(cpu.reg.e == 64);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 160);
    CHECK(cpu.reg.l == 205);
    CHECK(cpu.pc == 22398);
    CHECK(cpu.sp == 26893);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[22286] == 24);
    REQUIRE(cpu.ram[22287] == 110);
}

TEST_CASE( "18 036F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64159;
    cpu.sp = 11580;
    cpu.reg.a = 56;
    cpu.reg.b = 84;
    cpu.reg.c = 148;
    cpu.reg.d = 251;
    cpu.reg.e = 31;
    cpu.reg.f = 208;
    cpu.reg.h = 164;
    cpu.reg.l = 109;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[64159] = 24;
    cpu.ram[64160] = 246;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 56);
    CHECK(cpu.reg.b == 84);
    CHECK(cpu.reg.c == 148);
    CHECK(cpu.reg.d == 251);
    CHECK(cpu.reg.e == 31);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 164);
    CHECK(cpu.reg.l == 109);
    CHECK(cpu.pc == 64151);
    CHECK(cpu.sp == 11580);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[64159] == 24);
    REQUIRE(cpu.ram[64160] == 246);
}

TEST_CASE( "18 0370", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56659;
    cpu.sp = 34093;
    cpu.reg.a = 30;
    cpu.reg.b = 1;
    cpu.reg.c = 84;
    cpu.reg.d = 249;
    cpu.reg.e = 167;
    cpu.reg.f = 176;
    cpu.reg.h = 170;
    cpu.reg.l = 201;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[56659] = 24;
    cpu.ram[56660] = 0;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 30);
    CHECK(cpu.reg.b == 1);
    CHECK(cpu.reg.c == 84);
    CHECK(cpu.reg.d == 249);
    CHECK(cpu.reg.e == 167);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 170);
    CHECK(cpu.reg.l == 201);
    CHECK(cpu.pc == 56661);
    CHECK(cpu.sp == 34093);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56659] == 24);
    REQUIRE(cpu.ram[56660] == 0);
}

TEST_CASE( "18 0371", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10864;
    cpu.sp = 49328;
    cpu.reg.a = 124;
    cpu.reg.b = 233;
    cpu.reg.c = 1;
    cpu.reg.d = 11;
    cpu.reg.e = 213;
    cpu.reg.f = 224;
    cpu.reg.h = 47;
    cpu.reg.l = 58;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[10864] = 24;
    cpu.ram[10865] = 134;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 124);
    CHECK(cpu.reg.b == 233);
    CHECK(cpu.reg.c == 1);
    CHECK(cpu.reg.d == 11);
    CHECK(cpu.reg.e == 213);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 47);
    CHECK(cpu.reg.l == 58);
    CHECK(cpu.pc == 10744);
    CHECK(cpu.sp == 49328);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[10864] == 24);
    REQUIRE(cpu.ram[10865] == 134);
}

TEST_CASE( "18 0372", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40469;
    cpu.sp = 462;
    cpu.reg.a = 125;
    cpu.reg.b = 81;
    cpu.reg.c = 41;
    cpu.reg.d = 163;
    cpu.reg.e = 119;
    cpu.reg.f = 96;
    cpu.reg.h = 30;
    cpu.reg.l = 13;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[40469] = 24;
    cpu.ram[40470] = 46;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 125);
    CHECK(cpu.reg.b == 81);
    CHECK(cpu.reg.c == 41);
    CHECK(cpu.reg.d == 163);
    CHECK(cpu.reg.e == 119);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 30);
    CHECK(cpu.reg.l == 13);
    CHECK(cpu.pc == 40517);
    CHECK(cpu.sp == 462);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40469] == 24);
    REQUIRE(cpu.ram[40470] == 46);
}

TEST_CASE( "18 0373", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29361;
    cpu.sp = 39368;
    cpu.reg.a = 5;
    cpu.reg.b = 57;
    cpu.reg.c = 6;
    cpu.reg.d = 144;
    cpu.reg.e = 115;
    cpu.reg.f = 16;
    cpu.reg.h = 81;
    cpu.reg.l = 52;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[29361] = 24;
    cpu.ram[29362] = 86;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 5);
    CHECK(cpu.reg.b == 57);
    CHECK(cpu.reg.c == 6);
    CHECK(cpu.reg.d == 144);
    CHECK(cpu.reg.e == 115);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 81);
    CHECK(cpu.reg.l == 52);
    CHECK(cpu.pc == 29449);
    CHECK(cpu.sp == 39368);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[29361] == 24);
    REQUIRE(cpu.ram[29362] == 86);
}

TEST_CASE( "18 0374", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 43330;
    cpu.sp = 62142;
    cpu.reg.a = 199;
    cpu.reg.b = 45;
    cpu.reg.c = 18;
    cpu.reg.d = 50;
    cpu.reg.e = 32;
    cpu.reg.f = 64;
    cpu.reg.h = 251;
    cpu.reg.l = 17;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[43330] = 24;
    cpu.ram[43331] = 37;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 199);
    CHECK(cpu.reg.b == 45);
    CHECK(cpu.reg.c == 18);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 32);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 251);
    CHECK(cpu.reg.l == 17);
    CHECK(cpu.pc == 43369);
    CHECK(cpu.sp == 62142);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[43330] == 24);
    REQUIRE(cpu.ram[43331] == 37);
}

TEST_CASE( "18 0375", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61204;
    cpu.sp = 51665;
    cpu.reg.a = 3;
    cpu.reg.b = 72;
    cpu.reg.c = 172;
    cpu.reg.d = 221;
    cpu.reg.e = 14;
    cpu.reg.f = 96;
    cpu.reg.h = 243;
    cpu.reg.l = 69;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[61204] = 24;
    cpu.ram[61205] = 44;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 3);
    CHECK(cpu.reg.b == 72);
    CHECK(cpu.reg.c == 172);
    CHECK(cpu.reg.d == 221);
    CHECK(cpu.reg.e == 14);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 243);
    CHECK(cpu.reg.l == 69);
    CHECK(cpu.pc == 61250);
    CHECK(cpu.sp == 51665);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[61204] == 24);
    REQUIRE(cpu.ram[61205] == 44);
}

TEST_CASE( "18 0376", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45945;
    cpu.sp = 34767;
    cpu.reg.a = 250;
    cpu.reg.b = 85;
    cpu.reg.c = 159;
    cpu.reg.d = 248;
    cpu.reg.e = 206;
    cpu.reg.f = 224;
    cpu.reg.h = 226;
    cpu.reg.l = 186;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[45945] = 24;
    cpu.ram[45946] = 209;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 250);
    CHECK(cpu.reg.b == 85);
    CHECK(cpu.reg.c == 159);
    CHECK(cpu.reg.d == 248);
    CHECK(cpu.reg.e == 206);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 226);
    CHECK(cpu.reg.l == 186);
    CHECK(cpu.pc == 45900);
    CHECK(cpu.sp == 34767);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45945] == 24);
    REQUIRE(cpu.ram[45946] == 209);
}

TEST_CASE( "18 0377", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35794;
    cpu.sp = 22862;
    cpu.reg.a = 124;
    cpu.reg.b = 147;
    cpu.reg.c = 168;
    cpu.reg.d = 218;
    cpu.reg.e = 161;
    cpu.reg.f = 64;
    cpu.reg.h = 200;
    cpu.reg.l = 153;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[35794] = 24;
    cpu.ram[35795] = 116;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 124);
    CHECK(cpu.reg.b == 147);
    CHECK(cpu.reg.c == 168);
    CHECK(cpu.reg.d == 218);
    CHECK(cpu.reg.e == 161);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 200);
    CHECK(cpu.reg.l == 153);
    CHECK(cpu.pc == 35912);
    CHECK(cpu.sp == 22862);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[35794] == 24);
    REQUIRE(cpu.ram[35795] == 116);
}

TEST_CASE( "18 0378", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65388;
    cpu.sp = 18598;
    cpu.reg.a = 176;
    cpu.reg.b = 252;
    cpu.reg.c = 250;
    cpu.reg.d = 198;
    cpu.reg.e = 7;
    cpu.reg.f = 192;
    cpu.reg.h = 64;
    cpu.reg.l = 51;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[65388] = 24;
    cpu.ram[65389] = 149;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 176);
    CHECK(cpu.reg.b == 252);
    CHECK(cpu.reg.c == 250);
    CHECK(cpu.reg.d == 198);
    CHECK(cpu.reg.e == 7);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 64);
    CHECK(cpu.reg.l == 51);
    CHECK(cpu.pc == 65283);
    CHECK(cpu.sp == 18598);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[65388] == 24);
    REQUIRE(cpu.ram[65389] == 149);
}

TEST_CASE( "18 0379", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54512;
    cpu.sp = 56436;
    cpu.reg.a = 190;
    cpu.reg.b = 173;
    cpu.reg.c = 51;
    cpu.reg.d = 230;
    cpu.reg.e = 85;
    cpu.reg.f = 176;
    cpu.reg.h = 75;
    cpu.reg.l = 252;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[54512] = 24;
    cpu.ram[54513] = 88;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 190);
    CHECK(cpu.reg.b == 173);
    CHECK(cpu.reg.c == 51);
    CHECK(cpu.reg.d == 230);
    CHECK(cpu.reg.e == 85);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 75);
    CHECK(cpu.reg.l == 252);
    CHECK(cpu.pc == 54602);
    CHECK(cpu.sp == 56436);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[54512] == 24);
    REQUIRE(cpu.ram[54513] == 88);
}

TEST_CASE( "18 037A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36446;
    cpu.sp = 50709;
    cpu.reg.a = 158;
    cpu.reg.b = 207;
    cpu.reg.c = 146;
    cpu.reg.d = 142;
    cpu.reg.e = 35;
    cpu.reg.f = 192;
    cpu.reg.h = 103;
    cpu.reg.l = 19;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[36446] = 24;
    cpu.ram[36447] = 23;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 158);
    CHECK(cpu.reg.b == 207);
    CHECK(cpu.reg.c == 146);
    CHECK(cpu.reg.d == 142);
    CHECK(cpu.reg.e == 35);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 103);
    CHECK(cpu.reg.l == 19);
    CHECK(cpu.pc == 36471);
    CHECK(cpu.sp == 50709);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[36446] == 24);
    REQUIRE(cpu.ram[36447] == 23);
}

TEST_CASE( "18 037B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19154;
    cpu.sp = 54668;
    cpu.reg.a = 248;
    cpu.reg.b = 131;
    cpu.reg.c = 124;
    cpu.reg.d = 240;
    cpu.reg.e = 89;
    cpu.reg.f = 224;
    cpu.reg.h = 114;
    cpu.reg.l = 30;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[19154] = 24;
    cpu.ram[19155] = 134;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 248);
    CHECK(cpu.reg.b == 131);
    CHECK(cpu.reg.c == 124);
    CHECK(cpu.reg.d == 240);
    CHECK(cpu.reg.e == 89);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 114);
    CHECK(cpu.reg.l == 30);
    CHECK(cpu.pc == 19034);
    CHECK(cpu.sp == 54668);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[19154] == 24);
    REQUIRE(cpu.ram[19155] == 134);
}

TEST_CASE( "18 037C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 553;
    cpu.sp = 39496;
    cpu.reg.a = 145;
    cpu.reg.b = 18;
    cpu.reg.c = 233;
    cpu.reg.d = 242;
    cpu.reg.e = 27;
    cpu.reg.f = 48;
    cpu.reg.h = 250;
    cpu.reg.l = 228;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[553] = 24;
    cpu.ram[554] = 169;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 145);
    CHECK(cpu.reg.b == 18);
    CHECK(cpu.reg.c == 233);
    CHECK(cpu.reg.d == 242);
    CHECK(cpu.reg.e == 27);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 250);
    CHECK(cpu.reg.l == 228);
    CHECK(cpu.pc == 468);
    CHECK(cpu.sp == 39496);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[553] == 24);
    REQUIRE(cpu.ram[554] == 169);
}

TEST_CASE( "18 037D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 578;
    cpu.sp = 46036;
    cpu.reg.a = 55;
    cpu.reg.b = 183;
    cpu.reg.c = 229;
    cpu.reg.d = 86;
    cpu.reg.e = 10;
    cpu.reg.f = 112;
    cpu.reg.h = 83;
    cpu.reg.l = 222;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[578] = 24;
    cpu.ram[579] = 58;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 55);
    CHECK(cpu.reg.b == 183);
    CHECK(cpu.reg.c == 229);
    CHECK(cpu.reg.d == 86);
    CHECK(cpu.reg.e == 10);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 83);
    CHECK(cpu.reg.l == 222);
    CHECK(cpu.pc == 638);
    CHECK(cpu.sp == 46036);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[578] == 24);
    REQUIRE(cpu.ram[579] == 58);
}

TEST_CASE( "18 037E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48187;
    cpu.sp = 1176;
    cpu.reg.a = 252;
    cpu.reg.b = 144;
    cpu.reg.c = 238;
    cpu.reg.d = 13;
    cpu.reg.e = 11;
    cpu.reg.f = 80;
    cpu.reg.h = 50;
    cpu.reg.l = 143;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[48187] = 24;
    cpu.ram[48188] = 63;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 252);
    CHECK(cpu.reg.b == 144);
    CHECK(cpu.reg.c == 238);
    CHECK(cpu.reg.d == 13);
    CHECK(cpu.reg.e == 11);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 50);
    CHECK(cpu.reg.l == 143);
    CHECK(cpu.pc == 48252);
    CHECK(cpu.sp == 1176);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48187] == 24);
    REQUIRE(cpu.ram[48188] == 63);
}

TEST_CASE( "18 037F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35990;
    cpu.sp = 3537;
    cpu.reg.a = 24;
    cpu.reg.b = 127;
    cpu.reg.c = 1;
    cpu.reg.d = 53;
    cpu.reg.e = 88;
    cpu.reg.f = 208;
    cpu.reg.h = 216;
    cpu.reg.l = 67;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[35990] = 24;
    cpu.ram[35991] = 11;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 24);
    CHECK(cpu.reg.b == 127);
    CHECK(cpu.reg.c == 1);
    CHECK(cpu.reg.d == 53);
    CHECK(cpu.reg.e == 88);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 216);
    CHECK(cpu.reg.l == 67);
    CHECK(cpu.pc == 36003);
    CHECK(cpu.sp == 3537);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35990] == 24);
    REQUIRE(cpu.ram[35991] == 11);
}

TEST_CASE( "18 0380", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64392;
    cpu.sp = 31272;
    cpu.reg.a = 39;
    cpu.reg.b = 53;
    cpu.reg.c = 39;
    cpu.reg.d = 73;
    cpu.reg.e = 186;
    cpu.reg.f = 144;
    cpu.reg.h = 188;
    cpu.reg.l = 190;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[64392] = 24;
    cpu.ram[64393] = 125;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 39);
    CHECK(cpu.reg.b == 53);
    CHECK(cpu.reg.c == 39);
    CHECK(cpu.reg.d == 73);
    CHECK(cpu.reg.e == 186);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 188);
    CHECK(cpu.reg.l == 190);
    CHECK(cpu.pc == 64519);
    CHECK(cpu.sp == 31272);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[64392] == 24);
    REQUIRE(cpu.ram[64393] == 125);
}

TEST_CASE( "18 0381", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16440;
    cpu.sp = 33331;
    cpu.reg.a = 142;
    cpu.reg.b = 138;
    cpu.reg.c = 13;
    cpu.reg.d = 50;
    cpu.reg.e = 126;
    cpu.reg.f = 224;
    cpu.reg.h = 168;
    cpu.reg.l = 255;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[16440] = 24;
    cpu.ram[16441] = 167;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 142);
    CHECK(cpu.reg.b == 138);
    CHECK(cpu.reg.c == 13);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 126);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 168);
    CHECK(cpu.reg.l == 255);
    CHECK(cpu.pc == 16353);
    CHECK(cpu.sp == 33331);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16440] == 24);
    REQUIRE(cpu.ram[16441] == 167);
}

TEST_CASE( "18 0382", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14811;
    cpu.sp = 22602;
    cpu.reg.a = 98;
    cpu.reg.b = 96;
    cpu.reg.c = 236;
    cpu.reg.d = 42;
    cpu.reg.e = 74;
    cpu.reg.f = 144;
    cpu.reg.h = 221;
    cpu.reg.l = 217;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[14811] = 24;
    cpu.ram[14812] = 210;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 98);
    CHECK(cpu.reg.b == 96);
    CHECK(cpu.reg.c == 236);
    CHECK(cpu.reg.d == 42);
    CHECK(cpu.reg.e == 74);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 221);
    CHECK(cpu.reg.l == 217);
    CHECK(cpu.pc == 14767);
    CHECK(cpu.sp == 22602);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14811] == 24);
    REQUIRE(cpu.ram[14812] == 210);
}

TEST_CASE( "18 0383", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16944;
    cpu.sp = 22438;
    cpu.reg.a = 161;
    cpu.reg.b = 11;
    cpu.reg.c = 74;
    cpu.reg.d = 6;
    cpu.reg.e = 95;
    cpu.reg.f = 32;
    cpu.reg.h = 76;
    cpu.reg.l = 23;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[16944] = 24;
    cpu.ram[16945] = 24;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 161);
    CHECK(cpu.reg.b == 11);
    CHECK(cpu.reg.c == 74);
    CHECK(cpu.reg.d == 6);
    CHECK(cpu.reg.e == 95);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 76);
    CHECK(cpu.reg.l == 23);
    CHECK(cpu.pc == 16970);
    CHECK(cpu.sp == 22438);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[16944] == 24);
    REQUIRE(cpu.ram[16945] == 24);
}

TEST_CASE( "18 0384", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51526;
    cpu.sp = 54012;
    cpu.reg.a = 5;
    cpu.reg.b = 16;
    cpu.reg.c = 20;
    cpu.reg.d = 196;
    cpu.reg.e = 90;
    cpu.reg.f = 96;
    cpu.reg.h = 98;
    cpu.reg.l = 133;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[51526] = 24;
    cpu.ram[51527] = 157;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 5);
    CHECK(cpu.reg.b == 16);
    CHECK(cpu.reg.c == 20);
    CHECK(cpu.reg.d == 196);
    CHECK(cpu.reg.e == 90);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 98);
    CHECK(cpu.reg.l == 133);
    CHECK(cpu.pc == 51429);
    CHECK(cpu.sp == 54012);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[51526] == 24);
    REQUIRE(cpu.ram[51527] == 157);
}

TEST_CASE( "18 0385", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26204;
    cpu.sp = 49727;
    cpu.reg.a = 143;
    cpu.reg.b = 34;
    cpu.reg.c = 36;
    cpu.reg.d = 207;
    cpu.reg.e = 192;
    cpu.reg.f = 0;
    cpu.reg.h = 100;
    cpu.reg.l = 227;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[26204] = 24;
    cpu.ram[26205] = 95;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 143);
    CHECK(cpu.reg.b == 34);
    CHECK(cpu.reg.c == 36);
    CHECK(cpu.reg.d == 207);
    CHECK(cpu.reg.e == 192);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 100);
    CHECK(cpu.reg.l == 227);
    CHECK(cpu.pc == 26301);
    CHECK(cpu.sp == 49727);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[26204] == 24);
    REQUIRE(cpu.ram[26205] == 95);
}

TEST_CASE( "18 0386", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1057;
    cpu.sp = 2405;
    cpu.reg.a = 51;
    cpu.reg.b = 98;
    cpu.reg.c = 188;
    cpu.reg.d = 109;
    cpu.reg.e = 120;
    cpu.reg.f = 96;
    cpu.reg.h = 159;
    cpu.reg.l = 67;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[1057] = 24;
    cpu.ram[1058] = 168;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 51);
    CHECK(cpu.reg.b == 98);
    CHECK(cpu.reg.c == 188);
    CHECK(cpu.reg.d == 109);
    CHECK(cpu.reg.e == 120);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 159);
    CHECK(cpu.reg.l == 67);
    CHECK(cpu.pc == 971);
    CHECK(cpu.sp == 2405);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1057] == 24);
    REQUIRE(cpu.ram[1058] == 168);
}

TEST_CASE( "18 0387", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 60009;
    cpu.sp = 2461;
    cpu.reg.a = 98;
    cpu.reg.b = 184;
    cpu.reg.c = 160;
    cpu.reg.d = 184;
    cpu.reg.e = 1;
    cpu.reg.f = 160;
    cpu.reg.h = 227;
    cpu.reg.l = 245;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[60009] = 24;
    cpu.ram[60010] = 250;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 98);
    CHECK(cpu.reg.b == 184);
    CHECK(cpu.reg.c == 160);
    CHECK(cpu.reg.d == 184);
    CHECK(cpu.reg.e == 1);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 227);
    CHECK(cpu.reg.l == 245);
    CHECK(cpu.pc == 60005);
    CHECK(cpu.sp == 2461);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[60009] == 24);
    REQUIRE(cpu.ram[60010] == 250);
}

TEST_CASE( "18 0388", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 12644;
    cpu.sp = 17718;
    cpu.reg.a = 18;
    cpu.reg.b = 184;
    cpu.reg.c = 116;
    cpu.reg.d = 190;
    cpu.reg.e = 77;
    cpu.reg.f = 160;
    cpu.reg.h = 140;
    cpu.reg.l = 187;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[12644] = 24;
    cpu.ram[12645] = 235;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 18);
    CHECK(cpu.reg.b == 184);
    CHECK(cpu.reg.c == 116);
    CHECK(cpu.reg.d == 190);
    CHECK(cpu.reg.e == 77);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 140);
    CHECK(cpu.reg.l == 187);
    CHECK(cpu.pc == 12625);
    CHECK(cpu.sp == 17718);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[12644] == 24);
    REQUIRE(cpu.ram[12645] == 235);
}

TEST_CASE( "18 0389", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58290;
    cpu.sp = 14884;
    cpu.reg.a = 38;
    cpu.reg.b = 201;
    cpu.reg.c = 221;
    cpu.reg.d = 2;
    cpu.reg.e = 230;
    cpu.reg.f = 48;
    cpu.reg.h = 217;
    cpu.reg.l = 174;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[58290] = 24;
    cpu.ram[58291] = 54;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 38);
    CHECK(cpu.reg.b == 201);
    CHECK(cpu.reg.c == 221);
    CHECK(cpu.reg.d == 2);
    CHECK(cpu.reg.e == 230);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 217);
    CHECK(cpu.reg.l == 174);
    CHECK(cpu.pc == 58346);
    CHECK(cpu.sp == 14884);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[58290] == 24);
    REQUIRE(cpu.ram[58291] == 54);
}

TEST_CASE( "18 038A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25165;
    cpu.sp = 50042;
    cpu.reg.a = 229;
    cpu.reg.b = 84;
    cpu.reg.c = 10;
    cpu.reg.d = 32;
    cpu.reg.e = 24;
    cpu.reg.f = 160;
    cpu.reg.h = 166;
    cpu.reg.l = 80;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[25165] = 24;
    cpu.ram[25166] = 216;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 229);
    CHECK(cpu.reg.b == 84);
    CHECK(cpu.reg.c == 10);
    CHECK(cpu.reg.d == 32);
    CHECK(cpu.reg.e == 24);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 166);
    CHECK(cpu.reg.l == 80);
    CHECK(cpu.pc == 25127);
    CHECK(cpu.sp == 50042);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25165] == 24);
    REQUIRE(cpu.ram[25166] == 216);
}

TEST_CASE( "18 038B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14619;
    cpu.sp = 42252;
    cpu.reg.a = 239;
    cpu.reg.b = 14;
    cpu.reg.c = 255;
    cpu.reg.d = 92;
    cpu.reg.e = 156;
    cpu.reg.f = 96;
    cpu.reg.h = 206;
    cpu.reg.l = 59;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[14619] = 24;
    cpu.ram[14620] = 15;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 239);
    CHECK(cpu.reg.b == 14);
    CHECK(cpu.reg.c == 255);
    CHECK(cpu.reg.d == 92);
    CHECK(cpu.reg.e == 156);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 206);
    CHECK(cpu.reg.l == 59);
    CHECK(cpu.pc == 14636);
    CHECK(cpu.sp == 42252);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14619] == 24);
    REQUIRE(cpu.ram[14620] == 15);
}

TEST_CASE( "18 038C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32754;
    cpu.sp = 14366;
    cpu.reg.a = 29;
    cpu.reg.b = 34;
    cpu.reg.c = 219;
    cpu.reg.d = 210;
    cpu.reg.e = 108;
    cpu.reg.f = 112;
    cpu.reg.h = 36;
    cpu.reg.l = 98;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[32754] = 24;
    cpu.ram[32755] = 82;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 29);
    CHECK(cpu.reg.b == 34);
    CHECK(cpu.reg.c == 219);
    CHECK(cpu.reg.d == 210);
    CHECK(cpu.reg.e == 108);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 36);
    CHECK(cpu.reg.l == 98);
    CHECK(cpu.pc == 32838);
    CHECK(cpu.sp == 14366);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32754] == 24);
    REQUIRE(cpu.ram[32755] == 82);
}

TEST_CASE( "18 038D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17411;
    cpu.sp = 63465;
    cpu.reg.a = 3;
    cpu.reg.b = 151;
    cpu.reg.c = 23;
    cpu.reg.d = 71;
    cpu.reg.e = 77;
    cpu.reg.f = 48;
    cpu.reg.h = 121;
    cpu.reg.l = 123;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[17411] = 24;
    cpu.ram[17412] = 42;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 3);
    CHECK(cpu.reg.b == 151);
    CHECK(cpu.reg.c == 23);
    CHECK(cpu.reg.d == 71);
    CHECK(cpu.reg.e == 77);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 121);
    CHECK(cpu.reg.l == 123);
    CHECK(cpu.pc == 17455);
    CHECK(cpu.sp == 63465);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[17411] == 24);
    REQUIRE(cpu.ram[17412] == 42);
}

TEST_CASE( "18 038E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 32611;
    cpu.sp = 14584;
    cpu.reg.a = 63;
    cpu.reg.b = 124;
    cpu.reg.c = 224;
    cpu.reg.d = 234;
    cpu.reg.e = 248;
    cpu.reg.f = 240;
    cpu.reg.h = 3;
    cpu.reg.l = 114;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[32611] = 24;
    cpu.ram[32612] = 212;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 63);
    CHECK(cpu.reg.b == 124);
    CHECK(cpu.reg.c == 224);
    CHECK(cpu.reg.d == 234);
    CHECK(cpu.reg.e == 248);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 3);
    CHECK(cpu.reg.l == 114);
    CHECK(cpu.pc == 32569);
    CHECK(cpu.sp == 14584);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[32611] == 24);
    REQUIRE(cpu.ram[32612] == 212);
}

TEST_CASE( "18 038F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5641;
    cpu.sp = 24624;
    cpu.reg.a = 249;
    cpu.reg.b = 126;
    cpu.reg.c = 173;
    cpu.reg.d = 164;
    cpu.reg.e = 48;
    cpu.reg.f = 0;
    cpu.reg.h = 97;
    cpu.reg.l = 89;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[5641] = 24;
    cpu.ram[5642] = 40;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 249);
    CHECK(cpu.reg.b == 126);
    CHECK(cpu.reg.c == 173);
    CHECK(cpu.reg.d == 164);
    CHECK(cpu.reg.e == 48);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 97);
    CHECK(cpu.reg.l == 89);
    CHECK(cpu.pc == 5683);
    CHECK(cpu.sp == 24624);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[5641] == 24);
    REQUIRE(cpu.ram[5642] == 40);
}

TEST_CASE( "18 0390", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61555;
    cpu.sp = 62917;
    cpu.reg.a = 42;
    cpu.reg.b = 38;
    cpu.reg.c = 66;
    cpu.reg.d = 36;
    cpu.reg.e = 98;
    cpu.reg.f = 0;
    cpu.reg.h = 54;
    cpu.reg.l = 76;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[61555] = 24;
    cpu.ram[61556] = 39;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 42);
    CHECK(cpu.reg.b == 38);
    CHECK(cpu.reg.c == 66);
    CHECK(cpu.reg.d == 36);
    CHECK(cpu.reg.e == 98);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 54);
    CHECK(cpu.reg.l == 76);
    CHECK(cpu.pc == 61596);
    CHECK(cpu.sp == 62917);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61555] == 24);
    REQUIRE(cpu.ram[61556] == 39);
}

TEST_CASE( "18 0391", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8135;
    cpu.sp = 29451;
    cpu.reg.a = 235;
    cpu.reg.b = 26;
    cpu.reg.c = 246;
    cpu.reg.d = 71;
    cpu.reg.e = 7;
    cpu.reg.f = 16;
    cpu.reg.h = 98;
    cpu.reg.l = 200;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[8135] = 24;
    cpu.ram[8136] = 223;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 235);
    CHECK(cpu.reg.b == 26);
    CHECK(cpu.reg.c == 246);
    CHECK(cpu.reg.d == 71);
    CHECK(cpu.reg.e == 7);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 98);
    CHECK(cpu.reg.l == 200);
    CHECK(cpu.pc == 8104);
    CHECK(cpu.sp == 29451);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8135] == 24);
    REQUIRE(cpu.ram[8136] == 223);
}

TEST_CASE( "18 0392", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 65064;
    cpu.sp = 61027;
    cpu.reg.a = 114;
    cpu.reg.b = 154;
    cpu.reg.c = 168;
    cpu.reg.d = 220;
    cpu.reg.e = 2;
    cpu.reg.f = 48;
    cpu.reg.h = 50;
    cpu.reg.l = 36;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[65064] = 24;
    cpu.ram[65065] = 45;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 114);
    CHECK(cpu.reg.b == 154);
    CHECK(cpu.reg.c == 168);
    CHECK(cpu.reg.d == 220);
    CHECK(cpu.reg.e == 2);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 50);
    CHECK(cpu.reg.l == 36);
    CHECK(cpu.pc == 65111);
    CHECK(cpu.sp == 61027);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[65064] == 24);
    REQUIRE(cpu.ram[65065] == 45);
}

TEST_CASE( "18 0393", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 26347;
    cpu.sp = 15555;
    cpu.reg.a = 42;
    cpu.reg.b = 231;
    cpu.reg.c = 36;
    cpu.reg.d = 142;
    cpu.reg.e = 98;
    cpu.reg.f = 16;
    cpu.reg.h = 123;
    cpu.reg.l = 29;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[26347] = 24;
    cpu.ram[26348] = 63;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 42);
    CHECK(cpu.reg.b == 231);
    CHECK(cpu.reg.c == 36);
    CHECK(cpu.reg.d == 142);
    CHECK(cpu.reg.e == 98);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 123);
    CHECK(cpu.reg.l == 29);
    CHECK(cpu.pc == 26412);
    CHECK(cpu.sp == 15555);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[26347] == 24);
    REQUIRE(cpu.ram[26348] == 63);
}

TEST_CASE( "18 0394", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 9494;
    cpu.sp = 9350;
    cpu.reg.a = 191;
    cpu.reg.b = 207;
    cpu.reg.c = 50;
    cpu.reg.d = 43;
    cpu.reg.e = 124;
    cpu.reg.f = 16;
    cpu.reg.h = 19;
    cpu.reg.l = 214;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[9494] = 24;
    cpu.ram[9495] = 120;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 191);
    CHECK(cpu.reg.b == 207);
    CHECK(cpu.reg.c == 50);
    CHECK(cpu.reg.d == 43);
    CHECK(cpu.reg.e == 124);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 19);
    CHECK(cpu.reg.l == 214);
    CHECK(cpu.pc == 9616);
    CHECK(cpu.sp == 9350);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[9494] == 24);
    REQUIRE(cpu.ram[9495] == 120);
}

TEST_CASE( "18 0395", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42962;
    cpu.sp = 15639;
    cpu.reg.a = 163;
    cpu.reg.b = 9;
    cpu.reg.c = 156;
    cpu.reg.d = 136;
    cpu.reg.e = 140;
    cpu.reg.f = 208;
    cpu.reg.h = 228;
    cpu.reg.l = 199;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[42962] = 24;
    cpu.ram[42963] = 234;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 163);
    CHECK(cpu.reg.b == 9);
    CHECK(cpu.reg.c == 156);
    CHECK(cpu.reg.d == 136);
    CHECK(cpu.reg.e == 140);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 228);
    CHECK(cpu.reg.l == 199);
    CHECK(cpu.pc == 42942);
    CHECK(cpu.sp == 15639);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[42962] == 24);
    REQUIRE(cpu.ram[42963] == 234);
}

TEST_CASE( "18 0396", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24930;
    cpu.sp = 32117;
    cpu.reg.a = 76;
    cpu.reg.b = 176;
    cpu.reg.c = 222;
    cpu.reg.d = 46;
    cpu.reg.e = 15;
    cpu.reg.f = 32;
    cpu.reg.h = 134;
    cpu.reg.l = 42;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[24930] = 24;
    cpu.ram[24931] = 142;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 76);
    CHECK(cpu.reg.b == 176);
    CHECK(cpu.reg.c == 222);
    CHECK(cpu.reg.d == 46);
    CHECK(cpu.reg.e == 15);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 134);
    CHECK(cpu.reg.l == 42);
    CHECK(cpu.pc == 24818);
    CHECK(cpu.sp == 32117);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[24930] == 24);
    REQUIRE(cpu.ram[24931] == 142);
}

TEST_CASE( "18 0397", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31045;
    cpu.sp = 20587;
    cpu.reg.a = 234;
    cpu.reg.b = 242;
    cpu.reg.c = 196;
    cpu.reg.d = 198;
    cpu.reg.e = 104;
    cpu.reg.f = 48;
    cpu.reg.h = 36;
    cpu.reg.l = 48;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[31045] = 24;
    cpu.ram[31046] = 251;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 234);
    CHECK(cpu.reg.b == 242);
    CHECK(cpu.reg.c == 196);
    CHECK(cpu.reg.d == 198);
    CHECK(cpu.reg.e == 104);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 36);
    CHECK(cpu.reg.l == 48);
    CHECK(cpu.pc == 31042);
    CHECK(cpu.sp == 20587);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31045] == 24);
    REQUIRE(cpu.ram[31046] == 251);
}

TEST_CASE( "18 0398", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8590;
    cpu.sp = 55394;
    cpu.reg.a = 50;
    cpu.reg.b = 171;
    cpu.reg.c = 220;
    cpu.reg.d = 10;
    cpu.reg.e = 198;
    cpu.reg.f = 176;
    cpu.reg.h = 6;
    cpu.reg.l = 173;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[8590] = 24;
    cpu.ram[8591] = 76;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 50);
    CHECK(cpu.reg.b == 171);
    CHECK(cpu.reg.c == 220);
    CHECK(cpu.reg.d == 10);
    CHECK(cpu.reg.e == 198);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 6);
    CHECK(cpu.reg.l == 173);
    CHECK(cpu.pc == 8668);
    CHECK(cpu.sp == 55394);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8590] == 24);
    REQUIRE(cpu.ram[8591] == 76);
}

TEST_CASE( "18 0399", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 10745;
    cpu.sp = 64386;
    cpu.reg.a = 254;
    cpu.reg.b = 134;
    cpu.reg.c = 244;
    cpu.reg.d = 171;
    cpu.reg.e = 193;
    cpu.reg.f = 48;
    cpu.reg.h = 138;
    cpu.reg.l = 103;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[10745] = 24;
    cpu.ram[10746] = 185;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 134);
    CHECK(cpu.reg.c == 244);
    CHECK(cpu.reg.d == 171);
    CHECK(cpu.reg.e == 193);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 138);
    CHECK(cpu.reg.l == 103);
    CHECK(cpu.pc == 10676);
    CHECK(cpu.sp == 64386);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[10745] == 24);
    REQUIRE(cpu.ram[10746] == 185);
}

TEST_CASE( "18 039A", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44337;
    cpu.sp = 1837;
    cpu.reg.a = 81;
    cpu.reg.b = 190;
    cpu.reg.c = 232;
    cpu.reg.d = 108;
    cpu.reg.e = 7;
    cpu.reg.f = 16;
    cpu.reg.h = 81;
    cpu.reg.l = 19;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[44337] = 24;
    cpu.ram[44338] = 194;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 81);
    CHECK(cpu.reg.b == 190);
    CHECK(cpu.reg.c == 232);
    CHECK(cpu.reg.d == 108);
    CHECK(cpu.reg.e == 7);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 81);
    CHECK(cpu.reg.l == 19);
    CHECK(cpu.pc == 44277);
    CHECK(cpu.sp == 1837);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[44337] == 24);
    REQUIRE(cpu.ram[44338] == 194);
}

TEST_CASE( "18 039B", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 51757;
    cpu.sp = 35955;
    cpu.reg.a = 32;
    cpu.reg.b = 147;
    cpu.reg.c = 73;
    cpu.reg.d = 249;
    cpu.reg.e = 126;
    cpu.reg.f = 176;
    cpu.reg.h = 198;
    cpu.reg.l = 91;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[51757] = 24;
    cpu.ram[51758] = 80;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 32);
    CHECK(cpu.reg.b == 147);
    CHECK(cpu.reg.c == 73);
    CHECK(cpu.reg.d == 249);
    CHECK(cpu.reg.e == 126);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 198);
    CHECK(cpu.reg.l == 91);
    CHECK(cpu.pc == 51839);
    CHECK(cpu.sp == 35955);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[51757] == 24);
    REQUIRE(cpu.ram[51758] == 80);
}

TEST_CASE( "18 039C", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 21448;
    cpu.sp = 25895;
    cpu.reg.a = 138;
    cpu.reg.b = 143;
    cpu.reg.c = 216;
    cpu.reg.d = 72;
    cpu.reg.e = 40;
    cpu.reg.f = 16;
    cpu.reg.h = 11;
    cpu.reg.l = 209;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[21448] = 24;
    cpu.ram[21449] = 174;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 138);
    CHECK(cpu.reg.b == 143);
    CHECK(cpu.reg.c == 216);
    CHECK(cpu.reg.d == 72);
    CHECK(cpu.reg.e == 40);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 11);
    CHECK(cpu.reg.l == 209);
    CHECK(cpu.pc == 21368);
    CHECK(cpu.sp == 25895);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[21448] == 24);
    REQUIRE(cpu.ram[21449] == 174);
}

TEST_CASE( "18 039D", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62601;
    cpu.sp = 25821;
    cpu.reg.a = 73;
    cpu.reg.b = 223;
    cpu.reg.c = 227;
    cpu.reg.d = 131;
    cpu.reg.e = 227;
    cpu.reg.f = 80;
    cpu.reg.h = 178;
    cpu.reg.l = 242;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[62601] = 24;
    cpu.ram[62602] = 68;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 73);
    CHECK(cpu.reg.b == 223);
    CHECK(cpu.reg.c == 227);
    CHECK(cpu.reg.d == 131);
    CHECK(cpu.reg.e == 227);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 178);
    CHECK(cpu.reg.l == 242);
    CHECK(cpu.pc == 62671);
    CHECK(cpu.sp == 25821);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62601] == 24);
    REQUIRE(cpu.ram[62602] == 68);
}

TEST_CASE( "18 039E", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48086;
    cpu.sp = 61909;
    cpu.reg.a = 127;
    cpu.reg.b = 209;
    cpu.reg.c = 77;
    cpu.reg.d = 212;
    cpu.reg.e = 58;
    cpu.reg.f = 176;
    cpu.reg.h = 131;
    cpu.reg.l = 227;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[48086] = 24;
    cpu.ram[48087] = 251;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 127);
    CHECK(cpu.reg.b == 209);
    CHECK(cpu.reg.c == 77);
    CHECK(cpu.reg.d == 212);
    CHECK(cpu.reg.e == 58);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 131);
    CHECK(cpu.reg.l == 227);
    CHECK(cpu.pc == 48083);
    CHECK(cpu.sp == 61909);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[48086] == 24);
    REQUIRE(cpu.ram[48087] == 251);
}

TEST_CASE( "18 039F", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47929;
    cpu.sp = 42244;
    cpu.reg.a = 186;
    cpu.reg.b = 22;
    cpu.reg.c = 50;
    cpu.reg.d = 180;
    cpu.reg.e = 192;
    cpu.reg.f = 80;
    cpu.reg.h = 23;
    cpu.reg.l = 156;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47929] = 24;
    cpu.ram[47930] = 152;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 186);
    CHECK(cpu.reg.b == 22);
    CHECK(cpu.reg.c == 50);
    CHECK(cpu.reg.d == 180);
    CHECK(cpu.reg.e == 192);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 23);
    CHECK(cpu.reg.l == 156);
    CHECK(cpu.pc == 47827);
    CHECK(cpu.sp == 42244);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47929] == 24);
    REQUIRE(cpu.ram[47930] == 152);
}

TEST_CASE( "18 03A0", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27873;
    cpu.sp = 4710;
    cpu.reg.a = 165;
    cpu.reg.b = 99;
    cpu.reg.c = 223;
    cpu.reg.d = 49;
    cpu.reg.e = 238;
    cpu.reg.f = 144;
    cpu.reg.h = 101;
    cpu.reg.l = 116;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[27873] = 24;
    cpu.ram[27874] = 169;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 165);
    CHECK(cpu.reg.b == 99);
    CHECK(cpu.reg.c == 223);
    CHECK(cpu.reg.d == 49);
    CHECK(cpu.reg.e == 238);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 101);
    CHECK(cpu.reg.l == 116);
    CHECK(cpu.pc == 27788);
    CHECK(cpu.sp == 4710);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[27873] == 24);
    REQUIRE(cpu.ram[27874] == 169);
}

TEST_CASE( "18 03A1", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1456;
    cpu.sp = 18556;
    cpu.reg.a = 14;
    cpu.reg.b = 96;
    cpu.reg.c = 138;
    cpu.reg.d = 79;
    cpu.reg.e = 174;
    cpu.reg.f = 208;
    cpu.reg.h = 133;
    cpu.reg.l = 112;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[1456] = 24;
    cpu.ram[1457] = 59;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 14);
    CHECK(cpu.reg.b == 96);
    CHECK(cpu.reg.c == 138);
    CHECK(cpu.reg.d == 79);
    CHECK(cpu.reg.e == 174);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 133);
    CHECK(cpu.reg.l == 112);
    CHECK(cpu.pc == 1517);
    CHECK(cpu.sp == 18556);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[1456] == 24);
    REQUIRE(cpu.ram[1457] == 59);
}

TEST_CASE( "18 03A2", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11159;
    cpu.sp = 52021;
    cpu.reg.a = 221;
    cpu.reg.b = 28;
    cpu.reg.c = 97;
    cpu.reg.d = 26;
    cpu.reg.e = 192;
    cpu.reg.f = 208;
    cpu.reg.h = 252;
    cpu.reg.l = 33;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[11159] = 24;
    cpu.ram[11160] = 196;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 221);
    CHECK(cpu.reg.b == 28);
    CHECK(cpu.reg.c == 97);
    CHECK(cpu.reg.d == 26);
    CHECK(cpu.reg.e == 192);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 252);
    CHECK(cpu.reg.l == 33);
    CHECK(cpu.pc == 11101);
    CHECK(cpu.sp == 52021);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11159] == 24);
    REQUIRE(cpu.ram[11160] == 196);
}

TEST_CASE( "18 03A3", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 33703;
    cpu.sp = 52998;
    cpu.reg.a = 198;
    cpu.reg.b = 50;
    cpu.reg.c = 172;
    cpu.reg.d = 209;
    cpu.reg.e = 93;
    cpu.reg.f = 0;
    cpu.reg.h = 45;
    cpu.reg.l = 232;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[33703] = 24;
    cpu.ram[33704] = 60;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 198);
    CHECK(cpu.reg.b == 50);
    CHECK(cpu.reg.c == 172);
    CHECK(cpu.reg.d == 209);
    CHECK(cpu.reg.e == 93);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 45);
    CHECK(cpu.reg.l == 232);
    CHECK(cpu.pc == 33765);
    CHECK(cpu.sp == 52998);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[33703] == 24);
    REQUIRE(cpu.ram[33704] == 60);
}

TEST_CASE( "18 03A4", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31023;
    cpu.sp = 55502;
    cpu.reg.a = 128;
    cpu.reg.b = 128;
    cpu.reg.c = 136;
    cpu.reg.d = 105;
    cpu.reg.e = 159;
    cpu.reg.f = 80;
    cpu.reg.h = 148;
    cpu.reg.l = 199;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[31023] = 24;
    cpu.ram[31024] = 127;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 128);
    CHECK(cpu.reg.b == 128);
    CHECK(cpu.reg.c == 136);
    CHECK(cpu.reg.d == 105);
    CHECK(cpu.reg.e == 159);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 148);
    CHECK(cpu.reg.l == 199);
    CHECK(cpu.pc == 31152);
    CHECK(cpu.sp == 55502);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31023] == 24);
    REQUIRE(cpu.ram[31024] == 127);
}

TEST_CASE( "18 03A5", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40819;
    cpu.sp = 19681;
    cpu.reg.a = 173;
    cpu.reg.b = 224;
    cpu.reg.c = 0;
    cpu.reg.d = 78;
    cpu.reg.e = 240;
    cpu.reg.f = 96;
    cpu.reg.h = 254;
    cpu.reg.l = 2;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[40819] = 24;
    cpu.ram[40820] = 36;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 173);
    CHECK(cpu.reg.b == 224);
    CHECK(cpu.reg.c == 0);
    CHECK(cpu.reg.d == 78);
    CHECK(cpu.reg.e == 240);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 254);
    CHECK(cpu.reg.l == 2);
    CHECK(cpu.pc == 40857);
    CHECK(cpu.sp == 19681);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[40819] == 24);
    REQUIRE(cpu.ram[40820] == 36);
}

TEST_CASE( "18 03A6", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 50964;
    cpu.sp = 14654;
    cpu.reg.a = 153;
    cpu.reg.b = 15;
    cpu.reg.c = 69;
    cpu.reg.d = 172;
    cpu.reg.e = 19;
    cpu.reg.f = 80;
    cpu.reg.h = 184;
    cpu.reg.l = 140;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[50964] = 24;
    cpu.ram[50965] = 199;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 153);
    CHECK(cpu.reg.b == 15);
    CHECK(cpu.reg.c == 69);
    CHECK(cpu.reg.d == 172);
    CHECK(cpu.reg.e == 19);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 184);
    CHECK(cpu.reg.l == 140);
    CHECK(cpu.pc == 50909);
    CHECK(cpu.sp == 14654);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[50964] == 24);
    REQUIRE(cpu.ram[50965] == 199);
}

TEST_CASE( "18 03A7", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 38316;
    cpu.sp = 10139;
    cpu.reg.a = 0;
    cpu.reg.b = 106;
    cpu.reg.c = 40;
    cpu.reg.d = 151;
    cpu.reg.e = 69;
    cpu.reg.f = 112;
    cpu.reg.h = 56;
    cpu.reg.l = 89;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[38316] = 24;
    cpu.ram[38317] = 237;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 0);
    CHECK(cpu.reg.b == 106);
    CHECK(cpu.reg.c == 40);
    CHECK(cpu.reg.d == 151);
    CHECK(cpu.reg.e == 69);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 56);
    CHECK(cpu.reg.l == 89);
    CHECK(cpu.pc == 38299);
    CHECK(cpu.sp == 10139);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[38316] == 24);
    REQUIRE(cpu.ram[38317] == 237);
}

TEST_CASE( "18 03A8", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36981;
    cpu.sp = 23207;
    cpu.reg.a = 136;
    cpu.reg.b = 104;
    cpu.reg.c = 122;
    cpu.reg.d = 2;
    cpu.reg.e = 94;
    cpu.reg.f = 128;
    cpu.reg.h = 126;
    cpu.reg.l = 106;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[36981] = 24;
    cpu.ram[36982] = 246;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 136);
    CHECK(cpu.reg.b == 104);
    CHECK(cpu.reg.c == 122);
    CHECK(cpu.reg.d == 2);
    CHECK(cpu.reg.e == 94);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 126);
    CHECK(cpu.reg.l == 106);
    CHECK(cpu.pc == 36973);
    CHECK(cpu.sp == 23207);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36981] == 24);
    REQUIRE(cpu.ram[36982] == 246);
}

TEST_CASE( "18 03A9", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 54370;
    cpu.sp = 57862;
    cpu.reg.a = 82;
    cpu.reg.b = 59;
    cpu.reg.c = 72;
    cpu.reg.d = 184;
    cpu.reg.e = 113;
    cpu.reg.f = 160;
    cpu.reg.h = 34;
    cpu.reg.l = 241;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[54370] = 24;
    cpu.ram[54371] = 253;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 82);
    CHECK(cpu.reg.b == 59);
    CHECK(cpu.reg.c == 72);
    CHECK(cpu.reg.d == 184);
    CHECK(cpu.reg.e == 113);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 34);
    CHECK(cpu.reg.l == 241);
    CHECK(cpu.pc == 54369);
    CHECK(cpu.sp == 57862);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[54370] == 24);
    REQUIRE(cpu.ram[54371] == 253);
}

TEST_CASE( "18 03AA", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 46482;
    cpu.sp = 55589;
    cpu.reg.a = 13;
    cpu.reg.b = 53;
    cpu.reg.c = 185;
    cpu.reg.d = 130;
    cpu.reg.e = 64;
    cpu.reg.f = 224;
    cpu.reg.h = 24;
    cpu.reg.l = 195;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[46482] = 24;
    cpu.ram[46483] = 211;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 13);
    CHECK(cpu.reg.b == 53);
    CHECK(cpu.reg.c == 185);
    CHECK(cpu.reg.d == 130);
    CHECK(cpu.reg.e == 64);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 24);
    CHECK(cpu.reg.l == 195);
    CHECK(cpu.pc == 46439);
    CHECK(cpu.sp == 55589);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[46482] == 24);
    REQUIRE(cpu.ram[46483] == 211);
}

TEST_CASE( "18 03AB", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31294;
    cpu.sp = 44762;
    cpu.reg.a = 59;
    cpu.reg.b = 227;
    cpu.reg.c = 152;
    cpu.reg.d = 150;
    cpu.reg.e = 11;
    cpu.reg.f = 32;
    cpu.reg.h = 80;
    cpu.reg.l = 211;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[31294] = 24;
    cpu.ram[31295] = 90;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 59);
    CHECK(cpu.reg.b == 227);
    CHECK(cpu.reg.c == 152);
    CHECK(cpu.reg.d == 150);
    CHECK(cpu.reg.e == 11);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 80);
    CHECK(cpu.reg.l == 211);
    CHECK(cpu.pc == 31386);
    CHECK(cpu.sp == 44762);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31294] == 24);
    REQUIRE(cpu.ram[31295] == 90);
}

TEST_CASE( "18 03AC", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57905;
    cpu.sp = 47720;
    cpu.reg.a = 106;
    cpu.reg.b = 62;
    cpu.reg.c = 7;
    cpu.reg.d = 106;
    cpu.reg.e = 75;
    cpu.reg.f = 112;
    cpu.reg.h = 249;
    cpu.reg.l = 10;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[57905] = 24;
    cpu.ram[57906] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 106);
    CHECK(cpu.reg.b == 62);
    CHECK(cpu.reg.c == 7);
    CHECK(cpu.reg.d == 106);
    CHECK(cpu.reg.e == 75);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 249);
    CHECK(cpu.reg.l == 10);
    CHECK(cpu.pc == 57909);
    CHECK(cpu.sp == 47720);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[57905] == 24);
    REQUIRE(cpu.ram[57906] == 2);
}

TEST_CASE( "18 03AD", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 4571;
    cpu.sp = 28355;
    cpu.reg.a = 9;
    cpu.reg.b = 232;
    cpu.reg.c = 184;
    cpu.reg.d = 26;
    cpu.reg.e = 165;
    cpu.reg.f = 16;
    cpu.reg.h = 173;
    cpu.reg.l = 130;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[4571] = 24;
    cpu.ram[4572] = 137;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 9);
    CHECK(cpu.reg.b == 232);
    CHECK(cpu.reg.c == 184);
    CHECK(cpu.reg.d == 26);
    CHECK(cpu.reg.e == 165);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 173);
    CHECK(cpu.reg.l == 130);
    CHECK(cpu.pc == 4454);
    CHECK(cpu.sp == 28355);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[4571] == 24);
    REQUIRE(cpu.ram[4572] == 137);
}

TEST_CASE( "18 03AE", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14752;
    cpu.sp = 35888;
    cpu.reg.a = 114;
    cpu.reg.b = 180;
    cpu.reg.c = 234;
    cpu.reg.d = 126;
    cpu.reg.e = 215;
    cpu.reg.f = 176;
    cpu.reg.h = 229;
    cpu.reg.l = 13;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[14752] = 24;
    cpu.ram[14753] = 220;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 114);
    CHECK(cpu.reg.b == 180);
    CHECK(cpu.reg.c == 234);
    CHECK(cpu.reg.d == 126);
    CHECK(cpu.reg.e == 215);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 229);
    CHECK(cpu.reg.l == 13);
    CHECK(cpu.pc == 14718);
    CHECK(cpu.sp == 35888);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[14752] == 24);
    REQUIRE(cpu.ram[14753] == 220);
}

TEST_CASE( "18 03AF", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 27373;
    cpu.sp = 63092;
    cpu.reg.a = 92;
    cpu.reg.b = 125;
    cpu.reg.c = 65;
    cpu.reg.d = 218;
    cpu.reg.e = 172;
    cpu.reg.f = 144;
    cpu.reg.h = 241;
    cpu.reg.l = 136;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[27373] = 24;
    cpu.ram[27374] = 209;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 92);
    CHECK(cpu.reg.b == 125);
    CHECK(cpu.reg.c == 65);
    CHECK(cpu.reg.d == 218);
    CHECK(cpu.reg.e == 172);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 136);
    CHECK(cpu.pc == 27328);
    CHECK(cpu.sp == 63092);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[27373] == 24);
    REQUIRE(cpu.ram[27374] == 209);
}

TEST_CASE( "18 03B0", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28879;
    cpu.sp = 28696;
    cpu.reg.a = 138;
    cpu.reg.b = 89;
    cpu.reg.c = 188;
    cpu.reg.d = 172;
    cpu.reg.e = 1;
    cpu.reg.f = 224;
    cpu.reg.h = 3;
    cpu.reg.l = 9;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[28879] = 24;
    cpu.ram[28880] = 149;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 138);
    CHECK(cpu.reg.b == 89);
    CHECK(cpu.reg.c == 188);
    CHECK(cpu.reg.d == 172);
    CHECK(cpu.reg.e == 1);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 3);
    CHECK(cpu.reg.l == 9);
    CHECK(cpu.pc == 28774);
    CHECK(cpu.sp == 28696);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[28879] == 24);
    REQUIRE(cpu.ram[28880] == 149);
}

TEST_CASE( "18 03B1", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 28530;
    cpu.sp = 19790;
    cpu.reg.a = 69;
    cpu.reg.b = 188;
    cpu.reg.c = 158;
    cpu.reg.d = 206;
    cpu.reg.e = 100;
    cpu.reg.f = 80;
    cpu.reg.h = 30;
    cpu.reg.l = 28;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[28530] = 24;
    cpu.ram[28531] = 121;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 69);
    CHECK(cpu.reg.b == 188);
    CHECK(cpu.reg.c == 158);
    CHECK(cpu.reg.d == 206);
    CHECK(cpu.reg.e == 100);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 30);
    CHECK(cpu.reg.l == 28);
    CHECK(cpu.pc == 28653);
    CHECK(cpu.sp == 19790);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[28530] == 24);
    REQUIRE(cpu.ram[28531] == 121);
}

TEST_CASE( "18 03B2", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 55439;
    cpu.sp = 28932;
    cpu.reg.a = 249;
    cpu.reg.b = 223;
    cpu.reg.c = 12;
    cpu.reg.d = 135;
    cpu.reg.e = 75;
    cpu.reg.f = 224;
    cpu.reg.h = 125;
    cpu.reg.l = 199;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[55439] = 24;
    cpu.ram[55440] = 172;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 249);
    CHECK(cpu.reg.b == 223);
    CHECK(cpu.reg.c == 12);
    CHECK(cpu.reg.d == 135);
    CHECK(cpu.reg.e == 75);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 125);
    CHECK(cpu.reg.l == 199);
    CHECK(cpu.pc == 55357);
    CHECK(cpu.sp == 28932);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[55439] == 24);
    REQUIRE(cpu.ram[55440] == 172);
}

TEST_CASE( "18 03B3", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34273;
    cpu.sp = 37780;
    cpu.reg.a = 19;
    cpu.reg.b = 34;
    cpu.reg.c = 172;
    cpu.reg.d = 224;
    cpu.reg.e = 19;
    cpu.reg.f = 64;
    cpu.reg.h = 222;
    cpu.reg.l = 31;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[34273] = 24;
    cpu.ram[34274] = 43;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 19);
    CHECK(cpu.reg.b == 34);
    CHECK(cpu.reg.c == 172);
    CHECK(cpu.reg.d == 224);
    CHECK(cpu.reg.e == 19);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 222);
    CHECK(cpu.reg.l == 31);
    CHECK(cpu.pc == 34318);
    CHECK(cpu.sp == 37780);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34273] == 24);
    REQUIRE(cpu.ram[34274] == 43);
}

TEST_CASE( "18 03B4", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 5907;
    cpu.sp = 53396;
    cpu.reg.a = 227;
    cpu.reg.b = 165;
    cpu.reg.c = 0;
    cpu.reg.d = 179;
    cpu.reg.e = 106;
    cpu.reg.f = 80;
    cpu.reg.h = 230;
    cpu.reg.l = 70;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[5907] = 24;
    cpu.ram[5908] = 101;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 227);
    CHECK(cpu.reg.b == 165);
    CHECK(cpu.reg.c == 0);
    CHECK(cpu.reg.d == 179);
    CHECK(cpu.reg.e == 106);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 230);
    CHECK(cpu.reg.l == 70);
    CHECK(cpu.pc == 6010);
    CHECK(cpu.sp == 53396);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[5907] == 24);
    REQUIRE(cpu.ram[5908] == 101);
}

TEST_CASE( "18 03B5", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15984;
    cpu.sp = 57211;
    cpu.reg.a = 148;
    cpu.reg.b = 107;
    cpu.reg.c = 166;
    cpu.reg.d = 28;
    cpu.reg.e = 2;
    cpu.reg.f = 128;
    cpu.reg.h = 117;
    cpu.reg.l = 245;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[15984] = 24;
    cpu.ram[15985] = 68;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 148);
    CHECK(cpu.reg.b == 107);
    CHECK(cpu.reg.c == 166);
    CHECK(cpu.reg.d == 28);
    CHECK(cpu.reg.e == 2);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 117);
    CHECK(cpu.reg.l == 245);
    CHECK(cpu.pc == 16054);
    CHECK(cpu.sp == 57211);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[15984] == 24);
    REQUIRE(cpu.ram[15985] == 68);
}

TEST_CASE( "18 03B6", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62733;
    cpu.sp = 52764;
    cpu.reg.a = 28;
    cpu.reg.b = 60;
    cpu.reg.c = 143;
    cpu.reg.d = 117;
    cpu.reg.e = 215;
    cpu.reg.f = 224;
    cpu.reg.h = 82;
    cpu.reg.l = 47;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[62733] = 24;
    cpu.ram[62734] = 252;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 28);
    CHECK(cpu.reg.b == 60);
    CHECK(cpu.reg.c == 143);
    CHECK(cpu.reg.d == 117);
    CHECK(cpu.reg.e == 215);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 82);
    CHECK(cpu.reg.l == 47);
    CHECK(cpu.pc == 62731);
    CHECK(cpu.sp == 52764);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62733] == 24);
    REQUIRE(cpu.ram[62734] == 252);
}

TEST_CASE( "18 03B7", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 45121;
    cpu.sp = 51115;
    cpu.reg.a = 223;
    cpu.reg.b = 105;
    cpu.reg.c = 89;
    cpu.reg.d = 146;
    cpu.reg.e = 135;
    cpu.reg.f = 192;
    cpu.reg.h = 0;
    cpu.reg.l = 88;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[45121] = 24;
    cpu.ram[45122] = 122;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 223);
    CHECK(cpu.reg.b == 105);
    CHECK(cpu.reg.c == 89);
    CHECK(cpu.reg.d == 146);
    CHECK(cpu.reg.e == 135);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 0);
    CHECK(cpu.reg.l == 88);
    CHECK(cpu.pc == 45245);
    CHECK(cpu.sp == 51115);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[45121] == 24);
    REQUIRE(cpu.ram[45122] == 122);
}

TEST_CASE( "18 03B8", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8759;
    cpu.sp = 58492;
    cpu.reg.a = 153;
    cpu.reg.b = 17;
    cpu.reg.c = 53;
    cpu.reg.d = 241;
    cpu.reg.e = 226;
    cpu.reg.f = 80;
    cpu.reg.h = 187;
    cpu.reg.l = 90;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[8759] = 24;
    cpu.ram[8760] = 51;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 153);
    CHECK(cpu.reg.b == 17);
    CHECK(cpu.reg.c == 53);
    CHECK(cpu.reg.d == 241);
    CHECK(cpu.reg.e == 226);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 187);
    CHECK(cpu.reg.l == 90);
    CHECK(cpu.pc == 8812);
    CHECK(cpu.sp == 58492);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8759] == 24);
    REQUIRE(cpu.ram[8760] == 51);
}

TEST_CASE( "18 03B9", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34381;
    cpu.sp = 20779;
    cpu.reg.a = 52;
    cpu.reg.b = 133;
    cpu.reg.c = 141;
    cpu.reg.d = 105;
    cpu.reg.e = 81;
    cpu.reg.f = 128;
    cpu.reg.h = 119;
    cpu.reg.l = 184;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[34381] = 24;
    cpu.ram[34382] = 182;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 52);
    CHECK(cpu.reg.b == 133);
    CHECK(cpu.reg.c == 141);
    CHECK(cpu.reg.d == 105);
    CHECK(cpu.reg.e == 81);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 119);
    CHECK(cpu.reg.l == 184);
    CHECK(cpu.pc == 34309);
    CHECK(cpu.sp == 20779);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34381] == 24);
    REQUIRE(cpu.ram[34382] == 182);
}

TEST_CASE( "18 03BA", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 2280;
    cpu.sp = 23982;
    cpu.reg.a = 107;
    cpu.reg.b = 170;
    cpu.reg.c = 34;
    cpu.reg.d = 144;
    cpu.reg.e = 161;
    cpu.reg.f = 112;
    cpu.reg.h = 17;
    cpu.reg.l = 157;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[2280] = 24;
    cpu.ram[2281] = 161;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 107);
    CHECK(cpu.reg.b == 170);
    CHECK(cpu.reg.c == 34);
    CHECK(cpu.reg.d == 144);
    CHECK(cpu.reg.e == 161);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 17);
    CHECK(cpu.reg.l == 157);
    CHECK(cpu.pc == 2187);
    CHECK(cpu.sp == 23982);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[2280] == 24);
    REQUIRE(cpu.ram[2281] == 161);
}

TEST_CASE( "18 03BB", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 64951;
    cpu.sp = 8887;
    cpu.reg.a = 44;
    cpu.reg.b = 236;
    cpu.reg.c = 195;
    cpu.reg.d = 218;
    cpu.reg.e = 77;
    cpu.reg.f = 16;
    cpu.reg.h = 248;
    cpu.reg.l = 126;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[64951] = 24;
    cpu.ram[64952] = 34;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 44);
    CHECK(cpu.reg.b == 236);
    CHECK(cpu.reg.c == 195);
    CHECK(cpu.reg.d == 218);
    CHECK(cpu.reg.e == 77);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 248);
    CHECK(cpu.reg.l == 126);
    CHECK(cpu.pc == 64987);
    CHECK(cpu.sp == 8887);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[64951] == 24);
    REQUIRE(cpu.ram[64952] == 34);
}

TEST_CASE( "18 03BC", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 58411;
    cpu.sp = 9366;
    cpu.reg.a = 59;
    cpu.reg.b = 231;
    cpu.reg.c = 27;
    cpu.reg.d = 70;
    cpu.reg.e = 29;
    cpu.reg.f = 240;
    cpu.reg.h = 49;
    cpu.reg.l = 228;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[58411] = 24;
    cpu.ram[58412] = 212;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 59);
    CHECK(cpu.reg.b == 231);
    CHECK(cpu.reg.c == 27);
    CHECK(cpu.reg.d == 70);
    CHECK(cpu.reg.e == 29);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 49);
    CHECK(cpu.reg.l == 228);
    CHECK(cpu.pc == 58369);
    CHECK(cpu.sp == 9366);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[58411] == 24);
    REQUIRE(cpu.ram[58412] == 212);
}

TEST_CASE( "18 03BD", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 7080;
    cpu.sp = 5026;
    cpu.reg.a = 18;
    cpu.reg.b = 95;
    cpu.reg.c = 65;
    cpu.reg.d = 250;
    cpu.reg.e = 222;
    cpu.reg.f = 176;
    cpu.reg.h = 128;
    cpu.reg.l = 17;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[7080] = 24;
    cpu.ram[7081] = 4;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 18);
    CHECK(cpu.reg.b == 95);
    CHECK(cpu.reg.c == 65);
    CHECK(cpu.reg.d == 250);
    CHECK(cpu.reg.e == 222);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 128);
    CHECK(cpu.reg.l == 17);
    CHECK(cpu.pc == 7086);
    CHECK(cpu.sp == 5026);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[7080] == 24);
    REQUIRE(cpu.ram[7081] == 4);
}

TEST_CASE( "18 03BE", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56945;
    cpu.sp = 31510;
    cpu.reg.a = 225;
    cpu.reg.b = 126;
    cpu.reg.c = 253;
    cpu.reg.d = 229;
    cpu.reg.e = 32;
    cpu.reg.f = 208;
    cpu.reg.h = 190;
    cpu.reg.l = 173;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[56945] = 24;
    cpu.ram[56946] = 193;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 225);
    CHECK(cpu.reg.b == 126);
    CHECK(cpu.reg.c == 253);
    CHECK(cpu.reg.d == 229);
    CHECK(cpu.reg.e == 32);
    CHECK(cpu.reg.f == 208);
    CHECK(cpu.reg.h == 190);
    CHECK(cpu.reg.l == 173);
    CHECK(cpu.pc == 56884);
    CHECK(cpu.sp == 31510);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56945] == 24);
    REQUIRE(cpu.ram[56946] == 193);
}

TEST_CASE( "18 03BF", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 19740;
    cpu.sp = 56253;
    cpu.reg.a = 22;
    cpu.reg.b = 87;
    cpu.reg.c = 69;
    cpu.reg.d = 215;
    cpu.reg.e = 14;
    cpu.reg.f = 32;
    cpu.reg.h = 83;
    cpu.reg.l = 118;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[19740] = 24;
    cpu.ram[19741] = 2;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 22);
    CHECK(cpu.reg.b == 87);
    CHECK(cpu.reg.c == 69);
    CHECK(cpu.reg.d == 215);
    CHECK(cpu.reg.e == 14);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 83);
    CHECK(cpu.reg.l == 118);
    CHECK(cpu.pc == 19744);
    CHECK(cpu.sp == 56253);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[19740] == 24);
    REQUIRE(cpu.ram[19741] == 2);
}

TEST_CASE( "18 03C0", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34762;
    cpu.sp = 38078;
    cpu.reg.a = 82;
    cpu.reg.b = 107;
    cpu.reg.c = 57;
    cpu.reg.d = 18;
    cpu.reg.e = 222;
    cpu.reg.f = 192;
    cpu.reg.h = 150;
    cpu.reg.l = 185;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[34762] = 24;
    cpu.ram[34763] = 31;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 82);
    CHECK(cpu.reg.b == 107);
    CHECK(cpu.reg.c == 57);
    CHECK(cpu.reg.d == 18);
    CHECK(cpu.reg.e == 222);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 150);
    CHECK(cpu.reg.l == 185);
    CHECK(cpu.pc == 34795);
    CHECK(cpu.sp == 38078);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[34762] == 24);
    REQUIRE(cpu.ram[34763] == 31);
}

TEST_CASE( "18 03C1", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 62226;
    cpu.sp = 12270;
    cpu.reg.a = 173;
    cpu.reg.b = 242;
    cpu.reg.c = 202;
    cpu.reg.d = 201;
    cpu.reg.e = 67;
    cpu.reg.f = 96;
    cpu.reg.h = 240;
    cpu.reg.l = 47;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[62226] = 24;
    cpu.ram[62227] = 125;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 173);
    CHECK(cpu.reg.b == 242);
    CHECK(cpu.reg.c == 202);
    CHECK(cpu.reg.d == 201);
    CHECK(cpu.reg.e == 67);
    CHECK(cpu.reg.f == 96);
    CHECK(cpu.reg.h == 240);
    CHECK(cpu.reg.l == 47);
    CHECK(cpu.pc == 62353);
    CHECK(cpu.sp == 12270);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[62226] == 24);
    REQUIRE(cpu.ram[62227] == 125);
}

TEST_CASE( "18 03C2", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 14638;
    cpu.sp = 48317;
    cpu.reg.a = 32;
    cpu.reg.b = 197;
    cpu.reg.c = 39;
    cpu.reg.d = 183;
    cpu.reg.e = 138;
    cpu.reg.f = 112;
    cpu.reg.h = 2;
    cpu.reg.l = 26;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[14638] = 24;
    cpu.ram[14639] = 113;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 32);
    CHECK(cpu.reg.b == 197);
    CHECK(cpu.reg.c == 39);
    CHECK(cpu.reg.d == 183);
    CHECK(cpu.reg.e == 138);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 2);
    CHECK(cpu.reg.l == 26);
    CHECK(cpu.pc == 14753);
    CHECK(cpu.sp == 48317);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[14638] == 24);
    REQUIRE(cpu.ram[14639] == 113);
}

TEST_CASE( "18 03C3", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11882;
    cpu.sp = 58208;
    cpu.reg.a = 41;
    cpu.reg.b = 78;
    cpu.reg.c = 113;
    cpu.reg.d = 189;
    cpu.reg.e = 205;
    cpu.reg.f = 16;
    cpu.reg.h = 69;
    cpu.reg.l = 123;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[11882] = 24;
    cpu.ram[11883] = 205;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 41);
    CHECK(cpu.reg.b == 78);
    CHECK(cpu.reg.c == 113);
    CHECK(cpu.reg.d == 189);
    CHECK(cpu.reg.e == 205);
    CHECK(cpu.reg.f == 16);
    CHECK(cpu.reg.h == 69);
    CHECK(cpu.reg.l == 123);
    CHECK(cpu.pc == 11833);
    CHECK(cpu.sp == 58208);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[11882] == 24);
    REQUIRE(cpu.ram[11883] == 205);
}

TEST_CASE( "18 03C4", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 48490;
    cpu.sp = 63975;
    cpu.reg.a = 62;
    cpu.reg.b = 123;
    cpu.reg.c = 66;
    cpu.reg.d = 36;
    cpu.reg.e = 101;
    cpu.reg.f = 240;
    cpu.reg.h = 74;
    cpu.reg.l = 145;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[48490] = 24;
    cpu.ram[48491] = 146;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 62);
    CHECK(cpu.reg.b == 123);
    CHECK(cpu.reg.c == 66);
    CHECK(cpu.reg.d == 36);
    CHECK(cpu.reg.e == 101);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 74);
    CHECK(cpu.reg.l == 145);
    CHECK(cpu.pc == 48382);
    CHECK(cpu.sp == 63975);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[48490] == 24);
    REQUIRE(cpu.ram[48491] == 146);
}

TEST_CASE( "18 03C5", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 57085;
    cpu.sp = 16967;
    cpu.reg.a = 224;
    cpu.reg.b = 70;
    cpu.reg.c = 221;
    cpu.reg.d = 37;
    cpu.reg.e = 80;
    cpu.reg.f = 224;
    cpu.reg.h = 188;
    cpu.reg.l = 3;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[57085] = 24;
    cpu.ram[57086] = 100;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 224);
    CHECK(cpu.reg.b == 70);
    CHECK(cpu.reg.c == 221);
    CHECK(cpu.reg.d == 37);
    CHECK(cpu.reg.e == 80);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 188);
    CHECK(cpu.reg.l == 3);
    CHECK(cpu.pc == 57187);
    CHECK(cpu.sp == 16967);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[57085] == 24);
    REQUIRE(cpu.ram[57086] == 100);
}

TEST_CASE( "18 03C6", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 42283;
    cpu.sp = 56320;
    cpu.reg.a = 24;
    cpu.reg.b = 148;
    cpu.reg.c = 57;
    cpu.reg.d = 115;
    cpu.reg.e = 175;
    cpu.reg.f = 80;
    cpu.reg.h = 86;
    cpu.reg.l = 147;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[42283] = 24;
    cpu.ram[42284] = 19;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 24);
    CHECK(cpu.reg.b == 148);
    CHECK(cpu.reg.c == 57);
    CHECK(cpu.reg.d == 115);
    CHECK(cpu.reg.e == 175);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 86);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 42304);
    CHECK(cpu.sp == 56320);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[42283] == 24);
    REQUIRE(cpu.ram[42284] == 19);
}

TEST_CASE( "18 03C7", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 11386;
    cpu.sp = 55471;
    cpu.reg.a = 233;
    cpu.reg.b = 21;
    cpu.reg.c = 223;
    cpu.reg.d = 210;
    cpu.reg.e = 213;
    cpu.reg.f = 48;
    cpu.reg.h = 169;
    cpu.reg.l = 125;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[11386] = 24;
    cpu.ram[11387] = 8;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 233);
    CHECK(cpu.reg.b == 21);
    CHECK(cpu.reg.c == 223);
    CHECK(cpu.reg.d == 210);
    CHECK(cpu.reg.e == 213);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 169);
    CHECK(cpu.reg.l == 125);
    CHECK(cpu.pc == 11396);
    CHECK(cpu.sp == 55471);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[11386] == 24);
    REQUIRE(cpu.ram[11387] == 8);
}

TEST_CASE( "18 03C8", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36486;
    cpu.sp = 45989;
    cpu.reg.a = 250;
    cpu.reg.b = 249;
    cpu.reg.c = 96;
    cpu.reg.d = 121;
    cpu.reg.e = 11;
    cpu.reg.f = 48;
    cpu.reg.h = 235;
    cpu.reg.l = 132;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[36486] = 24;
    cpu.ram[36487] = 39;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 250);
    CHECK(cpu.reg.b == 249);
    CHECK(cpu.reg.c == 96);
    CHECK(cpu.reg.d == 121);
    CHECK(cpu.reg.e == 11);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 235);
    CHECK(cpu.reg.l == 132);
    CHECK(cpu.pc == 36527);
    CHECK(cpu.sp == 45989);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[36486] == 24);
    REQUIRE(cpu.ram[36487] == 39);
}

TEST_CASE( "18 03C9", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 35782;
    cpu.sp = 37768;
    cpu.reg.a = 62;
    cpu.reg.b = 80;
    cpu.reg.c = 2;
    cpu.reg.d = 30;
    cpu.reg.e = 248;
    cpu.reg.f = 176;
    cpu.reg.h = 197;
    cpu.reg.l = 10;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[35782] = 24;
    cpu.ram[35783] = 185;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 62);
    CHECK(cpu.reg.b == 80);
    CHECK(cpu.reg.c == 2);
    CHECK(cpu.reg.d == 30);
    CHECK(cpu.reg.e == 248);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 197);
    CHECK(cpu.reg.l == 10);
    CHECK(cpu.pc == 35713);
    CHECK(cpu.sp == 37768);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[35782] == 24);
    REQUIRE(cpu.ram[35783] == 185);
}

TEST_CASE( "18 03CA", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 39026;
    cpu.sp = 26746;
    cpu.reg.a = 53;
    cpu.reg.b = 191;
    cpu.reg.c = 142;
    cpu.reg.d = 77;
    cpu.reg.e = 224;
    cpu.reg.f = 112;
    cpu.reg.h = 37;
    cpu.reg.l = 172;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[39026] = 24;
    cpu.ram[39027] = 196;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 53);
    CHECK(cpu.reg.b == 191);
    CHECK(cpu.reg.c == 142);
    CHECK(cpu.reg.d == 77);
    CHECK(cpu.reg.e == 224);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 37);
    CHECK(cpu.reg.l == 172);
    CHECK(cpu.pc == 38968);
    CHECK(cpu.sp == 26746);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[39026] == 24);
    REQUIRE(cpu.ram[39027] == 196);
}

TEST_CASE( "18 03CB", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16681;
    cpu.sp = 17865;
    cpu.reg.a = 96;
    cpu.reg.b = 150;
    cpu.reg.c = 233;
    cpu.reg.d = 247;
    cpu.reg.e = 229;
    cpu.reg.f = 112;
    cpu.reg.h = 16;
    cpu.reg.l = 147;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[16681] = 24;
    cpu.ram[16682] = 249;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 96);
    CHECK(cpu.reg.b == 150);
    CHECK(cpu.reg.c == 233);
    CHECK(cpu.reg.d == 247);
    CHECK(cpu.reg.e == 229);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 16);
    CHECK(cpu.reg.l == 147);
    CHECK(cpu.pc == 16676);
    CHECK(cpu.sp == 17865);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16681] == 24);
    REQUIRE(cpu.ram[16682] == 249);
}

TEST_CASE( "18 03CC", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 61301;
    cpu.sp = 24691;
    cpu.reg.a = 253;
    cpu.reg.b = 228;
    cpu.reg.c = 221;
    cpu.reg.d = 194;
    cpu.reg.e = 229;
    cpu.reg.f = 160;
    cpu.reg.h = 109;
    cpu.reg.l = 108;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[61301] = 24;
    cpu.ram[61302] = 35;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 253);
    CHECK(cpu.reg.b == 228);
    CHECK(cpu.reg.c == 221);
    CHECK(cpu.reg.d == 194);
    CHECK(cpu.reg.e == 229);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 109);
    CHECK(cpu.reg.l == 108);
    CHECK(cpu.pc == 61338);
    CHECK(cpu.sp == 24691);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[61301] == 24);
    REQUIRE(cpu.ram[61302] == 35);
}

TEST_CASE( "18 03CD", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 17253;
    cpu.sp = 53941;
    cpu.reg.a = 191;
    cpu.reg.b = 218;
    cpu.reg.c = 172;
    cpu.reg.d = 129;
    cpu.reg.e = 245;
    cpu.reg.f = 64;
    cpu.reg.h = 87;
    cpu.reg.l = 107;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[17253] = 24;
    cpu.ram[17254] = 46;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 191);
    CHECK(cpu.reg.b == 218);
    CHECK(cpu.reg.c == 172);
    CHECK(cpu.reg.d == 129);
    CHECK(cpu.reg.e == 245);
    CHECK(cpu.reg.f == 64);
    CHECK(cpu.reg.h == 87);
    CHECK(cpu.reg.l == 107);
    CHECK(cpu.pc == 17301);
    CHECK(cpu.sp == 53941);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[17253] == 24);
    REQUIRE(cpu.ram[17254] == 46);
}

TEST_CASE( "18 03CE", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56740;
    cpu.sp = 6790;
    cpu.reg.a = 136;
    cpu.reg.b = 175;
    cpu.reg.c = 137;
    cpu.reg.d = 60;
    cpu.reg.e = 46;
    cpu.reg.f = 32;
    cpu.reg.h = 241;
    cpu.reg.l = 95;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[56740] = 24;
    cpu.ram[56741] = 211;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 136);
    CHECK(cpu.reg.b == 175);
    CHECK(cpu.reg.c == 137);
    CHECK(cpu.reg.d == 60);
    CHECK(cpu.reg.e == 46);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 95);
    CHECK(cpu.pc == 56697);
    CHECK(cpu.sp == 6790);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[56740] == 24);
    REQUIRE(cpu.ram[56741] == 211);
}

TEST_CASE( "18 03CF", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 29309;
    cpu.sp = 64569;
    cpu.reg.a = 101;
    cpu.reg.b = 147;
    cpu.reg.c = 19;
    cpu.reg.d = 177;
    cpu.reg.e = 75;
    cpu.reg.f = 48;
    cpu.reg.h = 252;
    cpu.reg.l = 160;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[29309] = 24;
    cpu.ram[29310] = 43;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 101);
    CHECK(cpu.reg.b == 147);
    CHECK(cpu.reg.c == 19);
    CHECK(cpu.reg.d == 177);
    CHECK(cpu.reg.e == 75);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 252);
    CHECK(cpu.reg.l == 160);
    CHECK(cpu.pc == 29354);
    CHECK(cpu.sp == 64569);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[29309] == 24);
    REQUIRE(cpu.ram[29310] == 43);
}

TEST_CASE( "18 03D0", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 34685;
    cpu.sp = 35926;
    cpu.reg.a = 173;
    cpu.reg.b = 155;
    cpu.reg.c = 20;
    cpu.reg.d = 2;
    cpu.reg.e = 120;
    cpu.reg.f = 192;
    cpu.reg.h = 196;
    cpu.reg.l = 127;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[34685] = 24;
    cpu.ram[34686] = 222;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 173);
    CHECK(cpu.reg.b == 155);
    CHECK(cpu.reg.c == 20);
    CHECK(cpu.reg.d == 2);
    CHECK(cpu.reg.e == 120);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 196);
    CHECK(cpu.reg.l == 127);
    CHECK(cpu.pc == 34653);
    CHECK(cpu.sp == 35926);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[34685] == 24);
    REQUIRE(cpu.ram[34686] == 222);
}

TEST_CASE( "18 03D1", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13501;
    cpu.sp = 53432;
    cpu.reg.a = 202;
    cpu.reg.b = 173;
    cpu.reg.c = 229;
    cpu.reg.d = 40;
    cpu.reg.e = 110;
    cpu.reg.f = 144;
    cpu.reg.h = 252;
    cpu.reg.l = 188;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[13501] = 24;
    cpu.ram[13502] = 12;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 202);
    CHECK(cpu.reg.b == 173);
    CHECK(cpu.reg.c == 229);
    CHECK(cpu.reg.d == 40);
    CHECK(cpu.reg.e == 110);
    CHECK(cpu.reg.f == 144);
    CHECK(cpu.reg.h == 252);
    CHECK(cpu.reg.l == 188);
    CHECK(cpu.pc == 13515);
    CHECK(cpu.sp == 53432);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[13501] == 24);
    REQUIRE(cpu.ram[13502] == 12);
}

TEST_CASE( "18 03D2", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24640;
    cpu.sp = 26329;
    cpu.reg.a = 96;
    cpu.reg.b = 201;
    cpu.reg.c = 68;
    cpu.reg.d = 149;
    cpu.reg.e = 135;
    cpu.reg.f = 0;
    cpu.reg.h = 101;
    cpu.reg.l = 75;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[24640] = 24;
    cpu.ram[24641] = 88;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 96);
    CHECK(cpu.reg.b == 201);
    CHECK(cpu.reg.c == 68);
    CHECK(cpu.reg.d == 149);
    CHECK(cpu.reg.e == 135);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 101);
    CHECK(cpu.reg.l == 75);
    CHECK(cpu.pc == 24730);
    CHECK(cpu.sp == 26329);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24640] == 24);
    REQUIRE(cpu.ram[24641] == 88);
}

TEST_CASE( "18 03D3", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 1619;
    cpu.sp = 31576;
    cpu.reg.a = 86;
    cpu.reg.b = 173;
    cpu.reg.c = 121;
    cpu.reg.d = 143;
    cpu.reg.e = 65;
    cpu.reg.f = 48;
    cpu.reg.h = 15;
    cpu.reg.l = 55;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[1619] = 24;
    cpu.ram[1620] = 211;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 86);
    CHECK(cpu.reg.b == 173);
    CHECK(cpu.reg.c == 121);
    CHECK(cpu.reg.d == 143);
    CHECK(cpu.reg.e == 65);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 15);
    CHECK(cpu.reg.l == 55);
    CHECK(cpu.pc == 1576);
    CHECK(cpu.sp == 31576);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[1619] == 24);
    REQUIRE(cpu.ram[1620] == 211);
}

TEST_CASE( "18 03D4", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 15449;
    cpu.sp = 33960;
    cpu.reg.a = 30;
    cpu.reg.b = 6;
    cpu.reg.c = 251;
    cpu.reg.d = 157;
    cpu.reg.e = 13;
    cpu.reg.f = 176;
    cpu.reg.h = 212;
    cpu.reg.l = 2;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[15449] = 24;
    cpu.ram[15450] = 66;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 30);
    CHECK(cpu.reg.b == 6);
    CHECK(cpu.reg.c == 251);
    CHECK(cpu.reg.d == 157);
    CHECK(cpu.reg.e == 13);
    CHECK(cpu.reg.f == 176);
    CHECK(cpu.reg.h == 212);
    CHECK(cpu.reg.l == 2);
    CHECK(cpu.pc == 15517);
    CHECK(cpu.sp == 33960);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[15449] == 24);
    REQUIRE(cpu.ram[15450] == 66);
}

TEST_CASE( "18 03D5", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 63588;
    cpu.sp = 23964;
    cpu.reg.a = 27;
    cpu.reg.b = 221;
    cpu.reg.c = 181;
    cpu.reg.d = 144;
    cpu.reg.e = 95;
    cpu.reg.f = 160;
    cpu.reg.h = 2;
    cpu.reg.l = 169;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[63588] = 24;
    cpu.ram[63589] = 203;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 27);
    CHECK(cpu.reg.b == 221);
    CHECK(cpu.reg.c == 181);
    CHECK(cpu.reg.d == 144);
    CHECK(cpu.reg.e == 95);
    CHECK(cpu.reg.f == 160);
    CHECK(cpu.reg.h == 2);
    CHECK(cpu.reg.l == 169);
    CHECK(cpu.pc == 63537);
    CHECK(cpu.sp == 23964);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[63588] == 24);
    REQUIRE(cpu.ram[63589] == 203);
}

TEST_CASE( "18 03D6", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 24764;
    cpu.sp = 32542;
    cpu.reg.a = 0;
    cpu.reg.b = 142;
    cpu.reg.c = 69;
    cpu.reg.d = 167;
    cpu.reg.e = 249;
    cpu.reg.f = 224;
    cpu.reg.h = 1;
    cpu.reg.l = 111;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[24764] = 24;
    cpu.ram[24765] = 14;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 0);
    CHECK(cpu.reg.b == 142);
    CHECK(cpu.reg.c == 69);
    CHECK(cpu.reg.d == 167);
    CHECK(cpu.reg.e == 249);
    CHECK(cpu.reg.f == 224);
    CHECK(cpu.reg.h == 1);
    CHECK(cpu.reg.l == 111);
    CHECK(cpu.pc == 24780);
    CHECK(cpu.sp == 32542);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[24764] == 24);
    REQUIRE(cpu.ram[24765] == 14);
}

TEST_CASE( "18 03D7", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47344;
    cpu.sp = 30499;
    cpu.reg.a = 160;
    cpu.reg.b = 17;
    cpu.reg.c = 137;
    cpu.reg.d = 133;
    cpu.reg.e = 219;
    cpu.reg.f = 0;
    cpu.reg.h = 92;
    cpu.reg.l = 183;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[47344] = 24;
    cpu.ram[47345] = 241;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 160);
    CHECK(cpu.reg.b == 17);
    CHECK(cpu.reg.c == 137);
    CHECK(cpu.reg.d == 133);
    CHECK(cpu.reg.e == 219);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 92);
    CHECK(cpu.reg.l == 183);
    CHECK(cpu.pc == 47331);
    CHECK(cpu.sp == 30499);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47344] == 24);
    REQUIRE(cpu.ram[47345] == 241);
}

TEST_CASE( "18 03D8", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 16170;
    cpu.sp = 14648;
    cpu.reg.a = 188;
    cpu.reg.b = 187;
    cpu.reg.c = 86;
    cpu.reg.d = 50;
    cpu.reg.e = 19;
    cpu.reg.f = 0;
    cpu.reg.h = 241;
    cpu.reg.l = 35;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[16170] = 24;
    cpu.ram[16171] = 52;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 188);
    CHECK(cpu.reg.b == 187);
    CHECK(cpu.reg.c == 86);
    CHECK(cpu.reg.d == 50);
    CHECK(cpu.reg.e == 19);
    CHECK(cpu.reg.f == 0);
    CHECK(cpu.reg.h == 241);
    CHECK(cpu.reg.l == 35);
    CHECK(cpu.pc == 16224);
    CHECK(cpu.sp == 14648);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[16170] == 24);
    REQUIRE(cpu.ram[16171] == 52);
}

TEST_CASE( "18 03D9", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 25748;
    cpu.sp = 45916;
    cpu.reg.a = 94;
    cpu.reg.b = 251;
    cpu.reg.c = 28;
    cpu.reg.d = 25;
    cpu.reg.e = 78;
    cpu.reg.f = 112;
    cpu.reg.h = 106;
    cpu.reg.l = 36;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[25748] = 24;
    cpu.ram[25749] = 117;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 94);
    CHECK(cpu.reg.b == 251);
    CHECK(cpu.reg.c == 28);
    CHECK(cpu.reg.d == 25);
    CHECK(cpu.reg.e == 78);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 106);
    CHECK(cpu.reg.l == 36);
    CHECK(cpu.pc == 25867);
    CHECK(cpu.sp == 45916);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[25748] == 24);
    REQUIRE(cpu.ram[25749] == 117);
}

TEST_CASE( "18 03DA", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31161;
    cpu.sp = 15537;
    cpu.reg.a = 1;
    cpu.reg.b = 54;
    cpu.reg.c = 182;
    cpu.reg.d = 200;
    cpu.reg.e = 99;
    cpu.reg.f = 112;
    cpu.reg.h = 106;
    cpu.reg.l = 93;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[31161] = 24;
    cpu.ram[31162] = 115;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 1);
    CHECK(cpu.reg.b == 54);
    CHECK(cpu.reg.c == 182);
    CHECK(cpu.reg.d == 200);
    CHECK(cpu.reg.e == 99);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 106);
    CHECK(cpu.reg.l == 93);
    CHECK(cpu.pc == 31278);
    CHECK(cpu.sp == 15537);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[31161] == 24);
    REQUIRE(cpu.ram[31162] == 115);
}

TEST_CASE( "18 03DB", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 31969;
    cpu.sp = 38537;
    cpu.reg.a = 222;
    cpu.reg.b = 122;
    cpu.reg.c = 150;
    cpu.reg.d = 84;
    cpu.reg.e = 183;
    cpu.reg.f = 192;
    cpu.reg.h = 253;
    cpu.reg.l = 163;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[31969] = 24;
    cpu.ram[31970] = 12;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 222);
    CHECK(cpu.reg.b == 122);
    CHECK(cpu.reg.c == 150);
    CHECK(cpu.reg.d == 84);
    CHECK(cpu.reg.e == 183);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 253);
    CHECK(cpu.reg.l == 163);
    CHECK(cpu.pc == 31983);
    CHECK(cpu.sp == 38537);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[31969] == 24);
    REQUIRE(cpu.ram[31970] == 12);
}

TEST_CASE( "18 03DC", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 56829;
    cpu.sp = 1205;
    cpu.reg.a = 254;
    cpu.reg.b = 94;
    cpu.reg.c = 71;
    cpu.reg.d = 158;
    cpu.reg.e = 245;
    cpu.reg.f = 80;
    cpu.reg.h = 147;
    cpu.reg.l = 141;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[56829] = 24;
    cpu.ram[56830] = 111;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 254);
    CHECK(cpu.reg.b == 94);
    CHECK(cpu.reg.c == 71);
    CHECK(cpu.reg.d == 158);
    CHECK(cpu.reg.e == 245);
    CHECK(cpu.reg.f == 80);
    CHECK(cpu.reg.h == 147);
    CHECK(cpu.reg.l == 141);
    CHECK(cpu.pc == 56942);
    CHECK(cpu.sp == 1205);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[56829] == 24);
    REQUIRE(cpu.ram[56830] == 111);
}

TEST_CASE( "18 03DD", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 23125;
    cpu.sp = 38721;
    cpu.reg.a = 132;
    cpu.reg.b = 176;
    cpu.reg.c = 33;
    cpu.reg.d = 120;
    cpu.reg.e = 62;
    cpu.reg.f = 128;
    cpu.reg.h = 39;
    cpu.reg.l = 85;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[23125] = 24;
    cpu.ram[23126] = 133;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 132);
    CHECK(cpu.reg.b == 176);
    CHECK(cpu.reg.c == 33);
    CHECK(cpu.reg.d == 120);
    CHECK(cpu.reg.e == 62);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 39);
    CHECK(cpu.reg.l == 85);
    CHECK(cpu.pc == 23004);
    CHECK(cpu.sp == 38721);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[23125] == 24);
    REQUIRE(cpu.ram[23126] == 133);
}

TEST_CASE( "18 03DE", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 13875;
    cpu.sp = 58525;
    cpu.reg.a = 120;
    cpu.reg.b = 87;
    cpu.reg.c = 104;
    cpu.reg.d = 187;
    cpu.reg.e = 146;
    cpu.reg.f = 32;
    cpu.reg.h = 71;
    cpu.reg.l = 48;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[13875] = 24;
    cpu.ram[13876] = 72;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 120);
    CHECK(cpu.reg.b == 87);
    CHECK(cpu.reg.c == 104);
    CHECK(cpu.reg.d == 187);
    CHECK(cpu.reg.e == 146);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 71);
    CHECK(cpu.reg.l == 48);
    CHECK(cpu.pc == 13949);
    CHECK(cpu.sp == 58525);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[13875] == 24);
    REQUIRE(cpu.ram[13876] == 72);
}

TEST_CASE( "18 03DF", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49369;
    cpu.sp = 41603;
    cpu.reg.a = 180;
    cpu.reg.b = 52;
    cpu.reg.c = 36;
    cpu.reg.d = 31;
    cpu.reg.e = 143;
    cpu.reg.f = 128;
    cpu.reg.h = 131;
    cpu.reg.l = 23;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[49369] = 24;
    cpu.ram[49370] = 168;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 180);
    CHECK(cpu.reg.b == 52);
    CHECK(cpu.reg.c == 36);
    CHECK(cpu.reg.d == 31);
    CHECK(cpu.reg.e == 143);
    CHECK(cpu.reg.f == 128);
    CHECK(cpu.reg.h == 131);
    CHECK(cpu.reg.l == 23);
    CHECK(cpu.pc == 49283);
    CHECK(cpu.sp == 41603);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49369] == 24);
    REQUIRE(cpu.ram[49370] == 168);
}

TEST_CASE( "18 03E0", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 8358;
    cpu.sp = 789;
    cpu.reg.a = 127;
    cpu.reg.b = 197;
    cpu.reg.c = 100;
    cpu.reg.d = 178;
    cpu.reg.e = 119;
    cpu.reg.f = 32;
    cpu.reg.h = 72;
    cpu.reg.l = 42;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[8358] = 24;
    cpu.ram[8359] = 113;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 127);
    CHECK(cpu.reg.b == 197);
    CHECK(cpu.reg.c == 100);
    CHECK(cpu.reg.d == 178);
    CHECK(cpu.reg.e == 119);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 72);
    CHECK(cpu.reg.l == 42);
    CHECK(cpu.pc == 8473);
    CHECK(cpu.sp == 789);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[8358] == 24);
    REQUIRE(cpu.ram[8359] == 113);
}

TEST_CASE( "18 03E1", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 44931;
    cpu.sp = 7097;
    cpu.reg.a = 102;
    cpu.reg.b = 82;
    cpu.reg.c = 137;
    cpu.reg.d = 137;
    cpu.reg.e = 7;
    cpu.reg.f = 32;
    cpu.reg.h = 31;
    cpu.reg.l = 180;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[44931] = 24;
    cpu.ram[44932] = 249;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 102);
    CHECK(cpu.reg.b == 82);
    CHECK(cpu.reg.c == 137);
    CHECK(cpu.reg.d == 137);
    CHECK(cpu.reg.e == 7);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 31);
    CHECK(cpu.reg.l == 180);
    CHECK(cpu.pc == 44926);
    CHECK(cpu.sp == 7097);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[44931] == 24);
    REQUIRE(cpu.ram[44932] == 249);
}

TEST_CASE( "18 03E2", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 36602;
    cpu.sp = 23996;
    cpu.reg.a = 90;
    cpu.reg.b = 193;
    cpu.reg.c = 241;
    cpu.reg.d = 177;
    cpu.reg.e = 149;
    cpu.reg.f = 192;
    cpu.reg.h = 228;
    cpu.reg.l = 224;
    cpu.ime = 1;
    // cpu.ie = 0;
    cpu.ram[36602] = 24;
    cpu.ram[36603] = 126;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 90);
    CHECK(cpu.reg.b == 193);
    CHECK(cpu.reg.c == 241);
    CHECK(cpu.reg.d == 177);
    CHECK(cpu.reg.e == 149);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 228);
    CHECK(cpu.reg.l == 224);
    CHECK(cpu.pc == 36730);
    CHECK(cpu.sp == 23996);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[36602] == 24);
    REQUIRE(cpu.ram[36603] == 126);
}

TEST_CASE( "18 03E3", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 37577;
    cpu.sp = 55035;
    cpu.reg.a = 0;
    cpu.reg.b = 42;
    cpu.reg.c = 209;
    cpu.reg.d = 135;
    cpu.reg.e = 104;
    cpu.reg.f = 48;
    cpu.reg.h = 161;
    cpu.reg.l = 24;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[37577] = 24;
    cpu.ram[37578] = 46;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 0);
    CHECK(cpu.reg.b == 42);
    CHECK(cpu.reg.c == 209);
    CHECK(cpu.reg.d == 135);
    CHECK(cpu.reg.e == 104);
    CHECK(cpu.reg.f == 48);
    CHECK(cpu.reg.h == 161);
    CHECK(cpu.reg.l == 24);
    CHECK(cpu.pc == 37625);
    CHECK(cpu.sp == 55035);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[37577] == 24);
    REQUIRE(cpu.ram[37578] == 46);
}

TEST_CASE( "18 03E4", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 22473;
    cpu.sp = 59368;
    cpu.reg.a = 99;
    cpu.reg.b = 69;
    cpu.reg.c = 133;
    cpu.reg.d = 131;
    cpu.reg.e = 216;
    cpu.reg.f = 240;
    cpu.reg.h = 108;
    cpu.reg.l = 228;
    cpu.ime = 0;
    // cpu.ie = 0;
    cpu.ram[22473] = 24;
    cpu.ram[22474] = 231;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 99);
    CHECK(cpu.reg.b == 69);
    CHECK(cpu.reg.c == 133);
    CHECK(cpu.reg.d == 131);
    CHECK(cpu.reg.e == 216);
    CHECK(cpu.reg.f == 240);
    CHECK(cpu.reg.h == 108);
    CHECK(cpu.reg.l == 228);
    CHECK(cpu.pc == 22450);
    CHECK(cpu.sp == 59368);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[22473] == 24);
    REQUIRE(cpu.ram[22474] == 231);
}

TEST_CASE( "18 03E5", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 47772;
    cpu.sp = 41954;
    cpu.reg.a = 93;
    cpu.reg.b = 44;
    cpu.reg.c = 121;
    cpu.reg.d = 225;
    cpu.reg.e = 92;
    cpu.reg.f = 32;
    cpu.reg.h = 198;
    cpu.reg.l = 27;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[47772] = 24;
    cpu.ram[47773] = 166;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 93);
    CHECK(cpu.reg.b == 44);
    CHECK(cpu.reg.c == 121);
    CHECK(cpu.reg.d == 225);
    CHECK(cpu.reg.e == 92);
    CHECK(cpu.reg.f == 32);
    CHECK(cpu.reg.h == 198);
    CHECK(cpu.reg.l == 27);
    CHECK(cpu.pc == 47684);
    CHECK(cpu.sp == 41954);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[47772] == 24);
    REQUIRE(cpu.ram[47773] == 166);
}

TEST_CASE( "18 03E6", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 49544;
    cpu.sp = 41782;
    cpu.reg.a = 24;
    cpu.reg.b = 170;
    cpu.reg.c = 55;
    cpu.reg.d = 82;
    cpu.reg.e = 47;
    cpu.reg.f = 192;
    cpu.reg.h = 134;
    cpu.reg.l = 127;
    cpu.ime = 0;
    // cpu.ie = 1;
    cpu.ram[49544] = 24;
    cpu.ram[49545] = 15;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 24);
    CHECK(cpu.reg.b == 170);
    CHECK(cpu.reg.c == 55);
    CHECK(cpu.reg.d == 82);
    CHECK(cpu.reg.e == 47);
    CHECK(cpu.reg.f == 192);
    CHECK(cpu.reg.h == 134);
    CHECK(cpu.reg.l == 127);
    CHECK(cpu.pc == 49561);
    CHECK(cpu.sp == 41782);
    CHECK(cpu.ime == 0);
    REQUIRE(cpu.ram[49544] == 24);
    REQUIRE(cpu.ram[49545] == 15);
}

TEST_CASE( "18 03E7", "18" ) {
    // Setup
    Cpu cpu;
    cpu.pc = 40059;
    cpu.sp = 22741;
    cpu.reg.a = 186;
    cpu.reg.b = 115;
    cpu.reg.c = 81;
    cpu.reg.d = 97;
    cpu.reg.e = 184;
    cpu.reg.f = 112;
    cpu.reg.h = 25;
    cpu.reg.l = 50;
    cpu.ime = 1;
    // cpu.ie = 1;
    cpu.ram[40059] = 24;
    cpu.ram[40060] = 51;

    // Act
    cpu.Step();

    // Assert
    CHECK(cpu.reg.a == 186);
    CHECK(cpu.reg.b == 115);
    CHECK(cpu.reg.c == 81);
    CHECK(cpu.reg.d == 97);
    CHECK(cpu.reg.e == 184);
    CHECK(cpu.reg.f == 112);
    CHECK(cpu.reg.h == 25);
    CHECK(cpu.reg.l == 50);
    CHECK(cpu.pc == 40112);
    CHECK(cpu.sp == 22741);
    CHECK(cpu.ime == 1);
    REQUIRE(cpu.ram[40059] == 24);
    REQUIRE(cpu.ram[40060] == 51);
}
